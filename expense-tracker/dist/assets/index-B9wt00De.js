function KC(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function Vw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ug={exports:{}},rc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function QC(){if(dE)return rc;dE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return rc.Fragment=e,rc.jsx=t,rc.jsxs=t,rc}var fE;function WC(){return fE||(fE=1,ug.exports=QC()),ug.exports}var p=WC(),cg={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function XC(){if(hE)return qe;hE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function E(z){return z===null||typeof z!="object"?null:(z=b&&z[b]||z["@@iterator"],typeof z=="function"?z:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,A={};function N(z,ie,he){this.props=z,this.context=ie,this.refs=A,this.updater=he||C}N.prototype.isReactComponent={},N.prototype.setState=function(z,ie){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ie,"setState")},N.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function V(){}V.prototype=N.prototype;function U(z,ie,he){this.props=z,this.context=ie,this.refs=A,this.updater=he||C}var B=U.prototype=new V;B.constructor=U,R(B,N.prototype),B.isPureReactComponent=!0;var G=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},ne=Object.prototype.hasOwnProperty;function k(z,ie,he,oe,pe,Ae){return he=Ae.ref,{$$typeof:n,type:z,key:ie,ref:he!==void 0?he:null,props:Ae}}function S(z,ie){return k(z.type,ie,void 0,void 0,void 0,z.props)}function M(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function L(z){var ie={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(he){return ie[he]})}var D=/\/+/g;function P(z,ie){return typeof z=="object"&&z!==null&&z.key!=null?L(""+z.key):ie.toString(36)}function j(){}function q(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(j,j):(z.status="pending",z.then(function(ie){z.status==="pending"&&(z.status="fulfilled",z.value=ie)},function(ie){z.status==="pending"&&(z.status="rejected",z.reason=ie)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function ee(z,ie,he,oe,pe){var Ae=typeof z;(Ae==="undefined"||Ae==="boolean")&&(z=null);var Ee=!1;if(z===null)Ee=!0;else switch(Ae){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(z.$$typeof){case n:case e:Ee=!0;break;case v:return Ee=z._init,ee(Ee(z._payload),ie,he,oe,pe)}}if(Ee)return pe=pe(z),Ee=oe===""?"."+P(z,0):oe,G(pe)?(he="",Ee!=null&&(he=Ee.replace(D,"$&/")+"/"),ee(pe,ie,he,"",function(He){return He})):pe!=null&&(M(pe)&&(pe=S(pe,he+(pe.key==null||z&&z.key===pe.key?"":(""+pe.key).replace(D,"$&/")+"/")+Ee)),ie.push(pe)),1;Ee=0;var ge=oe===""?".":oe+":";if(G(z))for(var Se=0;Se<z.length;Se++)oe=z[Se],Ae=ge+P(oe,Se),Ee+=ee(oe,ie,he,Ae,pe);else if(Se=E(z),typeof Se=="function")for(z=Se.call(z),Se=0;!(oe=z.next()).done;)oe=oe.value,Ae=ge+P(oe,Se++),Ee+=ee(oe,ie,he,Ae,pe);else if(Ae==="object"){if(typeof z.then=="function")return ee(q(z),ie,he,oe,pe);throw ie=String(z),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function F(z,ie,he){if(z==null)return z;var oe=[],pe=0;return ee(z,oe,"","",function(Ae){return ie.call(he,Ae,pe++)}),oe}function Q(z){if(z._status===-1){var ie=z._result;ie=ie(),ie.then(function(he){(z._status===0||z._status===-1)&&(z._status=1,z._result=he)},function(he){(z._status===0||z._status===-1)&&(z._status=2,z._result=he)}),z._status===-1&&(z._status=0,z._result=ie)}if(z._status===1)return z._result.default;throw z._result}var Y=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function me(){}return qe.Children={map:F,forEach:function(z,ie,he){F(z,function(){ie.apply(this,arguments)},he)},count:function(z){var ie=0;return F(z,function(){ie++}),ie},toArray:function(z){return F(z,function(ie){return ie})||[]},only:function(z){if(!M(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},qe.Component=N,qe.Fragment=t,qe.Profiler=a,qe.PureComponent=U,qe.StrictMode=i,qe.Suspense=m,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,qe.__COMPILER_RUNTIME={__proto__:null,c:function(z){return $.H.useMemoCache(z)}},qe.cache=function(z){return function(){return z.apply(null,arguments)}},qe.cloneElement=function(z,ie,he){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var oe=R({},z.props),pe=z.key,Ae=void 0;if(ie!=null)for(Ee in ie.ref!==void 0&&(Ae=void 0),ie.key!==void 0&&(pe=""+ie.key),ie)!ne.call(ie,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&ie.ref===void 0||(oe[Ee]=ie[Ee]);var Ee=arguments.length-2;if(Ee===1)oe.children=he;else if(1<Ee){for(var ge=Array(Ee),Se=0;Se<Ee;Se++)ge[Se]=arguments[Se+2];oe.children=ge}return k(z.type,pe,void 0,void 0,Ae,oe)},qe.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},qe.createElement=function(z,ie,he){var oe,pe={},Ae=null;if(ie!=null)for(oe in ie.key!==void 0&&(Ae=""+ie.key),ie)ne.call(ie,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(pe[oe]=ie[oe]);var Ee=arguments.length-2;if(Ee===1)pe.children=he;else if(1<Ee){for(var ge=Array(Ee),Se=0;Se<Ee;Se++)ge[Se]=arguments[Se+2];pe.children=ge}if(z&&z.defaultProps)for(oe in Ee=z.defaultProps,Ee)pe[oe]===void 0&&(pe[oe]=Ee[oe]);return k(z,Ae,void 0,void 0,null,pe)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(z){return{$$typeof:f,render:z}},qe.isValidElement=M,qe.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:Q}},qe.memo=function(z,ie){return{$$typeof:g,type:z,compare:ie===void 0?null:ie}},qe.startTransition=function(z){var ie=$.T,he={};$.T=he;try{var oe=z(),pe=$.S;pe!==null&&pe(he,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(me,Y)}catch(Ae){Y(Ae)}finally{$.T=ie}},qe.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},qe.use=function(z){return $.H.use(z)},qe.useActionState=function(z,ie,he){return $.H.useActionState(z,ie,he)},qe.useCallback=function(z,ie){return $.H.useCallback(z,ie)},qe.useContext=function(z){return $.H.useContext(z)},qe.useDebugValue=function(){},qe.useDeferredValue=function(z,ie){return $.H.useDeferredValue(z,ie)},qe.useEffect=function(z,ie,he){var oe=$.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(z,ie)},qe.useId=function(){return $.H.useId()},qe.useImperativeHandle=function(z,ie,he){return $.H.useImperativeHandle(z,ie,he)},qe.useInsertionEffect=function(z,ie){return $.H.useInsertionEffect(z,ie)},qe.useLayoutEffect=function(z,ie){return $.H.useLayoutEffect(z,ie)},qe.useMemo=function(z,ie){return $.H.useMemo(z,ie)},qe.useOptimistic=function(z,ie){return $.H.useOptimistic(z,ie)},qe.useReducer=function(z,ie,he){return $.H.useReducer(z,ie,he)},qe.useRef=function(z){return $.H.useRef(z)},qe.useState=function(z){return $.H.useState(z)},qe.useSyncExternalStore=function(z,ie,he){return $.H.useSyncExternalStore(z,ie,he)},qe.useTransition=function(){return $.H.useTransition()},qe.version="19.1.0",qe}var mE;function ky(){return mE||(mE=1,cg.exports=XC()),cg.exports}var w=ky();const Fs=Vw(w),Lw=KC({__proto__:null,default:Fs},[w]);var dg={exports:{}},ic={},fg={exports:{}},hg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE;function ZC(){return pE||(pE=1,function(n){function e(F,Q){var Y=F.length;F.push(Q);e:for(;0<Y;){var me=Y-1>>>1,z=F[me];if(0<a(z,Q))F[me]=Q,F[Y]=z,Y=me;else break e}}function t(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var Q=F[0],Y=F.pop();if(Y!==Q){F[0]=Y;e:for(var me=0,z=F.length,ie=z>>>1;me<ie;){var he=2*(me+1)-1,oe=F[he],pe=he+1,Ae=F[pe];if(0>a(oe,Y))pe<z&&0>a(Ae,oe)?(F[me]=Ae,F[pe]=Y,me=pe):(F[me]=oe,F[he]=Y,me=he);else if(pe<z&&0>a(Ae,Y))F[me]=Ae,F[pe]=Y,me=pe;else break e}}return Q}function a(F,Q){var Y=F.sortIndex-Q.sortIndex;return Y!==0?Y:F.id-Q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var m=[],g=[],v=1,b=null,E=3,C=!1,R=!1,A=!1,N=!1,V=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function G(F){for(var Q=t(g);Q!==null;){if(Q.callback===null)i(g);else if(Q.startTime<=F)i(g),Q.sortIndex=Q.expirationTime,e(m,Q);else break;Q=t(g)}}function $(F){if(A=!1,G(F),!R)if(t(m)!==null)R=!0,ne||(ne=!0,P());else{var Q=t(g);Q!==null&&ee($,Q.startTime-F)}}var ne=!1,k=-1,S=5,M=-1;function L(){return N?!0:!(n.unstable_now()-M<S)}function D(){if(N=!1,ne){var F=n.unstable_now();M=F;var Q=!0;try{e:{R=!1,A&&(A=!1,U(k),k=-1),C=!0;var Y=E;try{t:{for(G(F),b=t(m);b!==null&&!(b.expirationTime>F&&L());){var me=b.callback;if(typeof me=="function"){b.callback=null,E=b.priorityLevel;var z=me(b.expirationTime<=F);if(F=n.unstable_now(),typeof z=="function"){b.callback=z,G(F),Q=!0;break t}b===t(m)&&i(m),G(F)}else i(m);b=t(m)}if(b!==null)Q=!0;else{var ie=t(g);ie!==null&&ee($,ie.startTime-F),Q=!1}}break e}finally{b=null,E=Y,C=!1}Q=void 0}}finally{Q?P():ne=!1}}}var P;if(typeof B=="function")P=function(){B(D)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,q=j.port2;j.port1.onmessage=D,P=function(){q.postMessage(null)}}else P=function(){V(D,0)};function ee(F,Q){k=V(function(){F(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(F){switch(E){case 1:case 2:case 3:var Q=3;break;default:Q=E}var Y=E;E=Q;try{return F()}finally{E=Y}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(F,Q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Y=E;E=F;try{return Q()}finally{E=Y}},n.unstable_scheduleCallback=function(F,Q,Y){var me=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?me+Y:me):Y=me,F){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=Y+z,F={id:v++,callback:Q,priorityLevel:F,startTime:Y,expirationTime:z,sortIndex:-1},Y>me?(F.sortIndex=Y,e(g,F),t(m)===null&&F===t(g)&&(A?(U(k),k=-1):A=!0,ee($,Y-me))):(F.sortIndex=z,e(m,F),R||C||(R=!0,ne||(ne=!0,P()))),F},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(F){var Q=E;return function(){var Y=E;E=Q;try{return F.apply(this,arguments)}finally{E=Y}}}}(hg)),hg}var gE;function JC(){return gE||(gE=1,fg.exports=ZC()),fg.exports}var mg={exports:{}},Sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function eR(){if(yE)return Sn;yE=1;var n=ky();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Sn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},Sn.flushSync=function(m){var g=c.T,v=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=g,i.p=v,i.d.f()}},Sn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},Sn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Sn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,b=f(v,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:C}):v==="script"&&i.d.X(m,{crossOrigin:b,integrity:E,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Sn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=f(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},Sn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=f(v,g.crossOrigin);i.d.L(m,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Sn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=f(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},Sn.requestFormReset=function(m){i.d.r(m)},Sn.unstable_batchedUpdates=function(m,g){return m(g)},Sn.useFormState=function(m,g,v){return c.H.useFormState(m,g,v)},Sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Sn.version="19.1.0",Sn}var vE;function Uw(){if(vE)return mg.exports;vE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),mg.exports=eR(),mg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E;function tR(){if(_E)return ic;_E=1;var n=JC(),e=ky(),t=Uw();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(l(r)!==r)throw Error(i(188))}function m(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var h=o.return;if(h===null)break;var y=h.alternate;if(y===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===y.child){for(y=h.child;y;){if(y===o)return f(h),r;if(y===u)return f(h),s;y=y.sibling}throw Error(i(188))}if(o.return!==u.return)o=h,u=y;else{for(var T=!1,I=h.child;I;){if(I===o){T=!0,o=h,u=y;break}if(I===u){T=!0,u=h,o=y;break}I=I.sibling}if(!T){for(I=y.child;I;){if(I===o){T=!0,o=y,u=h;break}if(I===u){T=!0,u=y,o=h;break}I=I.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),B=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function P(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}var j=Symbol.for("react.client.reference");function q(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===j?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case N:return"Profiler";case A:return"StrictMode";case $:return"Suspense";case ne:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case B:return(r.displayName||"Context")+".Provider";case U:return(r._context.displayName||"Context")+".Consumer";case G:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case k:return s=r.displayName||null,s!==null?s:q(r.type)||"Memo";case S:s=r._payload,r=r._init;try{return q(r(s))}catch{}}return null}var ee=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},me=[],z=-1;function ie(r){return{current:r}}function he(r){0>z||(r.current=me[z],me[z]=null,z--)}function oe(r,s){z++,me[z]=r.current,r.current=s}var pe=ie(null),Ae=ie(null),Ee=ie(null),ge=ie(null);function Se(r,s){switch(oe(Ee,s),oe(Ae,r),oe(pe,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?Ub(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=Ub(s),r=Bb(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}he(pe),oe(pe,r)}function He(){he(pe),he(Ae),he(Ee)}function Ne(r){r.memoizedState!==null&&oe(ge,r);var s=pe.current,o=Bb(s,r.type);s!==o&&(oe(Ae,r),oe(pe,o))}function De(r){Ae.current===r&&(he(pe),he(Ae)),ge.current===r&&(he(ge),Zu._currentValue=Y)}var Ve=Object.prototype.hasOwnProperty,se=n.unstable_scheduleCallback,ve=n.unstable_cancelCallback,ke=n.unstable_shouldYield,Ue=n.unstable_requestPaint,We=n.unstable_now,Bn=n.unstable_getCurrentPriorityLevel,Mn=n.unstable_ImmediatePriority,Ft=n.unstable_UserBlockingPriority,xr=n.unstable_NormalPriority,Xl=n.unstable_LowPriority,cs=n.unstable_IdlePriority,zn=n.log,Zc=n.unstable_setDisableYieldValue,kt=null,ct=null;function Qn(r){if(typeof zn=="function"&&Zc(r),ct&&typeof ct.setStrictMode=="function")try{ct.setStrictMode(kt,r)}catch{}}var wn=Math.clz32?Math.clz32:pa,Jc=Math.log,dm=Math.LN2;function pa(r){return r>>>=0,r===0?32:31-(Jc(r)/dm|0)|0}var ga=256,ya=4194304;function wr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function co(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var h=0,y=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var I=u&134217727;return I!==0?(u=I&~y,u!==0?h=wr(u):(T&=I,T!==0?h=wr(T):o||(o=I&~r,o!==0&&(h=wr(o))))):(I=u&~y,I!==0?h=wr(I):T!==0?h=wr(T):o||(o=u&~r,o!==0&&(h=wr(o)))),h===0?0:s!==0&&s!==h&&(s&y)===0&&(y=h&-h,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:h}function va(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Zl(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jl(){var r=ga;return ga<<=1,(ga&4194048)===0&&(ga=256),r}function eu(){var r=ya;return ya<<=1,(ya&62914560)===0&&(ya=4194304),r}function mi(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function pi(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function tu(r,s,o,u,h,y){var T=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var I=r.entanglements,H=r.expirationTimes,J=r.hiddenUpdates;for(o=T&~o;0<o;){var le=31-wn(o),de=1<<le;I[le]=0,H[le]=-1;var te=J[le];if(te!==null)for(J[le]=null,le=0;le<te.length;le++){var re=te[le];re!==null&&(re.lane&=-536870913)}o&=~de}u!==0&&Ur(r,u,0),y!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=y&~(T&~s))}function Ur(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-wn(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function nu(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-wn(o),h=1<<u;h&s|r[u]&s&&(r[u]|=s),o&=~h}}function ds(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function fo(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function fs(){var r=Q.p;return r!==0?r:(r=window.event,r===void 0?32:sE(r.type))}function ed(r,s){var o=Q.p;try{return Q.p=r,s()}finally{Q.p=o}}var Ct=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Ct,Ht="__reactProps$"+Ct,lr="__reactContainer$"+Ct,ru="__reactEvents$"+Ct,fm="__reactListeners$"+Ct,hs="__reactHandles$"+Ct,td="__reactResources$"+Ct,_a="__reactMarker$"+Ct;function ms(r){delete r[Zt],delete r[Ht],delete r[ru],delete r[fm],delete r[hs]}function gi(r){var s=r[Zt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[lr]||o[Zt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=qb(r);r!==null;){if(o=r[Zt])return o;r=qb(r)}return s}r=o,o=r.parentNode}return null}function Br(r){if(r=r[Zt]||r[lr]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function zr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function jn(r){var s=r[td];return s||(s=r[td]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Vt(r){r[_a]=!0}var iu=new Set,ho={};function Tr(r,s){yi(r,s),yi(r+"Capture",s)}function yi(r,s){for(ho[r]=s,r=0;r<s.length;r++)iu.add(s[r])}var nd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rd={},ba={};function id(r){return Ve.call(ba,r)?!0:Ve.call(rd,r)?!1:nd.test(r)?ba[r]=!0:(rd[r]=!0,!1)}function ps(r,s,o){if(id(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Fr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function mn(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var Ea,sd;function vi(r){if(Ea===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ea=s&&s[1]||"",sd=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ea+r+sd}var mo=!1;function po(r,s){if(!r||mo)return"";mo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(re){var te=re}Reflect.construct(r,[],de)}else{try{de.call()}catch(re){te=re}r.call(de.prototype)}}else{try{throw Error()}catch(re){te=re}(de=r())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(re){if(re&&te&&typeof re.stack=="string")return[re.stack,te.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),T=y[0],I=y[1];if(T&&I){var H=T.split(`
`),J=I.split(`
`);for(h=u=0;u<H.length&&!H[u].includes("DetermineComponentFrameRoot");)u++;for(;h<J.length&&!J[h].includes("DetermineComponentFrameRoot");)h++;if(u===H.length||h===J.length)for(u=H.length-1,h=J.length-1;1<=u&&0<=h&&H[u]!==J[h];)h--;for(;1<=u&&0<=h;u--,h--)if(H[u]!==J[h]){if(u!==1||h!==1)do if(u--,h--,0>h||H[u]!==J[h]){var le=`
`+H[u].replace(" at new "," at ");return r.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",r.displayName)),le}while(1<=u&&0<=h);break}}}finally{mo=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?vi(o):""}function su(r){switch(r.tag){case 26:case 27:case 5:return vi(r.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return po(r.type,!1);case 11:return po(r.type.render,!1);case 1:return po(r.type,!0);case 31:return vi("Activity");default:return""}}function go(r){try{var s="";do s+=su(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Pn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function au(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function hm(r){var s=au(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,y=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(T){u=""+T,y.call(this,T)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function yo(r){r._valueTracker||(r._valueTracker=hm(r))}function ou(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=au(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function xa(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var mm=/[\n"\\]/g;function qt(r){return r.replace(mm,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Wn(r,s,o,u,h,y,T,I){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Pn(s)):r.value!==""+Pn(s)&&(r.value=""+Pn(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?gs(r,T,Pn(s)):o!=null?gs(r,T,Pn(o)):u!=null&&r.removeAttribute("value"),h==null&&y!=null&&(r.defaultChecked=!!y),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.name=""+Pn(I):r.removeAttribute("name")}function wa(r,s,o,u,h,y,T,I){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;o=o!=null?""+Pn(o):"",s=s!=null?""+Pn(s):o,I||s===r.value||(r.value=s),r.defaultValue=s}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=I?r.checked:!!u,r.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function gs(r,s,o){s==="number"&&xa(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function _i(r,s,o,u){if(r=r.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=s.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&u&&(r[o].defaultSelected=!0)}else{for(o=""+Pn(o),s=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function ht(r,s,o){if(s!=null&&(s=""+Pn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Pn(o):""}function Ta(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(ee(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Pn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function ur(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Sa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ad(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||Sa.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function lu(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in s)u=s[h],s.hasOwnProperty(h)&&o[h]!==u&&ad(r,h,u)}else for(var y in s)s.hasOwnProperty(y)&&ad(r,y,s[y])}function uu(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vo(r){return gm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var bi=null;function cr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ei=null,xi=null;function cu(r){var s=Br(r);if(s&&(r=s.stateNode)){var o=r[Ht]||null;e:switch(r=s.stateNode,s.type){case"input":if(Wn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+qt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var h=u[Ht]||null;if(!h)throw Error(i(90));Wn(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&ou(u)}break e;case"textarea":ht(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&_i(r,!!o.multiple,s,!1)}}}var Hr=!1;function od(r,s,o){if(Hr)return r(s,o);Hr=!0;try{var u=r(s);return u}finally{if(Hr=!1,(Ei!==null||xi!==null)&&(ef(),Ei&&(s=Ei,r=xi,xi=Ei=null,cu(s),r)))for(s=0;s<r.length;s++)cu(r[s])}}function Aa(r,s){var o=r.stateNode;if(o===null)return null;var u=o[Ht]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dr=!1;if(Sr)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){dr=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{dr=!1}var qr=null,ys=null,wi=null;function du(){if(wi)return wi;var r,s=ys,o=s.length,u,h="value"in qr?qr.value:qr.textContent,y=h.length;for(r=0;r<o&&s[r]===h[r];r++);var T=o-r;for(u=1;u<=T&&s[o-u]===h[y-u];u++);return wi=h.slice(r,1<u?1-u:void 0)}function Gr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function $r(){return!0}function fu(){return!1}function ln(r){function s(o,u,h,y,T){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(o=r[I],this[I]=o?o(y):y[I]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?$r:fu,this.isPropagationStopped=fu,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=$r)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=$r)},persist:function(){},isPersistent:$r}),s}var lt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_o=ln(lt),Ra=v({},lt,{view:0,detail:0}),ld=ln(Ra),bo,Eo,Yr,Ia=v({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ka,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Yr&&(Yr&&r.type==="mousemove"?(bo=r.screenX-Yr.screenX,Eo=r.screenY-Yr.screenY):Eo=bo=0,Yr=r),bo)},movementY:function(r){return"movementY"in r?r.movementY:Eo}}),fr=ln(Ia),ud=v({},Ia,{dataTransfer:0}),ym=ln(ud),Na=v({},Ra,{relatedTarget:0}),xo=ln(Na),hu=v({},lt,{animationName:0,elapsedTime:0,pseudoElement:0}),wo=ln(hu),cd=v({},lt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),To=ln(cd),vm=v({},lt,{data:0}),mu=ln(vm),Da={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=fd[r])?!!s[r]:!1}function ka(){return pu}var hd=v({},Ra,{key:function(r){if(r.key){var s=Da[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Gr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?dd[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ka,charCode:function(r){return r.type==="keypress"?Gr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Gr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),So=ln(hd),md=v({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gu=ln(md),Ti=v({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ka}),pd=ln(Ti),gd=v({},lt,{propertyName:0,elapsedTime:0,pseudoElement:0}),yd=ln(gd),vd=v({},Ia,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ao=ln(vd),Vn=v({},lt,{newState:0,oldState:0}),_d=ln(Vn),bd=[9,13,27,32],Kr=Sr&&"CompositionEvent"in window,d=null;Sr&&"documentMode"in document&&(d=document.documentMode);var _=Sr&&"TextEvent"in window&&!d,x=Sr&&(!Kr||d&&8<d&&11>=d),O=" ",X=!1;function ae(r,s){switch(r){case"keyup":return bd.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ye(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var nt=!1;function Jt(r,s){switch(r){case"compositionend":return ye(s);case"keypress":return s.which!==32?null:(X=!0,O);case"textInput":return r=s.data,r===O&&X?null:r;default:return null}}function rt(r,s){if(nt)return r==="compositionend"||!Kr&&ae(r,s)?(r=du(),wi=ys=qr=null,nt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return x&&s.locale!=="ko"?null:s.data;default:return null}}var un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function en(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!un[r.type]:s==="textarea"}function Si(r,s,o,u){Ei?xi?xi.push(u):xi=[u]:Ei=u,s=of(s,"onChange"),0<s.length&&(o=new _o("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var pn=null,Qr=null;function yu(r){Mb(r,0)}function Ed(r){var s=zr(r);if(ou(s))return r}function t0(r,s){if(r==="change")return s}var n0=!1;if(Sr){var _m;if(Sr){var bm="oninput"in document;if(!bm){var r0=document.createElement("div");r0.setAttribute("oninput","return;"),bm=typeof r0.oninput=="function"}_m=bm}else _m=!1;n0=_m&&(!document.documentMode||9<document.documentMode)}function i0(){pn&&(pn.detachEvent("onpropertychange",s0),Qr=pn=null)}function s0(r){if(r.propertyName==="value"&&Ed(Qr)){var s=[];Si(s,Qr,r,cr(r)),od(yu,s)}}function T2(r,s,o){r==="focusin"?(i0(),pn=s,Qr=o,pn.attachEvent("onpropertychange",s0)):r==="focusout"&&i0()}function S2(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ed(Qr)}function A2(r,s){if(r==="click")return Ed(s)}function C2(r,s){if(r==="input"||r==="change")return Ed(s)}function R2(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Xn=typeof Object.is=="function"?Object.is:R2;function vu(r,s){if(Xn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!Ve.call(s,h)||!Xn(r[h],s[h]))return!1}return!0}function a0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function o0(r,s){var o=a0(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=a0(o)}}function l0(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?l0(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function u0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=xa(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=xa(r.document)}return s}function Em(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var I2=Sr&&"documentMode"in document&&11>=document.documentMode,Co=null,xm=null,_u=null,wm=!1;function c0(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;wm||Co==null||Co!==xa(u)||(u=Co,"selectionStart"in u&&Em(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),_u&&vu(_u,u)||(_u=u,u=of(xm,"onSelect"),0<u.length&&(s=new _o("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=Co)))}function Oa(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Ro={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionrun:Oa("Transition","TransitionRun"),transitionstart:Oa("Transition","TransitionStart"),transitioncancel:Oa("Transition","TransitionCancel"),transitionend:Oa("Transition","TransitionEnd")},Tm={},d0={};Sr&&(d0=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function Ma(r){if(Tm[r])return Tm[r];if(!Ro[r])return r;var s=Ro[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in d0)return Tm[r]=s[o];return r}var f0=Ma("animationend"),h0=Ma("animationiteration"),m0=Ma("animationstart"),N2=Ma("transitionrun"),D2=Ma("transitionstart"),k2=Ma("transitioncancel"),p0=Ma("transitionend"),g0=new Map,Sm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sm.push("scrollEnd");function Ar(r,s){g0.set(r,s),Tr(s,[r])}var y0=new WeakMap;function hr(r,s){if(typeof r=="object"&&r!==null){var o=y0.get(r);return o!==void 0?o:(s={value:r,source:s,stack:go(s)},y0.set(r,s),s)}return{value:r,source:s,stack:go(s)}}var mr=[],Io=0,Am=0;function xd(){for(var r=Io,s=Am=Io=0;s<r;){var o=mr[s];mr[s++]=null;var u=mr[s];mr[s++]=null;var h=mr[s];mr[s++]=null;var y=mr[s];if(mr[s++]=null,u!==null&&h!==null){var T=u.pending;T===null?h.next=h:(h.next=T.next,T.next=h),u.pending=h}y!==0&&v0(o,h,y)}}function wd(r,s,o,u){mr[Io++]=r,mr[Io++]=s,mr[Io++]=o,mr[Io++]=u,Am|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Cm(r,s,o,u){return wd(r,s,o,u),Td(r)}function No(r,s){return wd(r,null,null,s),Td(r)}function v0(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var h=!1,y=r.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(h=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,h&&s!==null&&(h=31-wn(o),r=y.hiddenUpdates,u=r[h],u===null?r[h]=[s]:u.push(s),s.lane=o|536870912),y):null}function Td(r){if(50<qu)throw qu=0,Op=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Do={};function O2(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(r,s,o,u){return new O2(r,s,o,u)}function Rm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ai(r,s){var o=r.alternate;return o===null?(o=Zn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function _0(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Sd(r,s,o,u,h,y){var T=0;if(u=r,typeof r=="function")Rm(r)&&(T=1);else if(typeof r=="string")T=jC(r,o,pe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case M:return r=Zn(31,o,s,h),r.elementType=M,r.lanes=y,r;case R:return ja(o.children,h,y,s);case A:T=8,h|=24;break;case N:return r=Zn(12,o,s,h|2),r.elementType=N,r.lanes=y,r;case $:return r=Zn(13,o,s,h),r.elementType=$,r.lanes=y,r;case ne:return r=Zn(19,o,s,h),r.elementType=ne,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case V:case B:T=10;break e;case U:T=9;break e;case G:T=11;break e;case k:T=14;break e;case S:T=16,u=null;break e}T=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=Zn(T,o,s,h),s.elementType=r,s.type=u,s.lanes=y,s}function ja(r,s,o,u){return r=Zn(7,r,u,s),r.lanes=o,r}function Im(r,s,o){return r=Zn(6,r,null,s),r.lanes=o,r}function Nm(r,s,o){return s=Zn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var ko=[],Oo=0,Ad=null,Cd=0,pr=[],gr=0,Pa=null,Ci=1,Ri="";function Va(r,s){ko[Oo++]=Cd,ko[Oo++]=Ad,Ad=r,Cd=s}function b0(r,s,o){pr[gr++]=Ci,pr[gr++]=Ri,pr[gr++]=Pa,Pa=r;var u=Ci;r=Ri;var h=32-wn(u)-1;u&=~(1<<h),o+=1;var y=32-wn(s)+h;if(30<y){var T=h-h%5;y=(u&(1<<T)-1).toString(32),u>>=T,h-=T,Ci=1<<32-wn(s)+h|o<<h|u,Ri=y+r}else Ci=1<<y|o<<h|u,Ri=r}function Dm(r){r.return!==null&&(Va(r,1),b0(r,1,0))}function km(r){for(;r===Ad;)Ad=ko[--Oo],ko[Oo]=null,Cd=ko[--Oo],ko[Oo]=null;for(;r===Pa;)Pa=pr[--gr],pr[gr]=null,Ri=pr[--gr],pr[gr]=null,Ci=pr[--gr],pr[gr]=null}var Ln=null,Ot=null,ot=!1,La=null,Wr=!1,Om=Error(i(519));function Ua(r){var s=Error(i(418,""));throw xu(hr(s,r)),Om}function E0(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Zt]=r,s[Ht]=u,o){case"dialog":Ze("cancel",s),Ze("close",s);break;case"iframe":case"object":case"embed":Ze("load",s);break;case"video":case"audio":for(o=0;o<$u.length;o++)Ze($u[o],s);break;case"source":Ze("error",s);break;case"img":case"image":case"link":Ze("error",s),Ze("load",s);break;case"details":Ze("toggle",s);break;case"input":Ze("invalid",s),wa(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),yo(s);break;case"select":Ze("invalid",s);break;case"textarea":Ze("invalid",s),Ta(s,u.value,u.defaultValue,u.children),yo(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||Lb(s.textContent,o)?(u.popover!=null&&(Ze("beforetoggle",s),Ze("toggle",s)),u.onScroll!=null&&Ze("scroll",s),u.onScrollEnd!=null&&Ze("scrollend",s),u.onClick!=null&&(s.onclick=lf),s=!0):s=!1,s||Ua(r)}function x0(r){for(Ln=r.return;Ln;)switch(Ln.tag){case 5:case 13:Wr=!1;return;case 27:case 3:Wr=!0;return;default:Ln=Ln.return}}function bu(r){if(r!==Ln)return!1;if(!ot)return x0(r),ot=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Qp(r.type,r.memoizedProps)),o=!o),o&&Ot&&Ua(r),x0(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){Ot=Rr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}Ot=null}}else s===27?(s=Ot,Os(r.type)?(r=Jp,Jp=null,Ot=r):Ot=s):Ot=Ln?Rr(r.stateNode.nextSibling):null;return!0}function Eu(){Ot=Ln=null,ot=!1}function w0(){var r=La;return r!==null&&(qn===null?qn=r:qn.push.apply(qn,r),La=null),r}function xu(r){La===null?La=[r]:La.push(r)}var Mm=ie(null),Ba=null,Ii=null;function vs(r,s,o){oe(Mm,s._currentValue),s._currentValue=o}function Ni(r){r._currentValue=Mm.current,he(Mm)}function jm(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function Pm(r,s,o,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var y=h.dependencies;if(y!==null){var T=h.child;y=y.firstContext;e:for(;y!==null;){var I=y;y=h;for(var H=0;H<s.length;H++)if(I.context===s[H]){y.lanes|=o,I=y.alternate,I!==null&&(I.lanes|=o),jm(y.return,o,r),u||(T=null);break e}y=I.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(i(341));T.lanes|=o,y=T.alternate,y!==null&&(y.lanes|=o),jm(T,o,r),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===r){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function wu(r,s,o,u){r=null;for(var h=s,y=!1;h!==null;){if(!y){if((h.flags&524288)!==0)y=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var I=h.type;Xn(h.pendingProps.value,T.value)||(r!==null?r.push(I):r=[I])}}else if(h===ge.current){if(T=h.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(Zu):r=[Zu])}h=h.return}r!==null&&Pm(s,r,o,u),s.flags|=262144}function Rd(r){for(r=r.firstContext;r!==null;){if(!Xn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function za(r){Ba=r,Ii=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Tn(r){return T0(Ba,r)}function Id(r,s){return Ba===null&&za(r),T0(r,s)}function T0(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ii===null){if(r===null)throw Error(i(308));Ii=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ii=Ii.next=s;return o}var M2=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},j2=n.unstable_scheduleCallback,P2=n.unstable_NormalPriority,tn={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vm(){return{controller:new M2,data:new Map,refCount:0}}function Tu(r){r.refCount--,r.refCount===0&&j2(P2,function(){r.controller.abort()})}var Su=null,Lm=0,Mo=0,jo=null;function V2(r,s){if(Su===null){var o=Su=[];Lm=0,Mo=Bp(),jo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Lm++,s.then(S0,S0),s}function S0(){if(--Lm===0&&Su!==null){jo!==null&&(jo.status="fulfilled");var r=Su;Su=null,Mo=0,jo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function L2(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var h=0;h<o.length;h++)(0,o[h])(s)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var A0=F.S;F.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&V2(r,s),A0!==null&&A0(r,s)};var Fa=ie(null);function Um(){var r=Fa.current;return r!==null?r:xt.pooledCache}function Nd(r,s){s===null?oe(Fa,Fa.current):oe(Fa,s.pool)}function C0(){var r=Um();return r===null?null:{parent:tn._currentValue,pool:r}}var Au=Error(i(460)),R0=Error(i(474)),Dd=Error(i(542)),Bm={then:function(){}};function I0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function kd(){}function N0(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(kd,kd),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,k0(r),r;default:if(typeof s.status=="string")s.then(kd,kd);else{if(r=xt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=u}},function(u){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,k0(r),r}throw Cu=s,Au}}var Cu=null;function D0(){if(Cu===null)throw Error(i(459));var r=Cu;return Cu=null,r}function k0(r){if(r===Au||r===Dd)throw Error(i(483))}var _s=!1;function zm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function bs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Es(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(dt&2)!==0){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,s=Td(r),v0(r,null,o),s}return wd(r,u,s,o),Td(r)}function Ru(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,nu(r,o)}}function Hm(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?h=y=T:y=y.next=T,o=o.next}while(o!==null);y===null?h=y=s:y=y.next=s}else h=y=s;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var qm=!1;function Iu(){if(qm){var r=jo;if(r!==null)throw r}}function Nu(r,s,o,u){qm=!1;var h=r.updateQueue;_s=!1;var y=h.firstBaseUpdate,T=h.lastBaseUpdate,I=h.shared.pending;if(I!==null){h.shared.pending=null;var H=I,J=H.next;H.next=null,T===null?y=J:T.next=J,T=H;var le=r.alternate;le!==null&&(le=le.updateQueue,I=le.lastBaseUpdate,I!==T&&(I===null?le.firstBaseUpdate=J:I.next=J,le.lastBaseUpdate=H))}if(y!==null){var de=h.baseState;T=0,le=J=H=null,I=y;do{var te=I.lane&-536870913,re=te!==I.lane;if(re?(it&te)===te:(u&te)===te){te!==0&&te===Mo&&(qm=!0),le!==null&&(le=le.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Le=r,Oe=I;te=s;var gt=o;switch(Oe.tag){case 1:if(Le=Oe.payload,typeof Le=="function"){de=Le.call(gt,de,te);break e}de=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Oe.payload,te=typeof Le=="function"?Le.call(gt,de,te):Le,te==null)break e;de=v({},de,te);break e;case 2:_s=!0}}te=I.callback,te!==null&&(r.flags|=64,re&&(r.flags|=8192),re=h.callbacks,re===null?h.callbacks=[te]:re.push(te))}else re={lane:te,tag:I.tag,payload:I.payload,callback:I.callback,next:null},le===null?(J=le=re,H=de):le=le.next=re,T|=te;if(I=I.next,I===null){if(I=h.shared.pending,I===null)break;re=I,I=re.next,re.next=null,h.lastBaseUpdate=re,h.shared.pending=null}}while(!0);le===null&&(H=de),h.baseState=H,h.firstBaseUpdate=J,h.lastBaseUpdate=le,y===null&&(h.shared.lanes=0),Is|=T,r.lanes=T,r.memoizedState=de}}function O0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function M0(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)O0(o[r],s)}var Po=ie(null),Od=ie(0);function j0(r,s){r=Vi,oe(Od,r),oe(Po,s),Vi=r|s.baseLanes}function Gm(){oe(Od,Vi),oe(Po,Po.current)}function $m(){Vi=Od.current,he(Po),he(Od)}var xs=0,Ge=null,mt=null,Gt=null,Md=!1,Vo=!1,Ha=!1,jd=0,Du=0,Lo=null,U2=0;function Lt(){throw Error(i(321))}function Ym(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Xn(r[o],s[o]))return!1;return!0}function Km(r,s,o,u,h,y){return xs=y,Ge=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,F.H=r===null||r.memoizedState===null?v_:__,Ha=!1,y=o(u,h),Ha=!1,Vo&&(y=V0(s,o,u,h)),P0(r),y}function P0(r){F.H=zd;var s=mt!==null&&mt.next!==null;if(xs=0,Gt=mt=Ge=null,Md=!1,Du=0,Lo=null,s)throw Error(i(300));r===null||cn||(r=r.dependencies,r!==null&&Rd(r)&&(cn=!0))}function V0(r,s,o,u){Ge=r;var h=0;do{if(Vo&&(Lo=null),Du=0,Vo=!1,25<=h)throw Error(i(301));if(h+=1,Gt=mt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}F.H=$2,y=s(o,u)}while(Vo);return y}function B2(){var r=F.H,s=r.useState()[0];return s=typeof s.then=="function"?ku(s):s,r=r.useState()[0],(mt!==null?mt.memoizedState:null)!==r&&(Ge.flags|=1024),s}function Qm(){var r=jd!==0;return jd=0,r}function Wm(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Xm(r){if(Md){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Md=!1}xs=0,Gt=mt=Ge=null,Vo=!1,Du=jd=0,Lo=null}function Fn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Ge.memoizedState=Gt=r:Gt=Gt.next=r,Gt}function $t(){if(mt===null){var r=Ge.alternate;r=r!==null?r.memoizedState:null}else r=mt.next;var s=Gt===null?Ge.memoizedState:Gt.next;if(s!==null)Gt=s,mt=r;else{if(r===null)throw Ge.alternate===null?Error(i(467)):Error(i(310));mt=r,r={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Gt===null?Ge.memoizedState=Gt=r:Gt=Gt.next=r}return Gt}function Zm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ku(r){var s=Du;return Du+=1,Lo===null&&(Lo=[]),r=N0(Lo,r,s),s=Ge,(Gt===null?s.memoizedState:Gt.next)===null&&(s=s.alternate,F.H=s===null||s.memoizedState===null?v_:__),r}function Pd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ku(r);if(r.$$typeof===B)return Tn(r)}throw Error(i(438,String(r)))}function Jm(r){var s=null,o=Ge.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ge.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Zm(),Ge.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=L;return s.index++,o}function Di(r,s){return typeof s=="function"?s(r):s}function Vd(r){var s=$t();return ep(s,mt,r)}function ep(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var h=r.baseQueue,y=u.pending;if(y!==null){if(h!==null){var T=h.next;h.next=y.next,y.next=T}s.baseQueue=h=y,u.pending=null}if(y=r.baseState,h===null)r.memoizedState=y;else{s=h.next;var I=T=null,H=null,J=s,le=!1;do{var de=J.lane&-536870913;if(de!==J.lane?(it&de)===de:(xs&de)===de){var te=J.revertLane;if(te===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),de===Mo&&(le=!0);else if((xs&te)===te){J=J.next,te===Mo&&(le=!0);continue}else de={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},H===null?(I=H=de,T=y):H=H.next=de,Ge.lanes|=te,Is|=te;de=J.action,Ha&&o(y,de),y=J.hasEagerState?J.eagerState:o(y,de)}else te={lane:de,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},H===null?(I=H=te,T=y):H=H.next=te,Ge.lanes|=de,Is|=de;J=J.next}while(J!==null&&J!==s);if(H===null?T=y:H.next=I,!Xn(y,r.memoizedState)&&(cn=!0,le&&(o=jo,o!==null)))throw o;r.memoizedState=y,r.baseState=T,r.baseQueue=H,u.lastRenderedState=y}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function tp(r){var s=$t(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,h=o.pending,y=s.memoizedState;if(h!==null){o.pending=null;var T=h=h.next;do y=r(y,T.action),T=T.next;while(T!==h);Xn(y,s.memoizedState)||(cn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,u]}function L0(r,s,o){var u=Ge,h=$t(),y=ot;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=s();var T=!Xn((mt||h).memoizedState,o);T&&(h.memoizedState=o,cn=!0),h=h.queue;var I=z0.bind(null,u,h,r);if(Ou(2048,8,I,[r]),h.getSnapshot!==s||T||Gt!==null&&Gt.memoizedState.tag&1){if(u.flags|=2048,Uo(9,Ld(),B0.bind(null,u,h,o,s),null),xt===null)throw Error(i(349));y||(xs&124)!==0||U0(u,s,o)}return o}function U0(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Ge.updateQueue,s===null?(s=Zm(),Ge.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function B0(r,s,o,u){s.value=o,s.getSnapshot=u,F0(s)&&H0(r)}function z0(r,s,o){return o(function(){F0(s)&&H0(r)})}function F0(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Xn(r,o)}catch{return!0}}function H0(r){var s=No(r,2);s!==null&&rr(s,r,2)}function np(r){var s=Fn();if(typeof r=="function"){var o=r;if(r=o(),Ha){Qn(!0);try{o()}finally{Qn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:r},s}function q0(r,s,o,u){return r.baseState=o,ep(r,mt,typeof u=="function"?u:Di)}function z2(r,s,o,u,h){if(Bd(r))throw Error(i(485));if(r=s.action,r!==null){var y={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};F.T!==null?o(!0):y.isTransition=!1,u(y),o=s.pending,o===null?(y.next=s.pending=y,G0(s,y)):(y.next=o.next,s.pending=o.next=y)}}function G0(r,s){var o=s.action,u=s.payload,h=r.state;if(s.isTransition){var y=F.T,T={};F.T=T;try{var I=o(h,u),H=F.S;H!==null&&H(T,I),$0(r,s,I)}catch(J){rp(r,s,J)}finally{F.T=y}}else try{y=o(h,u),$0(r,s,y)}catch(J){rp(r,s,J)}}function $0(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Y0(r,s,u)},function(u){return rp(r,s,u)}):Y0(r,s,o)}function Y0(r,s,o){s.status="fulfilled",s.value=o,K0(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,G0(r,o)))}function rp(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,K0(s),s=s.next;while(s!==u)}r.action=null}function K0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Q0(r,s){return s}function W0(r,s){if(ot){var o=xt.formState;if(o!==null){e:{var u=Ge;if(ot){if(Ot){t:{for(var h=Ot,y=Wr;h.nodeType!==8;){if(!y){h=null;break t}if(h=Rr(h.nextSibling),h===null){h=null;break t}}y=h.data,h=y==="F!"||y==="F"?h:null}if(h){Ot=Rr(h.nextSibling),u=h.data==="F!";break e}}Ua(u)}u=!1}u&&(s=o[0])}}return o=Fn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Q0,lastRenderedState:s},o.queue=u,o=p_.bind(null,Ge,u),u.dispatch=o,u=np(!1),y=lp.bind(null,Ge,!1,u.queue),u=Fn(),h={state:s,dispatch:null,action:r,pending:null},u.queue=h,o=z2.bind(null,Ge,h,y,o),h.dispatch=o,u.memoizedState=r,[s,o,!1]}function X0(r){var s=$t();return Z0(s,mt,r)}function Z0(r,s,o){if(s=ep(r,s,Q0)[0],r=Vd(Di)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=ku(s)}catch(T){throw T===Au?Dd:T}else u=s;s=$t();var h=s.queue,y=h.dispatch;return o!==s.memoizedState&&(Ge.flags|=2048,Uo(9,Ld(),F2.bind(null,h,o),null)),[u,y,r]}function F2(r,s){r.action=s}function J0(r){var s=$t(),o=mt;if(o!==null)return Z0(s,o,r);$t(),s=s.memoizedState,o=$t();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function Uo(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=Ge.updateQueue,s===null&&(s=Zm(),Ge.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function Ld(){return{destroy:void 0,resource:void 0}}function e_(){return $t().memoizedState}function Ud(r,s,o,u){var h=Fn();u=u===void 0?null:u,Ge.flags|=r,h.memoizedState=Uo(1|s,Ld(),o,u)}function Ou(r,s,o,u){var h=$t();u=u===void 0?null:u;var y=h.memoizedState.inst;mt!==null&&u!==null&&Ym(u,mt.memoizedState.deps)?h.memoizedState=Uo(s,y,o,u):(Ge.flags|=r,h.memoizedState=Uo(1|s,y,o,u))}function t_(r,s){Ud(8390656,8,r,s)}function n_(r,s){Ou(2048,8,r,s)}function r_(r,s){return Ou(4,2,r,s)}function i_(r,s){return Ou(4,4,r,s)}function s_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function a_(r,s,o){o=o!=null?o.concat([r]):null,Ou(4,4,s_.bind(null,s,r),o)}function ip(){}function o_(r,s){var o=$t();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Ym(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function l_(r,s){var o=$t();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Ym(s,u[1]))return u[0];if(u=r(),Ha){Qn(!0);try{r()}finally{Qn(!1)}}return o.memoizedState=[u,s],u}function sp(r,s,o){return o===void 0||(xs&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=db(),Ge.lanes|=r,Is|=r,o)}function u_(r,s,o,u){return Xn(o,s)?o:Po.current!==null?(r=sp(r,o,u),Xn(r,s)||(cn=!0),r):(xs&42)===0?(cn=!0,r.memoizedState=o):(r=db(),Ge.lanes|=r,Is|=r,s)}function c_(r,s,o,u,h){var y=Q.p;Q.p=y!==0&&8>y?y:8;var T=F.T,I={};F.T=I,lp(r,!1,s,o);try{var H=h(),J=F.S;if(J!==null&&J(I,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var le=L2(H,u);Mu(r,s,le,nr(r))}else Mu(r,s,u,nr(r))}catch(de){Mu(r,s,{then:function(){},status:"rejected",reason:de},nr())}finally{Q.p=y,F.T=T}}function H2(){}function ap(r,s,o,u){if(r.tag!==5)throw Error(i(476));var h=d_(r).queue;c_(r,h,s,Y,o===null?H2:function(){return f_(r),o(u)})}function d_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:Y},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function f_(r){var s=d_(r).next.queue;Mu(r,s,{},nr())}function op(){return Tn(Zu)}function h_(){return $t().memoizedState}function m_(){return $t().memoizedState}function q2(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=nr();r=bs(o);var u=Es(s,r,o);u!==null&&(rr(u,s,o),Ru(u,s,o)),s={cache:Vm()},r.payload=s;return}s=s.return}}function G2(r,s,o){var u=nr();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Bd(r)?g_(s,o):(o=Cm(r,s,o,u),o!==null&&(rr(o,r,u),y_(o,s,u)))}function p_(r,s,o){var u=nr();Mu(r,s,o,u)}function Mu(r,s,o,u){var h={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Bd(r))g_(s,h);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var T=s.lastRenderedState,I=y(T,o);if(h.hasEagerState=!0,h.eagerState=I,Xn(I,T))return wd(r,s,h,0),xt===null&&xd(),!1}catch{}finally{}if(o=Cm(r,s,h,u),o!==null)return rr(o,r,u),y_(o,s,u),!0}return!1}function lp(r,s,o,u){if(u={lane:2,revertLane:Bp(),action:u,hasEagerState:!1,eagerState:null,next:null},Bd(r)){if(s)throw Error(i(479))}else s=Cm(r,o,u,2),s!==null&&rr(s,r,2)}function Bd(r){var s=r.alternate;return r===Ge||s!==null&&s===Ge}function g_(r,s){Vo=Md=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function y_(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,nu(r,o)}}var zd={readContext:Tn,use:Pd,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt},v_={readContext:Tn,use:Pd,useCallback:function(r,s){return Fn().memoizedState=[r,s===void 0?null:s],r},useContext:Tn,useEffect:t_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Ud(4194308,4,s_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Ud(4194308,4,r,s)},useInsertionEffect:function(r,s){Ud(4,2,r,s)},useMemo:function(r,s){var o=Fn();s=s===void 0?null:s;var u=r();if(Ha){Qn(!0);try{r()}finally{Qn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=Fn();if(o!==void 0){var h=o(s);if(Ha){Qn(!0);try{o(s)}finally{Qn(!1)}}}else h=s;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=G2.bind(null,Ge,r),[u.memoizedState,r]},useRef:function(r){var s=Fn();return r={current:r},s.memoizedState=r},useState:function(r){r=np(r);var s=r.queue,o=p_.bind(null,Ge,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:ip,useDeferredValue:function(r,s){var o=Fn();return sp(o,r,s)},useTransition:function(){var r=np(!1);return r=c_.bind(null,Ge,r.queue,!0,!1),Fn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Ge,h=Fn();if(ot){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),xt===null)throw Error(i(349));(it&124)!==0||U0(u,s,o)}h.memoizedState=o;var y={value:o,getSnapshot:s};return h.queue=y,t_(z0.bind(null,u,y,r),[r]),u.flags|=2048,Uo(9,Ld(),B0.bind(null,u,y,o,s),null),o},useId:function(){var r=Fn(),s=xt.identifierPrefix;if(ot){var o=Ri,u=Ci;o=(u&~(1<<32-wn(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=jd++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=U2++,s="«"+s+"r"+o.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:op,useFormState:W0,useActionState:W0,useOptimistic:function(r){var s=Fn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=lp.bind(null,Ge,!0,o),o.dispatch=s,[r,s]},useMemoCache:Jm,useCacheRefresh:function(){return Fn().memoizedState=q2.bind(null,Ge)}},__={readContext:Tn,use:Pd,useCallback:o_,useContext:Tn,useEffect:n_,useImperativeHandle:a_,useInsertionEffect:r_,useLayoutEffect:i_,useMemo:l_,useReducer:Vd,useRef:e_,useState:function(){return Vd(Di)},useDebugValue:ip,useDeferredValue:function(r,s){var o=$t();return u_(o,mt.memoizedState,r,s)},useTransition:function(){var r=Vd(Di)[0],s=$t().memoizedState;return[typeof r=="boolean"?r:ku(r),s]},useSyncExternalStore:L0,useId:h_,useHostTransitionStatus:op,useFormState:X0,useActionState:X0,useOptimistic:function(r,s){var o=$t();return q0(o,mt,r,s)},useMemoCache:Jm,useCacheRefresh:m_},$2={readContext:Tn,use:Pd,useCallback:o_,useContext:Tn,useEffect:n_,useImperativeHandle:a_,useInsertionEffect:r_,useLayoutEffect:i_,useMemo:l_,useReducer:tp,useRef:e_,useState:function(){return tp(Di)},useDebugValue:ip,useDeferredValue:function(r,s){var o=$t();return mt===null?sp(o,r,s):u_(o,mt.memoizedState,r,s)},useTransition:function(){var r=tp(Di)[0],s=$t().memoizedState;return[typeof r=="boolean"?r:ku(r),s]},useSyncExternalStore:L0,useId:h_,useHostTransitionStatus:op,useFormState:J0,useActionState:J0,useOptimistic:function(r,s){var o=$t();return mt!==null?q0(o,mt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Jm,useCacheRefresh:m_},Bo=null,ju=0;function Fd(r){var s=ju;return ju+=1,Bo===null&&(Bo=[]),N0(Bo,r,s)}function Pu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Hd(r,s){throw s.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function b_(r){var s=r._init;return s(r._payload)}function E_(r){function s(W,K){if(r){var Z=W.deletions;Z===null?(W.deletions=[K],W.flags|=16):Z.push(K)}}function o(W,K){if(!r)return null;for(;K!==null;)s(W,K),K=K.sibling;return null}function u(W){for(var K=new Map;W!==null;)W.key!==null?K.set(W.key,W):K.set(W.index,W),W=W.sibling;return K}function h(W,K){return W=Ai(W,K),W.index=0,W.sibling=null,W}function y(W,K,Z){return W.index=Z,r?(Z=W.alternate,Z!==null?(Z=Z.index,Z<K?(W.flags|=67108866,K):Z):(W.flags|=67108866,K)):(W.flags|=1048576,K)}function T(W){return r&&W.alternate===null&&(W.flags|=67108866),W}function I(W,K,Z,ue){return K===null||K.tag!==6?(K=Im(Z,W.mode,ue),K.return=W,K):(K=h(K,Z),K.return=W,K)}function H(W,K,Z,ue){var xe=Z.type;return xe===R?le(W,K,Z.props.children,ue,Z.key):K!==null&&(K.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===S&&b_(xe)===K.type)?(K=h(K,Z.props),Pu(K,Z),K.return=W,K):(K=Sd(Z.type,Z.key,Z.props,null,W.mode,ue),Pu(K,Z),K.return=W,K)}function J(W,K,Z,ue){return K===null||K.tag!==4||K.stateNode.containerInfo!==Z.containerInfo||K.stateNode.implementation!==Z.implementation?(K=Nm(Z,W.mode,ue),K.return=W,K):(K=h(K,Z.children||[]),K.return=W,K)}function le(W,K,Z,ue,xe){return K===null||K.tag!==7?(K=ja(Z,W.mode,ue,xe),K.return=W,K):(K=h(K,Z),K.return=W,K)}function de(W,K,Z){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Im(""+K,W.mode,Z),K.return=W,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case E:return Z=Sd(K.type,K.key,K.props,null,W.mode,Z),Pu(Z,K),Z.return=W,Z;case C:return K=Nm(K,W.mode,Z),K.return=W,K;case S:var ue=K._init;return K=ue(K._payload),de(W,K,Z)}if(ee(K)||P(K))return K=ja(K,W.mode,Z,null),K.return=W,K;if(typeof K.then=="function")return de(W,Fd(K),Z);if(K.$$typeof===B)return de(W,Id(W,K),Z);Hd(W,K)}return null}function te(W,K,Z,ue){var xe=K!==null?K.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return xe!==null?null:I(W,K,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case E:return Z.key===xe?H(W,K,Z,ue):null;case C:return Z.key===xe?J(W,K,Z,ue):null;case S:return xe=Z._init,Z=xe(Z._payload),te(W,K,Z,ue)}if(ee(Z)||P(Z))return xe!==null?null:le(W,K,Z,ue,null);if(typeof Z.then=="function")return te(W,K,Fd(Z),ue);if(Z.$$typeof===B)return te(W,K,Id(W,Z),ue);Hd(W,Z)}return null}function re(W,K,Z,ue,xe){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return W=W.get(Z)||null,I(K,W,""+ue,xe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case E:return W=W.get(ue.key===null?Z:ue.key)||null,H(K,W,ue,xe);case C:return W=W.get(ue.key===null?Z:ue.key)||null,J(K,W,ue,xe);case S:var Qe=ue._init;return ue=Qe(ue._payload),re(W,K,Z,ue,xe)}if(ee(ue)||P(ue))return W=W.get(Z)||null,le(K,W,ue,xe,null);if(typeof ue.then=="function")return re(W,K,Z,Fd(ue),xe);if(ue.$$typeof===B)return re(W,K,Z,Id(K,ue),xe);Hd(K,ue)}return null}function Le(W,K,Z,ue){for(var xe=null,Qe=null,Ce=K,Me=K=0,fn=null;Ce!==null&&Me<Z.length;Me++){Ce.index>Me?(fn=Ce,Ce=null):fn=Ce.sibling;var at=te(W,Ce,Z[Me],ue);if(at===null){Ce===null&&(Ce=fn);break}r&&Ce&&at.alternate===null&&s(W,Ce),K=y(at,K,Me),Qe===null?xe=at:Qe.sibling=at,Qe=at,Ce=fn}if(Me===Z.length)return o(W,Ce),ot&&Va(W,Me),xe;if(Ce===null){for(;Me<Z.length;Me++)Ce=de(W,Z[Me],ue),Ce!==null&&(K=y(Ce,K,Me),Qe===null?xe=Ce:Qe.sibling=Ce,Qe=Ce);return ot&&Va(W,Me),xe}for(Ce=u(Ce);Me<Z.length;Me++)fn=re(Ce,W,Me,Z[Me],ue),fn!==null&&(r&&fn.alternate!==null&&Ce.delete(fn.key===null?Me:fn.key),K=y(fn,K,Me),Qe===null?xe=fn:Qe.sibling=fn,Qe=fn);return r&&Ce.forEach(function(Ls){return s(W,Ls)}),ot&&Va(W,Me),xe}function Oe(W,K,Z,ue){if(Z==null)throw Error(i(151));for(var xe=null,Qe=null,Ce=K,Me=K=0,fn=null,at=Z.next();Ce!==null&&!at.done;Me++,at=Z.next()){Ce.index>Me?(fn=Ce,Ce=null):fn=Ce.sibling;var Ls=te(W,Ce,at.value,ue);if(Ls===null){Ce===null&&(Ce=fn);break}r&&Ce&&Ls.alternate===null&&s(W,Ce),K=y(Ls,K,Me),Qe===null?xe=Ls:Qe.sibling=Ls,Qe=Ls,Ce=fn}if(at.done)return o(W,Ce),ot&&Va(W,Me),xe;if(Ce===null){for(;!at.done;Me++,at=Z.next())at=de(W,at.value,ue),at!==null&&(K=y(at,K,Me),Qe===null?xe=at:Qe.sibling=at,Qe=at);return ot&&Va(W,Me),xe}for(Ce=u(Ce);!at.done;Me++,at=Z.next())at=re(Ce,W,Me,at.value,ue),at!==null&&(r&&at.alternate!==null&&Ce.delete(at.key===null?Me:at.key),K=y(at,K,Me),Qe===null?xe=at:Qe.sibling=at,Qe=at);return r&&Ce.forEach(function(YC){return s(W,YC)}),ot&&Va(W,Me),xe}function gt(W,K,Z,ue){if(typeof Z=="object"&&Z!==null&&Z.type===R&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case E:e:{for(var xe=Z.key;K!==null;){if(K.key===xe){if(xe=Z.type,xe===R){if(K.tag===7){o(W,K.sibling),ue=h(K,Z.props.children),ue.return=W,W=ue;break e}}else if(K.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===S&&b_(xe)===K.type){o(W,K.sibling),ue=h(K,Z.props),Pu(ue,Z),ue.return=W,W=ue;break e}o(W,K);break}else s(W,K);K=K.sibling}Z.type===R?(ue=ja(Z.props.children,W.mode,ue,Z.key),ue.return=W,W=ue):(ue=Sd(Z.type,Z.key,Z.props,null,W.mode,ue),Pu(ue,Z),ue.return=W,W=ue)}return T(W);case C:e:{for(xe=Z.key;K!==null;){if(K.key===xe)if(K.tag===4&&K.stateNode.containerInfo===Z.containerInfo&&K.stateNode.implementation===Z.implementation){o(W,K.sibling),ue=h(K,Z.children||[]),ue.return=W,W=ue;break e}else{o(W,K);break}else s(W,K);K=K.sibling}ue=Nm(Z,W.mode,ue),ue.return=W,W=ue}return T(W);case S:return xe=Z._init,Z=xe(Z._payload),gt(W,K,Z,ue)}if(ee(Z))return Le(W,K,Z,ue);if(P(Z)){if(xe=P(Z),typeof xe!="function")throw Error(i(150));return Z=xe.call(Z),Oe(W,K,Z,ue)}if(typeof Z.then=="function")return gt(W,K,Fd(Z),ue);if(Z.$$typeof===B)return gt(W,K,Id(W,Z),ue);Hd(W,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,K!==null&&K.tag===6?(o(W,K.sibling),ue=h(K,Z),ue.return=W,W=ue):(o(W,K),ue=Im(Z,W.mode,ue),ue.return=W,W=ue),T(W)):o(W,K)}return function(W,K,Z,ue){try{ju=0;var xe=gt(W,K,Z,ue);return Bo=null,xe}catch(Ce){if(Ce===Au||Ce===Dd)throw Ce;var Qe=Zn(29,Ce,null,W.mode);return Qe.lanes=ue,Qe.return=W,Qe}finally{}}}var zo=E_(!0),x_=E_(!1),yr=ie(null),Xr=null;function ws(r){var s=r.alternate;oe(nn,nn.current&1),oe(yr,r),Xr===null&&(s===null||Po.current!==null||s.memoizedState!==null)&&(Xr=r)}function w_(r){if(r.tag===22){if(oe(nn,nn.current),oe(yr,r),Xr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Xr=r)}}else Ts()}function Ts(){oe(nn,nn.current),oe(yr,yr.current)}function ki(r){he(yr),Xr===r&&(Xr=null),he(nn)}var nn=ie(0);function qd(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Zp(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function up(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:v({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var cp={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=nr(),h=bs(u);h.payload=s,o!=null&&(h.callback=o),s=Es(r,h,u),s!==null&&(rr(s,r,u),Ru(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=nr(),h=bs(u);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=Es(r,h,u),s!==null&&(rr(s,r,u),Ru(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=nr(),u=bs(o);u.tag=2,s!=null&&(u.callback=s),s=Es(r,u,o),s!==null&&(rr(s,r,o),Ru(s,r,o))}};function T_(r,s,o,u,h,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,y,T):s.prototype&&s.prototype.isPureReactComponent?!vu(o,u)||!vu(h,y):!0}function S_(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&cp.enqueueReplaceState(s,s.state,null)}function qa(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=v({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var Gd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function A_(r){Gd(r)}function C_(r){console.error(r)}function R_(r){Gd(r)}function $d(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function I_(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function dp(r,s,o){return o=bs(o),o.tag=3,o.payload={element:null},o.callback=function(){$d(r,s)},o}function N_(r){return r=bs(r),r.tag=3,r}function D_(r,s,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var y=u.value;r.payload=function(){return h(y)},r.callback=function(){I_(s,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){I_(s,o,u),typeof h!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var I=u.stack;this.componentDidCatch(u.value,{componentStack:I!==null?I:""})})}function Y2(r,s,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&wu(s,o,h,!0),o=yr.current,o!==null){switch(o.tag){case 13:return Xr===null?jp():o.alternate===null&&Mt===0&&(Mt=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===Bm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Vp(r,u,h)),!1;case 22:return o.flags|=65536,u===Bm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Vp(r,u,h)),!1}throw Error(i(435,o.tag))}return Vp(r,u,h),jp(),!1}if(ot)return s=yr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,u!==Om&&(r=Error(i(422),{cause:u}),xu(hr(r,o)))):(u!==Om&&(s=Error(i(423),{cause:u}),xu(hr(s,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=hr(u,o),h=dp(r.stateNode,u,h),Hm(r,h),Mt!==4&&(Mt=2)),!1;var y=Error(i(520),{cause:u});if(y=hr(y,o),Hu===null?Hu=[y]:Hu.push(y),Mt!==4&&(Mt=2),s===null)return!0;u=hr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=dp(o.stateNode,u,r),Hm(o,r),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ns===null||!Ns.has(y))))return o.flags|=65536,h&=-h,o.lanes|=h,h=N_(h),D_(h,r,o,u),Hm(o,h),!1}o=o.return}while(o!==null);return!1}var k_=Error(i(461)),cn=!1;function gn(r,s,o,u){s.child=r===null?x_(s,null,o,u):zo(s,r.child,o,u)}function O_(r,s,o,u,h){o=o.render;var y=s.ref;if("ref"in u){var T={};for(var I in u)I!=="ref"&&(T[I]=u[I])}else T=u;return za(s),u=Km(r,s,o,T,y,h),I=Qm(),r!==null&&!cn?(Wm(r,s,h),Oi(r,s,h)):(ot&&I&&Dm(s),s.flags|=1,gn(r,s,u,h),s.child)}function M_(r,s,o,u,h){if(r===null){var y=o.type;return typeof y=="function"&&!Rm(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,j_(r,s,y,u,h)):(r=Sd(o.type,null,u,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!_p(r,h)){var T=y.memoizedProps;if(o=o.compare,o=o!==null?o:vu,o(T,u)&&r.ref===s.ref)return Oi(r,s,h)}return s.flags|=1,r=Ai(y,u),r.ref=s.ref,r.return=s,s.child=r}function j_(r,s,o,u,h){if(r!==null){var y=r.memoizedProps;if(vu(y,u)&&r.ref===s.ref)if(cn=!1,s.pendingProps=u=y,_p(r,h))(r.flags&131072)!==0&&(cn=!0);else return s.lanes=r.lanes,Oi(r,s,h)}return fp(r,s,o,u,h)}function P_(r,s,o){var u=s.pendingProps,h=u.children,y=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=y!==null?y.baseLanes|o:o,r!==null){for(h=s.child=r.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;s.childLanes=y&~u}else s.childLanes=0,s.child=null;return V_(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Nd(s,y!==null?y.cachePool:null),y!==null?j0(s,y):Gm(),w_(s);else return s.lanes=s.childLanes=536870912,V_(r,s,y!==null?y.baseLanes|o:o,o)}else y!==null?(Nd(s,y.cachePool),j0(s,y),Ts(),s.memoizedState=null):(r!==null&&Nd(s,null),Gm(),Ts());return gn(r,s,h,o),s.child}function V_(r,s,o,u){var h=Um();return h=h===null?null:{parent:tn._currentValue,pool:h},s.memoizedState={baseLanes:o,cachePool:h},r!==null&&Nd(s,null),Gm(),w_(s),r!==null&&wu(r,s,u,!0),null}function Yd(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function fp(r,s,o,u,h){return za(s),o=Km(r,s,o,u,void 0,h),u=Qm(),r!==null&&!cn?(Wm(r,s,h),Oi(r,s,h)):(ot&&u&&Dm(s),s.flags|=1,gn(r,s,o,h),s.child)}function L_(r,s,o,u,h,y){return za(s),s.updateQueue=null,o=V0(s,u,o,h),P0(r),u=Qm(),r!==null&&!cn?(Wm(r,s,y),Oi(r,s,y)):(ot&&u&&Dm(s),s.flags|=1,gn(r,s,o,y),s.child)}function U_(r,s,o,u,h){if(za(s),s.stateNode===null){var y=Do,T=o.contextType;typeof T=="object"&&T!==null&&(y=Tn(T)),y=new o(u,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=cp,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=u,y.state=s.memoizedState,y.refs={},zm(s),T=o.contextType,y.context=typeof T=="object"&&T!==null?Tn(T):Do,y.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(up(s,o,T,u),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&cp.enqueueReplaceState(y,y.state,null),Nu(s,u,y,h),Iu(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){y=s.stateNode;var I=s.memoizedProps,H=qa(o,I);y.props=H;var J=y.context,le=o.contextType;T=Do,typeof le=="object"&&le!==null&&(T=Tn(le));var de=o.getDerivedStateFromProps;le=typeof de=="function"||typeof y.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,le||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(I||J!==T)&&S_(s,y,u,T),_s=!1;var te=s.memoizedState;y.state=te,Nu(s,u,y,h),Iu(),J=s.memoizedState,I||te!==J||_s?(typeof de=="function"&&(up(s,o,de,u),J=s.memoizedState),(H=_s||T_(s,o,H,u,te,J,T))?(le||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=J),y.props=u,y.state=J,y.context=T,u=H):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,Fm(r,s),T=s.memoizedProps,le=qa(o,T),y.props=le,de=s.pendingProps,te=y.context,J=o.contextType,H=Do,typeof J=="object"&&J!==null&&(H=Tn(J)),I=o.getDerivedStateFromProps,(J=typeof I=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==de||te!==H)&&S_(s,y,u,H),_s=!1,te=s.memoizedState,y.state=te,Nu(s,u,y,h),Iu();var re=s.memoizedState;T!==de||te!==re||_s||r!==null&&r.dependencies!==null&&Rd(r.dependencies)?(typeof I=="function"&&(up(s,o,I,u),re=s.memoizedState),(le=_s||T_(s,o,le,u,te,re,H)||r!==null&&r.dependencies!==null&&Rd(r.dependencies))?(J||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,re,H),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,re,H)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&te===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&te===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=re),y.props=u,y.state=re,y.context=H,u=le):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&te===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&te===r.memoizedState||(s.flags|=1024),u=!1)}return y=u,Yd(r,s),u=(s.flags&128)!==0,y||u?(y=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,r!==null&&u?(s.child=zo(s,r.child,null,h),s.child=zo(s,null,o,h)):gn(r,s,o,h),s.memoizedState=y.state,r=s.child):r=Oi(r,s,h),r}function B_(r,s,o,u){return Eu(),s.flags|=256,gn(r,s,o,u),s.child}var hp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mp(r){return{baseLanes:r,cachePool:C0()}}function pp(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=vr),r}function z_(r,s,o){var u=s.pendingProps,h=!1,y=(s.flags&128)!==0,T;if((T=y)||(T=r!==null&&r.memoizedState===null?!1:(nn.current&2)!==0),T&&(h=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(ot){if(h?ws(s):Ts(),ot){var I=Ot,H;if(H=I){e:{for(H=I,I=Wr;H.nodeType!==8;){if(!I){I=null;break e}if(H=Rr(H.nextSibling),H===null){I=null;break e}}I=H}I!==null?(s.memoizedState={dehydrated:I,treeContext:Pa!==null?{id:Ci,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},H=Zn(18,null,null,0),H.stateNode=I,H.return=s,s.child=H,Ln=s,Ot=null,H=!0):H=!1}H||Ua(s)}if(I=s.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return Zp(I)?s.lanes=32:s.lanes=536870912,null;ki(s)}return I=u.children,u=u.fallback,h?(Ts(),h=s.mode,I=Kd({mode:"hidden",children:I},h),u=ja(u,h,o,null),I.return=s,u.return=s,I.sibling=u,s.child=I,h=s.child,h.memoizedState=mp(o),h.childLanes=pp(r,T,o),s.memoizedState=hp,u):(ws(s),gp(s,I))}if(H=r.memoizedState,H!==null&&(I=H.dehydrated,I!==null)){if(y)s.flags&256?(ws(s),s.flags&=-257,s=yp(r,s,o)):s.memoizedState!==null?(Ts(),s.child=r.child,s.flags|=128,s=null):(Ts(),h=u.fallback,I=s.mode,u=Kd({mode:"visible",children:u.children},I),h=ja(h,I,o,null),h.flags|=2,u.return=s,h.return=s,u.sibling=h,s.child=u,zo(s,r.child,null,o),u=s.child,u.memoizedState=mp(o),u.childLanes=pp(r,T,o),s.memoizedState=hp,s=h);else if(ws(s),Zp(I)){if(T=I.nextSibling&&I.nextSibling.dataset,T)var J=T.dgst;T=J,u=Error(i(419)),u.stack="",u.digest=T,xu({value:u,source:null,stack:null}),s=yp(r,s,o)}else if(cn||wu(r,s,o,!1),T=(o&r.childLanes)!==0,cn||T){if(T=xt,T!==null&&(u=o&-o,u=(u&42)!==0?1:ds(u),u=(u&(T.suspendedLanes|o))!==0?0:u,u!==0&&u!==H.retryLane))throw H.retryLane=u,No(r,u),rr(T,r,u),k_;I.data==="$?"||jp(),s=yp(r,s,o)}else I.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=H.treeContext,Ot=Rr(I.nextSibling),Ln=s,ot=!0,La=null,Wr=!1,r!==null&&(pr[gr++]=Ci,pr[gr++]=Ri,pr[gr++]=Pa,Ci=r.id,Ri=r.overflow,Pa=s),s=gp(s,u.children),s.flags|=4096);return s}return h?(Ts(),h=u.fallback,I=s.mode,H=r.child,J=H.sibling,u=Ai(H,{mode:"hidden",children:u.children}),u.subtreeFlags=H.subtreeFlags&65011712,J!==null?h=Ai(J,h):(h=ja(h,I,o,null),h.flags|=2),h.return=s,u.return=s,u.sibling=h,s.child=u,u=h,h=s.child,I=r.child.memoizedState,I===null?I=mp(o):(H=I.cachePool,H!==null?(J=tn._currentValue,H=H.parent!==J?{parent:J,pool:J}:H):H=C0(),I={baseLanes:I.baseLanes|o,cachePool:H}),h.memoizedState=I,h.childLanes=pp(r,T,o),s.memoizedState=hp,u):(ws(s),o=r.child,r=o.sibling,o=Ai(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=o,s.memoizedState=null,o)}function gp(r,s){return s=Kd({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Kd(r,s){return r=Zn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function yp(r,s,o){return zo(s,r.child,null,o),r=gp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function F_(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),jm(r.return,s,o)}function vp(r,s,o,u,h){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=o,y.tailMode=h)}function H_(r,s,o){var u=s.pendingProps,h=u.revealOrder,y=u.tail;if(gn(r,s,u.children,o),u=nn.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&F_(r,o,s);else if(r.tag===19)F_(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(oe(nn,u),h){case"forwards":for(o=s.child,h=null;o!==null;)r=o.alternate,r!==null&&qd(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),vp(s,!1,h,o,y);break;case"backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&qd(r)===null){s.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}vp(s,!0,o,null,y);break;case"together":vp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Oi(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Is|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(wu(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Ai(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Ai(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function _p(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Rd(r)))}function K2(r,s,o){switch(s.tag){case 3:Se(s,s.stateNode.containerInfo),vs(s,tn,r.memoizedState.cache),Eu();break;case 27:case 5:Ne(s);break;case 4:Se(s,s.stateNode.containerInfo);break;case 10:vs(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ws(s),s.flags|=128,null):(o&s.child.childLanes)!==0?z_(r,s,o):(ws(s),r=Oi(r,s,o),r!==null?r.sibling:null);ws(s);break;case 19:var h=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(wu(r,s,o,!1),u=(o&s.childLanes)!==0),h){if(u)return H_(r,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(nn,nn.current),u)break;return null;case 22:case 23:return s.lanes=0,P_(r,s,o);case 24:vs(s,tn,r.memoizedState.cache)}return Oi(r,s,o)}function q_(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)cn=!0;else{if(!_p(r,o)&&(s.flags&128)===0)return cn=!1,K2(r,s,o);cn=(r.flags&131072)!==0}else cn=!1,ot&&(s.flags&1048576)!==0&&b0(s,Cd,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,h=u._init;if(u=h(u._payload),s.type=u,typeof u=="function")Rm(u)?(r=qa(u,r),s.tag=1,s=U_(null,s,u,r,o)):(s.tag=0,s=fp(null,s,u,r,o));else{if(u!=null){if(h=u.$$typeof,h===G){s.tag=11,s=O_(null,s,u,r,o);break e}else if(h===k){s.tag=14,s=M_(null,s,u,r,o);break e}}throw s=q(u)||u,Error(i(306,s,""))}}return s;case 0:return fp(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,h=qa(u,s.pendingProps),U_(r,s,u,h,o);case 3:e:{if(Se(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var y=s.memoizedState;h=y.element,Fm(r,s),Nu(s,u,null,o);var T=s.memoizedState;if(u=T.cache,vs(s,tn,u),u!==y.cache&&Pm(s,[tn],o,!0),Iu(),u=T.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=B_(r,s,u,o);break e}else if(u!==h){h=hr(Error(i(424)),s),xu(h),s=B_(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Ot=Rr(r.firstChild),Ln=s,ot=!0,La=null,Wr=!0,o=x_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Eu(),u===h){s=Oi(r,s,o);break e}gn(r,s,u,o)}s=s.child}return s;case 26:return Yd(r,s),r===null?(o=Kb(s.type,null,s.pendingProps,null))?s.memoizedState=o:ot||(o=s.type,r=s.pendingProps,u=uf(Ee.current).createElement(o),u[Zt]=s,u[Ht]=r,vn(u,o,r),Vt(u),s.stateNode=u):s.memoizedState=Kb(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Ne(s),r===null&&ot&&(u=s.stateNode=Gb(s.type,s.pendingProps,Ee.current),Ln=s,Wr=!0,h=Ot,Os(s.type)?(Jp=h,Ot=Rr(u.firstChild)):Ot=h),gn(r,s,s.pendingProps.children,o),Yd(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&ot&&((h=u=Ot)&&(u=xC(u,s.type,s.pendingProps,Wr),u!==null?(s.stateNode=u,Ln=s,Ot=Rr(u.firstChild),Wr=!1,h=!0):h=!1),h||Ua(s)),Ne(s),h=s.type,y=s.pendingProps,T=r!==null?r.memoizedProps:null,u=y.children,Qp(h,y)?u=null:T!==null&&Qp(h,T)&&(s.flags|=32),s.memoizedState!==null&&(h=Km(r,s,B2,null,null,o),Zu._currentValue=h),Yd(r,s),gn(r,s,u,o),s.child;case 6:return r===null&&ot&&((r=o=Ot)&&(o=wC(o,s.pendingProps,Wr),o!==null?(s.stateNode=o,Ln=s,Ot=null,r=!0):r=!1),r||Ua(s)),null;case 13:return z_(r,s,o);case 4:return Se(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=zo(s,null,u,o):gn(r,s,u,o),s.child;case 11:return O_(r,s,s.type,s.pendingProps,o);case 7:return gn(r,s,s.pendingProps,o),s.child;case 8:return gn(r,s,s.pendingProps.children,o),s.child;case 12:return gn(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,vs(s,s.type,u.value),gn(r,s,u.children,o),s.child;case 9:return h=s.type._context,u=s.pendingProps.children,za(s),h=Tn(h),u=u(h),s.flags|=1,gn(r,s,u,o),s.child;case 14:return M_(r,s,s.type,s.pendingProps,o);case 15:return j_(r,s,s.type,s.pendingProps,o);case 19:return H_(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=Kd(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Ai(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return P_(r,s,o);case 24:return za(s),u=Tn(tn),r===null?(h=Um(),h===null&&(h=xt,y=Vm(),h.pooledCache=y,y.refCount++,y!==null&&(h.pooledCacheLanes|=o),h=y),s.memoizedState={parent:u,cache:h},zm(s),vs(s,tn,h)):((r.lanes&o)!==0&&(Fm(r,s),Nu(s,null,null,o),Iu()),h=r.memoizedState,y=s.memoizedState,h.parent!==u?(h={parent:u,cache:u},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),vs(s,tn,u)):(u=y.cache,vs(s,tn,u),u!==h.cache&&Pm(s,[tn],o,!0))),gn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Mi(r){r.flags|=4}function G_(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Jb(s)){if(s=yr.current,s!==null&&((it&4194048)===it?Xr!==null:(it&62914560)!==it&&(it&536870912)===0||s!==Xr))throw Cu=Bm,R0;r.flags|=8192}}function Qd(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?eu():536870912,r.lanes|=s,Go|=s)}function Vu(r,s){if(!ot)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Nt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function Q2(r,s,o){var u=s.pendingProps;switch(km(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(s),null;case 1:return Nt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ni(tn),He(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(bu(s)?Mi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,w0())),Nt(s),null;case 26:return o=s.memoizedState,r===null?(Mi(s),o!==null?(Nt(s),G_(s,o)):(Nt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Mi(s),Nt(s),G_(s,o)):(Nt(s),s.flags&=-16777217):(r.memoizedProps!==u&&Mi(s),Nt(s),s.flags&=-16777217),null;case 27:De(s),o=Ee.current;var h=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Mi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Nt(s),null}r=pe.current,bu(s)?E0(s):(r=Gb(h,u,o),s.stateNode=r,Mi(s))}return Nt(s),null;case 5:if(De(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Mi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Nt(s),null}if(r=pe.current,bu(s))E0(s);else{switch(h=uf(Ee.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?h.createElement(o,{is:u.is}):h.createElement(o)}}r[Zt]=s,r[Ht]=u;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=r;e:switch(vn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Mi(s)}}return Nt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Mi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=Ee.current,bu(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,h=Ln,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[Zt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Lb(r.nodeValue,o)),r||Ua(s)}else r=uf(r).createTextNode(u),r[Zt]=s,s.stateNode=r}return Nt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=bu(s),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Zt]=s}else Eu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Nt(s),h=!1}else h=w0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(ki(s),s):(ki(s),null)}if(ki(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==h&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Qd(s,s.updateQueue),Nt(s),null;case 4:return He(),r===null&&qp(s.stateNode.containerInfo),Nt(s),null;case 10:return Ni(s.type),Nt(s),null;case 19:if(he(nn),h=s.memoizedState,h===null)return Nt(s),null;if(u=(s.flags&128)!==0,y=h.rendering,y===null)if(u)Vu(h,!1);else{if(Mt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=qd(r),y!==null){for(s.flags|=128,Vu(h,!1),r=y.updateQueue,s.updateQueue=r,Qd(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)_0(o,r),o=o.sibling;return oe(nn,nn.current&1|2),s.child}r=r.sibling}h.tail!==null&&We()>Zd&&(s.flags|=128,u=!0,Vu(h,!1),s.lanes=4194304)}else{if(!u)if(r=qd(y),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Qd(s,r),Vu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!ot)return Nt(s),null}else 2*We()-h.renderingStartTime>Zd&&o!==536870912&&(s.flags|=128,u=!0,Vu(h,!1),s.lanes=4194304);h.isBackwards?(y.sibling=s.child,s.child=y):(r=h.last,r!==null?r.sibling=y:s.child=y,h.last=y)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=We(),s.sibling=null,r=nn.current,oe(nn,u?r&1|2:r&1),s):(Nt(s),null);case 22:case 23:return ki(s),$m(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(Nt(s),s.subtreeFlags&6&&(s.flags|=8192)):Nt(s),o=s.updateQueue,o!==null&&Qd(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&he(Fa),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ni(tn),Nt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function W2(r,s){switch(km(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ni(tn),He(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return De(s),null;case 13:if(ki(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Eu()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return he(nn),null;case 4:return He(),null;case 10:return Ni(s.type),null;case 22:case 23:return ki(s),$m(),r!==null&&he(Fa),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ni(tn),null;case 25:return null;default:return null}}function $_(r,s){switch(km(s),s.tag){case 3:Ni(tn),He();break;case 26:case 27:case 5:De(s);break;case 4:He();break;case 13:ki(s);break;case 19:he(nn);break;case 10:Ni(s.type);break;case 22:case 23:ki(s),$m(),r!==null&&he(Fa);break;case 24:Ni(tn)}}function Lu(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&r)===r){u=void 0;var y=o.create,T=o.inst;u=y(),T.destroy=u}o=o.next}while(o!==h)}}catch(I){bt(s,s.return,I)}}function Ss(r,s,o){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var y=h.next;u=y;do{if((u.tag&r)===r){var T=u.inst,I=T.destroy;if(I!==void 0){T.destroy=void 0,h=s;var H=o,J=I;try{J()}catch(le){bt(h,H,le)}}}u=u.next}while(u!==y)}}catch(le){bt(s,s.return,le)}}function Y_(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{M0(s,o)}catch(u){bt(r,r.return,u)}}}function K_(r,s,o){o.props=qa(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){bt(r,s,u)}}function Uu(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(h){bt(r,s,h)}}function Zr(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){bt(r,s,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){bt(r,s,h)}else o.current=null}function Q_(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){bt(r,r.return,h)}}function bp(r,s,o){try{var u=r.stateNode;yC(u,r.type,o,s),u[Ht]=s}catch(h){bt(r,r.return,h)}}function W_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Os(r.type)||r.tag===4}function Ep(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||W_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Os(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function xp(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=lf));else if(u!==4&&(u===27&&Os(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(xp(r,s,o),r=r.sibling;r!==null;)xp(r,s,o),r=r.sibling}function Wd(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&Os(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Wd(r,s,o),r=r.sibling;r!==null;)Wd(r,s,o),r=r.sibling}function X_(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);vn(s,u,o),s[Zt]=r,s[Ht]=o}catch(y){bt(r,r.return,y)}}var ji=!1,Ut=!1,wp=!1,Z_=typeof WeakSet=="function"?WeakSet:Set,dn=null;function X2(r,s){if(r=r.containerInfo,Yp=pf,r=u0(r),Em(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var T=0,I=-1,H=-1,J=0,le=0,de=r,te=null;t:for(;;){for(var re;de!==o||h!==0&&de.nodeType!==3||(I=T+h),de!==y||u!==0&&de.nodeType!==3||(H=T+u),de.nodeType===3&&(T+=de.nodeValue.length),(re=de.firstChild)!==null;)te=de,de=re;for(;;){if(de===r)break t;if(te===o&&++J===h&&(I=T),te===y&&++le===u&&(H=T),(re=de.nextSibling)!==null)break;de=te,te=de.parentNode}de=re}o=I===-1||H===-1?null:{start:I,end:H}}else o=null}o=o||{start:0,end:0}}else o=null;for(Kp={focusedElem:r,selectionRange:o},pf=!1,dn=s;dn!==null;)if(s=dn,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,dn=r;else for(;dn!==null;){switch(s=dn,y=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,o=s,h=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var Le=qa(o.type,h,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Le,y),u.__reactInternalSnapshotBeforeUpdate=r}catch(Oe){bt(o,o.return,Oe)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Xp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Xp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,dn=r;break}dn=s.return}}function J_(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:As(r,o),u&4&&Lu(5,o);break;case 1:if(As(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(T){bt(o,o.return,T)}else{var h=qa(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(h,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){bt(o,o.return,T)}}u&64&&Y_(o),u&512&&Uu(o,o.return);break;case 3:if(As(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{M0(r,s)}catch(T){bt(o,o.return,T)}}break;case 27:s===null&&u&4&&X_(o);case 26:case 5:As(r,o),s===null&&u&4&&Q_(o),u&512&&Uu(o,o.return);break;case 12:As(r,o);break;case 13:As(r,o),u&4&&nb(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=aC.bind(null,o),TC(r,o))));break;case 22:if(u=o.memoizedState!==null||ji,!u){s=s!==null&&s.memoizedState!==null||Ut,h=ji;var y=Ut;ji=u,(Ut=s)&&!y?Cs(r,o,(o.subtreeFlags&8772)!==0):As(r,o),ji=h,Ut=y}break;case 30:break;default:As(r,o)}}function eb(r){var s=r.alternate;s!==null&&(r.alternate=null,eb(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&ms(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Rt=null,Hn=!1;function Pi(r,s,o){for(o=o.child;o!==null;)tb(r,s,o),o=o.sibling}function tb(r,s,o){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(kt,o)}catch{}switch(o.tag){case 26:Ut||Zr(o,s),Pi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ut||Zr(o,s);var u=Rt,h=Hn;Os(o.type)&&(Rt=o.stateNode,Hn=!1),Pi(r,s,o),Ku(o.stateNode),Rt=u,Hn=h;break;case 5:Ut||Zr(o,s);case 6:if(u=Rt,h=Hn,Rt=null,Pi(r,s,o),Rt=u,Hn=h,Rt!==null)if(Hn)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(o.stateNode)}catch(y){bt(o,s,y)}else try{Rt.removeChild(o.stateNode)}catch(y){bt(o,s,y)}break;case 18:Rt!==null&&(Hn?(r=Rt,Hb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),nc(r)):Hb(Rt,o.stateNode));break;case 4:u=Rt,h=Hn,Rt=o.stateNode.containerInfo,Hn=!0,Pi(r,s,o),Rt=u,Hn=h;break;case 0:case 11:case 14:case 15:Ut||Ss(2,o,s),Ut||Ss(4,o,s),Pi(r,s,o);break;case 1:Ut||(Zr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&K_(o,s,u)),Pi(r,s,o);break;case 21:Pi(r,s,o);break;case 22:Ut=(u=Ut)||o.memoizedState!==null,Pi(r,s,o),Ut=u;break;default:Pi(r,s,o)}}function nb(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{nc(r)}catch(o){bt(s,s.return,o)}}function Z2(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new Z_),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new Z_),s;default:throw Error(i(435,r.tag))}}function Tp(r,s){var o=Z2(r);s.forEach(function(u){var h=oC.bind(null,r,u);o.has(u)||(o.add(u),u.then(h,h))})}function Jn(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],y=r,T=s,I=T;e:for(;I!==null;){switch(I.tag){case 27:if(Os(I.type)){Rt=I.stateNode,Hn=!1;break e}break;case 5:Rt=I.stateNode,Hn=!1;break e;case 3:case 4:Rt=I.stateNode.containerInfo,Hn=!0;break e}I=I.return}if(Rt===null)throw Error(i(160));tb(y,T,h),Rt=null,Hn=!1,y=h.alternate,y!==null&&(y.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)rb(s,r),s=s.sibling}var Cr=null;function rb(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Jn(s,r),er(r),u&4&&(Ss(3,r,r.return),Lu(3,r),Ss(5,r,r.return));break;case 1:Jn(s,r),er(r),u&512&&(Ut||o===null||Zr(o,o.return)),u&64&&ji&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=Cr;if(Jn(s,r),er(r),u&512&&(Ut||o===null||Zr(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":y=h.getElementsByTagName("title")[0],(!y||y[_a]||y[Zt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=h.createElement(u),h.head.insertBefore(y,h.querySelector("head > title"))),vn(y,u,o),y[Zt]=r,Vt(y),u=y;break e;case"link":var T=Xb("link","href",h).get(u+(o.href||""));if(T){for(var I=0;I<T.length;I++)if(y=T[I],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(I,1);break t}}y=h.createElement(u),vn(y,u,o),h.head.appendChild(y);break;case"meta":if(T=Xb("meta","content",h).get(u+(o.content||""))){for(I=0;I<T.length;I++)if(y=T[I],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(I,1);break t}}y=h.createElement(u),vn(y,u,o),h.head.appendChild(y);break;default:throw Error(i(468,u))}y[Zt]=r,Vt(y),u=y}r.stateNode=u}else Zb(h,r.type,r.stateNode);else r.stateNode=Wb(h,u,r.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?Zb(h,r.type,r.stateNode):Wb(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&bp(r,r.memoizedProps,o.memoizedProps)}break;case 27:Jn(s,r),er(r),u&512&&(Ut||o===null||Zr(o,o.return)),o!==null&&u&4&&bp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Jn(s,r),er(r),u&512&&(Ut||o===null||Zr(o,o.return)),r.flags&32){h=r.stateNode;try{ur(h,"")}catch(re){bt(r,r.return,re)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,bp(r,h,o!==null?o.memoizedProps:h)),u&1024&&(wp=!0);break;case 6:if(Jn(s,r),er(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(re){bt(r,r.return,re)}}break;case 3:if(ff=null,h=Cr,Cr=cf(s.containerInfo),Jn(s,r),Cr=h,er(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{nc(s.containerInfo)}catch(re){bt(r,r.return,re)}wp&&(wp=!1,ib(r));break;case 4:u=Cr,Cr=cf(r.stateNode.containerInfo),Jn(s,r),er(r),Cr=u;break;case 12:Jn(s,r),er(r);break;case 13:Jn(s,r),er(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Np=We()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Tp(r,u)));break;case 22:h=r.memoizedState!==null;var H=o!==null&&o.memoizedState!==null,J=ji,le=Ut;if(ji=J||h,Ut=le||H,Jn(s,r),Ut=le,ji=J,er(r),u&8192)e:for(s=r.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(o===null||H||ji||Ut||Ga(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){H=o=s;try{if(y=H.stateNode,h)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{I=H.stateNode;var de=H.memoizedProps.style,te=de!=null&&de.hasOwnProperty("display")?de.display:null;I.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(re){bt(H,H.return,re)}}}else if(s.tag===6){if(o===null){H=s;try{H.stateNode.nodeValue=h?"":H.memoizedProps}catch(re){bt(H,H.return,re)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Tp(r,o))));break;case 19:Jn(s,r),er(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Tp(r,u)));break;case 30:break;case 21:break;default:Jn(s,r),er(r)}}function er(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(W_(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var h=o.stateNode,y=Ep(r);Wd(r,y,h);break;case 5:var T=o.stateNode;o.flags&32&&(ur(T,""),o.flags&=-33);var I=Ep(r);Wd(r,I,T);break;case 3:case 4:var H=o.stateNode.containerInfo,J=Ep(r);xp(r,J,H);break;default:throw Error(i(161))}}catch(le){bt(r,r.return,le)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function ib(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;ib(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function As(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)J_(r,s.alternate,s),s=s.sibling}function Ga(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Ss(4,s,s.return),Ga(s);break;case 1:Zr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&K_(s,s.return,o),Ga(s);break;case 27:Ku(s.stateNode);case 26:case 5:Zr(s,s.return),Ga(s);break;case 22:s.memoizedState===null&&Ga(s);break;case 30:Ga(s);break;default:Ga(s)}r=r.sibling}}function Cs(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,h=r,y=s,T=y.flags;switch(y.tag){case 0:case 11:case 15:Cs(h,y,o),Lu(4,y);break;case 1:if(Cs(h,y,o),u=y,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(J){bt(u,u.return,J)}if(u=y,h=u.updateQueue,h!==null){var I=u.stateNode;try{var H=h.shared.hiddenCallbacks;if(H!==null)for(h.shared.hiddenCallbacks=null,h=0;h<H.length;h++)O0(H[h],I)}catch(J){bt(u,u.return,J)}}o&&T&64&&Y_(y),Uu(y,y.return);break;case 27:X_(y);case 26:case 5:Cs(h,y,o),o&&u===null&&T&4&&Q_(y),Uu(y,y.return);break;case 12:Cs(h,y,o);break;case 13:Cs(h,y,o),o&&T&4&&nb(h,y);break;case 22:y.memoizedState===null&&Cs(h,y,o),Uu(y,y.return);break;case 30:break;default:Cs(h,y,o)}s=s.sibling}}function Sp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Tu(o))}function Ap(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Tu(r))}function Jr(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)sb(r,s,o,u),s=s.sibling}function sb(r,s,o,u){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Jr(r,s,o,u),h&2048&&Lu(9,s);break;case 1:Jr(r,s,o,u);break;case 3:Jr(r,s,o,u),h&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Tu(r)));break;case 12:if(h&2048){Jr(r,s,o,u),r=s.stateNode;try{var y=s.memoizedProps,T=y.id,I=y.onPostCommit;typeof I=="function"&&I(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(H){bt(s,s.return,H)}}else Jr(r,s,o,u);break;case 13:Jr(r,s,o,u);break;case 23:break;case 22:y=s.stateNode,T=s.alternate,s.memoizedState!==null?y._visibility&2?Jr(r,s,o,u):Bu(r,s):y._visibility&2?Jr(r,s,o,u):(y._visibility|=2,Fo(r,s,o,u,(s.subtreeFlags&10256)!==0)),h&2048&&Sp(T,s);break;case 24:Jr(r,s,o,u),h&2048&&Ap(s.alternate,s);break;default:Jr(r,s,o,u)}}function Fo(r,s,o,u,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=r,T=s,I=o,H=u,J=T.flags;switch(T.tag){case 0:case 11:case 15:Fo(y,T,I,H,h),Lu(8,T);break;case 23:break;case 22:var le=T.stateNode;T.memoizedState!==null?le._visibility&2?Fo(y,T,I,H,h):Bu(y,T):(le._visibility|=2,Fo(y,T,I,H,h)),h&&J&2048&&Sp(T.alternate,T);break;case 24:Fo(y,T,I,H,h),h&&J&2048&&Ap(T.alternate,T);break;default:Fo(y,T,I,H,h)}s=s.sibling}}function Bu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,h=u.flags;switch(u.tag){case 22:Bu(o,u),h&2048&&Sp(u.alternate,u);break;case 24:Bu(o,u),h&2048&&Ap(u.alternate,u);break;default:Bu(o,u)}s=s.sibling}}var zu=8192;function Ho(r){if(r.subtreeFlags&zu)for(r=r.child;r!==null;)ab(r),r=r.sibling}function ab(r){switch(r.tag){case 26:Ho(r),r.flags&zu&&r.memoizedState!==null&&VC(Cr,r.memoizedState,r.memoizedProps);break;case 5:Ho(r);break;case 3:case 4:var s=Cr;Cr=cf(r.stateNode.containerInfo),Ho(r),Cr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=zu,zu=16777216,Ho(r),zu=s):Ho(r));break;default:Ho(r)}}function ob(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Fu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];dn=u,ub(u,r)}ob(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)lb(r),r=r.sibling}function lb(r){switch(r.tag){case 0:case 11:case 15:Fu(r),r.flags&2048&&Ss(9,r,r.return);break;case 3:Fu(r);break;case 12:Fu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Xd(r)):Fu(r);break;default:Fu(r)}}function Xd(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];dn=u,ub(u,r)}ob(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Ss(8,s,s.return),Xd(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Xd(s));break;default:Xd(s)}r=r.sibling}}function ub(r,s){for(;dn!==null;){var o=dn;switch(o.tag){case 0:case 11:case 15:Ss(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Tu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,dn=u;else e:for(o=r;dn!==null;){u=dn;var h=u.sibling,y=u.return;if(eb(u),u===o){dn=null;break e}if(h!==null){h.return=y,dn=h;break e}dn=y}}}var J2={getCacheForType:function(r){var s=Tn(tn),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},eC=typeof WeakMap=="function"?WeakMap:Map,dt=0,xt=null,Xe=null,it=0,ft=0,tr=null,Rs=!1,qo=!1,Cp=!1,Vi=0,Mt=0,Is=0,$a=0,Rp=0,vr=0,Go=0,Hu=null,qn=null,Ip=!1,Np=0,Zd=1/0,Jd=null,Ns=null,yn=0,Ds=null,$o=null,Yo=0,Dp=0,kp=null,cb=null,qu=0,Op=null;function nr(){if((dt&2)!==0&&it!==0)return it&-it;if(F.T!==null){var r=Mo;return r!==0?r:Bp()}return fs()}function db(){vr===0&&(vr=(it&536870912)===0||ot?Jl():536870912);var r=yr.current;return r!==null&&(r.flags|=32),vr}function rr(r,s,o){(r===xt&&(ft===2||ft===9)||r.cancelPendingCommit!==null)&&(Ko(r,0),ks(r,it,vr,!1)),pi(r,o),((dt&2)===0||r!==xt)&&(r===xt&&((dt&2)===0&&($a|=o),Mt===4&&ks(r,it,vr,!1)),ei(r))}function fb(r,s,o){if((dt&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||va(r,s),h=u?rC(r,s):Pp(r,s,!0),y=u;do{if(h===0){qo&&!u&&ks(r,s,0,!1);break}else{if(o=r.current.alternate,y&&!tC(o)){h=Pp(r,s,!1),y=!1;continue}if(h===2){if(y=s,r.errorRecoveryDisabledLanes&y)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var I=r;h=Hu;var H=I.current.memoizedState.isDehydrated;if(H&&(Ko(I,T).flags|=256),T=Pp(I,T,!1),T!==2){if(Cp&&!H){I.errorRecoveryDisabledLanes|=y,$a|=y,h=4;break e}y=qn,qn=h,y!==null&&(qn===null?qn=y:qn.push.apply(qn,y))}h=T}if(y=!1,h!==2)continue}}if(h===1){Ko(r,0),ks(r,s,0,!0);break}e:{switch(u=r,y=h,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ks(u,s,vr,!Rs);break e;case 2:qn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(h=Np+300-We(),10<h)){if(ks(u,s,vr,!Rs),co(u,0,!0)!==0)break e;u.timeoutHandle=zb(hb.bind(null,u,o,qn,Jd,Ip,s,vr,$a,Go,Rs,y,2,-0,0),h);break e}hb(u,o,qn,Jd,Ip,s,vr,$a,Go,Rs,y,0,-0,0)}}break}while(!0);ei(r)}function hb(r,s,o,u,h,y,T,I,H,J,le,de,te,re){if(r.timeoutHandle=-1,de=s.subtreeFlags,(de&8192||(de&16785408)===16785408)&&(Xu={stylesheets:null,count:0,unsuspend:PC},ab(s),de=LC(),de!==null)){r.cancelPendingCommit=de(bb.bind(null,r,s,y,o,u,h,T,I,H,le,1,te,re)),ks(r,y,T,!J);return}bb(r,s,y,o,u,h,T,I,H)}function tC(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],y=h.getSnapshot;h=h.value;try{if(!Xn(y(),h))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ks(r,s,o,u){s&=~Rp,s&=~$a,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var h=s;0<h;){var y=31-wn(h),T=1<<y;u[y]=-1,h&=~T}o!==0&&Ur(r,o,s)}function ef(){return(dt&6)===0?(Gu(0),!1):!0}function Mp(){if(Xe!==null){if(ft===0)var r=Xe.return;else r=Xe,Ii=Ba=null,Xm(r),Bo=null,ju=0,r=Xe;for(;r!==null;)$_(r.alternate,r),r=r.return;Xe=null}}function Ko(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,_C(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Mp(),xt=r,Xe=o=Ai(r.current,null),it=s,ft=0,tr=null,Rs=!1,qo=va(r,s),Cp=!1,Go=vr=Rp=$a=Is=Mt=0,qn=Hu=null,Ip=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var h=31-wn(u),y=1<<h;s|=r[h],u&=~y}return Vi=s,xd(),o}function mb(r,s){Ge=null,F.H=zd,s===Au||s===Dd?(s=D0(),ft=3):s===R0?(s=D0(),ft=4):ft=s===k_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,tr=s,Xe===null&&(Mt=1,$d(r,hr(s,r.current)))}function pb(){var r=F.H;return F.H=zd,r===null?zd:r}function gb(){var r=F.A;return F.A=J2,r}function jp(){Mt=4,Rs||(it&4194048)!==it&&yr.current!==null||(qo=!0),(Is&134217727)===0&&($a&134217727)===0||xt===null||ks(xt,it,vr,!1)}function Pp(r,s,o){var u=dt;dt|=2;var h=pb(),y=gb();(xt!==r||it!==s)&&(Jd=null,Ko(r,s)),s=!1;var T=Mt;e:do try{if(ft!==0&&Xe!==null){var I=Xe,H=tr;switch(ft){case 8:Mp(),T=6;break e;case 3:case 2:case 9:case 6:yr.current===null&&(s=!0);var J=ft;if(ft=0,tr=null,Qo(r,I,H,J),o&&qo){T=0;break e}break;default:J=ft,ft=0,tr=null,Qo(r,I,H,J)}}nC(),T=Mt;break}catch(le){mb(r,le)}while(!0);return s&&r.shellSuspendCounter++,Ii=Ba=null,dt=u,F.H=h,F.A=y,Xe===null&&(xt=null,it=0,xd()),T}function nC(){for(;Xe!==null;)yb(Xe)}function rC(r,s){var o=dt;dt|=2;var u=pb(),h=gb();xt!==r||it!==s?(Jd=null,Zd=We()+500,Ko(r,s)):qo=va(r,s);e:do try{if(ft!==0&&Xe!==null){s=Xe;var y=tr;t:switch(ft){case 1:ft=0,tr=null,Qo(r,s,y,1);break;case 2:case 9:if(I0(y)){ft=0,tr=null,vb(s);break}s=function(){ft!==2&&ft!==9||xt!==r||(ft=7),ei(r)},y.then(s,s);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:I0(y)?(ft=0,tr=null,vb(s)):(ft=0,tr=null,Qo(r,s,y,7));break;case 5:var T=null;switch(Xe.tag){case 26:T=Xe.memoizedState;case 5:case 27:var I=Xe;if(!T||Jb(T)){ft=0,tr=null;var H=I.sibling;if(H!==null)Xe=H;else{var J=I.return;J!==null?(Xe=J,tf(J)):Xe=null}break t}}ft=0,tr=null,Qo(r,s,y,5);break;case 6:ft=0,tr=null,Qo(r,s,y,6);break;case 8:Mp(),Mt=6;break e;default:throw Error(i(462))}}iC();break}catch(le){mb(r,le)}while(!0);return Ii=Ba=null,F.H=u,F.A=h,dt=o,Xe!==null?0:(xt=null,it=0,xd(),Mt)}function iC(){for(;Xe!==null&&!ke();)yb(Xe)}function yb(r){var s=q_(r.alternate,r,Vi);r.memoizedProps=r.pendingProps,s===null?tf(r):Xe=s}function vb(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=L_(o,s,s.pendingProps,s.type,void 0,it);break;case 11:s=L_(o,s,s.pendingProps,s.type.render,s.ref,it);break;case 5:Xm(s);default:$_(o,s),s=Xe=_0(s,Vi),s=q_(o,s,Vi)}r.memoizedProps=r.pendingProps,s===null?tf(r):Xe=s}function Qo(r,s,o,u){Ii=Ba=null,Xm(s),Bo=null,ju=0;var h=s.return;try{if(Y2(r,h,s,o,it)){Mt=1,$d(r,hr(o,r.current)),Xe=null;return}}catch(y){if(h!==null)throw Xe=h,y;Mt=1,$d(r,hr(o,r.current)),Xe=null;return}s.flags&32768?(ot||u===1?r=!0:qo||(it&536870912)!==0?r=!1:(Rs=r=!0,(u===2||u===9||u===3||u===6)&&(u=yr.current,u!==null&&u.tag===13&&(u.flags|=16384))),_b(s,r)):tf(s)}function tf(r){var s=r;do{if((s.flags&32768)!==0){_b(s,Rs);return}r=s.return;var o=Q2(s.alternate,s,Vi);if(o!==null){Xe=o;return}if(s=s.sibling,s!==null){Xe=s;return}Xe=s=r}while(s!==null);Mt===0&&(Mt=5)}function _b(r,s){do{var o=W2(r.alternate,r);if(o!==null){o.flags&=32767,Xe=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Xe=r;return}Xe=r=o}while(r!==null);Mt=6,Xe=null}function bb(r,s,o,u,h,y,T,I,H){r.cancelPendingCommit=null;do nf();while(yn!==0);if((dt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=Am,tu(r,o,y,T,I,H),r===xt&&(Xe=xt=null,it=0),$o=s,Ds=r,Yo=o,Dp=y,kp=h,cb=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,lC(xr,function(){return Sb(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=F.T,F.T=null,h=Q.p,Q.p=2,T=dt,dt|=4;try{X2(r,s,o)}finally{dt=T,Q.p=h,F.T=u}}yn=1,Eb(),xb(),wb()}}function Eb(){if(yn===1){yn=0;var r=Ds,s=$o,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=F.T,F.T=null;var u=Q.p;Q.p=2;var h=dt;dt|=4;try{rb(s,r);var y=Kp,T=u0(r.containerInfo),I=y.focusedElem,H=y.selectionRange;if(T!==I&&I&&I.ownerDocument&&l0(I.ownerDocument.documentElement,I)){if(H!==null&&Em(I)){var J=H.start,le=H.end;if(le===void 0&&(le=J),"selectionStart"in I)I.selectionStart=J,I.selectionEnd=Math.min(le,I.value.length);else{var de=I.ownerDocument||document,te=de&&de.defaultView||window;if(te.getSelection){var re=te.getSelection(),Le=I.textContent.length,Oe=Math.min(H.start,Le),gt=H.end===void 0?Oe:Math.min(H.end,Le);!re.extend&&Oe>gt&&(T=gt,gt=Oe,Oe=T);var W=o0(I,Oe),K=o0(I,gt);if(W&&K&&(re.rangeCount!==1||re.anchorNode!==W.node||re.anchorOffset!==W.offset||re.focusNode!==K.node||re.focusOffset!==K.offset)){var Z=de.createRange();Z.setStart(W.node,W.offset),re.removeAllRanges(),Oe>gt?(re.addRange(Z),re.extend(K.node,K.offset)):(Z.setEnd(K.node,K.offset),re.addRange(Z))}}}}for(de=[],re=I;re=re.parentNode;)re.nodeType===1&&de.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<de.length;I++){var ue=de[I];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}pf=!!Yp,Kp=Yp=null}finally{dt=h,Q.p=u,F.T=o}}r.current=s,yn=2}}function xb(){if(yn===2){yn=0;var r=Ds,s=$o,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=F.T,F.T=null;var u=Q.p;Q.p=2;var h=dt;dt|=4;try{J_(r,s.alternate,s)}finally{dt=h,Q.p=u,F.T=o}}yn=3}}function wb(){if(yn===4||yn===3){yn=0,Ue();var r=Ds,s=$o,o=Yo,u=cb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?yn=5:(yn=0,$o=Ds=null,Tb(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(Ns=null),fo(o),s=s.stateNode,ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(kt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=F.T,h=Q.p,Q.p=2,F.T=null;try{for(var y=r.onRecoverableError,T=0;T<u.length;T++){var I=u[T];y(I.value,{componentStack:I.stack})}}finally{F.T=s,Q.p=h}}(Yo&3)!==0&&nf(),ei(r),h=r.pendingLanes,(o&4194090)!==0&&(h&42)!==0?r===Op?qu++:(qu=0,Op=r):qu=0,Gu(0)}}function Tb(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Tu(s)))}function nf(r){return Eb(),xb(),wb(),Sb()}function Sb(){if(yn!==5)return!1;var r=Ds,s=Dp;Dp=0;var o=fo(Yo),u=F.T,h=Q.p;try{Q.p=32>o?32:o,F.T=null,o=kp,kp=null;var y=Ds,T=Yo;if(yn=0,$o=Ds=null,Yo=0,(dt&6)!==0)throw Error(i(331));var I=dt;if(dt|=4,lb(y.current),sb(y,y.current,T,o),dt=I,Gu(0,!1),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(kt,y)}catch{}return!0}finally{Q.p=h,F.T=u,Tb(r,s)}}function Ab(r,s,o){s=hr(o,s),s=dp(r.stateNode,s,2),r=Es(r,s,2),r!==null&&(pi(r,2),ei(r))}function bt(r,s,o){if(r.tag===3)Ab(r,r,o);else for(;s!==null;){if(s.tag===3){Ab(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ns===null||!Ns.has(u))){r=hr(o,r),o=N_(2),u=Es(s,o,2),u!==null&&(D_(o,u,s,r),pi(u,2),ei(u));break}}s=s.return}}function Vp(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new eC;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(o)||(Cp=!0,h.add(o),r=sC.bind(null,r,s,o),s.then(r,r))}function sC(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,xt===r&&(it&o)===o&&(Mt===4||Mt===3&&(it&62914560)===it&&300>We()-Np?(dt&2)===0&&Ko(r,0):Rp|=o,Go===it&&(Go=0)),ei(r)}function Cb(r,s){s===0&&(s=eu()),r=No(r,s),r!==null&&(pi(r,s),ei(r))}function aC(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),Cb(r,o)}function oC(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),Cb(r,o)}function lC(r,s){return se(r,s)}var rf=null,Wo=null,Lp=!1,sf=!1,Up=!1,Ya=0;function ei(r){r!==Wo&&r.next===null&&(Wo===null?rf=Wo=r:Wo=Wo.next=r),sf=!0,Lp||(Lp=!0,cC())}function Gu(r,s){if(!Up&&sf){Up=!0;do for(var o=!1,u=rf;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var y=0;else{var T=u.suspendedLanes,I=u.pingedLanes;y=(1<<31-wn(42|r)+1)-1,y&=h&~(T&~I),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Db(u,y))}else y=it,y=co(u,u===xt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||va(u,y)||(o=!0,Db(u,y));u=u.next}while(o);Up=!1}}function uC(){Rb()}function Rb(){sf=Lp=!1;var r=0;Ya!==0&&(vC()&&(r=Ya),Ya=0);for(var s=We(),o=null,u=rf;u!==null;){var h=u.next,y=Ib(u,s);y===0?(u.next=null,o===null?rf=h:o.next=h,h===null&&(Wo=o)):(o=u,(r!==0||(y&3)!==0)&&(sf=!0)),u=h}Gu(r)}function Ib(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var T=31-wn(y),I=1<<T,H=h[T];H===-1?((I&o)===0||(I&u)!==0)&&(h[T]=Zl(I,s)):H<=s&&(r.expiredLanes|=I),y&=~I}if(s=xt,o=it,o=co(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(ft===2||ft===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&ve(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||va(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&ve(u),fo(o)){case 2:case 8:o=Ft;break;case 32:o=xr;break;case 268435456:o=cs;break;default:o=xr}return u=Nb.bind(null,r),o=se(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&ve(u),r.callbackPriority=2,r.callbackNode=null,2}function Nb(r,s){if(yn!==0&&yn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(nf()&&r.callbackNode!==o)return null;var u=it;return u=co(r,r===xt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(fb(r,u,s),Ib(r,We()),r.callbackNode!=null&&r.callbackNode===o?Nb.bind(null,r):null)}function Db(r,s){if(nf())return null;fb(r,s,!0)}function cC(){bC(function(){(dt&6)!==0?se(Mn,uC):Rb()})}function Bp(){return Ya===0&&(Ya=Jl()),Ya}function kb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:vo(""+r)}function Ob(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function dC(r,s,o,u,h){if(s==="submit"&&o&&o.stateNode===h){var y=kb((h[Ht]||null).action),T=u.submitter;T&&(s=(s=T[Ht]||null)?kb(s.formAction):T.getAttribute("formAction"),s!==null&&(y=s,T=null));var I=new _o("action","action",null,u,h);r.push({event:I,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ya!==0){var H=T?Ob(h,T):new FormData(h);ap(o,{pending:!0,data:H,method:h.method,action:y},null,H)}}else typeof y=="function"&&(I.preventDefault(),H=T?Ob(h,T):new FormData(h),ap(o,{pending:!0,data:H,method:h.method,action:y},y,H))},currentTarget:h}]})}}for(var zp=0;zp<Sm.length;zp++){var Fp=Sm[zp],fC=Fp.toLowerCase(),hC=Fp[0].toUpperCase()+Fp.slice(1);Ar(fC,"on"+hC)}Ar(f0,"onAnimationEnd"),Ar(h0,"onAnimationIteration"),Ar(m0,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(N2,"onTransitionRun"),Ar(D2,"onTransitionStart"),Ar(k2,"onTransitionCancel"),Ar(p0,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($u));function Mb(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],h=u.event;u=u.listeners;e:{var y=void 0;if(s)for(var T=u.length-1;0<=T;T--){var I=u[T],H=I.instance,J=I.currentTarget;if(I=I.listener,H!==y&&h.isPropagationStopped())break e;y=I,h.currentTarget=J;try{y(h)}catch(le){Gd(le)}h.currentTarget=null,y=H}else for(T=0;T<u.length;T++){if(I=u[T],H=I.instance,J=I.currentTarget,I=I.listener,H!==y&&h.isPropagationStopped())break e;y=I,h.currentTarget=J;try{y(h)}catch(le){Gd(le)}h.currentTarget=null,y=H}}}}function Ze(r,s){var o=s[ru];o===void 0&&(o=s[ru]=new Set);var u=r+"__bubble";o.has(u)||(jb(s,r,2,!1),o.add(u))}function Hp(r,s,o){var u=0;s&&(u|=4),jb(o,r,u,s)}var af="_reactListening"+Math.random().toString(36).slice(2);function qp(r){if(!r[af]){r[af]=!0,iu.forEach(function(o){o!=="selectionchange"&&(mC.has(o)||Hp(o,!1,r),Hp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[af]||(s[af]=!0,Hp("selectionchange",!1,s))}}function jb(r,s,o,u){switch(sE(s)){case 2:var h=zC;break;case 8:h=FC;break;default:h=ig}o=h.bind(null,s,o,r),h=void 0,!dr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(s,o,{capture:!0,passive:h}):r.addEventListener(s,o,!0):h!==void 0?r.addEventListener(s,o,{passive:h}):r.addEventListener(s,o,!1)}function Gp(r,s,o,u,h){var y=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var I=u.stateNode.containerInfo;if(I===h)break;if(T===4)for(T=u.return;T!==null;){var H=T.tag;if((H===3||H===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;I!==null;){if(T=gi(I),T===null)return;if(H=T.tag,H===5||H===6||H===26||H===27){u=y=T;continue e}I=I.parentNode}}u=u.return}od(function(){var J=y,le=cr(o),de=[];e:{var te=g0.get(r);if(te!==void 0){var re=_o,Le=r;switch(r){case"keypress":if(Gr(o)===0)break e;case"keydown":case"keyup":re=So;break;case"focusin":Le="focus",re=xo;break;case"focusout":Le="blur",re=xo;break;case"beforeblur":case"afterblur":re=xo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=ym;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=pd;break;case f0:case h0:case m0:re=wo;break;case p0:re=yd;break;case"scroll":case"scrollend":re=ld;break;case"wheel":re=Ao;break;case"copy":case"cut":case"paste":re=To;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=gu;break;case"toggle":case"beforetoggle":re=_d}var Oe=(s&4)!==0,gt=!Oe&&(r==="scroll"||r==="scrollend"),W=Oe?te!==null?te+"Capture":null:te;Oe=[];for(var K=J,Z;K!==null;){var ue=K;if(Z=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Z===null||W===null||(ue=Aa(K,W),ue!=null&&Oe.push(Yu(K,ue,Z))),gt)break;K=K.return}0<Oe.length&&(te=new re(te,Le,null,o,le),de.push({event:te,listeners:Oe}))}}if((s&7)===0){e:{if(te=r==="mouseover"||r==="pointerover",re=r==="mouseout"||r==="pointerout",te&&o!==bi&&(Le=o.relatedTarget||o.fromElement)&&(gi(Le)||Le[lr]))break e;if((re||te)&&(te=le.window===le?le:(te=le.ownerDocument)?te.defaultView||te.parentWindow:window,re?(Le=o.relatedTarget||o.toElement,re=J,Le=Le?gi(Le):null,Le!==null&&(gt=l(Le),Oe=Le.tag,Le!==gt||Oe!==5&&Oe!==27&&Oe!==6)&&(Le=null)):(re=null,Le=J),re!==Le)){if(Oe=fr,ue="onMouseLeave",W="onMouseEnter",K="mouse",(r==="pointerout"||r==="pointerover")&&(Oe=gu,ue="onPointerLeave",W="onPointerEnter",K="pointer"),gt=re==null?te:zr(re),Z=Le==null?te:zr(Le),te=new Oe(ue,K+"leave",re,o,le),te.target=gt,te.relatedTarget=Z,ue=null,gi(le)===J&&(Oe=new Oe(W,K+"enter",Le,o,le),Oe.target=Z,Oe.relatedTarget=gt,ue=Oe),gt=ue,re&&Le)t:{for(Oe=re,W=Le,K=0,Z=Oe;Z;Z=Xo(Z))K++;for(Z=0,ue=W;ue;ue=Xo(ue))Z++;for(;0<K-Z;)Oe=Xo(Oe),K--;for(;0<Z-K;)W=Xo(W),Z--;for(;K--;){if(Oe===W||W!==null&&Oe===W.alternate)break t;Oe=Xo(Oe),W=Xo(W)}Oe=null}else Oe=null;re!==null&&Pb(de,te,re,Oe,!1),Le!==null&&gt!==null&&Pb(de,gt,Le,Oe,!0)}}e:{if(te=J?zr(J):window,re=te.nodeName&&te.nodeName.toLowerCase(),re==="select"||re==="input"&&te.type==="file")var xe=t0;else if(en(te))if(n0)xe=C2;else{xe=S2;var Qe=T2}else re=te.nodeName,!re||re.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&uu(J.elementType)&&(xe=t0):xe=A2;if(xe&&(xe=xe(r,J))){Si(de,xe,o,le);break e}Qe&&Qe(r,te,J),r==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&gs(te,"number",te.value)}switch(Qe=J?zr(J):window,r){case"focusin":(en(Qe)||Qe.contentEditable==="true")&&(Co=Qe,xm=J,_u=null);break;case"focusout":_u=xm=Co=null;break;case"mousedown":wm=!0;break;case"contextmenu":case"mouseup":case"dragend":wm=!1,c0(de,o,le);break;case"selectionchange":if(I2)break;case"keydown":case"keyup":c0(de,o,le)}var Ce;if(Kr)e:{switch(r){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else nt?ae(r,o)&&(Me="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Me="onCompositionStart");Me&&(x&&o.locale!=="ko"&&(nt||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&nt&&(Ce=du()):(qr=le,ys="value"in qr?qr.value:qr.textContent,nt=!0)),Qe=of(J,Me),0<Qe.length&&(Me=new mu(Me,r,null,o,le),de.push({event:Me,listeners:Qe}),Ce?Me.data=Ce:(Ce=ye(o),Ce!==null&&(Me.data=Ce)))),(Ce=_?Jt(r,o):rt(r,o))&&(Me=of(J,"onBeforeInput"),0<Me.length&&(Qe=new mu("onBeforeInput","beforeinput",null,o,le),de.push({event:Qe,listeners:Me}),Qe.data=Ce)),dC(de,r,J,o,le)}Mb(de,s)})}function Yu(r,s,o){return{instance:r,listener:s,currentTarget:o}}function of(r,s){for(var o=s+"Capture",u=[];r!==null;){var h=r,y=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||y===null||(h=Aa(r,o),h!=null&&u.unshift(Yu(r,h,y)),h=Aa(r,s),h!=null&&u.push(Yu(r,h,y))),r.tag===3)return u;r=r.return}return[]}function Xo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Pb(r,s,o,u,h){for(var y=s._reactName,T=[];o!==null&&o!==u;){var I=o,H=I.alternate,J=I.stateNode;if(I=I.tag,H!==null&&H===u)break;I!==5&&I!==26&&I!==27||J===null||(H=J,h?(J=Aa(o,y),J!=null&&T.unshift(Yu(o,J,H))):h||(J=Aa(o,y),J!=null&&T.push(Yu(o,J,H)))),o=o.return}T.length!==0&&r.push({event:s,listeners:T})}var pC=/\r\n?/g,gC=/\u0000|\uFFFD/g;function Vb(r){return(typeof r=="string"?r:""+r).replace(pC,`
`).replace(gC,"")}function Lb(r,s){return s=Vb(s),Vb(r)===s}function lf(){}function pt(r,s,o,u,h,y){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||ur(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&ur(r,""+u);break;case"className":Fr(r,"class",u);break;case"tabIndex":Fr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Fr(r,o,u);break;case"style":lu(r,u,y);break;case"data":if(s!=="object"){Fr(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=vo(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&pt(r,s,"name",h.name,h,null),pt(r,s,"formEncType",h.formEncType,h,null),pt(r,s,"formMethod",h.formMethod,h,null),pt(r,s,"formTarget",h.formTarget,h,null)):(pt(r,s,"encType",h.encType,h,null),pt(r,s,"method",h.method,h,null),pt(r,s,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=vo(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=lf);break;case"onScroll":u!=null&&Ze("scroll",r);break;case"onScrollEnd":u!=null&&Ze("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=vo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Ze("beforetoggle",r),Ze("toggle",r),ps(r,"popover",u);break;case"xlinkActuate":mn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":mn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":mn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":mn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":mn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":mn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":mn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":mn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":mn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ps(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=pm.get(o)||o,ps(r,o,u))}}function $p(r,s,o,u,h,y){switch(o){case"style":lu(r,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?ur(r,u):(typeof u=="number"||typeof u=="bigint")&&ur(r,""+u);break;case"onScroll":u!=null&&Ze("scroll",r);break;case"onScrollEnd":u!=null&&Ze("scrollend",r);break;case"onClick":u!=null&&(r.onclick=lf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ho.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),s=o.slice(2,h?o.length-7:void 0),y=r[Ht]||null,y=y!=null?y[o]:null,typeof y=="function"&&r.removeEventListener(s,y,h),typeof u=="function")){typeof y!="function"&&y!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,h);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):ps(r,o,u)}}}function vn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",r),Ze("load",r);var u=!1,h=!1,y;for(y in o)if(o.hasOwnProperty(y)){var T=o[y];if(T!=null)switch(y){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:pt(r,s,y,T,o,null)}}h&&pt(r,s,"srcSet",o.srcSet,o,null),u&&pt(r,s,"src",o.src,o,null);return;case"input":Ze("invalid",r);var I=y=T=h=null,H=null,J=null;for(u in o)if(o.hasOwnProperty(u)){var le=o[u];if(le!=null)switch(u){case"name":h=le;break;case"type":T=le;break;case"checked":H=le;break;case"defaultChecked":J=le;break;case"value":y=le;break;case"defaultValue":I=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,s));break;default:pt(r,s,u,le,o,null)}}wa(r,y,I,H,J,T,h,!1),yo(r);return;case"select":Ze("invalid",r),u=T=y=null;for(h in o)if(o.hasOwnProperty(h)&&(I=o[h],I!=null))switch(h){case"value":y=I;break;case"defaultValue":T=I;break;case"multiple":u=I;default:pt(r,s,h,I,o,null)}s=y,o=T,r.multiple=!!u,s!=null?_i(r,!!u,s,!1):o!=null&&_i(r,!!u,o,!0);return;case"textarea":Ze("invalid",r),y=h=u=null;for(T in o)if(o.hasOwnProperty(T)&&(I=o[T],I!=null))switch(T){case"value":u=I;break;case"defaultValue":h=I;break;case"children":y=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:pt(r,s,T,I,o,null)}Ta(r,u,h,y),yo(r);return;case"option":for(H in o)if(o.hasOwnProperty(H)&&(u=o[H],u!=null))switch(H){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:pt(r,s,H,u,o,null)}return;case"dialog":Ze("beforetoggle",r),Ze("toggle",r),Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":Ze("load",r);break;case"video":case"audio":for(u=0;u<$u.length;u++)Ze($u[u],r);break;case"image":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"embed":case"source":case"link":Ze("error",r),Ze("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in o)if(o.hasOwnProperty(J)&&(u=o[J],u!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:pt(r,s,J,u,o,null)}return;default:if(uu(s)){for(le in o)o.hasOwnProperty(le)&&(u=o[le],u!==void 0&&$p(r,s,le,u,o,void 0));return}}for(I in o)o.hasOwnProperty(I)&&(u=o[I],u!=null&&pt(r,s,I,u,o,null))}function yC(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,y=null,T=null,I=null,H=null,J=null,le=null;for(re in o){var de=o[re];if(o.hasOwnProperty(re)&&de!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":H=de;default:u.hasOwnProperty(re)||pt(r,s,re,null,u,de)}}for(var te in u){var re=u[te];if(de=o[te],u.hasOwnProperty(te)&&(re!=null||de!=null))switch(te){case"type":y=re;break;case"name":h=re;break;case"checked":J=re;break;case"defaultChecked":le=re;break;case"value":T=re;break;case"defaultValue":I=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,s));break;default:re!==de&&pt(r,s,te,re,u,de)}}Wn(r,T,I,H,J,le,y,h);return;case"select":re=T=I=te=null;for(y in o)if(H=o[y],o.hasOwnProperty(y)&&H!=null)switch(y){case"value":break;case"multiple":re=H;default:u.hasOwnProperty(y)||pt(r,s,y,null,u,H)}for(h in u)if(y=u[h],H=o[h],u.hasOwnProperty(h)&&(y!=null||H!=null))switch(h){case"value":te=y;break;case"defaultValue":I=y;break;case"multiple":T=y;default:y!==H&&pt(r,s,h,y,u,H)}s=I,o=T,u=re,te!=null?_i(r,!!o,te,!1):!!u!=!!o&&(s!=null?_i(r,!!o,s,!0):_i(r,!!o,o?[]:"",!1));return;case"textarea":re=te=null;for(I in o)if(h=o[I],o.hasOwnProperty(I)&&h!=null&&!u.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:pt(r,s,I,null,u,h)}for(T in u)if(h=u[T],y=o[T],u.hasOwnProperty(T)&&(h!=null||y!=null))switch(T){case"value":te=h;break;case"defaultValue":re=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==y&&pt(r,s,T,h,u,y)}ht(r,te,re);return;case"option":for(var Le in o)if(te=o[Le],o.hasOwnProperty(Le)&&te!=null&&!u.hasOwnProperty(Le))switch(Le){case"selected":r.selected=!1;break;default:pt(r,s,Le,null,u,te)}for(H in u)if(te=u[H],re=o[H],u.hasOwnProperty(H)&&te!==re&&(te!=null||re!=null))switch(H){case"selected":r.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:pt(r,s,H,te,u,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in o)te=o[Oe],o.hasOwnProperty(Oe)&&te!=null&&!u.hasOwnProperty(Oe)&&pt(r,s,Oe,null,u,te);for(J in u)if(te=u[J],re=o[J],u.hasOwnProperty(J)&&te!==re&&(te!=null||re!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:pt(r,s,J,te,u,re)}return;default:if(uu(s)){for(var gt in o)te=o[gt],o.hasOwnProperty(gt)&&te!==void 0&&!u.hasOwnProperty(gt)&&$p(r,s,gt,void 0,u,te);for(le in u)te=u[le],re=o[le],!u.hasOwnProperty(le)||te===re||te===void 0&&re===void 0||$p(r,s,le,te,u,re);return}}for(var W in o)te=o[W],o.hasOwnProperty(W)&&te!=null&&!u.hasOwnProperty(W)&&pt(r,s,W,null,u,te);for(de in u)te=u[de],re=o[de],!u.hasOwnProperty(de)||te===re||te==null&&re==null||pt(r,s,de,te,u,re)}var Yp=null,Kp=null;function uf(r){return r.nodeType===9?r:r.ownerDocument}function Ub(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bb(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Qp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Wp=null;function vC(){var r=window.event;return r&&r.type==="popstate"?r===Wp?!1:(Wp=r,!0):(Wp=null,!1)}var zb=typeof setTimeout=="function"?setTimeout:void 0,_C=typeof clearTimeout=="function"?clearTimeout:void 0,Fb=typeof Promise=="function"?Promise:void 0,bC=typeof queueMicrotask=="function"?queueMicrotask:typeof Fb<"u"?function(r){return Fb.resolve(null).then(r).catch(EC)}:zb;function EC(r){setTimeout(function(){throw r})}function Os(r){return r==="head"}function Hb(r,s){var o=s,u=0,h=0;do{var y=o.nextSibling;if(r.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<u&&8>u){o=u;var T=r.ownerDocument;if(o&1&&Ku(T.documentElement),o&2&&Ku(T.body),o&4)for(o=T.head,Ku(o),T=o.firstChild;T;){var I=T.nextSibling,H=T.nodeName;T[_a]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=I}}if(h===0){r.removeChild(y),nc(s);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:u=o.charCodeAt(0)-48;else u=0;o=y}while(o);nc(s)}function Xp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Xp(o),ms(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function xC(r,s,o,u){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[_a])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var y=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Rr(r.nextSibling),r===null)break}return null}function wC(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Rr(r.nextSibling),r===null))return null;return r}function Zp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function TC(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Rr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var Jp=null;function qb(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function Gb(r,s,o){switch(s=uf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Ku(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);ms(r)}var _r=new Map,$b=new Set;function cf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Li=Q.d;Q.d={f:SC,r:AC,D:CC,C:RC,L:IC,m:NC,X:kC,S:DC,M:OC};function SC(){var r=Li.f(),s=ef();return r||s}function AC(r){var s=Br(r);s!==null&&s.tag===5&&s.type==="form"?f_(s):Li.r(r)}var Zo=typeof document>"u"?null:document;function Yb(r,s,o){var u=Zo;if(u&&typeof s=="string"&&s){var h=qt(s);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),$b.has(h)||($b.add(h),r={rel:r,crossOrigin:o,href:s},u.querySelector(h)===null&&(s=u.createElement("link"),vn(s,"link",r),Vt(s),u.head.appendChild(s)))}}function CC(r){Li.D(r),Yb("dns-prefetch",r,null)}function RC(r,s){Li.C(r,s),Yb("preconnect",r,s)}function IC(r,s,o){Li.L(r,s,o);var u=Zo;if(u&&r&&s){var h='link[rel="preload"][as="'+qt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+qt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+qt(o.imageSizes)+'"]')):h+='[href="'+qt(r)+'"]';var y=h;switch(s){case"style":y=Jo(r);break;case"script":y=el(r)}_r.has(y)||(r=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),_r.set(y,r),u.querySelector(h)!==null||s==="style"&&u.querySelector(Qu(y))||s==="script"&&u.querySelector(Wu(y))||(s=u.createElement("link"),vn(s,"link",r),Vt(s),u.head.appendChild(s)))}}function NC(r,s){Li.m(r,s);var o=Zo;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+qt(u)+'"][href="'+qt(r)+'"]',y=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=el(r)}if(!_r.has(y)&&(r=v({rel:"modulepreload",href:r},s),_r.set(y,r),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Wu(y)))return}u=o.createElement("link"),vn(u,"link",r),Vt(u),o.head.appendChild(u)}}}function DC(r,s,o){Li.S(r,s,o);var u=Zo;if(u&&r){var h=jn(u).hoistableStyles,y=Jo(r);s=s||"default";var T=h.get(y);if(!T){var I={loading:0,preload:null};if(T=u.querySelector(Qu(y)))I.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},o),(o=_r.get(y))&&eg(r,o);var H=T=u.createElement("link");Vt(H),vn(H,"link",r),H._p=new Promise(function(J,le){H.onload=J,H.onerror=le}),H.addEventListener("load",function(){I.loading|=1}),H.addEventListener("error",function(){I.loading|=2}),I.loading|=4,df(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:I},h.set(y,T)}}}function kC(r,s){Li.X(r,s);var o=Zo;if(o&&r){var u=jn(o).hoistableScripts,h=el(r),y=u.get(h);y||(y=o.querySelector(Wu(h)),y||(r=v({src:r,async:!0},s),(s=_r.get(h))&&tg(r,s),y=o.createElement("script"),Vt(y),vn(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(h,y))}}function OC(r,s){Li.M(r,s);var o=Zo;if(o&&r){var u=jn(o).hoistableScripts,h=el(r),y=u.get(h);y||(y=o.querySelector(Wu(h)),y||(r=v({src:r,async:!0,type:"module"},s),(s=_r.get(h))&&tg(r,s),y=o.createElement("script"),Vt(y),vn(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(h,y))}}function Kb(r,s,o,u){var h=(h=Ee.current)?cf(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Jo(o.href),o=jn(h).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Jo(o.href);var y=jn(h).hoistableStyles,T=y.get(r);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,T),(y=h.querySelector(Qu(r)))&&!y._p&&(T.instance=y,T.state.loading=5),_r.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},_r.set(r,o),y||MC(h,r,o,T.state))),s&&u===null)throw Error(i(528,""));return T}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=el(o),o=jn(h).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Jo(r){return'href="'+qt(r)+'"'}function Qu(r){return'link[rel="stylesheet"]['+r+"]"}function Qb(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function MC(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),vn(s,"link",o),Vt(s),r.head.appendChild(s))}function el(r){return'[src="'+qt(r)+'"]'}function Wu(r){return"script[async]"+r}function Wb(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+qt(o.href)+'"]');if(u)return s.instance=u,Vt(u),u;var h=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Vt(u),vn(u,"style",h),df(u,o.precedence,r),s.instance=u;case"stylesheet":h=Jo(o.href);var y=r.querySelector(Qu(h));if(y)return s.state.loading|=4,s.instance=y,Vt(y),y;u=Qb(o),(h=_r.get(h))&&eg(u,h),y=(r.ownerDocument||r).createElement("link"),Vt(y);var T=y;return T._p=new Promise(function(I,H){T.onload=I,T.onerror=H}),vn(y,"link",u),s.state.loading|=4,df(y,o.precedence,r),s.instance=y;case"script":return y=el(o.src),(h=r.querySelector(Wu(y)))?(s.instance=h,Vt(h),h):(u=o,(h=_r.get(y))&&(u=v({},o),tg(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),Vt(h),vn(h,"link",u),r.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,df(u,o.precedence,r));return s.instance}function df(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,y=h,T=0;T<u.length;T++){var I=u[T];if(I.dataset.precedence===s)y=I;else if(y!==h)break}y?y.parentNode.insertBefore(r,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function eg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function tg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var ff=null;function Xb(r,s,o){if(ff===null){var u=new Map,h=ff=new Map;h.set(o,u)}else h=ff,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var y=o[h];if(!(y[_a]||y[Zt]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(s)||"";T=r+T;var I=u.get(T);I?I.push(y):u.set(T,[y])}}return u}function Zb(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function jC(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Jb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Xu=null;function PC(){}function VC(r,s,o){if(Xu===null)throw Error(i(475));var u=Xu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Jo(o.href),y=r.querySelector(Qu(h));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=hf.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=y,Vt(y);return}y=r.ownerDocument||r,o=Qb(o),(h=_r.get(h))&&eg(o,h),y=y.createElement("link"),Vt(y);var T=y;T._p=new Promise(function(I,H){T.onload=I,T.onerror=H}),vn(y,"link",o),s.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=hf.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function LC(){if(Xu===null)throw Error(i(475));var r=Xu;return r.stylesheets&&r.count===0&&ng(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&ng(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function hf(){if(this.count--,this.count===0){if(this.stylesheets)ng(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var mf=null;function ng(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,mf=new Map,s.forEach(UC,r),mf=null,hf.call(r))}function UC(r,s){if(!(s.state.loading&4)){var o=mf.get(r);if(o)var u=o.get(null);else{o=new Map,mf.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<h.length;y++){var T=h[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}h=s.instance,T=h.getAttribute("data-precedence"),y=o.get(T)||u,y===u&&o.set(null,h),o.set(T,h),this.count++,u=hf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),y?y.parentNode.insertBefore(h,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),s.state.loading|=4}}var Zu={$$typeof:B,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function BC(r,s,o,u,h,y,T,I){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function eE(r,s,o,u,h,y,T,I,H,J,le,de){return r=new BC(r,s,o,T,I,H,J,de),s=1,y===!0&&(s|=24),y=Zn(3,null,null,s),r.current=y,y.stateNode=r,s=Vm(),s.refCount++,r.pooledCache=s,s.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:s},zm(y),r}function tE(r){return r?(r=Do,r):Do}function nE(r,s,o,u,h,y){h=tE(h),u.context===null?u.context=h:u.pendingContext=h,u=bs(s),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=Es(r,u,s),o!==null&&(rr(o,r,s),Ru(o,r,s))}function rE(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function rg(r,s){rE(r,s),(r=r.alternate)&&rE(r,s)}function iE(r){if(r.tag===13){var s=No(r,67108864);s!==null&&rr(s,r,67108864),rg(r,67108864)}}var pf=!0;function zC(r,s,o,u){var h=F.T;F.T=null;var y=Q.p;try{Q.p=2,ig(r,s,o,u)}finally{Q.p=y,F.T=h}}function FC(r,s,o,u){var h=F.T;F.T=null;var y=Q.p;try{Q.p=8,ig(r,s,o,u)}finally{Q.p=y,F.T=h}}function ig(r,s,o,u){if(pf){var h=sg(u);if(h===null)Gp(r,s,u,gf,o),aE(r,u);else if(qC(h,r,s,o,u))u.stopPropagation();else if(aE(r,u),s&4&&-1<HC.indexOf(r)){for(;h!==null;){var y=Br(h);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=wr(y.pendingLanes);if(T!==0){var I=y;for(I.pendingLanes|=2,I.entangledLanes|=2;T;){var H=1<<31-wn(T);I.entanglements[1]|=H,T&=~H}ei(y),(dt&6)===0&&(Zd=We()+500,Gu(0))}}break;case 13:I=No(y,2),I!==null&&rr(I,y,2),ef(),rg(y,2)}if(y=sg(u),y===null&&Gp(r,s,u,gf,o),y===h)break;h=y}h!==null&&u.stopPropagation()}else Gp(r,s,u,null,o)}}function sg(r){return r=cr(r),ag(r)}var gf=null;function ag(r){if(gf=null,r=gi(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return gf=r,null}function sE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bn()){case Mn:return 2;case Ft:return 8;case xr:case Xl:return 32;case cs:return 268435456;default:return 32}default:return 32}}var og=!1,Ms=null,js=null,Ps=null,Ju=new Map,ec=new Map,Vs=[],HC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function aE(r,s){switch(r){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":Ju.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(s.pointerId)}}function tc(r,s,o,u,h,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[h]},s!==null&&(s=Br(s),s!==null&&iE(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function qC(r,s,o,u,h){switch(s){case"focusin":return Ms=tc(Ms,r,s,o,u,h),!0;case"dragenter":return js=tc(js,r,s,o,u,h),!0;case"mouseover":return Ps=tc(Ps,r,s,o,u,h),!0;case"pointerover":var y=h.pointerId;return Ju.set(y,tc(Ju.get(y)||null,r,s,o,u,h)),!0;case"gotpointercapture":return y=h.pointerId,ec.set(y,tc(ec.get(y)||null,r,s,o,u,h)),!0}return!1}function oE(r){var s=gi(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,ed(r.priority,function(){if(o.tag===13){var u=nr();u=ds(u);var h=No(o,u);h!==null&&rr(h,o,u),rg(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function yf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=sg(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);bi=u,o.target.dispatchEvent(u),bi=null}else return s=Br(o),s!==null&&iE(s),r.blockedOn=o,!1;s.shift()}return!0}function lE(r,s,o){yf(r)&&o.delete(s)}function GC(){og=!1,Ms!==null&&yf(Ms)&&(Ms=null),js!==null&&yf(js)&&(js=null),Ps!==null&&yf(Ps)&&(Ps=null),Ju.forEach(lE),ec.forEach(lE)}function vf(r,s){r.blockedOn===s&&(r.blockedOn=null,og||(og=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,GC)))}var _f=null;function uE(r){_f!==r&&(_f=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){_f===r&&(_f=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],h=r[s+2];if(typeof u!="function"){if(ag(u||o)===null)continue;break}var y=Br(o);y!==null&&(r.splice(s,3),s-=3,ap(y,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function nc(r){function s(H){return vf(H,r)}Ms!==null&&vf(Ms,r),js!==null&&vf(js,r),Ps!==null&&vf(Ps,r),Ju.forEach(s),ec.forEach(s);for(var o=0;o<Vs.length;o++){var u=Vs[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Vs.length&&(o=Vs[0],o.blockedOn===null);)oE(o),o.blockedOn===null&&Vs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],y=o[u+1],T=h[Ht]||null;if(typeof y=="function")T||uE(o);else if(T){var I=null;if(y&&y.hasAttribute("formAction")){if(h=y,T=y[Ht]||null)I=T.formAction;else if(ag(h)!==null)continue}else I=T.action;typeof I=="function"?o[u+1]=I:(o.splice(u,3),u-=3),uE(o)}}}function lg(r){this._internalRoot=r}bf.prototype.render=lg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=nr();nE(o,u,r,s,null,null)},bf.prototype.unmount=lg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;nE(r.current,2,null,r,null,null),ef(),s[lr]=null}};function bf(r){this._internalRoot=r}bf.prototype.unstable_scheduleHydration=function(r){if(r){var s=fs();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Vs.length&&s!==0&&s<Vs[o].priority;o++);Vs.splice(o,0,r),o===0&&oE(r)}};var cE=e.version;if(cE!=="19.1.0")throw Error(i(527,cE,"19.1.0"));Q.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var $C={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ef.isDisabled&&Ef.supportsFiber)try{kt=Ef.inject($C),ct=Ef}catch{}}return ic.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",h=A_,y=C_,T=R_,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks)),s=eE(r,1,!1,null,null,o,u,h,y,T,I,null),r[lr]=s.current,qp(r),new lg(s)},ic.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,h="",y=A_,T=C_,I=R_,H=null,J=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(H=o.unstable_transitionCallbacks),o.formState!==void 0&&(J=o.formState)),s=eE(r,1,!0,s,o??null,u,h,y,T,I,H,J),s.context=tE(null),o=s.current,u=nr(),u=ds(u),h=bs(u),h.callback=null,Es(o,h,u),o=u,s.current.lanes=o,pi(s,o),ei(s),r[lr]=s.current,qp(r),new bf(s)},ic.version="19.1.0",ic}var bE;function nR(){if(bE)return dg.exports;bE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),dg.exports=tR(),dg.exports}var rR=nR(),sc={},EE;function iR(){if(EE)return sc;EE=1,Object.defineProperty(sc,"__esModule",{value:!0}),sc.parse=c,sc.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,C){const R=new l,A=E.length;if(A<2)return R;const N=(C==null?void 0:C.decode)||v;let V=0;do{const U=E.indexOf("=",V);if(U===-1)break;const B=E.indexOf(";",V),G=B===-1?A:B;if(U>G){V=E.lastIndexOf(";",U-1)+1;continue}const $=f(E,V,U),ne=m(E,U,$),k=E.slice($,ne);if(R[k]===void 0){let S=f(E,U+1,G),M=m(E,G,S);const L=N(E.slice(S,M));R[k]=L}V=G+1}while(V<A);return R}function f(E,C,R){do{const A=E.charCodeAt(C);if(A!==32&&A!==9)return C}while(++C<R);return R}function m(E,C,R){for(;C>R;){const A=E.charCodeAt(--C);if(A!==32&&A!==9)return C+1}return R}function g(E,C,R){const A=(R==null?void 0:R.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const N=A(C);if(!e.test(N))throw new TypeError(`argument val is invalid: ${C}`);let V=E+"="+N;if(!R)return V;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);V+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);V+="; Domain="+R.domain}if(R.path){if(!i.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);V+="; Path="+R.path}if(R.expires){if(!b(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);V+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(V+="; HttpOnly"),R.secure&&(V+="; Secure"),R.partitioned&&(V+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return V}function v(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function b(E){return a.call(E)==="[object Date]"}return sc}iR();var xE="popstate";function sR(n={}){function e(i,a){let{pathname:l,search:c,hash:f}=i.location;return Ug("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:xc(a)}return oR(e,t,null,n)}function It(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Or(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aR(){return Math.random().toString(36).substring(2,10)}function wE(n,e){return{usr:n.state,key:n.key,idx:e}}function Ug(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?jl(e):e,state:t,key:e&&e.key||i||aR()}}function xc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function jl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function oR(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,f="POP",m=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function b(){f="POP";let N=v(),V=N==null?null:N-g;g=N,m&&m({action:f,location:A.location,delta:V})}function E(N,V){f="PUSH";let U=Ug(A.location,N,V);g=v()+1;let B=wE(U,g),G=A.createHref(U);try{c.pushState(B,"",G)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;a.location.assign(G)}l&&m&&m({action:f,location:A.location,delta:1})}function C(N,V){f="REPLACE";let U=Ug(A.location,N,V);g=v();let B=wE(U,g),G=A.createHref(U);c.replaceState(B,"",G),l&&m&&m({action:f,location:A.location,delta:0})}function R(N){return lR(N)}let A={get action(){return f},get location(){return n(a,c)},listen(N){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(xE,b),m=N,()=>{a.removeEventListener(xE,b),m=null}},createHref(N){return e(a,N)},createURL:R,encodeLocation(N){let V=R(N);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:E,replace:C,go(N){return c.go(N)}};return A}function lR(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),It(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:xc(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function Bw(n,e,t="/"){return uR(n,e,t,!1)}function uR(n,e,t,i){let a=typeof e=="string"?jl(e):e,l=Wi(a.pathname||"/",t);if(l==null)return null;let c=zw(n);cR(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let g=ER(l);f=_R(c[m],g,i)}return f}function zw(n,e=[],t=[],i=""){let a=(l,c,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(It(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let g=$i([i,m.relativePath]),v=t.concat(m);l.children&&l.children.length>0&&(It(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),zw(l.children,e,v,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:yR(g,l.index),routesMeta:v})};return n.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,c);else for(let m of Fw(l.path))a(l,c,m)}),e}function Fw(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=Fw(i.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>n.startsWith("/")&&m===""?"/":m)}function cR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:vR(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var dR=/^:[\w-]+$/,fR=3,hR=2,mR=1,pR=10,gR=-2,TE=n=>n==="*";function yR(n,e){let t=n.split("/"),i=t.length;return t.some(TE)&&(i+=gR),e&&(i+=hR),t.filter(a=>!TE(a)).reduce((a,l)=>a+(dR.test(l)?fR:l===""?mR:pR),i)}function vR(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function _R(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let f=0;f<i.length;++f){let m=i[f],g=f===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=eh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),E=m.route;if(!b&&g&&t&&!i[i.length-1].route.index&&(b=eh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:$i([l,b.pathname]),pathnameBase:SR($i([l,b.pathnameBase])),route:E}),b.pathnameBase!=="/"&&(l=$i([l,b.pathnameBase]))}return c}function eh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=bR(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:b},E)=>{if(v==="*"){let R=f[E]||"";c=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const C=f[E];return b&&!C?g[v]=void 0:g[v]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function bR(n,e=!1,t=!0){Or(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(i.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function ER(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Or(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Wi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function xR(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?jl(n):n;return{pathname:t?t.startsWith("/")?t:wR(t,e):e,search:AR(i),hash:CR(a)}}function wR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function pg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Oy(n){let e=TR(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function My(n,e,t,i=!1){let a;typeof n=="string"?a=jl(n):(a={...n},It(!a.pathname||!a.pathname.includes("?"),pg("?","pathname","search",a)),It(!a.pathname||!a.pathname.includes("#"),pg("#","pathname","hash",a)),It(!a.search||!a.search.includes("#"),pg("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=t;else{let b=e.length-1;if(!i&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),b-=1;a.pathname=E.join("/")}f=b>=0?e[b]:"/"}let m=xR(a,f),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var $i=n=>n.join("/").replace(/\/\/+/g,"/"),SR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),AR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,CR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function RR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Hw=["POST","PUT","PATCH","DELETE"];new Set(Hw);var IR=["GET",...Hw];new Set(IR);var Pl=w.createContext(null);Pl.displayName="DataRouter";var Ih=w.createContext(null);Ih.displayName="DataRouterState";var qw=w.createContext({isTransitioning:!1});qw.displayName="ViewTransition";var NR=w.createContext(new Map);NR.displayName="Fetchers";var DR=w.createContext(null);DR.displayName="Await";var Lr=w.createContext(null);Lr.displayName="Navigation";var jc=w.createContext(null);jc.displayName="Location";var fi=w.createContext({outlet:null,matches:[],isDataRoute:!1});fi.displayName="Route";var jy=w.createContext(null);jy.displayName="RouteError";function kR(n,{relative:e}={}){It(Vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=w.useContext(Lr),{hash:a,pathname:l,search:c}=Pc(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:$i([t,l])),i.createHref({pathname:f,search:c,hash:a})}function Vl(){return w.useContext(jc)!=null}function ss(){return It(Vl(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(jc).location}var Gw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $w(n){w.useContext(Lr).static||w.useLayoutEffect(n)}function Nh(){let{isDataRoute:n}=w.useContext(fi);return n?GR():OR()}function OR(){It(Vl(),"useNavigate() may be used only in the context of a <Router> component.");let n=w.useContext(Pl),{basename:e,navigator:t}=w.useContext(Lr),{matches:i}=w.useContext(fi),{pathname:a}=ss(),l=JSON.stringify(Oy(i)),c=w.useRef(!1);return $w(()=>{c.current=!0}),w.useCallback((m,g={})=>{if(Or(c.current,Gw),!c.current)return;if(typeof m=="number"){t.go(m);return}let v=My(m,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:$i([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,a,n])}w.createContext(null);function Pc(n,{relative:e}={}){let{matches:t}=w.useContext(fi),{pathname:i}=ss(),a=JSON.stringify(Oy(t));return w.useMemo(()=>My(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function MR(n,e){return Yw(n,e)}function Yw(n,e,t,i){var V;It(Vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=w.useContext(Lr),{matches:l}=w.useContext(fi),c=l[l.length-1],f=c?c.params:{},m=c?c.pathname:"/",g=c?c.pathnameBase:"/",v=c&&c.route;{let U=v&&v.path||"";Kw(m,!v||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let b=ss(),E;if(e){let U=typeof e=="string"?jl(e):e;It(g==="/"||((V=U.pathname)==null?void 0:V.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${U.pathname}" was given in the \`location\` prop.`),E=U}else E=b;let C=E.pathname||"/",R=C;if(g!=="/"){let U=g.replace(/^\//,"").split("/");R="/"+C.replace(/^\//,"").split("/").slice(U.length).join("/")}let A=Bw(n,{pathname:R});Or(v||A!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Or(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=UR(A&&A.map(U=>Object.assign({},U,{params:Object.assign({},f,U.params),pathname:$i([g,a.encodeLocation?a.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:$i([g,a.encodeLocation?a.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),l,t,i);return e&&N?w.createElement(jc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},N):N}function jR(){let n=qR(),e=RR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:l},"ErrorBoundary")," or"," ",w.createElement("code",{style:l},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:a},t):null,c)}var PR=w.createElement(jR,null),VR=class extends w.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?w.createElement(fi.Provider,{value:this.props.routeContext},w.createElement(jy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LR({routeContext:n,match:e,children:t}){let i=w.useContext(Pl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(fi.Provider,{value:n},t)}function UR(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let m=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);It(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,f=-1;if(t)for(let m=0;m<a.length;m++){let g=a[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:v,errors:b}=t,E=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||E){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,g,v)=>{let b,E=!1,C=null,R=null;t&&(b=l&&g.route.id?l[g.route.id]:void 0,C=g.route.errorElement||PR,c&&(f<0&&v===0?(Kw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,R=null):f===v&&(E=!0,R=g.route.hydrateFallbackElement||null)));let A=e.concat(a.slice(0,v+1)),N=()=>{let V;return b?V=C:E?V=R:g.route.Component?V=w.createElement(g.route.Component,null):g.route.element?V=g.route.element:V=m,w.createElement(LR,{match:g,routeContext:{outlet:m,matches:A,isDataRoute:t!=null},children:V})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?w.createElement(VR,{location:t.location,revalidation:t.revalidation,component:C,error:b,children:N(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):N()},null)}function Py(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BR(n){let e=w.useContext(Pl);return It(e,Py(n)),e}function zR(n){let e=w.useContext(Ih);return It(e,Py(n)),e}function FR(n){let e=w.useContext(fi);return It(e,Py(n)),e}function Vy(n){let e=FR(n),t=e.matches[e.matches.length-1];return It(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function HR(){return Vy("useRouteId")}function qR(){var i;let n=w.useContext(jy),e=zR("useRouteError"),t=Vy("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function GR(){let{router:n}=BR("useNavigate"),e=Vy("useNavigate"),t=w.useRef(!1);return $w(()=>{t.current=!0}),w.useCallback(async(a,l={})=>{Or(t.current,Gw),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var SE={};function Kw(n,e,t){!e&&!SE[n]&&(SE[n]=!0,Or(!1,t))}w.memo($R);function $R({routes:n,future:e,state:t}){return Yw(n,void 0,t,e)}function Bg({to:n,replace:e,state:t,relative:i}){It(Vl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=w.useContext(Lr);Or(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=w.useContext(fi),{pathname:c}=ss(),f=Nh(),m=My(n,Oy(l),c,i==="path"),g=JSON.stringify(m);return w.useEffect(()=>{f(JSON.parse(g),{replace:e,state:t,relative:i})},[f,g,i,e,t]),null}function Ir(n){It(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function YR({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){It(!Vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=w.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=jl(t));let{pathname:m="/",search:g="",hash:v="",state:b=null,key:E="default"}=t,C=w.useMemo(()=>{let R=Wi(m,c);return R==null?null:{location:{pathname:R,search:g,hash:v,state:b,key:E},navigationType:i}},[c,m,g,v,b,E,i]);return Or(C!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:w.createElement(Lr.Provider,{value:f},w.createElement(jc.Provider,{children:e,value:C}))}function KR({children:n,location:e}){return MR(zg(n),e)}function zg(n,e=[]){let t=[];return w.Children.forEach(n,(i,a)=>{if(!w.isValidElement(i))return;let l=[...e,a];if(i.type===w.Fragment){t.push.apply(t,zg(i.props.children,l));return}It(i.type===Ir,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),It(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=zg(i.props.children,l)),t.push(c)}),t}var Uf="get",Bf="application/x-www-form-urlencoded";function Dh(n){return n!=null&&typeof n.tagName=="string"}function QR(n){return Dh(n)&&n.tagName.toLowerCase()==="button"}function WR(n){return Dh(n)&&n.tagName.toLowerCase()==="form"}function XR(n){return Dh(n)&&n.tagName.toLowerCase()==="input"}function ZR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function JR(n,e){return n.button===0&&(!e||e==="_self")&&!ZR(n)}var xf=null;function eI(){if(xf===null)try{new FormData(document.createElement("form"),0),xf=!1}catch{xf=!0}return xf}var tI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gg(n){return n!=null&&!tI.has(n)?(Or(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bf}"`),null):n}function nI(n,e){let t,i,a,l,c;if(WR(n)){let f=n.getAttribute("action");i=f?Wi(f,e):null,t=n.getAttribute("method")||Uf,a=gg(n.getAttribute("enctype"))||Bf,l=new FormData(n)}else if(QR(n)||XR(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||f.getAttribute("action");if(i=m?Wi(m,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Uf,a=gg(n.getAttribute("formenctype"))||gg(f.getAttribute("enctype"))||Bf,l=new FormData(f,n),!eI()){let{name:g,type:v,value:b}=n;if(v==="image"){let E=g?`${g}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else g&&l.append(g,b)}}else{if(Dh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Uf,i=null,a=Bf,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}function Ly(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function rI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function sI(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await rI(l,t);return c.links?c.links():[]}return[]}));return uI(i.flat(1).filter(iI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function AE(n,e,t,i,a,l){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,f=(m,g)=>{var v;return t[g].pathname!==m.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,g)=>c(m,g)||f(m,g)):l==="data"?e.filter((m,g)=>{var b;let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,g)||f(m,g))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function aI(n,e,{includeHydrateFallback:t}={}){return oI(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function oI(n){return[...new Set(n)]}function lI(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function uI(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(lI(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var cI=new Set([100,101,204,205]);function dI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Wi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Qw(){let n=w.useContext(Pl);return Ly(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function fI(){let n=w.useContext(Ih);return Ly(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Uy=w.createContext(void 0);Uy.displayName="FrameworkContext";function Ww(){let n=w.useContext(Uy);return Ly(n,"You must render this element inside a <HydratedRouter> element"),n}function hI(n,e){let t=w.useContext(Uy),[i,a]=w.useState(!1),[l,c]=w.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,E=w.useRef(null);w.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let A=V=>{V.forEach(U=>{c(U.isIntersecting)})},N=new IntersectionObserver(A,{threshold:.5});return E.current&&N.observe(E.current),()=>{N.disconnect()}}},[n]),w.useEffect(()=>{if(i){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[i]);let C=()=>{a(!0)},R=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,E,{}]:[l,E,{onFocus:ac(f,C),onBlur:ac(m,R),onMouseEnter:ac(g,C),onMouseLeave:ac(v,R),onTouchStart:ac(b,C)}]:[!1,E,{}]}function ac(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function mI({page:n,...e}){let{router:t}=Qw(),i=w.useMemo(()=>Bw(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?w.createElement(gI,{page:n,matches:i,...e}):null}function pI(n){let{manifest:e,routeModules:t}=Ww(),[i,a]=w.useState([]);return w.useEffect(()=>{let l=!1;return sI(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function gI({page:n,matches:e,...t}){let i=ss(),{manifest:a,routeModules:l}=Ww(),{basename:c}=Qw(),{loaderData:f,matches:m}=fI(),g=w.useMemo(()=>AE(n,e,m,a,i,"data"),[n,e,m,a,i]),v=w.useMemo(()=>AE(n,e,m,a,i,"assets"),[n,e,m,a,i]),b=w.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let R=new Set,A=!1;if(e.forEach(V=>{var B;let U=a.routes[V.route.id];!U||!U.hasLoader||(!g.some(G=>G.route.id===V.route.id)&&V.route.id in f&&((B=l[V.route.id])!=null&&B.shouldRevalidate)||U.hasClientLoader?A=!0:R.add(V.route.id))}),R.size===0)return[];let N=dI(n,c);return A&&R.size>0&&N.searchParams.set("_routes",e.filter(V=>R.has(V.route.id)).map(V=>V.route.id).join(",")),[N.pathname+N.search]},[c,f,i,a,g,e,n,l]),E=w.useMemo(()=>aI(v,a),[v,a]),C=pI(v);return w.createElement(w.Fragment,null,b.map(R=>w.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),E.map(R=>w.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),C.map(({key:R,link:A})=>w.createElement("link",{key:R,...A})))}function yI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Xw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Xw&&(window.__reactRouterVersion="7.6.1")}catch{}function vI({basename:n,children:e,window:t}){let i=w.useRef();i.current==null&&(i.current=sR({window:t,v5Compat:!0}));let a=i.current,[l,c]=w.useState({action:a.action,location:a.location}),f=w.useCallback(m=>{w.startTransition(()=>c(m))},[c]);return w.useLayoutEffect(()=>a.listen(f),[a,f]),w.createElement(YR,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var Zw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yl=w.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:g,preventScrollReset:v,viewTransition:b,...E},C){let{basename:R}=w.useContext(Lr),A=typeof g=="string"&&Zw.test(g),N,V=!1;if(typeof g=="string"&&A&&(N=g,Xw))try{let M=new URL(window.location.href),L=g.startsWith("//")?new URL(M.protocol+g):new URL(g),D=Wi(L.pathname,R);L.origin===M.origin&&D!=null?g=D+L.search+L.hash:V=!0}catch{Or(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=kR(g,{relative:a}),[B,G,$]=hI(i,E),ne=xI(g,{replace:c,state:f,target:m,preventScrollReset:v,relative:a,viewTransition:b});function k(M){e&&e(M),M.defaultPrevented||ne(M)}let S=w.createElement("a",{...E,...$,href:N||U,onClick:V||l?e:k,ref:yI(C,G),target:m,"data-discover":!A&&t==="render"?"true":void 0});return B&&!A?w.createElement(w.Fragment,null,S,w.createElement(mI,{page:U})):S});yl.displayName="Link";var _I=w.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...g},v){let b=Pc(c,{relative:g.relative}),E=ss(),C=w.useContext(Ih),{navigator:R,basename:A}=w.useContext(Lr),N=C!=null&&CI(b)&&f===!0,V=R.encodeLocation?R.encodeLocation(b).pathname:b.pathname,U=E.pathname,B=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(U=U.toLowerCase(),B=B?B.toLowerCase():null,V=V.toLowerCase()),B&&A&&(B=Wi(B,A)||B);const G=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let $=U===V||!a&&U.startsWith(V)&&U.charAt(G)==="/",ne=B!=null&&(B===V||!a&&B.startsWith(V)&&B.charAt(V.length)==="/"),k={isActive:$,isPending:ne,isTransitioning:N},S=$?e:void 0,M;typeof i=="function"?M=i(k):M=[i,$?"active":null,ne?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(k):l;return w.createElement(yl,{...g,"aria-current":S,className:M,ref:v,style:L,to:c,viewTransition:f},typeof m=="function"?m(k):m)});_I.displayName="NavLink";var bI=w.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=Uf,action:f,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:b,...E},C)=>{let R=SI(),A=AI(f,{relative:g}),N=c.toLowerCase()==="get"?"get":"post",V=typeof f=="string"&&Zw.test(f),U=B=>{if(m&&m(B),B.defaultPrevented)return;B.preventDefault();let G=B.nativeEvent.submitter,$=(G==null?void 0:G.getAttribute("formmethod"))||c;R(G||B.currentTarget,{fetcherKey:e,method:$,navigate:t,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:b})};return w.createElement("form",{ref:C,method:N,action:A,onSubmit:i?m:U,...E,"data-discover":!V&&n==="render"?"true":void 0})});bI.displayName="Form";function EI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jw(n){let e=w.useContext(Pl);return It(e,EI(n)),e}function xI(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=Nh(),m=ss(),g=Pc(n,{relative:l});return w.useCallback(v=>{if(JR(v,e)){v.preventDefault();let b=t!==void 0?t:xc(m)===xc(g);f(n,{replace:b,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[m,f,g,t,i,e,n,a,l,c])}var wI=0,TI=()=>`__${String(++wI)}__`;function SI(){let{router:n}=Jw("useSubmit"),{basename:e}=w.useContext(Lr),t=HR();return w.useCallback(async(i,a={})=>{let{action:l,method:c,encType:f,formData:m,body:g}=nI(i,e);if(a.navigate===!1){let v=a.fetcherKey||TI();await n.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function AI(n,{relative:e}={}){let{basename:t}=w.useContext(Lr),i=w.useContext(fi);It(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Pc(n||".",{relative:e})},c=ss();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(v=>v==="")){f.delete("index"),m.filter(b=>b).forEach(b=>f.append("index",b));let v=f.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:$i([t,l.pathname])),xc(l)}function CI(n,e={}){let t=w.useContext(qw);It(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Jw("useViewTransitionState"),a=Pc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Wi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Wi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return eh(a.pathname,c)!=null||eh(a.pathname,l)!=null}[...cI];var Vc=Uw();const RI=Vw(Vc);function CE(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function II(...n){return e=>{let t=!1;const i=n.map(a=>{const l=CE(a,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():CE(n[a],null)}}}}function zt(...n){return w.useCallback(II(...n),n)}function wc(n){const e=NI(n),t=w.forwardRef((i,a)=>{const{children:l,...c}=i,f=w.Children.toArray(l),m=f.find(kI);if(m){const g=m.props.children,v=f.map(b=>b===m?w.Children.count(g)>1?w.Children.only(null):w.isValidElement(g)?g.props.children:null:b);return p.jsx(e,{...c,ref:a,children:w.isValidElement(g)?w.cloneElement(g,void 0,v):null})}return p.jsx(e,{...c,ref:a,children:l})});return t.displayName=`${n}.Slot`,t}var eT=wc("Slot");function NI(n){const e=w.forwardRef((t,i)=>{const{children:a,...l}=t,c=w.isValidElement(a)?MI(a):void 0,f=zt(c,i);if(w.isValidElement(a)){const m=OI(l,a.props);return a.type!==w.Fragment&&(m.ref=f),w.cloneElement(a,m)}return w.Children.count(a)>1?w.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var DI=Symbol("radix.slottable");function kI(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===DI}function OI(n,e){const t={...e};for(const i in e){const a=n[i],l=e[i];/^on[A-Z]/.test(i)?a&&l?t[i]=(...f)=>{const m=l(...f);return a(...f),m}:a&&(t[i]=a):i==="style"?t[i]={...a,...l}:i==="className"&&(t[i]=[a,l].filter(Boolean).join(" "))}return{...n,...t}}function MI(n){var i,a;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function tT(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=tT(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function nT(){for(var n,e,t=0,i="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=tT(n))&&(i&&(i+=" "),i+=e);return i}const RE=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,IE=nT,By=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return IE(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:a,defaultVariants:l}=e,c=Object.keys(a).map(g=>{const v=t==null?void 0:t[g],b=l==null?void 0:l[g];if(v===null)return null;const E=RE(v)||RE(b);return a[g][E]}),f=t&&Object.entries(t).reduce((g,v)=>{let[b,E]=v;return E===void 0||(g[b]=E),g},{}),m=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((g,v)=>{let{class:b,className:E,...C}=v;return Object.entries(C).every(R=>{let[A,N]=R;return Array.isArray(N)?N.includes({...l,...f}[A]):{...l,...f}[A]===N})?[...g,b,E]:g},[]);return IE(n,c,m,t==null?void 0:t.class,t==null?void 0:t.className)},zy="-",jI=n=>{const e=VI(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:c=>{const f=c.split(zy);return f[0]===""&&f.length!==1&&f.shift(),rT(f,e)||PI(c)},getConflictingClassGroupIds:(c,f)=>{const m=t[c]||[];return f&&i[c]?[...m,...i[c]]:m}}},rT=(n,e)=>{var c;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),a=i?rT(n.slice(1),i):void 0;if(a)return a;if(e.validators.length===0)return;const l=n.join(zy);return(c=e.validators.find(({validator:f})=>f(l)))==null?void 0:c.classGroupId},NE=/^\[(.+)\]$/,PI=n=>{if(NE.test(n)){const e=NE.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},VI=n=>{const{theme:e,classGroups:t}=n,i={nextPart:new Map,validators:[]};for(const a in t)Fg(t[a],i,a,e);return i},Fg=(n,e,t,i)=>{n.forEach(a=>{if(typeof a=="string"){const l=a===""?e:DE(e,a);l.classGroupId=t;return}if(typeof a=="function"){if(LI(a)){Fg(a(i),e,t,i);return}e.validators.push({validator:a,classGroupId:t});return}Object.entries(a).forEach(([l,c])=>{Fg(c,DE(e,l),t,i)})})},DE=(n,e)=>{let t=n;return e.split(zy).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},LI=n=>n.isThemeGetter,UI=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const a=(l,c)=>{t.set(l,c),e++,e>n&&(e=0,i=t,t=new Map)};return{get(l){let c=t.get(l);if(c!==void 0)return c;if((c=i.get(l))!==void 0)return a(l,c),c},set(l,c){t.has(l)?t.set(l,c):a(l,c)}}},Hg="!",qg=":",BI=qg.length,zI=n=>{const{prefix:e,experimentalParseClassName:t}=n;let i=a=>{const l=[];let c=0,f=0,m=0,g;for(let R=0;R<a.length;R++){let A=a[R];if(c===0&&f===0){if(A===qg){l.push(a.slice(m,R)),m=R+BI;continue}if(A==="/"){g=R;continue}}A==="["?c++:A==="]"?c--:A==="("?f++:A===")"&&f--}const v=l.length===0?a:a.substring(m),b=FI(v),E=b!==v,C=g&&g>m?g-m:void 0;return{modifiers:l,hasImportantModifier:E,baseClassName:b,maybePostfixModifierPosition:C}};if(e){const a=e+qg,l=i;i=c=>c.startsWith(a)?l(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(t){const a=i;i=l=>t({className:l,parseClassName:a})}return i},FI=n=>n.endsWith(Hg)?n.substring(0,n.length-1):n.startsWith(Hg)?n.substring(1):n,HI=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const a=[];let l=[];return i.forEach(c=>{c[0]==="["||e[c]?(a.push(...l.sort(),c),l=[]):l.push(c)}),a.push(...l.sort()),a}},qI=n=>({cache:UI(n.cacheSize),parseClassName:zI(n),sortModifiers:HI(n),...jI(n)}),GI=/\s+/,$I=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],f=n.trim().split(GI);let m="";for(let g=f.length-1;g>=0;g-=1){const v=f[g],{isExternal:b,modifiers:E,hasImportantModifier:C,baseClassName:R,maybePostfixModifierPosition:A}=t(v);if(b){m=v+(m.length>0?" "+m:m);continue}let N=!!A,V=i(N?R.substring(0,A):R);if(!V){if(!N){m=v+(m.length>0?" "+m:m);continue}if(V=i(R),!V){m=v+(m.length>0?" "+m:m);continue}N=!1}const U=l(E).join(":"),B=C?U+Hg:U,G=B+V;if(c.includes(G))continue;c.push(G);const $=a(V,N);for(let ne=0;ne<$.length;++ne){const k=$[ne];c.push(B+k)}m=v+(m.length>0?" "+m:m)}return m};function YI(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=iT(e))&&(i&&(i+=" "),i+=t);return i}const iT=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=iT(n[i]))&&(t&&(t+=" "),t+=e);return t};function KI(n,...e){let t,i,a,l=c;function c(m){const g=e.reduce((v,b)=>b(v),n());return t=qI(g),i=t.cache.get,a=t.cache.set,l=f,f(m)}function f(m){const g=i(m);if(g)return g;const v=$I(m,t);return a(m,v),v}return function(){return l(YI.apply(null,arguments))}}const rn=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},sT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,aT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,QI=/^\d+\/\d+$/,WI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,XI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ZI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,JI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,eN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,tl=n=>QI.test(n),$e=n=>!!n&&!Number.isNaN(Number(n)),Us=n=>!!n&&Number.isInteger(Number(n)),yg=n=>n.endsWith("%")&&$e(n.slice(0,-1)),Ui=n=>WI.test(n),tN=()=>!0,nN=n=>XI.test(n)&&!ZI.test(n),oT=()=>!1,rN=n=>JI.test(n),iN=n=>eN.test(n),sN=n=>!we(n)&&!Te(n),aN=n=>Ll(n,cT,oT),we=n=>sT.test(n),Ka=n=>Ll(n,dT,nN),vg=n=>Ll(n,dN,$e),kE=n=>Ll(n,lT,oT),oN=n=>Ll(n,uT,iN),wf=n=>Ll(n,fT,rN),Te=n=>aT.test(n),oc=n=>Ul(n,dT),lN=n=>Ul(n,fN),OE=n=>Ul(n,lT),uN=n=>Ul(n,cT),cN=n=>Ul(n,uT),Tf=n=>Ul(n,fT,!0),Ll=(n,e,t)=>{const i=sT.exec(n);return i?i[1]?e(i[1]):t(i[2]):!1},Ul=(n,e,t=!1)=>{const i=aT.exec(n);return i?i[1]?e(i[1]):t:!1},lT=n=>n==="position"||n==="percentage",uT=n=>n==="image"||n==="url",cT=n=>n==="length"||n==="size"||n==="bg-size",dT=n=>n==="length",dN=n=>n==="number",fN=n=>n==="family-name",fT=n=>n==="shadow",hN=()=>{const n=rn("color"),e=rn("font"),t=rn("text"),i=rn("font-weight"),a=rn("tracking"),l=rn("leading"),c=rn("breakpoint"),f=rn("container"),m=rn("spacing"),g=rn("radius"),v=rn("shadow"),b=rn("inset-shadow"),E=rn("text-shadow"),C=rn("drop-shadow"),R=rn("blur"),A=rn("perspective"),N=rn("aspect"),V=rn("ease"),U=rn("animate"),B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],$=()=>[...G(),Te,we],ne=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],S=()=>[Te,we,m],M=()=>[tl,"full","auto",...S()],L=()=>[Us,"none","subgrid",Te,we],D=()=>["auto",{span:["full",Us,Te,we]},Us,Te,we],P=()=>[Us,"auto",Te,we],j=()=>["auto","min","max","fr",Te,we],q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ee=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...S()],Q=()=>[tl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],Y=()=>[n,Te,we],me=()=>[...G(),OE,kE,{position:[Te,we]}],z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ie=()=>["auto","cover","contain",uN,aN,{size:[Te,we]}],he=()=>[yg,oc,Ka],oe=()=>["","none","full",g,Te,we],pe=()=>["",$e,oc,Ka],Ae=()=>["solid","dashed","dotted","double"],Ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ge=()=>[$e,yg,OE,kE],Se=()=>["","none",R,Te,we],He=()=>["none",$e,Te,we],Ne=()=>["none",$e,Te,we],De=()=>[$e,Te,we],Ve=()=>[tl,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ui],breakpoint:[Ui],color:[tN],container:[Ui],"drop-shadow":[Ui],ease:["in","out","in-out"],font:[sN],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ui],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ui],shadow:[Ui],spacing:["px",$e],text:[Ui],"text-shadow":[Ui],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",tl,we,Te,N]}],container:["container"],columns:[{columns:[$e,we,Te,f]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:$()}],overflow:[{overflow:ne()}],"overflow-x":[{"overflow-x":ne()}],"overflow-y":[{"overflow-y":ne()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[Us,"auto",Te,we]}],basis:[{basis:[tl,"full","auto",f,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[$e,tl,"auto","initial","none",we]}],grow:[{grow:["",$e,Te,we]}],shrink:[{shrink:["",$e,Te,we]}],order:[{order:[Us,"first","last","none",Te,we]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":j()}],"auto-rows":[{"auto-rows":j()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...q(),"normal"]}],"justify-items":[{"justify-items":[...ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...ee()]}],"align-content":[{content:["normal",...q()]}],"align-items":[{items:[...ee(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ee(),{baseline:["","last"]}]}],"place-content":[{"place-content":q()}],"place-items":[{"place-items":[...ee(),"baseline"]}],"place-self":[{"place-self":["auto",...ee()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:Q()}],w:[{w:[f,"screen",...Q()]}],"min-w":[{"min-w":[f,"screen","none",...Q()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[c]},...Q()]}],h:[{h:["screen","lh",...Q()]}],"min-h":[{"min-h":["screen","lh","none",...Q()]}],"max-h":[{"max-h":["screen","lh",...Q()]}],"font-size":[{text:["base",t,oc,Ka]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Te,vg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",yg,we]}],"font-family":[{font:[lN,we,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Te,we]}],"line-clamp":[{"line-clamp":[$e,"none",Te,vg]}],leading:[{leading:[l,...S()]}],"list-image":[{"list-image":["none",Te,we]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Te,we]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Y()}],"text-color":[{text:Y()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[$e,"from-font","auto",Te,Ka]}],"text-decoration-color":[{decoration:Y()}],"underline-offset":[{"underline-offset":[$e,"auto",Te,we]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te,we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te,we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:me()}],"bg-repeat":[{bg:z()}],"bg-size":[{bg:ie()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Us,Te,we],radial:["",Te,we],conic:[Us,Te,we]},cN,oN]}],"bg-color":[{bg:Y()}],"gradient-from-pos":[{from:he()}],"gradient-via-pos":[{via:he()}],"gradient-to-pos":[{to:he()}],"gradient-from":[{from:Y()}],"gradient-via":[{via:Y()}],"gradient-to":[{to:Y()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:pe()}],"border-w-x":[{"border-x":pe()}],"border-w-y":[{"border-y":pe()}],"border-w-s":[{"border-s":pe()}],"border-w-e":[{"border-e":pe()}],"border-w-t":[{"border-t":pe()}],"border-w-r":[{"border-r":pe()}],"border-w-b":[{"border-b":pe()}],"border-w-l":[{"border-l":pe()}],"divide-x":[{"divide-x":pe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":pe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ae(),"hidden","none"]}],"divide-style":[{divide:[...Ae(),"hidden","none"]}],"border-color":[{border:Y()}],"border-color-x":[{"border-x":Y()}],"border-color-y":[{"border-y":Y()}],"border-color-s":[{"border-s":Y()}],"border-color-e":[{"border-e":Y()}],"border-color-t":[{"border-t":Y()}],"border-color-r":[{"border-r":Y()}],"border-color-b":[{"border-b":Y()}],"border-color-l":[{"border-l":Y()}],"divide-color":[{divide:Y()}],"outline-style":[{outline:[...Ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[$e,Te,we]}],"outline-w":[{outline:["",$e,oc,Ka]}],"outline-color":[{outline:Y()}],shadow:[{shadow:["","none",v,Tf,wf]}],"shadow-color":[{shadow:Y()}],"inset-shadow":[{"inset-shadow":["none",b,Tf,wf]}],"inset-shadow-color":[{"inset-shadow":Y()}],"ring-w":[{ring:pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Y()}],"ring-offset-w":[{"ring-offset":[$e,Ka]}],"ring-offset-color":[{"ring-offset":Y()}],"inset-ring-w":[{"inset-ring":pe()}],"inset-ring-color":[{"inset-ring":Y()}],"text-shadow":[{"text-shadow":["none",E,Tf,wf]}],"text-shadow-color":[{"text-shadow":Y()}],opacity:[{opacity:[$e,Te,we]}],"mix-blend":[{"mix-blend":[...Ee(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ee()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[$e]}],"mask-image-linear-from-pos":[{"mask-linear-from":ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":ge()}],"mask-image-linear-from-color":[{"mask-linear-from":Y()}],"mask-image-linear-to-color":[{"mask-linear-to":Y()}],"mask-image-t-from-pos":[{"mask-t-from":ge()}],"mask-image-t-to-pos":[{"mask-t-to":ge()}],"mask-image-t-from-color":[{"mask-t-from":Y()}],"mask-image-t-to-color":[{"mask-t-to":Y()}],"mask-image-r-from-pos":[{"mask-r-from":ge()}],"mask-image-r-to-pos":[{"mask-r-to":ge()}],"mask-image-r-from-color":[{"mask-r-from":Y()}],"mask-image-r-to-color":[{"mask-r-to":Y()}],"mask-image-b-from-pos":[{"mask-b-from":ge()}],"mask-image-b-to-pos":[{"mask-b-to":ge()}],"mask-image-b-from-color":[{"mask-b-from":Y()}],"mask-image-b-to-color":[{"mask-b-to":Y()}],"mask-image-l-from-pos":[{"mask-l-from":ge()}],"mask-image-l-to-pos":[{"mask-l-to":ge()}],"mask-image-l-from-color":[{"mask-l-from":Y()}],"mask-image-l-to-color":[{"mask-l-to":Y()}],"mask-image-x-from-pos":[{"mask-x-from":ge()}],"mask-image-x-to-pos":[{"mask-x-to":ge()}],"mask-image-x-from-color":[{"mask-x-from":Y()}],"mask-image-x-to-color":[{"mask-x-to":Y()}],"mask-image-y-from-pos":[{"mask-y-from":ge()}],"mask-image-y-to-pos":[{"mask-y-to":ge()}],"mask-image-y-from-color":[{"mask-y-from":Y()}],"mask-image-y-to-color":[{"mask-y-to":Y()}],"mask-image-radial":[{"mask-radial":[Te,we]}],"mask-image-radial-from-pos":[{"mask-radial-from":ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":ge()}],"mask-image-radial-from-color":[{"mask-radial-from":Y()}],"mask-image-radial-to-color":[{"mask-radial-to":Y()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":G()}],"mask-image-conic-pos":[{"mask-conic":[$e]}],"mask-image-conic-from-pos":[{"mask-conic-from":ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":ge()}],"mask-image-conic-from-color":[{"mask-conic-from":Y()}],"mask-image-conic-to-color":[{"mask-conic-to":Y()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:me()}],"mask-repeat":[{mask:z()}],"mask-size":[{mask:ie()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Te,we]}],filter:[{filter:["","none",Te,we]}],blur:[{blur:Se()}],brightness:[{brightness:[$e,Te,we]}],contrast:[{contrast:[$e,Te,we]}],"drop-shadow":[{"drop-shadow":["","none",C,Tf,wf]}],"drop-shadow-color":[{"drop-shadow":Y()}],grayscale:[{grayscale:["",$e,Te,we]}],"hue-rotate":[{"hue-rotate":[$e,Te,we]}],invert:[{invert:["",$e,Te,we]}],saturate:[{saturate:[$e,Te,we]}],sepia:[{sepia:["",$e,Te,we]}],"backdrop-filter":[{"backdrop-filter":["","none",Te,we]}],"backdrop-blur":[{"backdrop-blur":Se()}],"backdrop-brightness":[{"backdrop-brightness":[$e,Te,we]}],"backdrop-contrast":[{"backdrop-contrast":[$e,Te,we]}],"backdrop-grayscale":[{"backdrop-grayscale":["",$e,Te,we]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$e,Te,we]}],"backdrop-invert":[{"backdrop-invert":["",$e,Te,we]}],"backdrop-opacity":[{"backdrop-opacity":[$e,Te,we]}],"backdrop-saturate":[{"backdrop-saturate":[$e,Te,we]}],"backdrop-sepia":[{"backdrop-sepia":["",$e,Te,we]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Te,we]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[$e,"initial",Te,we]}],ease:[{ease:["linear","initial",V,Te,we]}],delay:[{delay:[$e,Te,we]}],animate:[{animate:["none",U,Te,we]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[A,Te,we]}],"perspective-origin":[{"perspective-origin":$()}],rotate:[{rotate:He()}],"rotate-x":[{"rotate-x":He()}],"rotate-y":[{"rotate-y":He()}],"rotate-z":[{"rotate-z":He()}],scale:[{scale:Ne()}],"scale-x":[{"scale-x":Ne()}],"scale-y":[{"scale-y":Ne()}],"scale-z":[{"scale-z":Ne()}],"scale-3d":["scale-3d"],skew:[{skew:De()}],"skew-x":[{"skew-x":De()}],"skew-y":[{"skew-y":De()}],transform:[{transform:[Te,we,"","none","gpu","cpu"]}],"transform-origin":[{origin:$()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ve()}],"translate-x":[{"translate-x":Ve()}],"translate-y":[{"translate-y":Ve()}],"translate-z":[{"translate-z":Ve()}],"translate-none":["translate-none"],accent:[{accent:Y()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Y()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te,we]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te,we]}],fill:[{fill:["none",...Y()]}],"stroke-w":[{stroke:[$e,oc,Ka,vg]}],stroke:[{stroke:["none",...Y()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},mN=KI(hN);function Wt(...n){return mN(nT(n))}const pN=By("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Ie({className:n,variant:e,size:t,asChild:i=!1,...a}){const l=i?eT:"button";return p.jsx(l,{"data-slot":"button",className:Wt(pN({variant:e,size:t,className:n})),...a})}function yt({className:n,...e}){return p.jsx("div",{"data-slot":"card",className:Wt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...e})}function St({className:n,...e}){return p.jsx("div",{"data-slot":"card-header",className:Wt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function At({className:n,...e}){return p.jsx("div",{"data-slot":"card-title",className:Wt("leading-none font-semibold",n),...e})}function Dn({className:n,...e}){return p.jsx("div",{"data-slot":"card-description",className:Wt("text-muted-foreground text-sm",n),...e})}function vt({className:n,...e}){return p.jsx("div",{"data-slot":"card-content",className:Wt("px-6",n),...e})}const gN=By("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function kr({className:n,variant:e,asChild:t=!1,...i}){const a=t?eT:"span";return p.jsx(a,{"data-slot":"badge",className:Wt(gN({variant:e}),n),...i})}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vN=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),ME=n=>{const e=vN(n);return e.charAt(0).toUpperCase()+e.slice(1)},hT=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),_N=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=w.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...f},m)=>w.createElement("svg",{ref:m,...bN,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:hT("lucide",a),...!l&&!_N(f)&&{"aria-hidden":"true"},...f},[...c.map(([g,v])=>w.createElement(g,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(n,e)=>{const t=w.forwardRef(({className:i,...a},l)=>w.createElement(EN,{ref:l,iconNode:e,className:hT(`lucide-${yN(ME(n))}`,`lucide-${n}`,i),...a}));return t.displayName=ME(n),t};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],th=tt("book-open",xN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],TN=tt("bot",wN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],AN=tt("calendar",SN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],RN=tt("chart-pie",CN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Fy=tt("check",IN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],mT=tt("chevron-down",NN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],kN=tt("chevron-up",DN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],MN=tt("circle-alert",ON);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],jE=tt("circle-check-big",jN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Gg=tt("clock",PN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]],LN=tt("cog",VN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],pT=tt("credit-card",UN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],zN=tt("crown",BN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],vl=tt("dollar-sign",FN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],$g=tt("eye-off",HN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Yg=tt("eye",qN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],$N=tt("house",GN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],PE=tt("log-out",YN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],gT=tt("mail",KN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],WN=tt("menu",QN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_l=tt("plus",XN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],JN=tt("refresh-cw",ZN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Hy=tt("save",e3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],n3=tt("send",t3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],i3=tt("smartphone",r3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],bl=tt("square-pen",s3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],yT=tt("tag",a3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],l3=tt("target",o3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],El=tt("trash-2",u3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],d3=tt("trending-down",c3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],vT=tt("upload",f3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],_T=tt("user-plus",h3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bT=tt("user",m3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ET=tt("users",p3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xl=tt("x",g3);/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=()=>{};var VE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},v3=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],f=n[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},wT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,f=c?n[a+1]:0,m=a+2<n.length,g=m?n[a+2]:0,v=l>>2,b=(l&3)<<4|f>>4;let E=(f&15)<<2|g>>6,C=g&63;m||(C=64,c||(E=64)),i.push(t[v],t[b],t[E],t[C])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(xT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):v3(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const b=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||f==null||g==null||b==null)throw new _3;const E=l<<2|f>>4;if(i.push(E),g!==64){const C=f<<4&240|g>>2;if(i.push(C),b!==64){const R=g<<6&192|b;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class _3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b3=function(n){const e=xT(n);return wT.encodeByteArray(e,!0)},nh=function(n){return b3(n).replace(/\./g,"")},TT=function(n){try{return wT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=()=>E3().__FIREBASE_DEFAULTS__,w3=()=>{if(typeof process>"u"||typeof VE>"u")return;const n=VE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},T3=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&TT(n[1]);return e&&JSON.parse(e)},kh=()=>{try{return y3()||x3()||w3()||T3()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ST=n=>{var e,t;return(t=(e=kh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},S3=n=>{const e=ST(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},AT=()=>{var n;return(n=kh())===null||n===void 0?void 0:n.config},CT=n=>{var e;return(e=kh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(n){return n.endsWith(".cloudworkstations.dev")}async function RT(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[nh(JSON.stringify(t)),nh(JSON.stringify(c)),""].join(".")}const gc={};function R3(){const n={prod:[],emulator:[]};for(const e of Object.keys(gc))gc[e]?n.emulator.push(e):n.prod.push(e);return n}function I3(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let LE=!1;function IT(n,e){if(typeof window>"u"||typeof document>"u"||!Bl(window.location.host)||gc[n]===e||gc[n]||LE)return;gc[n]=e;function t(E){return`__firebase__banner__${E}`}const i="__firebase__banner",l=R3().prod.length>0;function c(){const E=document.getElementById(i);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,C){E.setAttribute("width","24"),E.setAttribute("id",C),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{LE=!0,c()},E}function v(E,C){E.setAttribute("id",C),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function b(){const E=I3(i),C=t("text"),R=document.getElementById(C)||document.createElement("span"),A=t("learnmore"),N=document.getElementById(A)||document.createElement("a"),V=t("preprendIcon"),U=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const B=E.element;f(B),v(N,A);const G=g();m(U,V),B.append(U,R,N,G),document.body.appendChild(B)}l?(R.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function N3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function D3(){var n;const e=(n=kh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function k3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function O3(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function M3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function j3(){const n=kn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function P3(){return!D3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V3(){try{return typeof indexedDB=="object"}catch{return!1}}function L3(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3="FirebaseError";class as extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=U3,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lc.prototype.create)}}class Lc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?B3(l,i):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new as(a,f,i)}}function B3(n,e){return n.replace(z3,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const z3=/\{\$([^}]+)}/g;function F3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Xa(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(UE(l)&&UE(c)){if(!Xa(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function UE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function uc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function cc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function H3(n,e){const t=new q3(n,e);return t.subscribe.bind(t)}class q3{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");G3(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=_g),a.error===void 0&&(a.error=_g),a.complete===void 0&&(a.complete=_g);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function G3(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function _g(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(n){return n&&n._delegate?n._delegate:n}class Za{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new A3;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(K3(e))try{this.getOrInitializeService({instanceIdentifier:Qa})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qa){return this.instances.has(e)}getOptions(e=Qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Y3(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Qa){return this.component?this.component.multipleInstances?e:Qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Y3(n){return n===Qa?void 0:n}function K3(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $3(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Je||(Je={}));const W3={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},X3=Je.INFO,Z3={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},J3=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=Z3[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qy{constructor(e){this.name=e,this._logLevel=X3,this._logHandler=J3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?W3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const eD=(n,e)=>e.some(t=>n instanceof t);let BE,zE;function tD(){return BE||(BE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nD(){return zE||(zE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NT=new WeakMap,Kg=new WeakMap,DT=new WeakMap,bg=new WeakMap,Gy=new WeakMap;function rD(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Ws(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&NT.set(t,n)}).catch(()=>{}),Gy.set(e,n),e}function iD(n){if(Kg.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Kg.set(n,e)}let Qg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Kg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||DT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ws(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function sD(n){Qg=n(Qg)}function aD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Eg(this),e,...t);return DT.set(i,e.sort?e.sort():[e]),Ws(i)}:nD().includes(n)?function(...e){return n.apply(Eg(this),e),Ws(NT.get(this))}:function(...e){return Ws(n.apply(Eg(this),e))}}function oD(n){return typeof n=="function"?aD(n):(n instanceof IDBTransaction&&iD(n),eD(n,tD())?new Proxy(n,Qg):n)}function Ws(n){if(n instanceof IDBRequest)return rD(n);if(bg.has(n))return bg.get(n);const e=oD(n);return e!==n&&(bg.set(n,e),Gy.set(e,n)),e}const Eg=n=>Gy.get(n);function lD(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),f=Ws(c);return i&&c.addEventListener("upgradeneeded",m=>{i(Ws(c.result),m.oldVersion,m.newVersion,Ws(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const uD=["get","getKey","getAll","getAllKeys","count"],cD=["put","add","delete","clear"],xg=new Map;function FE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(xg.get(e))return xg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=cD.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||uD.includes(t)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),a&&m.done]))[0]};return xg.set(e,l),l}sD(n=>({...n,get:(e,t,i)=>FE(e,t)||n.get(e,t,i),has:(e,t)=>!!FE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(fD(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function fD(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wg="@firebase/app",HE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new qy("@firebase/app"),hD="@firebase/app-compat",mD="@firebase/analytics-compat",pD="@firebase/analytics",gD="@firebase/app-check-compat",yD="@firebase/app-check",vD="@firebase/auth",_D="@firebase/auth-compat",bD="@firebase/database",ED="@firebase/data-connect",xD="@firebase/database-compat",wD="@firebase/functions",TD="@firebase/functions-compat",SD="@firebase/installations",AD="@firebase/installations-compat",CD="@firebase/messaging",RD="@firebase/messaging-compat",ID="@firebase/performance",ND="@firebase/performance-compat",DD="@firebase/remote-config",kD="@firebase/remote-config-compat",OD="@firebase/storage",MD="@firebase/storage-compat",jD="@firebase/firestore",PD="@firebase/ai",VD="@firebase/firestore-compat",LD="firebase",UD="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="[DEFAULT]",BD={[Wg]:"fire-core",[hD]:"fire-core-compat",[pD]:"fire-analytics",[mD]:"fire-analytics-compat",[yD]:"fire-app-check",[gD]:"fire-app-check-compat",[vD]:"fire-auth",[_D]:"fire-auth-compat",[bD]:"fire-rtdb",[ED]:"fire-data-connect",[xD]:"fire-rtdb-compat",[wD]:"fire-fn",[TD]:"fire-fn-compat",[SD]:"fire-iid",[AD]:"fire-iid-compat",[CD]:"fire-fcm",[RD]:"fire-fcm-compat",[ID]:"fire-perf",[ND]:"fire-perf-compat",[DD]:"fire-rc",[kD]:"fire-rc-compat",[OD]:"fire-gcs",[MD]:"fire-gcs-compat",[jD]:"fire-fst",[VD]:"fire-fst-compat",[PD]:"fire-vertex","fire-js":"fire-js",[LD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new Map,zD=new Map,Zg=new Map;function qE(n,e){try{n.container.addComponent(e)}catch(t){Xi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function wl(n){const e=n.name;if(Zg.has(e))return Xi.debug(`There were multiple attempts to register component ${e}.`),!1;Zg.set(e,n);for(const t of rh.values())qE(t,n);for(const t of zD.values())qE(t,n);return!0}function $y(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function br(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new Lc("app","Firebase",FD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Za("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=UD;function kT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Xg,automaticDataCollectionEnabled:!0},e),a=i.name;if(typeof a!="string"||!a)throw Xs.create("bad-app-name",{appName:String(a)});if(t||(t=AT()),!t)throw Xs.create("no-options");const l=rh.get(a);if(l){if(Xa(t,l.options)&&Xa(i,l.config))return l;throw Xs.create("duplicate-app",{appName:a})}const c=new Q3(a);for(const m of Zg.values())c.addComponent(m);const f=new HD(t,i,c);return rh.set(a,f),f}function OT(n=Xg){const e=rh.get(n);if(!e&&n===Xg&&AT())return kT();if(!e)throw Xs.create("no-app",{appName:n});return e}function Zs(n,e,t){var i;let a=(i=BD[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xi.warn(f.join(" "));return}wl(new Za(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="firebase-heartbeat-database",GD=1,Tc="firebase-heartbeat-store";let wg=null;function MT(){return wg||(wg=lD(qD,GD,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Tc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Xs.create("idb-open",{originalErrorMessage:n.message})})),wg}async function $D(n){try{const t=(await MT()).transaction(Tc),i=await t.objectStore(Tc).get(jT(n));return await t.done,i}catch(e){if(e instanceof as)Xi.warn(e.message);else{const t=Xs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xi.warn(t.message)}}}async function GE(n,e){try{const i=(await MT()).transaction(Tc,"readwrite");await i.objectStore(Tc).put(e,jT(n)),await i.done}catch(t){if(t instanceof as)Xi.warn(t.message);else{const i=Xs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Xi.warn(i.message)}}}function jT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=1024,KD=30;class QD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new XD(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=$E();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>KD){const c=ZD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Xi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$E(),{heartbeatsToSend:i,unsentEntries:a}=WD(this._heartbeatsCache.heartbeats),l=nh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Xi.warn(t),""}}}function $E(){return new Date().toISOString().substring(0,10)}function WD(n,e=YD){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),YE(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),YE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class XD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return V3()?L3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await $D(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return GE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return GE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function YE(n){return nh(JSON.stringify({version:2,heartbeats:n})).length}function ZD(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(n){wl(new Za("platform-logger",e=>new dD(e),"PRIVATE")),wl(new Za("heartbeat",e=>new QD(e),"PRIVATE")),Zs(Wg,HE,n),Zs(Wg,HE,"esm2017"),Zs("fire-js","")}JD("");var ni=function(){return ni=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},ni.apply(this,arguments)};function Bc(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function e6(n,e,t){if(t||arguments.length===2)for(var i=0,a=e.length,l;i<a;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return n.concat(l||Array.prototype.slice.call(e))}function PT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const t6=PT,VT=new Lc("auth","Firebase",PT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new qy("@firebase/auth");function n6(n,...e){ih.logLevel<=Je.WARN&&ih.warn(`Auth (${zl}): ${n}`,...e)}function zf(n,...e){ih.logLevel<=Je.ERROR&&ih.error(`Auth (${zl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(n,...e){throw Yy(n,...e)}function ri(n,...e){return Yy(n,...e)}function LT(n,e,t){const i=Object.assign(Object.assign({},t6()),{[e]:t});return new Lc("auth","Firebase",i).create(e,{appName:n.name})}function Yi(n){return LT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yy(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return VT.create(n,...e)}function je(n,e,...t){if(!n)throw Yy(e,...t)}function Bi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw zf(e),new Error(e)}function Zi(n,e){n||Bi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function r6(){return KE()==="http:"||KE()==="https:"}function KE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(r6()||O3()||"connection"in navigator)?navigator.onLine:!0}function s6(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Zi(t>e,"Short delay should be less than long delay!"),this.isMobile=N3()||M3()}get(){return i6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(n,e){Zi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],l6=new zc(3e4,6e4);function ca(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function os(n,e,t,i,a={}){return BT(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=Uc(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:m},l);return k3()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Bl(n.emulatorConfig.host)&&(g.credentials="include"),UT.fetch()(await zT(n,n.config.apiHost,t,f),g)})}async function BT(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},a6),e);try{const a=new c6(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Sf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,g]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sf(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Sf(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw Sf(n,"user-disabled",c);const v=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw LT(n,v,g);Mr(n,v)}}catch(a){if(a instanceof as)throw a;Mr(n,"network-request-failed",{message:String(a)})}}async function Fc(n,e,t,i,a={}){const l=await os(n,e,t,i,a);return"mfaPendingCredential"in l&&Mr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function zT(n,e,t,i){const a=`${e}${t}?${i}`,l=n,c=l.config.emulator?Ky(n.config,a):`${n.config.apiScheme}://${a}`;return o6.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function u6(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class c6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ri(this.auth,"network-request-failed")),l6.get())})}}function Sf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=ri(n,e,i);return a.customData._tokenResponse=t,a}function QE(n){return n!==void 0&&n.enterprise!==void 0}class d6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return u6(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function f6(n,e){return os(n,"GET","/v2/recaptchaConfig",ca(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h6(n,e){return os(n,"POST","/v1/accounts:delete",e)}async function sh(n,e){return os(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function m6(n,e=!1){const t=Xt(n),i=await t.getIdToken(e),a=Qy(i);je(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:yc(Tg(a.auth_time)),issuedAtTime:yc(Tg(a.iat)),expirationTime:yc(Tg(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Tg(n){return Number(n)*1e3}function Qy(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return zf("JWT malformed, contained fewer than 3 sections"),null;try{const a=TT(t);return a?JSON.parse(a):(zf("Failed to decode base64 JWT payload"),null)}catch(a){return zf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function WE(n){const e=Qy(n);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof as&&p6(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function p6({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=yc(this.lastLoginAt),this.creationTime=yc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ah(n){var e;const t=n.auth,i=await n.getIdToken(),a=await Tl(n,sh(t,{idToken:i}));je(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?FT(l.providerUserInfo):[],f=v6(n.providerData,c),m=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!(f!=null&&f.length),v=m?g:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new ey(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,b)}async function y6(n){const e=Xt(n);await ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function v6(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function FT(n){return n.map(e=>{var{providerId:t}=e,i=Bc(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _6(n,e){const t=await BT(n,{},async()=>{const i=Uc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await zT(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:i};return n.emulatorConfig&&Bl(n.emulatorConfig.host)&&(m.credentials="include"),UT.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function b6(n,e){return os(n,"POST","/v2/accounts:revokeToken",ca(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):WE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){je(e.length!==0,"internal-error");const t=WE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await _6(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new dl;return i&&(je(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(je(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(je(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dl,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(n,e){je(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Dr{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=Bc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new g6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ey(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Tl(this,this.stsTokenManager.getToken(this.auth,e));return je(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return m6(this,e)}reload(){return y6(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await ah(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(br(this.auth.app))return Promise.reject(Yi(this.auth));const e=await this.getIdToken();return await Tl(this,h6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,c,f,m,g,v;const b=(i=t.displayName)!==null&&i!==void 0?i:void 0,E=(a=t.email)!==null&&a!==void 0?a:void 0,C=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,R=(c=t.photoURL)!==null&&c!==void 0?c:void 0,A=(f=t.tenantId)!==null&&f!==void 0?f:void 0,N=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,V=(g=t.createdAt)!==null&&g!==void 0?g:void 0,U=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:B,emailVerified:G,isAnonymous:$,providerData:ne,stsTokenManager:k}=t;je(B&&k,e,"internal-error");const S=dl.fromJSON(this.name,k);je(typeof B=="string",e,"internal-error"),Bs(b,e.name),Bs(E,e.name),je(typeof G=="boolean",e,"internal-error"),je(typeof $=="boolean",e,"internal-error"),Bs(C,e.name),Bs(R,e.name),Bs(A,e.name),Bs(N,e.name),Bs(V,e.name),Bs(U,e.name);const M=new Dr({uid:B,auth:e,email:E,emailVerified:G,displayName:b,isAnonymous:$,photoURL:R,phoneNumber:C,tenantId:A,stsTokenManager:S,createdAt:V,lastLoginAt:U});return ne&&Array.isArray(ne)&&(M.providerData=ne.map(L=>Object.assign({},L))),N&&(M._redirectEventId=N),M}static async _fromIdTokenResponse(e,t,i=!1){const a=new dl;a.updateFromServerResponse(t);const l=new Dr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await ah(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];je(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?FT(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new dl;f.updateFromIdToken(i);const m=new Dr({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ey(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=new Map;function zi(n){Zi(n instanceof Function,"Expected a class definition");let e=XE.get(n);return e?(Zi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,XE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}HT.type="NONE";const ZE=HT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(n,e,t){return`firebase:${n}:${e}:${t}`}class fl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Ff(this.userKey,a.apiKey,l),this.fullPersistenceKey=Ff("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await sh(this.auth,{idToken:e}).catch(()=>{});return t?Dr._fromGetAccountInfoResponse(this.auth,t,e):null}return Dr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new fl(zi(ZE),e,i);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||zi(ZE);const c=Ff(i,e.config.apiKey,e.name);let f=null;for(const g of t)try{const v=await g._get(c);if(v){let b;if(typeof v=="string"){const E=await sh(e,{idToken:v}).catch(()=>{});if(!E)break;b=await Dr._fromGetAccountInfoResponse(e,E,v)}else b=Dr._fromJSON(e,v);g!==l&&(f=b),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new fl(l,e,i):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new fl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QT(e))return"Blackberry";if(WT(e))return"Webos";if(GT(e))return"Safari";if((e.includes("chrome/")||$T(e))&&!e.includes("edge/"))return"Chrome";if(KT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function qT(n=kn()){return/firefox\//i.test(n)}function GT(n=kn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $T(n=kn()){return/crios\//i.test(n)}function YT(n=kn()){return/iemobile/i.test(n)}function KT(n=kn()){return/android/i.test(n)}function QT(n=kn()){return/blackberry/i.test(n)}function WT(n=kn()){return/webos/i.test(n)}function Wy(n=kn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function E6(n=kn()){var e;return Wy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function x6(){return j3()&&document.documentMode===10}function XT(n=kn()){return Wy(n)||KT(n)||WT(n)||QT(n)||/windows phone/i.test(n)||YT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(n,e=[]){let t;switch(n){case"Browser":t=JE(kn());break;case"Worker":t=`${JE(kn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${zl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T6(n,e={}){return os(n,"GET","/v2/passwordPolicy",ca(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=6;class A6{constructor(e){var t,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:S6,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,c,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(i=m.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ex(this),this.idTokenSubscription=new ex(this),this.beforeStateQueue=new w6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=zi(t)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await fl.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await sh(this,{idToken:e}),i=await Dr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(br(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ah(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=s6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(br(this.app))return Promise.reject(Yi(this));const t=e?Xt(e):null;return t&&je(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return br(this.app)?Promise.reject(Yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return br(this.app)?Promise.reject(Yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await T6(this),t=new A6(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Lc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await b6(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&zi(e)||this._popupRedirectResolver;je(t,this,"argument-error"),this.redirectPersistenceManager=await fl.create(this,[zi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(br(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&n6(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function oo(n){return Xt(n)}class ex{constructor(e){this.auth=e,this.observer=null,this.addObserver=H3(t=>this.observer=t)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function R6(n){Oh=n}function JT(n){return Oh.loadJS(n)}function I6(){return Oh.recaptchaEnterpriseScript}function N6(){return Oh.gapiScript}function D6(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class k6{constructor(){this.enterprise=new O6}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class O6{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const M6="recaptcha-enterprise",e1="NO_RECAPTCHA";class j6{constructor(e){this.type=M6,this.auth=oo(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{f6(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new d6(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;QE(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(e1)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new k6().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(f=>{if(!t&&QE(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=I6();m.length!==0&&(m+=f),JT(m).then(()=>{a(f,l,c)}).catch(g=>{c(g)})}}).catch(f=>{c(f)})})}}async function tx(n,e,t,i=!1,a=!1){const l=new j6(n);let c;if(a)c=e1;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function ty(n,e,t,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await tx(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await tx(n,e,t,t==="getOobCode");return i(n,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(n,e){const t=$y(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Xa(l,e??{}))return a;Mr(a,"already-initialized")}return t.initialize({options:e})}function V6(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(zi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function L6(n,e,t){const i=oo(n);je(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=t1(e),{host:c,port:f}=U6(e),m=f===null?"":`:${f}`,g={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){je(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),je(Xa(g,i.config.emulator)&&Xa(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,Bl(c)?(RT(`${l}//${c}${m}`),IT("Auth",!0)):B6()}function t1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function U6(n){const e=t1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:nx(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:nx(c)}}}function nx(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function B6(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Bi("not implemented")}_getIdTokenResponse(e){return Bi("not implemented")}_linkToIdToken(e,t){return Bi("not implemented")}_getReauthenticationResolver(e){return Bi("not implemented")}}async function z6(n,e){return os(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F6(n,e){return Fc(n,"POST","/v1/accounts:signInWithPassword",ca(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H6(n,e){return Fc(n,"POST","/v1/accounts:signInWithEmailLink",ca(n,e))}async function q6(n,e){return Fc(n,"POST","/v1/accounts:signInWithEmailLink",ca(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends Xy{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Sc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Sc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ty(e,t,"signInWithPassword",F6);case"emailLink":return H6(e,{email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ty(e,i,"signUpPassword",z6);case"emailLink":return q6(e,{idToken:t,email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(n,e){return Fc(n,"POST","/v1/accounts:signInWithIdp",ca(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6="http://localhost";class Ja extends Xy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ja(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Mr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=Bc(t,["providerId","signInMethod"]);if(!i||!a)return null;const c=new Ja(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return hl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,hl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,hl(e,t)}buildRequest(){const e={requestUri:G6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Uc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Y6(n){const e=uc(cc(n)).link,t=e?uc(cc(e)).deep_link_id:null,i=uc(cc(n)).deep_link_id;return(i?uc(cc(i)).link:null)||i||t||e||n}class Zy{constructor(e){var t,i,a,l,c,f;const m=uc(cc(e)),g=(t=m.apiKey)!==null&&t!==void 0?t:null,v=(i=m.oobCode)!==null&&i!==void 0?i:null,b=$6((a=m.mode)!==null&&a!==void 0?a:null);je(g&&v&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=v,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=Y6(e);try{return new Zy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(){this.providerId=Fl.PROVIDER_ID}static credential(e,t){return Sc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Zy.parseLink(t);return je(i,"argument-error"),Sc._fromEmailAndCode(e,i.code,i.tenantId)}}Fl.PROVIDER_ID="password";Fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends n1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Hc{constructor(){super("facebook.com")}static credential(e){return Ja._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends Hc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ja._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Gs.credential(t,i)}catch{return null}}}Gs.GOOGLE_SIGN_IN_METHOD="google.com";Gs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Hc{constructor(){super("github.com")}static credential(e){return Ja._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.GITHUB_SIGN_IN_METHOD="github.com";$s.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends Hc{constructor(){super("twitter.com")}static credential(e,t){return Ja._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ys.credential(t,i)}catch{return null}}}Ys.TWITTER_SIGN_IN_METHOD="twitter.com";Ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K6(n,e){return Fc(n,"POST","/v1/accounts:signUp",ca(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Dr._fromIdTokenResponse(e,i,a),c=rx(i);return new eo({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=rx(i);return new eo({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function rx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends as{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new oh(e,t,i,a)}}function r1(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(n,l,e,i):l})}async function Q6(n,e,t=!1){const i=await Tl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return eo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W6(n,e,t=!1){const{auth:i}=n;if(br(i.app))return Promise.reject(Yi(i));const a="reauthenticate";try{const l=await Tl(n,r1(i,a,e,n),t);je(l.idToken,i,"internal-error");const c=Qy(l.idToken);je(c,i,"internal-error");const{sub:f}=c;return je(n.uid===f,i,"user-mismatch"),eo._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Mr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i1(n,e,t=!1){if(br(n.app))return Promise.reject(Yi(n));const i="signIn",a=await r1(n,i,e),l=await eo._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function X6(n,e){return i1(oo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s1(n){const e=oo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Z6(n,e,t){if(br(n.app))return Promise.reject(Yi(n));const i=oo(n),c=await ty(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",K6).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&s1(n),m}),f=await eo._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(f.user),f}function J6(n,e,t){return br(n.app)?Promise.reject(Yi(n)):X6(Xt(n),Fl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&s1(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ek(n,e){return os(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a1(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Xt(n),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await Tl(i,ek(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const f=i.providerData.find(({providerId:m})=>m==="password");f&&(f.displayName=i.displayName,f.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function tk(n,e,t,i){return Xt(n).onIdTokenChanged(e,t,i)}function nk(n,e,t){return Xt(n).beforeAuthStateChanged(e,t)}function rk(n,e,t,i){return Xt(n).onAuthStateChanged(e,t,i)}function ik(n){return Xt(n).signOut()}const lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=1e3,ak=10;class l1 extends o1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);x6()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,ak):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},sk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}l1.type="LOCAL";const ok=l1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1 extends o1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}u1.type="SESSION";const c1=u1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Mh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(c).map(async g=>g(t.origin,l)),m=await lk(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const g=Jy("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(b){const E=b;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(){return window}function ck(n){ii().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(){return typeof ii().WorkerGlobalScope<"u"&&typeof ii().importScripts=="function"}async function dk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fk(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function hk(){return d1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="firebaseLocalStorageDb",mk=1,uh="firebaseLocalStorage",h1="fbase_key";class qc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function jh(n,e){return n.transaction([uh],e?"readwrite":"readonly").objectStore(uh)}function pk(){const n=indexedDB.deleteDatabase(f1);return new qc(n).toPromise()}function ny(){const n=indexedDB.open(f1,mk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(uh,{keyPath:h1})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(uh)?e(i):(i.close(),await pk(),e(await ny()))})})}async function ix(n,e,t){const i=jh(n,!0).put({[h1]:e,value:t});return new qc(i).toPromise()}async function gk(n,e){const t=jh(n,!1).get(e),i=await new qc(t).toPromise();return i===void 0?null:i.value}function sx(n,e){const t=jh(n,!0).delete(e);return new qc(t).toPromise()}const yk=800,vk=3;class m1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ny(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>vk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return d1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance(hk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await dk(),!this.activeServiceWorker)return;this.sender=new uk(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ny();return await ix(e,lh,"1"),await sx(e,lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ix(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>gk(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>sx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=jh(a,!1).getAll();return new qc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}m1.type="LOCAL";const _k=m1;new zc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(n,e){return e?zi(e):(je(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev extends Xy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return hl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ek(n){return i1(n.auth,new ev(n),n.bypassAuthState)}function xk(n){const{auth:e,user:t}=n;return je(t,e,"internal-error"),W6(t,new ev(n),n.bypassAuthState)}async function wk(n){const{auth:e,user:t}=n;return je(t,e,"internal-error"),Q6(t,new ev(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ek;case"linkViaPopup":case"linkViaRedirect":return wk;case"reauthViaPopup":case"reauthViaRedirect":return xk;default:Mr(this.auth,"internal-error")}}resolve(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=new zc(2e3,1e4);class cl extends p1{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,cl.currentPopupAction&&cl.currentPopupAction.cancel(),cl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){Zi(this.filter.length===1,"Popup operations only handle one event");const e=Jy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Tk.get())};e()}}cl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="pendingRedirect",Hf=new Map;class Ak extends p1{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Hf.get(this.auth._key());if(!e){try{const i=await Ck(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Hf.set(this.auth._key(),e)}return this.bypassAuthState||Hf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ck(n,e){const t=Nk(e),i=Ik(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function Rk(n,e){Hf.set(n._key(),e)}function Ik(n){return zi(n._redirectPersistence)}function Nk(n){return Ff(Sk,n.config.apiKey,n.name)}async function Dk(n,e,t=!1){if(br(n.app))return Promise.reject(Yi(n));const i=oo(n),a=bk(i,e),c=await new Ak(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=10*60*1e3;class Ok{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Mk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!g1(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(ri(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kk&&this.cachedEventUids.clear(),this.cachedEventUids.has(ax(e))}saveEventToCache(e){this.cachedEventUids.add(ax(e)),this.lastProcessedEventTime=Date.now()}}function ax(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function g1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Mk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return g1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jk(n,e={}){return os(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vk=/^https?/;async function Lk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await jk(n);for(const t of e)try{if(Uk(t))return}catch{}Mr(n,"unauthorized-domain")}function Uk(n){const e=Jg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!Vk.test(t))return!1;if(Pk.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=new zc(3e4,6e4);function ox(){const n=ii().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function zk(n){return new Promise((e,t)=>{var i,a,l;function c(){ox(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ox(),t(ri(n,"network-request-failed"))},timeout:Bk.get()})}if(!((a=(i=ii().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=ii().gapi)===null||l===void 0)&&l.load)c();else{const f=D6("iframefcb");return ii()[f]=()=>{gapi.load?c():t(ri(n,"network-request-failed"))},JT(`${N6()}?onload=${f}`).catch(m=>t(m))}}).catch(e=>{throw qf=null,e})}let qf=null;function Fk(n){return qf=qf||zk(n),qf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=new zc(5e3,15e3),qk="__/auth/iframe",Gk="emulator/auth/iframe",$k={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kk(n){const e=n.config;je(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ky(e,Gk):`https://${n.config.authDomain}/${qk}`,i={apiKey:e.apiKey,appName:n.name,v:zl},a=Yk.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Uc(i).slice(1)}`}async function Qk(n){const e=await Fk(n),t=ii().gapi;return je(t,n,"internal-error"),e.open({where:document.body,url:Kk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$k,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=ri(n,"network-request-failed"),f=ii().setTimeout(()=>{l(c)},Hk.get());function m(){ii().clearTimeout(f),a(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xk=500,Zk=600,Jk="_blank",e4="http://localhost";class lx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function t4(n,e,t,i=Xk,a=Zk){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const m=Object.assign(Object.assign({},Wk),{width:i.toString(),height:a.toString(),top:l,left:c}),g=kn().toLowerCase();t&&(f=$T(g)?Jk:t),qT(g)&&(e=e||e4,m.scrollbars="yes");const v=Object.entries(m).reduce((E,[C,R])=>`${E}${C}=${R},`,"");if(E6(g)&&f!=="_self")return n4(e||"",f),new lx(null);const b=window.open(e||"",f,v);je(b,n,"popup-blocked");try{b.focus()}catch{}return new lx(b)}function n4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4="__/auth/handler",i4="emulator/auth/handler",s4=encodeURIComponent("fac");async function ux(n,e,t,i,a,l){je(n.config.authDomain,n,"auth-domain-config-required"),je(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:zl,eventId:a};if(e instanceof n1){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",F3(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof Hc){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const m=await n._getAppCheckToken(),g=m?`#${s4}=${encodeURIComponent(m)}`:"";return`${a4(n)}?${Uc(f).slice(1)}${g}`}function a4({config:n}){return n.emulator?Ky(n,i4):`https://${n.authDomain}/${r4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="webStorageSupport";class o4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=c1,this._completeRedirectFn=Dk,this._overrideRedirectResult=Rk}async _openPopup(e,t,i,a){var l;Zi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await ux(e,t,i,Jg(),a);return t4(e,c,Jy())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await ux(e,t,i,Jg(),a);return ck(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Zi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Qk(e),i=new Ok(e);return t.register("authEvent",a=>(je(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Sg,{type:Sg},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Sg];c!==void 0&&t(!!c),Mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Lk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return XT()||GT()||Wy()}}const l4=o4;var cx="@firebase/auth",dx="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function d4(n){wl(new Za("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;je(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZT(n)},g=new C6(i,a,l,m);return V6(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),wl(new Za("auth-internal",e=>{const t=oo(e.getProvider("auth").getImmediate());return(i=>new u4(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zs(cx,dx,c4(n)),Zs(cx,dx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=5*60,h4=CT("authIdTokenMaxAge")||f4;let fx=null;const m4=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>h4)return;const a=t==null?void 0:t.token;fx!==a&&(fx=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function p4(n=OT()){const e=$y(n,"auth");if(e.isInitialized())return e.getImmediate();const t=P6(n,{popupRedirectResolver:l4,persistence:[_k,ok,c1]}),i=CT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=m4(l.toString());nk(t,c,()=>c(t.currentUser)),tk(t,f=>c(f))}}const a=ST("auth");return a&&L6(t,`http://${a}`),t}function g4(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}R6({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=ri("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",g4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});d4("Browser");var hx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Js,y1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,S){function M(){}M.prototype=S.prototype,k.D=S.prototype,k.prototype=new M,k.prototype.constructor=k,k.C=function(L,D,P){for(var j=Array(arguments.length-2),q=2;q<arguments.length;q++)j[q-2]=arguments[q];return S.prototype[D].apply(L,j)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,S,M){M||(M=0);var L=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)L[D]=S.charCodeAt(M++)|S.charCodeAt(M++)<<8|S.charCodeAt(M++)<<16|S.charCodeAt(M++)<<24;else for(D=0;16>D;++D)L[D]=S[M++]|S[M++]<<8|S[M++]<<16|S[M++]<<24;S=k.g[0],M=k.g[1],D=k.g[2];var P=k.g[3],j=S+(P^M&(D^P))+L[0]+3614090360&4294967295;S=M+(j<<7&4294967295|j>>>25),j=P+(D^S&(M^D))+L[1]+3905402710&4294967295,P=S+(j<<12&4294967295|j>>>20),j=D+(M^P&(S^M))+L[2]+606105819&4294967295,D=P+(j<<17&4294967295|j>>>15),j=M+(S^D&(P^S))+L[3]+3250441966&4294967295,M=D+(j<<22&4294967295|j>>>10),j=S+(P^M&(D^P))+L[4]+4118548399&4294967295,S=M+(j<<7&4294967295|j>>>25),j=P+(D^S&(M^D))+L[5]+1200080426&4294967295,P=S+(j<<12&4294967295|j>>>20),j=D+(M^P&(S^M))+L[6]+2821735955&4294967295,D=P+(j<<17&4294967295|j>>>15),j=M+(S^D&(P^S))+L[7]+4249261313&4294967295,M=D+(j<<22&4294967295|j>>>10),j=S+(P^M&(D^P))+L[8]+1770035416&4294967295,S=M+(j<<7&4294967295|j>>>25),j=P+(D^S&(M^D))+L[9]+2336552879&4294967295,P=S+(j<<12&4294967295|j>>>20),j=D+(M^P&(S^M))+L[10]+4294925233&4294967295,D=P+(j<<17&4294967295|j>>>15),j=M+(S^D&(P^S))+L[11]+2304563134&4294967295,M=D+(j<<22&4294967295|j>>>10),j=S+(P^M&(D^P))+L[12]+1804603682&4294967295,S=M+(j<<7&4294967295|j>>>25),j=P+(D^S&(M^D))+L[13]+4254626195&4294967295,P=S+(j<<12&4294967295|j>>>20),j=D+(M^P&(S^M))+L[14]+2792965006&4294967295,D=P+(j<<17&4294967295|j>>>15),j=M+(S^D&(P^S))+L[15]+1236535329&4294967295,M=D+(j<<22&4294967295|j>>>10),j=S+(D^P&(M^D))+L[1]+4129170786&4294967295,S=M+(j<<5&4294967295|j>>>27),j=P+(M^D&(S^M))+L[6]+3225465664&4294967295,P=S+(j<<9&4294967295|j>>>23),j=D+(S^M&(P^S))+L[11]+643717713&4294967295,D=P+(j<<14&4294967295|j>>>18),j=M+(P^S&(D^P))+L[0]+3921069994&4294967295,M=D+(j<<20&4294967295|j>>>12),j=S+(D^P&(M^D))+L[5]+3593408605&4294967295,S=M+(j<<5&4294967295|j>>>27),j=P+(M^D&(S^M))+L[10]+38016083&4294967295,P=S+(j<<9&4294967295|j>>>23),j=D+(S^M&(P^S))+L[15]+3634488961&4294967295,D=P+(j<<14&4294967295|j>>>18),j=M+(P^S&(D^P))+L[4]+3889429448&4294967295,M=D+(j<<20&4294967295|j>>>12),j=S+(D^P&(M^D))+L[9]+568446438&4294967295,S=M+(j<<5&4294967295|j>>>27),j=P+(M^D&(S^M))+L[14]+3275163606&4294967295,P=S+(j<<9&4294967295|j>>>23),j=D+(S^M&(P^S))+L[3]+4107603335&4294967295,D=P+(j<<14&4294967295|j>>>18),j=M+(P^S&(D^P))+L[8]+1163531501&4294967295,M=D+(j<<20&4294967295|j>>>12),j=S+(D^P&(M^D))+L[13]+2850285829&4294967295,S=M+(j<<5&4294967295|j>>>27),j=P+(M^D&(S^M))+L[2]+4243563512&4294967295,P=S+(j<<9&4294967295|j>>>23),j=D+(S^M&(P^S))+L[7]+1735328473&4294967295,D=P+(j<<14&4294967295|j>>>18),j=M+(P^S&(D^P))+L[12]+2368359562&4294967295,M=D+(j<<20&4294967295|j>>>12),j=S+(M^D^P)+L[5]+4294588738&4294967295,S=M+(j<<4&4294967295|j>>>28),j=P+(S^M^D)+L[8]+2272392833&4294967295,P=S+(j<<11&4294967295|j>>>21),j=D+(P^S^M)+L[11]+1839030562&4294967295,D=P+(j<<16&4294967295|j>>>16),j=M+(D^P^S)+L[14]+4259657740&4294967295,M=D+(j<<23&4294967295|j>>>9),j=S+(M^D^P)+L[1]+2763975236&4294967295,S=M+(j<<4&4294967295|j>>>28),j=P+(S^M^D)+L[4]+1272893353&4294967295,P=S+(j<<11&4294967295|j>>>21),j=D+(P^S^M)+L[7]+4139469664&4294967295,D=P+(j<<16&4294967295|j>>>16),j=M+(D^P^S)+L[10]+3200236656&4294967295,M=D+(j<<23&4294967295|j>>>9),j=S+(M^D^P)+L[13]+681279174&4294967295,S=M+(j<<4&4294967295|j>>>28),j=P+(S^M^D)+L[0]+3936430074&4294967295,P=S+(j<<11&4294967295|j>>>21),j=D+(P^S^M)+L[3]+3572445317&4294967295,D=P+(j<<16&4294967295|j>>>16),j=M+(D^P^S)+L[6]+76029189&4294967295,M=D+(j<<23&4294967295|j>>>9),j=S+(M^D^P)+L[9]+3654602809&4294967295,S=M+(j<<4&4294967295|j>>>28),j=P+(S^M^D)+L[12]+3873151461&4294967295,P=S+(j<<11&4294967295|j>>>21),j=D+(P^S^M)+L[15]+530742520&4294967295,D=P+(j<<16&4294967295|j>>>16),j=M+(D^P^S)+L[2]+3299628645&4294967295,M=D+(j<<23&4294967295|j>>>9),j=S+(D^(M|~P))+L[0]+4096336452&4294967295,S=M+(j<<6&4294967295|j>>>26),j=P+(M^(S|~D))+L[7]+1126891415&4294967295,P=S+(j<<10&4294967295|j>>>22),j=D+(S^(P|~M))+L[14]+2878612391&4294967295,D=P+(j<<15&4294967295|j>>>17),j=M+(P^(D|~S))+L[5]+4237533241&4294967295,M=D+(j<<21&4294967295|j>>>11),j=S+(D^(M|~P))+L[12]+1700485571&4294967295,S=M+(j<<6&4294967295|j>>>26),j=P+(M^(S|~D))+L[3]+2399980690&4294967295,P=S+(j<<10&4294967295|j>>>22),j=D+(S^(P|~M))+L[10]+4293915773&4294967295,D=P+(j<<15&4294967295|j>>>17),j=M+(P^(D|~S))+L[1]+2240044497&4294967295,M=D+(j<<21&4294967295|j>>>11),j=S+(D^(M|~P))+L[8]+1873313359&4294967295,S=M+(j<<6&4294967295|j>>>26),j=P+(M^(S|~D))+L[15]+4264355552&4294967295,P=S+(j<<10&4294967295|j>>>22),j=D+(S^(P|~M))+L[6]+2734768916&4294967295,D=P+(j<<15&4294967295|j>>>17),j=M+(P^(D|~S))+L[13]+1309151649&4294967295,M=D+(j<<21&4294967295|j>>>11),j=S+(D^(M|~P))+L[4]+4149444226&4294967295,S=M+(j<<6&4294967295|j>>>26),j=P+(M^(S|~D))+L[11]+3174756917&4294967295,P=S+(j<<10&4294967295|j>>>22),j=D+(S^(P|~M))+L[2]+718787259&4294967295,D=P+(j<<15&4294967295|j>>>17),j=M+(P^(D|~S))+L[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(D+(j<<21&4294967295|j>>>11))&4294967295,k.g[2]=k.g[2]+D&4294967295,k.g[3]=k.g[3]+P&4294967295}i.prototype.u=function(k,S){S===void 0&&(S=k.length);for(var M=S-this.blockSize,L=this.B,D=this.h,P=0;P<S;){if(D==0)for(;P<=M;)a(this,k,P),P+=this.blockSize;if(typeof k=="string"){for(;P<S;)if(L[D++]=k.charCodeAt(P++),D==this.blockSize){a(this,L),D=0;break}}else for(;P<S;)if(L[D++]=k[P++],D==this.blockSize){a(this,L),D=0;break}}this.h=D,this.o+=S},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;var M=8*this.o;for(S=k.length-8;S<k.length;++S)k[S]=M&255,M/=256;for(this.u(k),k=Array(16),S=M=0;4>S;++S)for(var L=0;32>L;L+=8)k[M++]=this.g[S]>>>L&255;return k};function l(k,S){var M=f;return Object.prototype.hasOwnProperty.call(M,k)?M[k]:M[k]=S(k)}function c(k,S){this.h=S;for(var M=[],L=!0,D=k.length-1;0<=D;D--){var P=k[D]|0;L&&P==S||(M[D]=P,L=!1)}this.g=M}var f={};function m(k){return-128<=k&&128>k?l(k,function(S){return new c([S|0],0>S?-1:0)}):new c([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return b;if(0>k)return N(g(-k));for(var S=[],M=1,L=0;k>=M;L++)S[L]=k/M|0,M*=4294967296;return new c(S,0)}function v(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return N(v(k.substring(1),S));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=g(Math.pow(S,8)),L=b,D=0;D<k.length;D+=8){var P=Math.min(8,k.length-D),j=parseInt(k.substring(D,D+P),S);8>P?(P=g(Math.pow(S,P)),L=L.j(P).add(g(j))):(L=L.j(M),L=L.add(g(j)))}return L}var b=m(0),E=m(1),C=m(16777216);n=c.prototype,n.m=function(){if(A(this))return-N(this).m();for(var k=0,S=1,M=0;M<this.g.length;M++){var L=this.i(M);k+=(0<=L?L:4294967296+L)*S,S*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(R(this))return"0";if(A(this))return"-"+N(this).toString(k);for(var S=g(Math.pow(k,6)),M=this,L="";;){var D=G(M,S).g;M=V(M,D.j(S));var P=((0<M.g.length?M.g[0]:M.h)>>>0).toString(k);if(M=D,R(M))return P+L;for(;6>P.length;)P="0"+P;L=P+L}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function R(k){if(k.h!=0)return!1;for(var S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function A(k){return k.h==-1}n.l=function(k){return k=V(this,k),A(k)?-1:R(k)?0:1};function N(k){for(var S=k.g.length,M=[],L=0;L<S;L++)M[L]=~k.g[L];return new c(M,~k.h).add(E)}n.abs=function(){return A(this)?N(this):this},n.add=function(k){for(var S=Math.max(this.g.length,k.g.length),M=[],L=0,D=0;D<=S;D++){var P=L+(this.i(D)&65535)+(k.i(D)&65535),j=(P>>>16)+(this.i(D)>>>16)+(k.i(D)>>>16);L=j>>>16,P&=65535,j&=65535,M[D]=j<<16|P}return new c(M,M[M.length-1]&-2147483648?-1:0)};function V(k,S){return k.add(N(S))}n.j=function(k){if(R(this)||R(k))return b;if(A(this))return A(k)?N(this).j(N(k)):N(N(this).j(k));if(A(k))return N(this.j(N(k)));if(0>this.l(C)&&0>k.l(C))return g(this.m()*k.m());for(var S=this.g.length+k.g.length,M=[],L=0;L<2*S;L++)M[L]=0;for(L=0;L<this.g.length;L++)for(var D=0;D<k.g.length;D++){var P=this.i(L)>>>16,j=this.i(L)&65535,q=k.i(D)>>>16,ee=k.i(D)&65535;M[2*L+2*D]+=j*ee,U(M,2*L+2*D),M[2*L+2*D+1]+=P*ee,U(M,2*L+2*D+1),M[2*L+2*D+1]+=j*q,U(M,2*L+2*D+1),M[2*L+2*D+2]+=P*q,U(M,2*L+2*D+2)}for(L=0;L<S;L++)M[L]=M[2*L+1]<<16|M[2*L];for(L=S;L<2*S;L++)M[L]=0;return new c(M,0)};function U(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function B(k,S){this.g=k,this.h=S}function G(k,S){if(R(S))throw Error("division by zero");if(R(k))return new B(b,b);if(A(k))return S=G(N(k),S),new B(N(S.g),N(S.h));if(A(S))return S=G(k,N(S)),new B(N(S.g),S.h);if(30<k.g.length){if(A(k)||A(S))throw Error("slowDivide_ only works with positive integers.");for(var M=E,L=S;0>=L.l(k);)M=$(M),L=$(L);var D=ne(M,1),P=ne(L,1);for(L=ne(L,2),M=ne(M,2);!R(L);){var j=P.add(L);0>=j.l(k)&&(D=D.add(M),P=j),L=ne(L,1),M=ne(M,1)}return S=V(k,D.j(S)),new B(D,S)}for(D=b;0<=k.l(S);){for(M=Math.max(1,Math.floor(k.m()/S.m())),L=Math.ceil(Math.log(M)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),P=g(M),j=P.j(S);A(j)||0<j.l(k);)M-=L,P=g(M),j=P.j(S);R(P)&&(P=E),D=D.add(P),k=V(k,j)}return new B(D,k)}n.A=function(k){return G(this,k).h},n.and=function(k){for(var S=Math.max(this.g.length,k.g.length),M=[],L=0;L<S;L++)M[L]=this.i(L)&k.i(L);return new c(M,this.h&k.h)},n.or=function(k){for(var S=Math.max(this.g.length,k.g.length),M=[],L=0;L<S;L++)M[L]=this.i(L)|k.i(L);return new c(M,this.h|k.h)},n.xor=function(k){for(var S=Math.max(this.g.length,k.g.length),M=[],L=0;L<S;L++)M[L]=this.i(L)^k.i(L);return new c(M,this.h^k.h)};function $(k){for(var S=k.g.length+1,M=[],L=0;L<S;L++)M[L]=k.i(L)<<1|k.i(L-1)>>>31;return new c(M,k.h)}function ne(k,S){var M=S>>5;S%=32;for(var L=k.g.length-M,D=[],P=0;P<L;P++)D[P]=0<S?k.i(P+M)>>>S|k.i(P+M+1)<<32-S:k.i(P+M);return new c(D,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,y1=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Js=c}).apply(typeof hx<"u"?hx:typeof self<"u"?self:typeof window<"u"?window:{});var Af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var v1,dc,_1,Gf,ry,b1,E1,x1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,x){return d==Array.prototype||d==Object.prototype||(d[_]=x.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Af=="object"&&Af];for(var _=0;_<d.length;++_){var x=d[_];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=t(this);function a(d,_){if(_)e:{var x=i;d=d.split(".");for(var O=0;O<d.length-1;O++){var X=d[O];if(!(X in x))break e;x=x[X]}d=d[d.length-1],O=x[d],_=_(O),_!=O&&_!=null&&e(x,d,{configurable:!0,writable:!0,value:_})}}function l(d,_){d instanceof String&&(d+="");var x=0,O=!1,X={next:function(){if(!O&&x<d.length){var ae=x++;return{value:_(ae,d[ae]),done:!1}}return O=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}a("Array.prototype.values",function(d){return d||function(){return l(this,function(_,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function g(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function v(d,_,x){return d.call.apply(d.bind,arguments)}function b(d,_,x){if(!d)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,O),d.apply(_,X)}}return function(){return d.apply(_,arguments)}}function E(d,_,x){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,E.apply(null,arguments)}function C(d,_){var x=Array.prototype.slice.call(arguments,1);return function(){var O=x.slice();return O.push.apply(O,arguments),d.apply(this,O)}}function R(d,_){function x(){}x.prototype=_.prototype,d.aa=_.prototype,d.prototype=new x,d.prototype.constructor=d,d.Qb=function(O,X,ae){for(var ye=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)ye[nt-2]=arguments[nt];return _.prototype[X].apply(O,ye)}}function A(d){const _=d.length;if(0<_){const x=Array(_);for(let O=0;O<_;O++)x[O]=d[O];return x}return[]}function N(d,_){for(let x=1;x<arguments.length;x++){const O=arguments[x];if(m(O)){const X=d.length||0,ae=O.length||0;d.length=X+ae;for(let ye=0;ye<ae;ye++)d[X+ye]=O[ye]}else d.push(O)}}class V{constructor(_,x){this.i=_,this.j=x,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function U(d){return/^[\s\xa0]*$/.test(d)}function B(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function G(d){return G[" "](d),d}G[" "]=function(){};var $=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function ne(d,_,x){for(const O in d)_.call(x,d[O],O,d)}function k(d,_){for(const x in d)_.call(void 0,d[x],x,d)}function S(d){const _={};for(const x in d)_[x]=d[x];return _}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(d,_){let x,O;for(let X=1;X<arguments.length;X++){O=arguments[X];for(x in O)d[x]=O[x];for(let ae=0;ae<M.length;ae++)x=M[ae],Object.prototype.hasOwnProperty.call(O,x)&&(d[x]=O[x])}}function D(d){var _=1;d=d.split(":");const x=[];for(;0<_&&d.length;)x.push(d.shift()),_--;return d.length&&x.push(d.join(":")),x}function P(d){f.setTimeout(()=>{throw d},0)}function j(){var d=me;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class q{constructor(){this.h=this.g=null}add(_,x){const O=ee.get();O.set(_,x),this.h?this.h.next=O:this.g=O,this.h=O}}var ee=new V(()=>new F,d=>d.reset());class F{constructor(){this.next=this.g=this.h=null}set(_,x){this.h=_,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,Y=!1,me=new q,z=()=>{const d=f.Promise.resolve(void 0);Q=()=>{d.then(ie)}};var ie=()=>{for(var d;d=j();){try{d.h.call(d.g)}catch(x){P(x)}var _=ee;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}Y=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};f.addEventListener("test",x,_),f.removeEventListener("test",x,_)}catch{}return d}();function Ae(d,_){if(oe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var x=this.type=d.type,O=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if($){e:{try{G(_.nodeName);var X=!0;break e}catch{}X=!1}X||(_=null)}}else x=="mouseover"?_=d.fromElement:x=="mouseout"&&(_=d.toElement);this.relatedTarget=_,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ee[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ae.aa.h.call(this)}}R(Ae,oe);var Ee={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),Se=0;function He(d,_,x,O,X){this.listener=d,this.proxy=null,this.src=_,this.type=x,this.capture=!!O,this.ha=X,this.key=++Se,this.da=this.fa=!1}function Ne(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function De(d){this.src=d,this.g={},this.h=0}De.prototype.add=function(d,_,x,O,X){var ae=d.toString();d=this.g[ae],d||(d=this.g[ae]=[],this.h++);var ye=se(d,_,O,X);return-1<ye?(_=d[ye],x||(_.fa=!1)):(_=new He(_,this.src,ae,!!O,X),_.fa=x,d.push(_)),_};function Ve(d,_){var x=_.type;if(x in d.g){var O=d.g[x],X=Array.prototype.indexOf.call(O,_,void 0),ae;(ae=0<=X)&&Array.prototype.splice.call(O,X,1),ae&&(Ne(_),d.g[x].length==0&&(delete d.g[x],d.h--))}}function se(d,_,x,O){for(var X=0;X<d.length;++X){var ae=d[X];if(!ae.da&&ae.listener==_&&ae.capture==!!x&&ae.ha==O)return X}return-1}var ve="closure_lm_"+(1e6*Math.random()|0),ke={};function Ue(d,_,x,O,X){if(Array.isArray(_)){for(var ae=0;ae<_.length;ae++)Ue(d,_[ae],x,O,X);return null}return x=Zc(x),d&&d[ge]?d.K(_,x,g(O)?!!O.capture:!1,X):We(d,_,x,!1,O,X)}function We(d,_,x,O,X,ae){if(!_)throw Error("Invalid event type");var ye=g(X)?!!X.capture:!!X,nt=cs(d);if(nt||(d[ve]=nt=new De(d)),x=nt.add(_,x,O,ye,ae),x.proxy)return x;if(O=Bn(),x.proxy=O,O.src=d,O.listener=x,d.addEventListener)pe||(X=ye),X===void 0&&(X=!1),d.addEventListener(_.toString(),O,X);else if(d.attachEvent)d.attachEvent(xr(_.toString()),O);else if(d.addListener&&d.removeListener)d.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Bn(){function d(x){return _.call(d.src,d.listener,x)}const _=Xl;return d}function Mn(d,_,x,O,X){if(Array.isArray(_))for(var ae=0;ae<_.length;ae++)Mn(d,_[ae],x,O,X);else O=g(O)?!!O.capture:!!O,x=Zc(x),d&&d[ge]?(d=d.i,_=String(_).toString(),_ in d.g&&(ae=d.g[_],x=se(ae,x,O,X),-1<x&&(Ne(ae[x]),Array.prototype.splice.call(ae,x,1),ae.length==0&&(delete d.g[_],d.h--)))):d&&(d=cs(d))&&(_=d.g[_.toString()],d=-1,_&&(d=se(_,x,O,X)),(x=-1<d?_[d]:null)&&Ft(x))}function Ft(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[ge])Ve(_.i,d);else{var x=d.type,O=d.proxy;_.removeEventListener?_.removeEventListener(x,O,d.capture):_.detachEvent?_.detachEvent(xr(x),O):_.addListener&&_.removeListener&&_.removeListener(O),(x=cs(_))?(Ve(x,d),x.h==0&&(x.src=null,_[ve]=null)):Ne(d)}}}function xr(d){return d in ke?ke[d]:ke[d]="on"+d}function Xl(d,_){if(d.da)d=!0;else{_=new Ae(_,this);var x=d.listener,O=d.ha||d.src;d.fa&&Ft(d),d=x.call(O,_)}return d}function cs(d){return d=d[ve],d instanceof De?d:null}var zn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zc(d){return typeof d=="function"?d:(d[zn]||(d[zn]=function(_){return d.handleEvent(_)}),d[zn])}function kt(){he.call(this),this.i=new De(this),this.M=this,this.F=null}R(kt,he),kt.prototype[ge]=!0,kt.prototype.removeEventListener=function(d,_,x,O){Mn(this,d,_,x,O)};function ct(d,_){var x,O=d.F;if(O)for(x=[];O;O=O.F)x.push(O);if(d=d.M,O=_.type||_,typeof _=="string")_=new oe(_,d);else if(_ instanceof oe)_.target=_.target||d;else{var X=_;_=new oe(O,d),L(_,X)}if(X=!0,x)for(var ae=x.length-1;0<=ae;ae--){var ye=_.g=x[ae];X=Qn(ye,O,!0,_)&&X}if(ye=_.g=d,X=Qn(ye,O,!0,_)&&X,X=Qn(ye,O,!1,_)&&X,x)for(ae=0;ae<x.length;ae++)ye=_.g=x[ae],X=Qn(ye,O,!1,_)&&X}kt.prototype.N=function(){if(kt.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var x=d.g[_],O=0;O<x.length;O++)Ne(x[O]);delete d.g[_],d.h--}}this.F=null},kt.prototype.K=function(d,_,x,O){return this.i.add(String(d),_,!1,x,O)},kt.prototype.L=function(d,_,x,O){return this.i.add(String(d),_,!0,x,O)};function Qn(d,_,x,O){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var X=!0,ae=0;ae<_.length;++ae){var ye=_[ae];if(ye&&!ye.da&&ye.capture==x){var nt=ye.listener,Jt=ye.ha||ye.src;ye.fa&&Ve(d.i,ye),X=nt.call(Jt,O)!==!1&&X}}return X&&!O.defaultPrevented}function wn(d,_,x){if(typeof d=="function")x&&(d=E(d,x));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:f.setTimeout(d,_||0)}function Jc(d){d.g=wn(()=>{d.g=null,d.i&&(d.i=!1,Jc(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class dm extends he{constructor(_,x){super(),this.m=_,this.l=x,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Jc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pa(d){he.call(this),this.h=d,this.g={}}R(pa,he);var ga=[];function ya(d){ne(d.g,function(_,x){this.g.hasOwnProperty(x)&&Ft(_)},d),d.g={}}pa.prototype.N=function(){pa.aa.N.call(this),ya(this)},pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wr=f.JSON.stringify,co=f.JSON.parse,va=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function Zl(){}Zl.prototype.h=null;function Jl(d){return d.h||(d.h=d.i())}function eu(){}var mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pi(){oe.call(this,"d")}R(pi,oe);function tu(){oe.call(this,"c")}R(tu,oe);var Ur={},nu=null;function ds(){return nu=nu||new kt}Ur.La="serverreachability";function fo(d){oe.call(this,Ur.La,d)}R(fo,oe);function fs(d){const _=ds();ct(_,new fo(_))}Ur.STAT_EVENT="statevent";function ed(d,_){oe.call(this,Ur.STAT_EVENT,d),this.stat=_}R(ed,oe);function Ct(d){const _=ds();ct(_,new ed(_,d))}Ur.Ma="timingevent";function Zt(d,_){oe.call(this,Ur.Ma,d),this.size=_}R(Zt,oe);function Ht(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},_)}function lr(){this.g=!0}lr.prototype.xa=function(){this.g=!1};function ru(d,_,x,O,X,ae){d.info(function(){if(d.g)if(ae)for(var ye="",nt=ae.split("&"),Jt=0;Jt<nt.length;Jt++){var rt=nt[Jt].split("=");if(1<rt.length){var un=rt[0];rt=rt[1];var en=un.split("_");ye=2<=en.length&&en[1]=="type"?ye+(un+"="+rt+"&"):ye+(un+"=redacted&")}}else ye=null;else ye=ae;return"XMLHTTP REQ ("+O+") [attempt "+X+"]: "+_+`
`+x+`
`+ye})}function fm(d,_,x,O,X,ae,ye){d.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+X+"]: "+_+`
`+x+`
`+ae+" "+ye})}function hs(d,_,x,O){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+_a(d,x)+(O?" "+O:"")})}function td(d,_){d.info(function(){return"TIMEOUT: "+_})}lr.prototype.info=function(){};function _a(d,_){if(!d.g)return _;if(!_)return null;try{var x=JSON.parse(_);if(x){for(d=0;d<x.length;d++)if(Array.isArray(x[d])){var O=x[d];if(!(2>O.length)){var X=O[1];if(Array.isArray(X)&&!(1>X.length)){var ae=X[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(var ye=1;ye<X.length;ye++)X[ye]=""}}}}return wr(x)}catch{return _}}var ms={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Br;function zr(){}R(zr,Zl),zr.prototype.g=function(){return new XMLHttpRequest},zr.prototype.i=function(){return{}},Br=new zr;function jn(d,_,x,O){this.j=d,this.i=_,this.l=x,this.R=O||1,this.U=new pa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vt}function Vt(){this.i=null,this.g="",this.h=!1}var iu={},ho={};function Tr(d,_,x){d.L=1,d.v=Ta(Wn(_)),d.m=x,d.P=!0,yi(d,null)}function yi(d,_){d.F=Date.now(),ba(d),d.A=Wn(d.v);var x=d.A,O=d.R;Array.isArray(O)||(O=[String(O)]),cu(x.i,"t",O),d.C=0,x=d.j.J,d.h=new Vt,d.g=yd(d.j,x?_:null,!d.m),0<d.O&&(d.M=new dm(E(d.Y,d,d.g),d.O)),_=d.U,x=d.g,O=d.ca;var X="readystatechange";Array.isArray(X)||(X&&(ga[0]=X.toString()),X=ga);for(var ae=0;ae<X.length;ae++){var ye=Ue(x,X[ae],O||_.handleEvent,!1,_.h||_);if(!ye)break;_.g[ye.key]=ye}_=d.H?S(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),fs(),ru(d.i,d.u,d.A,d.l,d.R,d.m)}jn.prototype.ca=function(d){d=d.target;const _=this.M;_&&fr(d)==3?_.j():this.Y(d)},jn.prototype.Y=function(d){try{if(d==this.g)e:{const en=fr(this.g);var _=this.g.Ba();const Si=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||ud(this.g)))){this.J||en!=4||_==7||(_==8||0>=Si?fs(3):fs(2)),ps(this);var x=this.g.Z();this.X=x;t:if(nd(this)){var O=ud(this.g);d="";var X=O.length,ae=fr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),Fr(this);var ye="";break t}this.h.i=new f.TextDecoder}for(_=0;_<X;_++)this.h.h=!0,d+=this.h.i.decode(O[_],{stream:!(ae&&_==X-1)});O.length=0,this.h.g+=d,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=x==200,fm(this.i,this.u,this.A,this.l,this.R,en,x),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,Jt=this.g;if((nt=Jt.g?Jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(nt)){var rt=nt;break t}}rt=null}if(x=rt)hs(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ea(this,x);else{this.o=!1,this.s=3,Ct(12),mn(this),Fr(this);break e}}if(this.P){x=!0;let pn;for(;!this.J&&this.C<ye.length;)if(pn=rd(this,ye),pn==ho){en==4&&(this.s=4,Ct(14),x=!1),hs(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==iu){this.s=4,Ct(15),hs(this.i,this.l,ye,"[Invalid Chunk]"),x=!1;break}else hs(this.i,this.l,pn,null),Ea(this,pn);if(nd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||ye.length!=0||this.h.h||(this.s=1,Ct(16),x=!1),this.o=this.o&&x,!x)hs(this.i,this.l,ye,"[Invalid Chunked Response]"),mn(this),Fr(this);else if(0<ye.length&&!this.W){this.W=!0;var un=this.j;un.g==this&&un.ba&&!un.M&&(un.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),ka(un),un.M=!0,Ct(11))}}else hs(this.i,this.l,ye,null),Ea(this,ye);en==4&&mn(this),this.o&&!this.J&&(en==4?md(this.j,this):(this.o=!1,ba(this)))}else ym(this.g),x==400&&0<ye.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),mn(this),Fr(this)}}}catch{}finally{}};function nd(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function rd(d,_){var x=d.C,O=_.indexOf(`
`,x);return O==-1?ho:(x=Number(_.substring(x,O)),isNaN(x)?iu:(O+=1,O+x>_.length?ho:(_=_.slice(O,O+x),d.C=O+x,_)))}jn.prototype.cancel=function(){this.J=!0,mn(this)};function ba(d){d.S=Date.now()+d.I,id(d,d.I)}function id(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ht(E(d.ba,d),_)}function ps(d){d.B&&(f.clearTimeout(d.B),d.B=null)}jn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(td(this.i,this.A),this.L!=2&&(fs(),Ct(17)),mn(this),this.s=2,Fr(this)):id(this,this.S-d)};function Fr(d){d.j.G==0||d.J||md(d.j,d)}function mn(d){ps(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,ya(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function Ea(d,_){try{var x=d.j;if(x.G!=0&&(x.g==d||su(x.h,d))){if(!d.K&&su(x.h,d)&&x.G==3){try{var O=x.Da.g.parse(_)}catch{O=null}if(Array.isArray(O)&&O.length==3){var X=O;if(X[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<d.F)So(x),wo(x);else break e;pu(x),Ct(18)}}else x.za=X[1],0<x.za-x.T&&37500>X[2]&&x.F&&x.v==0&&!x.C&&(x.C=Ht(E(x.Za,x),6e3));if(1>=po(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Ti(x,11)}else if((d.K||x.g==d)&&So(x),!U(_))for(X=x.Da.g.parse(_),_=0;_<X.length;_++){let rt=X[_];if(x.T=rt[0],rt=rt[1],x.G==2)if(rt[0]=="c"){x.K=rt[1],x.ia=rt[2];const un=rt[3];un!=null&&(x.la=un,x.j.info("VER="+x.la));const en=rt[4];en!=null&&(x.Aa=en,x.j.info("SVER="+x.Aa));const Si=rt[5];Si!=null&&typeof Si=="number"&&0<Si&&(O=1.5*Si,x.L=O,x.j.info("backChannelRequestTimeoutMs_="+O)),O=x;const pn=d.g;if(pn){const Qr=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qr){var ae=O.h;ae.g||Qr.indexOf("spdy")==-1&&Qr.indexOf("quic")==-1&&Qr.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(go(ae,ae.h),ae.h=null))}if(O.D){const yu=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;yu&&(O.ya=yu,ht(O.I,O.D,yu))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-d.F,x.j.info("Handshake RTT: "+x.R+"ms")),O=x;var ye=d;if(O.qa=gd(O,O.J?O.ia:null,O.W),ye.K){Pn(O.h,ye);var nt=ye,Jt=O.L;Jt&&(nt.I=Jt),nt.B&&(ps(nt),ba(nt)),O.g=ye}else fd(O);0<x.i.length&&To(x)}else rt[0]!="stop"&&rt[0]!="close"||Ti(x,7);else x.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?Ti(x,7):hu(x):rt[0]!="noop"&&x.l&&x.l.ta(rt),x.v=0)}}fs(4)}catch{}}var sd=class{constructor(d,_){this.g=d,this.map=_}};function vi(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mo(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function po(d){return d.h?1:d.g?d.g.size:0}function su(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function go(d,_){d.g?d.g.add(_):d.h=_}function Pn(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}vi.prototype.cancel=function(){if(this.i=au(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function au(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const x of d.g.values())_=_.concat(x.D);return _}return A(d.i)}function hm(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(m(d)){for(var _=[],x=d.length,O=0;O<x;O++)_.push(d[O]);return _}_=[],x=0;for(O in d)_[x++]=d[O];return _}function yo(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(m(d)||typeof d=="string"){var _=[];d=d.length;for(var x=0;x<d;x++)_.push(x);return _}_=[],x=0;for(const O in d)_[x++]=O;return _}}}function ou(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(m(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var x=yo(d),O=hm(d),X=O.length,ae=0;ae<X;ae++)_.call(void 0,O[ae],x&&x[ae],d)}var xa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mm(d,_){if(d){d=d.split("&");for(var x=0;x<d.length;x++){var O=d[x].indexOf("="),X=null;if(0<=O){var ae=d[x].substring(0,O);X=d[x].substring(O+1)}else ae=d[x];_(ae,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function qt(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof qt){this.h=d.h,wa(this,d.j),this.o=d.o,this.g=d.g,gs(this,d.s),this.l=d.l;var _=d.i,x=new bi;x.i=_.i,_.g&&(x.g=new Map(_.g),x.h=_.h),_i(this,x),this.m=d.m}else d&&(_=String(d).match(xa))?(this.h=!1,wa(this,_[1]||"",!0),this.o=ur(_[2]||""),this.g=ur(_[3]||"",!0),gs(this,_[4]),this.l=ur(_[5]||"",!0),_i(this,_[6]||"",!0),this.m=ur(_[7]||"")):(this.h=!1,this.i=new bi(null,this.h))}qt.prototype.toString=function(){var d=[],_=this.j;_&&d.push(Sa(_,lu,!0),":");var x=this.g;return(x||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Sa(_,lu,!0),"@"),d.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&d.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(Sa(x,x.charAt(0)=="/"?pm:uu,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",Sa(x,vo)),d.join("")};function Wn(d){return new qt(d)}function wa(d,_,x){d.j=x?ur(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function gs(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function _i(d,_,x){_ instanceof bi?(d.i=_,od(d.i,d.h)):(x||(_=Sa(_,gm)),d.i=new bi(_,d.h))}function ht(d,_,x){d.i.set(_,x)}function Ta(d){return ht(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function ur(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Sa(d,_,x){return typeof d=="string"?(d=encodeURI(d).replace(_,ad),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function ad(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var lu=/[#\/\?@]/g,uu=/[#\?:]/g,pm=/[#\?]/g,gm=/[#\?@]/g,vo=/#/g;function bi(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function cr(d){d.g||(d.g=new Map,d.h=0,d.i&&mm(d.i,function(_,x){d.add(decodeURIComponent(_.replace(/\+/g," ")),x)}))}n=bi.prototype,n.add=function(d,_){cr(this),this.i=null,d=Hr(this,d);var x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(_),this.h+=1,this};function Ei(d,_){cr(d),_=Hr(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function xi(d,_){return cr(d),_=Hr(d,_),d.g.has(_)}n.forEach=function(d,_){cr(this),this.g.forEach(function(x,O){x.forEach(function(X){d.call(_,X,O,this)},this)},this)},n.na=function(){cr(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),x=[];for(let O=0;O<_.length;O++){const X=d[O];for(let ae=0;ae<X.length;ae++)x.push(_[O])}return x},n.V=function(d){cr(this);let _=[];if(typeof d=="string")xi(this,d)&&(_=_.concat(this.g.get(Hr(this,d))));else{d=Array.from(this.g.values());for(let x=0;x<d.length;x++)_=_.concat(d[x])}return _},n.set=function(d,_){return cr(this),this.i=null,d=Hr(this,d),xi(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function cu(d,_,x){Ei(d,_),0<x.length&&(d.i=null,d.g.set(Hr(d,_),A(x)),d.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var x=0;x<_.length;x++){var O=_[x];const ae=encodeURIComponent(String(O)),ye=this.V(O);for(O=0;O<ye.length;O++){var X=ae;ye[O]!==""&&(X+="="+encodeURIComponent(String(ye[O]))),d.push(X)}}return this.i=d.join("&")};function Hr(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function od(d,_){_&&!d.j&&(cr(d),d.i=null,d.g.forEach(function(x,O){var X=O.toLowerCase();O!=X&&(Ei(this,O),cu(this,X,x))},d)),d.j=_}function Aa(d,_){const x=new lr;if(f.Image){const O=new Image;O.onload=C(dr,x,"TestLoadImage: loaded",!0,_,O),O.onerror=C(dr,x,"TestLoadImage: error",!1,_,O),O.onabort=C(dr,x,"TestLoadImage: abort",!1,_,O),O.ontimeout=C(dr,x,"TestLoadImage: timeout",!1,_,O),f.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=d}else _(!1)}function Sr(d,_){const x=new lr,O=new AbortController,X=setTimeout(()=>{O.abort(),dr(x,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:O.signal}).then(ae=>{clearTimeout(X),ae.ok?dr(x,"TestPingServer: ok",!0,_):dr(x,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(X),dr(x,"TestPingServer: error",!1,_)})}function dr(d,_,x,O,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),O(x)}catch{}}function Ca(){this.g=new va}function qr(d,_,x){const O=x||"";try{ou(d,function(X,ae){let ye=X;g(X)&&(ye=wr(X)),_.push(O+ae+"="+encodeURIComponent(ye))})}catch(X){throw _.push(O+"type="+encodeURIComponent("_badmap")),X}}function ys(d){this.l=d.Ub||null,this.j=d.eb||!1}R(ys,Zl),ys.prototype.g=function(){return new wi(this.l,this.j)},ys.prototype.i=function(d){return function(){return d}}({});function wi(d,_){kt.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(wi,kt),n=wi.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,$r(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||f).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,$r(this)),this.g&&(this.readyState=3,$r(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;du(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function du(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Gr(this):$r(this),this.readyState==3&&du(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Gr(this))},n.Qa=function(d){this.g&&(this.response=d,Gr(this))},n.ga=function(){this.g&&Gr(this)};function Gr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,$r(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var x=_.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=_.next();return d.join(`\r
`)};function $r(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function fu(d){let _="";return ne(d,function(x,O){_+=O,_+=":",_+=x,_+=`\r
`}),_}function ln(d,_,x){e:{for(O in x){var O=!1;break e}O=!0}O||(x=fu(x),typeof d=="string"?x!=null&&encodeURIComponent(String(x)):ht(d,_,x))}function lt(d){kt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(lt,kt);var _o=/^https?$/i,Ra=["POST","PUT"];n=lt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,x,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Br.g(),this.v=this.o?Jl(this.o):Jl(Br),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(ae){ld(this,ae);return}if(d=x||"",x=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var X in O)x.set(X,O[X]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const ae of O.keys())x.set(ae,O.get(ae));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(x.keys()).find(ae=>ae.toLowerCase()=="content-type"),X=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ra,_,void 0))||O||X||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,ye]of x)this.g.setRequestHeader(ae,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ia(this),this.u=!0,this.g.send(d),this.u=!1}catch(ae){ld(this,ae)}};function ld(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,bo(d),Yr(d)}function bo(d){d.A||(d.A=!0,ct(d,"complete"),ct(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ct(this,"complete"),ct(this,"abort"),Yr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yr(this,!0)),lt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Eo(this):this.bb())},n.bb=function(){Eo(this)};function Eo(d){if(d.h&&typeof c<"u"&&(!d.v[1]||fr(d)!=4||d.Z()!=2)){if(d.u&&fr(d)==4)wn(d.Ea,0,d);else if(ct(d,"readystatechange"),fr(d)==4){d.h=!1;try{const ye=d.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var x;if(!(x=_)){var O;if(O=ye===0){var X=String(d.D).match(xa)[1]||null;!X&&f.self&&f.self.location&&(X=f.self.location.protocol.slice(0,-1)),O=!_o.test(X?X.toLowerCase():"")}x=O}if(x)ct(d,"complete"),ct(d,"success");else{d.m=6;try{var ae=2<fr(d)?d.g.statusText:""}catch{ae=""}d.l=ae+" ["+d.Z()+"]",bo(d)}}finally{Yr(d)}}}}function Yr(d,_){if(d.g){Ia(d);const x=d.g,O=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||ct(d,"ready");try{x.onreadystatechange=O}catch{}}}function Ia(d){d.I&&(f.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function fr(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<fr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),co(_)}};function ud(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ym(d){const _={};d=(d.g&&2<=fr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<d.length;O++){if(U(d[O]))continue;var x=D(d[O]);const X=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const ae=_[X]||[];_[X]=ae,ae.push(x)}k(_,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Na(d,_,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||_}function xo(d){this.Aa=0,this.i=[],this.j=new lr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Na("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Na("baseRetryDelayMs",5e3,d),this.cb=Na("retryDelaySeedMs",1e4,d),this.Wa=Na("forwardChannelMaxRetries",2,d),this.wa=Na("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new vi(d&&d.concurrentRequestLimit),this.Da=new Ca,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=xo.prototype,n.la=8,n.G=1,n.connect=function(d,_,x,O){Ct(0),this.W=d,this.H=_||{},x&&O!==void 0&&(this.H.OSID=x,this.H.OAID=O),this.F=this.X,this.I=gd(this,null,this.W),To(this)};function hu(d){if(cd(d),d.G==3){var _=d.U++,x=Wn(d.I);if(ht(x,"SID",d.K),ht(x,"RID",_),ht(x,"TYPE","terminate"),Da(d,x),_=new jn(d,d.j,_),_.L=2,_.v=Ta(Wn(x)),x=!1,f.navigator&&f.navigator.sendBeacon)try{x=f.navigator.sendBeacon(_.v.toString(),"")}catch{}!x&&f.Image&&(new Image().src=_.v,x=!0),x||(_.g=yd(_.j,null),_.g.ea(_.v)),_.F=Date.now(),ba(_)}pd(d)}function wo(d){d.g&&(ka(d),d.g.cancel(),d.g=null)}function cd(d){wo(d),d.u&&(f.clearTimeout(d.u),d.u=null),So(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function To(d){if(!mo(d.h)&&!d.s){d.s=!0;var _=d.Ga;Q||z(),Y||(Q(),Y=!0),me.add(_,d),d.B=0}}function vm(d,_){return po(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ht(E(d.Ga,d,_),gu(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const X=new jn(this,this.j,d);let ae=this.o;if(this.S&&(ae?(ae=S(ae),L(ae,this.S)):ae=this.S),this.m!==null||this.O||(X.H=ae,ae=null),this.P)e:{for(var _=0,x=0;x<this.i.length;x++){t:{var O=this.i[x];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(_+=O,4096<_){_=x;break e}if(_===4096||x===this.i.length-1){_=x+1;break e}}_=1e3}else _=1e3;_=dd(this,X,_),x=Wn(this.I),ht(x,"RID",d),ht(x,"CVER",22),this.D&&ht(x,"X-HTTP-Session-Id",this.D),Da(this,x),ae&&(this.O?_="headers="+encodeURIComponent(String(fu(ae)))+"&"+_:this.m&&ln(x,this.m,ae)),go(this.h,X),this.Ua&&ht(x,"TYPE","init"),this.P?(ht(x,"$req",_),ht(x,"SID","null"),X.T=!0,Tr(X,x,null)):Tr(X,x,_),this.G=2}}else this.G==3&&(d?mu(this,d):this.i.length==0||mo(this.h)||mu(this))};function mu(d,_){var x;_?x=_.l:x=d.U++;const O=Wn(d.I);ht(O,"SID",d.K),ht(O,"RID",x),ht(O,"AID",d.T),Da(d,O),d.m&&d.o&&ln(O,d.m,d.o),x=new jn(d,d.j,x,d.B+1),d.m===null&&(x.H=d.o),_&&(d.i=_.D.concat(d.i)),_=dd(d,x,1e3),x.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),go(d.h,x),Tr(x,O,_)}function Da(d,_){d.H&&ne(d.H,function(x,O){ht(_,O,x)}),d.l&&ou({},function(x,O){ht(_,O,x)})}function dd(d,_,x){x=Math.min(d.i.length,x);var O=d.l?E(d.l.Na,d.l,d):null;e:{var X=d.i;let ae=-1;for(;;){const ye=["count="+x];ae==-1?0<x?(ae=X[0].g,ye.push("ofs="+ae)):ae=0:ye.push("ofs="+ae);let nt=!0;for(let Jt=0;Jt<x;Jt++){let rt=X[Jt].g;const un=X[Jt].map;if(rt-=ae,0>rt)ae=Math.max(0,X[Jt].g-100),nt=!1;else try{qr(un,ye,"req"+rt+"_")}catch{O&&O(un)}}if(nt){O=ye.join("&");break e}}}return d=d.i.splice(0,x),_.D=d,O}function fd(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;Q||z(),Y||(Q(),Y=!0),me.add(_,d),d.v=0}}function pu(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ht(E(d.Fa,d),gu(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,hd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ht(E(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),wo(this),hd(this))};function ka(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function hd(d){d.g=new jn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Wn(d.qa);ht(_,"RID","rpc"),ht(_,"SID",d.K),ht(_,"AID",d.T),ht(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&ht(_,"TO",d.ja),ht(_,"TYPE","xmlhttp"),Da(d,_),d.m&&d.o&&ln(_,d.m,d.o),d.L&&(d.g.I=d.L);var x=d.g;d=d.ia,x.L=1,x.v=Ta(Wn(_)),x.m=null,x.P=!0,yi(x,d)}n.Za=function(){this.C!=null&&(this.C=null,wo(this),pu(this),Ct(19))};function So(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function md(d,_){var x=null;if(d.g==_){So(d),ka(d),d.g=null;var O=2}else if(su(d.h,_))x=_.D,Pn(d.h,_),O=1;else return;if(d.G!=0){if(_.o)if(O==1){x=_.m?_.m.length:0,_=Date.now()-_.F;var X=d.B;O=ds(),ct(O,new Zt(O,x)),To(d)}else fd(d);else if(X=_.s,X==3||X==0&&0<_.X||!(O==1&&vm(d,_)||O==2&&pu(d)))switch(x&&0<x.length&&(_=d.h,_.i=_.i.concat(x)),X){case 1:Ti(d,5);break;case 4:Ti(d,10);break;case 3:Ti(d,6);break;default:Ti(d,2)}}}function gu(d,_){let x=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(x*=2),x*_}function Ti(d,_){if(d.j.info("Error code "+_),_==2){var x=E(d.fb,d),O=d.Xa;const X=!O;O=new qt(O||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||wa(O,"https"),Ta(O),X?Aa(O.toString(),x):Sr(O.toString(),x)}else Ct(2);d.G=0,d.l&&d.l.sa(_),pd(d),cd(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function pd(d){if(d.G=0,d.ka=[],d.l){const _=au(d.h);(_.length!=0||d.i.length!=0)&&(N(d.ka,_),N(d.ka,d.i),d.h.i.length=0,A(d.i),d.i.length=0),d.l.ra()}}function gd(d,_,x){var O=x instanceof qt?Wn(x):new qt(x);if(O.g!="")_&&(O.g=_+"."+O.g),gs(O,O.s);else{var X=f.location;O=X.protocol,_=_?_+"."+X.hostname:X.hostname,X=+X.port;var ae=new qt(null);O&&wa(ae,O),_&&(ae.g=_),X&&gs(ae,X),x&&(ae.l=x),O=ae}return x=d.D,_=d.ya,x&&_&&ht(O,x,_),ht(O,"VER",d.la),Da(d,O),O}function yd(d,_,x){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new lt(new ys({eb:x})):new lt(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function vd(){}n=vd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ao(){}Ao.prototype.g=function(d,_){return new Vn(d,_)};function Vn(d,_){kt.call(this),this.g=new xo(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!U(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!U(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Kr(this)}R(Vn,kt),Vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){hu(this.g)},Vn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.u&&(x={},x.__data__=wr(d),d=x);_.i.push(new sd(_.Ya++,d)),_.G==3&&To(_)},Vn.prototype.N=function(){this.g.l=null,delete this.j,hu(this.g),delete this.g,Vn.aa.N.call(this)};function _d(d){pi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const x in _){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}R(_d,pi);function bd(){tu.call(this),this.status=1}R(bd,tu);function Kr(d){this.g=d}R(Kr,vd),Kr.prototype.ua=function(){ct(this.g,"a")},Kr.prototype.ta=function(d){ct(this.g,new _d(d))},Kr.prototype.sa=function(d){ct(this.g,new bd)},Kr.prototype.ra=function(){ct(this.g,"b")},Ao.prototype.createWebChannel=Ao.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,x1=function(){return new Ao},E1=function(){return ds()},b1=Ur,ry={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ms.NO_ERROR=0,ms.TIMEOUT=8,ms.HTTP_ERROR=6,Gf=ms,gi.COMPLETE="complete",_1=gi,eu.EventType=mi,mi.OPEN="a",mi.CLOSE="b",mi.ERROR="c",mi.MESSAGE="d",kt.prototype.listen=kt.prototype.K,dc=eu,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,v1=lt}).apply(typeof Af<"u"?Af:typeof self<"u"?self:typeof window<"u"?window:{});const mx="@firebase/firestore",px="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cn.UNAUTHENTICATED=new Cn(null),Cn.GOOGLE_CREDENTIALS=new Cn("google-credentials-uid"),Cn.FIRST_PARTY=new Cn("first-party-uid"),Cn.MOCK_USER=new Cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new qy("@firebase/firestore");function al(){return to.logLevel}function be(n,...e){if(to.logLevel<=Je.DEBUG){const t=e.map(tv);to.debug(`Firestore (${Hl}): ${n}`,...t)}}function Ji(n,...e){if(to.logLevel<=Je.ERROR){const t=e.map(tv);to.error(`Firestore (${Hl}): ${n}`,...t)}}function Sl(n,...e){if(to.logLevel<=Je.WARN){const t=e.map(tv);to.warn(`Firestore (${Hl}): ${n}`,...t)}}function tv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,w1(n,i,t)}function w1(n,e,t){let i=`FIRESTORE (${Hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ji(i),new Error(i)}function ut(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||w1(e,a,i)}function Fe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends as{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class y4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Cn.UNAUTHENTICATED))}shutdown(){}}class v4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _4{constructor(e){this.t=e,this.currentUser=Cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ut(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ki,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},f=m=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ki)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ut(typeof i.accessToken=="string",31837,{l:i}),new T1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new Cn(e)}}class b4{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class E4{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new b4(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x4{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,br(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ut(this.o===void 0,3512);const i=l=>{l.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,be("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new gx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ut(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new gx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=w4(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Ke(n,e){return n<e?-1:n>e?1:0}function iy(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return Ke(i,a);{const l=S1(),c=T4(l.encode(yx(n,t)),l.encode(yx(e,t)));return c!==0?c:Ke(i,a)}}t+=i>65535?2:1}return Ke(n.length,e.length)}function yx(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function T4(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ke(n[t],e[t]);return Ke(n.length,e.length)}function Al(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=-62135596800,_x=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*_x);return new _t(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<vx)throw new _e(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_x}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-vx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new _t(0,0))}static max(){return new Be(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="__name__";class ti{constructor(e,t,i){t===void 0?t=0:t>e.length&&Pe(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Pe(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=ti.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Ke(e.length,t.length)}static compareSegments(e,t){const i=ti.isNumericId(e),a=ti.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?ti.extractNumericId(e).compare(ti.extractNumericId(t)):iy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Js.fromString(e.substring(4,e.length-2))}}class wt extends ti{construct(e,t,i){return new wt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new _e(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new wt(t)}static emptyPath(){return new wt([])}}const S4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends ti{construct(e,t,i){return new bn(e,t,i)}static isValidIdentifier(e){return S4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bx}static keyField(){return new bn([bx])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new _e(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new _e(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new _e(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(i+=f,a++):(l(),a++)}if(l(),c)throw new _e(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(t)}static emptyPath(){return new bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(wt.fromString(e))}static fromName(e){return new Re(wt.fromString(e).popFirst(5))}static empty(){return new Re(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new wt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=-1;function A4(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Be.fromTimestamp(i===1e9?new _t(t+1,0):new _t(t,i));return new na(a,Re.empty(),e)}function C4(n){return new na(n.readTime,n.key,Ac)}class na{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new na(Be.min(),Re.empty(),Ac)}static max(){return new na(Be.max(),Re.empty(),Ac)}}function R4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Re.comparator(n.documentKey,e.documentKey),t!==0?t:Ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==I4)throw n;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,i)=>{t(e)})}static reject(e){return new fe((t,i)=>{i(e)})}static waitFor(e){return new fe((t,i)=>{let a=0,l=0,c=!1;e.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&t()},m=>i(m))}),c=!0,l===a&&t()})}static or(e){let t=fe.resolve(!1);for(const i of e)t=t.next(a=>a?fe.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new fe((i,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next(v=>{c[g]=v,++f,f===l&&i(c)},v=>a(v))}})}static doWhile(e,t){return new fe((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function D4(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Gl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ph.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=-1;function Vh(n){return n==null}function ch(n){return n===0&&1/n==-1/0}function k4(n){return typeof n=="number"&&Number.isInteger(n)&&!ch(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="";function O4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ex(e)),e=M4(n.get(t),e);return Ex(e)}function M4(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case C1:t+="";break;default:t+=l}}return t}function Ex(n){return n+C1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function da(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function R1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,t){this.comparator=e,this.root=t||_n.EMPTY}insert(e,t){return new Dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cf(this.root,e,this.comparator,!0)}}class Cf{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??_n.RED,this.left=a??_n.EMPTY,this.right=l??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new _n(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return _n.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new _n(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wx(this.data.getIterator())}getIteratorFrom(e){return new wx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new sn(this.comparator);return t.data=e,t}}class wx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new sr([])}unionWith(e){let t=new sn(bn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new sr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Al(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new I1("Invalid base64 string: "+l):l}}(e);return new xn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new xn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const j4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ra(n){if(ut(!!n,39018),typeof n=="string"){let e=0;const t=j4.exec(n);if(ut(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Bt(n.seconds),nanos:Bt(n.nanos)}}function Bt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ia(n){return typeof n=="string"?xn.fromBase64String(n):xn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="server_timestamp",D1="__type__",k1="__previous_value__",O1="__local_write_time__";function rv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[D1])===null||t===void 0?void 0:t.stringValue)===N1}function Lh(n){const e=n.mapValue.fields[k1];return rv(e)?Lh(e):e}function Cc(n){const e=ra(n.mapValue.fields[O1].timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,t,i,a,l,c,f,m,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const dh="(default)";class Rc{constructor(e,t){this.projectId=e,this.database=t||dh}static empty(){return new Rc("","")}get isDefaultDatabase(){return this.database===dh}isEqual(e){return e instanceof Rc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="__type__",V4="__max__",Rf={mapValue:{}},j1="__vector__",fh="value";function sa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?rv(n)?4:U4(n)?9007199254740991:L4(n)?10:11:Pe(28295,{value:n})}function ci(n,e){if(n===e)return!0;const t=sa(n);if(t!==sa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Cc(n).isEqual(Cc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ra(a.timestampValue),f=ra(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return ia(a.bytesValue).isEqual(ia(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return Bt(a.geoPointValue.latitude)===Bt(l.geoPointValue.latitude)&&Bt(a.geoPointValue.longitude)===Bt(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Bt(a.integerValue)===Bt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Bt(a.doubleValue),f=Bt(l.doubleValue);return c===f?ch(c)===ch(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return Al(n.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(xx(c)!==xx(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!ci(c[m],f[m])))return!1;return!0}(n,e);default:return Pe(52216,{left:n})}}function Ic(n,e){return(n.values||[]).find(t=>ci(t,e))!==void 0}function Cl(n,e){if(n===e)return 0;const t=sa(n),i=sa(e);if(t!==i)return Ke(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ke(n.booleanValue,e.booleanValue);case 2:return function(l,c){const f=Bt(l.integerValue||l.doubleValue),m=Bt(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(n,e);case 3:return Tx(n.timestampValue,e.timestampValue);case 4:return Tx(Cc(n),Cc(e));case 5:return iy(n.stringValue,e.stringValue);case 6:return function(l,c){const f=ia(l),m=ia(c);return f.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),m=c.split("/");for(let g=0;g<f.length&&g<m.length;g++){const v=Ke(f[g],m[g]);if(v!==0)return v}return Ke(f.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const f=Ke(Bt(l.latitude),Bt(c.latitude));return f!==0?f:Ke(Bt(l.longitude),Bt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Sx(n.arrayValue,e.arrayValue);case 10:return function(l,c){var f,m,g,v;const b=l.fields||{},E=c.fields||{},C=(f=b[fh])===null||f===void 0?void 0:f.arrayValue,R=(m=E[fh])===null||m===void 0?void 0:m.arrayValue,A=Ke(((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0,((v=R==null?void 0:R.values)===null||v===void 0?void 0:v.length)||0);return A!==0?A:Sx(C,R)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Rf.mapValue&&c===Rf.mapValue)return 0;if(l===Rf.mapValue)return 1;if(c===Rf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),g=c.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let b=0;b<m.length&&b<v.length;++b){const E=iy(m[b],v[b]);if(E!==0)return E;const C=Cl(f[m[b]],g[v[b]]);if(C!==0)return C}return Ke(m.length,v.length)}(n.mapValue,e.mapValue);default:throw Pe(23264,{Pe:t})}}function Tx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ke(n,e);const t=ra(n),i=ra(e),a=Ke(t.seconds,i.seconds);return a!==0?a:Ke(t.nanos,i.nanos)}function Sx(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Cl(t[a],i[a]);if(l)return l}return Ke(t.length,i.length)}function Rl(n){return sy(n)}function sy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ra(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ia(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Re.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=sy(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${sy(t.fields[c])}`;return a+"}"}(n.mapValue):Pe(61005,{value:n})}function $f(n){switch(sa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lh(n);return e?16+$f(e):16;case 5:return 2*n.stringValue.length;case 6:return ia(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+$f(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return da(i.fields,(l,c)=>{a+=l.length+$f(c)}),a}(n.mapValue);default:throw Pe(13486,{value:n})}}function Ax(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ay(n){return!!n&&"integerValue"in n}function iv(n){return!!n&&"arrayValue"in n}function Cx(n){return!!n&&"nullValue"in n}function Rx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Yf(n){return!!n&&"mapValue"in n}function L4(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[M1])===null||t===void 0?void 0:t.stringValue)===j1}function vc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return da(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=vc(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function U4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===V4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Yf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vc(t)}setAll(e){let t=bn.emptyPath(),i={},a=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,i,a),i={},a=[],t=f.popLast()}c?i[f.lastSegment()]=vc(c):a.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());Yf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ci(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Yf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){da(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new $n(vc(this.value))}}function P1(n){const e=[];return da(n.fields,(t,i)=>{const a=new bn([t]);if(Yf(i)){const l=P1(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,t,i,a,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Rn(e,0,Be.min(),Be.min(),Be.min(),$n.empty(),0)}static newFoundDocument(e,t,i,a){return new Rn(e,1,t,Be.min(),i,a,0)}static newNoDocument(e,t){return new Rn(e,2,t,Be.min(),Be.min(),$n.empty(),0)}static newUnknownDocument(e,t){return new Rn(e,3,t,Be.min(),Be.min(),$n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,t){this.position=e,this.inclusive=t}}function Ix(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=Re.comparator(Re.fromName(c.referenceValue),t.key):i=Cl(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Nx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ci(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t="asc"){this.field=e,this.dir=t}}function B4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{}class Kt extends V1{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new F4(e,t,i):t==="array-contains"?new G4(e,i):t==="in"?new $4(e,i):t==="not-in"?new Y4(e,i):t==="array-contains-any"?new K4(e,i):new Kt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new H4(e,i):new q4(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Cl(t,this.value)):t!==null&&sa(this.value)===sa(t)&&this.matchesComparison(Cl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jr extends V1{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new jr(e,t)}matches(e){return L1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function L1(n){return n.op==="and"}function U1(n){return z4(n)&&L1(n)}function z4(n){for(const e of n.filters)if(e instanceof jr)return!1;return!0}function oy(n){if(n instanceof Kt)return n.field.canonicalString()+n.op.toString()+Rl(n.value);if(U1(n))return n.filters.map(e=>oy(e)).join(",");{const e=n.filters.map(t=>oy(t)).join(",");return`${n.op}(${e})`}}function B1(n,e){return n instanceof Kt?function(i,a){return a instanceof Kt&&i.op===a.op&&i.field.isEqual(a.field)&&ci(i.value,a.value)}(n,e):n instanceof jr?function(i,a){return a instanceof jr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,f)=>l&&B1(c,a.filters[f]),!0):!1}(n,e):void Pe(19439)}function z1(n){return n instanceof Kt?function(t){return`${t.field.canonicalString()} ${t.op} ${Rl(t.value)}`}(n):n instanceof jr?function(t){return t.op.toString()+" {"+t.getFilters().map(z1).join(" ,")+"}"}(n):"Filter"}class F4 extends Kt{constructor(e,t,i){super(e,t,i),this.key=Re.fromName(i.referenceValue)}matches(e){const t=Re.comparator(e.key,this.key);return this.matchesComparison(t)}}class H4 extends Kt{constructor(e,t){super(e,"in",t),this.keys=F1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class q4 extends Kt{constructor(e,t){super(e,"not-in",t),this.keys=F1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function F1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Re.fromName(i.referenceValue))}class G4 extends Kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return iv(t)&&Ic(t.arrayValue,this.value)}}class $4 extends Kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ic(this.value.arrayValue,t)}}class Y4 extends Kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ic(this.value.arrayValue,t)}}class K4 extends Kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!iv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ic(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,t=null,i=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Ie=null}}function Dx(n,e=null,t=[],i=[],a=null,l=null,c=null){return new Q4(n,e,t,i,a,l,c)}function sv(n){const e=Fe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>oy(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Vh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Rl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Rl(i)).join(",")),e.Ie=t}return e.Ie}function av(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!B4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!B1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Nx(n.startAt,e.startAt)&&Nx(n.endAt,e.endAt)}function ly(n){return Re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,t=null,i=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function W4(n,e,t,i,a,l,c,f){return new $l(n,e,t,i,a,l,c,f)}function Uh(n){return new $l(n)}function kx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function H1(n){return n.collectionGroup!==null}function _c(n){const e=Fe(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new sn(bn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(f=f.add(g.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Nc(l,i))}),t.has(bn.keyField().canonicalString())||e.Ee.push(new Nc(bn.keyField(),i))}return e.Ee}function si(n){const e=Fe(n);return e.de||(e.de=X4(e,_c(n))),e.de}function X4(n,e){if(n.limitType==="F")return Dx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Nc(a.field,l)});const t=n.endAt?new hh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new hh(n.startAt.position,n.startAt.inclusive):null;return Dx(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function uy(n,e){const t=n.filters.concat([e]);return new $l(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function mh(n,e,t){return new $l(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Bh(n,e){return av(si(n),si(e))&&n.limitType===e.limitType}function q1(n){return`${sv(si(n))}|lt:${n.limitType}`}function ol(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>z1(a)).join(", ")}]`),Vh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Rl(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Rl(a)).join(",")),`Target(${i})`}(si(n))}; limitType=${n.limitType})`}function zh(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Re.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of _c(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,f,m){const g=Ix(c,f,m);return c.inclusive?g<=0:g<0}(i.startAt,_c(i),a)||i.endAt&&!function(c,f,m){const g=Ix(c,f,m);return c.inclusive?g>=0:g>0}(i.endAt,_c(i),a))}(n,e)}function Z4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function G1(n){return(e,t)=>{let i=!1;for(const a of _c(n)){const l=J4(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function J4(n,e,t){const i=n.field.isKeyField()?Re.comparator(e.key,t.key):function(l,c,f){const m=c.data.field(l),g=f.data.field(l);return m!==null&&g!==null?Cl(m,g):Pe(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Pe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){da(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return R1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=new Dt(Re.comparator);function es(){return eO}const $1=new Dt(Re.comparator);function fc(...n){let e=$1;for(const t of n)e=e.insert(t.key,t);return e}function Y1(n){let e=$1;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Wa(){return bc()}function K1(){return bc()}function bc(){return new lo(n=>n.toString(),(n,e)=>n.isEqual(e))}const tO=new Dt(Re.comparator),nO=new sn(Re.comparator);function et(...n){let e=nO;for(const t of n)e=e.add(t);return e}const rO=new sn(Ke);function iO(){return rO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function Q1(n){return{integerValue:""+n}}function sO(n,e){return k4(e)?Q1(e):ov(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this._=void 0}}function aO(n,e,t){return n instanceof ph?function(a,l){const c={fields:{[D1]:{stringValue:N1},[O1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&rv(l)&&(l=Lh(l)),l&&(c.fields[k1]=l),{mapValue:c}}(t,e):n instanceof Dc?X1(n,e):n instanceof kc?Z1(n,e):function(a,l){const c=W1(a,l),f=Ox(c)+Ox(a.Re);return ay(c)&&ay(a.Re)?Q1(f):ov(a.serializer,f)}(n,e)}function oO(n,e,t){return n instanceof Dc?X1(n,e):n instanceof kc?Z1(n,e):t}function W1(n,e){return n instanceof gh?function(i){return ay(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class ph extends Fh{}class Dc extends Fh{constructor(e){super(),this.elements=e}}function X1(n,e){const t=J1(e);for(const i of n.elements)t.some(a=>ci(a,i))||t.push(i);return{arrayValue:{values:t}}}class kc extends Fh{constructor(e){super(),this.elements=e}}function Z1(n,e){let t=J1(e);for(const i of n.elements)t=t.filter(a=>!ci(a,i));return{arrayValue:{values:t}}}class gh extends Fh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Ox(n){return Bt(n.integerValue||n.doubleValue)}function J1(n){return iv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function lO(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof Dc&&a instanceof Dc||i instanceof kc&&a instanceof kc?Al(i.elements,a.elements,ci):i instanceof gh&&a instanceof gh?ci(i.Re,a.Re):i instanceof ph&&a instanceof ph}(n.transform,e.transform)}class uO{constructor(e,t){this.version=e,this.transformResults=t}}class Er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Hh{}function eS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new lv(n.key,Er.none()):new Gc(n.key,n.data,Er.none());{const t=n.data,i=$n.empty();let a=new sn(bn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new fa(n.key,i,new sr(a.toArray()),Er.none())}}function cO(n,e,t){n instanceof Gc?function(a,l,c){const f=a.value.clone(),m=jx(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof fa?function(a,l,c){if(!Kf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=jx(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(tS(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Ec(n,e,t,i){return n instanceof Gc?function(l,c,f,m){if(!Kf(l.precondition,c))return f;const g=l.value.clone(),v=Px(l.fieldTransforms,m,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof fa?function(l,c,f,m){if(!Kf(l.precondition,c))return f;const g=Px(l.fieldTransforms,m,c),v=c.data;return v.setAll(tS(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(n,e,t,i):function(l,c,f){return Kf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,e,t)}function dO(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=W1(i.transform,a||null);l!=null&&(t===null&&(t=$n.empty()),t.set(i.field,l))}return t||null}function Mx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Al(i,a,(l,c)=>lO(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Gc extends Hh{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class fa extends Hh{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function tS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function jx(n,e,t){const i=new Map;ut(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,f=e.data.field(l.field);i.set(l.field,oO(c,f,t[a]))}return i}function Px(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,aO(l,c,e))}return i}class lv extends Hh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fO extends Hh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&cO(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ec(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ec(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=K1();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(a.key)?null:f;const m=eS(c,f);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Be.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),et())}isEqual(e){return this.batchId===e.batchId&&Al(this.mutations,e.mutations,(t,i)=>Mx(t,i))&&Al(this.baseMutations,e.baseMutations,(t,i)=>Mx(t,i))}}class uv{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){ut(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let a=function(){return tO}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new uv(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,st;function gO(n){switch(n){case ce.OK:return Pe(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Pe(15467,{code:n})}}function nS(n){if(n===void 0)return Ji("GRPC error has no .code"),ce.UNKNOWN;switch(n){case Yt.OK:return ce.OK;case Yt.CANCELLED:return ce.CANCELLED;case Yt.UNKNOWN:return ce.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return ce.INTERNAL;case Yt.UNAVAILABLE:return ce.UNAVAILABLE;case Yt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Yt.NOT_FOUND:return ce.NOT_FOUND;case Yt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Yt.ABORTED:return ce.ABORTED;case Yt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Yt.DATA_LOSS:return ce.DATA_LOSS;default:return Pe(39323,{code:n})}}(st=Yt||(Yt={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=new Js([4294967295,4294967295],0);function Vx(n){const e=S1().encode(n),t=new y1;return t.update(e),new Uint8Array(t.digest())}function Lx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Js([t,i],0),new Js([a,l],0)]}class cv{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new hc(`Invalid padding: ${t}`);if(i<0)throw new hc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new hc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new hc(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Js.fromNumber(this.pe)}we(e,t,i){let a=e.add(t.multiply(Js.fromNumber(i)));return a.compare(yO)===1&&(a=new Js([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=Vx(e),[i,a]=Lx(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);if(!this.be(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new cv(l,a,t);return i.forEach(f=>c.insert(f)),c}insert(e){if(this.pe===0)return;const t=Vx(e),[i,a]=Lx(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class hc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,$c.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new qh(Be.min(),a,new Dt(Ke),es(),et())}}class $c{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new $c(i,t,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,t,i,a){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=a}}class rS{constructor(e,t){this.targetId=e,this.Ce=t}}class iS{constructor(e,t,i=xn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class Ux{constructor(){this.Fe=0,this.Me=Bx(),this.xe=xn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=et(),t=et(),i=et();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Pe(38017,{changeType:l})}}),new $c(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=Bx()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ut(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class vO{constructor(e){this.ze=e,this.je=new Map,this.He=es(),this.Je=If(),this.Ye=If(),this.Ze=new Dt(Ke)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:Pe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,i=e.Ce.count,a=this._t(t);if(a){const l=a.target;if(ly(l))if(i===0){const c=new Re(l.path);this.tt(t,c,Rn.newNoDocument(c,Be.min()))}else ut(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const f=this.ct(e),m=f?this.lt(f,e,c):1;if(m!==0){this.st(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,f;try{c=ia(i).toUint8Array()}catch(m){if(m instanceof I1)return Sl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new cv(c,a,l)}catch(m){return Sl(m instanceof hc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.pe===0?null:f}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.ze.Pt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.tt(t,l,null),a++)}),a}It(e){const t=new Map;this.je.forEach((l,c)=>{const f=this._t(c);if(f){if(l.current&&ly(f.target)){const m=new Re(f.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,Rn.newNoDocument(m,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let i=et();this.Ye.forEach((l,c)=>{let f=!0;c.forEachWhile(m=>{const g=this._t(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const a=new qh(e,t,this.Ze,this.He,i);return this.He=es(),this.Je=If(),this.Ye=If(),this.Ze=new Dt(Ke),a}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Ux,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new sn(Ke),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new sn(Ke),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||be("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Ux),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function If(){return new Dt(Re.comparator)}function Bx(){return new Dt(Re.comparator)}const _O={asc:"ASCENDING",desc:"DESCENDING"},bO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EO={and:"AND",or:"OR"};class xO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function cy(n,e){return n.useProto3Json||Vh(e)?e:{value:e}}function yh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function wO(n,e){return yh(n,e.toTimestamp())}function ai(n){return ut(!!n,49232),Be.fromTimestamp(function(t){const i=ra(t);return new _t(i.seconds,i.nanos)}(n))}function dv(n,e){return dy(n,e).canonicalString()}function dy(n,e){const t=function(a){return new wt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function aS(n){const e=wt.fromString(n);return ut(dS(e),10190,{key:e.toString()}),e}function fy(n,e){return dv(n.databaseId,e.path)}function Ag(n,e){const t=aS(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Re(lS(t))}function oS(n,e){return dv(n.databaseId,e)}function TO(n){const e=aS(n);return e.length===4?wt.emptyPath():lS(e)}function hy(n){return new wt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function lS(n){return ut(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function zx(n,e,t){return{name:fy(n,e),fields:t.value.mapValue.fields}}function SO(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Pe(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,v){return g.useProto3Json?(ut(v===void 0||typeof v=="string",58123),xn.fromBase64String(v||"")):(ut(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),xn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(g){const v=g.code===void 0?ce.UNKNOWN:nS(g.code);return new _e(v,g.message||"")}(c);t=new iS(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Ag(n,i.document.name),l=ai(i.document.updateTime),c=i.document.createTime?ai(i.document.createTime):Be.min(),f=new $n({mapValue:{fields:i.document.fields}}),m=Rn.newFoundDocument(a,l,c,f),g=i.targetIds||[],v=i.removedTargetIds||[];t=new Qf(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Ag(n,i.document),l=i.readTime?ai(i.readTime):Be.min(),c=Rn.newNoDocument(a,l),f=i.removedTargetIds||[];t=new Qf([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Ag(n,i.document),l=i.removedTargetIds||[];t=new Qf([],l,a,null)}else{if(!("filter"in e))return Pe(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new pO(a,l),f=i.targetId;t=new rS(f,c)}}return t}function AO(n,e){let t;if(e instanceof Gc)t={update:zx(n,e.key,e.value)};else if(e instanceof lv)t={delete:fy(n,e.key)};else if(e instanceof fa)t={update:zx(n,e.key,e.data),updateMask:jO(e.fieldMask)};else{if(!(e instanceof fO))return Pe(16599,{ft:e.type});t={verify:fy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const f=c.transform;if(f instanceof ph)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Dc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof kc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof gh)return{fieldPath:c.field.canonicalString(),increment:f.Re};throw Pe(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:wO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Pe(27497)}(n,e.precondition)),t}function CO(n,e){return n&&n.length>0?(ut(e!==void 0,14353),n.map(t=>function(a,l){let c=a.updateTime?ai(a.updateTime):ai(l);return c.isEqual(Be.min())&&(c=ai(l)),new uO(c,a.transformResults||[])}(t,e))):[]}function RO(n,e){return{documents:[oS(n,e.path)]}}function IO(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=oS(n,a);const l=function(g){if(g.length!==0)return cS(jr.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(v=>function(E){return{field:ll(E.field),direction:kO(E.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=cy(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:a}}function NO(n){let e=TO(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){ut(i===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(b){const E=uS(b);return E instanceof jr&&U1(E)?E.getFilters():[E]}(t.where));let c=[];t.orderBy&&(c=function(b){return b.map(E=>function(R){return new Nc(ul(R.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(E))}(t.orderBy));let f=null;t.limit&&(f=function(b){let E;return E=typeof b=="object"?b.value:b,Vh(E)?null:E}(t.limit));let m=null;t.startAt&&(m=function(b){const E=!!b.before,C=b.values||[];return new hh(C,E)}(t.startAt));let g=null;return t.endAt&&(g=function(b){const E=!b.before,C=b.values||[];return new hh(C,E)}(t.endAt)),W4(e,a,c,l,f,"F",m,g)}function DO(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function uS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=ul(t.unaryFilter.field);return Kt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=ul(t.unaryFilter.field);return Kt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ul(t.unaryFilter.field);return Kt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ul(t.unaryFilter.field);return Kt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}}(n):n.fieldFilter!==void 0?function(t){return Kt.create(ul(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return jr.create(t.compositeFilter.filters.map(i=>uS(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}}(t.compositeFilter.op))}(n):Pe(30097,{filter:n})}function kO(n){return _O[n]}function OO(n){return bO[n]}function MO(n){return EO[n]}function ll(n){return{fieldPath:n.canonicalString()}}function ul(n){return bn.fromServerFormat(n.fieldPath)}function cS(n){return n instanceof Kt?function(t){if(t.op==="=="){if(Rx(t.value))return{unaryFilter:{field:ll(t.field),op:"IS_NAN"}};if(Cx(t.value))return{unaryFilter:{field:ll(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Rx(t.value))return{unaryFilter:{field:ll(t.field),op:"IS_NOT_NAN"}};if(Cx(t.value))return{unaryFilter:{field:ll(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(t.field),op:OO(t.op),value:t.value}}}(n):n instanceof jr?function(t){const i=t.getFilters().map(a=>cS(a));return i.length===1?i[0]:{compositeFilter:{op:MO(t.op),filters:i}}}(n):Pe(54877,{filter:n})}function jO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function dS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,t,i,a,l=Be.min(),c=Be.min(),f=xn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.wt=e}}function VO(n){const e=NO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?mh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(){this.Cn=new UO}addToCollectionParentIndex(e,t){return this.Cn.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(na.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(na.min())}updateCollectionGroup(e,t,i){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class UO{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new sn(wt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new sn(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fS=41943040;class Gn{static withCacheSize(e){return new Gn(e,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(fS,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Il(0)}static lr(){return new Il(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="LruGarbageCollector",BO=1048576;function qx([n,e],[t,i]){const a=Ke(n,t);return a===0?Ke(e,i):a}class zO{constructor(e){this.Er=e,this.buffer=new sn(qx),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();qx(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class FO{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){be(Hx,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Gl(t)?be(Hx,"Ignoring IndexedDB error during garbage collection: ",t):await ql(t)}await this.mr(3e5)})}}class HO{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return fe.resolve(Ph.le);const i=new zO(t);return this.gr.forEachTarget(e,a=>i.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>i.Rr(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(Fx)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fx):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,a,l,c,f,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a))).next(b=>(i=b,f=Date.now(),this.removeTargets(e,i,t))).next(b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(b=>(g=Date.now(),al()<=Je.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${b} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b})))}}function qO(n,e){return new HO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this.changes=new lo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?fe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&Ec(i.mutation,a,sr.empty(),_t.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,et()).next(()=>i))}getLocalViewOfDocuments(e,t,i=et()){const a=Wa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=fc();return l.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Wa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,et()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,i,a){let l=es();const c=bc(),f=function(){return bc()}();return t.forEach((m,g)=>{const v=i.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof fa)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Ec(v.mutation,g,v.mutation.getFieldMask(),_t.now())):c.set(g.key,sr.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,v)=>c.set(g,v)),t.forEach((g,v)=>{var b;return f.set(g,new $O(v,(b=c.get(g))!==null&&b!==void 0?b:null))}),f))}recalculateAndSaveOverlays(e,t){const i=bc();let a=new Dt((c,f)=>c-f),l=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let v=i.get(m)||sr.empty();v=f.applyToLocalView(g,v),i.set(m,v);const b=(a.get(f.batchId)||et()).add(m);a=a.insert(f.batchId,b)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),g=m.key,v=m.value,b=K1();v.forEach(E=>{if(!l.has(E)){const C=eS(t.get(E),i.get(E));C!==null&&b.set(E,C),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return fe.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return Re.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):H1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):fe.resolve(Wa());let f=Ac,m=l;return c.next(g=>fe.forEach(g,(v,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),l.get(v)?fe.resolve():this.remoteDocumentCache.getEntry(e,v).next(E=>{m=m.insert(v,E)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,et())).next(v=>({batchId:f,changes:Y1(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Re(t)).next(i=>{let a=fc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=fc();return this.indexManager.getCollectionParents(e,l).next(f=>fe.forEach(f,m=>{const g=function(b,E){return new $l(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next(v=>{v.forEach((b,E)=>{c=c.insert(b,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((m,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,Rn.newInvalidDocument(v)))});let f=fc();return c.forEach((m,g)=>{const v=l.get(m);v!==void 0&&Ec(v.mutation,g,sr.empty(),_t.now()),zh(t,g)&&(f=f.insert(m,g))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return fe.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:ai(a.createTime)}}(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(a){return{name:a.name,query:VO(a.bundledQuery),readTime:ai(a.readTime)}}(t)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.overlays=new Dt(Re.comparator),this.Qr=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Wa();return fe.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.St(e,t,l)}),fe.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Qr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(i)),fe.resolve()}getOverlaysForCollection(e,t,i){const a=Wa(),l=t.length+1,c=new Re(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return fe.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new Dt((g,v)=>g-v);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=Wa(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const f=Wa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,v)=>f.set(g,v)),!(f.size()>=a)););return fe.resolve(f)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(i.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new mO(t,i));let l=this.Qr.get(t);l===void 0&&(l=et(),this.Qr.set(t,l)),this.Qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(){this.$r=new sn(hn.Ur),this.Kr=new sn(hn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new hn(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new hn(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new Re(new wt([])),i=new hn(t,e),a=new hn(t,e+1),l=[];return this.Kr.forEachInRange([i,a],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Re(new wt([])),i=new hn(t,e),a=new hn(t,e+1);let l=et();return this.Kr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new hn(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class hn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Re.comparator(e.key,t.key)||Ke(e.Zr,t.Zr)}static Wr(e,t){return Ke(e.Zr,t.Zr)||Re.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new sn(hn.Ur)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new hO(l,t,i,a);this.mutationQueue.push(c);for(const f of a)this.Xr=this.Xr.add(new hn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return fe.resolve(c)}lookupMutationBatch(e,t){return fe.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ti(i),l=a<0?0:a;return fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?nv:this.nr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new hn(t,0),a=new hn(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([i,a],c=>{const f=this.ei(c.Zr);l.push(f)}),fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new sn(Ke);return t.forEach(a=>{const l=new hn(a,0),c=new hn(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],f=>{i=i.add(f.Zr)})}),fe.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Re.isDocumentKey(l)||(l=l.child(""));const c=new hn(new Re(l),0);let f=new sn(Ke);return this.Xr.forEachWhile(m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(f=f.add(m.Zr)),!0)},c),fe.resolve(this.ni(f))}ni(e){const t=[];return e.forEach(i=>{const a=this.ei(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){ut(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return fe.forEach(t.mutations,a=>{const l=new hn(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new hn(t,0),a=this.Xr.firstAfterOrEqual(i);return fe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e){this.ii=e,this.docs=function(){return new Dt(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return fe.resolve(i?i.document.mutableCopy():Rn.newInvalidDocument(t))}getEntries(e,t){let i=es();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Rn.newInvalidDocument(a))}),fe.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=es();const c=t.path,f=new Re(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||R4(C4(v),i)<=0||(a.has(v.key)||zh(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return fe.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Pe(9500)}si(e,t){return fe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new JO(this)}getSize(e){return fe.resolve(this.size)}}class JO extends GO{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Br.addEntry(e,a)):this.Br.removeEntry(i)}),fe.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.persistence=e,this.oi=new lo(t=>sv(t),av),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this._i=0,this.ai=new fv,this.targetCount=0,this.ui=Il.cr()}forEachTarget(e,t){return this.oi.forEach((i,a)=>t(a)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),fe.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Il(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.Tr(t),fe.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.oi.forEach((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),fe.waitFor(l).next(()=>a)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return fe.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),fe.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),fe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return fe.resolve(i)}containsKey(e,t){return fe.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,t){this.ci={},this.overlays={},this.li=new Ph(0),this.hi=!1,this.hi=!0,this.Pi=new WO,this.referenceDelegate=e(this),this.Ti=new eM(this),this.indexManager=new LO,this.remoteDocumentCache=function(a){return new ZO(a)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new PO(t),this.Ei=new KO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new QO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new XO(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){be("MemoryPersistence","Starting transaction:",e);const a=new tM(this.li.next());return this.referenceDelegate.di(),i(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(e,t){return fe.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class tM extends N4{constructor(e){super(),this.currentSequenceNumber=e}}class hv{constructor(e){this.persistence=e,this.Vi=new fv,this.mi=null}static fi(e){return new hv(e)}get gi(){if(this.mi)return this.mi;throw Pe(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),fe.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(a=>this.gi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.gi,i=>{const a=Re.fromPath(i);return this.pi(e,a).next(l=>{l||t.removeEntry(a,Be.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return fe.or([()=>fe.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class vh{constructor(e,t){this.persistence=e,this.yi=new lo(i=>O4(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=qO(this,t)}static fi(e,t){return new vh(e,t)}di(){}Ai(e){return fe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return fe.forEach(this.yi,(i,a)=>this.Dr(e,i,a).next(l=>l?fe.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(e,c=>this.Dr(e,c,t).next(f=>{f||(i++,l.removeEntry(c,Be.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),fe.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),fe.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),fe.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=$f(e.data.value)),t}Dr(e,t,i){return fe.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.yi.get(t);return fe.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.ds=i,this.As=a}static Rs(e,t){let i=et(),a=et();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new mv(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return P3()?8:D4(kn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ws(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.bs(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new nM;return this.Ss(e,t,c).next(f=>{if(l.result=f,this.fs)return this.Ds(e,t,c,f.size)})}).next(()=>l.result)}Ds(e,t,i,a){return i.documentReadCount<this.gs?(al()<=Je.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",ol(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),fe.resolve()):(al()<=Je.DEBUG&&be("QueryEngine","Query:",ol(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ps*a?(al()<=Je.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",ol(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,si(t))):fe.resolve())}ws(e,t){if(kx(t))return fe.resolve(null);let i=si(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=mh(t,null,"F"),i=si(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=et(...l);return this.ys.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(m=>{const g=this.vs(t,f);return this.Cs(t,g,c,m.readTime)?this.ws(e,mh(t,null,"F")):this.Fs(e,g,t,m)}))})))}bs(e,t,i,a){return kx(t)||a.isEqual(Be.min())?fe.resolve(null):this.ys.getDocuments(e,i).next(l=>{const c=this.vs(t,l);return this.Cs(t,c,i,a)?fe.resolve(null):(al()<=Je.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ol(t)),this.Fs(e,c,t,A4(a,Ac)).next(f=>f))})}vs(e,t){let i=new sn(G1(e));return t.forEach((a,l)=>{zh(e,l)&&(i=i.add(l))}),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return al()<=Je.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",ol(t)),this.ys.getDocumentsMatchingQuery(e,t,na.min(),i)}Fs(e,t,i,a){return this.ys.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="LocalStore",iM=3e8;class sM{constructor(e,t,i,a){this.persistence=e,this.Ms=t,this.serializer=a,this.xs=new Dt(Ke),this.Os=new lo(l=>sv(l),av),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YO(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function aM(n,e,t,i){return new sM(n,e,t,i)}async function mS(n,e){const t=Fe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],f=[];let m=et();for(const g of a){c.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){f.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(i,m).next(g=>({ks:g,removedBatchIds:c,addedBatchIds:f}))})})}function oM(n,e){const t=Fe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(f,m,g,v){const b=g.batch,E=b.keys();let C=fe.resolve();return E.forEach(R=>{C=C.next(()=>v.getEntry(m,R)).next(A=>{const N=g.docVersions.get(R);ut(N!==null,48541),A.version.compareTo(N)<0&&(b.applyToRemoteDocument(A,g),A.isValidDocument()&&(A.setReadTime(g.commitVersion),v.addEntry(A)))})}),C.next(()=>f.mutationQueue.removeMutationBatch(m,b))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let m=et();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(m=m.add(f.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function pS(n){const e=Fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function lM(n,e){const t=Fe(n),i=e.snapshotVersion;let a=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});a=t.xs;const f=[];e.targetChanges.forEach((v,b)=>{const E=a.get(b);if(!E)return;f.push(t.Ti.removeMatchingKeys(l,v.removedDocuments,b).next(()=>t.Ti.addMatchingKeys(l,v.addedDocuments,b)));let C=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?C=C.withResumeToken(xn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,i)),a=a.insert(b,C),function(A,N,V){return A.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=iM?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(E,C,v)&&f.push(t.Ti.updateTargetData(l,C))});let m=es(),g=et();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),f.push(uM(l,c,e.documentUpdates).next(v=>{m=v.qs,g=v.Qs})),!i.isEqual(Be.min())){const v=t.Ti.getLastRemoteSnapshotVersion(l).next(b=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(v)}return fe.waitFor(f).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(t.xs=a,l))}function uM(n,e,t){let i=et(),a=et();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=es();return t.forEach((f,m)=>{const g=l.get(f);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Be.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):be(pv,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",m.version)}),{qs:c,Qs:a}})}function cM(n,e){const t=Fe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=nv),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function dM(n,e){const t=Fe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Ti.getTargetData(i,e).next(l=>l?(a=l,fe.resolve(a)):t.Ti.allocateTargetId(i).next(c=>(a=new Ks(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.xs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function my(n,e,t){const i=Fe(n),a=i.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Gl(c))throw c;be(pv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.xs=i.xs.remove(e),i.Os.delete(a.target)}function Gx(n,e,t){const i=Fe(n);let a=Be.min(),l=et();return i.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,v){const b=Fe(m),E=b.Os.get(v);return E!==void 0?fe.resolve(b.xs.get(E)):b.Ti.getTargetData(g,v)}(i,c,si(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(c,f.targetId).next(m=>{l=m})}).next(()=>i.Ms.getDocumentsMatchingQuery(c,e,t?a:Be.min(),t?l:et())).next(f=>(fM(i,Z4(e),f),{documents:f,$s:l})))}function fM(n,e,t){let i=n.Ns.get(e)||Be.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Ns.set(e,i)}class $x{constructor(){this.activeTargetIds=iO()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hM{constructor(){this.xo=new $x,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new $x,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="ConnectivityMonitor";class Kx{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){be(Yx,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){be(Yx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nf=null;function py(){return Nf===null?Nf=function(){return 268435456+Math.round(2147483648*Math.random())}():Nf++,"0x"+Nf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="RestConnection",pM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gM{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${a}`,this.Go=this.databaseId.database===dh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}zo(e,t,i,a,l){const c=py(),f=this.jo(e,t.toUriEncodedString());be(Cg,`Sending RPC '${e}' ${c}:`,f,i);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,a,l);const{host:g}=new URL(f),v=Bl(g);return this.Jo(e,f,m,i,v).then(b=>(be(Cg,`Received RPC '${e}' ${c}: `,b),b),b=>{throw Sl(Cg,`RPC '${e}' ${c} failed with error: `,b,"url: ",f,"request:",i),b})}Yo(e,t,i,a,l,c){return this.zo(e,t,i,a,l)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Hl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}jo(e,t){const i=pM[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection";class vM extends gM{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const c=py();return new Promise((f,m)=>{const g=new v1;g.setWithCredentials(!0),g.listenOnce(_1.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Gf.NO_ERROR:const b=g.getResponseJson();be(An,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),f(b);break;case Gf.TIMEOUT:be(An,`RPC '${e}' ${c} timed out`),m(new _e(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Gf.HTTP_ERROR:const E=g.getStatus();if(be(An,`RPC '${e}' ${c} failed with status:`,E,"response text:",g.getResponseText()),E>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const R=C==null?void 0:C.error;if(R&&R.status&&R.message){const A=function(V){const U=V.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(U)>=0?U:ce.UNKNOWN}(R.status);m(new _e(A,R.message))}else m(new _e(ce.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new _e(ce.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{h_:e,streamId:c,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{be(An,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(a);be(An,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",v,i,15)})}I_(e,t,i){const a=py(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=x1(),f=E1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const v=l.join("");be(An,`Creating RPC '${e}' stream ${a}: ${v}`,m);const b=c.createWebChannel(v,m);this.E_(b);let E=!1,C=!1;const R=new yM({Zo:N=>{C?be(An,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(E||(be(An,`Opening RPC '${e}' stream ${a} transport.`),b.open(),E=!0),be(An,`RPC '${e}' stream ${a} sending:`,N),b.send(N))},Xo:()=>b.close()}),A=(N,V,U)=>{N.listen(V,B=>{try{U(B)}catch(G){setTimeout(()=>{throw G},0)}})};return A(b,dc.EventType.OPEN,()=>{C||(be(An,`RPC '${e}' stream ${a} transport opened.`),R.__())}),A(b,dc.EventType.CLOSE,()=>{C||(C=!0,be(An,`RPC '${e}' stream ${a} transport closed`),R.u_(),this.d_(b))}),A(b,dc.EventType.ERROR,N=>{C||(C=!0,Sl(An,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),R.u_(new _e(ce.UNAVAILABLE,"The operation could not be completed")))}),A(b,dc.EventType.MESSAGE,N=>{var V;if(!C){const U=N.data[0];ut(!!U,16349);const B=U,G=(B==null?void 0:B.error)||((V=B[0])===null||V===void 0?void 0:V.error);if(G){be(An,`RPC '${e}' stream ${a} received error:`,G);const $=G.status;let ne=function(M){const L=Yt[M];if(L!==void 0)return nS(L)}($),k=G.message;ne===void 0&&(ne=ce.INTERNAL,k="Unknown error status: "+$+" with message "+G.message),C=!0,R.u_(new _e(ne,k)),b.close()}else be(An,`RPC '${e}' stream ${a} received:`,U),R.c_(U)}}),A(f,b1.STAT_EVENT,N=>{N.stat===ry.PROXY?be(An,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===ry.NOPROXY&&be(An,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{R.a_()},0),R}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Rg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(n){return new xO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,t,i=1e3,a=1.5,l=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=a,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),a=Math.max(0,t-i);a>0&&be("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="PersistentStream";class yS{constructor(e,t,i,a,l,c,f,m){this.xi=e,this.S_=i,this.D_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new gS(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(Ji(t.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.v_===t&&this.z_(i,a)},i=>{e(()=>{const a=new _e(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(a)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{i(()=>this.j_(a))}),this.stream.onMessage(a=>{i(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return be(Qx,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(be(Qx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _M extends yS{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=SO(this.serializer,e),i=function(l){if(!("targetChange"in l))return Be.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Be.min():c.readTime?ai(c.readTime):Be.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=hy(this.serializer),t.addTarget=function(l,c){let f;const m=c.target;if(f=ly(m)?{documents:RO(l,m)}:{query:IO(l,m).gt},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=sS(l,c.resumeToken);const g=cy(l,c.expectedCount);g!==null&&(f.expectedCount=g)}else if(c.snapshotVersion.compareTo(Be.min())>0){f.readTime=yh(l,c.snapshotVersion.toTimestamp());const g=cy(l,c.expectedCount);g!==null&&(f.expectedCount=g)}return f}(this.serializer,e);const i=DO(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=hy(this.serializer),t.removeTarget=e,this.Q_(t)}}class bM extends yS{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=CO(e.writeResults,e.commitTime),i=ai(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=hy(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>AO(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{}class xM extends EM{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new _e(ce.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(e,dy(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(ce.UNKNOWN,l.toString())})}Yo(e,t,i,a,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Yo(e,dy(t,i),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(ce.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class wM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ji(t),this.ua=!1):be("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="RemoteStore";class TM{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(c=>{i.enqueueAndForget(async()=>{uo(this)&&(be(no,"Restarting streams for network reachability change."),await async function(m){const g=Fe(m);g.da.add(4),await Yc(g),g.Va.set("Unknown"),g.da.delete(4),await $h(g)}(this))})}),this.Va=new wM(i,a)}}async function $h(n){if(uo(n))for(const e of n.Aa)await e(!0)}async function Yc(n){for(const e of n.Aa)await e(!1)}function vS(n,e){const t=Fe(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),_v(t)?vv(t):Yl(t).N_()&&yv(t,e))}function gv(n,e){const t=Fe(n),i=Yl(t);t.Ea.delete(e),i.N_()&&_S(t,e),t.Ea.size===0&&(i.N_()?i.k_():uo(t)&&t.Va.set("Unknown"))}function yv(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Yl(n).Z_(e)}function _S(n,e){n.ma.Ke(e),Yl(n).X_(e)}function vv(n){n.ma=new vO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Yl(n).start(),n.Va.ca()}function _v(n){return uo(n)&&!Yl(n).O_()&&n.Ea.size>0}function uo(n){return Fe(n).da.size===0}function bS(n){n.ma=void 0}async function SM(n){n.Va.set("Online")}async function AM(n){n.Ea.forEach((e,t)=>{yv(n,e)})}async function CM(n,e){bS(n),_v(n)?(n.Va.Pa(e),vv(n)):n.Va.set("Unknown")}async function RM(n,e,t){if(n.Va.set("Online"),e instanceof iS&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ea.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ea.delete(f),a.ma.removeTarget(f))}(n,e)}catch(i){be(no,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await _h(n,i)}else if(e instanceof Qf?n.ma.Xe(e):e instanceof rS?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Be.min()))try{const i=await pS(n.localStore);t.compareTo(i)>=0&&await function(l,c){const f=l.ma.It(c);return f.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ea.get(g);v&&l.Ea.set(g,v.withResumeToken(m.resumeToken,c))}}),f.targetMismatches.forEach((m,g)=>{const v=l.Ea.get(m);if(!v)return;l.Ea.set(m,v.withResumeToken(xn.EMPTY_BYTE_STRING,v.snapshotVersion)),_S(l,m);const b=new Ks(v.target,m,g,v.sequenceNumber);yv(l,b)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){be(no,"Failed to raise snapshot:",i),await _h(n,i)}}async function _h(n,e,t){if(!Gl(e))throw e;n.da.add(1),await Yc(n),n.Va.set("Offline"),t||(t=()=>pS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{be(no,"Retrying IndexedDB access"),await t(),n.da.delete(1),await $h(n)})}function ES(n,e){return e().catch(t=>_h(n,t,e))}async function Yh(n){const e=Fe(n),t=aa(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:nv;for(;IM(e);)try{const a=await cM(e.localStore,i);if(a===null){e.Ia.length===0&&t.k_();break}i=a.batchId,NM(e,a)}catch(a){await _h(e,a)}xS(e)&&wS(e)}function IM(n){return uo(n)&&n.Ia.length<10}function NM(n,e){n.Ia.push(e);const t=aa(n);t.N_()&&t.ea&&t.ta(e.mutations)}function xS(n){return uo(n)&&!aa(n).O_()&&n.Ia.length>0}function wS(n){aa(n).start()}async function DM(n){aa(n).ia()}async function kM(n){const e=aa(n);for(const t of n.Ia)e.ta(t.mutations)}async function OM(n,e,t){const i=n.Ia.shift(),a=uv.from(i,e,t);await ES(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Yh(n)}async function MM(n,e){e&&aa(n).ea&&await async function(i,a){if(function(c){return gO(c)&&c!==ce.ABORTED}(a.code)){const l=i.Ia.shift();aa(i).L_(),await ES(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Yh(i)}}(n,e),xS(n)&&wS(n)}async function Wx(n,e){const t=Fe(n);t.asyncQueue.verifyOperationInProgress(),be(no,"RemoteStore received new credentials");const i=uo(t);t.da.add(3),await Yc(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await $h(t)}async function jM(n,e){const t=Fe(n);e?(t.da.delete(2),await $h(t)):e||(t.da.add(2),await Yc(t),t.Va.set("Unknown"))}function Yl(n){return n.fa||(n.fa=function(t,i,a){const l=Fe(t);return l.oa(),new _M(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:SM.bind(null,n),n_:AM.bind(null,n),i_:CM.bind(null,n),Y_:RM.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),_v(n)?vv(n):n.Va.set("Unknown")):(await n.fa.stop(),bS(n))})),n.fa}function aa(n){return n.ga||(n.ga=function(t,i,a){const l=Fe(t);return l.oa(),new bM(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:DM.bind(null,n),i_:MM.bind(null,n),na:kM.bind(null,n),ra:OM.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await Yh(n)):(await n.ga.stop(),n.Ia.length>0&&(be(no,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,f=new bv(e,t,c,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ev(n,e){if(Ji("AsyncQueue",`${e}: ${n}`),Gl(n))return new _e(ce.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{static emptySet(e){return new ml(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Re.comparator(t.key,i.key):(t,i)=>Re.comparator(t.key,i.key),this.keyedMap=fc(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ml)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ml;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this.pa=new Dt(Re.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Pe(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class Nl{constructor(e,t,i,a,l,c,f,m,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new Nl(e,t,ml.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class VM{constructor(){this.queries=Zx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=Fe(t),l=a.queries;a.queries=Zx(),l.forEach((c,f)=>{for(const m of f.Sa)m.onError(i)})})(this,new _e(ce.ABORTED,"Firestore shutting down"))}}function Zx(){return new lo(n=>q1(n),Bh)}async function xv(n,e){const t=Fe(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.Da()&&e.va()&&(i=2):(l=new PM,i=e.va()?0:1);try{switch(i){case 0:l.ba=await t.onListen(a,!0);break;case 1:l.ba=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const f=Ev(c,`Initialization of query '${ol(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.Sa.push(e),e.Fa(t.onlineState),l.ba&&e.Ma(l.ba)&&Tv(t)}async function wv(n,e){const t=Fe(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.va()?0:1:!l.Da()&&e.va()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function LM(n,e){const t=Fe(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const f of c.Sa)f.Ma(a)&&(i=!0);c.ba=a}}i&&Tv(t)}function UM(n,e,t){const i=Fe(n),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function Tv(n){n.Ca.forEach(e=>{e.next()})}var gy,Jx;(Jx=gy||(gy={})).xa="default",Jx.Cache="cache";class Sv{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Nl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==gy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.key=e}}class SS{constructor(e){this.key=e}}class BM{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=et(),this.mutatedKeys=et(),this.Za=G1(e),this.Xa=new ml(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new Xx,a=t?t.Xa:this.Xa;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,b)=>{const E=a.get(v),C=zh(this.query,b)?b:null,R=!!E&&this.mutatedKeys.has(E.key),A=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let N=!1;E&&C?E.data.isEqual(C.data)?R!==A&&(i.track({type:3,doc:C}),N=!0):this.ru(E,C)||(i.track({type:2,doc:C}),N=!0,(m&&this.Za(C,m)>0||g&&this.Za(C,g)<0)&&(f=!0)):!E&&C?(i.track({type:0,doc:C}),N=!0):E&&!C&&(i.track({type:1,doc:E}),N=!0,(m||g)&&(f=!0)),N&&(C?(c=c.add(C),l=A?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{Xa:c,nu:i,Cs:f,mutatedKeys:l}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const c=e.nu.wa();c.sort((v,b)=>function(C,R){const A=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Vt:N})}};return A(C)-A(R)}(v.type,b.type)||this.Za(v.doc,b.doc)),this.iu(i),a=a!=null&&a;const f=t&&!a?this.su():[],m=this.Ya.size===0&&this.current&&!a?1:0,g=m!==this.Ja;return this.Ja=m,c.length!==0||g?{snapshot:new Nl(this.query,e.Xa,l,c,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:f}:{ou:f}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Xx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=et(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new SS(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new TS(i))}),t}au(e){this.Ha=e.$s,this.Ya=et();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Nl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Av="SyncEngine";class zM{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class FM{constructor(e){this.key=e,this.cu=!1}}class HM{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new lo(f=>q1(f),Bh),this.Pu=new Map,this.Tu=new Set,this.Iu=new Dt(Re.comparator),this.Eu=new Map,this.du=new fv,this.Au={},this.Ru=new Map,this.Vu=Il.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function qM(n,e,t=!0){const i=DS(n);let a;const l=i.hu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.uu()):a=await AS(i,e,t,!0),a}async function GM(n,e){const t=DS(n);await AS(t,e,!0,!1)}async function AS(n,e,t,i){const a=await dM(n.localStore,si(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await $M(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&vS(n.remoteStore,a),f}async function $M(n,e,t,i,a){n.fu=(b,E,C)=>async function(A,N,V,U){let B=N.view.tu(V);B.Cs&&(B=await Gx(A.localStore,N.query,!1).then(({documents:k})=>N.view.tu(k,B)));const G=U&&U.targetChanges.get(N.targetId),$=U&&U.targetMismatches.get(N.targetId)!=null,ne=N.view.applyChanges(B,A.isPrimaryClient,G,$);return tw(A,N.targetId,ne.ou),ne.snapshot}(n,b,E,C);const l=await Gx(n.localStore,e,!0),c=new BM(e,l.$s),f=c.tu(l.documents),m=$c.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),g=c.applyChanges(f,n.isPrimaryClient,m);tw(n,t,g.ou);const v=new zM(e,t,c);return n.hu.set(e,v),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),g.snapshot}async function YM(n,e,t){const i=Fe(n),a=i.hu.get(e),l=i.Pu.get(a.targetId);if(l.length>1)return i.Pu.set(a.targetId,l.filter(c=>!Bh(c,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await my(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&gv(i.remoteStore,a.targetId),yy(i,a.targetId)}).catch(ql)):(yy(i,a.targetId),await my(i.localStore,a.targetId,!0))}async function KM(n,e){const t=Fe(n),i=t.hu.get(e),a=t.Pu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),gv(t.remoteStore,i.targetId))}async function QM(n,e,t){const i=nj(n);try{const a=await function(c,f){const m=Fe(c),g=_t.now(),v=f.reduce((C,R)=>C.add(R.key),et());let b,E;return m.persistence.runTransaction("Locally write mutations","readwrite",C=>{let R=es(),A=et();return m.Bs.getEntries(C,v).next(N=>{R=N,R.forEach((V,U)=>{U.isValidDocument()||(A=A.add(V))})}).next(()=>m.localDocuments.getOverlayedDocuments(C,R)).next(N=>{b=N;const V=[];for(const U of f){const B=dO(U,b.get(U.key).overlayedDocument);B!=null&&V.push(new fa(U.key,B,P1(B.value.mapValue),Er.exists(!0)))}return m.mutationQueue.addMutationBatch(C,g,V,f)}).next(N=>{E=N;const V=N.applyToLocalDocumentSet(b,A);return m.documentOverlayCache.saveOverlays(C,N.batchId,V)})}).then(()=>({batchId:E.batchId,changes:Y1(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,f,m){let g=c.Au[c.currentUser.toKey()];g||(g=new Dt(Ke)),g=g.insert(f,m),c.Au[c.currentUser.toKey()]=g}(i,a.batchId,t),await Kc(i,a.changes),await Yh(i.remoteStore)}catch(a){const l=Ev(a,"Failed to persist write");t.reject(l)}}async function CS(n,e){const t=Fe(n);try{const i=await lM(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Eu.get(l);c&&(ut(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.cu=!0:a.modifiedDocuments.size>0?ut(c.cu,14607):a.removedDocuments.size>0&&(ut(c.cu,42227),c.cu=!1))}),await Kc(t,i,e)}catch(i){await ql(i)}}function ew(n,e,t){const i=Fe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.hu.forEach((l,c)=>{const f=c.view.Fa(e);f.snapshot&&a.push(f.snapshot)}),function(c,f){const m=Fe(c);m.onlineState=f;let g=!1;m.queries.forEach((v,b)=>{for(const E of b.Sa)E.Fa(f)&&(g=!0)}),g&&Tv(m)}(i.eventManager,e),a.length&&i.lu.Y_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function WM(n,e,t){const i=Fe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Eu.get(e),l=a&&a.key;if(l){let c=new Dt(Re.comparator);c=c.insert(l,Rn.newNoDocument(l,Be.min()));const f=et().add(l),m=new qh(Be.min(),new Map,new Dt(Ke),c,f);await CS(i,m),i.Iu=i.Iu.remove(l),i.Eu.delete(e),Cv(i)}else await my(i.localStore,e,!1).then(()=>yy(i,e,t)).catch(ql)}async function XM(n,e){const t=Fe(n),i=e.batch.batchId;try{const a=await oM(t.localStore,e);IS(t,i,null),RS(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Kc(t,a)}catch(a){await ql(a)}}async function ZM(n,e,t){const i=Fe(n);try{const a=await function(c,f){const m=Fe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return m.mutationQueue.lookupMutationBatch(g,f).next(b=>(ut(b!==null,37113),v=b.keys(),m.mutationQueue.removeMutationBatch(g,b))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>m.localDocuments.getDocuments(g,v))})}(i.localStore,e);IS(i,e,t),RS(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Kc(i,a)}catch(a){await ql(a)}}function RS(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function IS(n,e,t){const i=Fe(n);let a=i.Au[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Au[i.currentUser.toKey()]=a}}function yy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||NS(n,i)})}function NS(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(gv(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),Cv(n))}function tw(n,e,t){for(const i of t)i instanceof TS?(n.du.addReference(i.key,e),JM(n,i)):i instanceof SS?(be(Av,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||NS(n,i.key)):Pe(19791,{pu:i})}function JM(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(be(Av,"New document in limbo: "+t),n.Tu.add(i),Cv(n))}function Cv(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new Re(wt.fromString(e)),i=n.Vu.next();n.Eu.set(i,new FM(t)),n.Iu=n.Iu.insert(t,i),vS(n.remoteStore,new Ks(si(Uh(t.path)),i,"TargetPurposeLimboResolution",Ph.le))}}async function Kc(n,e,t){const i=Fe(n),a=[],l=[],c=[];i.hu.isEmpty()||(i.hu.forEach((f,m)=>{c.push(i.fu(m,e,t).then(g=>{var v;if((g||t)&&i.isPrimaryClient){const b=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(m.targetId,b?"current":"not-current")}if(g){a.push(g);const b=mv.Rs(m.targetId,g);l.push(b)}}))}),await Promise.all(c),i.lu.Y_(a),await async function(m,g){const v=Fe(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>fe.forEach(g,E=>fe.forEach(E.ds,C=>v.persistence.referenceDelegate.addReference(b,E.targetId,C)).next(()=>fe.forEach(E.As,C=>v.persistence.referenceDelegate.removeReference(b,E.targetId,C)))))}catch(b){if(!Gl(b))throw b;be(pv,"Failed to update sequence numbers: "+b)}for(const b of g){const E=b.targetId;if(!b.fromCache){const C=v.xs.get(E),R=C.snapshotVersion,A=C.withLastLimboFreeSnapshotVersion(R);v.xs=v.xs.insert(E,A)}}}(i.localStore,l))}async function ej(n,e){const t=Fe(n);if(!t.currentUser.isEqual(e)){be(Av,"User change. New user:",e.toKey());const i=await mS(t.localStore,e);t.currentUser=e,function(l,c){l.Ru.forEach(f=>{f.forEach(m=>{m.reject(new _e(ce.CANCELLED,c))})}),l.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Kc(t,i.ks)}}function tj(n,e){const t=Fe(n),i=t.Eu.get(e);if(i&&i.cu)return et().add(i.key);{let a=et();const l=t.Pu.get(e);if(!l)return a;for(const c of l){const f=t.hu.get(c);a=a.unionWith(f.view.eu)}return a}}function DS(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=CS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WM.bind(null,e),e.lu.Y_=LM.bind(null,e.eventManager),e.lu.gu=UM.bind(null,e.eventManager),e}function nj(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZM.bind(null,e),e}class bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return aM(this.persistence,new rM,e.initialUser,this.serializer)}Su(e){return new hS(hv.fi,this.serializer)}bu(e){return new hM}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bh.provider={build:()=>new bh};class rj extends bh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){ut(this.persistence.referenceDelegate instanceof vh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new FO(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?Gn.withCacheSize(this.cacheSizeBytes):Gn.DEFAULT;return new hS(i=>vh.fi(i,t),this.serializer)}}class vy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ew(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ej.bind(null,this.syncEngine),await jM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new VM}()}createDatastore(e){const t=Gh(e.databaseInfo.databaseId),i=function(l){return new vM(l)}(e.databaseInfo);return function(l,c,f,m){return new xM(l,c,f,m)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,f){return new TM(i,a,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>ew(this.syncEngine,t,0),function(){return Kx.C()?new Kx:new mM}())}createSyncEngine(e,t){return function(a,l,c,f,m,g,v){const b=new HM(a,l,c,f,m,g);return v&&(b.mu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Fe(a);be(no,"RemoteStore shutting down."),l.da.add(5),await Yc(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}vy.provider={build:()=>new vy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ji("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="FirestoreClient";class ij{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=Cn.UNAUTHENTICATED,this.clientId=A1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{be(oa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(be(oa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Ev(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Ig(n,e){n.asyncQueue.verifyOperationInProgress(),be(oa,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await mS(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function nw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await sj(n);be(oa,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Wx(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>Wx(e.remoteStore,a)),n._onlineComponents=e}async function sj(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){be(oa,"Using user provided OfflineComponentProvider");try{await Ig(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ce.FAILED_PRECONDITION||a.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Sl("Error using user provided cache. Falling back to memory cache: "+t),await Ig(n,new bh)}}else be(oa,"Using default OfflineComponentProvider"),await Ig(n,new rj(void 0));return n._offlineComponents}async function kS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(be(oa,"Using user provided OnlineComponentProvider"),await nw(n,n._uninitializedComponentsProvider._online)):(be(oa,"Using default OnlineComponentProvider"),await nw(n,new vy))),n._onlineComponents}function aj(n){return kS(n).then(e=>e.syncEngine)}async function Eh(n){const e=await kS(n),t=e.eventManager;return t.onListen=qM.bind(null,e.syncEngine),t.onUnlisten=YM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=GM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=KM.bind(null,e.syncEngine),t}function oj(n,e,t={}){const i=new Ki;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,g){const v=new Rv({next:E=>{v.xu(),c.enqueueAndForget(()=>wv(l,b));const C=E.docs.has(f);!C&&E.fromCache?g.reject(new _e(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&E.fromCache&&m&&m.source==="server"?g.reject(new _e(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),b=new Sv(Uh(f.path),v,{includeMetadataChanges:!0,Qa:!0});return xv(l,b)}(await Eh(n),n.asyncQueue,e,t,i)),i.promise}function lj(n,e,t={}){const i=new Ki;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,g){const v=new Rv({next:E=>{v.xu(),c.enqueueAndForget(()=>wv(l,b)),E.fromCache&&m.source==="server"?g.reject(new _e(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),b=new Sv(f,v,{includeMetadataChanges:!0,Qa:!0});return xv(l,b)}(await Eh(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(n,e,t){if(!t)throw new _e(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function uj(n,e,t,i){if(e===!0&&i===!0)throw new _e(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function iw(n){if(!Re.isDocumentKey(n))throw new _e(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function sw(n){if(Re.isDocumentKey(n))throw new _e(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Kh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Pe(12329,{type:typeof n})}function Yn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Kh(n);throw new _e(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function cj(n,e){if(e<=0)throw new _e(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="firestore.googleapis.com",aw=!0;class ow{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jS,this.ssl=aw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:aw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BO)throw new _e(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OS((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new _e(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new _e(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new _e(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qh{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ow({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ow(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new y4;switch(i.type){case"firstParty":return new E4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _e(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=rw.get(t);i&&(be("ComponentProvider","Removing Datastore"),rw.delete(t),i.terminate())}(this),Promise.resolve()}}function dj(n,e,t,i={}){var a;n=Yn(n,Qh);const l=Bl(e),c=n._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),m=`${e}:${t}`;l&&(RT(`https://${m}`),IT("Firestore",!0)),c.host!==jS&&c.host!==m&&Sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:i});if(!Xa(g,f)&&(n._setSettings(g),i.mockUserToken)){let v,b;if(typeof i.mockUserToken=="string")v=i.mockUserToken,b=Cn.MOCK_USER;else{v=C3(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new _e(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Cn(E)}n._authCredentials=new v4(new T1(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ls(this.firestore,e,this._query)}}class Nn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}}class ea extends ls{constructor(e,t,i){super(e,t,Uh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new Re(e))}withConverter(e){return new ea(this.firestore,e,this._path)}}function Tt(n,e,...t){if(n=Xt(n),MS("collection","path",e),n instanceof Qh){const i=wt.fromString(e,...t);return sw(i),new ea(n,null,i)}{if(!(n instanceof Nn||n instanceof ea))throw new _e(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(wt.fromString(e,...t));return sw(i),new ea(n.firestore,null,i)}}function Qt(n,e,...t){if(n=Xt(n),arguments.length===1&&(e=A1.newId()),MS("doc","path",e),n instanceof Qh){const i=wt.fromString(e,...t);return iw(i),new Nn(n,null,new Re(i))}{if(!(n instanceof Nn||n instanceof ea))throw new _e(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(wt.fromString(e,...t));return iw(i),new Nn(n.firestore,n instanceof ea?n.converter:null,new Re(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="AsyncQueue";class uw{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new gS(this,"async_queue_retry"),this.rc=()=>{const i=Rg();i&&be(lw,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=Rg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Rg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Ki;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Gl(e))throw e;be(lw,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,Ji("INTERNAL UNHANDLED ERROR: ",cw(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const a=bv.createAndSchedule(this,e,t,i,l=>this.uc(l));return this.Zu.push(a),a}oc(){this.Xu&&Pe(47125,{cc:cw(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function cw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1}(n,["next","error","complete"])}class ts extends Qh{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new uw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uw(e),this._firestoreClient=void 0,await e}}}function fj(n,e){const t=typeof n=="object"?n:OT(),i=typeof n=="string"?n:dh,a=$y(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=S3("firestore");l&&dj(a,...l)}return a}function Wh(n){if(n._terminated)throw new _e(ce.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||hj(n),n._firestoreClient}function hj(n){var e,t,i;const a=n._freezeSettings(),l=function(f,m,g,v){return new P4(f,m,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,OS(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new ij(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dl(xn.fromBase64String(e))}catch(t){throw new _e(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Dl(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=/^__.*__$/;class pj{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new fa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gc(e,this.data,t,this.fieldTransforms)}}class PS{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new fa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function VS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{Ic:n})}}class kv{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new kv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Vc(e),a}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return xh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(VS(this.Ic)&&mj.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class gj{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Gh(e)}bc(e,t,i,a=!1){return new kv({Ic:e,methodName:t,wc:i,path:bn.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zh(n){const e=n._freezeSettings(),t=Gh(n._databaseId);return new gj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function LS(n,e,t,i,a,l={}){const c=n.bc(l.merge||l.mergeFields?2:0,e,t,a);Ov("Data must be an object, but it was:",c,i);const f=US(i,c);let m,g;if(l.merge)m=new sr(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const E=_y(e,b,t);if(!c.contains(E))throw new _e(ce.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);zS(v,E)||v.push(E)}m=new sr(v),g=c.fieldTransforms.filter(b=>m.covers(b.field))}else m=null,g=c.fieldTransforms;return new pj(new $n(f),m,g)}class Jh extends Iv{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jh}}function yj(n,e,t,i){const a=n.bc(1,e,t);Ov("Data must be an object, but it was:",a,i);const l=[],c=$n.empty();da(i,(m,g)=>{const v=Mv(e,m,t);g=Xt(g);const b=a.mc(v);if(g instanceof Jh)l.push(v);else{const E=Qc(g,b);E!=null&&(l.push(v),c.set(v,E))}});const f=new sr(l);return new PS(c,f,a.fieldTransforms)}function vj(n,e,t,i,a,l){const c=n.bc(1,e,t),f=[_y(e,i,t)],m=[a];if(l.length%2!=0)throw new _e(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)f.push(_y(e,l[E])),m.push(l[E+1]);const g=[],v=$n.empty();for(let E=f.length-1;E>=0;--E)if(!zS(g,f[E])){const C=f[E];let R=m[E];R=Xt(R);const A=c.mc(C);if(R instanceof Jh)g.push(C);else{const N=Qc(R,A);N!=null&&(g.push(C),v.set(C,N))}}const b=new sr(g);return new PS(v,b,c.fieldTransforms)}function _j(n,e,t,i=!1){return Qc(t,n.bc(i?4:3,e))}function Qc(n,e){if(BS(n=Xt(n)))return Ov("Unsupported field value:",e,n),US(n,e);if(n instanceof Iv)return function(i,a){if(!VS(a.Ic))throw a.gc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const f of i){let m=Qc(f,a.fc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=Xt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return sO(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=_t.fromDate(i);return{timestampValue:yh(a.serializer,l)}}if(i instanceof _t){const l=new _t(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:yh(a.serializer,l)}}if(i instanceof Nv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Dl)return{bytesValue:sS(a.serializer,i._byteString)};if(i instanceof Nn){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:dv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Dv)return function(c,f){return{mapValue:{fields:{[M1]:{stringValue:j1},[fh]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw f.gc("VectorValues must only contain numeric values.");return ov(f.serializer,g)})}}}}}}(i,a);throw a.gc(`Unsupported field value: ${Kh(i)}`)}(n,e)}function US(n,e){const t={};return R1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):da(n,(i,a)=>{const l=Qc(a,e.Ac(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function BS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _t||n instanceof Nv||n instanceof Dl||n instanceof Nn||n instanceof Iv||n instanceof Dv)}function Ov(n,e,t){if(!BS(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=Kh(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function _y(n,e,t){if((e=Xt(e))instanceof Xh)return e._internalPath;if(typeof e=="string")return Mv(n,e);throw xh("Field path arguments must be of type string or ",n,!1,void 0,t)}const bj=new RegExp("[~\\*/\\[\\]]");function Mv(n,e,t){if(e.search(bj)>=0)throw xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xh(...e.split("."))._internalPath}catch{throw xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function xh(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new _e(ce.INVALID_ARGUMENT,f+n+m)}function zS(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ej(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(em("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Ej extends FS{data(){return super.data()}}function em(n,e){return typeof e=="string"?Mv(n,e):e instanceof Xh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new _e(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jv{}class Pv extends jv{}function Kn(n,e,...t){let i=[];e instanceof jv&&i.push(e),i=i.concat(t),function(l){const c=l.filter(m=>m instanceof Vv).length,f=l.filter(m=>m instanceof tm).length;if(c>1||c>0&&f>0)throw new _e(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class tm extends Pv{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new tm(e,t,i)}_apply(e){const t=this._parse(e);return GS(e._query,t),new ls(e.firestore,e.converter,uy(e._query,t))}_parse(e){const t=Zh(e.firestore);return function(l,c,f,m,g,v,b){let E;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new _e(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){hw(b,v);const R=[];for(const A of b)R.push(fw(m,l,A));E={arrayValue:{values:R}}}else E=fw(m,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||hw(b,v),E=_j(f,c,b,v==="in"||v==="not-in");return Kt.create(g,v,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ar(n,e,t){const i=e,a=em("where",n);return tm._create(a,i,t)}class Vv extends jv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Vv(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:jr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)GS(c,m),c=uy(c,m)}(e._query,t),new ls(e.firestore,e.converter,uy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lv extends Pv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Lv(e,t)}_apply(e){const t=function(a,l,c){if(a.startAt!==null)throw new _e(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new _e(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nc(l,c)}(e._query,this._field,this._direction);return new ls(e.firestore,e.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new $l(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function ns(n,e="asc"){const t=e,i=em("orderBy",n);return Lv._create(i,t)}class Uv extends Pv{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Uv(e,t,i)}_apply(e){return new ls(e.firestore,e.converter,mh(e._query,this._limit,this._limitType))}}function qS(n){return cj("limit",n),Uv._create("limit",n,"F")}function fw(n,e,t){if(typeof(t=Xt(t))=="string"){if(t==="")throw new _e(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!H1(e)&&t.indexOf("/")!==-1)throw new _e(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(wt.fromString(t));if(!Re.isDocumentKey(i))throw new _e(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ax(n,new Re(i))}if(t instanceof Nn)return Ax(n,t._key);throw new _e(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kh(t)}.`)}function hw(n,e){if(!Array.isArray(n)||n.length===0)throw new _e(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GS(n,e){const t=function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new _e(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class xj{convertValue(e,t="none"){switch(sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return da(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[fh].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>Bt(c.doubleValue));return new Dv(l)}convertGeoPoint(e){return new Nv(Bt(e.latitude),Bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Lh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Cc(e));default:return null}}convertTimestamp(e){const t=ra(e);return new _t(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=wt.fromString(e);ut(dS(i),9688,{name:e});const a=new Rc(i.get(1),i.get(3)),l=new Re(i.popFirst(5));return a.isEqual(t)||Ji(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class YS extends FS{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(em("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Wf extends YS{data(e={}){return super.data(e)}}class KS{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new mc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Wf(this._firestore,this._userDataWriter,i.key,i,new mc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const m=new Wf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new mc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const m=new Wf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new mc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return f.type!==0&&(g=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:wj(f.type),doc:m,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function wj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(n){n=Yn(n,Nn);const e=Yn(n.firestore,ts);return oj(Wh(e),n._key).then(t=>WS(e,n,t))}class Bv extends xj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,t)}}function En(n){n=Yn(n,ls);const e=Yn(n.firestore,ts),t=Wh(e),i=new Bv(e);return HS(n._query),lj(t,n._query).then(a=>new KS(e,i,n,a))}function Tj(n,e,t){n=Yn(n,Nn);const i=Yn(n.firestore,ts),a=$S(n.converter,e);return nm(i,[LS(Zh(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Er.none())])}function oi(n,e,t,...i){n=Yn(n,Nn);const a=Yn(n.firestore,ts),l=Zh(a);let c;return c=typeof(e=Xt(e))=="string"||e instanceof Xh?vj(l,"updateDoc",n._key,e,t,i):yj(l,"updateDoc",n._key,e),nm(a,[c.toMutation(n._key,Er.exists(!0))])}function kl(n){return nm(Yn(n.firestore,ts),[new lv(n._key,Er.none())])}function li(n,e){const t=Yn(n.firestore,ts),i=Qt(n),a=$S(n.converter,e);return nm(t,[LS(Zh(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,Er.exists(!1))]).then(()=>i)}function Sj(n,...e){var t,i,a;n=Xt(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||dw(e[c])||(l=e[c],c++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(dw(e[c])){const b=e[c];e[c]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[c+1]=(i=b.error)===null||i===void 0?void 0:i.bind(b),e[c+2]=(a=b.complete)===null||a===void 0?void 0:a.bind(b)}let m,g,v;if(n instanceof Nn)g=Yn(n.firestore,ts),v=Uh(n._key.path),m={next:b=>{e[c]&&e[c](WS(g,n,b))},error:e[c+1],complete:e[c+2]};else{const b=Yn(n,ls);g=Yn(b.firestore,ts),v=b._query;const E=new Bv(g);m={next:C=>{e[c]&&e[c](new KS(g,E,b,C))},error:e[c+1],complete:e[c+2]},HS(n._query)}return function(E,C,R,A){const N=new Rv(A),V=new Sv(C,N,R);return E.asyncQueue.enqueueAndForget(async()=>xv(await Eh(E),V)),()=>{N.xu(),E.asyncQueue.enqueueAndForget(async()=>wv(await Eh(E),V))}}(Wh(g),v,f,m)}function nm(n,e){return function(i,a){const l=new Ki;return i.asyncQueue.enqueueAndForget(async()=>QM(await aj(i),a,l)),l.promise}(Wh(n),e)}function WS(n,e,t){const i=t.docs.get(e._key),a=new Bv(n);return new YS(n,a,e._key,i,new mc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Hl=a})(zl),wl(new Za("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new ts(new _4(i.getProvider("auth-internal")),new x4(c,i.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new _e(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rc(g.options.projectId,v)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Zs(mx,px,e),Zs(mx,px,"esm2017")})();var Aj="firebase",Cj="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zs(Aj,Cj,"app");const Rj={apiKey:"AIzaSyBWOaRM6RgB2B63wqHfawl7dMBU2uTMPbI",authDomain:"billybilly-8f5a5.firebaseapp.com",projectId:"billybilly-8f5a5",storageBucket:"billybilly-8f5a5.firebasestorage.app",messagingSenderId:"667395219625",appId:"1:667395219625:web:da57f0bb7b1319838349b8"},XS=kT(Rj),Df=p4(XS),ze=fj(XS),ZS=w.createContext();function Un(){return w.useContext(ZS)}function Ij({children:n}){const[e,t]=w.useState(null),[i,a]=w.useState(!0);function l(g,v,b){return Z6(Df,g,v).then(async E=>(await a1(E.user,{displayName:b}),await Tj(Qt(ze,"users",E.user.uid),{email:E.user.email,displayName:b,createdAt:new Date,preferences:{currency:"CNY",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}}),await li(Tt(ze,"ledgers"),{name:"Personal Expenses",ownerId:E.user.uid,createdAt:new Date,members:{[E.user.uid]:"owner"},currency:"CNY"}),E))}function c(g,v){return J6(Df,g,v)}function f(){return ik(Df)}w.useEffect(()=>rk(Df,async v=>{t(v||null),a(!1)}),[]);const m={currentUser:e,signup:l,login:c,logout:f};return p.jsx(ZS.Provider,{value:m,children:!i&&n})}const JS=w.createContext();function us(){return w.useContext(JS)}function Nj({children:n}){const{currentUser:e}=Un(),[t,i]=w.useState([]),[a,l]=w.useState(null),[c,f]=w.useState(!0),m=async()=>{if(!e){i([]),l(null),f(!1);return}try{const A=Tt(ze,"ledgers"),N=await En(A),V=[];N.forEach(U=>{const B=U.data();B.members&&B.members[e.uid]&&V.push({id:U.id,...B})}),i(V),V.length>0?l(V[0]):l(null)}catch(A){console.error("Error fetching ledgers:",A)}finally{f(!1)}},g=async()=>{f(!0),await m()},v=async A=>{try{const N=await QS(Qt(ze,"ledgers",A));if(N.exists()){const V={id:N.id,...N.data()};l(V)}}catch(N){console.error("Error switching ledger:",N)}},b=()=>!a||!e?null:a.members[e.uid]||null,E=()=>b()==="owner",C=()=>{const A=b();return A==="owner"||A==="member"};w.useEffect(()=>{m()},[e]),w.useEffect(()=>{if(e&&t.length===0&&!c){const A=setTimeout(()=>{g()},1e3);return()=>clearTimeout(A)}},[e,t.length,c]);const R={ledgers:t,currentLedger:a,loading:c,switchLedger:v,fetchLedgers:m,refreshLedgers:g,getUserRole:b,isOwner:E,canEdit:C};return p.jsx(JS.Provider,{value:R,children:n})}function zs({children:n}){const{currentUser:e}=Un();return e?n:p.jsx(Bg,{to:"/login"})}function Pt({className:n,type:e,...t}){return p.jsx("input",{type:e,"data-slot":"input",className:Wt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var Dj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Et=Dj.reduce((n,e)=>{const t=wc(`Primitive.${e}`),i=w.forwardRef((a,l)=>{const{asChild:c,...f}=a,m=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(m,{...f,ref:l})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function kj(n,e){n&&Vc.flushSync(()=>n.dispatchEvent(e))}var Oj="Label",eA=w.forwardRef((n,e)=>p.jsx(Et.label,{...n,ref:e,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||((a=n.onMouseDown)==null||a.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));eA.displayName=Oj;var Mj=eA;function Ye({className:n,...e}){return p.jsx(Mj,{"data-slot":"label",className:Wt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}const jj=By("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function an({className:n,variant:e,...t}){return p.jsx("div",{"data-slot":"alert",role:"alert",className:Wt(jj({variant:e}),n),...t})}function on({className:n,...e}){return p.jsx("div",{"data-slot":"alert-description",className:Wt("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}function Pj(){const[n,e]=w.useState(""),[t,i]=w.useState(""),[a,l]=w.useState(!1),[c,f]=w.useState(""),[m,g]=w.useState(!1),{login:v}=Un(),b=Nh();async function E(C){C.preventDefault();try{f(""),g(!0),await v(n,t),b("/")}catch(R){f("Failed to log in: "+R.message)}g(!1)}return p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"max-w-md w-full space-y-8",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"flex justify-center",children:p.jsx(vl,{className:"h-12 w-12 text-blue-600"})}),p.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Sign in to ExpenseTracker"}),p.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",p.jsx(yl,{to:"/signup",className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]}),p.jsxs(yt,{children:[p.jsxs(St,{children:[p.jsx(At,{children:"Welcome back"}),p.jsx(Dn,{children:"Enter your credentials to access your account"})]}),p.jsxs(vt,{children:[c&&p.jsx(an,{className:"mb-4",variant:"destructive",children:p.jsx(on,{children:c})}),p.jsxs("form",{onSubmit:E,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(Ye,{htmlFor:"email",children:"Email address"}),p.jsx(Pt,{id:"email",type:"email",value:n,onChange:C=>e(C.target.value),required:!0,className:"mt-1",placeholder:"Enter your email"})]}),p.jsxs("div",{children:[p.jsx(Ye,{htmlFor:"password",children:"Password"}),p.jsxs("div",{className:"relative mt-1",children:[p.jsx(Pt,{id:"password",type:a?"text":"password",value:t,onChange:C=>i(C.target.value),required:!0,placeholder:"Enter your password"}),p.jsx(Ie,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!a),children:a?p.jsx($g,{className:"h-4 w-4"}):p.jsx(Yg,{className:"h-4 w-4"})})]})]}),p.jsx(Ie,{type:"submit",className:"w-full",disabled:m,children:m?"Signing in...":"Sign in"})]})]})]})]})})}function Vj(){const[n,e]=w.useState(""),[t,i]=w.useState(""),[a,l]=w.useState(""),[c,f]=w.useState(""),[m,g]=w.useState(!1),[v,b]=w.useState(!1),[E,C]=w.useState(""),[R,A]=w.useState(!1),{signup:N}=Un(),{refreshLedgers:V}=us(),U=Nh();async function B(G){if(G.preventDefault(),t!==a)return C("Passwords do not match");if(t.length<6)return C("Password must be at least 6 characters");try{C(""),A(!0),await N(n,t,c),setTimeout(async()=>{await V(),U("/")},500)}catch($){C("Failed to create an account: "+$.message),A(!1)}}return p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"max-w-md w-full space-y-8",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"flex justify-center",children:p.jsx(vl,{className:"h-12 w-12 text-blue-600"})}),p.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Create your account"}),p.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",p.jsx(yl,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"sign in to your existing account"})]})]}),p.jsxs(yt,{children:[p.jsxs(St,{children:[p.jsx(At,{children:"Get started"}),p.jsx(Dn,{children:"Create your account to start tracking expenses"})]}),p.jsxs(vt,{children:[E&&p.jsx(an,{className:"mb-4",variant:"destructive",children:p.jsx(on,{children:E})}),p.jsxs("form",{onSubmit:B,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(Ye,{htmlFor:"displayName",children:"Full Name"}),p.jsx(Pt,{id:"displayName",type:"text",value:c,onChange:G=>f(G.target.value),required:!0,className:"mt-1",placeholder:"Enter your full name"})]}),p.jsxs("div",{children:[p.jsx(Ye,{htmlFor:"email",children:"Email address"}),p.jsx(Pt,{id:"email",type:"email",value:n,onChange:G=>e(G.target.value),required:!0,className:"mt-1",placeholder:"Enter your email"})]}),p.jsxs("div",{children:[p.jsx(Ye,{htmlFor:"password",children:"Password"}),p.jsxs("div",{className:"relative mt-1",children:[p.jsx(Pt,{id:"password",type:m?"text":"password",value:t,onChange:G=>i(G.target.value),required:!0,placeholder:"Create a password"}),p.jsx(Ie,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>g(!m),children:m?p.jsx($g,{className:"h-4 w-4"}):p.jsx(Yg,{className:"h-4 w-4"})})]})]}),p.jsxs("div",{children:[p.jsx(Ye,{htmlFor:"confirmPassword",children:"Confirm Password"}),p.jsxs("div",{className:"relative mt-1",children:[p.jsx(Pt,{id:"confirmPassword",type:v?"text":"password",value:a,onChange:G=>l(G.target.value),required:!0,placeholder:"Confirm your password"}),p.jsx(Ie,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>b(!v),children:v?p.jsx($g,{className:"h-4 w-4"}):p.jsx(Yg,{className:"h-4 w-4"})})]})]}),p.jsx(Ie,{type:"submit",className:"w-full",disabled:R,children:R?"Creating account...":"Create account"})]})]})]})]})})}function Lj(n){const[e,t]=w.useState(Date.now());return w.useEffect(()=>{if(!n)return;const i=Tt(ze,"ledgers",n,"transactions"),a=Kn(i,ns("createdAt","desc"),qS(1)),l=Sj(a,c=>{c.empty||t(Date.now())});return()=>l()},[n]),e}function Uj(){const{currentUser:n}=Un(),{refreshLedgers:e}=us(),[t,i]=w.useState([]),[a,l]=w.useState(!1),[c,f]=w.useState(""),[m,g]=w.useState(""),v=async()=>{if(n)try{l(!0);const C=Tt(ze,"invitations"),R=Kn(C,ar("inviteeEmail","==",n.email.toLowerCase()),ar("status","==","pending"),ns("createdAt","desc")),A=await En(R),N=[];A.forEach(V=>{var G;const U=V.data(),B=(G=U.expiresAt)==null?void 0:G.toDate();(!B||B>new Date)&&N.push({id:V.id,...U})}),i(N)}catch(C){console.error("Error fetching invitations:",C),f("Failed to fetch invitations")}finally{l(!1)}},b=async C=>{try{l(!0),f("");const R=Qt(ze,"ledgers",C.ledgerId),A=await En(Kn(Tt(ze,"ledgers"),ar("__name__","==",C.ledgerId)));if(A.empty)throw new Error("Ledger not found");const V={...A.docs[0].data().members,[n.uid]:C.role};await oi(R,{members:V,updatedAt:new Date}),await oi(Qt(ze,"invitations",C.id),{status:"accepted",acceptedAt:new Date}),await e(),await v(),g(`Successfully joined "${C.ledgerName}"!`)}catch(R){console.error("Error accepting invitation:",R),f("Failed to accept invitation")}finally{l(!1)}},E=async C=>{try{l(!0),f(""),await oi(Qt(ze,"invitations",C),{status:"declined",declinedAt:new Date}),await v(),g("Invitation declined")}catch(R){console.error("Error declining invitation:",R),f("Failed to decline invitation")}finally{l(!1)}};return w.useEffect(()=>{v()},[n]),w.useEffect(()=>{if(m||c){const C=setTimeout(()=>{g(""),f("")},3e3);return()=>clearTimeout(C)}},[m,c]),t.length===0&&!a?null:p.jsx("div",{className:"mb-6",children:p.jsxs(yt,{children:[p.jsxs(St,{children:[p.jsxs(At,{className:"flex items-center",children:[p.jsx(gT,{className:"h-5 w-5 mr-2"}),"Pending Invitations (",t.length,")"]}),p.jsx(Dn,{children:"You have been invited to join the following ledgers."})]}),p.jsxs(vt,{children:[c&&p.jsx(an,{variant:"destructive",className:"mb-4",children:p.jsx(on,{children:c})}),m&&p.jsx(an,{className:"mb-4",children:p.jsx(on,{children:m})}),p.jsx("div",{className:"space-y-4",children:t.map(C=>p.jsx("div",{className:"border rounded-lg p-4",children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[p.jsx(th,{className:"h-5 w-5 text-blue-600"}),p.jsx("h3",{className:"font-semibold text-lg",children:C.ledgerName}),p.jsx(kr,{variant:"secondary",children:C.role})]}),p.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(bT,{className:"h-4 w-4"}),p.jsxs("span",{children:["Invited by: ",C.inviterName]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Gg,{className:"h-4 w-4"}),p.jsxs("span",{children:["Invited: ",new Date(C.createdAt.toDate()).toLocaleDateString()]})]}),C.expiresAt&&p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Gg,{className:"h-4 w-4"}),p.jsxs("span",{children:["Expires: ",new Date(C.expiresAt.toDate()).toLocaleDateString()]})]})]})]}),p.jsxs("div",{className:"flex space-x-2 ml-4",children:[p.jsxs(Ie,{size:"sm",onClick:()=>b(C),disabled:a,className:"bg-green-600 hover:bg-green-700",children:[p.jsx(Fy,{className:"h-4 w-4 mr-1"}),"Accept"]}),p.jsxs(Ie,{size:"sm",variant:"destructive",onClick:()=>E(C.id),disabled:a,children:[p.jsx(xl,{className:"h-4 w-4 mr-1"}),"Decline"]})]})]})},C.id))})]})]})})}const Qs=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9","#F8C471","#82E0AA","#F1948A","#85929E","#D7BDE2","#A9DFBF","#F9E79F","#AED6F1","#F5B7B1","#D5A6BD"],Bj=n=>{if(typeof n!="string")return"?";const e=n.trim();if(e.length===0)return"?";const t=e.charAt(0);return/[\u4e00-\u9fff]/.test(t)?t:t.toUpperCase()},zj=(n,e=null)=>{if(e&&Qs.includes(e))return e;if(!n)return Qs[0];let t=0;for(let a=0;a<n.length;a++){const l=n.charCodeAt(a);t=(t<<5)-t+l,t=t&t}const i=Math.abs(t)%Qs.length;return Qs[i]},Fj=n=>{const e=(n==null?void 0:n.displayName)||(n==null?void 0:n.email)||"Unknown",t=Bj(e),i=zj(n==null?void 0:n.uid,n==null?void 0:n.profileColor);return{initial:t,backgroundColor:i,textColor:"#FFFFFF"}},Hj=()=>{const n=Math.floor(Math.random()*Qs.length);return Qs[n]},qj=n=>Qs.includes(n);function Ol({user:n,size:e="md",className:t="",showTooltip:i=!0}){const a=Fj(n),l={xs:"w-6 h-6 text-xs",sm:"w-8 h-8 text-sm",md:"w-10 h-10 text-base",lg:"w-12 h-12 text-lg",xl:"w-16 h-16 text-xl","2xl":"w-20 h-20 text-2xl"},c=l[e]||l.md,f=(n==null?void 0:n.displayName)||(n==null?void 0:n.email)||"Unknown User";return p.jsx("div",{className:`
        ${c}
        rounded-full
        flex
        items-center
        justify-center
        font-semibold
        select-none
        flex-shrink-0
        ${t}
      `,style:{backgroundColor:a.backgroundColor,color:a.textColor},title:i?f:void 0,children:a.initial})}function nl({user:n,size:e="md",className:t="",nameClassName:i="",showEmail:a=!1}){var f;const l=(n==null?void 0:n.displayName)||((f=n==null?void 0:n.email)==null?void 0:f.split("@")[0])||"Unknown User",c=n==null?void 0:n.email;return p.jsxs("div",{className:`flex items-center space-x-2 ${t}`,children:[p.jsx(Ol,{user:n,size:e,showTooltip:!1}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:`font-medium ${i}`,children:l}),a&&c&&p.jsx("span",{className:"text-xs text-gray-500",children:c})]})]})}function Gj({users:n=[],size:e="sm",maxDisplay:t=3,className:i=""}){const a=n.slice(0,t),l=n.length-t;return p.jsx("div",{className:`flex items-center ${i}`,children:p.jsxs("div",{className:"flex -space-x-1",children:[a.map((c,f)=>p.jsx("div",{className:"ring-2 ring-white",style:{zIndex:a.length-f},children:p.jsx(Ol,{user:c,size:e})},(c==null?void 0:c.uid)||f)),l>0&&p.jsxs("div",{className:`
              ${e==="xs"?"w-6 h-6 text-xs":e==="sm"?"w-8 h-8 text-xs":"w-10 h-10 text-sm"}
              rounded-full
              bg-gray-300
              text-gray-600
              flex
              items-center
              justify-center
              font-medium
              ring-2
              ring-white
            `,children:["+",l]})]})})}function $j(){var v;const{currentUser:n}=Un(),{currentLedger:e}=us(),t=Lj(e==null?void 0:e.id),[i,a]=w.useState({totalBalance:0,monthlySpending:0,budgetRemaining:0,recentTransactions:[],memberStats:{},loading:!0}),l=async()=>{if(!e){a(b=>({...b,loading:!1}));return}try{const b=new Date,E=new Date(b.getFullYear(),b.getMonth(),1),C=new Date(b.getFullYear(),b.getMonth()+1,0),R=Tt(ze,"ledgers",e.id,"transactions"),A=Kn(R,ns("date","desc"),qS(5)),N=await En(A),V=[];N.forEach(P=>{var q;const j=P.data();V.push({id:P.id,...j,date:((q=j.date)==null?void 0:q.toDate())||new Date})});const U=Kn(R,ns("date","desc")),B=await En(U);let G=0,$=0;const ne={};e.members&&Object.keys(e.members).forEach(P=>{ne[P]={monthlyIncome:0,monthlySpending:0,totalIncome:0,totalSpending:0}}),B.forEach(P=>{var Y;const j=P.data(),q=((Y=j.date)==null?void 0:Y.toDate())||new Date,ee=j.amount||0,F=j.userId||j.paidBy||(n==null?void 0:n.uid),Q=q>=E&&q<=C;F&&!ne[F]&&(ne[F]={monthlyIncome:0,monthlySpending:0,totalIncome:0,totalSpending:0}),j.type==="income"?(G+=ee,F&&ne[F]&&(ne[F].totalIncome+=ee,Q&&(ne[F].monthlyIncome+=ee))):(G-=ee,F&&ne[F]&&(ne[F].totalSpending+=ee,Q&&(ne[F].monthlySpending+=ee,$+=ee)))});const k=Tt(ze,"ledgers",e.id,"budgets"),S=Kn(k,ar("startDate","<=",_t.fromDate(b)),ar("endDate",">=",_t.fromDate(b))),M=await En(S);let L=0;M.forEach(P=>{const j=P.data();L+=j.totalAmount||0});const D=L-$;a({totalBalance:G,monthlySpending:$,budgetRemaining:D,recentTransactions:V,memberStats:ne,loading:!1})}catch(b){console.error("Error calculating dashboard stats:",b),a(E=>({...E,loading:!1}))}};w.useEffect(()=>{l()},[e,t]);const c=b=>new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY"}).format(b),f=b=>{const C=Math.abs(new Date-b),R=Math.ceil(C/(1e3*60*60*24));return R===1?"Today":R===2?"Yesterday":R<=7?`${R-1} days ago`:b.toLocaleDateString()},m=b=>b===(n==null?void 0:n.uid)?{uid:b,displayName:n.displayName||n.email,email:n.email}:{uid:b,displayName:`User ${b.slice(0,8)}`,email:`${b.slice(0,8)}@example.com`},g=()=>!i.memberStats||!(e!=null&&e.members)?[]:Object.keys(e.members).map(b=>({...m(b),stats:i.memberStats[b]||{monthlyIncome:0,monthlySpending:0,totalIncome:0,totalSpending:0}}));return i.loading?p.jsx("div",{className:"p-6",children:p.jsxs("div",{className:"animate-pulse space-y-6",children:[p.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(b=>p.jsx("div",{className:"h-32 bg-gray-200 rounded"},b))}),p.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsx(Uj,{}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),p.jsxs(kr,{variant:"secondary",className:"text-sm",children:["Welcome back, ",(n==null?void 0:n.displayName)||((v=n==null?void 0:n.email)==null?void 0:v.split("@")[0])||"User","!"]})]}),e&&p.jsxs("div",{className:"text-sm text-gray-600",children:["Current Ledger: ",p.jsx("span",{className:"font-medium",children:e.name})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs(yt,{children:[p.jsxs(St,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[p.jsx(At,{className:"text-sm font-medium",children:"Total Balance"}),p.jsx(vl,{className:"h-4 w-4 text-muted-foreground"})]}),p.jsxs(vt,{children:[p.jsx("div",{className:`text-2xl font-bold ${i.totalBalance>=0?"text-green-600":"text-red-600"}`,children:c(i.totalBalance)}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"All time balance"})]})]}),p.jsxs(yt,{children:[p.jsxs(St,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[p.jsx(At,{className:"text-sm font-medium",children:"Monthly Spending"}),p.jsx(d3,{className:"h-4 w-4 text-muted-foreground"})]}),p.jsxs(vt,{children:[p.jsx("div",{className:"text-2xl font-bold text-red-600",children:c(i.monthlySpending)}),p.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"This month's expenses"}),g().length>1&&p.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[p.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Member Breakdown:"}),g().map(b=>p.jsxs("div",{className:"flex items-center justify-between text-xs",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Ol,{user:b,size:"xs"}),p.jsx("span",{className:"text-gray-600",children:b.displayName===(n==null?void 0:n.displayName)?"You":b.displayName})]}),p.jsxs("div",{className:"flex space-x-3 text-right",children:[p.jsxs("span",{className:"text-green-600",children:["+",c(b.stats.monthlyIncome)]}),p.jsxs("span",{className:"text-red-600",children:["-",c(b.stats.monthlySpending)]})]})]},b.uid))]})]})]}),p.jsxs(yt,{children:[p.jsxs(St,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[p.jsx(At,{className:"text-sm font-medium",children:"Budget Remaining"}),p.jsx(AN,{className:"h-4 w-4 text-muted-foreground"})]}),p.jsxs(vt,{children:[p.jsx("div",{className:`text-2xl font-bold ${i.budgetRemaining>=0?"text-green-600":"text-red-600"}`,children:c(i.budgetRemaining)}),p.jsx("p",{className:"text-xs text-muted-foreground",children:i.budgetRemaining>=0?"Remaining this month":"Over budget"})]})]})]}),p.jsxs(yt,{children:[p.jsxs(St,{children:[p.jsx(At,{children:"Recent Transactions"}),p.jsx(Dn,{children:"Your latest financial activity"})]}),p.jsx(vt,{children:i.recentTransactions.length===0?p.jsxs("div",{className:"text-center py-8 text-gray-500",children:[p.jsx(vl,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),p.jsx("p",{children:"No transactions yet"}),p.jsx("p",{className:"text-sm",children:"Add your first transaction to get started"})]}):p.jsx("div",{className:"space-y-4",children:i.recentTransactions.map(b=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[p.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[p.jsx(Ol,{user:{uid:b.userId||(n==null?void 0:n.uid),displayName:b.userName||(n==null?void 0:n.displayName),email:b.userEmail||(n==null?void 0:n.email)},size:"sm"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"font-medium text-gray-900",children:b.description}),p.jsxs("p",{className:"text-sm text-gray-500",children:[b.paymentMethod," • ",f(b.date)]})]})]}),p.jsxs("div",{className:`font-semibold ${b.type==="income"?"text-green-600":"text-red-600"}`,children:[b.type==="income"?"+":"-",c(b.amount)]})]},b.id))})})]})]})}function mw(n,[e,t]){return Math.min(t,Math.max(e,n))}function jt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(a){if(n==null||n(a),t===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function Wc(n,e=[]){let t=[];function i(l,c){const f=w.createContext(c),m=t.length;t=[...t,c];const g=b=>{var V;const{scope:E,children:C,...R}=b,A=((V=E==null?void 0:E[n])==null?void 0:V[m])||f,N=w.useMemo(()=>R,Object.values(R));return p.jsx(A.Provider,{value:N,children:C})};g.displayName=l+"Provider";function v(b,E){var A;const C=((A=E==null?void 0:E[n])==null?void 0:A[m])||f,R=w.useContext(C);if(R)return R;if(c!==void 0)return c;throw new Error(`\`${b}\` must be used within \`${l}\``)}return[g,v]}const a=()=>{const l=t.map(c=>w.createContext(c));return function(f){const m=(f==null?void 0:f[n])||l;return w.useMemo(()=>({[`__scope${n}`]:{...f,[n]:m}}),[f,m])}};return a.scopeName=n,[i,Yj(a,...e)]}function Yj(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const c=i.reduce((f,{useScope:m,scopeName:g})=>{const b=m(l)[`__scope${g}`];return{...f,...b}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}function Kj(n){const e=n+"CollectionProvider",[t,i]=Wc(e),[a,l]=t(e,{collectionRef:{current:null},itemMap:new Map}),c=A=>{const{scope:N,children:V}=A,U=Fs.useRef(null),B=Fs.useRef(new Map).current;return p.jsx(a,{scope:N,itemMap:B,collectionRef:U,children:V})};c.displayName=e;const f=n+"CollectionSlot",m=wc(f),g=Fs.forwardRef((A,N)=>{const{scope:V,children:U}=A,B=l(f,V),G=zt(N,B.collectionRef);return p.jsx(m,{ref:G,children:U})});g.displayName=f;const v=n+"CollectionItemSlot",b="data-radix-collection-item",E=wc(v),C=Fs.forwardRef((A,N)=>{const{scope:V,children:U,...B}=A,G=Fs.useRef(null),$=zt(N,G),ne=l(v,V);return Fs.useEffect(()=>(ne.itemMap.set(G,{ref:G,...B}),()=>void ne.itemMap.delete(G))),p.jsx(E,{[b]:"",ref:$,children:U})});C.displayName=v;function R(A){const N=l(n+"CollectionConsumer",A);return Fs.useCallback(()=>{const U=N.collectionRef.current;if(!U)return[];const B=Array.from(U.querySelectorAll(`[${b}]`));return Array.from(N.itemMap.values()).sort((ne,k)=>B.indexOf(ne.ref.current)-B.indexOf(k.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:c,Slot:g,ItemSlot:C},R,i]}var Qj=w.createContext(void 0);function Wj(n){const e=w.useContext(Qj);return n||e||"ltr"}function ro(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n}),w.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function Xj(n,e=globalThis==null?void 0:globalThis.document){const t=ro(n);w.useEffect(()=>{const i=a=>{a.key==="Escape"&&t(a)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var Zj="DismissableLayer",by="dismissableLayer.update",Jj="dismissableLayer.pointerDownOutside",eP="dismissableLayer.focusOutside",pw,tA=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nA=w.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:c,onDismiss:f,...m}=n,g=w.useContext(tA),[v,b]=w.useState(null),E=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=w.useState({}),R=zt(e,k=>b(k)),A=Array.from(g.layers),[N]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),V=A.indexOf(N),U=v?A.indexOf(v):-1,B=g.layersWithOutsidePointerEventsDisabled.size>0,G=U>=V,$=rP(k=>{const S=k.target,M=[...g.branches].some(L=>L.contains(S));!G||M||(a==null||a(k),c==null||c(k),k.defaultPrevented||f==null||f())},E),ne=iP(k=>{const S=k.target;[...g.branches].some(L=>L.contains(S))||(l==null||l(k),c==null||c(k),k.defaultPrevented||f==null||f())},E);return Xj(k=>{U===g.layers.size-1&&(i==null||i(k),!k.defaultPrevented&&f&&(k.preventDefault(),f()))},E),w.useEffect(()=>{if(v)return t&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(pw=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(v)),g.layers.add(v),gw(),()=>{t&&g.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=pw)}},[v,E,t,g]),w.useEffect(()=>()=>{v&&(g.layers.delete(v),g.layersWithOutsidePointerEventsDisabled.delete(v),gw())},[v,g]),w.useEffect(()=>{const k=()=>C({});return document.addEventListener(by,k),()=>document.removeEventListener(by,k)},[]),p.jsx(Et.div,{...m,ref:R,style:{pointerEvents:B?G?"auto":"none":void 0,...n.style},onFocusCapture:jt(n.onFocusCapture,ne.onFocusCapture),onBlurCapture:jt(n.onBlurCapture,ne.onBlurCapture),onPointerDownCapture:jt(n.onPointerDownCapture,$.onPointerDownCapture)})});nA.displayName=Zj;var tP="DismissableLayerBranch",nP=w.forwardRef((n,e)=>{const t=w.useContext(tA),i=w.useRef(null),a=zt(e,i);return w.useEffect(()=>{const l=i.current;if(l)return t.branches.add(l),()=>{t.branches.delete(l)}},[t.branches]),p.jsx(Et.div,{...n,ref:a})});nP.displayName=tP;function rP(n,e=globalThis==null?void 0:globalThis.document){const t=ro(n),i=w.useRef(!1),a=w.useRef(()=>{});return w.useEffect(()=>{const l=f=>{if(f.target&&!i.current){let m=function(){rA(Jj,t,g,{discrete:!0})};const g={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=m,e.addEventListener("click",a.current,{once:!0})):m()}else e.removeEventListener("click",a.current);i.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",a.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function iP(n,e=globalThis==null?void 0:globalThis.document){const t=ro(n),i=w.useRef(!1);return w.useEffect(()=>{const a=l=>{l.target&&!i.current&&rA(eP,t,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function gw(){const n=new CustomEvent(by);document.dispatchEvent(n)}function rA(n,e,t,{discrete:i}){const a=t.originalEvent.target,l=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&a.addEventListener(n,e,{once:!0}),i?kj(a,l):a.dispatchEvent(l)}var Ng=0;function sP(){w.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??yw()),document.body.insertAdjacentElement("beforeend",n[1]??yw()),Ng++,()=>{Ng===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ng--}},[])}function yw(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Dg="focusScope.autoFocusOnMount",kg="focusScope.autoFocusOnUnmount",vw={bubbles:!1,cancelable:!0},aP="FocusScope",iA=w.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...c}=n,[f,m]=w.useState(null),g=ro(a),v=ro(l),b=w.useRef(null),E=zt(e,A=>m(A)),C=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(i){let A=function(B){if(C.paused||!f)return;const G=B.target;f.contains(G)?b.current=G:Hs(b.current,{select:!0})},N=function(B){if(C.paused||!f)return;const G=B.relatedTarget;G!==null&&(f.contains(G)||Hs(b.current,{select:!0}))},V=function(B){if(document.activeElement===document.body)for(const $ of B)$.removedNodes.length>0&&Hs(f)};document.addEventListener("focusin",A),document.addEventListener("focusout",N);const U=new MutationObserver(V);return f&&U.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",N),U.disconnect()}}},[i,f,C.paused]),w.useEffect(()=>{if(f){bw.add(C);const A=document.activeElement;if(!f.contains(A)){const V=new CustomEvent(Dg,vw);f.addEventListener(Dg,g),f.dispatchEvent(V),V.defaultPrevented||(oP(fP(sA(f)),{select:!0}),document.activeElement===A&&Hs(f))}return()=>{f.removeEventListener(Dg,g),setTimeout(()=>{const V=new CustomEvent(kg,vw);f.addEventListener(kg,v),f.dispatchEvent(V),V.defaultPrevented||Hs(A??document.body,{select:!0}),f.removeEventListener(kg,v),bw.remove(C)},0)}}},[f,g,v,C]);const R=w.useCallback(A=>{if(!t&&!i||C.paused)return;const N=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,V=document.activeElement;if(N&&V){const U=A.currentTarget,[B,G]=lP(U);B&&G?!A.shiftKey&&V===G?(A.preventDefault(),t&&Hs(B,{select:!0})):A.shiftKey&&V===B&&(A.preventDefault(),t&&Hs(G,{select:!0})):V===U&&A.preventDefault()}},[t,i,C.paused]);return p.jsx(Et.div,{tabIndex:-1,...c,ref:E,onKeyDown:R})});iA.displayName=aP;function oP(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(Hs(i,{select:e}),document.activeElement!==t)return}function lP(n){const e=sA(n),t=_w(e,n),i=_w(e.reverse(),n);return[t,i]}function sA(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const a=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||a?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function _w(n,e){for(const t of n)if(!uP(t,{upTo:e}))return t}function uP(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function cP(n){return n instanceof HTMLInputElement&&"select"in n}function Hs(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&cP(n)&&e&&n.select()}}var bw=dP();function dP(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=Ew(n,e),n.unshift(e)},remove(e){var t;n=Ew(n,e),(t=n[0])==null||t.resume()}}}function Ew(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function fP(n){return n.filter(e=>e.tagName!=="A")}var On=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},hP=Lw[" useId ".trim().toString()]||(()=>{}),mP=0;function zv(n){const[e,t]=w.useState(hP());return On(()=>{t(i=>i??String(mP++))},[n]),n||(e?`radix-${e}`:"")}const pP=["top","right","bottom","left"],la=Math.min,ir=Math.max,wh=Math.round,kf=Math.floor,ui=n=>({x:n,y:n}),gP={left:"right",right:"left",bottom:"top",top:"bottom"},yP={start:"end",end:"start"};function Ey(n,e,t){return ir(n,la(e,t))}function rs(n,e){return typeof n=="function"?n(e):n}function is(n){return n.split("-")[0]}function Kl(n){return n.split("-")[1]}function Fv(n){return n==="x"?"y":"x"}function Hv(n){return n==="y"?"height":"width"}function Qi(n){return["top","bottom"].includes(is(n))?"y":"x"}function qv(n){return Fv(Qi(n))}function vP(n,e,t){t===void 0&&(t=!1);const i=Kl(n),a=qv(n),l=Hv(a);let c=a==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=Th(c)),[c,Th(c)]}function _P(n){const e=Th(n);return[xy(n),e,xy(e)]}function xy(n){return n.replace(/start|end/g,e=>yP[e])}function bP(n,e,t){const i=["left","right"],a=["right","left"],l=["top","bottom"],c=["bottom","top"];switch(n){case"top":case"bottom":return t?e?a:i:e?i:a;case"left":case"right":return e?l:c;default:return[]}}function EP(n,e,t,i){const a=Kl(n);let l=bP(is(n),t==="start",i);return a&&(l=l.map(c=>c+"-"+a),e&&(l=l.concat(l.map(xy)))),l}function Th(n){return n.replace(/left|right|bottom|top/g,e=>gP[e])}function xP(n){return{top:0,right:0,bottom:0,left:0,...n}}function aA(n){return typeof n!="number"?xP(n):{top:n,right:n,bottom:n,left:n}}function Sh(n){const{x:e,y:t,width:i,height:a}=n;return{width:i,height:a,top:t,left:e,right:e+i,bottom:t+a,x:e,y:t}}function xw(n,e,t){let{reference:i,floating:a}=n;const l=Qi(e),c=qv(e),f=Hv(c),m=is(e),g=l==="y",v=i.x+i.width/2-a.width/2,b=i.y+i.height/2-a.height/2,E=i[f]/2-a[f]/2;let C;switch(m){case"top":C={x:v,y:i.y-a.height};break;case"bottom":C={x:v,y:i.y+i.height};break;case"right":C={x:i.x+i.width,y:b};break;case"left":C={x:i.x-a.width,y:b};break;default:C={x:i.x,y:i.y}}switch(Kl(e)){case"start":C[c]-=E*(t&&g?-1:1);break;case"end":C[c]+=E*(t&&g?-1:1);break}return C}const wP=async(n,e,t)=>{const{placement:i="bottom",strategy:a="absolute",middleware:l=[],platform:c}=t,f=l.filter(Boolean),m=await(c.isRTL==null?void 0:c.isRTL(e));let g=await c.getElementRects({reference:n,floating:e,strategy:a}),{x:v,y:b}=xw(g,i,m),E=i,C={},R=0;for(let A=0;A<f.length;A++){const{name:N,fn:V}=f[A],{x:U,y:B,data:G,reset:$}=await V({x:v,y:b,initialPlacement:i,placement:E,strategy:a,middlewareData:C,rects:g,platform:c,elements:{reference:n,floating:e}});v=U??v,b=B??b,C={...C,[N]:{...C[N],...G}},$&&R<=50&&(R++,typeof $=="object"&&($.placement&&(E=$.placement),$.rects&&(g=$.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:a}):$.rects),{x:v,y:b}=xw(g,E,m)),A=-1)}return{x:v,y:b,placement:E,strategy:a,middlewareData:C}};async function Oc(n,e){var t;e===void 0&&(e={});const{x:i,y:a,platform:l,rects:c,elements:f,strategy:m}=n,{boundary:g="clippingAncestors",rootBoundary:v="viewport",elementContext:b="floating",altBoundary:E=!1,padding:C=0}=rs(e,n),R=aA(C),N=f[E?b==="floating"?"reference":"floating":b],V=Sh(await l.getClippingRect({element:(t=await(l.isElement==null?void 0:l.isElement(N)))==null||t?N:N.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:g,rootBoundary:v,strategy:m})),U=b==="floating"?{x:i,y:a,width:c.floating.width,height:c.floating.height}:c.reference,B=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),G=await(l.isElement==null?void 0:l.isElement(B))?await(l.getScale==null?void 0:l.getScale(B))||{x:1,y:1}:{x:1,y:1},$=Sh(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:U,offsetParent:B,strategy:m}):U);return{top:(V.top-$.top+R.top)/G.y,bottom:($.bottom-V.bottom+R.bottom)/G.y,left:(V.left-$.left+R.left)/G.x,right:($.right-V.right+R.right)/G.x}}const TP=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:a,rects:l,platform:c,elements:f,middlewareData:m}=e,{element:g,padding:v=0}=rs(n,e)||{};if(g==null)return{};const b=aA(v),E={x:t,y:i},C=qv(a),R=Hv(C),A=await c.getDimensions(g),N=C==="y",V=N?"top":"left",U=N?"bottom":"right",B=N?"clientHeight":"clientWidth",G=l.reference[R]+l.reference[C]-E[C]-l.floating[R],$=E[C]-l.reference[C],ne=await(c.getOffsetParent==null?void 0:c.getOffsetParent(g));let k=ne?ne[B]:0;(!k||!await(c.isElement==null?void 0:c.isElement(ne)))&&(k=f.floating[B]||l.floating[R]);const S=G/2-$/2,M=k/2-A[R]/2-1,L=la(b[V],M),D=la(b[U],M),P=L,j=k-A[R]-D,q=k/2-A[R]/2+S,ee=Ey(P,q,j),F=!m.arrow&&Kl(a)!=null&&q!==ee&&l.reference[R]/2-(q<P?L:D)-A[R]/2<0,Q=F?q<P?q-P:q-j:0;return{[C]:E[C]+Q,data:{[C]:ee,centerOffset:q-ee-Q,...F&&{alignmentOffset:Q}},reset:F}}}),SP=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:a,middlewareData:l,rects:c,initialPlacement:f,platform:m,elements:g}=e,{mainAxis:v=!0,crossAxis:b=!0,fallbackPlacements:E,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:A=!0,...N}=rs(n,e);if((t=l.arrow)!=null&&t.alignmentOffset)return{};const V=is(a),U=Qi(f),B=is(f)===f,G=await(m.isRTL==null?void 0:m.isRTL(g.floating)),$=E||(B||!A?[Th(f)]:_P(f)),ne=R!=="none";!E&&ne&&$.push(...EP(f,A,R,G));const k=[f,...$],S=await Oc(e,N),M=[];let L=((i=l.flip)==null?void 0:i.overflows)||[];if(v&&M.push(S[V]),b){const ee=vP(a,c,G);M.push(S[ee[0]],S[ee[1]])}if(L=[...L,{placement:a,overflows:M}],!M.every(ee=>ee<=0)){var D,P;const ee=(((D=l.flip)==null?void 0:D.index)||0)+1,F=k[ee];if(F){var j;const Y=b==="alignment"?U!==Qi(F):!1,me=((j=L[0])==null?void 0:j.overflows[0])>0;if(!Y||me)return{data:{index:ee,overflows:L},reset:{placement:F}}}let Q=(P=L.filter(Y=>Y.overflows[0]<=0).sort((Y,me)=>Y.overflows[1]-me.overflows[1])[0])==null?void 0:P.placement;if(!Q)switch(C){case"bestFit":{var q;const Y=(q=L.filter(me=>{if(ne){const z=Qi(me.placement);return z===U||z==="y"}return!0}).map(me=>[me.placement,me.overflows.filter(z=>z>0).reduce((z,ie)=>z+ie,0)]).sort((me,z)=>me[1]-z[1])[0])==null?void 0:q[0];Y&&(Q=Y);break}case"initialPlacement":Q=f;break}if(a!==Q)return{reset:{placement:Q}}}return{}}}};function ww(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Tw(n){return pP.some(e=>n[e]>=0)}const AP=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...a}=rs(n,e);switch(i){case"referenceHidden":{const l=await Oc(e,{...a,elementContext:"reference"}),c=ww(l,t.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Tw(c)}}}case"escaped":{const l=await Oc(e,{...a,altBoundary:!0}),c=ww(l,t.floating);return{data:{escapedOffsets:c,escaped:Tw(c)}}}default:return{}}}}};async function CP(n,e){const{placement:t,platform:i,elements:a}=n,l=await(i.isRTL==null?void 0:i.isRTL(a.floating)),c=is(t),f=Kl(t),m=Qi(t)==="y",g=["left","top"].includes(c)?-1:1,v=l&&m?-1:1,b=rs(e,n);let{mainAxis:E,crossAxis:C,alignmentAxis:R}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return f&&typeof R=="number"&&(C=f==="end"?R*-1:R),m?{x:C*v,y:E*g}:{x:E*g,y:C*v}}const RP=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:a,y:l,placement:c,middlewareData:f}=e,m=await CP(e,n);return c===((t=f.offset)==null?void 0:t.placement)&&(i=f.arrow)!=null&&i.alignmentOffset?{}:{x:a+m.x,y:l+m.y,data:{...m,placement:c}}}}},IP=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:a}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:f={fn:N=>{let{x:V,y:U}=N;return{x:V,y:U}}},...m}=rs(n,e),g={x:t,y:i},v=await Oc(e,m),b=Qi(is(a)),E=Fv(b);let C=g[E],R=g[b];if(l){const N=E==="y"?"top":"left",V=E==="y"?"bottom":"right",U=C+v[N],B=C-v[V];C=Ey(U,C,B)}if(c){const N=b==="y"?"top":"left",V=b==="y"?"bottom":"right",U=R+v[N],B=R-v[V];R=Ey(U,R,B)}const A=f.fn({...e,[E]:C,[b]:R});return{...A,data:{x:A.x-t,y:A.y-i,enabled:{[E]:l,[b]:c}}}}}},NP=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:a,rects:l,middlewareData:c}=e,{offset:f=0,mainAxis:m=!0,crossAxis:g=!0}=rs(n,e),v={x:t,y:i},b=Qi(a),E=Fv(b);let C=v[E],R=v[b];const A=rs(f,e),N=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(m){const B=E==="y"?"height":"width",G=l.reference[E]-l.floating[B]+N.mainAxis,$=l.reference[E]+l.reference[B]-N.mainAxis;C<G?C=G:C>$&&(C=$)}if(g){var V,U;const B=E==="y"?"width":"height",G=["top","left"].includes(is(a)),$=l.reference[b]-l.floating[B]+(G&&((V=c.offset)==null?void 0:V[b])||0)+(G?0:N.crossAxis),ne=l.reference[b]+l.reference[B]+(G?0:((U=c.offset)==null?void 0:U[b])||0)-(G?N.crossAxis:0);R<$?R=$:R>ne&&(R=ne)}return{[E]:C,[b]:R}}}},DP=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:a,rects:l,platform:c,elements:f}=e,{apply:m=()=>{},...g}=rs(n,e),v=await Oc(e,g),b=is(a),E=Kl(a),C=Qi(a)==="y",{width:R,height:A}=l.floating;let N,V;b==="top"||b==="bottom"?(N=b,V=E===(await(c.isRTL==null?void 0:c.isRTL(f.floating))?"start":"end")?"left":"right"):(V=b,N=E==="end"?"top":"bottom");const U=A-v.top-v.bottom,B=R-v.left-v.right,G=la(A-v[N],U),$=la(R-v[V],B),ne=!e.middlewareData.shift;let k=G,S=$;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(S=B),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(k=U),ne&&!E){const L=ir(v.left,0),D=ir(v.right,0),P=ir(v.top,0),j=ir(v.bottom,0);C?S=R-2*(L!==0||D!==0?L+D:ir(v.left,v.right)):k=A-2*(P!==0||j!==0?P+j:ir(v.top,v.bottom))}await m({...e,availableWidth:S,availableHeight:k});const M=await c.getDimensions(f.floating);return R!==M.width||A!==M.height?{reset:{rects:!0}}:{}}}};function rm(){return typeof window<"u"}function Ql(n){return oA(n)?(n.nodeName||"").toLowerCase():"#document"}function or(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function hi(n){var e;return(e=(oA(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function oA(n){return rm()?n instanceof Node||n instanceof or(n).Node:!1}function Pr(n){return rm()?n instanceof Element||n instanceof or(n).Element:!1}function di(n){return rm()?n instanceof HTMLElement||n instanceof or(n).HTMLElement:!1}function Sw(n){return!rm()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof or(n).ShadowRoot}function Xc(n){const{overflow:e,overflowX:t,overflowY:i,display:a}=Vr(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(a)}function kP(n){return["table","td","th"].includes(Ql(n))}function im(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Gv(n){const e=$v(),t=Pr(n)?Vr(n):n;return["transform","translate","scale","rotate","perspective"].some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function OP(n){let e=ua(n);for(;di(e)&&!Ml(e);){if(Gv(e))return e;if(im(e))return null;e=ua(e)}return null}function $v(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ml(n){return["html","body","#document"].includes(Ql(n))}function Vr(n){return or(n).getComputedStyle(n)}function sm(n){return Pr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ua(n){if(Ql(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Sw(n)&&n.host||hi(n);return Sw(e)?e.host:e}function lA(n){const e=ua(n);return Ml(e)?n.ownerDocument?n.ownerDocument.body:n.body:di(e)&&Xc(e)?e:lA(e)}function Mc(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=lA(n),l=a===((i=n.ownerDocument)==null?void 0:i.body),c=or(a);if(l){const f=wy(c);return e.concat(c,c.visualViewport||[],Xc(a)?a:[],f&&t?Mc(f):[])}return e.concat(a,Mc(a,[],t))}function wy(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function uA(n){const e=Vr(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const a=di(n),l=a?n.offsetWidth:t,c=a?n.offsetHeight:i,f=wh(t)!==l||wh(i)!==c;return f&&(t=l,i=c),{width:t,height:i,$:f}}function Yv(n){return Pr(n)?n:n.contextElement}function pl(n){const e=Yv(n);if(!di(e))return ui(1);const t=e.getBoundingClientRect(),{width:i,height:a,$:l}=uA(e);let c=(l?wh(t.width):t.width)/i,f=(l?wh(t.height):t.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!f||!Number.isFinite(f))&&(f=1),{x:c,y:f}}const MP=ui(0);function cA(n){const e=or(n);return!$v()||!e.visualViewport?MP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function jP(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==or(n)?!1:e}function io(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),l=Yv(n);let c=ui(1);e&&(i?Pr(i)&&(c=pl(i)):c=pl(n));const f=jP(l,t,i)?cA(l):ui(0);let m=(a.left+f.x)/c.x,g=(a.top+f.y)/c.y,v=a.width/c.x,b=a.height/c.y;if(l){const E=or(l),C=i&&Pr(i)?or(i):i;let R=E,A=wy(R);for(;A&&i&&C!==R;){const N=pl(A),V=A.getBoundingClientRect(),U=Vr(A),B=V.left+(A.clientLeft+parseFloat(U.paddingLeft))*N.x,G=V.top+(A.clientTop+parseFloat(U.paddingTop))*N.y;m*=N.x,g*=N.y,v*=N.x,b*=N.y,m+=B,g+=G,R=or(A),A=wy(R)}}return Sh({width:v,height:b,x:m,y:g})}function Kv(n,e){const t=sm(n).scrollLeft;return e?e.left+t:io(hi(n)).left+t}function dA(n,e,t){t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=i.left+e.scrollLeft-(t?0:Kv(n,i)),l=i.top+e.scrollTop;return{x:a,y:l}}function PP(n){let{elements:e,rect:t,offsetParent:i,strategy:a}=n;const l=a==="fixed",c=hi(i),f=e?im(e.floating):!1;if(i===c||f&&l)return t;let m={scrollLeft:0,scrollTop:0},g=ui(1);const v=ui(0),b=di(i);if((b||!b&&!l)&&((Ql(i)!=="body"||Xc(c))&&(m=sm(i)),di(i))){const C=io(i);g=pl(i),v.x=C.x+i.clientLeft,v.y=C.y+i.clientTop}const E=c&&!b&&!l?dA(c,m,!0):ui(0);return{width:t.width*g.x,height:t.height*g.y,x:t.x*g.x-m.scrollLeft*g.x+v.x+E.x,y:t.y*g.y-m.scrollTop*g.y+v.y+E.y}}function VP(n){return Array.from(n.getClientRects())}function LP(n){const e=hi(n),t=sm(n),i=n.ownerDocument.body,a=ir(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),l=ir(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let c=-t.scrollLeft+Kv(n);const f=-t.scrollTop;return Vr(i).direction==="rtl"&&(c+=ir(e.clientWidth,i.clientWidth)-a),{width:a,height:l,x:c,y:f}}function UP(n,e){const t=or(n),i=hi(n),a=t.visualViewport;let l=i.clientWidth,c=i.clientHeight,f=0,m=0;if(a){l=a.width,c=a.height;const g=$v();(!g||g&&e==="fixed")&&(f=a.offsetLeft,m=a.offsetTop)}return{width:l,height:c,x:f,y:m}}function BP(n,e){const t=io(n,!0,e==="fixed"),i=t.top+n.clientTop,a=t.left+n.clientLeft,l=di(n)?pl(n):ui(1),c=n.clientWidth*l.x,f=n.clientHeight*l.y,m=a*l.x,g=i*l.y;return{width:c,height:f,x:m,y:g}}function Aw(n,e,t){let i;if(e==="viewport")i=UP(n,t);else if(e==="document")i=LP(hi(n));else if(Pr(e))i=BP(e,t);else{const a=cA(n);i={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Sh(i)}function fA(n,e){const t=ua(n);return t===e||!Pr(t)||Ml(t)?!1:Vr(t).position==="fixed"||fA(t,e)}function zP(n,e){const t=e.get(n);if(t)return t;let i=Mc(n,[],!1).filter(f=>Pr(f)&&Ql(f)!=="body"),a=null;const l=Vr(n).position==="fixed";let c=l?ua(n):n;for(;Pr(c)&&!Ml(c);){const f=Vr(c),m=Gv(c);!m&&f.position==="fixed"&&(a=null),(l?!m&&!a:!m&&f.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Xc(c)&&!m&&fA(n,c))?i=i.filter(v=>v!==c):a=f,c=ua(c)}return e.set(n,i),i}function FP(n){let{element:e,boundary:t,rootBoundary:i,strategy:a}=n;const c=[...t==="clippingAncestors"?im(e)?[]:zP(e,this._c):[].concat(t),i],f=c[0],m=c.reduce((g,v)=>{const b=Aw(e,v,a);return g.top=ir(b.top,g.top),g.right=la(b.right,g.right),g.bottom=la(b.bottom,g.bottom),g.left=ir(b.left,g.left),g},Aw(e,f,a));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function HP(n){const{width:e,height:t}=uA(n);return{width:e,height:t}}function qP(n,e,t){const i=di(e),a=hi(e),l=t==="fixed",c=io(n,!0,l,e);let f={scrollLeft:0,scrollTop:0};const m=ui(0);function g(){m.x=Kv(a)}if(i||!i&&!l)if((Ql(e)!=="body"||Xc(a))&&(f=sm(e)),i){const C=io(e,!0,l,e);m.x=C.x+e.clientLeft,m.y=C.y+e.clientTop}else a&&g();l&&!i&&a&&g();const v=a&&!i&&!l?dA(a,f):ui(0),b=c.left+f.scrollLeft-m.x-v.x,E=c.top+f.scrollTop-m.y-v.y;return{x:b,y:E,width:c.width,height:c.height}}function Og(n){return Vr(n).position==="static"}function Cw(n,e){if(!di(n)||Vr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return hi(n)===t&&(t=t.ownerDocument.body),t}function hA(n,e){const t=or(n);if(im(n))return t;if(!di(n)){let a=ua(n);for(;a&&!Ml(a);){if(Pr(a)&&!Og(a))return a;a=ua(a)}return t}let i=Cw(n,e);for(;i&&kP(i)&&Og(i);)i=Cw(i,e);return i&&Ml(i)&&Og(i)&&!Gv(i)?t:i||OP(n)||t}const GP=async function(n){const e=this.getOffsetParent||hA,t=this.getDimensions,i=await t(n.floating);return{reference:qP(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function $P(n){return Vr(n).direction==="rtl"}const YP={convertOffsetParentRelativeRectToViewportRelativeRect:PP,getDocumentElement:hi,getClippingRect:FP,getOffsetParent:hA,getElementRects:GP,getClientRects:VP,getDimensions:HP,getScale:pl,isElement:Pr,isRTL:$P};function mA(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function KP(n,e){let t=null,i;const a=hi(n);function l(){var f;clearTimeout(i),(f=t)==null||f.disconnect(),t=null}function c(f,m){f===void 0&&(f=!1),m===void 0&&(m=1),l();const g=n.getBoundingClientRect(),{left:v,top:b,width:E,height:C}=g;if(f||e(),!E||!C)return;const R=kf(b),A=kf(a.clientWidth-(v+E)),N=kf(a.clientHeight-(b+C)),V=kf(v),B={rootMargin:-R+"px "+-A+"px "+-N+"px "+-V+"px",threshold:ir(0,la(1,m))||1};let G=!0;function $(ne){const k=ne[0].intersectionRatio;if(k!==m){if(!G)return c();k?c(!1,k):i=setTimeout(()=>{c(!1,1e-7)},1e3)}k===1&&!mA(g,n.getBoundingClientRect())&&c(),G=!1}try{t=new IntersectionObserver($,{...B,root:a.ownerDocument})}catch{t=new IntersectionObserver($,B)}t.observe(n)}return c(!0),l}function QP(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:m=!1}=i,g=Yv(n),v=a||l?[...g?Mc(g):[],...Mc(e)]:[];v.forEach(V=>{a&&V.addEventListener("scroll",t,{passive:!0}),l&&V.addEventListener("resize",t)});const b=g&&f?KP(g,t):null;let E=-1,C=null;c&&(C=new ResizeObserver(V=>{let[U]=V;U&&U.target===g&&C&&(C.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var B;(B=C)==null||B.observe(e)})),t()}),g&&!m&&C.observe(g),C.observe(e));let R,A=m?io(n):null;m&&N();function N(){const V=io(n);A&&!mA(A,V)&&t(),A=V,R=requestAnimationFrame(N)}return t(),()=>{var V;v.forEach(U=>{a&&U.removeEventListener("scroll",t),l&&U.removeEventListener("resize",t)}),b==null||b(),(V=C)==null||V.disconnect(),C=null,m&&cancelAnimationFrame(R)}}const WP=RP,XP=IP,ZP=SP,JP=DP,e8=AP,Rw=TP,t8=NP,n8=(n,e,t)=>{const i=new Map,a={platform:YP,...t},l={...a.platform,_c:i};return wP(n,e,{...a,platform:l})};var Xf=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Ah(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!Ah(n[i],e[i]))return!1;return!0}if(a=Object.keys(n),t=a.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,a[i]))return!1;for(i=t;i--!==0;){const l=a[i];if(!(l==="_owner"&&n.$$typeof)&&!Ah(n[l],e[l]))return!1}return!0}return n!==n&&e!==e}function pA(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Iw(n,e){const t=pA(n);return Math.round(e*t)/t}function Mg(n){const e=w.useRef(n);return Xf(()=>{e.current=n}),e}function r8(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:a,elements:{reference:l,floating:c}={},transform:f=!0,whileElementsMounted:m,open:g}=n,[v,b]=w.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[E,C]=w.useState(i);Ah(E,i)||C(i);const[R,A]=w.useState(null),[N,V]=w.useState(null),U=w.useCallback(Y=>{Y!==ne.current&&(ne.current=Y,A(Y))},[]),B=w.useCallback(Y=>{Y!==k.current&&(k.current=Y,V(Y))},[]),G=l||R,$=c||N,ne=w.useRef(null),k=w.useRef(null),S=w.useRef(v),M=m!=null,L=Mg(m),D=Mg(a),P=Mg(g),j=w.useCallback(()=>{if(!ne.current||!k.current)return;const Y={placement:e,strategy:t,middleware:E};D.current&&(Y.platform=D.current),n8(ne.current,k.current,Y).then(me=>{const z={...me,isPositioned:P.current!==!1};q.current&&!Ah(S.current,z)&&(S.current=z,Vc.flushSync(()=>{b(z)}))})},[E,e,t,D,P]);Xf(()=>{g===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,b(Y=>({...Y,isPositioned:!1})))},[g]);const q=w.useRef(!1);Xf(()=>(q.current=!0,()=>{q.current=!1}),[]),Xf(()=>{if(G&&(ne.current=G),$&&(k.current=$),G&&$){if(L.current)return L.current(G,$,j);j()}},[G,$,j,L,M]);const ee=w.useMemo(()=>({reference:ne,floating:k,setReference:U,setFloating:B}),[U,B]),F=w.useMemo(()=>({reference:G,floating:$}),[G,$]),Q=w.useMemo(()=>{const Y={position:t,left:0,top:0};if(!F.floating)return Y;const me=Iw(F.floating,v.x),z=Iw(F.floating,v.y);return f?{...Y,transform:"translate("+me+"px, "+z+"px)",...pA(F.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:me,top:z}},[t,f,F.floating,v.x,v.y]);return w.useMemo(()=>({...v,update:j,refs:ee,elements:F,floatingStyles:Q}),[v,j,ee,F,Q])}const i8=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:a}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?Rw({element:i.current,padding:a}).fn(t):{}:i?Rw({element:i,padding:a}).fn(t):{}}}},s8=(n,e)=>({...WP(n),options:[n,e]}),a8=(n,e)=>({...XP(n),options:[n,e]}),o8=(n,e)=>({...t8(n),options:[n,e]}),l8=(n,e)=>({...ZP(n),options:[n,e]}),u8=(n,e)=>({...JP(n),options:[n,e]}),c8=(n,e)=>({...e8(n),options:[n,e]}),d8=(n,e)=>({...i8(n),options:[n,e]});var f8="Arrow",gA=w.forwardRef((n,e)=>{const{children:t,width:i=10,height:a=5,...l}=n;return p.jsx(Et.svg,{...l,ref:e,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});gA.displayName=f8;var h8=gA;function yA(n){const[e,t]=w.useState(void 0);return On(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let c,f;if("borderBoxSize"in l){const m=l.borderBoxSize,g=Array.isArray(m)?m[0]:m;c=g.inlineSize,f=g.blockSize}else c=n.offsetWidth,f=n.offsetHeight;t({width:c,height:f})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var Qv="Popper",[vA,_A]=Wc(Qv),[m8,bA]=vA(Qv),EA=n=>{const{__scopePopper:e,children:t}=n,[i,a]=w.useState(null);return p.jsx(m8,{scope:e,anchor:i,onAnchorChange:a,children:t})};EA.displayName=Qv;var xA="PopperAnchor",wA=w.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...a}=n,l=bA(xA,t),c=w.useRef(null),f=zt(e,c);return w.useEffect(()=>{l.onAnchorChange((i==null?void 0:i.current)||c.current)}),i?null:p.jsx(Et.div,{...a,ref:f})});wA.displayName=xA;var Wv="PopperContent",[p8,g8]=vA(Wv),TA=w.forwardRef((n,e)=>{var ge,Se,He,Ne,De,Ve;const{__scopePopper:t,side:i="bottom",sideOffset:a=0,align:l="center",alignOffset:c=0,arrowPadding:f=0,avoidCollisions:m=!0,collisionBoundary:g=[],collisionPadding:v=0,sticky:b="partial",hideWhenDetached:E=!1,updatePositionStrategy:C="optimized",onPlaced:R,...A}=n,N=bA(Wv,t),[V,U]=w.useState(null),B=zt(e,se=>U(se)),[G,$]=w.useState(null),ne=yA(G),k=(ne==null?void 0:ne.width)??0,S=(ne==null?void 0:ne.height)??0,M=i+(l!=="center"?"-"+l:""),L=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},D=Array.isArray(g)?g:[g],P=D.length>0,j={padding:L,boundary:D.filter(v8),altBoundary:P},{refs:q,floatingStyles:ee,placement:F,isPositioned:Q,middlewareData:Y}=r8({strategy:"fixed",placement:M,whileElementsMounted:(...se)=>QP(...se,{animationFrame:C==="always"}),elements:{reference:N.anchor},middleware:[s8({mainAxis:a+S,alignmentAxis:c}),m&&a8({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?o8():void 0,...j}),m&&l8({...j}),u8({...j,apply:({elements:se,rects:ve,availableWidth:ke,availableHeight:Ue})=>{const{width:We,height:Bn}=ve.reference,Mn=se.floating.style;Mn.setProperty("--radix-popper-available-width",`${ke}px`),Mn.setProperty("--radix-popper-available-height",`${Ue}px`),Mn.setProperty("--radix-popper-anchor-width",`${We}px`),Mn.setProperty("--radix-popper-anchor-height",`${Bn}px`)}}),G&&d8({element:G,padding:f}),_8({arrowWidth:k,arrowHeight:S}),E&&c8({strategy:"referenceHidden",...j})]}),[me,z]=CA(F),ie=ro(R);On(()=>{Q&&(ie==null||ie())},[Q,ie]);const he=(ge=Y.arrow)==null?void 0:ge.x,oe=(Se=Y.arrow)==null?void 0:Se.y,pe=((He=Y.arrow)==null?void 0:He.centerOffset)!==0,[Ae,Ee]=w.useState();return On(()=>{V&&Ee(window.getComputedStyle(V).zIndex)},[V]),p.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:Q?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ae,"--radix-popper-transform-origin":[(Ne=Y.transformOrigin)==null?void 0:Ne.x,(De=Y.transformOrigin)==null?void 0:De.y].join(" "),...((Ve=Y.hide)==null?void 0:Ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:p.jsx(p8,{scope:t,placedSide:me,onArrowChange:$,arrowX:he,arrowY:oe,shouldHideArrow:pe,children:p.jsx(Et.div,{"data-side":me,"data-align":z,...A,ref:B,style:{...A.style,animation:Q?void 0:"none"}})})})});TA.displayName=Wv;var SA="PopperArrow",y8={top:"bottom",right:"left",bottom:"top",left:"right"},AA=w.forwardRef(function(e,t){const{__scopePopper:i,...a}=e,l=g8(SA,i),c=y8[l.placedSide];return p.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:p.jsx(h8,{...a,ref:t,style:{...a.style,display:"block"}})})});AA.displayName=SA;function v8(n){return n!==null}var _8=n=>({name:"transformOrigin",options:n,fn(e){var N,V,U;const{placement:t,rects:i,middlewareData:a}=e,c=((N=a.arrow)==null?void 0:N.centerOffset)!==0,f=c?0:n.arrowWidth,m=c?0:n.arrowHeight,[g,v]=CA(t),b={start:"0%",center:"50%",end:"100%"}[v],E=(((V=a.arrow)==null?void 0:V.x)??0)+f/2,C=(((U=a.arrow)==null?void 0:U.y)??0)+m/2;let R="",A="";return g==="bottom"?(R=c?b:`${E}px`,A=`${-m}px`):g==="top"?(R=c?b:`${E}px`,A=`${i.floating.height+m}px`):g==="right"?(R=`${-m}px`,A=c?b:`${C}px`):g==="left"&&(R=`${i.floating.width+m}px`,A=c?b:`${C}px`),{data:{x:R,y:A}}}});function CA(n){const[e,t="center"]=n.split("-");return[e,t]}var b8=EA,E8=wA,x8=TA,w8=AA,T8="Portal",RA=w.forwardRef((n,e)=>{var f;const{container:t,...i}=n,[a,l]=w.useState(!1);On(()=>l(!0),[]);const c=t||a&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return c?RI.createPortal(p.jsx(Et.div,{...i,ref:e}),c):null});RA.displayName=T8;var S8=Lw[" useInsertionEffect ".trim().toString()]||On;function Ty({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[a,l,c]=A8({defaultProp:e,onChange:t}),f=n!==void 0,m=f?n:a;{const v=w.useRef(n!==void 0);w.useEffect(()=>{const b=v.current;b!==f&&console.warn(`${i} is changing from ${b?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=f},[f,i])}const g=w.useCallback(v=>{var b;if(f){const E=C8(v)?v(n):v;E!==n&&((b=c.current)==null||b.call(c,E))}else l(v)},[f,n,l,c]);return[m,g]}function A8({defaultProp:n,onChange:e}){const[t,i]=w.useState(n),a=w.useRef(t),l=w.useRef(e);return S8(()=>{l.current=e},[e]),w.useEffect(()=>{var c;a.current!==t&&((c=l.current)==null||c.call(l,t),a.current=t)},[t,a]),[t,i,l]}function C8(n){return typeof n=="function"}function IA(n){const e=w.useRef({value:n,previous:n});return w.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var NA=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),R8="VisuallyHidden",I8=w.forwardRef((n,e)=>p.jsx(Et.span,{...n,ref:e,style:{...NA,...n.style}}));I8.displayName=R8;var N8=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},rl=new WeakMap,Of=new WeakMap,Mf={},jg=0,DA=function(n){return n&&(n.host||DA(n.parentNode))},D8=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=DA(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},k8=function(n,e,t,i){var a=D8(e,Array.isArray(n)?n:[n]);Mf[t]||(Mf[t]=new WeakMap);var l=Mf[t],c=[],f=new Set,m=new Set(a),g=function(b){!b||f.has(b)||(f.add(b),g(b.parentNode))};a.forEach(g);var v=function(b){!b||m.has(b)||Array.prototype.forEach.call(b.children,function(E){if(f.has(E))v(E);else try{var C=E.getAttribute(i),R=C!==null&&C!=="false",A=(rl.get(E)||0)+1,N=(l.get(E)||0)+1;rl.set(E,A),l.set(E,N),c.push(E),A===1&&R&&Of.set(E,!0),N===1&&E.setAttribute(t,"true"),R||E.setAttribute(i,"true")}catch(V){console.error("aria-hidden: cannot operate on ",E,V)}})};return v(e),f.clear(),jg++,function(){c.forEach(function(b){var E=rl.get(b)-1,C=l.get(b)-1;rl.set(b,E),l.set(b,C),E||(Of.has(b)||b.removeAttribute(i),Of.delete(b)),C||b.removeAttribute(t)}),jg--,jg||(rl=new WeakMap,rl=new WeakMap,Of=new WeakMap,Mf={})}},O8=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),a=N8(n);return a?(i.push.apply(i,Array.from(a.querySelectorAll("[aria-live]"))),k8(i,a,t,"aria-hidden")):function(){return null}},Zf="right-scroll-bar-position",Jf="width-before-scroll-bar",M8="with-scroll-bars-hidden",j8="--removed-body-scroll-bar-size";function Pg(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function P8(n,e){var t=w.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var a=t.value;a!==i&&(t.value=i,t.callback(i,a))}}}})[0];return t.callback=e,t.facade}var V8=typeof window<"u"?w.useLayoutEffect:w.useEffect,Nw=new WeakMap;function L8(n,e){var t=P8(null,function(i){return n.forEach(function(a){return Pg(a,i)})});return V8(function(){var i=Nw.get(t);if(i){var a=new Set(i),l=new Set(n),c=t.current;a.forEach(function(f){l.has(f)||Pg(f,null)}),l.forEach(function(f){a.has(f)||Pg(f,c)})}Nw.set(t,n)},[n]),t}function U8(n){return n}function B8(n,e){e===void 0&&(e=U8);var t=[],i=!1,a={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(l){var c=e(l,i);return t.push(c),function(){t=t.filter(function(f){return f!==c})}},assignSyncMedium:function(l){for(i=!0;t.length;){var c=t;t=[],c.forEach(l)}t={push:function(f){return l(f)},filter:function(){return t}}},assignMedium:function(l){i=!0;var c=[];if(t.length){var f=t;t=[],f.forEach(l),c=t}var m=function(){var v=c;c=[],v.forEach(l)},g=function(){return Promise.resolve().then(m)};g(),t={push:function(v){c.push(v),g()},filter:function(v){return c=c.filter(v),t}}}};return a}function z8(n){n===void 0&&(n={});var e=B8(null);return e.options=ni({async:!0,ssr:!1},n),e}var kA=function(n){var e=n.sideCar,t=Bc(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return w.createElement(i,ni({},t))};kA.isSideCarExport=!0;function F8(n,e){return n.useMedium(e),kA}var OA=z8(),Vg=function(){},am=w.forwardRef(function(n,e){var t=w.useRef(null),i=w.useState({onScrollCapture:Vg,onWheelCapture:Vg,onTouchMoveCapture:Vg}),a=i[0],l=i[1],c=n.forwardProps,f=n.children,m=n.className,g=n.removeScrollBar,v=n.enabled,b=n.shards,E=n.sideCar,C=n.noIsolation,R=n.inert,A=n.allowPinchZoom,N=n.as,V=N===void 0?"div":N,U=n.gapMode,B=Bc(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),G=E,$=L8([t,e]),ne=ni(ni({},B),a);return w.createElement(w.Fragment,null,v&&w.createElement(G,{sideCar:OA,removeScrollBar:g,shards:b,noIsolation:C,inert:R,setCallbacks:l,allowPinchZoom:!!A,lockRef:t,gapMode:U}),c?w.cloneElement(w.Children.only(f),ni(ni({},ne),{ref:$})):w.createElement(V,ni({},ne,{className:m,ref:$}),f))});am.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};am.classNames={fullWidth:Jf,zeroRight:Zf};var H8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function q8(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=H8();return e&&n.setAttribute("nonce",e),n}function G8(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function $8(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var Y8=function(){var n=0,e=null;return{add:function(t){n==0&&(e=q8())&&(G8(e,t),$8(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},K8=function(){var n=Y8();return function(e,t){w.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},MA=function(){var n=K8(),e=function(t){var i=t.styles,a=t.dynamic;return n(i,a),null};return e},Q8={left:0,top:0,right:0,gap:0},Lg=function(n){return parseInt(n||"",10)||0},W8=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],a=e[n==="padding"?"paddingRight":"marginRight"];return[Lg(t),Lg(i),Lg(a)]},X8=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return Q8;var e=W8(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},Z8=MA(),gl="data-scroll-locked",J8=function(n,e,t,i){var a=n.left,l=n.top,c=n.right,f=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(M8,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(f,"px ").concat(i,`;
  }
  body[`).concat(gl,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(f,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Zf,` {
    right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(Jf,` {
    margin-right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(Zf," .").concat(Zf,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Jf," .").concat(Jf,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(gl,`] {
    `).concat(j8,": ").concat(f,`px;
  }
`)},Dw=function(){var n=parseInt(document.body.getAttribute(gl)||"0",10);return isFinite(n)?n:0},eV=function(){w.useEffect(function(){return document.body.setAttribute(gl,(Dw()+1).toString()),function(){var n=Dw()-1;n<=0?document.body.removeAttribute(gl):document.body.setAttribute(gl,n.toString())}},[])},tV=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,a=i===void 0?"margin":i;eV();var l=w.useMemo(function(){return X8(a)},[a]);return w.createElement(Z8,{styles:J8(l,!e,a,t?"":"!important")})},Sy=!1;if(typeof window<"u")try{var jf=Object.defineProperty({},"passive",{get:function(){return Sy=!0,!0}});window.addEventListener("test",jf,jf),window.removeEventListener("test",jf,jf)}catch{Sy=!1}var il=Sy?{passive:!1}:!1,nV=function(n){return n.tagName==="TEXTAREA"},jA=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!nV(n)&&t[e]==="visible")},rV=function(n){return jA(n,"overflowY")},iV=function(n){return jA(n,"overflowX")},kw=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var a=PA(n,i);if(a){var l=VA(n,i),c=l[1],f=l[2];if(c>f)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},sV=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},aV=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},PA=function(n,e){return n==="v"?rV(e):iV(e)},VA=function(n,e){return n==="v"?sV(e):aV(e)},oV=function(n,e){return n==="h"&&e==="rtl"?-1:1},lV=function(n,e,t,i,a){var l=oV(n,window.getComputedStyle(e).direction),c=l*i,f=t.target,m=e.contains(f),g=!1,v=c>0,b=0,E=0;do{var C=VA(n,f),R=C[0],A=C[1],N=C[2],V=A-N-l*R;(R||V)&&PA(n,f)&&(b+=V,E+=R),f instanceof ShadowRoot?f=f.host:f=f.parentNode}while(!m&&f!==document.body||m&&(e.contains(f)||e===f));return(v&&Math.abs(b)<1||!v&&Math.abs(E)<1)&&(g=!0),g},Pf=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Ow=function(n){return[n.deltaX,n.deltaY]},Mw=function(n){return n&&"current"in n?n.current:n},uV=function(n,e){return n[0]===e[0]&&n[1]===e[1]},cV=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},dV=0,sl=[];function fV(n){var e=w.useRef([]),t=w.useRef([0,0]),i=w.useRef(),a=w.useState(dV++)[0],l=w.useState(MA)[0],c=w.useRef(n);w.useEffect(function(){c.current=n},[n]),w.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(a));var A=e6([n.lockRef.current],(n.shards||[]).map(Mw),!0).filter(Boolean);return A.forEach(function(N){return N.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),A.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(a))})}}},[n.inert,n.lockRef.current,n.shards]);var f=w.useCallback(function(A,N){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!c.current.allowPinchZoom;var V=Pf(A),U=t.current,B="deltaX"in A?A.deltaX:U[0]-V[0],G="deltaY"in A?A.deltaY:U[1]-V[1],$,ne=A.target,k=Math.abs(B)>Math.abs(G)?"h":"v";if("touches"in A&&k==="h"&&ne.type==="range")return!1;var S=kw(k,ne);if(!S)return!0;if(S?$=k:($=k==="v"?"h":"v",S=kw(k,ne)),!S)return!1;if(!i.current&&"changedTouches"in A&&(B||G)&&(i.current=$),!$)return!0;var M=i.current||$;return lV(M,N,A,M==="h"?B:G)},[]),m=w.useCallback(function(A){var N=A;if(!(!sl.length||sl[sl.length-1]!==l)){var V="deltaY"in N?Ow(N):Pf(N),U=e.current.filter(function($){return $.name===N.type&&($.target===N.target||N.target===$.shadowParent)&&uV($.delta,V)})[0];if(U&&U.should){N.cancelable&&N.preventDefault();return}if(!U){var B=(c.current.shards||[]).map(Mw).filter(Boolean).filter(function($){return $.contains(N.target)}),G=B.length>0?f(N,B[0]):!c.current.noIsolation;G&&N.cancelable&&N.preventDefault()}}},[]),g=w.useCallback(function(A,N,V,U){var B={name:A,delta:N,target:V,should:U,shadowParent:hV(V)};e.current.push(B),setTimeout(function(){e.current=e.current.filter(function(G){return G!==B})},1)},[]),v=w.useCallback(function(A){t.current=Pf(A),i.current=void 0},[]),b=w.useCallback(function(A){g(A.type,Ow(A),A.target,f(A,n.lockRef.current))},[]),E=w.useCallback(function(A){g(A.type,Pf(A),A.target,f(A,n.lockRef.current))},[]);w.useEffect(function(){return sl.push(l),n.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:E}),document.addEventListener("wheel",m,il),document.addEventListener("touchmove",m,il),document.addEventListener("touchstart",v,il),function(){sl=sl.filter(function(A){return A!==l}),document.removeEventListener("wheel",m,il),document.removeEventListener("touchmove",m,il),document.removeEventListener("touchstart",v,il)}},[]);var C=n.removeScrollBar,R=n.inert;return w.createElement(w.Fragment,null,R?w.createElement(l,{styles:cV(a)}):null,C?w.createElement(tV,{gapMode:n.gapMode}):null)}function hV(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const mV=F8(OA,fV);var LA=w.forwardRef(function(n,e){return w.createElement(am,ni({},n,{ref:e,sideCar:mV}))});LA.classNames=am.classNames;var pV=[" ","Enter","ArrowUp","ArrowDown"],gV=[" ","Enter"],so="Select",[om,lm,yV]=Kj(so),[Wl,PL]=Wc(so,[yV,_A]),um=_A(),[vV,ha]=Wl(so),[_V,bV]=Wl(so),UA=n=>{const{__scopeSelect:e,children:t,open:i,defaultOpen:a,onOpenChange:l,value:c,defaultValue:f,onValueChange:m,dir:g,name:v,autoComplete:b,disabled:E,required:C,form:R}=n,A=um(e),[N,V]=w.useState(null),[U,B]=w.useState(null),[G,$]=w.useState(!1),ne=Wj(g),[k,S]=Ty({prop:i,defaultProp:a??!1,onChange:l,caller:so}),[M,L]=Ty({prop:c,defaultProp:f,onChange:m,caller:so}),D=w.useRef(null),P=N?R||!!N.closest("form"):!0,[j,q]=w.useState(new Set),ee=Array.from(j).map(F=>F.props.value).join(";");return p.jsx(b8,{...A,children:p.jsxs(vV,{required:C,scope:e,trigger:N,onTriggerChange:V,valueNode:U,onValueNodeChange:B,valueNodeHasChildren:G,onValueNodeHasChildrenChange:$,contentId:zv(),value:M,onValueChange:L,open:k,onOpenChange:S,dir:ne,triggerPointerDownPosRef:D,disabled:E,children:[p.jsx(om.Provider,{scope:e,children:p.jsx(_V,{scope:n.__scopeSelect,onNativeOptionAdd:w.useCallback(F=>{q(Q=>new Set(Q).add(F))},[]),onNativeOptionRemove:w.useCallback(F=>{q(Q=>{const Y=new Set(Q);return Y.delete(F),Y})},[]),children:t})}),P?p.jsxs(o2,{"aria-hidden":!0,required:C,tabIndex:-1,name:v,autoComplete:b,value:M,onChange:F=>L(F.target.value),disabled:E,form:R,children:[M===void 0?p.jsx("option",{value:""}):null,Array.from(j)]},ee):null]})})};UA.displayName=so;var BA="SelectTrigger",zA=w.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:i=!1,...a}=n,l=um(t),c=ha(BA,t),f=c.disabled||i,m=zt(e,c.onTriggerChange),g=lm(t),v=w.useRef("touch"),[b,E,C]=u2(A=>{const N=g().filter(B=>!B.disabled),V=N.find(B=>B.value===c.value),U=c2(N,A,V);U!==void 0&&c.onValueChange(U.value)}),R=A=>{f||(c.onOpenChange(!0),C()),A&&(c.triggerPointerDownPosRef.current={x:Math.round(A.pageX),y:Math.round(A.pageY)})};return p.jsx(E8,{asChild:!0,...l,children:p.jsx(Et.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":l2(c.value)?"":void 0,...a,ref:m,onClick:jt(a.onClick,A=>{A.currentTarget.focus(),v.current!=="mouse"&&R(A)}),onPointerDown:jt(a.onPointerDown,A=>{v.current=A.pointerType;const N=A.target;N.hasPointerCapture(A.pointerId)&&N.releasePointerCapture(A.pointerId),A.button===0&&A.ctrlKey===!1&&A.pointerType==="mouse"&&(R(A),A.preventDefault())}),onKeyDown:jt(a.onKeyDown,A=>{const N=b.current!=="";!(A.ctrlKey||A.altKey||A.metaKey)&&A.key.length===1&&E(A.key),!(N&&A.key===" ")&&pV.includes(A.key)&&(R(),A.preventDefault())})})})});zA.displayName=BA;var FA="SelectValue",HA=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:a,children:l,placeholder:c="",...f}=n,m=ha(FA,t),{onValueNodeHasChildrenChange:g}=m,v=l!==void 0,b=zt(e,m.onValueNodeChange);return On(()=>{g(v)},[g,v]),p.jsx(Et.span,{...f,ref:b,style:{pointerEvents:"none"},children:l2(m.value)?p.jsx(p.Fragment,{children:c}):l})});HA.displayName=FA;var EV="SelectIcon",qA=w.forwardRef((n,e)=>{const{__scopeSelect:t,children:i,...a}=n;return p.jsx(Et.span,{"aria-hidden":!0,...a,ref:e,children:i||"▼"})});qA.displayName=EV;var xV="SelectPortal",GA=n=>p.jsx(RA,{asChild:!0,...n});GA.displayName=xV;var ao="SelectContent",$A=w.forwardRef((n,e)=>{const t=ha(ao,n.__scopeSelect),[i,a]=w.useState();if(On(()=>{a(new DocumentFragment)},[]),!t.open){const l=i;return l?Vc.createPortal(p.jsx(YA,{scope:n.__scopeSelect,children:p.jsx(om.Slot,{scope:n.__scopeSelect,children:p.jsx("div",{children:n.children})})}),l):null}return p.jsx(KA,{...n,ref:e})});$A.displayName=ao;var Nr=10,[YA,ma]=Wl(ao),wV="SelectContentImpl",TV=wc("SelectContent.RemoveScroll"),KA=w.forwardRef((n,e)=>{const{__scopeSelect:t,position:i="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:c,side:f,sideOffset:m,align:g,alignOffset:v,arrowPadding:b,collisionBoundary:E,collisionPadding:C,sticky:R,hideWhenDetached:A,avoidCollisions:N,...V}=n,U=ha(ao,t),[B,G]=w.useState(null),[$,ne]=w.useState(null),k=zt(e,ge=>G(ge)),[S,M]=w.useState(null),[L,D]=w.useState(null),P=lm(t),[j,q]=w.useState(!1),ee=w.useRef(!1);w.useEffect(()=>{if(B)return O8(B)},[B]),sP();const F=w.useCallback(ge=>{const[Se,...He]=P().map(Ve=>Ve.ref.current),[Ne]=He.slice(-1),De=document.activeElement;for(const Ve of ge)if(Ve===De||(Ve==null||Ve.scrollIntoView({block:"nearest"}),Ve===Se&&$&&($.scrollTop=0),Ve===Ne&&$&&($.scrollTop=$.scrollHeight),Ve==null||Ve.focus(),document.activeElement!==De))return},[P,$]),Q=w.useCallback(()=>F([S,B]),[F,S,B]);w.useEffect(()=>{j&&Q()},[j,Q]);const{onOpenChange:Y,triggerPointerDownPosRef:me}=U;w.useEffect(()=>{if(B){let ge={x:0,y:0};const Se=Ne=>{var De,Ve;ge={x:Math.abs(Math.round(Ne.pageX)-(((De=me.current)==null?void 0:De.x)??0)),y:Math.abs(Math.round(Ne.pageY)-(((Ve=me.current)==null?void 0:Ve.y)??0))}},He=Ne=>{ge.x<=10&&ge.y<=10?Ne.preventDefault():B.contains(Ne.target)||Y(!1),document.removeEventListener("pointermove",Se),me.current=null};return me.current!==null&&(document.addEventListener("pointermove",Se),document.addEventListener("pointerup",He,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Se),document.removeEventListener("pointerup",He,{capture:!0})}}},[B,Y,me]),w.useEffect(()=>{const ge=()=>Y(!1);return window.addEventListener("blur",ge),window.addEventListener("resize",ge),()=>{window.removeEventListener("blur",ge),window.removeEventListener("resize",ge)}},[Y]);const[z,ie]=u2(ge=>{const Se=P().filter(De=>!De.disabled),He=Se.find(De=>De.ref.current===document.activeElement),Ne=c2(Se,ge,He);Ne&&setTimeout(()=>Ne.ref.current.focus())}),he=w.useCallback((ge,Se,He)=>{const Ne=!ee.current&&!He;(U.value!==void 0&&U.value===Se||Ne)&&(M(ge),Ne&&(ee.current=!0))},[U.value]),oe=w.useCallback(()=>B==null?void 0:B.focus(),[B]),pe=w.useCallback((ge,Se,He)=>{const Ne=!ee.current&&!He;(U.value!==void 0&&U.value===Se||Ne)&&D(ge)},[U.value]),Ae=i==="popper"?Ay:QA,Ee=Ae===Ay?{side:f,sideOffset:m,align:g,alignOffset:v,arrowPadding:b,collisionBoundary:E,collisionPadding:C,sticky:R,hideWhenDetached:A,avoidCollisions:N}:{};return p.jsx(YA,{scope:t,content:B,viewport:$,onViewportChange:ne,itemRefCallback:he,selectedItem:S,onItemLeave:oe,itemTextRefCallback:pe,focusSelectedItem:Q,selectedItemText:L,position:i,isPositioned:j,searchRef:z,children:p.jsx(LA,{as:TV,allowPinchZoom:!0,children:p.jsx(iA,{asChild:!0,trapped:U.open,onMountAutoFocus:ge=>{ge.preventDefault()},onUnmountAutoFocus:jt(a,ge=>{var Se;(Se=U.trigger)==null||Se.focus({preventScroll:!0}),ge.preventDefault()}),children:p.jsx(nA,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:ge=>ge.preventDefault(),onDismiss:()=>U.onOpenChange(!1),children:p.jsx(Ae,{role:"listbox",id:U.contentId,"data-state":U.open?"open":"closed",dir:U.dir,onContextMenu:ge=>ge.preventDefault(),...V,...Ee,onPlaced:()=>q(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...V.style},onKeyDown:jt(V.onKeyDown,ge=>{const Se=ge.ctrlKey||ge.altKey||ge.metaKey;if(ge.key==="Tab"&&ge.preventDefault(),!Se&&ge.key.length===1&&ie(ge.key),["ArrowUp","ArrowDown","Home","End"].includes(ge.key)){let Ne=P().filter(De=>!De.disabled).map(De=>De.ref.current);if(["ArrowUp","End"].includes(ge.key)&&(Ne=Ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(ge.key)){const De=ge.target,Ve=Ne.indexOf(De);Ne=Ne.slice(Ve+1)}setTimeout(()=>F(Ne)),ge.preventDefault()}})})})})})})});KA.displayName=wV;var SV="SelectItemAlignedPosition",QA=w.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:i,...a}=n,l=ha(ao,t),c=ma(ao,t),[f,m]=w.useState(null),[g,v]=w.useState(null),b=zt(e,k=>v(k)),E=lm(t),C=w.useRef(!1),R=w.useRef(!0),{viewport:A,selectedItem:N,selectedItemText:V,focusSelectedItem:U}=c,B=w.useCallback(()=>{if(l.trigger&&l.valueNode&&f&&g&&A&&N&&V){const k=l.trigger.getBoundingClientRect(),S=g.getBoundingClientRect(),M=l.valueNode.getBoundingClientRect(),L=V.getBoundingClientRect();if(l.dir!=="rtl"){const De=L.left-S.left,Ve=M.left-De,se=k.left-Ve,ve=k.width+se,ke=Math.max(ve,S.width),Ue=window.innerWidth-Nr,We=mw(Ve,[Nr,Math.max(Nr,Ue-ke)]);f.style.minWidth=ve+"px",f.style.left=We+"px"}else{const De=S.right-L.right,Ve=window.innerWidth-M.right-De,se=window.innerWidth-k.right-Ve,ve=k.width+se,ke=Math.max(ve,S.width),Ue=window.innerWidth-Nr,We=mw(Ve,[Nr,Math.max(Nr,Ue-ke)]);f.style.minWidth=ve+"px",f.style.right=We+"px"}const D=E(),P=window.innerHeight-Nr*2,j=A.scrollHeight,q=window.getComputedStyle(g),ee=parseInt(q.borderTopWidth,10),F=parseInt(q.paddingTop,10),Q=parseInt(q.borderBottomWidth,10),Y=parseInt(q.paddingBottom,10),me=ee+F+j+Y+Q,z=Math.min(N.offsetHeight*5,me),ie=window.getComputedStyle(A),he=parseInt(ie.paddingTop,10),oe=parseInt(ie.paddingBottom,10),pe=k.top+k.height/2-Nr,Ae=P-pe,Ee=N.offsetHeight/2,ge=N.offsetTop+Ee,Se=ee+F+ge,He=me-Se;if(Se<=pe){const De=D.length>0&&N===D[D.length-1].ref.current;f.style.bottom="0px";const Ve=g.clientHeight-A.offsetTop-A.offsetHeight,se=Math.max(Ae,Ee+(De?oe:0)+Ve+Q),ve=Se+se;f.style.height=ve+"px"}else{const De=D.length>0&&N===D[0].ref.current;f.style.top="0px";const se=Math.max(pe,ee+A.offsetTop+(De?he:0)+Ee)+He;f.style.height=se+"px",A.scrollTop=Se-pe+A.offsetTop}f.style.margin=`${Nr}px 0`,f.style.minHeight=z+"px",f.style.maxHeight=P+"px",i==null||i(),requestAnimationFrame(()=>C.current=!0)}},[E,l.trigger,l.valueNode,f,g,A,N,V,l.dir,i]);On(()=>B(),[B]);const[G,$]=w.useState();On(()=>{g&&$(window.getComputedStyle(g).zIndex)},[g]);const ne=w.useCallback(k=>{k&&R.current===!0&&(B(),U==null||U(),R.current=!1)},[B,U]);return p.jsx(CV,{scope:t,contentWrapper:f,shouldExpandOnScrollRef:C,onScrollButtonChange:ne,children:p.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:G},children:p.jsx(Et.div,{...a,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});QA.displayName=SV;var AV="SelectPopperPosition",Ay=w.forwardRef((n,e)=>{const{__scopeSelect:t,align:i="start",collisionPadding:a=Nr,...l}=n,c=um(t);return p.jsx(x8,{...c,...l,ref:e,align:i,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ay.displayName=AV;var[CV,Xv]=Wl(ao,{}),Cy="SelectViewport",WA=w.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:i,...a}=n,l=ma(Cy,t),c=Xv(Cy,t),f=zt(e,l.onViewportChange),m=w.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),p.jsx(om.Slot,{scope:t,children:p.jsx(Et.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:jt(a.onScroll,g=>{const v=g.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:E}=c;if(E!=null&&E.current&&b){const C=Math.abs(m.current-v.scrollTop);if(C>0){const R=window.innerHeight-Nr*2,A=parseFloat(b.style.minHeight),N=parseFloat(b.style.height),V=Math.max(A,N);if(V<R){const U=V+C,B=Math.min(R,U),G=U-B;b.style.height=B+"px",b.style.bottom==="0px"&&(v.scrollTop=G>0?G:0,b.style.justifyContent="flex-end")}}}m.current=v.scrollTop})})})]})});WA.displayName=Cy;var XA="SelectGroup",[RV,IV]=Wl(XA),NV=w.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,a=zv();return p.jsx(RV,{scope:t,id:a,children:p.jsx(Et.div,{role:"group","aria-labelledby":a,...i,ref:e})})});NV.displayName=XA;var ZA="SelectLabel",DV=w.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,a=IV(ZA,t);return p.jsx(Et.div,{id:a.id,...i,ref:e})});DV.displayName=ZA;var Ch="SelectItem",[kV,JA]=Wl(Ch),e2=w.forwardRef((n,e)=>{const{__scopeSelect:t,value:i,disabled:a=!1,textValue:l,...c}=n,f=ha(Ch,t),m=ma(Ch,t),g=f.value===i,[v,b]=w.useState(l??""),[E,C]=w.useState(!1),R=zt(e,U=>{var B;return(B=m.itemRefCallback)==null?void 0:B.call(m,U,i,a)}),A=zv(),N=w.useRef("touch"),V=()=>{a||(f.onValueChange(i),f.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(kV,{scope:t,value:i,disabled:a,textId:A,isSelected:g,onItemTextChange:w.useCallback(U=>{b(B=>B||((U==null?void 0:U.textContent)??"").trim())},[]),children:p.jsx(om.ItemSlot,{scope:t,value:i,disabled:a,textValue:v,children:p.jsx(Et.div,{role:"option","aria-labelledby":A,"data-highlighted":E?"":void 0,"aria-selected":g&&E,"data-state":g?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...c,ref:R,onFocus:jt(c.onFocus,()=>C(!0)),onBlur:jt(c.onBlur,()=>C(!1)),onClick:jt(c.onClick,()=>{N.current!=="mouse"&&V()}),onPointerUp:jt(c.onPointerUp,()=>{N.current==="mouse"&&V()}),onPointerDown:jt(c.onPointerDown,U=>{N.current=U.pointerType}),onPointerMove:jt(c.onPointerMove,U=>{var B;N.current=U.pointerType,a?(B=m.onItemLeave)==null||B.call(m):N.current==="mouse"&&U.currentTarget.focus({preventScroll:!0})}),onPointerLeave:jt(c.onPointerLeave,U=>{var B;U.currentTarget===document.activeElement&&((B=m.onItemLeave)==null||B.call(m))}),onKeyDown:jt(c.onKeyDown,U=>{var G;((G=m.searchRef)==null?void 0:G.current)!==""&&U.key===" "||(gV.includes(U.key)&&V(),U.key===" "&&U.preventDefault())})})})})});e2.displayName=Ch;var pc="SelectItemText",t2=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:a,...l}=n,c=ha(pc,t),f=ma(pc,t),m=JA(pc,t),g=bV(pc,t),[v,b]=w.useState(null),E=zt(e,V=>b(V),m.onItemTextChange,V=>{var U;return(U=f.itemTextRefCallback)==null?void 0:U.call(f,V,m.value,m.disabled)}),C=v==null?void 0:v.textContent,R=w.useMemo(()=>p.jsx("option",{value:m.value,disabled:m.disabled,children:C},m.value),[m.disabled,m.value,C]),{onNativeOptionAdd:A,onNativeOptionRemove:N}=g;return On(()=>(A(R),()=>N(R)),[A,N,R]),p.jsxs(p.Fragment,{children:[p.jsx(Et.span,{id:m.textId,...l,ref:E}),m.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Vc.createPortal(l.children,c.valueNode):null]})});t2.displayName=pc;var n2="SelectItemIndicator",r2=w.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return JA(n2,t).isSelected?p.jsx(Et.span,{"aria-hidden":!0,...i,ref:e}):null});r2.displayName=n2;var Ry="SelectScrollUpButton",i2=w.forwardRef((n,e)=>{const t=ma(Ry,n.__scopeSelect),i=Xv(Ry,n.__scopeSelect),[a,l]=w.useState(!1),c=zt(e,i.onScrollButtonChange);return On(()=>{if(t.viewport&&t.isPositioned){let f=function(){const g=m.scrollTop>0;l(g)};const m=t.viewport;return f(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[t.viewport,t.isPositioned]),a?p.jsx(a2,{...n,ref:c,onAutoScroll:()=>{const{viewport:f,selectedItem:m}=t;f&&m&&(f.scrollTop=f.scrollTop-m.offsetHeight)}}):null});i2.displayName=Ry;var Iy="SelectScrollDownButton",s2=w.forwardRef((n,e)=>{const t=ma(Iy,n.__scopeSelect),i=Xv(Iy,n.__scopeSelect),[a,l]=w.useState(!1),c=zt(e,i.onScrollButtonChange);return On(()=>{if(t.viewport&&t.isPositioned){let f=function(){const g=m.scrollHeight-m.clientHeight,v=Math.ceil(m.scrollTop)<g;l(v)};const m=t.viewport;return f(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[t.viewport,t.isPositioned]),a?p.jsx(a2,{...n,ref:c,onAutoScroll:()=>{const{viewport:f,selectedItem:m}=t;f&&m&&(f.scrollTop=f.scrollTop+m.offsetHeight)}}):null});s2.displayName=Iy;var a2=w.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:i,...a}=n,l=ma("SelectScrollButton",t),c=w.useRef(null),f=lm(t),m=w.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return w.useEffect(()=>()=>m(),[m]),On(()=>{var v;const g=f().find(b=>b.ref.current===document.activeElement);(v=g==null?void 0:g.ref.current)==null||v.scrollIntoView({block:"nearest"})},[f]),p.jsx(Et.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:jt(a.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(i,50))}),onPointerMove:jt(a.onPointerMove,()=>{var g;(g=l.onItemLeave)==null||g.call(l),c.current===null&&(c.current=window.setInterval(i,50))}),onPointerLeave:jt(a.onPointerLeave,()=>{m()})})}),OV="SelectSeparator",MV=w.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return p.jsx(Et.div,{"aria-hidden":!0,...i,ref:e})});MV.displayName=OV;var Ny="SelectArrow",jV=w.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,a=um(t),l=ha(Ny,t),c=ma(Ny,t);return l.open&&c.position==="popper"?p.jsx(w8,{...a,...i,ref:e}):null});jV.displayName=Ny;var PV="SelectBubbleInput",o2=w.forwardRef(({__scopeSelect:n,value:e,...t},i)=>{const a=w.useRef(null),l=zt(i,a),c=IA(e);return w.useEffect(()=>{const f=a.current;if(!f)return;const m=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(m,"value").set;if(c!==e&&v){const b=new Event("change",{bubbles:!0});v.call(f,e),f.dispatchEvent(b)}},[c,e]),p.jsx(Et.select,{...t,style:{...NA,...t.style},ref:l,defaultValue:e})});o2.displayName=PV;function l2(n){return n===""||n===void 0}function u2(n){const e=ro(n),t=w.useRef(""),i=w.useRef(0),a=w.useCallback(c=>{const f=t.current+c;e(f),function m(g){t.current=g,window.clearTimeout(i.current),g!==""&&(i.current=window.setTimeout(()=>m(""),1e3))}(f)},[e]),l=w.useCallback(()=>{t.current="",window.clearTimeout(i.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(i.current),[]),[t,a,l]}function c2(n,e,t){const a=e.length>1&&Array.from(e).every(g=>g===e[0])?e[0]:e,l=t?n.indexOf(t):-1;let c=VV(n,Math.max(l,0));a.length===1&&(c=c.filter(g=>g!==t));const m=c.find(g=>g.textValue.toLowerCase().startsWith(a.toLowerCase()));return m!==t?m:void 0}function VV(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var LV=UA,UV=zA,BV=HA,zV=qA,FV=GA,HV=$A,qV=WA,GV=e2,$V=t2,YV=r2,KV=i2,QV=s2;function Fi({...n}){return p.jsx(LV,{"data-slot":"select",...n})}function Hi({...n}){return p.jsx(BV,{"data-slot":"select-value",...n})}function qi({className:n,size:e="default",children:t,...i}){return p.jsxs(UV,{"data-slot":"select-trigger","data-size":e,className:Wt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...i,children:[t,p.jsx(zV,{asChild:!0,children:p.jsx(mT,{className:"size-4 opacity-50"})})]})}function Gi({className:n,children:e,position:t="popper",...i}){return p.jsx(FV,{children:p.jsxs(HV,{"data-slot":"select-content",className:Wt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...i,children:[p.jsx(WV,{}),p.jsx(qV,{className:Wt("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),p.jsx(XV,{})]})})}function In({className:n,children:e,...t}){return p.jsxs(GV,{"data-slot":"select-item",className:Wt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[p.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:p.jsx(YV,{children:p.jsx(Fy,{className:"size-4"})})}),p.jsx($V,{children:e})]})}function WV({className:n,...e}){return p.jsx(KV,{"data-slot":"select-scroll-up-button",className:Wt("flex cursor-default items-center justify-center py-1",n),...e,children:p.jsx(kN,{className:"size-4"})})}function XV({className:n,...e}){return p.jsx(QV,{"data-slot":"select-scroll-down-button",className:Wt("flex cursor-default items-center justify-center py-1",n),...e,children:p.jsx(mT,{className:"size-4"})})}function ZV({className:n,...e}){return p.jsx("textarea",{"data-slot":"textarea",className:Wt("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}function JV(n,e){return w.useReducer((t,i)=>e[t][i]??t,n)}var d2=n=>{const{present:e,children:t}=n,i=eL(e),a=typeof t=="function"?t({present:i.isPresent}):w.Children.only(t),l=zt(i.ref,tL(a));return typeof t=="function"||i.isPresent?w.cloneElement(a,{ref:l}):null};d2.displayName="Presence";function eL(n){const[e,t]=w.useState(),i=w.useRef(null),a=w.useRef(n),l=w.useRef("none"),c=n?"mounted":"unmounted",[f,m]=JV(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const g=Vf(i.current);l.current=f==="mounted"?g:"none"},[f]),On(()=>{const g=i.current,v=a.current;if(v!==n){const E=l.current,C=Vf(g);n?m("MOUNT"):C==="none"||(g==null?void 0:g.display)==="none"?m("UNMOUNT"):m(v&&E!==C?"ANIMATION_OUT":"UNMOUNT"),a.current=n}},[n,m]),On(()=>{if(e){let g;const v=e.ownerDocument.defaultView??window,b=C=>{const A=Vf(i.current).includes(C.animationName);if(C.target===e&&A&&(m("ANIMATION_END"),!a.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",g=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},E=C=>{C.target===e&&(l.current=Vf(i.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",b),e.addEventListener("animationend",b),()=>{v.clearTimeout(g),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",b),e.removeEventListener("animationend",b)}}else m("ANIMATION_END")},[e,m]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:w.useCallback(g=>{i.current=g?getComputedStyle(g):null,t(g)},[])}}function Vf(n){return(n==null?void 0:n.animationName)||"none"}function tL(n){var i,a;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var cm="Checkbox",[nL,VL]=Wc(cm),[rL,Zv]=nL(cm);function iL(n){const{__scopeCheckbox:e,checked:t,children:i,defaultChecked:a,disabled:l,form:c,name:f,onCheckedChange:m,required:g,value:v="on",internal_do_not_use_render:b}=n,[E,C]=Ty({prop:t,defaultProp:a??!1,onChange:m,caller:cm}),[R,A]=w.useState(null),[N,V]=w.useState(null),U=w.useRef(!1),B=R?!!c||!!R.closest("form"):!0,G={checked:E,disabled:l,setChecked:C,control:R,setControl:A,name:f,form:c,value:v,hasConsumerStoppedPropagationRef:U,required:g,defaultChecked:ta(a)?!1:a,isFormControl:B,bubbleInput:N,setBubbleInput:V};return p.jsx(rL,{scope:e,...G,children:sL(b)?b(G):i})}var f2="CheckboxTrigger",h2=w.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...i},a)=>{const{control:l,value:c,disabled:f,checked:m,required:g,setControl:v,setChecked:b,hasConsumerStoppedPropagationRef:E,isFormControl:C,bubbleInput:R}=Zv(f2,n),A=zt(a,v),N=w.useRef(m);return w.useEffect(()=>{const V=l==null?void 0:l.form;if(V){const U=()=>b(N.current);return V.addEventListener("reset",U),()=>V.removeEventListener("reset",U)}},[l,b]),p.jsx(Et.button,{type:"button",role:"checkbox","aria-checked":ta(m)?"mixed":m,"aria-required":g,"data-state":_2(m),"data-disabled":f?"":void 0,disabled:f,value:c,...i,ref:A,onKeyDown:jt(e,V=>{V.key==="Enter"&&V.preventDefault()}),onClick:jt(t,V=>{b(U=>ta(U)?!0:!U),R&&C&&(E.current=V.isPropagationStopped(),E.current||V.stopPropagation())})})});h2.displayName=f2;var m2=w.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:i,checked:a,defaultChecked:l,required:c,disabled:f,value:m,onCheckedChange:g,form:v,...b}=n;return p.jsx(iL,{__scopeCheckbox:t,checked:a,defaultChecked:l,disabled:f,required:c,onCheckedChange:g,name:i,form:v,value:m,internal_do_not_use_render:({isFormControl:E})=>p.jsxs(p.Fragment,{children:[p.jsx(h2,{...b,ref:e,__scopeCheckbox:t}),E&&p.jsx(v2,{__scopeCheckbox:t})]})})});m2.displayName=cm;var p2="CheckboxIndicator",g2=w.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:i,...a}=n,l=Zv(p2,t);return p.jsx(d2,{present:i||ta(l.checked)||l.checked===!0,children:p.jsx(Et.span,{"data-state":_2(l.checked),"data-disabled":l.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...n.style}})})});g2.displayName=p2;var y2="CheckboxBubbleInput",v2=w.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:i,hasConsumerStoppedPropagationRef:a,checked:l,defaultChecked:c,required:f,disabled:m,name:g,value:v,form:b,bubbleInput:E,setBubbleInput:C}=Zv(y2,n),R=zt(t,C),A=IA(l),N=yA(i);w.useEffect(()=>{const U=E;if(!U)return;const B=window.HTMLInputElement.prototype,$=Object.getOwnPropertyDescriptor(B,"checked").set,ne=!a.current;if(A!==l&&$){const k=new Event("click",{bubbles:ne});U.indeterminate=ta(l),$.call(U,ta(l)?!1:l),U.dispatchEvent(k)}},[E,A,l,a]);const V=w.useRef(ta(l)?!1:l);return p.jsx(Et.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??V.current,required:f,disabled:m,name:g,value:v,form:b,...e,tabIndex:-1,ref:R,style:{...e.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});v2.displayName=y2;function sL(n){return typeof n=="function"}function ta(n){return n==="indeterminate"}function _2(n){return ta(n)?"indeterminate":n?"checked":"unchecked"}function Lf({className:n,...e}){return p.jsx(m2,{"data-slot":"checkbox",className:Wt("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:p.jsx(g2,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:p.jsx(Fy,{className:"size-3.5"})})})}function aL(){const{currentUser:n}=Un(),{currentLedger:e,canEdit:t}=us(),[i,a]=w.useState([]),[l,c]=w.useState([]),[f,m]=w.useState([]),[g,v]=w.useState(!0),[b,E]=w.useState(!1),[C,R]=w.useState(null),[A,N]=w.useState(!1),[V,U]=w.useState(null),[B,G]=w.useState([]),[$,ne]=w.useState(!1),[k,S]=w.useState(""),[M,L]=w.useState(""),[D,P]=w.useState({amount:"",type:"expense",description:"",categoryId:"",paymentMethod:"credit card",notes:"",includeInBudget:!0,date:new Date().toISOString().split("T")[0],paidBy:(n==null?void 0:n.uid)||"",splitType:"none",splitWith:[],splitAmounts:{}}),[j,q]=w.useState("none"),[ee,F]=w.useState({categoryId:"",includeInBudget:null}),Q=()=>{P({amount:"",type:"expense",description:"",categoryId:"",paymentMethod:"credit card",notes:"",includeInBudget:!0,date:new Date().toISOString().split("T")[0],paidBy:(n==null?void 0:n.uid)||"",splitType:"none",splitWith:[],splitAmounts:{}}),q("none"),N(!1),U(null),R(null)},Y=async()=>{if(e)try{const se=Tt(ze,"ledgers",e.id,"transactions"),ve=Kn(se,ns("date","desc")),ke=await En(ve),Ue=[];ke.forEach(We=>{var Mn;const Bn=We.data();Ue.push({id:We.id,...Bn,date:((Mn=Bn.date)==null?void 0:Mn.toDate())||new Date})}),a(Ue)}catch(se){console.error("Error fetching transactions:",se),S("Failed to fetch transactions")}},me=async()=>{if(e)try{const se=Tt(ze,"ledgers",e.id,"categories"),ve=await En(se),ke=[];ve.forEach(Ue=>{ke.push({id:Ue.id,...Ue.data()})}),c(ke),ke.length===0&&await ie()}catch(se){console.error("Error fetching categories:",se)}},z=async()=>{if(e!=null&&e.members)try{const se=[];for(const[ve,ke]of Object.entries(e.members))try{const Ue=await En(Kn(Tt(ze,"users"),ar("__name__","==",ve)));let We={uid:ve,role:ke};if(Ue.empty)ve===(n==null?void 0:n.uid)?We={...We,displayName:n.displayName,email:n.email}:We={...We,displayName:`User ${ve.slice(0,8)}`,email:`${ve.slice(0,8)}@example.com`};else{const Bn=Ue.docs[0].data();We={...We,displayName:Bn.displayName,email:Bn.email,profileColor:Bn.profileColor}}se.push(We)}catch(Ue){console.error(`Error fetching user ${ve}:`,Ue),se.push({uid:ve,role:ke,displayName:ve===(n==null?void 0:n.uid)?n.displayName||n.email:`User ${ve.slice(0,8)}`,email:ve===(n==null?void 0:n.uid)?n.email:`${ve.slice(0,8)}@example.com`})}m(se)}catch(se){console.error("Error fetching members:",se)}},ie=async()=>{const se=[{name:"Food & Dining",type:"expense"},{name:"Transportation",type:"expense"},{name:"Shopping",type:"expense"},{name:"Entertainment",type:"expense"},{name:"Bills & Utilities",type:"expense"},{name:"Healthcare",type:"expense"},{name:"Salary",type:"income"},{name:"Freelance",type:"income"},{name:"Investment",type:"income"}];try{const ve=Tt(ze,"ledgers",e.id,"categories");for(const ke of se)await li(ve,ke);await me()}catch(ve){console.error("Error creating default categories:",ve)}},he=async se=>{if(se.preventDefault(),!t()){S("You do not have permission to add transactions");return}try{S("");const ve={...D,amount:parseFloat(D.amount),date:_t.fromDate(new Date(D.date)),createdAt:_t.now(),userId:n.uid,paidBy:D.paidBy,splitType:D.splitType,splitWith:D.splitWith,splitAmounts:D.splitAmounts};C?(await oi(Qt(ze,"ledgers",e.id,"transactions",C.id),ve),L("Transaction updated successfully")):(await li(Tt(ze,"ledgers",e.id,"transactions"),ve),L("Transaction added successfully")),Q(),E(!1),R(null),await Y()}catch(ve){console.error("Error adding/updating transaction:",ve),S("Failed to add/update transaction")}},oe=async se=>{if(!t()){S("You do not have permission to delete transactions");return}try{await kl(Qt(ze,"ledgers",e.id,"transactions",se)),L("Transaction deleted successfully"),await Y()}catch(ve){console.error("Error deleting transaction:",ve),S("Failed to delete transaction")}},pe=async()=>{if(!(!t()||B.length===0)&&window.confirm(`Are you sure you want to delete ${B.length} selected transactions?`))try{S("");for(const se of B)await kl(Qt(ze,"ledgers",e.id,"transactions",se));L(`Deleted ${B.length} transactions`),G([]),await Y()}catch(se){console.error("Error batch deleting transactions:",se),S("Failed to delete transactions")}},Ae=async()=>{if(!(!t()||B.length===0))try{S("");const se={};ee.categoryId&&(se.categoryId=ee.categoryId),ee.includeInBudget!==null&&(se.includeInBudget=ee.includeInBudget);for(const ve of B)await oi(Qt(ze,"ledgers",e.id,"transactions",ve),se);L(`Updated ${B.length} transactions`),G([]),ne(!1),F({categoryId:"",includeInBudget:null}),await Y()}catch(se){console.error("Error batch updating transactions:",se),S("Failed to update transactions")}},Ee=se=>{R(se),N(!0),U(se.id),E(!0),P({...se,date:se.date instanceof Date?se.date.toISOString().split("T")[0]:se.date,splitWith:se.splitWith||[],splitAmounts:se.splitAmounts||{}});const ke=f.filter(Ue=>Ue.uid!==(n==null?void 0:n.uid)).map(Ue=>Ue.uid);se.splitWith.length===0?q("none"):se.splitWith.length===ke.length&&ke.every(Ue=>se.splitWith.includes(Ue))?q("everyone"):q("individuals")},ge=se=>{G(ve=>ve.includes(se)?ve.filter(ke=>ke!==se):[...ve,se])},Se=()=>{B.length===i.length?G([]):G(i.map(se=>se.id))},He=se=>{P(ve=>{const ke=ve.splitWith||[],Ue=ke.includes(se)?ke.filter(We=>We!==se):[...ke,se];return setTimeout(()=>{De(Ue)},0),{...ve,splitWith:Ue,splitType:Ue.length>0?"equal":"none"}})},Ne=se=>{if(q(se),se==="none")P(ve=>({...ve,splitType:"none",splitWith:[]}));else if(se==="everyone"){const ve=f.filter(ke=>ke.uid!==(n==null?void 0:n.uid)).map(ke=>ke.uid);P(ke=>({...ke,splitType:"equal",splitWith:ve}))}else se==="individuals"&&P(ve=>({...ve,splitType:ve.splitWith&&ve.splitWith.length>0?"equal":"none"}))},De=se=>{const ke=f.filter(Ue=>Ue.uid!==(n==null?void 0:n.uid)).map(Ue=>Ue.uid);se.length===0?q("none"):se.length===ke.length&&ke.every(Ue=>se.includes(Ue))?q("everyone"):q("individuals")},Ve=f.length>1;return w.useEffect(()=>{e&&Promise.all([Y(),me(),z()]).finally(()=>v(!1))},[e]),w.useEffect(()=>{n&&P(se=>({...se,paidBy:n.uid}))},[n]),g?p.jsx("div",{className:"p-6",children:"Loading transactions..."}):e?p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Transactions"}),p.jsx("div",{className:"flex space-x-2",children:t()&&p.jsxs(Ie,{onClick:()=>E(!0),className:"flex items-center space-x-2",children:[p.jsx(_l,{className:"h-4 w-4"}),p.jsx("span",{children:"Add Transaction"})]})})]}),k&&p.jsx(an,{variant:"destructive",children:p.jsx(on,{children:k})}),M&&p.jsx(an,{children:p.jsx(on,{children:M})}),(b||C)&&p.jsxs(yt,{children:[p.jsx(St,{children:p.jsx(At,{children:C?"Edit Transaction":"Add New Transaction"})}),p.jsx(vt,{children:p.jsxs("form",{onSubmit:he,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx(Ye,{htmlFor:"amount",children:"Amount"}),p.jsx(Pt,{id:"amount",type:"number",step:"0.01",value:D.amount,onChange:se=>P({...D,amount:se.target.value}),required:!0})]}),p.jsxs("div",{children:[p.jsx(Ye,{htmlFor:"type",children:"Type"}),p.jsxs(Fi,{value:D.type,onValueChange:se=>P({...D,type:se}),children:[p.jsx(qi,{children:p.jsx(Hi,{})}),p.jsxs(Gi,{children:[p.jsx(In,{value:"expense",children:"Expense"}),p.jsx(In,{value:"income",children:"Income"})]})]})]}),p.jsxs("div",{children:[p.jsx(Ye,{htmlFor:"description",children:"Description"}),p.jsx(Pt,{id:"description",type:"text",value:D.description,onChange:se=>P({...D,description:se.target.value}),required:!0})]}),p.jsxs("div",{children:[p.jsx(Ye,{htmlFor:"category",children:"Category"}),p.jsxs(Fi,{value:D.categoryId,onValueChange:se=>P({...D,categoryId:se}),children:[p.jsx(qi,{children:p.jsx(Hi,{placeholder:"Select a category"})}),p.jsx(Gi,{children:l.map(se=>p.jsx(In,{value:se.id,children:se.name},se.id))})]})]}),p.jsxs("div",{children:[p.jsx(Ye,{htmlFor:"date",children:"Date"}),p.jsx(Pt,{id:"date",type:"date",value:D.date,onChange:se=>P({...D,date:se.target.value}),required:!0})]}),p.jsxs("div",{children:[p.jsx(Ye,{htmlFor:"paymentMethod",children:"Payment Method"}),p.jsx(Pt,{id:"paymentMethod",type:"text",value:D.paymentMethod,onChange:se=>P({...D,paymentMethod:se.target.value})})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx(Ye,{htmlFor:"notes",children:"Notes"}),p.jsx(ZV,{id:"notes",value:D.notes,onChange:se=>P({...D,notes:se.target.value})})]}),p.jsxs("div",{className:"md:col-span-2 flex items-center space-x-2",children:[p.jsx(Lf,{id:"includeInBudget",checked:D.includeInBudget,onCheckedChange:se=>P({...D,includeInBudget:se})}),p.jsx(Ye,{htmlFor:"includeInBudget",children:"Include in Budget"})]})]}),Ve&&D.type==="expense"&&p.jsxs("div",{className:"space-y-4 border p-4 rounded-md",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Split Expense"}),p.jsxs("div",{children:[p.jsx(Ye,{htmlFor:"paidBy",children:"Paid By"}),p.jsxs(Fi,{value:D.paidBy,onValueChange:se=>P({...D,paidBy:se}),children:[p.jsx(qi,{children:p.jsx(Hi,{placeholder:"Select payer"})}),p.jsx(Gi,{children:f.map(se=>p.jsx(In,{value:se.uid,children:p.jsx(nl,{user:se})},se.uid))})]})]}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(Ie,{type:"button",variant:j==="none"?"default":"outline",onClick:()=>Ne("none"),children:"Don't Split"}),p.jsx(Ie,{type:"button",variant:j==="everyone"?"default":"outline",onClick:()=>Ne("everyone"),children:"Split Equally (Everyone Else)"}),p.jsx(Ie,{type:"button",variant:j==="individuals"?"default":"outline",onClick:()=>Ne("individuals"),children:"Split with Individuals"})]}),j==="individuals"&&p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ye,{children:"Select Members to Split With:"}),f.filter(se=>se.uid!==D.paidBy).map(se=>p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Lf,{id:`split-with-${se.uid}`,checked:(D.splitWith||[]).includes(se.uid),onCheckedChange:()=>He(se.uid)}),p.jsx(Ye,{htmlFor:`split-with-${se.uid}`,children:p.jsx(nl,{user:se})})]},se.uid))]}),D.splitType==="equal"&&(D.splitWith||[]).length>0&&p.jsxs("div",{className:"border-t pt-4 mt-4",children:[p.jsx("h4",{className:"font-semibold",children:"Split Details:"}),p.jsxs("p",{children:["Total Amount: $",D.amount||0]}),p.jsxs("p",{children:["Paid By: ",p.jsx(nl,{user:f.find(se=>se.uid===D.paidBy)})]}),p.jsxs("p",{children:["Splitting with ",(D.splitWith||[]).length," other(s):"]}),p.jsxs("ul",{children:[(D.splitWith||[]).map(se=>{const ve=f.find(Ue=>Ue.uid===se),ke=(D.amount/((D.splitWith||[]).length+1)).toFixed(2);return ve?p.jsxs("li",{children:["- ",p.jsx(nl,{user:ve}),": $",ke]},ve.uid):null}),p.jsxs("li",{children:["- ",p.jsx(nl,{user:f.find(se=>se.uid===D.paidBy)})," (Payer): $",(D.amount-(D.splitWith||[]).length*(D.amount/((D.splitWith||[]).length+1))).toFixed(2)]})]})]})]}),p.jsxs("div",{className:"flex justify-end space-x-2",children:[p.jsx(Ie,{type:"button",variant:"outline",onClick:()=>{E(!1),Q()},children:"Cancel"}),p.jsx(Ie,{type:"submit",children:C?"Update Transaction":"Add Transaction"})]})]})})]}),$&&p.jsxs(yt,{children:[p.jsxs(St,{children:[p.jsx(At,{children:"Batch Edit Transactions"}),p.jsxs(Dn,{children:["Edit ",B.length," selected transactions"]})]}),p.jsx(vt,{children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(Ye,{htmlFor:"batchCategory",children:"Category"}),p.jsxs(Fi,{value:ee.categoryId,onValueChange:se=>F({...ee,categoryId:se}),children:[p.jsx(qi,{children:p.jsx(Hi,{placeholder:"Select a category"})}),p.jsx(Gi,{children:l.map(se=>p.jsx(In,{value:se.id,children:se.name},se.id))})]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Lf,{id:"batchIncludeInBudget",checked:ee.includeInBudget===!0,onCheckedChange:se=>F({...ee,includeInBudget:se})}),p.jsx(Ye,{htmlFor:"batchIncludeInBudget",children:"Include in Budget"})]}),p.jsxs("div",{className:"flex justify-end space-x-2",children:[p.jsx(Ie,{type:"button",variant:"outline",onClick:()=>{ne(!1),F({categoryId:"",includeInBudget:null})},children:"Cancel"}),p.jsxs(Ie,{onClick:Ae,children:["Update ",B.length," Transactions"]})]})]})})]}),p.jsxs(yt,{children:[p.jsxs(St,{children:[p.jsx(At,{children:"All Transactions"}),p.jsx(Dn,{children:"Manage your ledger's financial records."})]}),p.jsx(vt,{children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx(Ie,{variant:"outline",onClick:Se,children:B.length===i.length?"Deselect All":"Select All"}),B.length>0&&p.jsxs("div",{className:"flex space-x-2",children:[p.jsxs(Ie,{variant:"outline",onClick:()=>ne(!0),className:"flex items-center space-x-2",children:[p.jsx(bl,{className:"h-4 w-4"}),p.jsxs("span",{children:["Batch Edit (",B.length,")"]})]}),p.jsxs(Ie,{variant:"destructive",onClick:pe,children:["Delete Selected (",B.length,")"]})]})]}),i.length===0?p.jsx("p",{children:"No transactions found. Add one above!"}):p.jsx("div",{className:"space-y-4",children:(()=>{const se={};return i.forEach(ke=>{const Ue=new Date(ke.date),We=`${Ue.getFullYear()}-${String(Ue.getMonth()+1).padStart(2,"0")}`;se[We]||(se[We]=[]),se[We].push(ke)}),Object.keys(se).sort((ke,Ue)=>Ue.localeCompare(ke)).map(ke=>{const Ue=se[ke],[We,Bn]=ke.split("-"),Mn=new Date(We,Bn-1).toLocaleDateString("en-US",{year:"numeric",month:"long"});return p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center my-6",children:[p.jsx("div",{className:"flex-grow border-t border-gray-300"}),p.jsx("div",{className:"mx-4 px-3 py-1 bg-gray-100 text-gray-600 text-sm font-medium rounded-full",children:Mn}),p.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),p.jsx("div",{className:"space-y-3",children:Ue.map(Ft=>{const xr=l.find(zn=>zn.id===Ft.categoryId),Xl=f.find(zn=>zn.uid===Ft.paidBy),cs=f.filter(zn=>(Ft.splitWith||[]).includes(zn.uid));return p.jsxs("div",{className:"border p-4 rounded-md shadow-sm flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(Lf,{checked:B.includes(Ft.id),onCheckedChange:()=>ge(Ft.id)}),p.jsxs("div",{children:[p.jsxs("p",{className:"font-semibold",children:[Ft.description," - $",Ft.amount.toFixed(2)]}),p.jsxs("p",{className:"text-sm text-gray-500",children:[xr==null?void 0:xr.name," | ",new Date(Ft.date).toLocaleDateString()]}),Ft.splitType!=="none"&&p.jsxs("p",{className:"text-sm text-gray-500",children:["Paid by: ",p.jsx(nl,{user:Xl}),(Ft.splitWith||[]).length>0&&p.jsxs("span",{children:[", Split with: ",cs.map(zn=>zn.displayName||zn.email).join(", ")]})]})]})]}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(Ie,{variant:"outline",size:"sm",onClick:()=>Ee(Ft),children:p.jsx(bl,{className:"h-4 w-4"})}),p.jsx(Ie,{variant:"destructive",size:"sm",onClick:()=>oe(Ft.id),children:p.jsx(El,{className:"h-4 w-4"})})]})]},Ft.id)})})]},ke)})})()})]})})]})]}):p.jsx("div",{className:"p-6",children:"Please select a ledger to view transactions."})}var Jv="Progress",e0=100,[oL,LL]=Wc(Jv),[lL,uL]=oL(Jv),b2=w.forwardRef((n,e)=>{const{__scopeProgress:t,value:i=null,max:a,getValueLabel:l=cL,...c}=n;(a||a===0)&&!jw(a)&&console.error(dL(`${a}`,"Progress"));const f=jw(a)?a:e0;i!==null&&!Pw(i,f)&&console.error(fL(`${i}`,"Progress"));const m=Pw(i,f)?i:null,g=Rh(m)?l(m,f):void 0;return p.jsx(lL,{scope:t,value:m,max:f,children:p.jsx(Et.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":Rh(m)?m:void 0,"aria-valuetext":g,role:"progressbar","data-state":w2(m,f),"data-value":m??void 0,"data-max":f,...c,ref:e})})});b2.displayName=Jv;var E2="ProgressIndicator",x2=w.forwardRef((n,e)=>{const{__scopeProgress:t,...i}=n,a=uL(E2,t);return p.jsx(Et.div,{"data-state":w2(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...i,ref:e})});x2.displayName=E2;function cL(n,e){return`${Math.round(n/e*100)}%`}function w2(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function Rh(n){return typeof n=="number"}function jw(n){return Rh(n)&&!isNaN(n)&&n>0}function Pw(n,e){return Rh(n)&&!isNaN(n)&&n<=e&&n>=0}function dL(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${e0}\`.`}function fL(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${e0} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var hL=b2,mL=x2;function Dy({className:n,value:e,...t}){return p.jsx(hL,{"data-slot":"progress",className:Wt("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",n),...t,children:p.jsx(mL,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}function pL(){const{currentUser:n}=Un(),{currentLedger:e,canEdit:t}=us(),[i,a]=w.useState([]),[l,c]=w.useState([]),[f,m]=w.useState([]),[g,v]=w.useState(!0),[b,E]=w.useState(!1),[C,R]=w.useState(null),[A,N]=w.useState(""),[V,U]=w.useState(""),[B,G]=w.useState({name:"",startDate:new Date().toISOString().split("T")[0],endDate:"",totalAmount:"",timeSpan:"monthly",categories:{}}),$=(q,ee)=>{const F=new Date(q);let Q=new Date(F);switch(ee){case"weekly":Q.setDate(F.getDate()+6);break;case"monthly":Q.setMonth(F.getMonth()+1),Q.setDate(F.getDate()-1);break;case"quarterly":Q.setMonth(F.getMonth()+3),Q.setDate(F.getDate()-1);break;case"yearly":Q.setFullYear(F.getFullYear()+1),Q.setDate(F.getDate()-1);break;default:Q.setMonth(F.getMonth()+1),Q.setDate(F.getDate()-1)}return Q.toISOString().split("T")[0]},ne=async()=>{if(e)try{const q=Tt(ze,"ledgers",e.id,"budgets"),ee=Kn(q,ns("startDate","desc")),F=await En(ee),Q=[];F.forEach(Y=>{var z,ie;const me=Y.data();Q.push({id:Y.id,...me,startDate:((z=me.startDate)==null?void 0:z.toDate())||new Date,endDate:((ie=me.endDate)==null?void 0:ie.toDate())||new Date})}),a(Q)}catch(q){console.error("Error fetching budgets:",q),N("Failed to fetch budgets")}},k=async()=>{if(e)try{const q=Tt(ze,"ledgers",e.id,"categories"),ee=await En(q),F=[];ee.forEach(Q=>{F.push({id:Q.id,...Q.data()})}),c(F)}catch(q){console.error("Error fetching categories:",q)}},S=async()=>{if(e)try{const q=Tt(ze,"ledgers",e.id,"transactions"),ee=Kn(q,ar("includeInBudget","==",!0)),F=await En(ee),Q=[];F.forEach(Y=>{var z;const me=Y.data();Q.push({id:Y.id,...me,date:((z=me.date)==null?void 0:z.toDate())||new Date})}),m(Q)}catch(q){console.error("Error fetching transactions:",q)}},M=q=>{const ee=f.filter(Y=>{const me=Y.date;return me>=q.startDate&&me<=q.endDate&&Y.type==="expense"}),F=ee.reduce((Y,me)=>Y+me.amount,0),Q={};return ee.forEach(Y=>{Y.categoryId&&(Q[Y.categoryId]=(Q[Y.categoryId]||0)+Y.amount)}),{totalSpent:F,categorySpending:Q,transactionCount:ee.length}},L=async q=>{if(q.preventDefault(),!t()){N("You do not have permission to manage budgets");return}try{N("");const ee={...B,totalAmount:parseFloat(B.totalAmount),startDate:_t.fromDate(new Date(B.startDate)),endDate:_t.fromDate(new Date(B.endDate)),createdAt:_t.now(),userId:n.uid};C?(await oi(Qt(ze,"ledgers",e.id,"budgets",C.id),ee),U("Budget updated successfully")):(await li(Tt(ze,"ledgers",e.id,"budgets"),ee),U("Budget created successfully")),G({name:"",startDate:new Date().toISOString().split("T")[0],endDate:"",totalAmount:"",timeSpan:"monthly",categories:{}}),E(!1),R(null),await ne()}catch(ee){console.error("Error saving budget:",ee),N("Failed to save budget")}},D=async q=>{if(!t()){N("You do not have permission to delete budgets");return}try{await kl(Qt(ze,"ledgers",e.id,"budgets",q)),U("Budget deleted successfully"),await ne()}catch(ee){console.error("Error deleting budget:",ee),N("Failed to delete budget")}},P=(q,ee)=>{G(F=>({...F,categories:{...F.categories,[q]:parseFloat(ee)||0}}))},j=()=>{const q=Object.values(B.categories).reduce((ee,F)=>ee+(F||0),0);return(parseFloat(B.totalAmount)||0)-q};return w.useEffect(()=>{e&&Promise.all([ne(),k(),S()]).finally(()=>v(!1))},[e]),w.useEffect(()=>{if(B.startDate&&B.timeSpan){const q=$(B.startDate,B.timeSpan);G(ee=>({...ee,endDate:q}))}},[B.startDate,B.timeSpan]),g?p.jsx("div",{className:"p-6",children:"Loading budgets..."}):e?p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Budget Management"}),t()&&p.jsxs(Ie,{onClick:()=>E(!0),className:"flex items-center space-x-2",children:[p.jsx(_l,{className:"h-4 w-4"}),p.jsx("span",{children:"Create Budget"})]})]}),A&&p.jsx(an,{variant:"destructive",children:p.jsx(on,{children:A})}),V&&p.jsx(an,{children:p.jsx(on,{children:V})}),(b||C)&&p.jsxs(yt,{children:[p.jsx(St,{children:p.jsx(At,{children:C?"Edit Budget":"Create New Budget"})}),p.jsx(vt,{children:p.jsxs("form",{onSubmit:L,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx(Ye,{htmlFor:"name",children:"Budget Name"}),p.jsx(Pt,{id:"name",value:B.name,onChange:q=>G({...B,name:q.target.value}),placeholder:"e.g., Monthly Budget - June 2025",required:!0})]}),p.jsxs("div",{children:[p.jsx(Ye,{htmlFor:"timeSpan",children:"Time Span"}),p.jsxs(Fi,{value:B.timeSpan,onValueChange:q=>G({...B,timeSpan:q}),children:[p.jsx(qi,{children:p.jsx(Hi,{})}),p.jsxs(Gi,{children:[p.jsx(In,{value:"weekly",children:"Weekly"}),p.jsx(In,{value:"monthly",children:"Monthly"}),p.jsx(In,{value:"quarterly",children:"Quarterly"}),p.jsx(In,{value:"yearly",children:"Yearly"}),p.jsx(In,{value:"custom",children:"Custom"})]})]})]}),p.jsxs("div",{children:[p.jsx(Ye,{htmlFor:"startDate",children:"Start Date"}),p.jsx(Pt,{id:"startDate",type:"date",value:B.startDate,onChange:q=>G({...B,startDate:q.target.value}),required:!0})]}),p.jsxs("div",{children:[p.jsx(Ye,{htmlFor:"endDate",children:"End Date"}),p.jsx(Pt,{id:"endDate",type:"date",value:B.endDate,onChange:q=>G({...B,endDate:q.target.value}),disabled:B.timeSpan!=="custom",required:!0})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx(Ye,{htmlFor:"totalAmount",children:"Total Budget Amount"}),p.jsx(Pt,{id:"totalAmount",type:"number",step:"0.01",value:B.totalAmount,onChange:q=>G({...B,totalAmount:q.target.value}),required:!0})]})]}),p.jsxs("div",{children:[p.jsx(Ye,{children:"Category Budget Allocation"}),p.jsxs("div",{className:"mt-2 space-y-2",children:[l.filter(q=>q.type==="expense").map(q=>p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Ye,{className:"w-32 text-sm",children:q.name}),p.jsx(Pt,{type:"number",step:"0.01",value:B.categories[q.id]||"",onChange:ee=>P(q.id,ee.target.value),placeholder:"0.00",className:"w-32"})]},q.id)),p.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[p.jsx(Ye,{className:"w-32 text-sm font-medium",children:"Remaining:"}),p.jsxs("span",{className:`text-sm font-medium ${j()<0?"text-red-600":"text-green-600"}`,children:["$",j().toFixed(2)]})]})]})]}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(Ie,{type:"submit",children:C?"Update Budget":"Create Budget"}),p.jsx(Ie,{type:"button",variant:"outline",onClick:()=>{E(!1),R(null),G({name:"",startDate:new Date().toISOString().split("T")[0],endDate:"",totalAmount:"",timeSpan:"monthly",categories:{}})},children:"Cancel"})]})]})})]}),p.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:i.length===0?p.jsx(yt,{className:"lg:col-span-2",children:p.jsxs(vt,{className:"text-center py-8",children:[p.jsx(l3,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No budgets created yet"}),p.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first budget to start tracking your spending goals."}),t()&&p.jsx(Ie,{onClick:()=>E(!0),children:"Create Your First Budget"})]})}):i.map(q=>{const ee=M(q),F=ee.totalSpent/q.totalAmount*100,Q=ee.totalSpent>q.totalAmount,Y=Math.ceil((q.endDate-new Date)/(1e3*60*60*24));return p.jsxs(yt,{children:[p.jsx(St,{children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx(At,{className:"text-lg",children:q.name}),p.jsxs(Dn,{children:[q.startDate.toLocaleDateString()," - ",q.endDate.toLocaleDateString()]})]}),t()&&p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(Ie,{variant:"ghost",size:"sm",onClick:()=>{R(q),G({name:q.name,startDate:q.startDate.toISOString().split("T")[0],endDate:q.endDate.toISOString().split("T")[0],totalAmount:q.totalAmount.toString(),timeSpan:q.timeSpan||"custom",categories:q.categories||{}})},children:p.jsx(bl,{className:"h-4 w-4"})}),p.jsx(Ie,{variant:"ghost",size:"sm",onClick:()=>D(q.id),children:p.jsx(El,{className:"h-4 w-4"})})]})]})}),p.jsxs(vt,{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-sm font-medium",children:"Budget Progress"}),p.jsxs(kr,{variant:Q?"destructive":F>80?"secondary":"default",children:[F.toFixed(1),"%"]})]}),p.jsx(Dy,{value:Math.min(F,100),className:"h-2"}),p.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[p.jsxs("span",{children:["$",ee.totalSpent.toFixed(2)," spent"]}),p.jsxs("span",{children:["$",q.totalAmount.toFixed(2)," budget"]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[p.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",(q.totalAmount-ee.totalSpent).toFixed(2)]}),p.jsx("div",{className:"text-sm text-gray-600",children:"Remaining"})]}),p.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[p.jsx("div",{className:"text-lg font-semibold text-gray-900",children:Y>0?Y:0}),p.jsx("div",{className:"text-sm text-gray-600",children:"Days Left"})]})]}),q.categories&&Object.keys(q.categories).length>0&&p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium mb-2",children:"Category Breakdown"}),p.jsx("div",{className:"space-y-2",children:Object.entries(q.categories).map(([me,z])=>{const ie=l.find(pe=>pe.id===me),he=ee.categorySpending[me]||0,oe=he/z*100;return ie?p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{children:ie.name}),p.jsxs("span",{children:["$",he.toFixed(2)," / $",z.toFixed(2)]})]}),p.jsx(Dy,{value:Math.min(oe,100),className:"h-1"})]},me):null})})]}),p.jsxs("div",{className:"text-sm text-gray-600",children:[ee.transactionCount," transactions in this period"]})]})]},q.id)})})]}):p.jsx("div",{className:"p-6",children:"Please select a ledger to view budgets."})}/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */var gL=function(){var n={base:"https://twemoji.maxcdn.com/v/14.0.2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:U,toCodePoint:ne},onerror:function(){this.parentNode&&this.parentNode.replaceChild(m(this.alt,!1),this)},parse:B,replace:G,test:$},e={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},t=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[©®\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd\udec3-\udec5\udef0-\udef6]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedd-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec2\uded0-\uded9\udee0-\udee7]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,i=/\uFE0F/g,a="‍",l=/[&<>'"]/g,c=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,f=String.fromCharCode;return n;function m(k,S){return document.createTextNode(S?k.replace(i,""):k)}function g(k){return k.replace(l,A)}function v(k,S){return"".concat(S.base,S.size,"/",k,S.ext)}function b(k,S){for(var M=k.childNodes,L=M.length,D,P;L--;)D=M[L],P=D.nodeType,P===3?S.push(D):P===1&&!("ownerSVGElement"in D)&&!c.test(D.nodeName.toLowerCase())&&b(D,S);return S}function E(k){return ne(k.indexOf(a)<0?k.replace(i,""):k)}function C(k,S){for(var M=b(k,[]),L=M.length,D,P,j,q,ee,F,Q,Y,me,z,ie,he,oe;L--;){for(j=!1,q=document.createDocumentFragment(),ee=M[L],F=ee.nodeValue,Y=0;Q=t.exec(F);){if(me=Q.index,me!==Y&&q.appendChild(m(F.slice(Y,me),!0)),ie=Q[0],he=E(ie),Y=me+ie.length,oe=S.callback(he,S),he&&oe){z=new Image,z.onerror=S.onerror,z.setAttribute("draggable","false"),D=S.attributes(ie,he);for(P in D)D.hasOwnProperty(P)&&P.indexOf("on")!==0&&!z.hasAttribute(P)&&z.setAttribute(P,D[P]);z.className=S.className,z.alt=ie,z.src=oe,j=!0,q.appendChild(z)}z||q.appendChild(m(ie,!1)),z=null}j&&(Y<F.length&&q.appendChild(m(F.slice(Y),!0)),ee.parentNode.replaceChild(q,ee))}return k}function R(k,S){return G(k,function(M){var L=M,D=E(M),P=S.callback(D,S),j,q;if(D&&P){L="<img ".concat('class="',S.className,'" ','draggable="false" ','alt="',M,'"',' src="',P,'"'),j=S.attributes(M,D);for(q in j)j.hasOwnProperty(q)&&q.indexOf("on")!==0&&L.indexOf(" "+q+"=")===-1&&(L=L.concat(" ",q,'="',g(j[q]),'"'));L=L.concat("/>")}return L})}function A(k){return e[k]}function N(){return null}function V(k){return typeof k=="number"?k+"x"+k:k}function U(k){var S=typeof k=="string"?parseInt(k,16):k;return S<65536?f(S):(S-=65536,f(55296+(S>>10),56320+(S&1023)))}function B(k,S){return(!S||typeof S=="function")&&(S={callback:S}),(typeof k=="string"?R:C)(k,{callback:S.callback||v,attributes:typeof S.attributes=="function"?S.attributes:N,base:typeof S.base=="string"?S.base:n.base,ext:S.ext||n.ext,size:S.folder||V(S.size||n.size),className:S.className||n.className,onerror:S.onerror||n.onerror})}function G(k,S){return String(k).replace(t,S)}function $(k){t.lastIndex=0;var S=t.test(k);return t.lastIndex=0,S}function ne(k,S){for(var M=[],L=0,D=0,P=0;P<k.length;)L=k.charCodeAt(P++),D?(M.push((65536+(D-55296<<10)+(L-56320)).toString(16)),D=0):55296<=L&&L<=56319?D=L:M.push(L.toString(16));return M.join(S||"-")}}();const yL=[{name:"Food & Dining",emoji:"🍽️",type:"expense"},{name:"Transportation",emoji:"🚗",type:"expense"},{name:"Shopping",emoji:"🛍️",type:"expense"},{name:"Entertainment",emoji:"🎬",type:"expense"},{name:"Bills & Utilities",emoji:"💡",type:"expense"},{name:"Healthcare",emoji:"🏥",type:"expense"},{name:"Education",emoji:"📚",type:"expense"},{name:"Travel",emoji:"✈️",type:"expense"},{name:"Fitness",emoji:"💪",type:"expense"},{name:"Personal Care",emoji:"💄",type:"expense"}],vL=[{name:"Salary",emoji:"💰",type:"income"},{name:"Freelance",emoji:"💻",type:"income"},{name:"Investment",emoji:"📈",type:"income"},{name:"Business",emoji:"🏢",type:"income"},{name:"Rental",emoji:"🏠",type:"income"},{name:"Gift",emoji:"🎁",type:"income"}],_L=["🍽️","🚗","🛍️","🎬","💡","🏥","📚","✈️","💪","💄","💰","💻","📈","🏢","🏠","🎁","☕","🍕","🎵","🎮","📱","👕","⛽","🚌","🚇","🏪","🍺","🎪","🎨","📖","💊","🏋️","🧘","🎯","🎲","🎸","📺","🎤","🎭","🎪"];function bL(){const{currentUser:n}=Un(),{currentLedger:e,canEdit:t}=us(),[i,a]=w.useState([]),[l,c]=w.useState(!0),[f,m]=w.useState(!1),[g,v]=w.useState(null),[b,E]=w.useState(""),[C,R]=w.useState(""),[A,N]=w.useState({name:"",emoji:"📝",type:"expense"}),V=D=>D?p.jsx("span",{dangerouslySetInnerHTML:{__html:gL.parse(D,{folder:"svg",ext:".svg",base:"https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/"})},style:{width:"20px",height:"20px",display:"inline-block"}}):null,U=async()=>{if(e)try{const D=Tt(ze,"ledgers",e.id,"categories"),P=Kn(D,ns("type"),ns("name")),j=await En(P),q=[];j.forEach(ee=>{q.push({id:ee.id,...ee.data()})}),a(q),c(!1)}catch(D){console.error("Error fetching categories:",D),E("Failed to fetch categories"),c(!1)}},B=async()=>{if(!(!e||!t()))try{const D=Tt(ze,"ledgers",e.id,"categories");for(const P of yL)await li(D,{...P,createdAt:new Date,createdBy:n.uid});for(const P of vL)await li(D,{...P,createdAt:new Date,createdBy:n.uid});await U(),R("Default categories created successfully!")}catch(D){console.error("Error creating default categories:",D),E("Failed to create default categories")}},G=async D=>{if(D.preventDefault(),!(!e||!t()))try{const P=Tt(ze,"ledgers",e.id,"categories");await li(P,{...A,createdAt:new Date,createdBy:n.uid}),N({name:"",emoji:"📝",type:"expense"}),m(!1),await U(),R("Category added successfully!")}catch(P){console.error("Error adding category:",P),E("Failed to add category")}},$=async D=>{if(D.preventDefault(),!(!g||!t()))try{const P=Qt(ze,"ledgers",e.id,"categories",g.id);await oi(P,{name:A.name,emoji:A.emoji,type:A.type,updatedAt:new Date,updatedBy:n.uid}),v(null),N({name:"",emoji:"📝",type:"expense"}),await U(),R("Category updated successfully!")}catch(P){console.error("Error updating category:",P),E("Failed to update category")}},ne=async D=>{if(!(!t()||!confirm("Are you sure you want to delete this category?")))try{const P=Qt(ze,"ledgers",e.id,"categories",D);await kl(P),await U(),R("Category deleted successfully!")}catch(P){console.error("Error deleting category:",P),E("Failed to delete category")}},k=D=>{v(D),N({name:D.name,emoji:D.emoji,type:D.type}),m(!1)},S=()=>{v(null),N({name:"",emoji:"📝",type:"expense"})};if(w.useEffect(()=>{U()},[e]),w.useEffect(()=>{if(C||b){const D=setTimeout(()=>{R(""),E("")},3e3);return()=>clearTimeout(D)}},[C,b]),l)return p.jsx("div",{className:"p-6",children:p.jsxs("div",{className:"animate-pulse space-y-6",children:[p.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2,3,4].map(D=>p.jsx("div",{className:"h-32 bg-gray-200 rounded"},D))})]})});const M=i.filter(D=>D.type==="expense"),L=i.filter(D=>D.type==="income");return p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Category Management"}),t()&&p.jsxs(Ie,{onClick:()=>m(!0),className:"flex items-center space-x-2",children:[p.jsx(_l,{className:"h-4 w-4"}),p.jsx("span",{children:"Add Category"})]})]}),b&&p.jsx(an,{variant:"destructive",children:p.jsx(on,{children:b})}),C&&p.jsx(an,{children:p.jsx(on,{children:C})}),(f||g)&&p.jsxs(yt,{children:[p.jsxs(St,{children:[p.jsx(At,{children:g?"Edit Category":"Add New Category"}),p.jsx(Dn,{children:g?"Update category details":"Create a new category with emoji"})]}),p.jsx(vt,{children:p.jsxs("form",{onSubmit:g?$:G,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx(Ye,{htmlFor:"name",children:"Category Name"}),p.jsx(Pt,{id:"name",value:A.name,onChange:D=>N({...A,name:D.target.value}),placeholder:"Enter category name",required:!0})]}),p.jsxs("div",{children:[p.jsx(Ye,{htmlFor:"type",children:"Type"}),p.jsxs(Fi,{value:A.type,onValueChange:D=>N({...A,type:D}),children:[p.jsx(qi,{children:p.jsx(Hi,{})}),p.jsxs(Gi,{children:[p.jsx(In,{value:"expense",children:"Expense"}),p.jsx(In,{value:"income",children:"Income"})]})]})]}),p.jsxs("div",{children:[p.jsx(Ye,{htmlFor:"emoji",children:"Emoji"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Pt,{id:"emoji",value:A.emoji,onChange:D=>N({...A,emoji:D.target.value}),placeholder:"📝",className:"w-20"}),p.jsx("div",{className:"flex items-center space-x-1",children:V(A.emoji)})]})]})]}),p.jsxs("div",{children:[p.jsx(Ye,{children:"Popular Emojis"}),p.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:_L.map((D,P)=>p.jsx("button",{type:"button",onClick:()=>N({...A,emoji:D}),className:"p-2 border rounded hover:bg-gray-100 transition-colors",children:V(D)},P))})]}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsxs(Ie,{type:"submit",className:"flex items-center space-x-2",children:[p.jsx(Hy,{className:"h-4 w-4"}),p.jsxs("span",{children:[g?"Update":"Add"," Category"]})]}),p.jsxs(Ie,{type:"button",variant:"outline",onClick:()=>{m(!1),S()},className:"flex items-center space-x-2",children:[p.jsx(xl,{className:"h-4 w-4"}),p.jsx("span",{children:"Cancel"})]})]})]})})]}),i.length===0?p.jsx(yt,{children:p.jsxs(vt,{className:"text-center py-8",children:[p.jsx(yT,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Categories Found"}),p.jsx("p",{className:"text-gray-600 mb-4",children:"Create categories to organize your transactions"}),t()&&p.jsxs(Ie,{onClick:B,className:"flex items-center space-x-2 mx-auto",children:[p.jsx(_l,{className:"h-4 w-4"}),p.jsx("span",{children:"Create Default Categories"})]})]})}):p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs(yt,{children:[p.jsx(St,{children:p.jsxs(At,{className:"flex items-center space-x-2",children:[p.jsx("span",{children:"💸"}),p.jsx("span",{children:"Expense Categories"}),p.jsx(kr,{variant:"secondary",children:M.length})]})}),p.jsx(vt,{children:p.jsx("div",{className:"space-y-2",children:M.map(D=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[V(D.emoji),p.jsx("span",{className:"font-medium",children:D.name})]}),t()&&p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(Ie,{size:"sm",variant:"ghost",onClick:()=>k(D),className:"h-8 w-8 p-0",children:p.jsx(bl,{className:"h-4 w-4"})}),p.jsx(Ie,{size:"sm",variant:"ghost",onClick:()=>ne(D.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:p.jsx(El,{className:"h-4 w-4"})})]})]},D.id))})})]}),p.jsxs(yt,{children:[p.jsx(St,{children:p.jsxs(At,{className:"flex items-center space-x-2",children:[p.jsx("span",{children:"💰"}),p.jsx("span",{children:"Income Categories"}),p.jsx(kr,{variant:"secondary",children:L.length})]})}),p.jsx(vt,{children:p.jsx("div",{className:"space-y-2",children:L.map(D=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[V(D.emoji),p.jsx("span",{className:"font-medium",children:D.name})]}),t()&&p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(Ie,{size:"sm",variant:"ghost",onClick:()=>k(D),className:"h-8 w-8 p-0",children:p.jsx(bl,{className:"h-4 w-4"})}),p.jsx(Ie,{size:"sm",variant:"ghost",onClick:()=>ne(D.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:p.jsx(El,{className:"h-4 w-4"})})]})]},D.id))})})]})]})]})}function EL({ledger:n,onClose:e}){const{currentUser:t}=Un(),{refreshLedgers:i}=us(),[a,l]=w.useState(!1),[c,f]=w.useState(""),[m,g]=w.useState(""),[v,b]=w.useState([]),[E,C]=w.useState([]),[R,A]=w.useState({email:"",role:"member"}),N=async()=>{if(n)try{const $=Tt(ze,"invitations"),ne=Kn($,ar("ledgerId","==",n.id),ar("status","==","pending"),ns("createdAt","desc")),k=await En(ne),S=[];k.forEach(M=>{S.push({id:M.id,...M.data()})}),b(S)}catch($){console.error("Error fetching invitations:",$)}},V=async()=>{if(!(!n||!n.members))try{const $=Tt(ze,"users"),ne=Object.keys(n.members);if(ne.length===0)return;const k=[];for(const S of ne)try{(await En(Kn($,ar("__name__","==",S)))).forEach(L=>{k.push({id:L.id,...L.data(),role:n.members[S]})})}catch{k.push({id:S,email:"Unknown User",displayName:"Unknown User",role:n.members[S]})}C(k)}catch($){console.error("Error fetching members:",$)}},U=async()=>{if(!t||!n||!R.email.trim())return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(R.email)){f("Please enter a valid email address");return}if(E.find(S=>S.email.toLowerCase()===R.email.toLowerCase())){f("This user is already a member of this ledger");return}if(v.find(S=>S.inviteeEmail.toLowerCase()===R.email.toLowerCase())){f("An invitation has already been sent to this email address");return}try{l(!0),f(""),await li(Tt(ze,"invitations"),{ledgerId:n.id,ledgerName:n.name,inviterId:t.uid,inviterEmail:t.email,inviterName:t.displayName||t.email,inviteeEmail:R.email.toLowerCase(),role:R.role,status:"pending",createdAt:new Date,expiresAt:new Date(Date.now()+7*24*60*60*1e3)}),await N(),g("Invitation sent successfully!"),A({email:"",role:"member"})}catch(S){console.error("Error sending invitation:",S),f("Failed to send invitation")}finally{l(!1)}},B=async $=>{try{l(!0),await kl(Qt(ze,"invitations",$)),await N(),g("Invitation cancelled successfully!")}catch(ne){console.error("Error cancelling invitation:",ne),f("Failed to cancel invitation")}finally{l(!1)}},G=async $=>{if(confirm("Are you sure you want to remove this member from the ledger?"))try{l(!0);const ne={...n.members};delete ne[$],await oi(Qt(ze,"ledgers",n.id),{members:ne,updatedAt:new Date}),await i(),await V(),g("Member removed successfully!")}catch(ne){console.error("Error removing member:",ne),f("Failed to remove member")}finally{l(!1)}};return w.useEffect(()=>{N(),V()},[n]),w.useEffect(()=>{if(m||c){const $=setTimeout(()=>{g(""),f("")},3e3);return()=>clearTimeout($)}},[m,c]),p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:p.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Manage Ledger Access: ",n==null?void 0:n.name]}),p.jsx(Ie,{variant:"ghost",size:"sm",onClick:e,children:p.jsx(xl,{className:"h-4 w-4"})})]}),c&&p.jsx(an,{variant:"destructive",className:"mb-4",children:p.jsx(on,{children:c})}),m&&p.jsx(an,{className:"mb-4",children:p.jsx(on,{children:m})}),p.jsxs(yt,{className:"mb-6",children:[p.jsxs(St,{children:[p.jsxs(At,{className:"flex items-center",children:[p.jsx(_T,{className:"h-5 w-5 mr-2"}),"Invite New User"]}),p.jsx(Dn,{children:"Send an invitation to add a new member to this ledger."})]}),p.jsxs(vt,{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(Ye,{htmlFor:"email",children:"Email Address"}),p.jsx(Pt,{id:"email",type:"email",value:R.email,onChange:$=>A(ne=>({...ne,email:$.target.value})),placeholder:"user@example.com"})]}),p.jsxs("div",{children:[p.jsx(Ye,{htmlFor:"role",children:"Role"}),p.jsxs(Fi,{value:R.role,onValueChange:$=>A(ne=>({...ne,role:$})),children:[p.jsx(qi,{children:p.jsx(Hi,{placeholder:"Select role"})}),p.jsxs(Gi,{children:[p.jsx(In,{value:"member",children:"Member"}),p.jsx(In,{value:"owner",children:"Owner"})]})]})]}),p.jsxs(Ie,{onClick:U,disabled:a||!R.email.trim(),className:"w-full",children:[p.jsx(n3,{className:"h-4 w-4 mr-2"}),"Send Invitation"]})]})]}),p.jsxs(yt,{className:"mb-6",children:[p.jsx(St,{children:p.jsxs(At,{className:"flex items-center",children:[p.jsx(ET,{className:"h-5 w-5 mr-2"}),"Current Members (",E.length,")"]})}),p.jsx(vt,{children:p.jsx("div",{className:"space-y-3",children:E.map($=>p.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(Ol,{user:$,size:"sm"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:$.displayName||"Unknown User"}),p.jsx("p",{className:"text-sm text-gray-600",children:$.email})]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(kr,{variant:$.role==="owner"?"default":"secondary",children:$.role}),$.id!==t.uid&&$.role!=="owner"&&p.jsx(Ie,{size:"sm",variant:"destructive",onClick:()=>G($.id),disabled:a,children:p.jsx(El,{className:"h-3 w-3"})})]})]},$.id))})})]}),v.length>0&&p.jsxs(yt,{children:[p.jsx(St,{children:p.jsxs(At,{className:"flex items-center",children:[p.jsx(Gg,{className:"h-5 w-5 mr-2"}),"Pending Invitations (",v.length,")"]})}),p.jsx(vt,{children:p.jsx("div",{className:"space-y-3",children:v.map($=>p.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(gT,{className:"h-5 w-5 text-gray-400"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:$.inviteeEmail}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Invited ",new Date($.createdAt.toDate()).toLocaleDateString()]})]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(kr,{variant:"secondary",children:$.role}),p.jsx(kr,{variant:"outline",children:"Pending"}),p.jsx(Ie,{size:"sm",variant:"destructive",onClick:()=>B($.id),disabled:a,children:p.jsx(xl,{className:"h-3 w-3"})})]})]},$.id))})})]})]})})})}const xL=[{value:"CNY",label:"¥ Chinese Yuan (CNY)"},{value:"USD",label:"$ US Dollar (USD)"},{value:"EUR",label:"€ Euro (EUR)"},{value:"GBP",label:"£ British Pound (GBP)"},{value:"JPY",label:"¥ Japanese Yen (JPY)"}];function wL(){const{currentUser:n}=Un(),{ledgers:e,currentLedger:t,switchLedger:i,refreshLedgers:a,isOwner:l}=us(),[c,f]=w.useState(!1),[m,g]=w.useState(!1),[v,b]=w.useState(null),[E,C]=w.useState(!1),[R,A]=w.useState(null),[N,V]=w.useState(""),[U,B]=w.useState(""),[G,$]=w.useState({name:"",currency:"CNY",description:""}),ne=async()=>{if(!(!n||!G.name.trim()))try{f(!0),V("");const q=await li(Tt(ze,"ledgers"),{name:G.name.trim(),description:G.description.trim(),currency:G.currency,ownerId:n.uid,createdAt:new Date,members:{[n.uid]:"owner"}});await a(),B("Ledger created successfully!"),g(!1),$({name:"",currency:"CNY",description:""})}catch(q){console.error("Error creating ledger:",q),V("Failed to create ledger")}finally{f(!1)}},k=async()=>{if(!(!v||!G.name.trim()))try{f(!0),V(""),await oi(Qt(ze,"ledgers",v.id),{name:G.name.trim(),description:G.description.trim(),currency:G.currency,updatedAt:new Date}),await a(),B("Ledger updated successfully!"),b(null),$({name:"",currency:"CNY",description:""})}catch(q){console.error("Error updating ledger:",q),V("Failed to update ledger")}finally{f(!1)}},S=async q=>{if(confirm("Are you sure you want to delete this ledger? This action cannot be undone."))try{f(!0),V(""),await kl(Qt(ze,"ledgers",q)),await a(),B("Ledger deleted successfully!")}catch(ee){console.error("Error deleting ledger:",ee),V("Failed to delete ledger")}finally{f(!1)}},M=q=>{b(q),$({name:q.name,currency:q.currency||"CNY",description:q.description||""}),g(!1)},L=()=>{b(null),g(!1),$({name:"",currency:"CNY",description:""})},D=q=>!q.members||!n?null:q.members[n.uid]||null,P=q=>q.members?Object.keys(q.members).length:0,j=q=>q.members?Object.keys(q.members).map(ee=>({uid:ee,displayName:ee===(n==null?void 0:n.uid)?n.displayName||n.email:`User ${ee.slice(0,8)}`,email:ee===(n==null?void 0:n.uid)?n.email:`${ee.slice(0,8)}@example.com`})):[];return w.useEffect(()=>{if(U||N){const q=setTimeout(()=>{B(""),V("")},3e3);return()=>clearTimeout(q)}},[U,N]),p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Ledger Management"}),p.jsxs(Ie,{onClick:()=>g(!0),className:"bg-blue-500 hover:bg-blue-600",children:[p.jsx(_l,{className:"h-4 w-4 mr-2"}),"Create Ledger"]})]}),N&&p.jsx(an,{variant:"destructive",children:p.jsx(on,{children:N})}),U&&p.jsx(an,{children:p.jsx(on,{children:U})}),(m||v)&&p.jsxs(yt,{children:[p.jsxs(St,{children:[p.jsx(At,{children:v?"Edit Ledger":"Create New Ledger"}),p.jsx(Dn,{children:v?"Update the ledger details below.":"Create a new ledger to organize your expenses separately."})]}),p.jsxs(vt,{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(Ye,{htmlFor:"name",children:"Ledger Name"}),p.jsx(Pt,{id:"name",value:G.name,onChange:q=>$(ee=>({...ee,name:q.target.value})),placeholder:"e.g., Personal Expenses, Business Travel, Family Budget"})]}),p.jsxs("div",{children:[p.jsx(Ye,{htmlFor:"currency",children:"Currency"}),p.jsxs(Fi,{value:G.currency,onValueChange:q=>$(ee=>({...ee,currency:q})),children:[p.jsx(qi,{children:p.jsx(Hi,{placeholder:"Select currency"})}),p.jsx(Gi,{children:xL.map(q=>p.jsx(In,{value:q.value,children:q.label},q.value))})]})]}),p.jsxs("div",{children:[p.jsx(Ye,{htmlFor:"description",children:"Description (Optional)"}),p.jsx(Pt,{id:"description",value:G.description,onChange:q=>$(ee=>({...ee,description:q.target.value})),placeholder:"Brief description of this ledger's purpose"})]}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsxs(Ie,{onClick:v?k:ne,disabled:c||!G.name.trim(),children:[p.jsx(Hy,{className:"h-4 w-4 mr-2"}),v?"Update":"Create"]}),p.jsxs(Ie,{variant:"outline",onClick:L,children:[p.jsx(xl,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})]}),p.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(q=>{const ee=D(q),F=P(q),Q=(t==null?void 0:t.id)===q.id;return p.jsxs(yt,{className:`cursor-pointer transition-all ${Q?"ring-2 ring-blue-500 bg-blue-50":"hover:shadow-md"}`,onClick:()=>i(q.id),children:[p.jsx(St,{className:"pb-3",children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs(At,{className:"text-lg flex items-center",children:[p.jsx(th,{className:"h-5 w-5 mr-2"}),q.name,Q&&p.jsx(kr,{variant:"secondary",className:"ml-2",children:"Current"})]}),q.description&&p.jsx(Dn,{className:"mt-1",children:q.description})]}),ee==="owner"&&p.jsx(zN,{className:"h-4 w-4 text-yellow-500"})]})}),p.jsxs(vt,{children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{className:"text-gray-600",children:"Currency:"}),p.jsx("span",{className:"font-medium",children:q.currency||"CNY"})]}),p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{className:"text-gray-600",children:"Members:"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Gj,{users:j(q),size:"xs",maxDisplay:3}),p.jsx("span",{className:"font-medium text-xs",children:F})]})]}),p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{className:"text-gray-600",children:"Role:"}),p.jsx(kr,{variant:ee==="owner"?"default":"secondary",children:ee})]})]}),ee==="owner"&&p.jsxs("div",{className:"flex space-x-2 mt-4 pt-3 border-t",children:[p.jsxs(Ie,{size:"sm",variant:"outline",onClick:Y=>{Y.stopPropagation(),M(q)},children:[p.jsx(bl,{className:"h-3 w-3 mr-1"}),"Edit"]}),p.jsxs(Ie,{size:"sm",variant:"outline",onClick:Y=>{Y.stopPropagation(),A(q),C(!0)},children:[p.jsx(_T,{className:"h-3 w-3 mr-1"}),"Invite"]}),e.length>1&&p.jsxs(Ie,{size:"sm",variant:"destructive",onClick:Y=>{Y.stopPropagation(),S(q.id)},children:[p.jsx(El,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]})]},q.id)})}),e.length===0&&p.jsx(yt,{children:p.jsxs(vt,{className:"text-center py-8",children:[p.jsx(th,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Ledgers Found"}),p.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first ledger to start tracking expenses."}),p.jsxs(Ie,{onClick:()=>g(!0),children:[p.jsx(_l,{className:"h-4 w-4 mr-2"}),"Create Your First Ledger"]})]})}),E&&R&&p.jsx(EL,{ledger:R,onClose:()=>{C(!1),A(null)}})]})}function TL(){const{currentUser:n}=Un(),[e,t]=w.useState(!1),[i,a]=w.useState(""),[l,c]=w.useState(""),[f,m]=w.useState({displayName:"",profileColor:""}),g={...n,displayName:f.displayName,profileColor:f.profileColor},v=async()=>{if(n)try{t(!0);const R=await QS(Qt(ze,"users",n.uid)),A=R.exists()?R.data():{};m({displayName:n.displayName||A.displayName||"",profileColor:A.profileColor||""})}catch(R){console.error("Error loading profile data:",R),a("Failed to load profile data")}finally{t(!1)}},b=async()=>{if(n)try{if(t(!0),a(""),!f.displayName.trim()){a("Display name is required");return}if(f.profileColor&&!qj(f.profileColor)){a("Invalid color selected");return}await a1(n,{displayName:f.displayName.trim()}),await oi(Qt(ze,"users",n.uid),{displayName:f.displayName.trim(),profileColor:f.profileColor||null,updatedAt:new Date}),c("Profile updated successfully!")}catch(R){console.error("Error saving profile:",R),a("Failed to save profile changes")}finally{t(!1)}},E=()=>{const R=Hj();m(A=>({...A,profileColor:R}))},C=()=>{m(R=>({...R,profileColor:""}))};return w.useEffect(()=>{v()},[n]),w.useEffect(()=>{if(l||i){const R=setTimeout(()=>{c(""),a("")},3e3);return()=>clearTimeout(R)}},[l,i]),p.jsxs(yt,{children:[p.jsxs(St,{children:[p.jsxs(At,{className:"flex items-center",children:[p.jsx(bT,{className:"h-5 w-5 mr-2"}),"Profile Settings"]}),p.jsx(Dn,{children:"Manage your display name and profile image appearance."})]}),p.jsxs(vt,{className:"space-y-6",children:[i&&p.jsx(an,{variant:"destructive",children:p.jsx(on,{children:i})}),l&&p.jsx(an,{children:p.jsx(on,{children:l})}),p.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[p.jsx(Ol,{user:g,size:"xl"}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium text-lg",children:"Profile Preview"}),p.jsx("p",{className:"text-sm text-gray-600",children:"This is how your profile will appear to other users"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ye,{htmlFor:"displayName",children:"Display Name"}),p.jsx(Pt,{id:"displayName",value:f.displayName,onChange:R=>m(A=>({...A,displayName:R.target.value})),placeholder:"Enter your display name",disabled:e}),p.jsx("p",{className:"text-xs text-gray-500",children:"This name will be visible to other users in shared ledgers"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Ye,{children:"Profile Color"}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsxs(Ie,{type:"button",size:"sm",variant:"outline",onClick:E,disabled:e,children:[p.jsx(JN,{className:"h-3 w-3 mr-1"}),"Random"]}),p.jsx(Ie,{type:"button",size:"sm",variant:"outline",onClick:C,disabled:e,children:"Default"})]})]}),p.jsx("div",{className:"grid grid-cols-10 gap-2",children:Qs.map(R=>p.jsx("button",{type:"button",className:`
                  w-8 h-8 rounded-full border-2 transition-all
                  ${f.profileColor===R?"border-gray-900 scale-110":"border-gray-300 hover:border-gray-500"}
                `,style:{backgroundColor:R},onClick:()=>m(A=>({...A,profileColor:R})),disabled:e,title:R},R))}),p.jsx("p",{className:"text-xs text-gray-500",children:"Choose a color for your profile image background, or leave default for auto-generated color"})]}),p.jsx("div",{className:"flex justify-end",children:p.jsxs(Ie,{onClick:b,disabled:e||!f.displayName.trim(),children:[p.jsx(Hy,{className:"h-4 w-4 mr-2"}),e?"Saving...":"Save Changes"]})})]})]})}const lc=[{id:"alipay",name:"Alipay",icon:pT,sampleFields:["交易时间","交易分类","交易对方","商品说明","收/支","金额","支付方式","当前状态"],encoding:"GB2312",currency:"CNY"},{id:"wechat",name:"WeChat Pay",icon:i3,sampleFields:["交易时间","交易类型","交易对方","商品","收/支","金额(元)","支付方式","当前状态"],encoding:"UTF-8",currency:"CNY"},{id:"llm",name:"Generic (AI Powered)",icon:TN,sampleFields:["Any CSV, TXT, or PDF file"],encoding:"Auto-detect",currency:"Auto-detect"}];function SL(){var S,M,L,D;const{currentUser:n}=Un(),{currentLedger:e,canEdit:t}=us(),[i,a]=w.useState(""),[l,c]=w.useState(null),[f,m]=w.useState(!1),[g,v]=w.useState(0),[b,E]=w.useState(null),[C,R]=w.useState([]),[A,N]=w.useState(""),[V,U]=w.useState(""),B=async()=>{if(e)try{const P=Tt(ze,"ledgers",e.id,"categories"),j=await En(P),q=[];j.forEach(ee=>{q.push({id:ee.id,...ee.data()})}),R(q)}catch(P){console.error("Error fetching categories:",P)}},G=P=>{const j=P.split(`
`);let q=-1;for(let F=0;F<j.length;F++){const Q=j[F].trim();if(Q.includes("交易时间")&&(Q.includes("交易分类")||Q.includes("收/支"))){q=F+1;break}}if(q===-1){for(let F=0;F<j.length;F++)if(j[F].trim().match(/^\d{4}-\d{2}-\d{2}\s+\d{2}:\d{2}:\d{2}/)){q=F;break}}if(q===-1)throw new Error("Invalid Alipay CSV format: No transaction data found. Please ensure the file contains transaction records.");const ee=[];for(let F=q;F<j.length;F++){const Q=j[F].trim();if(!Q)continue;const Y=Q.split(",").map(Ve=>Ve.replace(/^"|"$/g,"").trim());if(Y.length<6)continue;let me,z,ie,he,oe,pe,Ae,Ee,ge;if(Y.length>=12)[me,z,ie,he,oe,pe,Ae,Ee,ge]=Y;else if(Y.length>=8)[me,z,ie,oe,pe,Ae,Ee,ge]=Y,he="";else continue;if(!pe||pe!=="支出"&&pe!=="收入")continue;const Se=Ae.toString().replace(/[^\d.-]/g,""),He=parseFloat(Se);if(isNaN(He))continue;const Ne=C.find(Ve=>Ve.name.toLowerCase().includes(z.toLowerCase())||z.toLowerCase().includes(Ve.name.toLowerCase())),De=ie?`Counterparty: ${ie}`:"";ee.push({date:new Date(me),type:pe==="支出"?"expense":"income",amount:Math.abs(He),description:oe||"Unknown Transaction",notes:De,categoryId:Ne?Ne.id:null,categoryName:Ne?Ne.name:z,paymentMethod:Ee||"Unknown",platform:"alipay",originalData:{category:z,counterparty:ie,account:he,status:ge}})}return ee},$=P=>{const j=P.split(`
`);let q=-1;for(let F=0;F<j.length;F++){const Q=j[F].trim();if(Q.includes("交易时间")&&(Q.includes("交易类型")||Q.includes("收/支"))){q=F+1;break}}if(q===-1){for(let F=0;F<j.length;F++)if(j[F].trim().match(/^\d{4}-\d{2}-\d{2}\s+\d{2}:\d{2}:\d{2}/)){q=F;break}}if(q===-1)throw new Error("Invalid WeChat Pay CSV format: No transaction data found. Please ensure the file contains transaction records.");const ee=[];for(let F=q;F<j.length;F++){const Q=j[F].trim();if(!Q)continue;const Y=Q.split(",").map(De=>De.replace(/^"|"$/g,"").trim());if(Y.length<6)continue;let me,z,ie,he,oe,pe,Ae,Ee;if(Y.length>=11)[me,z,ie,he,oe,pe,Ae,Ee]=Y;else if(Y.length>=8)[me,z,ie,he,oe,pe,Ae,Ee]=Y;else continue;if(!oe||oe!=="支出"&&oe!=="收入")continue;const ge=pe.toString().replace(/[¥￥,\s]/g,"").replace(/[^\d.-]/g,""),Se=parseFloat(ge);if(isNaN(Se))continue;const He=C.find(De=>De.name.toLowerCase().includes(z.toLowerCase())||z.toLowerCase().includes(De.name.toLowerCase())),Ne=ie?`Counterparty: ${ie}`:"";ee.push({date:new Date(me),type:oe==="支出"?"expense":"income",amount:Math.abs(Se),description:he||"Unknown Transaction",notes:Ne,categoryId:He?He.id:null,categoryName:He?He.name:z,paymentMethod:Ae||"Unknown",platform:"wechat",originalData:{transactionType:z,counterparty:ie,status:Ee}})}return ee},ne=async P=>{if(!e||!t())return;const j=Tt(ze,"ledgers",e.id,"transactions");let q=0,ee=0;for(let F=0;F<P.length;F++){const Q=P[F];try{const Y=Kn(j,ar("date","==",_t.fromDate(Q.date)),ar("amount","==",Q.amount),ar("description","==",Q.description));if(!(await En(Y)).empty){ee++;continue}await li(j,{date:_t.fromDate(Q.date),type:Q.type,amount:Q.amount,description:Q.description,notes:Q.notes||"",categoryId:Q.categoryId,categoryName:Q.categoryName,paymentMethod:Q.paymentMethod,includeInBudget:!0,platform:Q.platform,originalData:Q.originalData,createdAt:new Date,createdBy:n.uid,paidBy:n.uid}),q++,v(Math.round((F+1)/P.length*100))}catch(Y){console.error("Error importing transaction:",Y),ee++}}E({imported:q,skipped:ee})},k=async P=>{const j=P.target.files[0];if(j){c(j),m(!0),v(0),E(null),N(""),U("");try{let q=[];if(i==="alipay"){const ee=await j.arrayBuffer(),Q=new TextDecoder("gb2312").decode(ee);q=G(Q)}else if(i==="wechat"){const ee=await j.text();q=$(ee)}else if(i==="llm")throw new Error("LLM parsing not yet implemented.");if(q.length===0)throw new Error("No valid transactions found in the file.");await ne(q),U(`Successfully imported ${(b==null?void 0:b.imported)||0} transactions!`)}catch(q){console.error("Import error:",q),N(`Import error: ${q.message}`)}finally{m(!1)}}};return w.useEffect(()=>{B()},[e]),w.useEffect(()=>{if(V||A){const P=setTimeout(()=>{U(""),N("")},3e3);return()=>clearTimeout(P)}},[V,A]),e?f?p.jsxs("div",{className:"p-6 space-y-4",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Importing Transactions..."}),p.jsx(Dy,{value:g,className:"w-full"}),p.jsxs("p",{className:"text-center text-gray-600",children:[g,"% Complete"]})]}):b?p.jsxs("div",{className:"p-6 space-y-4",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Import Complete!"}),p.jsxs(an,{variant:"default",children:[p.jsx(jE,{className:"h-4 w-4"}),p.jsxs(on,{children:["Successfully imported ",b.imported," transactions.",b.skipped>0&&` ${b.skipped} transactions skipped (duplicates or errors).`]})]}),p.jsx(Ie,{onClick:()=>E(null),children:"Import More"})]}):p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Import Transactions"}),A&&p.jsxs(an,{variant:"destructive",children:[p.jsx(MN,{className:"h-4 w-4"}),p.jsx(on,{children:A})]}),V&&p.jsxs(an,{children:[p.jsx(jE,{className:"h-4 w-4"}),p.jsx(on,{children:V})]}),p.jsxs(yt,{children:[p.jsxs(St,{children:[p.jsx(At,{children:"Select Import Platform"}),p.jsx(Dn,{children:"Choose the platform you want to import transactions from."})]}),p.jsx(vt,{children:p.jsxs(Fi,{value:i,onValueChange:a,children:[p.jsx(qi,{className:"w-[240px]",children:p.jsx(Hi,{placeholder:"Select a platform"})}),p.jsx(Gi,{children:lc.map(P=>p.jsx(In,{value:P.id,children:p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(P.icon,{className:"h-4 w-4"}),p.jsx("span",{children:P.name})]})},P.id))})]})})]}),i&&p.jsxs(yt,{children:[p.jsxs(St,{children:[p.jsxs(At,{children:["Upload ",(S=lc.find(P=>P.id===i))==null?void 0:S.name," File"]}),p.jsxs(Dn,{children:["Upload your exported ",(M=lc.find(P=>P.id===i))==null?void 0:M.name," CSV file. Ensure it's the correct format."]})]}),p.jsxs(vt,{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs(Ye,{htmlFor:"file-upload",className:"cursor-pointer bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600",children:[p.jsx(vT,{className:"h-4 w-4 inline-block mr-2"})," Choose File"]}),p.jsx(Pt,{id:"file-upload",type:"file",className:"hidden",onChange:k,accept:".csv,.txt"}),l&&p.jsx(kr,{variant:"secondary",children:l.name})]}),p.jsxs("div",{className:"text-sm text-gray-500",children:[p.jsxs("p",{children:["Expected fields for ",(L=lc.find(P=>P.id===i))==null?void 0:L.name,":"]}),p.jsx("ol",{className:"list-decimal list-inside",children:(D=lc.find(P=>P.id===i))==null?void 0:D.sampleFields.map((P,j)=>p.jsx("li",{children:P},j))})]})]})]})]}):p.jsx("div",{className:"p-6 text-center text-gray-500",children:"Please select a ledger to manage categories."})}function AL({isMobileMenuOpen:n,setIsMobileMenuOpen:e}){const t=ss(),{currentUser:i,logout:a}=Un(),l=[{path:"/",label:"Dashboard",icon:$N},{path:"/transactions",label:"Transactions",icon:pT},{path:"/budgets",label:"Budgets",icon:RN},{path:"/categories",label:"Categories",icon:yT},{path:"/ledgers",label:"Ledgers",icon:th},{path:"/splits",label:"Expense Splits",icon:ET},{path:"/import",label:"Import",icon:vT},{path:"/settings",label:"Settings",icon:LN}],c=async()=>{try{await a()}catch(f){console.error("Failed to log out:",f)}};return p.jsxs(p.Fragment,{children:[p.jsx("nav",{className:"hidden md:flex bg-white border-b border-gray-200 px-6 py-4",children:p.jsxs("div",{className:"flex items-center justify-between w-full",children:[p.jsxs("div",{className:"flex items-center space-x-8",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(vl,{className:"h-8 w-8 text-blue-600"}),p.jsx("span",{className:"text-xl font-bold text-gray-900",children:"ExpenseTracker"})]}),p.jsx("div",{className:"flex space-x-6",children:l.map(f=>{const m=f.icon,g=t.pathname===f.path;return p.jsxs(yl,{to:f.path,className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${g?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[p.jsx(m,{className:"h-4 w-4"}),p.jsx("span",{children:f.label})]},f.path)})})]}),i&&p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs("span",{className:"text-sm text-gray-600",children:["Welcome, ",i.displayName||i.email]}),p.jsxs(Ie,{variant:"ghost",size:"sm",onClick:c,className:"flex items-center space-x-2",children:[p.jsx(PE,{className:"h-4 w-4"}),p.jsx("span",{children:"Logout"})]})]})]})}),p.jsxs("nav",{className:"md:hidden bg-white border-b border-gray-200",children:[p.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(vl,{className:"h-6 w-6 text-blue-600"}),p.jsx("span",{className:"text-lg font-bold text-gray-900",children:"ExpenseTracker"})]}),p.jsx(Ie,{variant:"ghost",size:"sm",onClick:()=>e(!n),children:n?p.jsx(xl,{className:"h-6 w-6"}):p.jsx(WN,{className:"h-6 w-6"})})]}),n&&p.jsxs("div",{className:"border-t border-gray-200 px-4 py-4 space-y-2",children:[l.map(f=>{const m=f.icon,g=t.pathname===f.path;return p.jsxs(yl,{to:f.path,onClick:()=>e(!1),className:`flex items-center space-x-3 px-3 py-2 rounded-md text-sm font-medium transition-colors ${g?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[p.jsx(m,{className:"h-4 w-4"}),p.jsx("span",{children:f.label})]},f.path)}),i&&p.jsxs(Ie,{variant:"ghost",size:"sm",onClick:c,className:"flex items-center space-x-3 px-3 py-2 w-full justify-start",children:[p.jsx(PE,{className:"h-4 w-4"}),p.jsx("span",{children:"Logout"})]})]})]})]})}function CL(){return p.jsx(aL,{})}function RL(){return p.jsx(pL,{})}function IL(){return p.jsx(bL,{})}function NL(){return p.jsxs("div",{className:"p-6",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Expense Splits"}),p.jsxs(yt,{children:[p.jsxs(St,{children:[p.jsx(At,{children:"Split Expenses"}),p.jsx(Dn,{children:"Share expenses with friends and track balances"})]}),p.jsx(vt,{children:p.jsx("p",{className:"text-gray-600",children:"Expense splitting interface will be implemented here."})})]})]})}function DL(){return p.jsx(SL,{})}function kL(){return p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),p.jsx(TL,{}),p.jsxs(yt,{children:[p.jsxs(St,{children:[p.jsx(At,{children:"Application Preferences"}),p.jsx(Dn,{children:"Additional application settings will be available here"})]}),p.jsx(vt,{children:p.jsx("p",{className:"text-gray-600",children:"More settings options coming soon..."})})]})]})}function OL(){const[n,e]=w.useState(!1),{currentUser:t}=Un();return p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t&&p.jsx(AL,{isMobileMenuOpen:n,setIsMobileMenuOpen:e}),p.jsx("main",{className:t?"max-w-7xl mx-auto":"",children:p.jsxs(KR,{children:[p.jsx(Ir,{path:"/login",element:t?p.jsx(Bg,{to:"/"}):p.jsx(Pj,{})}),p.jsx(Ir,{path:"/signup",element:t?p.jsx(Bg,{to:"/"}):p.jsx(Vj,{})}),p.jsx(Ir,{path:"/",element:p.jsx(zs,{children:p.jsx($j,{})})}),p.jsx(Ir,{path:"/transactions",element:p.jsx(zs,{children:p.jsx(CL,{})})}),p.jsx(Ir,{path:"/budgets",element:p.jsx(zs,{children:p.jsx(RL,{})})}),p.jsx(Ir,{path:"/categories",element:p.jsx(zs,{children:p.jsx(IL,{})})}),p.jsx(Ir,{path:"/ledgers",element:p.jsx(zs,{children:p.jsx(wL,{})})}),p.jsx(Ir,{path:"/splits",element:p.jsx(zs,{children:p.jsx(NL,{})})}),p.jsx(Ir,{path:"/import",element:p.jsx(zs,{children:p.jsx(DL,{})})}),p.jsx(Ir,{path:"/settings",element:p.jsx(zs,{children:p.jsx(kL,{})})})]})})]})}function ML(){return p.jsx(vI,{children:p.jsx(Ij,{children:p.jsx(Nj,{children:p.jsx(OL,{})})})})}rR.createRoot(document.getElementById("root")).render(p.jsx(w.StrictMode,{children:p.jsx(ML,{})}));
