function jR(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function NT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ng={exports:{}},$u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE;function LR(){if(rE)return $u;rE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return $u.Fragment=e,$u.jsx=t,$u.jsxs=t,$u}var iE;function UR(){return iE||(iE=1,ng.exports=LR()),ng.exports}var y=UR(),rg={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE;function BR(){if(sE)return je;sE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=b&&B[b]||B["@@iterator"],typeof B=="function"?B:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,A={};function D(B,ne,fe){this.props=B,this.context=ne,this.refs=A,this.updater=fe||R}D.prototype.isReactComponent={},D.prototype.setState=function(B,ne){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ne,"setState")},D.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function j(){}j.prototype=D.prototype;function U(B,ne,fe){this.props=B,this.context=ne,this.refs=A,this.updater=fe||R}var F=U.prototype=new j;F.constructor=U,C(F,D.prototype),F.isPureReactComponent=!0;var K=Array.isArray,Q={H:null,A:null,T:null,S:null,V:null},se=Object.prototype.hasOwnProperty;function N(B,ne,fe,ie,me,xe){return fe=xe.ref,{$$typeof:n,type:B,key:ne,ref:fe!==void 0?fe:null,props:xe}}function S(B,ne){return N(B.type,ne,void 0,void 0,void 0,B.props)}function k(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function L(B){var ne={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(fe){return ne[fe]})}var M=/\/+/g;function V(B,ne){return typeof B=="object"&&B!==null&&B.key!=null?L(""+B.key):ne.toString(36)}function P(){}function J(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(P,P):(B.status="pending",B.then(function(ne){B.status==="pending"&&(B.status="fulfilled",B.value=ne)},function(ne){B.status==="pending"&&(B.status="rejected",B.reason=ne)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function oe(B,ne,fe,ie,me){var xe=typeof B;(xe==="undefined"||xe==="boolean")&&(B=null);var _e=!1;if(B===null)_e=!0;else switch(xe){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(B.$$typeof){case n:case e:_e=!0;break;case v:return _e=B._init,oe(_e(B._payload),ne,fe,ie,me)}}if(_e)return me=me(B),_e=ie===""?"."+V(B,0):ie,K(me)?(fe="",_e!=null&&(fe=_e.replace(M,"$&/")+"/"),oe(me,ne,fe,"",function(Le){return Le})):me!=null&&(k(me)&&(me=S(me,fe+(me.key==null||B&&B.key===me.key?"":(""+me.key).replace(M,"$&/")+"/")+_e)),ne.push(me)),1;_e=0;var pe=ie===""?".":ie+":";if(K(B))for(var Te=0;Te<B.length;Te++)ie=B[Te],xe=pe+V(ie,Te),_e+=oe(ie,ne,fe,xe,me);else if(Te=E(B),typeof Te=="function")for(B=Te.call(B),Te=0;!(ie=B.next()).done;)ie=ie.value,xe=pe+V(ie,Te++),_e+=oe(ie,ne,fe,xe,me);else if(xe==="object"){if(typeof B.then=="function")return oe(J(B),ne,fe,ie,me);throw ne=String(B),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return _e}function H(B,ne,fe){if(B==null)return B;var ie=[],me=0;return oe(B,ie,"","",function(xe){return ne.call(fe,xe,me++)}),ie}function z(B){if(B._status===-1){var ne=B._result;ne=ne(),ne.then(function(fe){(B._status===0||B._status===-1)&&(B._status=1,B._result=fe)},function(fe){(B._status===0||B._status===-1)&&(B._status=2,B._result=fe)}),B._status===-1&&(B._status=0,B._result=ne)}if(B._status===1)return B._result.default;throw B._result}var G=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function he(){}return je.Children={map:H,forEach:function(B,ne,fe){H(B,function(){ne.apply(this,arguments)},fe)},count:function(B){var ne=0;return H(B,function(){ne++}),ne},toArray:function(B){return H(B,function(ne){return ne})||[]},only:function(B){if(!k(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},je.Component=D,je.Fragment=t,je.Profiler=a,je.PureComponent=U,je.StrictMode=i,je.Suspense=m,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,je.__COMPILER_RUNTIME={__proto__:null,c:function(B){return Q.H.useMemoCache(B)}},je.cache=function(B){return function(){return B.apply(null,arguments)}},je.cloneElement=function(B,ne,fe){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ie=C({},B.props),me=B.key,xe=void 0;if(ne!=null)for(_e in ne.ref!==void 0&&(xe=void 0),ne.key!==void 0&&(me=""+ne.key),ne)!se.call(ne,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&ne.ref===void 0||(ie[_e]=ne[_e]);var _e=arguments.length-2;if(_e===1)ie.children=fe;else if(1<_e){for(var pe=Array(_e),Te=0;Te<_e;Te++)pe[Te]=arguments[Te+2];ie.children=pe}return N(B.type,me,void 0,void 0,xe,ie)},je.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},je.createElement=function(B,ne,fe){var ie,me={},xe=null;if(ne!=null)for(ie in ne.key!==void 0&&(xe=""+ne.key),ne)se.call(ne,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(me[ie]=ne[ie]);var _e=arguments.length-2;if(_e===1)me.children=fe;else if(1<_e){for(var pe=Array(_e),Te=0;Te<_e;Te++)pe[Te]=arguments[Te+2];me.children=pe}if(B&&B.defaultProps)for(ie in _e=B.defaultProps,_e)me[ie]===void 0&&(me[ie]=_e[ie]);return N(B,xe,void 0,void 0,null,me)},je.createRef=function(){return{current:null}},je.forwardRef=function(B){return{$$typeof:f,render:B}},je.isValidElement=k,je.lazy=function(B){return{$$typeof:v,_payload:{_status:-1,_result:B},_init:z}},je.memo=function(B,ne){return{$$typeof:p,type:B,compare:ne===void 0?null:ne}},je.startTransition=function(B){var ne=Q.T,fe={};Q.T=fe;try{var ie=B(),me=Q.S;me!==null&&me(fe,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(he,G)}catch(xe){G(xe)}finally{Q.T=ne}},je.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},je.use=function(B){return Q.H.use(B)},je.useActionState=function(B,ne,fe){return Q.H.useActionState(B,ne,fe)},je.useCallback=function(B,ne){return Q.H.useCallback(B,ne)},je.useContext=function(B){return Q.H.useContext(B)},je.useDebugValue=function(){},je.useDeferredValue=function(B,ne){return Q.H.useDeferredValue(B,ne)},je.useEffect=function(B,ne,fe){var ie=Q.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(B,ne)},je.useId=function(){return Q.H.useId()},je.useImperativeHandle=function(B,ne,fe){return Q.H.useImperativeHandle(B,ne,fe)},je.useInsertionEffect=function(B,ne){return Q.H.useInsertionEffect(B,ne)},je.useLayoutEffect=function(B,ne){return Q.H.useLayoutEffect(B,ne)},je.useMemo=function(B,ne){return Q.H.useMemo(B,ne)},je.useOptimistic=function(B,ne){return Q.H.useOptimistic(B,ne)},je.useReducer=function(B,ne,fe){return Q.H.useReducer(B,ne,fe)},je.useRef=function(B){return Q.H.useRef(B)},je.useState=function(B){return Q.H.useState(B)},je.useSyncExternalStore=function(B,ne,fe){return Q.H.useSyncExternalStore(B,ne,fe)},je.useTransition=function(){return Q.H.useTransition()},je.version="19.1.0",je}var aE;function xy(){return aE||(aE=1,rg.exports=BR()),rg.exports}var x=xy();const As=NT(x),DT=jR({__proto__:null,default:As},[x]);var ig={exports:{}},Yu={},sg={exports:{}},ag={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function zR(){return oE||(oE=1,function(n){function e(H,z){var G=H.length;H.push(z);e:for(;0<G;){var he=G-1>>>1,B=H[he];if(0<a(B,z))H[he]=z,H[G]=B,G=he;else break e}}function t(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var z=H[0],G=H.pop();if(G!==z){H[0]=G;e:for(var he=0,B=H.length,ne=B>>>1;he<ne;){var fe=2*(he+1)-1,ie=H[fe],me=fe+1,xe=H[me];if(0>a(ie,G))me<B&&0>a(xe,ie)?(H[he]=xe,H[me]=G,he=me):(H[he]=ie,H[fe]=G,he=fe);else if(me<B&&0>a(xe,G))H[he]=xe,H[me]=G,he=me;else break e}}return z}function a(H,z){var G=H.sortIndex-z.sortIndex;return G!==0?G:H.id-z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var m=[],p=[],v=1,b=null,E=3,R=!1,C=!1,A=!1,D=!1,j=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function K(H){for(var z=t(p);z!==null;){if(z.callback===null)i(p);else if(z.startTime<=H)i(p),z.sortIndex=z.expirationTime,e(m,z);else break;z=t(p)}}function Q(H){if(A=!1,K(H),!C)if(t(m)!==null)C=!0,se||(se=!0,V());else{var z=t(p);z!==null&&oe(Q,z.startTime-H)}}var se=!1,N=-1,S=5,k=-1;function L(){return D?!0:!(n.unstable_now()-k<S)}function M(){if(D=!1,se){var H=n.unstable_now();k=H;var z=!0;try{e:{C=!1,A&&(A=!1,U(N),N=-1),R=!0;var G=E;try{t:{for(K(H),b=t(m);b!==null&&!(b.expirationTime>H&&L());){var he=b.callback;if(typeof he=="function"){b.callback=null,E=b.priorityLevel;var B=he(b.expirationTime<=H);if(H=n.unstable_now(),typeof B=="function"){b.callback=B,K(H),z=!0;break t}b===t(m)&&i(m),K(H)}else i(m);b=t(m)}if(b!==null)z=!0;else{var ne=t(p);ne!==null&&oe(Q,ne.startTime-H),z=!1}}break e}finally{b=null,E=G,R=!1}z=void 0}}finally{z?V():se=!1}}}var V;if(typeof F=="function")V=function(){F(M)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,J=P.port2;P.port1.onmessage=M,V=function(){J.postMessage(null)}}else V=function(){j(M,0)};function oe(H,z){N=j(function(){H(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(H){switch(E){case 1:case 2:case 3:var z=3;break;default:z=E}var G=E;E=z;try{return H()}finally{E=G}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(H,z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var G=E;E=H;try{return z()}finally{E=G}},n.unstable_scheduleCallback=function(H,z,G){var he=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?he+G:he):G=he,H){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=G+B,H={id:v++,callback:z,priorityLevel:H,startTime:G,expirationTime:B,sortIndex:-1},G>he?(H.sortIndex=G,e(p,H),t(m)===null&&H===t(p)&&(A?(U(N),N=-1):A=!0,oe(Q,G-he))):(H.sortIndex=B,e(m,H),C||R||(C=!0,se||(se=!0,V()))),H},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(H){var z=E;return function(){var G=E;E=z;try{return H.apply(this,arguments)}finally{E=G}}}}(ag)),ag}var lE;function FR(){return lE||(lE=1,sg.exports=zR()),sg.exports}var og={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE;function HR(){if(uE)return _n;uE=1;var n=xy();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:p,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,_n.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,v)},_n.flushSync=function(m){var p=c.T,v=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=p,i.p=v,i.d.f()}},_n.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},_n.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},_n.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,b=f(v,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:R}):v==="script"&&i.d.X(m,{crossOrigin:b,integrity:E,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},_n.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},_n.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=f(v,p.crossOrigin);i.d.L(m,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},_n.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=f(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},_n.requestFormReset=function(m){i.d.r(m)},_n.unstable_batchedUpdates=function(m,p){return m(p)},_n.useFormState=function(m,p,v){return c.H.useFormState(m,p,v)},_n.useFormStatus=function(){return c.H.useHostTransitionStatus()},_n.version="19.1.0",_n}var cE;function OT(){if(cE)return og.exports;cE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),og.exports=HR(),og.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function qR(){if(dE)return Yu;dE=1;var n=FR(),e=xy(),t=OT();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(l(r)!==r)throw Error(i(188))}function m(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var h=o.return;if(h===null)break;var g=h.alternate;if(g===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===o)return f(h),r;if(g===u)return f(h),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=h,u=g;else{for(var T=!1,I=h.child;I;){if(I===o){T=!0,o=h,u=g;break}if(I===u){T=!0,u=h,o=g;break}I=I.sibling}if(!T){for(I=g.child;I;){if(I===o){T=!0,o=g,u=h;break}if(I===u){T=!0,u=g,o=h;break}I=I.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function p(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=p(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),F=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function V(r){return r===null||typeof r!="object"?null:(r=M&&r[M]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function J(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case D:return"Profiler";case A:return"StrictMode";case Q:return"Suspense";case se:return"SuspenseList";case k:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case R:return"Portal";case F:return(r.displayName||"Context")+".Provider";case U:return(r._context.displayName||"Context")+".Consumer";case K:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case N:return s=r.displayName||null,s!==null?s:J(r.type)||"Memo";case S:s=r._payload,r=r._init;try{return J(r(s))}catch{}}return null}var oe=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},he=[],B=-1;function ne(r){return{current:r}}function fe(r){0>B||(r.current=he[B],he[B]=null,B--)}function ie(r,s){B++,he[B]=r.current,r.current=s}var me=ne(null),xe=ne(null),_e=ne(null),pe=ne(null);function Te(r,s){switch(ie(_e,s),ie(xe,r),ie(me,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?Db(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=Db(s),r=Ob(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}fe(me),ie(me,r)}function Le(){fe(me),fe(xe),fe(_e)}function Ce(r){r.memoizedState!==null&&ie(pe,r);var s=me.current,o=Ob(s,r.type);s!==o&&(ie(xe,r),ie(me,o))}function ke(r){xe.current===r&&(fe(me),fe(xe)),pe.current===r&&(fe(pe),zu._currentValue=G)}var Ve=Object.prototype.hasOwnProperty,At=n.unstable_scheduleCallback,Qt=n.unstable_cancelCallback,ur=n.unstable_shouldYield,Cr=n.unstable_requestPaint,Xt=n.unstable_now,Ul=n.unstable_getCurrentPriorityLevel,Ir=n.unstable_ImmediatePriority,no=n.unstable_UserBlockingPriority,Js=n.unstable_NormalPriority,rm=n.unstable_LowPriority,ro=n.unstable_IdlePriority,Bl=n.log,Hc=n.unstable_setDisableYieldValue,wt=null,nt=null;function Vn(r){if(typeof Bl=="function"&&Hc(r),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(wt,r)}catch{}}var yn=Math.clz32?Math.clz32:ea,qc=Math.log,im=Math.LN2;function ea(r){return r>>>=0,r===0?32:31-(qc(r)/im|0)|0}var ta=256,na=4194304;function cr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function io(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var h=0,g=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var I=u&134217727;return I!==0?(u=I&~g,u!==0?h=cr(u):(T&=I,T!==0?h=cr(T):o||(o=I&~r,o!==0&&(h=cr(o))))):(I=u&~g,I!==0?h=cr(I):T!==0?h=cr(T):o||(o=u&~r,o!==0&&(h=cr(o)))),h===0?0:s!==0&&s!==h&&(s&g)===0&&(g=h&-h,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:h}function ra(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function zl(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fl(){var r=ta;return ta<<=1,(ta&4194048)===0&&(ta=256),r}function Hl(){var r=na;return na<<=1,(na&62914560)===0&&(na=4194304),r}function si(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function ai(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ql(r,s,o,u,h,g){var T=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var I=r.entanglements,q=r.expirationTimes,Z=r.hiddenUpdates;for(o=T&~o;0<o;){var ae=31-yn(o),ce=1<<ae;I[ae]=0,q[ae]=-1;var ee=Z[ae];if(ee!==null)for(Z[ae]=null,ae=0;ae<ee.length;ae++){var te=ee[ae];te!==null&&(te.lane&=-536870913)}o&=~ce}u!==0&&Nr(r,u,0),g!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=g&~(T&~s))}function Nr(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-yn(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function Gl(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-yn(o),h=1<<u;h&s|r[u]&s&&(r[u]|=s),o&=~h}}function Xi(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function so(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Wi(){var r=z.p;return r!==0?r:(r=window.event,r===void 0?32:Wb(r.type))}function Gc(r,s){var o=z.p;try{return z.p=r,s()}finally{z.p=o}}var yt=Math.random().toString(36).slice(2),Ft="__reactFiber$"+yt,Ot="__reactProps$"+yt,Kn="__reactContainer$"+yt,$l="__reactEvents$"+yt,sm="__reactListeners$"+yt,Zi="__reactHandles$"+yt,$c="__reactResources$"+yt,ia="__reactMarker$"+yt;function Ji(r){delete r[Ft],delete r[Ot],delete r[$l],delete r[sm],delete r[Zi]}function oi(r){var s=r[Ft];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Kn]||o[Ft]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=Vb(r);r!==null;){if(o=r[Ft])return o;r=Vb(r)}return s}r=o,o=r.parentNode}return null}function Dr(r){if(r=r[Ft]||r[Kn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Or(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function An(r){var s=r[$c];return s||(s=r[$c]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Rt(r){r[ia]=!0}var Yl=new Set,ao={};function dr(r,s){li(r,s),li(r+"Capture",s)}function li(r,s){for(ao[r]=s,r=0;r<s.length;r++)Yl.add(s[r])}var Yc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kc={},sa={};function Qc(r){return Ve.call(sa,r)?!0:Ve.call(Kc,r)?!1:Yc.test(r)?sa[r]=!0:(Kc[r]=!0,!1)}function es(r,s,o){if(Qc(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function kr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function on(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var aa,Xc;function ui(r){if(aa===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);aa=s&&s[1]||"",Xc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+aa+r+Xc}var oo=!1;function lo(r,s){if(!r||oo)return"";oo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(te){var ee=te}Reflect.construct(r,[],ce)}else{try{ce.call()}catch(te){ee=te}r.call(ce.prototype)}}else{try{throw Error()}catch(te){ee=te}(ce=r())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],I=g[1];if(T&&I){var q=T.split(`
`),Z=I.split(`
`);for(h=u=0;u<q.length&&!q[u].includes("DetermineComponentFrameRoot");)u++;for(;h<Z.length&&!Z[h].includes("DetermineComponentFrameRoot");)h++;if(u===q.length||h===Z.length)for(u=q.length-1,h=Z.length-1;1<=u&&0<=h&&q[u]!==Z[h];)h--;for(;1<=u&&0<=h;u--,h--)if(q[u]!==Z[h]){if(u!==1||h!==1)do if(u--,h--,0>h||q[u]!==Z[h]){var ae=`
`+q[u].replace(" at new "," at ");return r.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",r.displayName)),ae}while(1<=u&&0<=h);break}}}finally{oo=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?ui(o):""}function Kl(r){switch(r.tag){case 26:case 27:case 5:return ui(r.type);case 16:return ui("Lazy");case 13:return ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return lo(r.type,!1);case 11:return lo(r.type.render,!1);case 1:return lo(r.type,!0);case 31:return ui("Activity");default:return""}}function uo(r){try{var s="";do s+=Kl(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Rn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ql(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function am(r){var s=Ql(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(T){u=""+T,g.call(this,T)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function co(r){r._valueTracker||(r._valueTracker=am(r))}function Xl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=Ql(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function oa(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var om=/[\n"\\]/g;function kt(r){return r.replace(om,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function jn(r,s,o,u,h,g,T,I){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Rn(s)):r.value!==""+Rn(s)&&(r.value=""+Rn(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?ts(r,T,Rn(s)):o!=null?ts(r,T,Rn(o)):u!=null&&r.removeAttribute("value"),h==null&&g!=null&&(r.defaultChecked=!!g),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.name=""+Rn(I):r.removeAttribute("name")}function la(r,s,o,u,h,g,T,I){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+Rn(o):"",s=s!=null?""+Rn(s):o,I||s===r.value||(r.value=s),r.defaultValue=s}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=I?r.checked:!!u,r.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function ts(r,s,o){s==="number"&&oa(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function ci(r,s,o,u){if(r=r.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=s.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&u&&(r[o].defaultSelected=!0)}else{for(o=""+Rn(o),s=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function ot(r,s,o){if(s!=null&&(s=""+Rn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Rn(o):""}function ua(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(oe(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Rn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Qn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var ca=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wc(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||ca.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Wl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in s)u=s[h],s.hasOwnProperty(h)&&o[h]!==u&&Wc(r,h,u)}else for(var g in s)s.hasOwnProperty(g)&&Wc(r,g,s[g])}function Zl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),um=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fo(r){return um.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var di=null;function Xn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var fi=null,hi=null;function Jl(r){var s=Dr(r);if(s&&(r=s.stateNode)){var o=r[Ot]||null;e:switch(r=s.stateNode,s.type){case"input":if(jn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+kt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var h=u[Ot]||null;if(!h)throw Error(i(90));jn(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&Xl(u)}break e;case"textarea":ot(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&ci(r,!!o.multiple,s,!1)}}}var Mr=!1;function Zc(r,s,o){if(Mr)return r(s,o);Mr=!0;try{var u=r(s);return u}finally{if(Mr=!1,(fi!==null||hi!==null)&&(Gd(),fi&&(s=fi,r=hi,hi=fi=null,Jl(s),r)))for(s=0;s<r.length;s++)Jl(r[s])}}function da(r,s){var o=r.stateNode;if(o===null)return null;var u=o[Ot]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wn=!1;if(fr)try{var fa={};Object.defineProperty(fa,"passive",{get:function(){Wn=!0}}),window.addEventListener("test",fa,fa),window.removeEventListener("test",fa,fa)}catch{Wn=!1}var Pr=null,ns=null,mi=null;function eu(){if(mi)return mi;var r,s=ns,o=s.length,u,h="value"in Pr?Pr.value:Pr.textContent,g=h.length;for(r=0;r<o&&s[r]===h[r];r++);var T=o-r;for(u=1;u<=T&&s[o-u]===h[g-u];u++);return mi=h.slice(r,1<u?1-u:void 0)}function Vr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function jr(){return!0}function tu(){return!1}function Wt(r){function s(o,u,h,g,T){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(o=r[I],this[I]=o?o(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?jr:tu,this.isPropagationStopped=tu,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=jr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=jr)},persist:function(){},isPersistent:jr}),s}var et={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ho=Wt(et),ha=v({},et,{view:0,detail:0}),Jc=Wt(ha),mo,po,Lr,ma=v({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ya,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Lr&&(Lr&&r.type==="mousemove"?(mo=r.screenX-Lr.screenX,po=r.screenY-Lr.screenY):po=mo=0,Lr=r),mo)},movementY:function(r){return"movementY"in r?r.movementY:po}}),Zn=Wt(ma),ed=v({},ma,{dataTransfer:0}),cm=Wt(ed),pa=v({},ha,{relatedTarget:0}),go=Wt(pa),nu=v({},et,{animationName:0,elapsedTime:0,pseudoElement:0}),yo=Wt(nu),td=v({},et,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),vo=Wt(td),dm=v({},et,{data:0}),ru=Wt(dm),ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=rd[r])?!!s[r]:!1}function ya(){return iu}var id=v({},ha,{key:function(r){if(r.key){var s=ga[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Vr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?nd[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ya,charCode:function(r){return r.type==="keypress"?Vr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Vr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),_o=Wt(id),sd=v({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),su=Wt(sd),pi=v({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ya}),ad=Wt(pi),od=v({},et,{propertyName:0,elapsedTime:0,pseudoElement:0}),ld=Wt(od),ud=v({},ma,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),bo=Wt(ud),Cn=v({},et,{newState:0,oldState:0}),cd=Wt(Cn),dd=[9,13,27,32],Ur=fr&&"CompositionEvent"in window,d=null;fr&&"documentMode"in document&&(d=document.documentMode);var _=fr&&"TextEvent"in window&&!d,w=fr&&(!Ur||d&&8<d&&11>=d),O=" ",X=!1;function re(r,s){switch(r){case"keyup":return dd.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ke=!1;function Ht(r,s){switch(r){case"compositionend":return ge(s);case"keypress":return s.which!==32?null:(X=!0,O);case"textInput":return r=s.data,r===O&&X?null:r;default:return null}}function Qe(r,s){if(Ke)return r==="compositionend"||!Ur&&re(r,s)?(r=eu(),mi=ns=Pr=null,Ke=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return w&&s.locale!=="ko"?null:s.data;default:return null}}var Zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Zt[r.type]:s==="textarea"}function gi(r,s,o,u){fi?hi?hi.push(u):hi=[u]:fi=u,s=Wd(s,"onChange"),0<s.length&&(o=new ho("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var ln=null,Br=null;function au(r){Ab(r,0)}function fd(r){var s=Or(r);if(Xl(s))return r}function Yv(r,s){if(r==="change")return s}var Kv=!1;if(fr){var fm;if(fr){var hm="oninput"in document;if(!hm){var Qv=document.createElement("div");Qv.setAttribute("oninput","return;"),hm=typeof Qv.oninput=="function"}fm=hm}else fm=!1;Kv=fm&&(!document.documentMode||9<document.documentMode)}function Xv(){ln&&(ln.detachEvent("onpropertychange",Wv),Br=ln=null)}function Wv(r){if(r.propertyName==="value"&&fd(Br)){var s=[];gi(s,Br,r,Xn(r)),Zc(au,s)}}function h2(r,s,o){r==="focusin"?(Xv(),ln=s,Br=o,ln.attachEvent("onpropertychange",Wv)):r==="focusout"&&Xv()}function m2(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return fd(Br)}function p2(r,s){if(r==="click")return fd(s)}function g2(r,s){if(r==="input"||r==="change")return fd(s)}function y2(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Ln=typeof Object.is=="function"?Object.is:y2;function ou(r,s){if(Ln(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!Ve.call(s,h)||!Ln(r[h],s[h]))return!1}return!0}function Zv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Jv(r,s){var o=Zv(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Zv(o)}}function e0(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?e0(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function t0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=oa(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=oa(r.document)}return s}function mm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var v2=fr&&"documentMode"in document&&11>=document.documentMode,Eo=null,pm=null,lu=null,gm=!1;function n0(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;gm||Eo==null||Eo!==oa(u)||(u=Eo,"selectionStart"in u&&mm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),lu&&ou(lu,u)||(lu=u,u=Wd(pm,"onSelect"),0<u.length&&(s=new ho("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=Eo)))}function va(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var wo={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionrun:va("Transition","TransitionRun"),transitionstart:va("Transition","TransitionStart"),transitioncancel:va("Transition","TransitionCancel"),transitionend:va("Transition","TransitionEnd")},ym={},r0={};fr&&(r0=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function _a(r){if(ym[r])return ym[r];if(!wo[r])return r;var s=wo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in r0)return ym[r]=s[o];return r}var i0=_a("animationend"),s0=_a("animationiteration"),a0=_a("animationstart"),_2=_a("transitionrun"),b2=_a("transitionstart"),E2=_a("transitioncancel"),o0=_a("transitionend"),l0=new Map,vm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vm.push("scrollEnd");function hr(r,s){l0.set(r,s),dr(s,[r])}var u0=new WeakMap;function Jn(r,s){if(typeof r=="object"&&r!==null){var o=u0.get(r);return o!==void 0?o:(s={value:r,source:s,stack:uo(s)},u0.set(r,s),s)}return{value:r,source:s,stack:uo(s)}}var er=[],To=0,_m=0;function hd(){for(var r=To,s=_m=To=0;s<r;){var o=er[s];er[s++]=null;var u=er[s];er[s++]=null;var h=er[s];er[s++]=null;var g=er[s];if(er[s++]=null,u!==null&&h!==null){var T=u.pending;T===null?h.next=h:(h.next=T.next,T.next=h),u.pending=h}g!==0&&c0(o,h,g)}}function md(r,s,o,u){er[To++]=r,er[To++]=s,er[To++]=o,er[To++]=u,_m|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function bm(r,s,o,u){return md(r,s,o,u),pd(r)}function xo(r,s){return md(r,null,null,s),pd(r)}function c0(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var h=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(h=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,h&&s!==null&&(h=31-yn(o),r=g.hiddenUpdates,u=r[h],u===null?r[h]=[s]:u.push(s),s.lane=o|536870912),g):null}function pd(r){if(50<ku)throw ku=0,Ap=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var So={};function w2(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(r,s,o,u){return new w2(r,s,o,u)}function Em(r){return r=r.prototype,!(!r||!r.isReactComponent)}function yi(r,s){var o=r.alternate;return o===null?(o=Un(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function d0(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function gd(r,s,o,u,h,g){var T=0;if(u=r,typeof r=="function")Em(r)&&(T=1);else if(typeof r=="string")T=xR(r,o,me.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case k:return r=Un(31,o,s,h),r.elementType=k,r.lanes=g,r;case C:return ba(o.children,h,g,s);case A:T=8,h|=24;break;case D:return r=Un(12,o,s,h|2),r.elementType=D,r.lanes=g,r;case Q:return r=Un(13,o,s,h),r.elementType=Q,r.lanes=g,r;case se:return r=Un(19,o,s,h),r.elementType=se,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case j:case F:T=10;break e;case U:T=9;break e;case K:T=11;break e;case N:T=14;break e;case S:T=16,u=null;break e}T=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=Un(T,o,s,h),s.elementType=r,s.type=u,s.lanes=g,s}function ba(r,s,o,u){return r=Un(7,r,u,s),r.lanes=o,r}function wm(r,s,o){return r=Un(6,r,null,s),r.lanes=o,r}function Tm(r,s,o){return s=Un(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Ao=[],Ro=0,yd=null,vd=0,tr=[],nr=0,Ea=null,vi=1,_i="";function wa(r,s){Ao[Ro++]=vd,Ao[Ro++]=yd,yd=r,vd=s}function f0(r,s,o){tr[nr++]=vi,tr[nr++]=_i,tr[nr++]=Ea,Ea=r;var u=vi;r=_i;var h=32-yn(u)-1;u&=~(1<<h),o+=1;var g=32-yn(s)+h;if(30<g){var T=h-h%5;g=(u&(1<<T)-1).toString(32),u>>=T,h-=T,vi=1<<32-yn(s)+h|o<<h|u,_i=g+r}else vi=1<<g|o<<h|u,_i=r}function xm(r){r.return!==null&&(wa(r,1),f0(r,1,0))}function Sm(r){for(;r===yd;)yd=Ao[--Ro],Ao[Ro]=null,vd=Ao[--Ro],Ao[Ro]=null;for(;r===Ea;)Ea=tr[--nr],tr[nr]=null,_i=tr[--nr],tr[nr]=null,vi=tr[--nr],tr[nr]=null}var In=null,Tt=null,Je=!1,Ta=null,zr=!1,Am=Error(i(519));function xa(r){var s=Error(i(418,""));throw du(Jn(s,r)),Am}function h0(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Ft]=r,s[Ot]=u,o){case"dialog":qe("cancel",s),qe("close",s);break;case"iframe":case"object":case"embed":qe("load",s);break;case"video":case"audio":for(o=0;o<Pu.length;o++)qe(Pu[o],s);break;case"source":qe("error",s);break;case"img":case"image":case"link":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"input":qe("invalid",s),la(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),co(s);break;case"select":qe("invalid",s);break;case"textarea":qe("invalid",s),ua(s,u.value,u.defaultValue,u.children),co(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||Nb(s.textContent,o)?(u.popover!=null&&(qe("beforetoggle",s),qe("toggle",s)),u.onScroll!=null&&qe("scroll",s),u.onScrollEnd!=null&&qe("scrollend",s),u.onClick!=null&&(s.onclick=Zd),s=!0):s=!1,s||xa(r)}function m0(r){for(In=r.return;In;)switch(In.tag){case 5:case 13:zr=!1;return;case 27:case 3:zr=!0;return;default:In=In.return}}function uu(r){if(r!==In)return!1;if(!Je)return m0(r),Je=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Fp(r.type,r.memoizedProps)),o=!o),o&&Tt&&xa(r),m0(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){Tt=pr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}Tt=null}}else s===27?(s=Tt,vs(r.type)?(r=$p,$p=null,Tt=r):Tt=s):Tt=In?pr(r.stateNode.nextSibling):null;return!0}function cu(){Tt=In=null,Je=!1}function p0(){var r=Ta;return r!==null&&(On===null?On=r:On.push.apply(On,r),Ta=null),r}function du(r){Ta===null?Ta=[r]:Ta.push(r)}var Rm=ne(null),Sa=null,bi=null;function rs(r,s,o){ie(Rm,s._currentValue),s._currentValue=o}function Ei(r){r._currentValue=Rm.current,fe(Rm)}function Cm(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function Im(r,s,o,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var g=h.dependencies;if(g!==null){var T=h.child;g=g.firstContext;e:for(;g!==null;){var I=g;g=h;for(var q=0;q<s.length;q++)if(I.context===s[q]){g.lanes|=o,I=g.alternate,I!==null&&(I.lanes|=o),Cm(g.return,o,r),u||(T=null);break e}g=I.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(i(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),Cm(T,o,r),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===r){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function fu(r,s,o,u){r=null;for(var h=s,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var I=h.type;Ln(h.pendingProps.value,T.value)||(r!==null?r.push(I):r=[I])}}else if(h===pe.current){if(T=h.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(zu):r=[zu])}h=h.return}r!==null&&Im(s,r,o,u),s.flags|=262144}function _d(r){for(r=r.firstContext;r!==null;){if(!Ln(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Aa(r){Sa=r,bi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function vn(r){return g0(Sa,r)}function bd(r,s){return Sa===null&&Aa(r),g0(r,s)}function g0(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},bi===null){if(r===null)throw Error(i(308));bi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else bi=bi.next=s;return o}var T2=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},x2=n.unstable_scheduleCallback,S2=n.unstable_NormalPriority,Gt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nm(){return{controller:new T2,data:new Map,refCount:0}}function hu(r){r.refCount--,r.refCount===0&&x2(S2,function(){r.controller.abort()})}var mu=null,Dm=0,Co=0,Io=null;function A2(r,s){if(mu===null){var o=mu=[];Dm=0,Co=kp(),Io={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Dm++,s.then(y0,y0),s}function y0(){if(--Dm===0&&mu!==null){Io!==null&&(Io.status="fulfilled");var r=mu;mu=null,Co=0,Io=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function R2(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var h=0;h<o.length;h++)(0,o[h])(s)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var v0=H.S;H.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&A2(r,s),v0!==null&&v0(r,s)};var Ra=ne(null);function Om(){var r=Ra.current;return r!==null?r:pt.pooledCache}function Ed(r,s){s===null?ie(Ra,Ra.current):ie(Ra,s.pool)}function _0(){var r=Om();return r===null?null:{parent:Gt._currentValue,pool:r}}var pu=Error(i(460)),b0=Error(i(474)),wd=Error(i(542)),km={then:function(){}};function E0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Td(){}function w0(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Td,Td),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,x0(r),r;default:if(typeof s.status=="string")s.then(Td,Td);else{if(r=pt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=u}},function(u){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,x0(r),r}throw gu=s,pu}}var gu=null;function T0(){if(gu===null)throw Error(i(459));var r=gu;return gu=null,r}function x0(r){if(r===pu||r===wd)throw Error(i(483))}var is=!1;function Mm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ss(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function as(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(rt&2)!==0){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,s=pd(r),c0(r,null,o),s}return md(r,u,s,o),pd(r)}function yu(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Gl(r,o)}}function Vm(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?h=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?h=g=s:g=g.next=s}else h=g=s;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var jm=!1;function vu(){if(jm){var r=Io;if(r!==null)throw r}}function _u(r,s,o,u){jm=!1;var h=r.updateQueue;is=!1;var g=h.firstBaseUpdate,T=h.lastBaseUpdate,I=h.shared.pending;if(I!==null){h.shared.pending=null;var q=I,Z=q.next;q.next=null,T===null?g=Z:T.next=Z,T=q;var ae=r.alternate;ae!==null&&(ae=ae.updateQueue,I=ae.lastBaseUpdate,I!==T&&(I===null?ae.firstBaseUpdate=Z:I.next=Z,ae.lastBaseUpdate=q))}if(g!==null){var ce=h.baseState;T=0,ae=Z=q=null,I=g;do{var ee=I.lane&-536870913,te=ee!==I.lane;if(te?(Xe&ee)===ee:(u&ee)===ee){ee!==0&&ee===Co&&(jm=!0),ae!==null&&(ae=ae.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Oe=r,Re=I;ee=s;var ct=o;switch(Re.tag){case 1:if(Oe=Re.payload,typeof Oe=="function"){ce=Oe.call(ct,ce,ee);break e}ce=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Re.payload,ee=typeof Oe=="function"?Oe.call(ct,ce,ee):Oe,ee==null)break e;ce=v({},ce,ee);break e;case 2:is=!0}}ee=I.callback,ee!==null&&(r.flags|=64,te&&(r.flags|=8192),te=h.callbacks,te===null?h.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ae===null?(Z=ae=te,q=ce):ae=ae.next=te,T|=ee;if(I=I.next,I===null){if(I=h.shared.pending,I===null)break;te=I,I=te.next,te.next=null,h.lastBaseUpdate=te,h.shared.pending=null}}while(!0);ae===null&&(q=ce),h.baseState=q,h.firstBaseUpdate=Z,h.lastBaseUpdate=ae,g===null&&(h.shared.lanes=0),ms|=T,r.lanes=T,r.memoizedState=ce}}function S0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function A0(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)S0(o[r],s)}var No=ne(null),xd=ne(0);function R0(r,s){r=Ci,ie(xd,r),ie(No,s),Ci=r|s.baseLanes}function Lm(){ie(xd,Ci),ie(No,No.current)}function Um(){Ci=xd.current,fe(No),fe(xd)}var os=0,Ue=null,lt=null,Mt=null,Sd=!1,Do=!1,Ca=!1,Ad=0,bu=0,Oo=null,C2=0;function Ct(){throw Error(i(321))}function Bm(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Ln(r[o],s[o]))return!1;return!0}function zm(r,s,o,u,h,g){return os=g,Ue=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=r===null||r.memoizedState===null?c_:d_,Ca=!1,g=o(u,h),Ca=!1,Do&&(g=I0(s,o,u,h)),C0(r),g}function C0(r){H.H=Od;var s=lt!==null&&lt.next!==null;if(os=0,Mt=lt=Ue=null,Sd=!1,bu=0,Oo=null,s)throw Error(i(300));r===null||Jt||(r=r.dependencies,r!==null&&_d(r)&&(Jt=!0))}function I0(r,s,o,u){Ue=r;var h=0;do{if(Do&&(Oo=null),bu=0,Do=!1,25<=h)throw Error(i(301));if(h+=1,Mt=lt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}H.H=P2,g=s(o,u)}while(Do);return g}function I2(){var r=H.H,s=r.useState()[0];return s=typeof s.then=="function"?Eu(s):s,r=r.useState()[0],(lt!==null?lt.memoizedState:null)!==r&&(Ue.flags|=1024),s}function Fm(){var r=Ad!==0;return Ad=0,r}function Hm(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function qm(r){if(Sd){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Sd=!1}os=0,Mt=lt=Ue=null,Do=!1,bu=Ad=0,Oo=null}function Nn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Ue.memoizedState=Mt=r:Mt=Mt.next=r,Mt}function Pt(){if(lt===null){var r=Ue.alternate;r=r!==null?r.memoizedState:null}else r=lt.next;var s=Mt===null?Ue.memoizedState:Mt.next;if(s!==null)Mt=s,lt=r;else{if(r===null)throw Ue.alternate===null?Error(i(467)):Error(i(310));lt=r,r={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Mt===null?Ue.memoizedState=Mt=r:Mt=Mt.next=r}return Mt}function Gm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eu(r){var s=bu;return bu+=1,Oo===null&&(Oo=[]),r=w0(Oo,r,s),s=Ue,(Mt===null?s.memoizedState:Mt.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?c_:d_),r}function Rd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Eu(r);if(r.$$typeof===F)return vn(r)}throw Error(i(438,String(r)))}function $m(r){var s=null,o=Ue.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ue.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Gm(),Ue.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=L;return s.index++,o}function wi(r,s){return typeof s=="function"?s(r):s}function Cd(r){var s=Pt();return Ym(s,lt,r)}function Ym(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var h=r.baseQueue,g=u.pending;if(g!==null){if(h!==null){var T=h.next;h.next=g.next,g.next=T}s.baseQueue=h=g,u.pending=null}if(g=r.baseState,h===null)r.memoizedState=g;else{s=h.next;var I=T=null,q=null,Z=s,ae=!1;do{var ce=Z.lane&-536870913;if(ce!==Z.lane?(Xe&ce)===ce:(os&ce)===ce){var ee=Z.revertLane;if(ee===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ce===Co&&(ae=!0);else if((os&ee)===ee){Z=Z.next,ee===Co&&(ae=!0);continue}else ce={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},q===null?(I=q=ce,T=g):q=q.next=ce,Ue.lanes|=ee,ms|=ee;ce=Z.action,Ca&&o(g,ce),g=Z.hasEagerState?Z.eagerState:o(g,ce)}else ee={lane:ce,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},q===null?(I=q=ee,T=g):q=q.next=ee,Ue.lanes|=ce,ms|=ce;Z=Z.next}while(Z!==null&&Z!==s);if(q===null?T=g:q.next=I,!Ln(g,r.memoizedState)&&(Jt=!0,ae&&(o=Io,o!==null)))throw o;r.memoizedState=g,r.baseState=T,r.baseQueue=q,u.lastRenderedState=g}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Km(r){var s=Pt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,h=o.pending,g=s.memoizedState;if(h!==null){o.pending=null;var T=h=h.next;do g=r(g,T.action),T=T.next;while(T!==h);Ln(g,s.memoizedState)||(Jt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function N0(r,s,o){var u=Ue,h=Pt(),g=Je;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var T=!Ln((lt||h).memoizedState,o);T&&(h.memoizedState=o,Jt=!0),h=h.queue;var I=k0.bind(null,u,h,r);if(wu(2048,8,I,[r]),h.getSnapshot!==s||T||Mt!==null&&Mt.memoizedState.tag&1){if(u.flags|=2048,ko(9,Id(),O0.bind(null,u,h,o,s),null),pt===null)throw Error(i(349));g||(os&124)!==0||D0(u,s,o)}return o}function D0(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Ue.updateQueue,s===null?(s=Gm(),Ue.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function O0(r,s,o,u){s.value=o,s.getSnapshot=u,M0(s)&&P0(r)}function k0(r,s,o){return o(function(){M0(s)&&P0(r)})}function M0(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Ln(r,o)}catch{return!0}}function P0(r){var s=xo(r,2);s!==null&&qn(s,r,2)}function Qm(r){var s=Nn();if(typeof r=="function"){var o=r;if(r=o(),Ca){Vn(!0);try{o()}finally{Vn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:r},s}function V0(r,s,o,u){return r.baseState=o,Ym(r,lt,typeof u=="function"?u:wi)}function N2(r,s,o,u,h){if(Dd(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};H.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,j0(s,g)):(g.next=o.next,s.pending=o.next=g)}}function j0(r,s){var o=s.action,u=s.payload,h=r.state;if(s.isTransition){var g=H.T,T={};H.T=T;try{var I=o(h,u),q=H.S;q!==null&&q(T,I),L0(r,s,I)}catch(Z){Xm(r,s,Z)}finally{H.T=g}}else try{g=o(h,u),L0(r,s,g)}catch(Z){Xm(r,s,Z)}}function L0(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){U0(r,s,u)},function(u){return Xm(r,s,u)}):U0(r,s,o)}function U0(r,s,o){s.status="fulfilled",s.value=o,B0(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,j0(r,o)))}function Xm(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,B0(s),s=s.next;while(s!==u)}r.action=null}function B0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function z0(r,s){return s}function F0(r,s){if(Je){var o=pt.formState;if(o!==null){e:{var u=Ue;if(Je){if(Tt){t:{for(var h=Tt,g=zr;h.nodeType!==8;){if(!g){h=null;break t}if(h=pr(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){Tt=pr(h.nextSibling),u=h.data==="F!";break e}}xa(u)}u=!1}u&&(s=o[0])}}return o=Nn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:z0,lastRenderedState:s},o.queue=u,o=o_.bind(null,Ue,u),u.dispatch=o,u=Qm(!1),g=tp.bind(null,Ue,!1,u.queue),u=Nn(),h={state:s,dispatch:null,action:r,pending:null},u.queue=h,o=N2.bind(null,Ue,h,g,o),h.dispatch=o,u.memoizedState=r,[s,o,!1]}function H0(r){var s=Pt();return q0(s,lt,r)}function q0(r,s,o){if(s=Ym(r,s,z0)[0],r=Cd(wi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Eu(s)}catch(T){throw T===pu?wd:T}else u=s;s=Pt();var h=s.queue,g=h.dispatch;return o!==s.memoizedState&&(Ue.flags|=2048,ko(9,Id(),D2.bind(null,h,o),null)),[u,g,r]}function D2(r,s){r.action=s}function G0(r){var s=Pt(),o=lt;if(o!==null)return q0(s,o,r);Pt(),s=s.memoizedState,o=Pt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function ko(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=Ue.updateQueue,s===null&&(s=Gm(),Ue.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function Id(){return{destroy:void 0,resource:void 0}}function $0(){return Pt().memoizedState}function Nd(r,s,o,u){var h=Nn();u=u===void 0?null:u,Ue.flags|=r,h.memoizedState=ko(1|s,Id(),o,u)}function wu(r,s,o,u){var h=Pt();u=u===void 0?null:u;var g=h.memoizedState.inst;lt!==null&&u!==null&&Bm(u,lt.memoizedState.deps)?h.memoizedState=ko(s,g,o,u):(Ue.flags|=r,h.memoizedState=ko(1|s,g,o,u))}function Y0(r,s){Nd(8390656,8,r,s)}function K0(r,s){wu(2048,8,r,s)}function Q0(r,s){return wu(4,2,r,s)}function X0(r,s){return wu(4,4,r,s)}function W0(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Z0(r,s,o){o=o!=null?o.concat([r]):null,wu(4,4,W0.bind(null,s,r),o)}function Wm(){}function J0(r,s){var o=Pt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Bm(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function e_(r,s){var o=Pt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Bm(s,u[1]))return u[0];if(u=r(),Ca){Vn(!0);try{r()}finally{Vn(!1)}}return o.memoizedState=[u,s],u}function Zm(r,s,o){return o===void 0||(os&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=rb(),Ue.lanes|=r,ms|=r,o)}function t_(r,s,o,u){return Ln(o,s)?o:No.current!==null?(r=Zm(r,o,u),Ln(r,s)||(Jt=!0),r):(os&42)===0?(Jt=!0,r.memoizedState=o):(r=rb(),Ue.lanes|=r,ms|=r,s)}function n_(r,s,o,u,h){var g=z.p;z.p=g!==0&&8>g?g:8;var T=H.T,I={};H.T=I,tp(r,!1,s,o);try{var q=h(),Z=H.S;if(Z!==null&&Z(I,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ae=R2(q,u);Tu(r,s,ae,Hn(r))}else Tu(r,s,u,Hn(r))}catch(ce){Tu(r,s,{then:function(){},status:"rejected",reason:ce},Hn())}finally{z.p=g,H.T=T}}function O2(){}function Jm(r,s,o,u){if(r.tag!==5)throw Error(i(476));var h=r_(r).queue;n_(r,h,s,G,o===null?O2:function(){return i_(r),o(u)})}function r_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:G},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function i_(r){var s=r_(r).next.queue;Tu(r,s,{},Hn())}function ep(){return vn(zu)}function s_(){return Pt().memoizedState}function a_(){return Pt().memoizedState}function k2(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Hn();r=ss(o);var u=as(s,r,o);u!==null&&(qn(u,s,o),yu(u,s,o)),s={cache:Nm()},r.payload=s;return}s=s.return}}function M2(r,s,o){var u=Hn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Dd(r)?l_(s,o):(o=bm(r,s,o,u),o!==null&&(qn(o,r,u),u_(o,s,u)))}function o_(r,s,o){var u=Hn();Tu(r,s,o,u)}function Tu(r,s,o,u){var h={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Dd(r))l_(s,h);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,I=g(T,o);if(h.hasEagerState=!0,h.eagerState=I,Ln(I,T))return md(r,s,h,0),pt===null&&hd(),!1}catch{}finally{}if(o=bm(r,s,h,u),o!==null)return qn(o,r,u),u_(o,s,u),!0}return!1}function tp(r,s,o,u){if(u={lane:2,revertLane:kp(),action:u,hasEagerState:!1,eagerState:null,next:null},Dd(r)){if(s)throw Error(i(479))}else s=bm(r,o,u,2),s!==null&&qn(s,r,2)}function Dd(r){var s=r.alternate;return r===Ue||s!==null&&s===Ue}function l_(r,s){Do=Sd=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function u_(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Gl(r,o)}}var Od={readContext:vn,use:Rd,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct},c_={readContext:vn,use:Rd,useCallback:function(r,s){return Nn().memoizedState=[r,s===void 0?null:s],r},useContext:vn,useEffect:Y0,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Nd(4194308,4,W0.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Nd(4194308,4,r,s)},useInsertionEffect:function(r,s){Nd(4,2,r,s)},useMemo:function(r,s){var o=Nn();s=s===void 0?null:s;var u=r();if(Ca){Vn(!0);try{r()}finally{Vn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=Nn();if(o!==void 0){var h=o(s);if(Ca){Vn(!0);try{o(s)}finally{Vn(!1)}}}else h=s;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=M2.bind(null,Ue,r),[u.memoizedState,r]},useRef:function(r){var s=Nn();return r={current:r},s.memoizedState=r},useState:function(r){r=Qm(r);var s=r.queue,o=o_.bind(null,Ue,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Wm,useDeferredValue:function(r,s){var o=Nn();return Zm(o,r,s)},useTransition:function(){var r=Qm(!1);return r=n_.bind(null,Ue,r.queue,!0,!1),Nn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Ue,h=Nn();if(Je){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),pt===null)throw Error(i(349));(Xe&124)!==0||D0(u,s,o)}h.memoizedState=o;var g={value:o,getSnapshot:s};return h.queue=g,Y0(k0.bind(null,u,g,r),[r]),u.flags|=2048,ko(9,Id(),O0.bind(null,u,g,o,s),null),o},useId:function(){var r=Nn(),s=pt.identifierPrefix;if(Je){var o=_i,u=vi;o=(u&~(1<<32-yn(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=Ad++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=C2++,s="«"+s+"r"+o.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:ep,useFormState:F0,useActionState:F0,useOptimistic:function(r){var s=Nn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=tp.bind(null,Ue,!0,o),o.dispatch=s,[r,s]},useMemoCache:$m,useCacheRefresh:function(){return Nn().memoizedState=k2.bind(null,Ue)}},d_={readContext:vn,use:Rd,useCallback:J0,useContext:vn,useEffect:K0,useImperativeHandle:Z0,useInsertionEffect:Q0,useLayoutEffect:X0,useMemo:e_,useReducer:Cd,useRef:$0,useState:function(){return Cd(wi)},useDebugValue:Wm,useDeferredValue:function(r,s){var o=Pt();return t_(o,lt.memoizedState,r,s)},useTransition:function(){var r=Cd(wi)[0],s=Pt().memoizedState;return[typeof r=="boolean"?r:Eu(r),s]},useSyncExternalStore:N0,useId:s_,useHostTransitionStatus:ep,useFormState:H0,useActionState:H0,useOptimistic:function(r,s){var o=Pt();return V0(o,lt,r,s)},useMemoCache:$m,useCacheRefresh:a_},P2={readContext:vn,use:Rd,useCallback:J0,useContext:vn,useEffect:K0,useImperativeHandle:Z0,useInsertionEffect:Q0,useLayoutEffect:X0,useMemo:e_,useReducer:Km,useRef:$0,useState:function(){return Km(wi)},useDebugValue:Wm,useDeferredValue:function(r,s){var o=Pt();return lt===null?Zm(o,r,s):t_(o,lt.memoizedState,r,s)},useTransition:function(){var r=Km(wi)[0],s=Pt().memoizedState;return[typeof r=="boolean"?r:Eu(r),s]},useSyncExternalStore:N0,useId:s_,useHostTransitionStatus:ep,useFormState:G0,useActionState:G0,useOptimistic:function(r,s){var o=Pt();return lt!==null?V0(o,lt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:$m,useCacheRefresh:a_},Mo=null,xu=0;function kd(r){var s=xu;return xu+=1,Mo===null&&(Mo=[]),w0(Mo,r,s)}function Su(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Md(r,s){throw s.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function f_(r){var s=r._init;return s(r._payload)}function h_(r){function s(Y,$){if(r){var W=Y.deletions;W===null?(Y.deletions=[$],Y.flags|=16):W.push($)}}function o(Y,$){if(!r)return null;for(;$!==null;)s(Y,$),$=$.sibling;return null}function u(Y){for(var $=new Map;Y!==null;)Y.key!==null?$.set(Y.key,Y):$.set(Y.index,Y),Y=Y.sibling;return $}function h(Y,$){return Y=yi(Y,$),Y.index=0,Y.sibling=null,Y}function g(Y,$,W){return Y.index=W,r?(W=Y.alternate,W!==null?(W=W.index,W<$?(Y.flags|=67108866,$):W):(Y.flags|=67108866,$)):(Y.flags|=1048576,$)}function T(Y){return r&&Y.alternate===null&&(Y.flags|=67108866),Y}function I(Y,$,W,le){return $===null||$.tag!==6?($=wm(W,Y.mode,le),$.return=Y,$):($=h($,W),$.return=Y,$)}function q(Y,$,W,le){var be=W.type;return be===C?ae(Y,$,W.props.children,le,W.key):$!==null&&($.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===S&&f_(be)===$.type)?($=h($,W.props),Su($,W),$.return=Y,$):($=gd(W.type,W.key,W.props,null,Y.mode,le),Su($,W),$.return=Y,$)}function Z(Y,$,W,le){return $===null||$.tag!==4||$.stateNode.containerInfo!==W.containerInfo||$.stateNode.implementation!==W.implementation?($=Tm(W,Y.mode,le),$.return=Y,$):($=h($,W.children||[]),$.return=Y,$)}function ae(Y,$,W,le,be){return $===null||$.tag!==7?($=ba(W,Y.mode,le,be),$.return=Y,$):($=h($,W),$.return=Y,$)}function ce(Y,$,W){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=wm(""+$,Y.mode,W),$.return=Y,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case E:return W=gd($.type,$.key,$.props,null,Y.mode,W),Su(W,$),W.return=Y,W;case R:return $=Tm($,Y.mode,W),$.return=Y,$;case S:var le=$._init;return $=le($._payload),ce(Y,$,W)}if(oe($)||V($))return $=ba($,Y.mode,W,null),$.return=Y,$;if(typeof $.then=="function")return ce(Y,kd($),W);if($.$$typeof===F)return ce(Y,bd(Y,$),W);Md(Y,$)}return null}function ee(Y,$,W,le){var be=$!==null?$.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return be!==null?null:I(Y,$,""+W,le);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case E:return W.key===be?q(Y,$,W,le):null;case R:return W.key===be?Z(Y,$,W,le):null;case S:return be=W._init,W=be(W._payload),ee(Y,$,W,le)}if(oe(W)||V(W))return be!==null?null:ae(Y,$,W,le,null);if(typeof W.then=="function")return ee(Y,$,kd(W),le);if(W.$$typeof===F)return ee(Y,$,bd(Y,W),le);Md(Y,W)}return null}function te(Y,$,W,le,be){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Y=Y.get(W)||null,I($,Y,""+le,be);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case E:return Y=Y.get(le.key===null?W:le.key)||null,q($,Y,le,be);case R:return Y=Y.get(le.key===null?W:le.key)||null,Z($,Y,le,be);case S:var Fe=le._init;return le=Fe(le._payload),te(Y,$,W,le,be)}if(oe(le)||V(le))return Y=Y.get(W)||null,ae($,Y,le,be,null);if(typeof le.then=="function")return te(Y,$,W,kd(le),be);if(le.$$typeof===F)return te(Y,$,W,bd($,le),be);Md($,le)}return null}function Oe(Y,$,W,le){for(var be=null,Fe=null,Se=$,Ie=$=0,tn=null;Se!==null&&Ie<W.length;Ie++){Se.index>Ie?(tn=Se,Se=null):tn=Se.sibling;var Ze=ee(Y,Se,W[Ie],le);if(Ze===null){Se===null&&(Se=tn);break}r&&Se&&Ze.alternate===null&&s(Y,Se),$=g(Ze,$,Ie),Fe===null?be=Ze:Fe.sibling=Ze,Fe=Ze,Se=tn}if(Ie===W.length)return o(Y,Se),Je&&wa(Y,Ie),be;if(Se===null){for(;Ie<W.length;Ie++)Se=ce(Y,W[Ie],le),Se!==null&&($=g(Se,$,Ie),Fe===null?be=Se:Fe.sibling=Se,Fe=Se);return Je&&wa(Y,Ie),be}for(Se=u(Se);Ie<W.length;Ie++)tn=te(Se,Y,Ie,W[Ie],le),tn!==null&&(r&&tn.alternate!==null&&Se.delete(tn.key===null?Ie:tn.key),$=g(tn,$,Ie),Fe===null?be=tn:Fe.sibling=tn,Fe=tn);return r&&Se.forEach(function(Ts){return s(Y,Ts)}),Je&&wa(Y,Ie),be}function Re(Y,$,W,le){if(W==null)throw Error(i(151));for(var be=null,Fe=null,Se=$,Ie=$=0,tn=null,Ze=W.next();Se!==null&&!Ze.done;Ie++,Ze=W.next()){Se.index>Ie?(tn=Se,Se=null):tn=Se.sibling;var Ts=ee(Y,Se,Ze.value,le);if(Ts===null){Se===null&&(Se=tn);break}r&&Se&&Ts.alternate===null&&s(Y,Se),$=g(Ts,$,Ie),Fe===null?be=Ts:Fe.sibling=Ts,Fe=Ts,Se=tn}if(Ze.done)return o(Y,Se),Je&&wa(Y,Ie),be;if(Se===null){for(;!Ze.done;Ie++,Ze=W.next())Ze=ce(Y,Ze.value,le),Ze!==null&&($=g(Ze,$,Ie),Fe===null?be=Ze:Fe.sibling=Ze,Fe=Ze);return Je&&wa(Y,Ie),be}for(Se=u(Se);!Ze.done;Ie++,Ze=W.next())Ze=te(Se,Y,Ie,Ze.value,le),Ze!==null&&(r&&Ze.alternate!==null&&Se.delete(Ze.key===null?Ie:Ze.key),$=g(Ze,$,Ie),Fe===null?be=Ze:Fe.sibling=Ze,Fe=Ze);return r&&Se.forEach(function(VR){return s(Y,VR)}),Je&&wa(Y,Ie),be}function ct(Y,$,W,le){if(typeof W=="object"&&W!==null&&W.type===C&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case E:e:{for(var be=W.key;$!==null;){if($.key===be){if(be=W.type,be===C){if($.tag===7){o(Y,$.sibling),le=h($,W.props.children),le.return=Y,Y=le;break e}}else if($.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===S&&f_(be)===$.type){o(Y,$.sibling),le=h($,W.props),Su(le,W),le.return=Y,Y=le;break e}o(Y,$);break}else s(Y,$);$=$.sibling}W.type===C?(le=ba(W.props.children,Y.mode,le,W.key),le.return=Y,Y=le):(le=gd(W.type,W.key,W.props,null,Y.mode,le),Su(le,W),le.return=Y,Y=le)}return T(Y);case R:e:{for(be=W.key;$!==null;){if($.key===be)if($.tag===4&&$.stateNode.containerInfo===W.containerInfo&&$.stateNode.implementation===W.implementation){o(Y,$.sibling),le=h($,W.children||[]),le.return=Y,Y=le;break e}else{o(Y,$);break}else s(Y,$);$=$.sibling}le=Tm(W,Y.mode,le),le.return=Y,Y=le}return T(Y);case S:return be=W._init,W=be(W._payload),ct(Y,$,W,le)}if(oe(W))return Oe(Y,$,W,le);if(V(W)){if(be=V(W),typeof be!="function")throw Error(i(150));return W=be.call(W),Re(Y,$,W,le)}if(typeof W.then=="function")return ct(Y,$,kd(W),le);if(W.$$typeof===F)return ct(Y,$,bd(Y,W),le);Md(Y,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,$!==null&&$.tag===6?(o(Y,$.sibling),le=h($,W),le.return=Y,Y=le):(o(Y,$),le=wm(W,Y.mode,le),le.return=Y,Y=le),T(Y)):o(Y,$)}return function(Y,$,W,le){try{xu=0;var be=ct(Y,$,W,le);return Mo=null,be}catch(Se){if(Se===pu||Se===wd)throw Se;var Fe=Un(29,Se,null,Y.mode);return Fe.lanes=le,Fe.return=Y,Fe}finally{}}}var Po=h_(!0),m_=h_(!1),rr=ne(null),Fr=null;function ls(r){var s=r.alternate;ie($t,$t.current&1),ie(rr,r),Fr===null&&(s===null||No.current!==null||s.memoizedState!==null)&&(Fr=r)}function p_(r){if(r.tag===22){if(ie($t,$t.current),ie(rr,r),Fr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Fr=r)}}else us()}function us(){ie($t,$t.current),ie(rr,rr.current)}function Ti(r){fe(rr),Fr===r&&(Fr=null),fe($t)}var $t=ne(0);function Pd(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Gp(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function np(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:v({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var rp={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=Hn(),h=ss(u);h.payload=s,o!=null&&(h.callback=o),s=as(r,h,u),s!==null&&(qn(s,r,u),yu(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=Hn(),h=ss(u);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=as(r,h,u),s!==null&&(qn(s,r,u),yu(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Hn(),u=ss(o);u.tag=2,s!=null&&(u.callback=s),s=as(r,u,o),s!==null&&(qn(s,r,o),yu(s,r,o))}};function g_(r,s,o,u,h,g,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,T):s.prototype&&s.prototype.isPureReactComponent?!ou(o,u)||!ou(h,g):!0}function y_(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&rp.enqueueReplaceState(s,s.state,null)}function Ia(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=v({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var Vd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function v_(r){Vd(r)}function __(r){console.error(r)}function b_(r){Vd(r)}function jd(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function E_(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ip(r,s,o){return o=ss(o),o.tag=3,o.payload={element:null},o.callback=function(){jd(r,s)},o}function w_(r){return r=ss(r),r.tag=3,r}function T_(r,s,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var g=u.value;r.payload=function(){return h(g)},r.callback=function(){E_(s,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){E_(s,o,u),typeof h!="function"&&(ps===null?ps=new Set([this]):ps.add(this));var I=u.stack;this.componentDidCatch(u.value,{componentStack:I!==null?I:""})})}function V2(r,s,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&fu(s,o,h,!0),o=rr.current,o!==null){switch(o.tag){case 13:return Fr===null?Cp():o.alternate===null&&xt===0&&(xt=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===km?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Np(r,u,h)),!1;case 22:return o.flags|=65536,u===km?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Np(r,u,h)),!1}throw Error(i(435,o.tag))}return Np(r,u,h),Cp(),!1}if(Je)return s=rr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,u!==Am&&(r=Error(i(422),{cause:u}),du(Jn(r,o)))):(u!==Am&&(s=Error(i(423),{cause:u}),du(Jn(s,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=Jn(u,o),h=ip(r.stateNode,u,h),Vm(r,h),xt!==4&&(xt=2)),!1;var g=Error(i(520),{cause:u});if(g=Jn(g,o),Ou===null?Ou=[g]:Ou.push(g),xt!==4&&(xt=2),s===null)return!0;u=Jn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=ip(o.stateNode,u,r),Vm(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ps===null||!ps.has(g))))return o.flags|=65536,h&=-h,o.lanes|=h,h=w_(h),T_(h,r,o,u),Vm(o,h),!1}o=o.return}while(o!==null);return!1}var x_=Error(i(461)),Jt=!1;function un(r,s,o,u){s.child=r===null?m_(s,null,o,u):Po(s,r.child,o,u)}function S_(r,s,o,u,h){o=o.render;var g=s.ref;if("ref"in u){var T={};for(var I in u)I!=="ref"&&(T[I]=u[I])}else T=u;return Aa(s),u=zm(r,s,o,T,g,h),I=Fm(),r!==null&&!Jt?(Hm(r,s,h),xi(r,s,h)):(Je&&I&&xm(s),s.flags|=1,un(r,s,u,h),s.child)}function A_(r,s,o,u,h){if(r===null){var g=o.type;return typeof g=="function"&&!Em(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,R_(r,s,g,u,h)):(r=gd(o.type,null,u,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!fp(r,h)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:ou,o(T,u)&&r.ref===s.ref)return xi(r,s,h)}return s.flags|=1,r=yi(g,u),r.ref=s.ref,r.return=s,s.child=r}function R_(r,s,o,u,h){if(r!==null){var g=r.memoizedProps;if(ou(g,u)&&r.ref===s.ref)if(Jt=!1,s.pendingProps=u=g,fp(r,h))(r.flags&131072)!==0&&(Jt=!0);else return s.lanes=r.lanes,xi(r,s,h)}return sp(r,s,o,u,h)}function C_(r,s,o){var u=s.pendingProps,h=u.children,g=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,r!==null){for(h=s.child=r.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return I_(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Ed(s,g!==null?g.cachePool:null),g!==null?R0(s,g):Lm(),p_(s);else return s.lanes=s.childLanes=536870912,I_(r,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(Ed(s,g.cachePool),R0(s,g),us(),s.memoizedState=null):(r!==null&&Ed(s,null),Lm(),us());return un(r,s,h,o),s.child}function I_(r,s,o,u){var h=Om();return h=h===null?null:{parent:Gt._currentValue,pool:h},s.memoizedState={baseLanes:o,cachePool:h},r!==null&&Ed(s,null),Lm(),p_(s),r!==null&&fu(r,s,u,!0),null}function Ld(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function sp(r,s,o,u,h){return Aa(s),o=zm(r,s,o,u,void 0,h),u=Fm(),r!==null&&!Jt?(Hm(r,s,h),xi(r,s,h)):(Je&&u&&xm(s),s.flags|=1,un(r,s,o,h),s.child)}function N_(r,s,o,u,h,g){return Aa(s),s.updateQueue=null,o=I0(s,u,o,h),C0(r),u=Fm(),r!==null&&!Jt?(Hm(r,s,g),xi(r,s,g)):(Je&&u&&xm(s),s.flags|=1,un(r,s,o,g),s.child)}function D_(r,s,o,u,h){if(Aa(s),s.stateNode===null){var g=So,T=o.contextType;typeof T=="object"&&T!==null&&(g=vn(T)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=rp,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Mm(s),T=o.contextType,g.context=typeof T=="object"&&T!==null?vn(T):So,g.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(np(s,o,T,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&rp.enqueueReplaceState(g,g.state,null),_u(s,u,g,h),vu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var I=s.memoizedProps,q=Ia(o,I);g.props=q;var Z=g.context,ae=o.contextType;T=So,typeof ae=="object"&&ae!==null&&(T=vn(ae));var ce=o.getDerivedStateFromProps;ae=typeof ce=="function"||typeof g.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,ae||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(I||Z!==T)&&y_(s,g,u,T),is=!1;var ee=s.memoizedState;g.state=ee,_u(s,u,g,h),vu(),Z=s.memoizedState,I||ee!==Z||is?(typeof ce=="function"&&(np(s,o,ce,u),Z=s.memoizedState),(q=is||g_(s,o,q,u,ee,Z,T))?(ae||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Z),g.props=u,g.state=Z,g.context=T,u=q):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Pm(r,s),T=s.memoizedProps,ae=Ia(o,T),g.props=ae,ce=s.pendingProps,ee=g.context,Z=o.contextType,q=So,typeof Z=="object"&&Z!==null&&(q=vn(Z)),I=o.getDerivedStateFromProps,(Z=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==ce||ee!==q)&&y_(s,g,u,q),is=!1,ee=s.memoizedState,g.state=ee,_u(s,u,g,h),vu();var te=s.memoizedState;T!==ce||ee!==te||is||r!==null&&r.dependencies!==null&&_d(r.dependencies)?(typeof I=="function"&&(np(s,o,I,u),te=s.memoizedState),(ae=is||g_(s,o,ae,u,ee,te,q)||r!==null&&r.dependencies!==null&&_d(r.dependencies))?(Z||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,te,q),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,te,q)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=te),g.props=u,g.state=te,g.context=q,u=ae):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,Ld(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=Po(s,r.child,null,h),s.child=Po(s,null,o,h)):un(r,s,o,h),s.memoizedState=g.state,r=s.child):r=xi(r,s,h),r}function O_(r,s,o,u){return cu(),s.flags|=256,un(r,s,o,u),s.child}var ap={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function op(r){return{baseLanes:r,cachePool:_0()}}function lp(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=ir),r}function k_(r,s,o){var u=s.pendingProps,h=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=r!==null&&r.memoizedState===null?!1:($t.current&2)!==0),T&&(h=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(Je){if(h?ls(s):us(),Je){var I=Tt,q;if(q=I){e:{for(q=I,I=zr;q.nodeType!==8;){if(!I){I=null;break e}if(q=pr(q.nextSibling),q===null){I=null;break e}}I=q}I!==null?(s.memoizedState={dehydrated:I,treeContext:Ea!==null?{id:vi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},q=Un(18,null,null,0),q.stateNode=I,q.return=s,s.child=q,In=s,Tt=null,q=!0):q=!1}q||xa(s)}if(I=s.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return Gp(I)?s.lanes=32:s.lanes=536870912,null;Ti(s)}return I=u.children,u=u.fallback,h?(us(),h=s.mode,I=Ud({mode:"hidden",children:I},h),u=ba(u,h,o,null),I.return=s,u.return=s,I.sibling=u,s.child=I,h=s.child,h.memoizedState=op(o),h.childLanes=lp(r,T,o),s.memoizedState=ap,u):(ls(s),up(s,I))}if(q=r.memoizedState,q!==null&&(I=q.dehydrated,I!==null)){if(g)s.flags&256?(ls(s),s.flags&=-257,s=cp(r,s,o)):s.memoizedState!==null?(us(),s.child=r.child,s.flags|=128,s=null):(us(),h=u.fallback,I=s.mode,u=Ud({mode:"visible",children:u.children},I),h=ba(h,I,o,null),h.flags|=2,u.return=s,h.return=s,u.sibling=h,s.child=u,Po(s,r.child,null,o),u=s.child,u.memoizedState=op(o),u.childLanes=lp(r,T,o),s.memoizedState=ap,s=h);else if(ls(s),Gp(I)){if(T=I.nextSibling&&I.nextSibling.dataset,T)var Z=T.dgst;T=Z,u=Error(i(419)),u.stack="",u.digest=T,du({value:u,source:null,stack:null}),s=cp(r,s,o)}else if(Jt||fu(r,s,o,!1),T=(o&r.childLanes)!==0,Jt||T){if(T=pt,T!==null&&(u=o&-o,u=(u&42)!==0?1:Xi(u),u=(u&(T.suspendedLanes|o))!==0?0:u,u!==0&&u!==q.retryLane))throw q.retryLane=u,xo(r,u),qn(T,r,u),x_;I.data==="$?"||Cp(),s=cp(r,s,o)}else I.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=q.treeContext,Tt=pr(I.nextSibling),In=s,Je=!0,Ta=null,zr=!1,r!==null&&(tr[nr++]=vi,tr[nr++]=_i,tr[nr++]=Ea,vi=r.id,_i=r.overflow,Ea=s),s=up(s,u.children),s.flags|=4096);return s}return h?(us(),h=u.fallback,I=s.mode,q=r.child,Z=q.sibling,u=yi(q,{mode:"hidden",children:u.children}),u.subtreeFlags=q.subtreeFlags&65011712,Z!==null?h=yi(Z,h):(h=ba(h,I,o,null),h.flags|=2),h.return=s,u.return=s,u.sibling=h,s.child=u,u=h,h=s.child,I=r.child.memoizedState,I===null?I=op(o):(q=I.cachePool,q!==null?(Z=Gt._currentValue,q=q.parent!==Z?{parent:Z,pool:Z}:q):q=_0(),I={baseLanes:I.baseLanes|o,cachePool:q}),h.memoizedState=I,h.childLanes=lp(r,T,o),s.memoizedState=ap,u):(ls(s),o=r.child,r=o.sibling,o=yi(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=o,s.memoizedState=null,o)}function up(r,s){return s=Ud({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Ud(r,s){return r=Un(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function cp(r,s,o){return Po(s,r.child,null,o),r=up(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function M_(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Cm(r.return,s,o)}function dp(r,s,o,u,h){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=h)}function P_(r,s,o){var u=s.pendingProps,h=u.revealOrder,g=u.tail;if(un(r,s,u.children,o),u=$t.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&M_(r,o,s);else if(r.tag===19)M_(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(ie($t,u),h){case"forwards":for(o=s.child,h=null;o!==null;)r=o.alternate,r!==null&&Pd(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),dp(s,!1,h,o,g);break;case"backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&Pd(r)===null){s.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}dp(s,!0,o,null,g);break;case"together":dp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function xi(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),ms|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(fu(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=yi(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=yi(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function fp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&_d(r)))}function j2(r,s,o){switch(s.tag){case 3:Te(s,s.stateNode.containerInfo),rs(s,Gt,r.memoizedState.cache),cu();break;case 27:case 5:Ce(s);break;case 4:Te(s,s.stateNode.containerInfo);break;case 10:rs(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ls(s),s.flags|=128,null):(o&s.child.childLanes)!==0?k_(r,s,o):(ls(s),r=xi(r,s,o),r!==null?r.sibling:null);ls(s);break;case 19:var h=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(fu(r,s,o,!1),u=(o&s.childLanes)!==0),h){if(u)return P_(r,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie($t,$t.current),u)break;return null;case 22:case 23:return s.lanes=0,C_(r,s,o);case 24:rs(s,Gt,r.memoizedState.cache)}return xi(r,s,o)}function V_(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Jt=!0;else{if(!fp(r,o)&&(s.flags&128)===0)return Jt=!1,j2(r,s,o);Jt=(r.flags&131072)!==0}else Jt=!1,Je&&(s.flags&1048576)!==0&&f0(s,vd,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,h=u._init;if(u=h(u._payload),s.type=u,typeof u=="function")Em(u)?(r=Ia(u,r),s.tag=1,s=D_(null,s,u,r,o)):(s.tag=0,s=sp(null,s,u,r,o));else{if(u!=null){if(h=u.$$typeof,h===K){s.tag=11,s=S_(null,s,u,r,o);break e}else if(h===N){s.tag=14,s=A_(null,s,u,r,o);break e}}throw s=J(u)||u,Error(i(306,s,""))}}return s;case 0:return sp(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,h=Ia(u,s.pendingProps),D_(r,s,u,h,o);case 3:e:{if(Te(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var g=s.memoizedState;h=g.element,Pm(r,s),_u(s,u,null,o);var T=s.memoizedState;if(u=T.cache,rs(s,Gt,u),u!==g.cache&&Im(s,[Gt],o,!0),vu(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=O_(r,s,u,o);break e}else if(u!==h){h=Jn(Error(i(424)),s),du(h),s=O_(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Tt=pr(r.firstChild),In=s,Je=!0,Ta=null,zr=!0,o=m_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(cu(),u===h){s=xi(r,s,o);break e}un(r,s,u,o)}s=s.child}return s;case 26:return Ld(r,s),r===null?(o=Bb(s.type,null,s.pendingProps,null))?s.memoizedState=o:Je||(o=s.type,r=s.pendingProps,u=Jd(_e.current).createElement(o),u[Ft]=s,u[Ot]=r,dn(u,o,r),Rt(u),s.stateNode=u):s.memoizedState=Bb(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Ce(s),r===null&&Je&&(u=s.stateNode=jb(s.type,s.pendingProps,_e.current),In=s,zr=!0,h=Tt,vs(s.type)?($p=h,Tt=pr(u.firstChild)):Tt=h),un(r,s,s.pendingProps.children,o),Ld(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Je&&((h=u=Tt)&&(u=dR(u,s.type,s.pendingProps,zr),u!==null?(s.stateNode=u,In=s,Tt=pr(u.firstChild),zr=!1,h=!0):h=!1),h||xa(s)),Ce(s),h=s.type,g=s.pendingProps,T=r!==null?r.memoizedProps:null,u=g.children,Fp(h,g)?u=null:T!==null&&Fp(h,T)&&(s.flags|=32),s.memoizedState!==null&&(h=zm(r,s,I2,null,null,o),zu._currentValue=h),Ld(r,s),un(r,s,u,o),s.child;case 6:return r===null&&Je&&((r=o=Tt)&&(o=fR(o,s.pendingProps,zr),o!==null?(s.stateNode=o,In=s,Tt=null,r=!0):r=!1),r||xa(s)),null;case 13:return k_(r,s,o);case 4:return Te(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Po(s,null,u,o):un(r,s,u,o),s.child;case 11:return S_(r,s,s.type,s.pendingProps,o);case 7:return un(r,s,s.pendingProps,o),s.child;case 8:return un(r,s,s.pendingProps.children,o),s.child;case 12:return un(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,rs(s,s.type,u.value),un(r,s,u.children,o),s.child;case 9:return h=s.type._context,u=s.pendingProps.children,Aa(s),h=vn(h),u=u(h),s.flags|=1,un(r,s,u,o),s.child;case 14:return A_(r,s,s.type,s.pendingProps,o);case 15:return R_(r,s,s.type,s.pendingProps,o);case 19:return P_(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=Ud(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=yi(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return C_(r,s,o);case 24:return Aa(s),u=vn(Gt),r===null?(h=Om(),h===null&&(h=pt,g=Nm(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=o),h=g),s.memoizedState={parent:u,cache:h},Mm(s),rs(s,Gt,h)):((r.lanes&o)!==0&&(Pm(r,s),_u(s,null,null,o),vu()),h=r.memoizedState,g=s.memoizedState,h.parent!==u?(h={parent:u,cache:u},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),rs(s,Gt,u)):(u=g.cache,rs(s,Gt,u),u!==h.cache&&Im(s,[Gt],o,!0))),un(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Si(r){r.flags|=4}function j_(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Gb(s)){if(s=rr.current,s!==null&&((Xe&4194048)===Xe?Fr!==null:(Xe&62914560)!==Xe&&(Xe&536870912)===0||s!==Fr))throw gu=km,b0;r.flags|=8192}}function Bd(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Hl():536870912,r.lanes|=s,Uo|=s)}function Au(r,s){if(!Je)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function bt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function L2(r,s,o){var u=s.pendingProps;switch(Sm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(s),null;case 1:return bt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ei(Gt),Le(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(uu(s)?Si(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,p0())),bt(s),null;case 26:return o=s.memoizedState,r===null?(Si(s),o!==null?(bt(s),j_(s,o)):(bt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Si(s),bt(s),j_(s,o)):(bt(s),s.flags&=-16777217):(r.memoizedProps!==u&&Si(s),bt(s),s.flags&=-16777217),null;case 27:ke(s),o=_e.current;var h=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Si(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return bt(s),null}r=me.current,uu(s)?h0(s):(r=jb(h,u,o),s.stateNode=r,Si(s))}return bt(s),null;case 5:if(ke(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Si(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return bt(s),null}if(r=me.current,uu(s))h0(s);else{switch(h=Jd(_e.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?h.createElement(o,{is:u.is}):h.createElement(o)}}r[Ft]=s,r[Ot]=u;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=r;e:switch(dn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Si(s)}}return bt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Si(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=_e.current,uu(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,h=In,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[Ft]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Nb(r.nodeValue,o)),r||xa(s)}else r=Jd(r).createTextNode(u),r[Ft]=s,s.stateNode=r}return bt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=uu(s),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Ft]=s}else cu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;bt(s),h=!1}else h=p0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Ti(s),s):(Ti(s),null)}if(Ti(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Bd(s,s.updateQueue),bt(s),null;case 4:return Le(),r===null&&jp(s.stateNode.containerInfo),bt(s),null;case 10:return Ei(s.type),bt(s),null;case 19:if(fe($t),h=s.memoizedState,h===null)return bt(s),null;if(u=(s.flags&128)!==0,g=h.rendering,g===null)if(u)Au(h,!1);else{if(xt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=Pd(r),g!==null){for(s.flags|=128,Au(h,!1),r=g.updateQueue,s.updateQueue=r,Bd(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)d0(o,r),o=o.sibling;return ie($t,$t.current&1|2),s.child}r=r.sibling}h.tail!==null&&Xt()>Hd&&(s.flags|=128,u=!0,Au(h,!1),s.lanes=4194304)}else{if(!u)if(r=Pd(g),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Bd(s,r),Au(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!Je)return bt(s),null}else 2*Xt()-h.renderingStartTime>Hd&&o!==536870912&&(s.flags|=128,u=!0,Au(h,!1),s.lanes=4194304);h.isBackwards?(g.sibling=s.child,s.child=g):(r=h.last,r!==null?r.sibling=g:s.child=g,h.last=g)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=Xt(),s.sibling=null,r=$t.current,ie($t,u?r&1|2:r&1),s):(bt(s),null);case 22:case 23:return Ti(s),Um(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(bt(s),s.subtreeFlags&6&&(s.flags|=8192)):bt(s),o=s.updateQueue,o!==null&&Bd(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&fe(Ra),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ei(Gt),bt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function U2(r,s){switch(Sm(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ei(Gt),Le(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return ke(s),null;case 13:if(Ti(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));cu()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return fe($t),null;case 4:return Le(),null;case 10:return Ei(s.type),null;case 22:case 23:return Ti(s),Um(),r!==null&&fe(Ra),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ei(Gt),null;case 25:return null;default:return null}}function L_(r,s){switch(Sm(s),s.tag){case 3:Ei(Gt),Le();break;case 26:case 27:case 5:ke(s);break;case 4:Le();break;case 13:Ti(s);break;case 19:fe($t);break;case 10:Ei(s.type);break;case 22:case 23:Ti(s),Um(),r!==null&&fe(Ra);break;case 24:Ei(Gt)}}function Ru(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&r)===r){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==h)}}catch(I){ft(s,s.return,I)}}function cs(r,s,o){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&r)===r){var T=u.inst,I=T.destroy;if(I!==void 0){T.destroy=void 0,h=s;var q=o,Z=I;try{Z()}catch(ae){ft(h,q,ae)}}}u=u.next}while(u!==g)}}catch(ae){ft(s,s.return,ae)}}function U_(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{A0(s,o)}catch(u){ft(r,r.return,u)}}}function B_(r,s,o){o.props=Ia(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){ft(r,s,u)}}function Cu(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(h){ft(r,s,h)}}function Hr(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){ft(r,s,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){ft(r,s,h)}else o.current=null}function z_(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){ft(r,r.return,h)}}function hp(r,s,o){try{var u=r.stateNode;aR(u,r.type,o,s),u[Ot]=s}catch(h){ft(r,r.return,h)}}function F_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&vs(r.type)||r.tag===4}function mp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||F_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&vs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function pp(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Zd));else if(u!==4&&(u===27&&vs(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(pp(r,s,o),r=r.sibling;r!==null;)pp(r,s,o),r=r.sibling}function zd(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&vs(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(zd(r,s,o),r=r.sibling;r!==null;)zd(r,s,o),r=r.sibling}function H_(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);dn(s,u,o),s[Ft]=r,s[Ot]=o}catch(g){ft(r,r.return,g)}}var Ai=!1,It=!1,gp=!1,q_=typeof WeakSet=="function"?WeakSet:Set,en=null;function B2(r,s){if(r=r.containerInfo,Bp=af,r=t0(r),mm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,I=-1,q=-1,Z=0,ae=0,ce=r,ee=null;t:for(;;){for(var te;ce!==o||h!==0&&ce.nodeType!==3||(I=T+h),ce!==g||u!==0&&ce.nodeType!==3||(q=T+u),ce.nodeType===3&&(T+=ce.nodeValue.length),(te=ce.firstChild)!==null;)ee=ce,ce=te;for(;;){if(ce===r)break t;if(ee===o&&++Z===h&&(I=T),ee===g&&++ae===u&&(q=T),(te=ce.nextSibling)!==null)break;ce=ee,ee=ce.parentNode}ce=te}o=I===-1||q===-1?null:{start:I,end:q}}else o=null}o=o||{start:0,end:0}}else o=null;for(zp={focusedElem:r,selectionRange:o},af=!1,en=s;en!==null;)if(s=en,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,en=r;else for(;en!==null;){switch(s=en,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,h=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Oe=Ia(o.type,h,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Oe,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(Re){ft(o,o.return,Re)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)qp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":qp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,en=r;break}en=s.return}}function G_(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ds(r,o),u&4&&Ru(5,o);break;case 1:if(ds(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(T){ft(o,o.return,T)}else{var h=Ia(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(h,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){ft(o,o.return,T)}}u&64&&U_(o),u&512&&Cu(o,o.return);break;case 3:if(ds(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{A0(r,s)}catch(T){ft(o,o.return,T)}}break;case 27:s===null&&u&4&&H_(o);case 26:case 5:ds(r,o),s===null&&u&4&&z_(o),u&512&&Cu(o,o.return);break;case 12:ds(r,o);break;case 13:ds(r,o),u&4&&K_(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=Q2.bind(null,o),hR(r,o))));break;case 22:if(u=o.memoizedState!==null||Ai,!u){s=s!==null&&s.memoizedState!==null||It,h=Ai;var g=It;Ai=u,(It=s)&&!g?fs(r,o,(o.subtreeFlags&8772)!==0):ds(r,o),Ai=h,It=g}break;case 30:break;default:ds(r,o)}}function $_(r){var s=r.alternate;s!==null&&(r.alternate=null,$_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Ji(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var vt=null,Dn=!1;function Ri(r,s,o){for(o=o.child;o!==null;)Y_(r,s,o),o=o.sibling}function Y_(r,s,o){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(wt,o)}catch{}switch(o.tag){case 26:It||Hr(o,s),Ri(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:It||Hr(o,s);var u=vt,h=Dn;vs(o.type)&&(vt=o.stateNode,Dn=!1),Ri(r,s,o),ju(o.stateNode),vt=u,Dn=h;break;case 5:It||Hr(o,s);case 6:if(u=vt,h=Dn,vt=null,Ri(r,s,o),vt=u,Dn=h,vt!==null)if(Dn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(o.stateNode)}catch(g){ft(o,s,g)}else try{vt.removeChild(o.stateNode)}catch(g){ft(o,s,g)}break;case 18:vt!==null&&(Dn?(r=vt,Pb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Gu(r)):Pb(vt,o.stateNode));break;case 4:u=vt,h=Dn,vt=o.stateNode.containerInfo,Dn=!0,Ri(r,s,o),vt=u,Dn=h;break;case 0:case 11:case 14:case 15:It||cs(2,o,s),It||cs(4,o,s),Ri(r,s,o);break;case 1:It||(Hr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&B_(o,s,u)),Ri(r,s,o);break;case 21:Ri(r,s,o);break;case 22:It=(u=It)||o.memoizedState!==null,Ri(r,s,o),It=u;break;default:Ri(r,s,o)}}function K_(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Gu(r)}catch(o){ft(s,s.return,o)}}function z2(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new q_),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new q_),s;default:throw Error(i(435,r.tag))}}function yp(r,s){var o=z2(r);s.forEach(function(u){var h=X2.bind(null,r,u);o.has(u)||(o.add(u),u.then(h,h))})}function Bn(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],g=r,T=s,I=T;e:for(;I!==null;){switch(I.tag){case 27:if(vs(I.type)){vt=I.stateNode,Dn=!1;break e}break;case 5:vt=I.stateNode,Dn=!1;break e;case 3:case 4:vt=I.stateNode.containerInfo,Dn=!0;break e}I=I.return}if(vt===null)throw Error(i(160));Y_(g,T,h),vt=null,Dn=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Q_(s,r),s=s.sibling}var mr=null;function Q_(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Bn(s,r),zn(r),u&4&&(cs(3,r,r.return),Ru(3,r),cs(5,r,r.return));break;case 1:Bn(s,r),zn(r),u&512&&(It||o===null||Hr(o,o.return)),u&64&&Ai&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=mr;if(Bn(s,r),zn(r),u&512&&(It||o===null||Hr(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":g=h.getElementsByTagName("title")[0],(!g||g[ia]||g[Ft]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(u),h.head.insertBefore(g,h.querySelector("head > title"))),dn(g,u,o),g[Ft]=r,Rt(g),u=g;break e;case"link":var T=Hb("link","href",h).get(u+(o.href||""));if(T){for(var I=0;I<T.length;I++)if(g=T[I],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(I,1);break t}}g=h.createElement(u),dn(g,u,o),h.head.appendChild(g);break;case"meta":if(T=Hb("meta","content",h).get(u+(o.content||""))){for(I=0;I<T.length;I++)if(g=T[I],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(I,1);break t}}g=h.createElement(u),dn(g,u,o),h.head.appendChild(g);break;default:throw Error(i(468,u))}g[Ft]=r,Rt(g),u=g}r.stateNode=u}else qb(h,r.type,r.stateNode);else r.stateNode=Fb(h,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?qb(h,r.type,r.stateNode):Fb(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&hp(r,r.memoizedProps,o.memoizedProps)}break;case 27:Bn(s,r),zn(r),u&512&&(It||o===null||Hr(o,o.return)),o!==null&&u&4&&hp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Bn(s,r),zn(r),u&512&&(It||o===null||Hr(o,o.return)),r.flags&32){h=r.stateNode;try{Qn(h,"")}catch(te){ft(r,r.return,te)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,hp(r,h,o!==null?o.memoizedProps:h)),u&1024&&(gp=!0);break;case 6:if(Bn(s,r),zn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(te){ft(r,r.return,te)}}break;case 3:if(nf=null,h=mr,mr=ef(s.containerInfo),Bn(s,r),mr=h,zn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Gu(s.containerInfo)}catch(te){ft(r,r.return,te)}gp&&(gp=!1,X_(r));break;case 4:u=mr,mr=ef(r.stateNode.containerInfo),Bn(s,r),zn(r),mr=u;break;case 12:Bn(s,r),zn(r);break;case 13:Bn(s,r),zn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Tp=Xt()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,yp(r,u)));break;case 22:h=r.memoizedState!==null;var q=o!==null&&o.memoizedState!==null,Z=Ai,ae=It;if(Ai=Z||h,It=ae||q,Bn(s,r),It=ae,Ai=Z,zn(r),u&8192)e:for(s=r.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(o===null||q||Ai||It||Na(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){q=o=s;try{if(g=q.stateNode,h)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{I=q.stateNode;var ce=q.memoizedProps.style,ee=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;I.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){ft(q,q.return,te)}}}else if(s.tag===6){if(o===null){q=s;try{q.stateNode.nodeValue=h?"":q.memoizedProps}catch(te){ft(q,q.return,te)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,yp(r,o))));break;case 19:Bn(s,r),zn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,yp(r,u)));break;case 30:break;case 21:break;default:Bn(s,r),zn(r)}}function zn(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(F_(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var h=o.stateNode,g=mp(r);zd(r,g,h);break;case 5:var T=o.stateNode;o.flags&32&&(Qn(T,""),o.flags&=-33);var I=mp(r);zd(r,I,T);break;case 3:case 4:var q=o.stateNode.containerInfo,Z=mp(r);pp(r,Z,q);break;default:throw Error(i(161))}}catch(ae){ft(r,r.return,ae)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function X_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;X_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function ds(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)G_(r,s.alternate,s),s=s.sibling}function Na(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:cs(4,s,s.return),Na(s);break;case 1:Hr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&B_(s,s.return,o),Na(s);break;case 27:ju(s.stateNode);case 26:case 5:Hr(s,s.return),Na(s);break;case 22:s.memoizedState===null&&Na(s);break;case 30:Na(s);break;default:Na(s)}r=r.sibling}}function fs(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,h=r,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:fs(h,g,o),Ru(4,g);break;case 1:if(fs(h,g,o),u=g,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Z){ft(u,u.return,Z)}if(u=g,h=u.updateQueue,h!==null){var I=u.stateNode;try{var q=h.shared.hiddenCallbacks;if(q!==null)for(h.shared.hiddenCallbacks=null,h=0;h<q.length;h++)S0(q[h],I)}catch(Z){ft(u,u.return,Z)}}o&&T&64&&U_(g),Cu(g,g.return);break;case 27:H_(g);case 26:case 5:fs(h,g,o),o&&u===null&&T&4&&z_(g),Cu(g,g.return);break;case 12:fs(h,g,o);break;case 13:fs(h,g,o),o&&T&4&&K_(h,g);break;case 22:g.memoizedState===null&&fs(h,g,o),Cu(g,g.return);break;case 30:break;default:fs(h,g,o)}s=s.sibling}}function vp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&hu(o))}function _p(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&hu(r))}function qr(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)W_(r,s,o,u),s=s.sibling}function W_(r,s,o,u){var h=s.flags;switch(s.tag){case 0:case 11:case 15:qr(r,s,o,u),h&2048&&Ru(9,s);break;case 1:qr(r,s,o,u);break;case 3:qr(r,s,o,u),h&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&hu(r)));break;case 12:if(h&2048){qr(r,s,o,u),r=s.stateNode;try{var g=s.memoizedProps,T=g.id,I=g.onPostCommit;typeof I=="function"&&I(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(q){ft(s,s.return,q)}}else qr(r,s,o,u);break;case 13:qr(r,s,o,u);break;case 23:break;case 22:g=s.stateNode,T=s.alternate,s.memoizedState!==null?g._visibility&2?qr(r,s,o,u):Iu(r,s):g._visibility&2?qr(r,s,o,u):(g._visibility|=2,Vo(r,s,o,u,(s.subtreeFlags&10256)!==0)),h&2048&&vp(T,s);break;case 24:qr(r,s,o,u),h&2048&&_p(s.alternate,s);break;default:qr(r,s,o,u)}}function Vo(r,s,o,u,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,T=s,I=o,q=u,Z=T.flags;switch(T.tag){case 0:case 11:case 15:Vo(g,T,I,q,h),Ru(8,T);break;case 23:break;case 22:var ae=T.stateNode;T.memoizedState!==null?ae._visibility&2?Vo(g,T,I,q,h):Iu(g,T):(ae._visibility|=2,Vo(g,T,I,q,h)),h&&Z&2048&&vp(T.alternate,T);break;case 24:Vo(g,T,I,q,h),h&&Z&2048&&_p(T.alternate,T);break;default:Vo(g,T,I,q,h)}s=s.sibling}}function Iu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,h=u.flags;switch(u.tag){case 22:Iu(o,u),h&2048&&vp(u.alternate,u);break;case 24:Iu(o,u),h&2048&&_p(u.alternate,u);break;default:Iu(o,u)}s=s.sibling}}var Nu=8192;function jo(r){if(r.subtreeFlags&Nu)for(r=r.child;r!==null;)Z_(r),r=r.sibling}function Z_(r){switch(r.tag){case 26:jo(r),r.flags&Nu&&r.memoizedState!==null&&AR(mr,r.memoizedState,r.memoizedProps);break;case 5:jo(r);break;case 3:case 4:var s=mr;mr=ef(r.stateNode.containerInfo),jo(r),mr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Nu,Nu=16777216,jo(r),Nu=s):jo(r));break;default:jo(r)}}function J_(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Du(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];en=u,tb(u,r)}J_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)eb(r),r=r.sibling}function eb(r){switch(r.tag){case 0:case 11:case 15:Du(r),r.flags&2048&&cs(9,r,r.return);break;case 3:Du(r);break;case 12:Du(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Fd(r)):Du(r);break;default:Du(r)}}function Fd(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];en=u,tb(u,r)}J_(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:cs(8,s,s.return),Fd(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Fd(s));break;default:Fd(s)}r=r.sibling}}function tb(r,s){for(;en!==null;){var o=en;switch(o.tag){case 0:case 11:case 15:cs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:hu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,en=u;else e:for(o=r;en!==null;){u=en;var h=u.sibling,g=u.return;if($_(u),u===o){en=null;break e}if(h!==null){h.return=g,en=h;break e}en=g}}}var F2={getCacheForType:function(r){var s=vn(Gt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},H2=typeof WeakMap=="function"?WeakMap:Map,rt=0,pt=null,He=null,Xe=0,it=0,Fn=null,hs=!1,Lo=!1,bp=!1,Ci=0,xt=0,ms=0,Da=0,Ep=0,ir=0,Uo=0,Ou=null,On=null,wp=!1,Tp=0,Hd=1/0,qd=null,ps=null,cn=0,gs=null,Bo=null,zo=0,xp=0,Sp=null,nb=null,ku=0,Ap=null;function Hn(){if((rt&2)!==0&&Xe!==0)return Xe&-Xe;if(H.T!==null){var r=Co;return r!==0?r:kp()}return Wi()}function rb(){ir===0&&(ir=(Xe&536870912)===0||Je?Fl():536870912);var r=rr.current;return r!==null&&(r.flags|=32),ir}function qn(r,s,o){(r===pt&&(it===2||it===9)||r.cancelPendingCommit!==null)&&(Fo(r,0),ys(r,Xe,ir,!1)),ai(r,o),((rt&2)===0||r!==pt)&&(r===pt&&((rt&2)===0&&(Da|=o),xt===4&&ys(r,Xe,ir,!1)),Gr(r))}function ib(r,s,o){if((rt&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||ra(r,s),h=u?$2(r,s):Ip(r,s,!0),g=u;do{if(h===0){Lo&&!u&&ys(r,s,0,!1);break}else{if(o=r.current.alternate,g&&!q2(o)){h=Ip(r,s,!1),g=!1;continue}if(h===2){if(g=s,r.errorRecoveryDisabledLanes&g)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var I=r;h=Ou;var q=I.current.memoizedState.isDehydrated;if(q&&(Fo(I,T).flags|=256),T=Ip(I,T,!1),T!==2){if(bp&&!q){I.errorRecoveryDisabledLanes|=g,Da|=g,h=4;break e}g=On,On=h,g!==null&&(On===null?On=g:On.push.apply(On,g))}h=T}if(g=!1,h!==2)continue}}if(h===1){Fo(r,0),ys(r,s,0,!0);break}e:{switch(u=r,g=h,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ys(u,s,ir,!hs);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(h=Tp+300-Xt(),10<h)){if(ys(u,s,ir,!hs),io(u,0,!0)!==0)break e;u.timeoutHandle=kb(sb.bind(null,u,o,On,qd,wp,s,ir,Da,Uo,hs,g,2,-0,0),h);break e}sb(u,o,On,qd,wp,s,ir,Da,Uo,hs,g,0,-0,0)}}break}while(!0);Gr(r)}function sb(r,s,o,u,h,g,T,I,q,Z,ae,ce,ee,te){if(r.timeoutHandle=-1,ce=s.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(Bu={stylesheets:null,count:0,unsuspend:SR},Z_(s),ce=RR(),ce!==null)){r.cancelPendingCommit=ce(fb.bind(null,r,s,g,o,u,h,T,I,q,ae,1,ee,te)),ys(r,g,T,!Z);return}fb(r,s,g,o,u,h,T,I,q)}function q2(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],g=h.getSnapshot;h=h.value;try{if(!Ln(g(),h))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ys(r,s,o,u){s&=~Ep,s&=~Da,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var h=s;0<h;){var g=31-yn(h),T=1<<g;u[g]=-1,h&=~T}o!==0&&Nr(r,o,s)}function Gd(){return(rt&6)===0?(Mu(0),!1):!0}function Rp(){if(He!==null){if(it===0)var r=He.return;else r=He,bi=Sa=null,qm(r),Mo=null,xu=0,r=He;for(;r!==null;)L_(r.alternate,r),r=r.return;He=null}}function Fo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,lR(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Rp(),pt=r,He=o=yi(r.current,null),Xe=s,it=0,Fn=null,hs=!1,Lo=ra(r,s),bp=!1,Uo=ir=Ep=Da=ms=xt=0,On=Ou=null,wp=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var h=31-yn(u),g=1<<h;s|=r[h],u&=~g}return Ci=s,hd(),o}function ab(r,s){Ue=null,H.H=Od,s===pu||s===wd?(s=T0(),it=3):s===b0?(s=T0(),it=4):it=s===x_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Fn=s,He===null&&(xt=1,jd(r,Jn(s,r.current)))}function ob(){var r=H.H;return H.H=Od,r===null?Od:r}function lb(){var r=H.A;return H.A=F2,r}function Cp(){xt=4,hs||(Xe&4194048)!==Xe&&rr.current!==null||(Lo=!0),(ms&134217727)===0&&(Da&134217727)===0||pt===null||ys(pt,Xe,ir,!1)}function Ip(r,s,o){var u=rt;rt|=2;var h=ob(),g=lb();(pt!==r||Xe!==s)&&(qd=null,Fo(r,s)),s=!1;var T=xt;e:do try{if(it!==0&&He!==null){var I=He,q=Fn;switch(it){case 8:Rp(),T=6;break e;case 3:case 2:case 9:case 6:rr.current===null&&(s=!0);var Z=it;if(it=0,Fn=null,Ho(r,I,q,Z),o&&Lo){T=0;break e}break;default:Z=it,it=0,Fn=null,Ho(r,I,q,Z)}}G2(),T=xt;break}catch(ae){ab(r,ae)}while(!0);return s&&r.shellSuspendCounter++,bi=Sa=null,rt=u,H.H=h,H.A=g,He===null&&(pt=null,Xe=0,hd()),T}function G2(){for(;He!==null;)ub(He)}function $2(r,s){var o=rt;rt|=2;var u=ob(),h=lb();pt!==r||Xe!==s?(qd=null,Hd=Xt()+500,Fo(r,s)):Lo=ra(r,s);e:do try{if(it!==0&&He!==null){s=He;var g=Fn;t:switch(it){case 1:it=0,Fn=null,Ho(r,s,g,1);break;case 2:case 9:if(E0(g)){it=0,Fn=null,cb(s);break}s=function(){it!==2&&it!==9||pt!==r||(it=7),Gr(r)},g.then(s,s);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:E0(g)?(it=0,Fn=null,cb(s)):(it=0,Fn=null,Ho(r,s,g,7));break;case 5:var T=null;switch(He.tag){case 26:T=He.memoizedState;case 5:case 27:var I=He;if(!T||Gb(T)){it=0,Fn=null;var q=I.sibling;if(q!==null)He=q;else{var Z=I.return;Z!==null?(He=Z,$d(Z)):He=null}break t}}it=0,Fn=null,Ho(r,s,g,5);break;case 6:it=0,Fn=null,Ho(r,s,g,6);break;case 8:Rp(),xt=6;break e;default:throw Error(i(462))}}Y2();break}catch(ae){ab(r,ae)}while(!0);return bi=Sa=null,H.H=u,H.A=h,rt=o,He!==null?0:(pt=null,Xe=0,hd(),xt)}function Y2(){for(;He!==null&&!ur();)ub(He)}function ub(r){var s=V_(r.alternate,r,Ci);r.memoizedProps=r.pendingProps,s===null?$d(r):He=s}function cb(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=N_(o,s,s.pendingProps,s.type,void 0,Xe);break;case 11:s=N_(o,s,s.pendingProps,s.type.render,s.ref,Xe);break;case 5:qm(s);default:L_(o,s),s=He=d0(s,Ci),s=V_(o,s,Ci)}r.memoizedProps=r.pendingProps,s===null?$d(r):He=s}function Ho(r,s,o,u){bi=Sa=null,qm(s),Mo=null,xu=0;var h=s.return;try{if(V2(r,h,s,o,Xe)){xt=1,jd(r,Jn(o,r.current)),He=null;return}}catch(g){if(h!==null)throw He=h,g;xt=1,jd(r,Jn(o,r.current)),He=null;return}s.flags&32768?(Je||u===1?r=!0:Lo||(Xe&536870912)!==0?r=!1:(hs=r=!0,(u===2||u===9||u===3||u===6)&&(u=rr.current,u!==null&&u.tag===13&&(u.flags|=16384))),db(s,r)):$d(s)}function $d(r){var s=r;do{if((s.flags&32768)!==0){db(s,hs);return}r=s.return;var o=L2(s.alternate,s,Ci);if(o!==null){He=o;return}if(s=s.sibling,s!==null){He=s;return}He=s=r}while(s!==null);xt===0&&(xt=5)}function db(r,s){do{var o=U2(r.alternate,r);if(o!==null){o.flags&=32767,He=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){He=r;return}He=r=o}while(r!==null);xt=6,He=null}function fb(r,s,o,u,h,g,T,I,q){r.cancelPendingCommit=null;do Yd();while(cn!==0);if((rt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=_m,ql(r,o,g,T,I,q),r===pt&&(He=pt=null,Xe=0),Bo=s,gs=r,zo=o,xp=g,Sp=h,nb=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,W2(Js,function(){return yb(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=H.T,H.T=null,h=z.p,z.p=2,T=rt,rt|=4;try{B2(r,s,o)}finally{rt=T,z.p=h,H.T=u}}cn=1,hb(),mb(),pb()}}function hb(){if(cn===1){cn=0;var r=gs,s=Bo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=H.T,H.T=null;var u=z.p;z.p=2;var h=rt;rt|=4;try{Q_(s,r);var g=zp,T=t0(r.containerInfo),I=g.focusedElem,q=g.selectionRange;if(T!==I&&I&&I.ownerDocument&&e0(I.ownerDocument.documentElement,I)){if(q!==null&&mm(I)){var Z=q.start,ae=q.end;if(ae===void 0&&(ae=Z),"selectionStart"in I)I.selectionStart=Z,I.selectionEnd=Math.min(ae,I.value.length);else{var ce=I.ownerDocument||document,ee=ce&&ce.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),Oe=I.textContent.length,Re=Math.min(q.start,Oe),ct=q.end===void 0?Re:Math.min(q.end,Oe);!te.extend&&Re>ct&&(T=ct,ct=Re,Re=T);var Y=Jv(I,Re),$=Jv(I,ct);if(Y&&$&&(te.rangeCount!==1||te.anchorNode!==Y.node||te.anchorOffset!==Y.offset||te.focusNode!==$.node||te.focusOffset!==$.offset)){var W=ce.createRange();W.setStart(Y.node,Y.offset),te.removeAllRanges(),Re>ct?(te.addRange(W),te.extend($.node,$.offset)):(W.setEnd($.node,$.offset),te.addRange(W))}}}}for(ce=[],te=I;te=te.parentNode;)te.nodeType===1&&ce.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<ce.length;I++){var le=ce[I];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}af=!!Bp,zp=Bp=null}finally{rt=h,z.p=u,H.T=o}}r.current=s,cn=2}}function mb(){if(cn===2){cn=0;var r=gs,s=Bo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=H.T,H.T=null;var u=z.p;z.p=2;var h=rt;rt|=4;try{G_(r,s.alternate,s)}finally{rt=h,z.p=u,H.T=o}}cn=3}}function pb(){if(cn===4||cn===3){cn=0,Cr();var r=gs,s=Bo,o=zo,u=nb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?cn=5:(cn=0,Bo=gs=null,gb(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(ps=null),so(o),s=s.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(wt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=H.T,h=z.p,z.p=2,H.T=null;try{for(var g=r.onRecoverableError,T=0;T<u.length;T++){var I=u[T];g(I.value,{componentStack:I.stack})}}finally{H.T=s,z.p=h}}(zo&3)!==0&&Yd(),Gr(r),h=r.pendingLanes,(o&4194090)!==0&&(h&42)!==0?r===Ap?ku++:(ku=0,Ap=r):ku=0,Mu(0)}}function gb(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,hu(s)))}function Yd(r){return hb(),mb(),pb(),yb()}function yb(){if(cn!==5)return!1;var r=gs,s=xp;xp=0;var o=so(zo),u=H.T,h=z.p;try{z.p=32>o?32:o,H.T=null,o=Sp,Sp=null;var g=gs,T=zo;if(cn=0,Bo=gs=null,zo=0,(rt&6)!==0)throw Error(i(331));var I=rt;if(rt|=4,eb(g.current),W_(g,g.current,T,o),rt=I,Mu(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(wt,g)}catch{}return!0}finally{z.p=h,H.T=u,gb(r,s)}}function vb(r,s,o){s=Jn(o,s),s=ip(r.stateNode,s,2),r=as(r,s,2),r!==null&&(ai(r,2),Gr(r))}function ft(r,s,o){if(r.tag===3)vb(r,r,o);else for(;s!==null;){if(s.tag===3){vb(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ps===null||!ps.has(u))){r=Jn(o,r),o=w_(2),u=as(s,o,2),u!==null&&(T_(o,u,s,r),ai(u,2),Gr(u));break}}s=s.return}}function Np(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new H2;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(o)||(bp=!0,h.add(o),r=K2.bind(null,r,s,o),s.then(r,r))}function K2(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,pt===r&&(Xe&o)===o&&(xt===4||xt===3&&(Xe&62914560)===Xe&&300>Xt()-Tp?(rt&2)===0&&Fo(r,0):Ep|=o,Uo===Xe&&(Uo=0)),Gr(r)}function _b(r,s){s===0&&(s=Hl()),r=xo(r,s),r!==null&&(ai(r,s),Gr(r))}function Q2(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),_b(r,o)}function X2(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),_b(r,o)}function W2(r,s){return At(r,s)}var Kd=null,qo=null,Dp=!1,Qd=!1,Op=!1,Oa=0;function Gr(r){r!==qo&&r.next===null&&(qo===null?Kd=qo=r:qo=qo.next=r),Qd=!0,Dp||(Dp=!0,J2())}function Mu(r,s){if(!Op&&Qd){Op=!0;do for(var o=!1,u=Kd;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var g=0;else{var T=u.suspendedLanes,I=u.pingedLanes;g=(1<<31-yn(42|r)+1)-1,g&=h&~(T&~I),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Tb(u,g))}else g=Xe,g=io(u,u===pt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ra(u,g)||(o=!0,Tb(u,g));u=u.next}while(o);Op=!1}}function Z2(){bb()}function bb(){Qd=Dp=!1;var r=0;Oa!==0&&(oR()&&(r=Oa),Oa=0);for(var s=Xt(),o=null,u=Kd;u!==null;){var h=u.next,g=Eb(u,s);g===0?(u.next=null,o===null?Kd=h:o.next=h,h===null&&(qo=o)):(o=u,(r!==0||(g&3)!==0)&&(Qd=!0)),u=h}Mu(r)}function Eb(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var T=31-yn(g),I=1<<T,q=h[T];q===-1?((I&o)===0||(I&u)!==0)&&(h[T]=zl(I,s)):q<=s&&(r.expiredLanes|=I),g&=~I}if(s=pt,o=Xe,o=io(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(it===2||it===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Qt(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||ra(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&Qt(u),so(o)){case 2:case 8:o=no;break;case 32:o=Js;break;case 268435456:o=ro;break;default:o=Js}return u=wb.bind(null,r),o=At(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&Qt(u),r.callbackPriority=2,r.callbackNode=null,2}function wb(r,s){if(cn!==0&&cn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Yd()&&r.callbackNode!==o)return null;var u=Xe;return u=io(r,r===pt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(ib(r,u,s),Eb(r,Xt()),r.callbackNode!=null&&r.callbackNode===o?wb.bind(null,r):null)}function Tb(r,s){if(Yd())return null;ib(r,s,!0)}function J2(){uR(function(){(rt&6)!==0?At(Ir,Z2):bb()})}function kp(){return Oa===0&&(Oa=Fl()),Oa}function xb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:fo(""+r)}function Sb(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function eR(r,s,o,u,h){if(s==="submit"&&o&&o.stateNode===h){var g=xb((h[Ot]||null).action),T=u.submitter;T&&(s=(s=T[Ot]||null)?xb(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var I=new ho("action","action",null,u,h);r.push({event:I,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Oa!==0){var q=T?Sb(h,T):new FormData(h);Jm(o,{pending:!0,data:q,method:h.method,action:g},null,q)}}else typeof g=="function"&&(I.preventDefault(),q=T?Sb(h,T):new FormData(h),Jm(o,{pending:!0,data:q,method:h.method,action:g},g,q))},currentTarget:h}]})}}for(var Mp=0;Mp<vm.length;Mp++){var Pp=vm[Mp],tR=Pp.toLowerCase(),nR=Pp[0].toUpperCase()+Pp.slice(1);hr(tR,"on"+nR)}hr(i0,"onAnimationEnd"),hr(s0,"onAnimationIteration"),hr(a0,"onAnimationStart"),hr("dblclick","onDoubleClick"),hr("focusin","onFocus"),hr("focusout","onBlur"),hr(_2,"onTransitionRun"),hr(b2,"onTransitionStart"),hr(E2,"onTransitionCancel"),hr(o0,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pu));function Ab(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],h=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var T=u.length-1;0<=T;T--){var I=u[T],q=I.instance,Z=I.currentTarget;if(I=I.listener,q!==g&&h.isPropagationStopped())break e;g=I,h.currentTarget=Z;try{g(h)}catch(ae){Vd(ae)}h.currentTarget=null,g=q}else for(T=0;T<u.length;T++){if(I=u[T],q=I.instance,Z=I.currentTarget,I=I.listener,q!==g&&h.isPropagationStopped())break e;g=I,h.currentTarget=Z;try{g(h)}catch(ae){Vd(ae)}h.currentTarget=null,g=q}}}}function qe(r,s){var o=s[$l];o===void 0&&(o=s[$l]=new Set);var u=r+"__bubble";o.has(u)||(Rb(s,r,2,!1),o.add(u))}function Vp(r,s,o){var u=0;s&&(u|=4),Rb(o,r,u,s)}var Xd="_reactListening"+Math.random().toString(36).slice(2);function jp(r){if(!r[Xd]){r[Xd]=!0,Yl.forEach(function(o){o!=="selectionchange"&&(rR.has(o)||Vp(o,!1,r),Vp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Xd]||(s[Xd]=!0,Vp("selectionchange",!1,s))}}function Rb(r,s,o,u){switch(Wb(s)){case 2:var h=NR;break;case 8:h=DR;break;default:h=Wp}o=h.bind(null,s,o,r),h=void 0,!Wn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(s,o,{capture:!0,passive:h}):r.addEventListener(s,o,!0):h!==void 0?r.addEventListener(s,o,{passive:h}):r.addEventListener(s,o,!1)}function Lp(r,s,o,u,h){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var I=u.stateNode.containerInfo;if(I===h)break;if(T===4)for(T=u.return;T!==null;){var q=T.tag;if((q===3||q===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;I!==null;){if(T=oi(I),T===null)return;if(q=T.tag,q===5||q===6||q===26||q===27){u=g=T;continue e}I=I.parentNode}}u=u.return}Zc(function(){var Z=g,ae=Xn(o),ce=[];e:{var ee=l0.get(r);if(ee!==void 0){var te=ho,Oe=r;switch(r){case"keypress":if(Vr(o)===0)break e;case"keydown":case"keyup":te=_o;break;case"focusin":Oe="focus",te=go;break;case"focusout":Oe="blur",te=go;break;case"beforeblur":case"afterblur":te=go;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=cm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=ad;break;case i0:case s0:case a0:te=yo;break;case o0:te=ld;break;case"scroll":case"scrollend":te=Jc;break;case"wheel":te=bo;break;case"copy":case"cut":case"paste":te=vo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=su;break;case"toggle":case"beforetoggle":te=cd}var Re=(s&4)!==0,ct=!Re&&(r==="scroll"||r==="scrollend"),Y=Re?ee!==null?ee+"Capture":null:ee;Re=[];for(var $=Z,W;$!==null;){var le=$;if(W=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||W===null||Y===null||(le=da($,Y),le!=null&&Re.push(Vu($,le,W))),ct)break;$=$.return}0<Re.length&&(ee=new te(ee,Oe,null,o,ae),ce.push({event:ee,listeners:Re}))}}if((s&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",te=r==="mouseout"||r==="pointerout",ee&&o!==di&&(Oe=o.relatedTarget||o.fromElement)&&(oi(Oe)||Oe[Kn]))break e;if((te||ee)&&(ee=ae.window===ae?ae:(ee=ae.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(Oe=o.relatedTarget||o.toElement,te=Z,Oe=Oe?oi(Oe):null,Oe!==null&&(ct=l(Oe),Re=Oe.tag,Oe!==ct||Re!==5&&Re!==27&&Re!==6)&&(Oe=null)):(te=null,Oe=Z),te!==Oe)){if(Re=Zn,le="onMouseLeave",Y="onMouseEnter",$="mouse",(r==="pointerout"||r==="pointerover")&&(Re=su,le="onPointerLeave",Y="onPointerEnter",$="pointer"),ct=te==null?ee:Or(te),W=Oe==null?ee:Or(Oe),ee=new Re(le,$+"leave",te,o,ae),ee.target=ct,ee.relatedTarget=W,le=null,oi(ae)===Z&&(Re=new Re(Y,$+"enter",Oe,o,ae),Re.target=W,Re.relatedTarget=ct,le=Re),ct=le,te&&Oe)t:{for(Re=te,Y=Oe,$=0,W=Re;W;W=Go(W))$++;for(W=0,le=Y;le;le=Go(le))W++;for(;0<$-W;)Re=Go(Re),$--;for(;0<W-$;)Y=Go(Y),W--;for(;$--;){if(Re===Y||Y!==null&&Re===Y.alternate)break t;Re=Go(Re),Y=Go(Y)}Re=null}else Re=null;te!==null&&Cb(ce,ee,te,Re,!1),Oe!==null&&ct!==null&&Cb(ce,ct,Oe,Re,!0)}}e:{if(ee=Z?Or(Z):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var be=Yv;else if(qt(ee))if(Kv)be=g2;else{be=m2;var Fe=h2}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&Zl(Z.elementType)&&(be=Yv):be=p2;if(be&&(be=be(r,Z))){gi(ce,be,o,ae);break e}Fe&&Fe(r,ee,Z),r==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&ts(ee,"number",ee.value)}switch(Fe=Z?Or(Z):window,r){case"focusin":(qt(Fe)||Fe.contentEditable==="true")&&(Eo=Fe,pm=Z,lu=null);break;case"focusout":lu=pm=Eo=null;break;case"mousedown":gm=!0;break;case"contextmenu":case"mouseup":case"dragend":gm=!1,n0(ce,o,ae);break;case"selectionchange":if(v2)break;case"keydown":case"keyup":n0(ce,o,ae)}var Se;if(Ur)e:{switch(r){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Ke?re(r,o)&&(Ie="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ie="onCompositionStart");Ie&&(w&&o.locale!=="ko"&&(Ke||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Ke&&(Se=eu()):(Pr=ae,ns="value"in Pr?Pr.value:Pr.textContent,Ke=!0)),Fe=Wd(Z,Ie),0<Fe.length&&(Ie=new ru(Ie,r,null,o,ae),ce.push({event:Ie,listeners:Fe}),Se?Ie.data=Se:(Se=ge(o),Se!==null&&(Ie.data=Se)))),(Se=_?Ht(r,o):Qe(r,o))&&(Ie=Wd(Z,"onBeforeInput"),0<Ie.length&&(Fe=new ru("onBeforeInput","beforeinput",null,o,ae),ce.push({event:Fe,listeners:Ie}),Fe.data=Se)),eR(ce,r,Z,o,ae)}Ab(ce,s)})}function Vu(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Wd(r,s){for(var o=s+"Capture",u=[];r!==null;){var h=r,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=da(r,o),h!=null&&u.unshift(Vu(r,h,g)),h=da(r,s),h!=null&&u.push(Vu(r,h,g))),r.tag===3)return u;r=r.return}return[]}function Go(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Cb(r,s,o,u,h){for(var g=s._reactName,T=[];o!==null&&o!==u;){var I=o,q=I.alternate,Z=I.stateNode;if(I=I.tag,q!==null&&q===u)break;I!==5&&I!==26&&I!==27||Z===null||(q=Z,h?(Z=da(o,g),Z!=null&&T.unshift(Vu(o,Z,q))):h||(Z=da(o,g),Z!=null&&T.push(Vu(o,Z,q)))),o=o.return}T.length!==0&&r.push({event:s,listeners:T})}var iR=/\r\n?/g,sR=/\u0000|\uFFFD/g;function Ib(r){return(typeof r=="string"?r:""+r).replace(iR,`
`).replace(sR,"")}function Nb(r,s){return s=Ib(s),Ib(r)===s}function Zd(){}function ut(r,s,o,u,h,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Qn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Qn(r,""+u);break;case"className":kr(r,"class",u);break;case"tabIndex":kr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":kr(r,o,u);break;case"style":Wl(r,u,g);break;case"data":if(s!=="object"){kr(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=fo(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&ut(r,s,"name",h.name,h,null),ut(r,s,"formEncType",h.formEncType,h,null),ut(r,s,"formMethod",h.formMethod,h,null),ut(r,s,"formTarget",h.formTarget,h,null)):(ut(r,s,"encType",h.encType,h,null),ut(r,s,"method",h.method,h,null),ut(r,s,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=fo(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Zd);break;case"onScroll":u!=null&&qe("scroll",r);break;case"onScrollEnd":u!=null&&qe("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=fo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":qe("beforetoggle",r),qe("toggle",r),es(r,"popover",u);break;case"xlinkActuate":on(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":on(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":on(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":on(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":on(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":on(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":on(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":on(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":on(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":es(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=lm.get(o)||o,es(r,o,u))}}function Up(r,s,o,u,h,g){switch(o){case"style":Wl(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Qn(r,u):(typeof u=="number"||typeof u=="bigint")&&Qn(r,""+u);break;case"onScroll":u!=null&&qe("scroll",r);break;case"onScrollEnd":u!=null&&qe("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Zd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ao.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),s=o.slice(2,h?o.length-7:void 0),g=r[Ot]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,h),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,h);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):es(r,o,u)}}}function dn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",r),qe("load",r);var u=!1,h=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ut(r,s,g,T,o,null)}}h&&ut(r,s,"srcSet",o.srcSet,o,null),u&&ut(r,s,"src",o.src,o,null);return;case"input":qe("invalid",r);var I=g=T=h=null,q=null,Z=null;for(u in o)if(o.hasOwnProperty(u)){var ae=o[u];if(ae!=null)switch(u){case"name":h=ae;break;case"type":T=ae;break;case"checked":q=ae;break;case"defaultChecked":Z=ae;break;case"value":g=ae;break;case"defaultValue":I=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,s));break;default:ut(r,s,u,ae,o,null)}}la(r,g,I,q,Z,T,h,!1),co(r);return;case"select":qe("invalid",r),u=T=g=null;for(h in o)if(o.hasOwnProperty(h)&&(I=o[h],I!=null))switch(h){case"value":g=I;break;case"defaultValue":T=I;break;case"multiple":u=I;default:ut(r,s,h,I,o,null)}s=g,o=T,r.multiple=!!u,s!=null?ci(r,!!u,s,!1):o!=null&&ci(r,!!u,o,!0);return;case"textarea":qe("invalid",r),g=h=u=null;for(T in o)if(o.hasOwnProperty(T)&&(I=o[T],I!=null))switch(T){case"value":u=I;break;case"defaultValue":h=I;break;case"children":g=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:ut(r,s,T,I,o,null)}ua(r,u,h,g),co(r);return;case"option":for(q in o)if(o.hasOwnProperty(q)&&(u=o[q],u!=null))switch(q){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ut(r,s,q,u,o,null)}return;case"dialog":qe("beforetoggle",r),qe("toggle",r),qe("cancel",r),qe("close",r);break;case"iframe":case"object":qe("load",r);break;case"video":case"audio":for(u=0;u<Pu.length;u++)qe(Pu[u],r);break;case"image":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"embed":case"source":case"link":qe("error",r),qe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in o)if(o.hasOwnProperty(Z)&&(u=o[Z],u!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ut(r,s,Z,u,o,null)}return;default:if(Zl(s)){for(ae in o)o.hasOwnProperty(ae)&&(u=o[ae],u!==void 0&&Up(r,s,ae,u,o,void 0));return}}for(I in o)o.hasOwnProperty(I)&&(u=o[I],u!=null&&ut(r,s,I,u,o,null))}function aR(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,T=null,I=null,q=null,Z=null,ae=null;for(te in o){var ce=o[te];if(o.hasOwnProperty(te)&&ce!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":q=ce;default:u.hasOwnProperty(te)||ut(r,s,te,null,u,ce)}}for(var ee in u){var te=u[ee];if(ce=o[ee],u.hasOwnProperty(ee)&&(te!=null||ce!=null))switch(ee){case"type":g=te;break;case"name":h=te;break;case"checked":Z=te;break;case"defaultChecked":ae=te;break;case"value":T=te;break;case"defaultValue":I=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:te!==ce&&ut(r,s,ee,te,u,ce)}}jn(r,T,I,q,Z,ae,g,h);return;case"select":te=T=I=ee=null;for(g in o)if(q=o[g],o.hasOwnProperty(g)&&q!=null)switch(g){case"value":break;case"multiple":te=q;default:u.hasOwnProperty(g)||ut(r,s,g,null,u,q)}for(h in u)if(g=u[h],q=o[h],u.hasOwnProperty(h)&&(g!=null||q!=null))switch(h){case"value":ee=g;break;case"defaultValue":I=g;break;case"multiple":T=g;default:g!==q&&ut(r,s,h,g,u,q)}s=I,o=T,u=te,ee!=null?ci(r,!!o,ee,!1):!!u!=!!o&&(s!=null?ci(r,!!o,s,!0):ci(r,!!o,o?[]:"",!1));return;case"textarea":te=ee=null;for(I in o)if(h=o[I],o.hasOwnProperty(I)&&h!=null&&!u.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:ut(r,s,I,null,u,h)}for(T in u)if(h=u[T],g=o[T],u.hasOwnProperty(T)&&(h!=null||g!=null))switch(T){case"value":ee=h;break;case"defaultValue":te=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==g&&ut(r,s,T,h,u,g)}ot(r,ee,te);return;case"option":for(var Oe in o)if(ee=o[Oe],o.hasOwnProperty(Oe)&&ee!=null&&!u.hasOwnProperty(Oe))switch(Oe){case"selected":r.selected=!1;break;default:ut(r,s,Oe,null,u,ee)}for(q in u)if(ee=u[q],te=o[q],u.hasOwnProperty(q)&&ee!==te&&(ee!=null||te!=null))switch(q){case"selected":r.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:ut(r,s,q,ee,u,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in o)ee=o[Re],o.hasOwnProperty(Re)&&ee!=null&&!u.hasOwnProperty(Re)&&ut(r,s,Re,null,u,ee);for(Z in u)if(ee=u[Z],te=o[Z],u.hasOwnProperty(Z)&&ee!==te&&(ee!=null||te!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:ut(r,s,Z,ee,u,te)}return;default:if(Zl(s)){for(var ct in o)ee=o[ct],o.hasOwnProperty(ct)&&ee!==void 0&&!u.hasOwnProperty(ct)&&Up(r,s,ct,void 0,u,ee);for(ae in u)ee=u[ae],te=o[ae],!u.hasOwnProperty(ae)||ee===te||ee===void 0&&te===void 0||Up(r,s,ae,ee,u,te);return}}for(var Y in o)ee=o[Y],o.hasOwnProperty(Y)&&ee!=null&&!u.hasOwnProperty(Y)&&ut(r,s,Y,null,u,ee);for(ce in u)ee=u[ce],te=o[ce],!u.hasOwnProperty(ce)||ee===te||ee==null&&te==null||ut(r,s,ce,ee,u,te)}var Bp=null,zp=null;function Jd(r){return r.nodeType===9?r:r.ownerDocument}function Db(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ob(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Fp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Hp=null;function oR(){var r=window.event;return r&&r.type==="popstate"?r===Hp?!1:(Hp=r,!0):(Hp=null,!1)}var kb=typeof setTimeout=="function"?setTimeout:void 0,lR=typeof clearTimeout=="function"?clearTimeout:void 0,Mb=typeof Promise=="function"?Promise:void 0,uR=typeof queueMicrotask=="function"?queueMicrotask:typeof Mb<"u"?function(r){return Mb.resolve(null).then(r).catch(cR)}:kb;function cR(r){setTimeout(function(){throw r})}function vs(r){return r==="head"}function Pb(r,s){var o=s,u=0,h=0;do{var g=o.nextSibling;if(r.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var T=r.ownerDocument;if(o&1&&ju(T.documentElement),o&2&&ju(T.body),o&4)for(o=T.head,ju(o),T=o.firstChild;T;){var I=T.nextSibling,q=T.nodeName;T[ia]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=I}}if(h===0){r.removeChild(g),Gu(s);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Gu(s)}function qp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":qp(o),Ji(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function dR(r,s,o,u){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[ia])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=pr(r.nextSibling),r===null)break}return null}function fR(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=pr(r.nextSibling),r===null))return null;return r}function Gp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function hR(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function pr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var $p=null;function Vb(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function jb(r,s,o){switch(s=Jd(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function ju(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Ji(r)}var sr=new Map,Lb=new Set;function ef(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ii=z.d;z.d={f:mR,r:pR,D:gR,C:yR,L:vR,m:_R,X:ER,S:bR,M:wR};function mR(){var r=Ii.f(),s=Gd();return r||s}function pR(r){var s=Dr(r);s!==null&&s.tag===5&&s.type==="form"?i_(s):Ii.r(r)}var $o=typeof document>"u"?null:document;function Ub(r,s,o){var u=$o;if(u&&typeof s=="string"&&s){var h=kt(s);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),Lb.has(h)||(Lb.add(h),r={rel:r,crossOrigin:o,href:s},u.querySelector(h)===null&&(s=u.createElement("link"),dn(s,"link",r),Rt(s),u.head.appendChild(s)))}}function gR(r){Ii.D(r),Ub("dns-prefetch",r,null)}function yR(r,s){Ii.C(r,s),Ub("preconnect",r,s)}function vR(r,s,o){Ii.L(r,s,o);var u=$o;if(u&&r&&s){var h='link[rel="preload"][as="'+kt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+kt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+kt(o.imageSizes)+'"]')):h+='[href="'+kt(r)+'"]';var g=h;switch(s){case"style":g=Yo(r);break;case"script":g=Ko(r)}sr.has(g)||(r=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),sr.set(g,r),u.querySelector(h)!==null||s==="style"&&u.querySelector(Lu(g))||s==="script"&&u.querySelector(Uu(g))||(s=u.createElement("link"),dn(s,"link",r),Rt(s),u.head.appendChild(s)))}}function _R(r,s){Ii.m(r,s);var o=$o;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+kt(u)+'"][href="'+kt(r)+'"]',g=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ko(r)}if(!sr.has(g)&&(r=v({rel:"modulepreload",href:r},s),sr.set(g,r),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Uu(g)))return}u=o.createElement("link"),dn(u,"link",r),Rt(u),o.head.appendChild(u)}}}function bR(r,s,o){Ii.S(r,s,o);var u=$o;if(u&&r){var h=An(u).hoistableStyles,g=Yo(r);s=s||"default";var T=h.get(g);if(!T){var I={loading:0,preload:null};if(T=u.querySelector(Lu(g)))I.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},o),(o=sr.get(g))&&Yp(r,o);var q=T=u.createElement("link");Rt(q),dn(q,"link",r),q._p=new Promise(function(Z,ae){q.onload=Z,q.onerror=ae}),q.addEventListener("load",function(){I.loading|=1}),q.addEventListener("error",function(){I.loading|=2}),I.loading|=4,tf(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:I},h.set(g,T)}}}function ER(r,s){Ii.X(r,s);var o=$o;if(o&&r){var u=An(o).hoistableScripts,h=Ko(r),g=u.get(h);g||(g=o.querySelector(Uu(h)),g||(r=v({src:r,async:!0},s),(s=sr.get(h))&&Kp(r,s),g=o.createElement("script"),Rt(g),dn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function wR(r,s){Ii.M(r,s);var o=$o;if(o&&r){var u=An(o).hoistableScripts,h=Ko(r),g=u.get(h);g||(g=o.querySelector(Uu(h)),g||(r=v({src:r,async:!0,type:"module"},s),(s=sr.get(h))&&Kp(r,s),g=o.createElement("script"),Rt(g),dn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function Bb(r,s,o,u){var h=(h=_e.current)?ef(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Yo(o.href),o=An(h).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Yo(o.href);var g=An(h).hoistableStyles,T=g.get(r);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,T),(g=h.querySelector(Lu(r)))&&!g._p&&(T.instance=g,T.state.loading=5),sr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},sr.set(r,o),g||TR(h,r,o,T.state))),s&&u===null)throw Error(i(528,""));return T}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ko(o),o=An(h).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Yo(r){return'href="'+kt(r)+'"'}function Lu(r){return'link[rel="stylesheet"]['+r+"]"}function zb(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function TR(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),dn(s,"link",o),Rt(s),r.head.appendChild(s))}function Ko(r){return'[src="'+kt(r)+'"]'}function Uu(r){return"script[async]"+r}function Fb(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+kt(o.href)+'"]');if(u)return s.instance=u,Rt(u),u;var h=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Rt(u),dn(u,"style",h),tf(u,o.precedence,r),s.instance=u;case"stylesheet":h=Yo(o.href);var g=r.querySelector(Lu(h));if(g)return s.state.loading|=4,s.instance=g,Rt(g),g;u=zb(o),(h=sr.get(h))&&Yp(u,h),g=(r.ownerDocument||r).createElement("link"),Rt(g);var T=g;return T._p=new Promise(function(I,q){T.onload=I,T.onerror=q}),dn(g,"link",u),s.state.loading|=4,tf(g,o.precedence,r),s.instance=g;case"script":return g=Ko(o.src),(h=r.querySelector(Uu(g)))?(s.instance=h,Rt(h),h):(u=o,(h=sr.get(g))&&(u=v({},o),Kp(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),Rt(h),dn(h,"link",u),r.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,tf(u,o.precedence,r));return s.instance}function tf(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,g=h,T=0;T<u.length;T++){var I=u[T];if(I.dataset.precedence===s)g=I;else if(g!==h)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Yp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Kp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var nf=null;function Hb(r,s,o){if(nf===null){var u=new Map,h=nf=new Map;h.set(o,u)}else h=nf,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var g=o[h];if(!(g[ia]||g[Ft]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=r+T;var I=u.get(T);I?I.push(g):u.set(T,[g])}}return u}function qb(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function xR(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Gb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Bu=null;function SR(){}function AR(r,s,o){if(Bu===null)throw Error(i(475));var u=Bu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Yo(o.href),g=r.querySelector(Lu(h));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=rf.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=g,Rt(g);return}g=r.ownerDocument||r,o=zb(o),(h=sr.get(h))&&Yp(o,h),g=g.createElement("link"),Rt(g);var T=g;T._p=new Promise(function(I,q){T.onload=I,T.onerror=q}),dn(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=rf.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function RR(){if(Bu===null)throw Error(i(475));var r=Bu;return r.stylesheets&&r.count===0&&Qp(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Qp(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function rf(){if(this.count--,this.count===0){if(this.stylesheets)Qp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var sf=null;function Qp(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,sf=new Map,s.forEach(CR,r),sf=null,rf.call(r))}function CR(r,s){if(!(s.state.loading&4)){var o=sf.get(r);if(o)var u=o.get(null);else{o=new Map,sf.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var T=h[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}h=s.instance,T=h.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,h),o.set(T,h),this.count++,u=rf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),g?g.parentNode.insertBefore(h,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),s.state.loading|=4}}var zu={$$typeof:F,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function IR(r,s,o,u,h,g,T,I){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function $b(r,s,o,u,h,g,T,I,q,Z,ae,ce){return r=new IR(r,s,o,T,I,q,Z,ce),s=1,g===!0&&(s|=24),g=Un(3,null,null,s),r.current=g,g.stateNode=r,s=Nm(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},Mm(g),r}function Yb(r){return r?(r=So,r):So}function Kb(r,s,o,u,h,g){h=Yb(h),u.context===null?u.context=h:u.pendingContext=h,u=ss(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=as(r,u,s),o!==null&&(qn(o,r,s),yu(o,r,s))}function Qb(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Xp(r,s){Qb(r,s),(r=r.alternate)&&Qb(r,s)}function Xb(r){if(r.tag===13){var s=xo(r,67108864);s!==null&&qn(s,r,67108864),Xp(r,67108864)}}var af=!0;function NR(r,s,o,u){var h=H.T;H.T=null;var g=z.p;try{z.p=2,Wp(r,s,o,u)}finally{z.p=g,H.T=h}}function DR(r,s,o,u){var h=H.T;H.T=null;var g=z.p;try{z.p=8,Wp(r,s,o,u)}finally{z.p=g,H.T=h}}function Wp(r,s,o,u){if(af){var h=Zp(u);if(h===null)Lp(r,s,u,of,o),Zb(r,u);else if(kR(h,r,s,o,u))u.stopPropagation();else if(Zb(r,u),s&4&&-1<OR.indexOf(r)){for(;h!==null;){var g=Dr(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=cr(g.pendingLanes);if(T!==0){var I=g;for(I.pendingLanes|=2,I.entangledLanes|=2;T;){var q=1<<31-yn(T);I.entanglements[1]|=q,T&=~q}Gr(g),(rt&6)===0&&(Hd=Xt()+500,Mu(0))}}break;case 13:I=xo(g,2),I!==null&&qn(I,g,2),Gd(),Xp(g,2)}if(g=Zp(u),g===null&&Lp(r,s,u,of,o),g===h)break;h=g}h!==null&&u.stopPropagation()}else Lp(r,s,u,null,o)}}function Zp(r){return r=Xn(r),Jp(r)}var of=null;function Jp(r){if(of=null,r=oi(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return of=r,null}function Wb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ul()){case Ir:return 2;case no:return 8;case Js:case rm:return 32;case ro:return 268435456;default:return 32}default:return 32}}var eg=!1,_s=null,bs=null,Es=null,Fu=new Map,Hu=new Map,ws=[],OR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zb(r,s){switch(r){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":Fu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hu.delete(s.pointerId)}}function qu(r,s,o,u,h,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[h]},s!==null&&(s=Dr(s),s!==null&&Xb(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function kR(r,s,o,u,h){switch(s){case"focusin":return _s=qu(_s,r,s,o,u,h),!0;case"dragenter":return bs=qu(bs,r,s,o,u,h),!0;case"mouseover":return Es=qu(Es,r,s,o,u,h),!0;case"pointerover":var g=h.pointerId;return Fu.set(g,qu(Fu.get(g)||null,r,s,o,u,h)),!0;case"gotpointercapture":return g=h.pointerId,Hu.set(g,qu(Hu.get(g)||null,r,s,o,u,h)),!0}return!1}function Jb(r){var s=oi(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,Gc(r.priority,function(){if(o.tag===13){var u=Hn();u=Xi(u);var h=xo(o,u);h!==null&&qn(h,o,u),Xp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function lf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Zp(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);di=u,o.target.dispatchEvent(u),di=null}else return s=Dr(o),s!==null&&Xb(s),r.blockedOn=o,!1;s.shift()}return!0}function eE(r,s,o){lf(r)&&o.delete(s)}function MR(){eg=!1,_s!==null&&lf(_s)&&(_s=null),bs!==null&&lf(bs)&&(bs=null),Es!==null&&lf(Es)&&(Es=null),Fu.forEach(eE),Hu.forEach(eE)}function uf(r,s){r.blockedOn===s&&(r.blockedOn=null,eg||(eg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,MR)))}var cf=null;function tE(r){cf!==r&&(cf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){cf===r&&(cf=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],h=r[s+2];if(typeof u!="function"){if(Jp(u||o)===null)continue;break}var g=Dr(o);g!==null&&(r.splice(s,3),s-=3,Jm(g,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function Gu(r){function s(q){return uf(q,r)}_s!==null&&uf(_s,r),bs!==null&&uf(bs,r),Es!==null&&uf(Es,r),Fu.forEach(s),Hu.forEach(s);for(var o=0;o<ws.length;o++){var u=ws[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<ws.length&&(o=ws[0],o.blockedOn===null);)Jb(o),o.blockedOn===null&&ws.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],g=o[u+1],T=h[Ot]||null;if(typeof g=="function")T||tE(o);else if(T){var I=null;if(g&&g.hasAttribute("formAction")){if(h=g,T=g[Ot]||null)I=T.formAction;else if(Jp(h)!==null)continue}else I=T.action;typeof I=="function"?o[u+1]=I:(o.splice(u,3),u-=3),tE(o)}}}function tg(r){this._internalRoot=r}df.prototype.render=tg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Hn();Kb(o,u,r,s,null,null)},df.prototype.unmount=tg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Kb(r.current,2,null,r,null,null),Gd(),s[Kn]=null}};function df(r){this._internalRoot=r}df.prototype.unstable_scheduleHydration=function(r){if(r){var s=Wi();r={blockedOn:null,target:r,priority:s};for(var o=0;o<ws.length&&s!==0&&s<ws[o].priority;o++);ws.splice(o,0,r),o===0&&Jb(r)}};var nE=e.version;if(nE!=="19.1.0")throw Error(i(527,nE,"19.1.0"));z.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(s),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var PR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ff.isDisabled&&ff.supportsFiber)try{wt=ff.inject(PR),nt=ff}catch{}}return Yu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",h=v_,g=__,T=b_,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks)),s=$b(r,1,!1,null,null,o,u,h,g,T,I,null),r[Kn]=s.current,jp(r),new tg(s)},Yu.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,h="",g=v_,T=__,I=b_,q=null,Z=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(q=o.unstable_transitionCallbacks),o.formState!==void 0&&(Z=o.formState)),s=$b(r,1,!0,s,o??null,u,h,g,T,I,q,Z),s.context=Yb(null),o=s.current,u=Hn(),u=Xi(u),h=ss(u),h.callback=null,as(o,h,u),o=u,s.current.lanes=o,ai(s,o),Gr(s),r[Kn]=s.current,jp(r),new df(s)},Yu.version="19.1.0",Yu}var fE;function GR(){if(fE)return ig.exports;fE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ig.exports=qR(),ig.exports}var $R=GR(),Ku={},hE;function YR(){if(hE)return Ku;hE=1,Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.parse=c,Ku.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,R){const C=new l,A=E.length;if(A<2)return C;const D=(R==null?void 0:R.decode)||v;let j=0;do{const U=E.indexOf("=",j);if(U===-1)break;const F=E.indexOf(";",j),K=F===-1?A:F;if(U>K){j=E.lastIndexOf(";",U-1)+1;continue}const Q=f(E,j,U),se=m(E,U,Q),N=E.slice(Q,se);if(C[N]===void 0){let S=f(E,U+1,K),k=m(E,K,S);const L=D(E.slice(S,k));C[N]=L}j=K+1}while(j<A);return C}function f(E,R,C){do{const A=E.charCodeAt(R);if(A!==32&&A!==9)return R}while(++R<C);return C}function m(E,R,C){for(;R>C;){const A=E.charCodeAt(--R);if(A!==32&&A!==9)return R+1}return C}function p(E,R,C){const A=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const D=A(R);if(!e.test(D))throw new TypeError(`argument val is invalid: ${R}`);let j=E+"="+D;if(!C)return j;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);j+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);j+="; Domain="+C.domain}if(C.path){if(!i.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);j+="; Path="+C.path}if(C.expires){if(!b(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);j+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(j+="; HttpOnly"),C.secure&&(j+="; Secure"),C.partitioned&&(j+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return j}function v(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function b(E){return a.call(E)==="[object Date]"}return Ku}YR();var mE="popstate";function KR(n={}){function e(i,a){let{pathname:l,search:c,hash:f}=i.location;return Og("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:dc(a)}return XR(e,t,null,n)}function _t(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function br(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QR(){return Math.random().toString(36).substring(2,10)}function pE(n,e){return{usr:n.state,key:n.key,idx:e}}function Og(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Tl(e):e,state:t,key:e&&e.key||i||QR()}}function dc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Tl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function XR(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,f="POP",m=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function b(){f="POP";let D=v(),j=D==null?null:D-p;p=D,m&&m({action:f,location:A.location,delta:j})}function E(D,j){f="PUSH";let U=Og(A.location,D,j);p=v()+1;let F=pE(U,p),K=A.createHref(U);try{c.pushState(F,"",K)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;a.location.assign(K)}l&&m&&m({action:f,location:A.location,delta:1})}function R(D,j){f="REPLACE";let U=Og(A.location,D,j);p=v();let F=pE(U,p),K=A.createHref(U);c.replaceState(F,"",K),l&&m&&m({action:f,location:A.location,delta:0})}function C(D){return WR(D)}let A={get action(){return f},get location(){return n(a,c)},listen(D){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(mE,b),m=D,()=>{a.removeEventListener(mE,b),m=null}},createHref(D){return e(a,D)},createURL:C,encodeLocation(D){let j=C(D);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:E,replace:R,go(D){return c.go(D)}};return A}function WR(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),_t(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:dc(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function kT(n,e,t="/"){return ZR(n,e,t,!1)}function ZR(n,e,t,i){let a=typeof e=="string"?Tl(e):e,l=Li(a.pathname||"/",t);if(l==null)return null;let c=MT(n);JR(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=cC(l);f=lC(c[m],p,i)}return f}function MT(n,e=[],t=[],i=""){let a=(l,c,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(_t(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let p=ki([i,m.relativePath]),v=t.concat(m);l.children&&l.children.length>0&&(_t(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),MT(l.children,e,v,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:aC(p,l.index),routesMeta:v})};return n.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,c);else for(let m of PT(l.path))a(l,c,m)}),e}function PT(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=PT(i.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>n.startsWith("/")&&m===""?"/":m)}function JR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:oC(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var eC=/^:[\w-]+$/,tC=3,nC=2,rC=1,iC=10,sC=-2,gE=n=>n==="*";function aC(n,e){let t=n.split("/"),i=t.length;return t.some(gE)&&(i+=sC),e&&(i+=nC),t.filter(a=>!gE(a)).reduce((a,l)=>a+(eC.test(l)?tC:l===""?rC:iC),i)}function oC(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function lC(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let f=0;f<i.length;++f){let m=i[f],p=f===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=qf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),E=m.route;if(!b&&p&&t&&!i[i.length-1].route.index&&(b=qf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:ki([l,b.pathname]),pathnameBase:mC(ki([l,b.pathnameBase])),route:E}),b.pathnameBase!=="/"&&(l=ki([l,b.pathnameBase]))}return c}function qf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=uC(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:b},E)=>{if(v==="*"){let C=f[E]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const R=f[E];return b&&!R?p[v]=void 0:p[v]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:n}}function uC(n,e=!1,t=!0){br(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(i.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function cC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return br(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Li(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function dC(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?Tl(n):n;return{pathname:t?t.startsWith("/")?t:fC(t,e):e,search:pC(i),hash:gC(a)}}function fC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function lg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Sy(n){let e=hC(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Ay(n,e,t,i=!1){let a;typeof n=="string"?a=Tl(n):(a={...n},_t(!a.pathname||!a.pathname.includes("?"),lg("?","pathname","search",a)),_t(!a.pathname||!a.pathname.includes("#"),lg("#","pathname","hash",a)),_t(!a.search||!a.search.includes("#"),lg("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=t;else{let b=e.length-1;if(!i&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),b-=1;a.pathname=E.join("/")}f=b>=0?e[b]:"/"}let m=dC(a,f),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var ki=n=>n.join("/").replace(/\/\/+/g,"/"),mC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),pC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,gC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function yC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var VT=["POST","PUT","PATCH","DELETE"];new Set(VT);var vC=["GET",...VT];new Set(vC);var xl=x.createContext(null);xl.displayName="DataRouter";var Eh=x.createContext(null);Eh.displayName="DataRouterState";var jT=x.createContext({isTransitioning:!1});jT.displayName="ViewTransition";var _C=x.createContext(new Map);_C.displayName="Fetchers";var bC=x.createContext(null);bC.displayName="Await";var Ar=x.createContext(null);Ar.displayName="Navigation";var Sc=x.createContext(null);Sc.displayName="Location";var ri=x.createContext({outlet:null,matches:[],isDataRoute:!1});ri.displayName="Route";var Ry=x.createContext(null);Ry.displayName="RouteError";function EC(n,{relative:e}={}){_t(Sl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=x.useContext(Ar),{hash:a,pathname:l,search:c}=Ac(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:ki([t,l])),i.createHref({pathname:f,search:c,hash:a})}function Sl(){return x.useContext(Sc)!=null}function $i(){return _t(Sl(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Sc).location}var LT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function UT(n){x.useContext(Ar).static||x.useLayoutEffect(n)}function wh(){let{isDataRoute:n}=x.useContext(ri);return n?MC():wC()}function wC(){_t(Sl(),"useNavigate() may be used only in the context of a <Router> component.");let n=x.useContext(xl),{basename:e,navigator:t}=x.useContext(Ar),{matches:i}=x.useContext(ri),{pathname:a}=$i(),l=JSON.stringify(Sy(i)),c=x.useRef(!1);return UT(()=>{c.current=!0}),x.useCallback((m,p={})=>{if(br(c.current,LT),!c.current)return;if(typeof m=="number"){t.go(m);return}let v=Ay(m,JSON.parse(l),a,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ki([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,l,a,n])}x.createContext(null);function Ac(n,{relative:e}={}){let{matches:t}=x.useContext(ri),{pathname:i}=$i(),a=JSON.stringify(Sy(t));return x.useMemo(()=>Ay(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function TC(n,e){return BT(n,e)}function BT(n,e,t,i){var j;_t(Sl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=x.useContext(Ar),{matches:l}=x.useContext(ri),c=l[l.length-1],f=c?c.params:{},m=c?c.pathname:"/",p=c?c.pathnameBase:"/",v=c&&c.route;{let U=v&&v.path||"";zT(m,!v||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let b=$i(),E;if(e){let U=typeof e=="string"?Tl(e):e;_t(p==="/"||((j=U.pathname)==null?void 0:j.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${U.pathname}" was given in the \`location\` prop.`),E=U}else E=b;let R=E.pathname||"/",C=R;if(p!=="/"){let U=p.replace(/^\//,"").split("/");C="/"+R.replace(/^\//,"").split("/").slice(U.length).join("/")}let A=kT(n,{pathname:C});br(v||A!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),br(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=CC(A&&A.map(U=>Object.assign({},U,{params:Object.assign({},f,U.params),pathname:ki([p,a.encodeLocation?a.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?p:ki([p,a.encodeLocation?a.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),l,t,i);return e&&D?x.createElement(Sc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},D):D}function xC(){let n=kC(),e=yC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:l},"ErrorBoundary")," or"," ",x.createElement("code",{style:l},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),t?x.createElement("pre",{style:a},t):null,c)}var SC=x.createElement(xC,null),AC=class extends x.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?x.createElement(ri.Provider,{value:this.props.routeContext},x.createElement(Ry.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RC({routeContext:n,match:e,children:t}){let i=x.useContext(xl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(ri.Provider,{value:n},t)}function CC(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);_t(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,f=-1;if(t)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:v,errors:b}=t,E=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||E){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,p,v)=>{let b,E=!1,R=null,C=null;t&&(b=l&&p.route.id?l[p.route.id]:void 0,R=p.route.errorElement||SC,c&&(f<0&&v===0?(zT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,C=null):f===v&&(E=!0,C=p.route.hydrateFallbackElement||null)));let A=e.concat(a.slice(0,v+1)),D=()=>{let j;return b?j=R:E?j=C:p.route.Component?j=x.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=m,x.createElement(RC,{match:p,routeContext:{outlet:m,matches:A,isDataRoute:t!=null},children:j})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?x.createElement(AC,{location:t.location,revalidation:t.revalidation,component:R,error:b,children:D(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):D()},null)}function Cy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IC(n){let e=x.useContext(xl);return _t(e,Cy(n)),e}function NC(n){let e=x.useContext(Eh);return _t(e,Cy(n)),e}function DC(n){let e=x.useContext(ri);return _t(e,Cy(n)),e}function Iy(n){let e=DC(n),t=e.matches[e.matches.length-1];return _t(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function OC(){return Iy("useRouteId")}function kC(){var i;let n=x.useContext(Ry),e=NC("useRouteError"),t=Iy("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function MC(){let{router:n}=IC("useNavigate"),e=Iy("useNavigate"),t=x.useRef(!1);return UT(()=>{t.current=!0}),x.useCallback(async(a,l={})=>{br(t.current,LT),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var yE={};function zT(n,e,t){!e&&!yE[n]&&(yE[n]=!0,br(!1,t))}x.memo(PC);function PC({routes:n,future:e,state:t}){return BT(n,void 0,t,e)}function kg({to:n,replace:e,state:t,relative:i}){_t(Sl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=x.useContext(Ar);br(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=x.useContext(ri),{pathname:c}=$i(),f=wh(),m=Ay(n,Sy(l),c,i==="path"),p=JSON.stringify(m);return x.useEffect(()=>{f(JSON.parse(p),{replace:e,state:t,relative:i})},[f,p,i,e,t]),null}function $r(n){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VC({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){_t(!Sl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=x.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Tl(t));let{pathname:m="/",search:p="",hash:v="",state:b=null,key:E="default"}=t,R=x.useMemo(()=>{let C=Li(m,c);return C==null?null:{location:{pathname:C,search:p,hash:v,state:b,key:E},navigationType:i}},[c,m,p,v,b,E,i]);return br(R!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:x.createElement(Ar.Provider,{value:f},x.createElement(Sc.Provider,{children:e,value:R}))}function jC({children:n,location:e}){return TC(Mg(n),e)}function Mg(n,e=[]){let t=[];return x.Children.forEach(n,(i,a)=>{if(!x.isValidElement(i))return;let l=[...e,a];if(i.type===x.Fragment){t.push.apply(t,Mg(i.props.children,l));return}_t(i.type===$r,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Mg(i.props.children,l)),t.push(c)}),t}var If="get",Nf="application/x-www-form-urlencoded";function Th(n){return n!=null&&typeof n.tagName=="string"}function LC(n){return Th(n)&&n.tagName.toLowerCase()==="button"}function UC(n){return Th(n)&&n.tagName.toLowerCase()==="form"}function BC(n){return Th(n)&&n.tagName.toLowerCase()==="input"}function zC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function FC(n,e){return n.button===0&&(!e||e==="_self")&&!zC(n)}var hf=null;function HC(){if(hf===null)try{new FormData(document.createElement("form"),0),hf=!1}catch{hf=!0}return hf}var qC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ug(n){return n!=null&&!qC.has(n)?(br(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nf}"`),null):n}function GC(n,e){let t,i,a,l,c;if(UC(n)){let f=n.getAttribute("action");i=f?Li(f,e):null,t=n.getAttribute("method")||If,a=ug(n.getAttribute("enctype"))||Nf,l=new FormData(n)}else if(LC(n)||BC(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||f.getAttribute("action");if(i=m?Li(m,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||If,a=ug(n.getAttribute("formenctype"))||ug(f.getAttribute("enctype"))||Nf,l=new FormData(f,n),!HC()){let{name:p,type:v,value:b}=n;if(v==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,b)}}else{if(Th(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=If,i=null,a=Nf,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}function Ny(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function $C(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function KC(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await $C(l,t);return c.links?c.links():[]}return[]}));return ZC(i.flat(1).filter(YC).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function vE(n,e,t,i,a,l){let c=(m,p)=>t[p]?m.route.id!==t[p].route.id:!0,f=(m,p)=>{var v;return t[p].pathname!==m.pathname||((v=t[p].route.path)==null?void 0:v.endsWith("*"))&&t[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{var b;let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function QC(n,e,{includeHydrateFallback:t}={}){return XC(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function XC(n){return[...new Set(n)]}function WC(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function ZC(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(WC(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var JC=new Set([100,101,204,205]);function eI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Li(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function FT(){let n=x.useContext(xl);return Ny(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function tI(){let n=x.useContext(Eh);return Ny(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Dy=x.createContext(void 0);Dy.displayName="FrameworkContext";function HT(){let n=x.useContext(Dy);return Ny(n,"You must render this element inside a <HydratedRouter> element"),n}function nI(n,e){let t=x.useContext(Dy),[i,a]=x.useState(!1),[l,c]=x.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=e,E=x.useRef(null);x.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let A=j=>{j.forEach(U=>{c(U.isIntersecting)})},D=new IntersectionObserver(A,{threshold:.5});return E.current&&D.observe(E.current),()=>{D.disconnect()}}},[n]),x.useEffect(()=>{if(i){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[i]);let R=()=>{a(!0)},C=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,E,{}]:[l,E,{onFocus:Qu(f,R),onBlur:Qu(m,C),onMouseEnter:Qu(p,R),onMouseLeave:Qu(v,C),onTouchStart:Qu(b,R)}]:[!1,E,{}]}function Qu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function rI({page:n,...e}){let{router:t}=FT(),i=x.useMemo(()=>kT(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?x.createElement(sI,{page:n,matches:i,...e}):null}function iI(n){let{manifest:e,routeModules:t}=HT(),[i,a]=x.useState([]);return x.useEffect(()=>{let l=!1;return KC(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function sI({page:n,matches:e,...t}){let i=$i(),{manifest:a,routeModules:l}=HT(),{basename:c}=FT(),{loaderData:f,matches:m}=tI(),p=x.useMemo(()=>vE(n,e,m,a,i,"data"),[n,e,m,a,i]),v=x.useMemo(()=>vE(n,e,m,a,i,"assets"),[n,e,m,a,i]),b=x.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let C=new Set,A=!1;if(e.forEach(j=>{var F;let U=a.routes[j.route.id];!U||!U.hasLoader||(!p.some(K=>K.route.id===j.route.id)&&j.route.id in f&&((F=l[j.route.id])!=null&&F.shouldRevalidate)||U.hasClientLoader?A=!0:C.add(j.route.id))}),C.size===0)return[];let D=eI(n,c);return A&&C.size>0&&D.searchParams.set("_routes",e.filter(j=>C.has(j.route.id)).map(j=>j.route.id).join(",")),[D.pathname+D.search]},[c,f,i,a,p,e,n,l]),E=x.useMemo(()=>QC(v,a),[v,a]),R=iI(v);return x.createElement(x.Fragment,null,b.map(C=>x.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),E.map(C=>x.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),R.map(({key:C,link:A})=>x.createElement("link",{key:C,...A})))}function aI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var qT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qT&&(window.__reactRouterVersion="7.6.1")}catch{}function oI({basename:n,children:e,window:t}){let i=x.useRef();i.current==null&&(i.current=KR({window:t,v5Compat:!0}));let a=i.current,[l,c]=x.useState({action:a.action,location:a.location}),f=x.useCallback(m=>{x.startTransition(()=>c(m))},[c]);return x.useLayoutEffect(()=>a.listen(f),[a,f]),x.createElement(VC,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var GT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dl=x.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:v,viewTransition:b,...E},R){let{basename:C}=x.useContext(Ar),A=typeof p=="string"&&GT.test(p),D,j=!1;if(typeof p=="string"&&A&&(D=p,qT))try{let k=new URL(window.location.href),L=p.startsWith("//")?new URL(k.protocol+p):new URL(p),M=Li(L.pathname,C);L.origin===k.origin&&M!=null?p=M+L.search+L.hash:j=!0}catch{br(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=EC(p,{relative:a}),[F,K,Q]=nI(i,E),se=dI(p,{replace:c,state:f,target:m,preventScrollReset:v,relative:a,viewTransition:b});function N(k){e&&e(k),k.defaultPrevented||se(k)}let S=x.createElement("a",{...E,...Q,href:D||U,onClick:j||l?e:N,ref:aI(R,K),target:m,"data-discover":!A&&t==="render"?"true":void 0});return F&&!A?x.createElement(x.Fragment,null,S,x.createElement(rI,{page:U})):S});dl.displayName="Link";var lI=x.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},v){let b=Ac(c,{relative:p.relative}),E=$i(),R=x.useContext(Eh),{navigator:C,basename:A}=x.useContext(Ar),D=R!=null&&gI(b)&&f===!0,j=C.encodeLocation?C.encodeLocation(b).pathname:b.pathname,U=E.pathname,F=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(U=U.toLowerCase(),F=F?F.toLowerCase():null,j=j.toLowerCase()),F&&A&&(F=Li(F,A)||F);const K=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let Q=U===j||!a&&U.startsWith(j)&&U.charAt(K)==="/",se=F!=null&&(F===j||!a&&F.startsWith(j)&&F.charAt(j.length)==="/"),N={isActive:Q,isPending:se,isTransitioning:D},S=Q?e:void 0,k;typeof i=="function"?k=i(N):k=[i,Q?"active":null,se?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(N):l;return x.createElement(dl,{...p,"aria-current":S,className:k,ref:v,style:L,to:c,viewTransition:f},typeof m=="function"?m(N):m)});lI.displayName="NavLink";var uI=x.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=If,action:f,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:b,...E},R)=>{let C=mI(),A=pI(f,{relative:p}),D=c.toLowerCase()==="get"?"get":"post",j=typeof f=="string"&&GT.test(f),U=F=>{if(m&&m(F),F.defaultPrevented)return;F.preventDefault();let K=F.nativeEvent.submitter,Q=(K==null?void 0:K.getAttribute("formmethod"))||c;C(K||F.currentTarget,{fetcherKey:e,method:Q,navigate:t,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:b})};return x.createElement("form",{ref:R,method:D,action:A,onSubmit:i?m:U,...E,"data-discover":!j&&n==="render"?"true":void 0})});uI.displayName="Form";function cI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $T(n){let e=x.useContext(xl);return _t(e,cI(n)),e}function dI(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=wh(),m=$i(),p=Ac(n,{relative:l});return x.useCallback(v=>{if(FC(v,e)){v.preventDefault();let b=t!==void 0?t:dc(m)===dc(p);f(n,{replace:b,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[m,f,p,t,i,e,n,a,l,c])}var fI=0,hI=()=>`__${String(++fI)}__`;function mI(){let{router:n}=$T("useSubmit"),{basename:e}=x.useContext(Ar),t=OC();return x.useCallback(async(i,a={})=>{let{action:l,method:c,encType:f,formData:m,body:p}=GC(i,e);if(a.navigate===!1){let v=a.fetcherKey||hI();await n.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function pI(n,{relative:e}={}){let{basename:t}=x.useContext(Ar),i=x.useContext(ri);_t(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Ac(n||".",{relative:e})},c=$i();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(v=>v==="")){f.delete("index"),m.filter(b=>b).forEach(b=>f.append("index",b));let v=f.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ki([t,l.pathname])),dc(l)}function gI(n,e={}){let t=x.useContext(jT);_t(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=$T("useViewTransitionState"),a=Ac(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Li(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Li(t.nextLocation.pathname,i)||t.nextLocation.pathname;return qf(a.pathname,c)!=null||qf(a.pathname,l)!=null}[...JC];var Rc=OT();const yI=NT(Rc);function _E(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function vI(...n){return e=>{let t=!1;const i=n.map(a=>{const l=_E(a,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():_E(n[a],null)}}}}function Dt(...n){return x.useCallback(vI(...n),n)}function fc(n){const e=_I(n),t=x.forwardRef((i,a)=>{const{children:l,...c}=i,f=x.Children.toArray(l),m=f.find(EI);if(m){const p=m.props.children,v=f.map(b=>b===m?x.Children.count(p)>1?x.Children.only(null):x.isValidElement(p)?p.props.children:null:b);return y.jsx(e,{...c,ref:a,children:x.isValidElement(p)?x.cloneElement(p,void 0,v):null})}return y.jsx(e,{...c,ref:a,children:l})});return t.displayName=`${n}.Slot`,t}var YT=fc("Slot");function _I(n){const e=x.forwardRef((t,i)=>{const{children:a,...l}=t,c=x.isValidElement(a)?TI(a):void 0,f=Dt(c,i);if(x.isValidElement(a)){const m=wI(l,a.props);return a.type!==x.Fragment&&(m.ref=f),x.cloneElement(a,m)}return x.Children.count(a)>1?x.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var bI=Symbol("radix.slottable");function EI(n){return x.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===bI}function wI(n,e){const t={...e};for(const i in e){const a=n[i],l=e[i];/^on[A-Z]/.test(i)?a&&l?t[i]=(...f)=>{const m=l(...f);return a(...f),m}:a&&(t[i]=a):i==="style"?t[i]={...a,...l}:i==="className"&&(t[i]=[a,l].filter(Boolean).join(" "))}return{...n,...t}}function TI(n){var i,a;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function KT(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=KT(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function QT(){for(var n,e,t=0,i="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=KT(n))&&(i&&(i+=" "),i+=e);return i}const bE=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,EE=QT,Oy=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return EE(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:a,defaultVariants:l}=e,c=Object.keys(a).map(p=>{const v=t==null?void 0:t[p],b=l==null?void 0:l[p];if(v===null)return null;const E=bE(v)||bE(b);return a[p][E]}),f=t&&Object.entries(t).reduce((p,v)=>{let[b,E]=v;return E===void 0||(p[b]=E),p},{}),m=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((p,v)=>{let{class:b,className:E,...R}=v;return Object.entries(R).every(C=>{let[A,D]=C;return Array.isArray(D)?D.includes({...l,...f}[A]):{...l,...f}[A]===D})?[...p,b,E]:p},[]);return EE(n,c,m,t==null?void 0:t.class,t==null?void 0:t.className)},ky="-",xI=n=>{const e=AI(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:c=>{const f=c.split(ky);return f[0]===""&&f.length!==1&&f.shift(),XT(f,e)||SI(c)},getConflictingClassGroupIds:(c,f)=>{const m=t[c]||[];return f&&i[c]?[...m,...i[c]]:m}}},XT=(n,e)=>{var c;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),a=i?XT(n.slice(1),i):void 0;if(a)return a;if(e.validators.length===0)return;const l=n.join(ky);return(c=e.validators.find(({validator:f})=>f(l)))==null?void 0:c.classGroupId},wE=/^\[(.+)\]$/,SI=n=>{if(wE.test(n)){const e=wE.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},AI=n=>{const{theme:e,classGroups:t}=n,i={nextPart:new Map,validators:[]};for(const a in t)Pg(t[a],i,a,e);return i},Pg=(n,e,t,i)=>{n.forEach(a=>{if(typeof a=="string"){const l=a===""?e:TE(e,a);l.classGroupId=t;return}if(typeof a=="function"){if(RI(a)){Pg(a(i),e,t,i);return}e.validators.push({validator:a,classGroupId:t});return}Object.entries(a).forEach(([l,c])=>{Pg(c,TE(e,l),t,i)})})},TE=(n,e)=>{let t=n;return e.split(ky).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},RI=n=>n.isThemeGetter,CI=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const a=(l,c)=>{t.set(l,c),e++,e>n&&(e=0,i=t,t=new Map)};return{get(l){let c=t.get(l);if(c!==void 0)return c;if((c=i.get(l))!==void 0)return a(l,c),c},set(l,c){t.has(l)?t.set(l,c):a(l,c)}}},Vg="!",jg=":",II=jg.length,NI=n=>{const{prefix:e,experimentalParseClassName:t}=n;let i=a=>{const l=[];let c=0,f=0,m=0,p;for(let C=0;C<a.length;C++){let A=a[C];if(c===0&&f===0){if(A===jg){l.push(a.slice(m,C)),m=C+II;continue}if(A==="/"){p=C;continue}}A==="["?c++:A==="]"?c--:A==="("?f++:A===")"&&f--}const v=l.length===0?a:a.substring(m),b=DI(v),E=b!==v,R=p&&p>m?p-m:void 0;return{modifiers:l,hasImportantModifier:E,baseClassName:b,maybePostfixModifierPosition:R}};if(e){const a=e+jg,l=i;i=c=>c.startsWith(a)?l(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(t){const a=i;i=l=>t({className:l,parseClassName:a})}return i},DI=n=>n.endsWith(Vg)?n.substring(0,n.length-1):n.startsWith(Vg)?n.substring(1):n,OI=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const a=[];let l=[];return i.forEach(c=>{c[0]==="["||e[c]?(a.push(...l.sort(),c),l=[]):l.push(c)}),a.push(...l.sort()),a}},kI=n=>({cache:CI(n.cacheSize),parseClassName:NI(n),sortModifiers:OI(n),...xI(n)}),MI=/\s+/,PI=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],f=n.trim().split(MI);let m="";for(let p=f.length-1;p>=0;p-=1){const v=f[p],{isExternal:b,modifiers:E,hasImportantModifier:R,baseClassName:C,maybePostfixModifierPosition:A}=t(v);if(b){m=v+(m.length>0?" "+m:m);continue}let D=!!A,j=i(D?C.substring(0,A):C);if(!j){if(!D){m=v+(m.length>0?" "+m:m);continue}if(j=i(C),!j){m=v+(m.length>0?" "+m:m);continue}D=!1}const U=l(E).join(":"),F=R?U+Vg:U,K=F+j;if(c.includes(K))continue;c.push(K);const Q=a(j,D);for(let se=0;se<Q.length;++se){const N=Q[se];c.push(F+N)}m=v+(m.length>0?" "+m:m)}return m};function VI(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=WT(e))&&(i&&(i+=" "),i+=t);return i}const WT=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=WT(n[i]))&&(t&&(t+=" "),t+=e);return t};function jI(n,...e){let t,i,a,l=c;function c(m){const p=e.reduce((v,b)=>b(v),n());return t=kI(p),i=t.cache.get,a=t.cache.set,l=f,f(m)}function f(m){const p=i(m);if(p)return p;const v=PI(m,t);return a(m,v),v}return function(){return l(VI.apply(null,arguments))}}const Yt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},ZT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,JT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,LI=/^\d+\/\d+$/,UI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,BI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,FI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,HI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qo=n=>LI.test(n),Be=n=>!!n&&!Number.isNaN(Number(n)),xs=n=>!!n&&Number.isInteger(Number(n)),cg=n=>n.endsWith("%")&&Be(n.slice(0,-1)),Ni=n=>UI.test(n),qI=()=>!0,GI=n=>BI.test(n)&&!zI.test(n),ex=()=>!1,$I=n=>FI.test(n),YI=n=>HI.test(n),KI=n=>!Ee(n)&&!we(n),QI=n=>Al(n,rx,ex),Ee=n=>ZT.test(n),ka=n=>Al(n,ix,GI),dg=n=>Al(n,eN,Be),xE=n=>Al(n,tx,ex),XI=n=>Al(n,nx,YI),mf=n=>Al(n,sx,$I),we=n=>JT.test(n),Xu=n=>Rl(n,ix),WI=n=>Rl(n,tN),SE=n=>Rl(n,tx),ZI=n=>Rl(n,rx),JI=n=>Rl(n,nx),pf=n=>Rl(n,sx,!0),Al=(n,e,t)=>{const i=ZT.exec(n);return i?i[1]?e(i[1]):t(i[2]):!1},Rl=(n,e,t=!1)=>{const i=JT.exec(n);return i?i[1]?e(i[1]):t:!1},tx=n=>n==="position"||n==="percentage",nx=n=>n==="image"||n==="url",rx=n=>n==="length"||n==="size"||n==="bg-size",ix=n=>n==="length",eN=n=>n==="number",tN=n=>n==="family-name",sx=n=>n==="shadow",nN=()=>{const n=Yt("color"),e=Yt("font"),t=Yt("text"),i=Yt("font-weight"),a=Yt("tracking"),l=Yt("leading"),c=Yt("breakpoint"),f=Yt("container"),m=Yt("spacing"),p=Yt("radius"),v=Yt("shadow"),b=Yt("inset-shadow"),E=Yt("text-shadow"),R=Yt("drop-shadow"),C=Yt("blur"),A=Yt("perspective"),D=Yt("aspect"),j=Yt("ease"),U=Yt("animate"),F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Q=()=>[...K(),we,Ee],se=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],S=()=>[we,Ee,m],k=()=>[Qo,"full","auto",...S()],L=()=>[xs,"none","subgrid",we,Ee],M=()=>["auto",{span:["full",xs,we,Ee]},xs,we,Ee],V=()=>[xs,"auto",we,Ee],P=()=>["auto","min","max","fr",we,Ee],J=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],oe=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...S()],z=()=>[Qo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],G=()=>[n,we,Ee],he=()=>[...K(),SE,xE,{position:[we,Ee]}],B=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ne=()=>["auto","cover","contain",ZI,QI,{size:[we,Ee]}],fe=()=>[cg,Xu,ka],ie=()=>["","none","full",p,we,Ee],me=()=>["",Be,Xu,ka],xe=()=>["solid","dashed","dotted","double"],_e=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pe=()=>[Be,cg,SE,xE],Te=()=>["","none",C,we,Ee],Le=()=>["none",Be,we,Ee],Ce=()=>["none",Be,we,Ee],ke=()=>[Be,we,Ee],Ve=()=>[Qo,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ni],breakpoint:[Ni],color:[qI],container:[Ni],"drop-shadow":[Ni],ease:["in","out","in-out"],font:[KI],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ni],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ni],shadow:[Ni],spacing:["px",Be],text:[Ni],"text-shadow":[Ni],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Qo,Ee,we,D]}],container:["container"],columns:[{columns:[Be,Ee,we,f]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Q()}],overflow:[{overflow:se()}],"overflow-x":[{"overflow-x":se()}],"overflow-y":[{"overflow-y":se()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[xs,"auto",we,Ee]}],basis:[{basis:[Qo,"full","auto",f,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Be,Qo,"auto","initial","none",Ee]}],grow:[{grow:["",Be,we,Ee]}],shrink:[{shrink:["",Be,we,Ee]}],order:[{order:[xs,"first","last","none",we,Ee]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...J(),"normal"]}],"justify-items":[{"justify-items":[...oe(),"normal"]}],"justify-self":[{"justify-self":["auto",...oe()]}],"align-content":[{content:["normal",...J()]}],"align-items":[{items:[...oe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...oe(),{baseline:["","last"]}]}],"place-content":[{"place-content":J()}],"place-items":[{"place-items":[...oe(),"baseline"]}],"place-self":[{"place-self":["auto",...oe()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:z()}],w:[{w:[f,"screen",...z()]}],"min-w":[{"min-w":[f,"screen","none",...z()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[c]},...z()]}],h:[{h:["screen","lh",...z()]}],"min-h":[{"min-h":["screen","lh","none",...z()]}],"max-h":[{"max-h":["screen","lh",...z()]}],"font-size":[{text:["base",t,Xu,ka]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,we,dg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",cg,Ee]}],"font-family":[{font:[WI,Ee,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,we,Ee]}],"line-clamp":[{"line-clamp":[Be,"none",we,dg]}],leading:[{leading:[l,...S()]}],"list-image":[{"list-image":["none",we,Ee]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",we,Ee]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Be,"from-font","auto",we,ka]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[Be,"auto",we,Ee]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",we,Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",we,Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:he()}],"bg-repeat":[{bg:B()}],"bg-size":[{bg:ne()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},xs,we,Ee],radial:["",we,Ee],conic:[xs,we,Ee]},JI,XI]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:fe()}],"gradient-via-pos":[{via:fe()}],"gradient-to-pos":[{to:fe()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:ie()}],"rounded-s":[{"rounded-s":ie()}],"rounded-e":[{"rounded-e":ie()}],"rounded-t":[{"rounded-t":ie()}],"rounded-r":[{"rounded-r":ie()}],"rounded-b":[{"rounded-b":ie()}],"rounded-l":[{"rounded-l":ie()}],"rounded-ss":[{"rounded-ss":ie()}],"rounded-se":[{"rounded-se":ie()}],"rounded-ee":[{"rounded-ee":ie()}],"rounded-es":[{"rounded-es":ie()}],"rounded-tl":[{"rounded-tl":ie()}],"rounded-tr":[{"rounded-tr":ie()}],"rounded-br":[{"rounded-br":ie()}],"rounded-bl":[{"rounded-bl":ie()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xe(),"hidden","none"]}],"divide-style":[{divide:[...xe(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Be,we,Ee]}],"outline-w":[{outline:["",Be,Xu,ka]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",v,pf,mf]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",b,pf,mf]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[Be,ka]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",E,pf,mf]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[Be,we,Ee]}],"mix-blend":[{"mix-blend":[..._e(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":_e()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Be]}],"mask-image-linear-from-pos":[{"mask-linear-from":pe()}],"mask-image-linear-to-pos":[{"mask-linear-to":pe()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":pe()}],"mask-image-t-to-pos":[{"mask-t-to":pe()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":pe()}],"mask-image-r-to-pos":[{"mask-r-to":pe()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":pe()}],"mask-image-b-to-pos":[{"mask-b-to":pe()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":pe()}],"mask-image-l-to-pos":[{"mask-l-to":pe()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":pe()}],"mask-image-x-to-pos":[{"mask-x-to":pe()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":pe()}],"mask-image-y-to-pos":[{"mask-y-to":pe()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[we,Ee]}],"mask-image-radial-from-pos":[{"mask-radial-from":pe()}],"mask-image-radial-to-pos":[{"mask-radial-to":pe()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":K()}],"mask-image-conic-pos":[{"mask-conic":[Be]}],"mask-image-conic-from-pos":[{"mask-conic-from":pe()}],"mask-image-conic-to-pos":[{"mask-conic-to":pe()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:he()}],"mask-repeat":[{mask:B()}],"mask-size":[{mask:ne()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",we,Ee]}],filter:[{filter:["","none",we,Ee]}],blur:[{blur:Te()}],brightness:[{brightness:[Be,we,Ee]}],contrast:[{contrast:[Be,we,Ee]}],"drop-shadow":[{"drop-shadow":["","none",R,pf,mf]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",Be,we,Ee]}],"hue-rotate":[{"hue-rotate":[Be,we,Ee]}],invert:[{invert:["",Be,we,Ee]}],saturate:[{saturate:[Be,we,Ee]}],sepia:[{sepia:["",Be,we,Ee]}],"backdrop-filter":[{"backdrop-filter":["","none",we,Ee]}],"backdrop-blur":[{"backdrop-blur":Te()}],"backdrop-brightness":[{"backdrop-brightness":[Be,we,Ee]}],"backdrop-contrast":[{"backdrop-contrast":[Be,we,Ee]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Be,we,Ee]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Be,we,Ee]}],"backdrop-invert":[{"backdrop-invert":["",Be,we,Ee]}],"backdrop-opacity":[{"backdrop-opacity":[Be,we,Ee]}],"backdrop-saturate":[{"backdrop-saturate":[Be,we,Ee]}],"backdrop-sepia":[{"backdrop-sepia":["",Be,we,Ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",we,Ee]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Be,"initial",we,Ee]}],ease:[{ease:["linear","initial",j,we,Ee]}],delay:[{delay:[Be,we,Ee]}],animate:[{animate:["none",U,we,Ee]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[A,we,Ee]}],"perspective-origin":[{"perspective-origin":Q()}],rotate:[{rotate:Le()}],"rotate-x":[{"rotate-x":Le()}],"rotate-y":[{"rotate-y":Le()}],"rotate-z":[{"rotate-z":Le()}],scale:[{scale:Ce()}],"scale-x":[{"scale-x":Ce()}],"scale-y":[{"scale-y":Ce()}],"scale-z":[{"scale-z":Ce()}],"scale-3d":["scale-3d"],skew:[{skew:ke()}],"skew-x":[{"skew-x":ke()}],"skew-y":[{"skew-y":ke()}],transform:[{transform:[we,Ee,"","none","gpu","cpu"]}],"transform-origin":[{origin:Q()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ve()}],"translate-x":[{"translate-x":Ve()}],"translate-y":[{"translate-y":Ve()}],"translate-z":[{"translate-z":Ve()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",we,Ee]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",we,Ee]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[Be,Xu,ka,dg]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},rN=jI(nN);function Bt(...n){return rN(QT(n))}const iN=Oy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Ye({className:n,variant:e,size:t,asChild:i=!1,...a}){const l=i?YT:"button";return y.jsx(l,{"data-slot":"button",className:Bt(iN({variant:e,size:t,className:n})),...a})}function Lt({className:n,...e}){return y.jsx("div",{"data-slot":"card",className:Bt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...e})}function rn({className:n,...e}){return y.jsx("div",{"data-slot":"card-header",className:Bt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function sn({className:n,...e}){return y.jsx("div",{"data-slot":"card-title",className:Bt("leading-none font-semibold",n),...e})}function Er({className:n,...e}){return y.jsx("div",{"data-slot":"card-description",className:Bt("text-muted-foreground text-sm",n),...e})}function Ut({className:n,...e}){return y.jsx("div",{"data-slot":"card-content",className:Bt("px-6",n),...e})}const sN=Oy("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function za({className:n,variant:e,asChild:t=!1,...i}){const a=t?YT:"span";return y.jsx(a,{"data-slot":"badge",className:Bt(sN({variant:e}),n),...i})}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oN=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),AE=n=>{const e=oN(n);return e.charAt(0).toUpperCase()+e.slice(1)},ax=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),lN=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=x.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...f},m)=>x.createElement("svg",{ref:m,...uN,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:ax("lucide",a),...!l&&!lN(f)&&{"aria-hidden":"true"},...f},[...c.map(([p,v])=>x.createElement(p,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=(n,e)=>{const t=x.forwardRef(({className:i,...a},l)=>x.createElement(cN,{ref:l,iconNode:e,className:ax(`lucide-${aN(AE(n))}`,`lucide-${n}`,i),...a}));return t.displayName=AE(n),t};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],fN=at("bot",dN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ox=at("calendar",hN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],pN=at("chart-pie",mN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],lx=at("check",gN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ux=at("chevron-down",yN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],_N=at("chevron-up",vN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],EN=at("circle-alert",bN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],RE=at("circle-check-big",wN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]],xN=at("cog",TN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],cx=at("credit-card",SN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],fl=at("dollar-sign",AN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Lg=at("eye-off",RN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ug=at("eye",CN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],NN=at("house",IN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],CE=at("log-out",DN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],kN=at("menu",ON);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gf=at("plus",MN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],VN=at("save",PN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],LN=at("smartphone",jN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],BN=at("square-check-big",UN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],hc=at("square-pen",zN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],HN=at("square",FN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],My=at("tag",qN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],$N=at("target",GN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],$f=at("trash-2",YN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],QN=at("trending-down",KN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],dx=at("upload",XN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ZN=at("users",WN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fx=at("x",JN);/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=()=>{};var IE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},t3=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],f=n[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},mx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,f=c?n[a+1]:0,m=a+2<n.length,p=m?n[a+2]:0,v=l>>2,b=(l&3)<<4|f>>4;let E=(f&15)<<2|p>>6,R=p&63;m||(R=64,c||(E=64)),i.push(t[v],t[b],t[E],t[R])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(hx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):t3(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const b=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||f==null||p==null||b==null)throw new n3;const E=l<<2|f>>4;if(i.push(E),p!==64){const R=f<<4&240|p>>2;if(i.push(R),b!==64){const C=p<<6&192|b;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class n3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r3=function(n){const e=hx(n);return mx.encodeByteArray(e,!0)},Yf=function(n){return r3(n).replace(/\./g,"")},px=function(n){try{return mx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=()=>i3().__FIREBASE_DEFAULTS__,a3=()=>{if(typeof process>"u"||typeof IE>"u")return;const n=IE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},o3=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&px(n[1]);return e&&JSON.parse(e)},xh=()=>{try{return e3()||s3()||a3()||o3()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},gx=n=>{var e,t;return(t=(e=xh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},l3=n=>{const e=gx(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},yx=()=>{var n;return(n=xh())===null||n===void 0?void 0:n.config},vx=n=>{var e;return(e=xh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(n){return n.endsWith(".cloudworkstations.dev")}async function _x(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Yf(JSON.stringify(t)),Yf(JSON.stringify(c)),""].join(".")}const sc={};function d3(){const n={prod:[],emulator:[]};for(const e of Object.keys(sc))sc[e]?n.emulator.push(e):n.prod.push(e);return n}function f3(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let NE=!1;function bx(n,e){if(typeof window>"u"||typeof document>"u"||!Cl(window.location.host)||sc[n]===e||sc[n]||NE)return;sc[n]=e;function t(E){return`__firebase__banner__${E}`}const i="__firebase__banner",l=d3().prod.length>0;function c(){const E=document.getElementById(i);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,R){E.setAttribute("width","24"),E.setAttribute("id",R),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{NE=!0,c()},E}function v(E,R){E.setAttribute("id",R),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function b(){const E=f3(i),R=t("text"),C=document.getElementById(R)||document.createElement("span"),A=t("learnmore"),D=document.getElementById(A)||document.createElement("a"),j=t("preprendIcon"),U=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const F=E.element;f(F),v(D,A);const K=p();m(U,j),F.append(U,C,D,K),document.body.appendChild(F)}l?(C.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function m3(){var n;const e=(n=xh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function p3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function g3(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function y3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function v3(){const n=xn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function _3(){return!m3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b3(){try{return typeof indexedDB=="object"}catch{return!1}}function E3(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3="FirebaseError";class Yi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=w3,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cc.prototype.create)}}class Cc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?T3(l,i):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Yi(a,f,i)}}function T3(n,e){return n.replace(x3,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const x3=/\{\$([^}]+)}/g;function S3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Fa(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(DE(l)&&DE(c)){if(!Fa(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function DE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Zu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Ju(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function A3(n,e){const t=new R3(n,e);return t.subscribe.bind(t)}class R3{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");C3(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=fg),a.error===void 0&&(a.error=fg),a.complete===void 0&&(a.complete=fg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function C3(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function fg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(n){return n&&n._delegate?n._delegate:n}class Ha{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new u3;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(D3(e))try{this.getOrInitializeService({instanceIdentifier:Pa})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pa){return this.instances.has(e)}getOptions(e=Pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:N3(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Pa){return this.component?this.component.multipleInstances?e:Pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function N3(n){return n===Pa?void 0:n}function D3(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new I3(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ge||(Ge={}));const k3={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},M3=Ge.INFO,P3={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},V3=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=P3[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Py{constructor(e){this.name=e,this._logLevel=M3,this._logHandler=V3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const j3=(n,e)=>e.some(t=>n instanceof t);let OE,kE;function L3(){return OE||(OE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U3(){return kE||(kE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ex=new WeakMap,Bg=new WeakMap,wx=new WeakMap,hg=new WeakMap,Vy=new WeakMap;function B3(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(ks(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Ex.set(t,n)}).catch(()=>{}),Vy.set(e,n),e}function z3(n){if(Bg.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Bg.set(n,e)}let zg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Bg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||wx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ks(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function F3(n){zg=n(zg)}function H3(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(mg(this),e,...t);return wx.set(i,e.sort?e.sort():[e]),ks(i)}:U3().includes(n)?function(...e){return n.apply(mg(this),e),ks(Ex.get(this))}:function(...e){return ks(n.apply(mg(this),e))}}function q3(n){return typeof n=="function"?H3(n):(n instanceof IDBTransaction&&z3(n),j3(n,L3())?new Proxy(n,zg):n)}function ks(n){if(n instanceof IDBRequest)return B3(n);if(hg.has(n))return hg.get(n);const e=q3(n);return e!==n&&(hg.set(n,e),Vy.set(e,n)),e}const mg=n=>Vy.get(n);function G3(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),f=ks(c);return i&&c.addEventListener("upgradeneeded",m=>{i(ks(c.result),m.oldVersion,m.newVersion,ks(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const $3=["get","getKey","getAll","getAllKeys","count"],Y3=["put","add","delete","clear"],pg=new Map;function ME(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(pg.get(e))return pg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=Y3.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||$3.includes(t)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(f.shift())),(await Promise.all([p[t](...f),a&&m.done]))[0]};return pg.set(e,l),l}F3(n=>({...n,get:(e,t,i)=>ME(e,t)||n.get(e,t,i),has:(e,t)=>!!ME(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Q3(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Q3(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fg="@firebase/app",PE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new Py("@firebase/app"),X3="@firebase/app-compat",W3="@firebase/analytics-compat",Z3="@firebase/analytics",J3="@firebase/app-check-compat",eD="@firebase/app-check",tD="@firebase/auth",nD="@firebase/auth-compat",rD="@firebase/database",iD="@firebase/data-connect",sD="@firebase/database-compat",aD="@firebase/functions",oD="@firebase/functions-compat",lD="@firebase/installations",uD="@firebase/installations-compat",cD="@firebase/messaging",dD="@firebase/messaging-compat",fD="@firebase/performance",hD="@firebase/performance-compat",mD="@firebase/remote-config",pD="@firebase/remote-config-compat",gD="@firebase/storage",yD="@firebase/storage-compat",vD="@firebase/firestore",_D="@firebase/ai",bD="@firebase/firestore-compat",ED="firebase",wD="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg="[DEFAULT]",TD={[Fg]:"fire-core",[X3]:"fire-core-compat",[Z3]:"fire-analytics",[W3]:"fire-analytics-compat",[eD]:"fire-app-check",[J3]:"fire-app-check-compat",[tD]:"fire-auth",[nD]:"fire-auth-compat",[rD]:"fire-rtdb",[iD]:"fire-data-connect",[sD]:"fire-rtdb-compat",[aD]:"fire-fn",[oD]:"fire-fn-compat",[lD]:"fire-iid",[uD]:"fire-iid-compat",[cD]:"fire-fcm",[dD]:"fire-fcm-compat",[fD]:"fire-perf",[hD]:"fire-perf-compat",[mD]:"fire-rc",[pD]:"fire-rc-compat",[gD]:"fire-gcs",[yD]:"fire-gcs-compat",[vD]:"fire-fst",[bD]:"fire-fst-compat",[_D]:"fire-vertex","fire-js":"fire-js",[ED]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf=new Map,xD=new Map,qg=new Map;function VE(n,e){try{n.container.addComponent(e)}catch(t){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function hl(n){const e=n.name;if(qg.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;qg.set(e,n);for(const t of Kf.values())VE(t,n);for(const t of xD.values())VE(t,n);return!0}function jy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ar(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ms=new Cc("app","Firebase",SD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=wD;function Tx(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Hg,automaticDataCollectionEnabled:!0},e),a=i.name;if(typeof a!="string"||!a)throw Ms.create("bad-app-name",{appName:String(a)});if(t||(t=yx()),!t)throw Ms.create("no-options");const l=Kf.get(a);if(l){if(Fa(t,l.options)&&Fa(i,l.config))return l;throw Ms.create("duplicate-app",{appName:a})}const c=new O3(a);for(const m of qg.values())c.addComponent(m);const f=new AD(t,i,c);return Kf.set(a,f),f}function xx(n=Hg){const e=Kf.get(n);if(!e&&n===Hg&&yx())return Tx();if(!e)throw Ms.create("no-app",{appName:n});return e}function Ps(n,e,t){var i;let a=(i=TD[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(f.join(" "));return}hl(new Ha(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="firebase-heartbeat-database",CD=1,mc="firebase-heartbeat-store";let gg=null;function Sx(){return gg||(gg=G3(RD,CD,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(mc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ms.create("idb-open",{originalErrorMessage:n.message})})),gg}async function ID(n){try{const t=(await Sx()).transaction(mc),i=await t.objectStore(mc).get(Ax(n));return await t.done,i}catch(e){if(e instanceof Yi)Ui.warn(e.message);else{const t=Ms.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ui.warn(t.message)}}}async function jE(n,e){try{const i=(await Sx()).transaction(mc,"readwrite");await i.objectStore(mc).put(e,Ax(n)),await i.done}catch(t){if(t instanceof Yi)Ui.warn(t.message);else{const i=Ms.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ui.warn(i.message)}}}function Ax(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=1024,DD=30;class OD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new MD(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=LE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>DD){const c=PD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ui.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=LE(),{heartbeatsToSend:i,unsentEntries:a}=kD(this._heartbeatsCache.heartbeats),l=Yf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ui.warn(t),""}}}function LE(){return new Date().toISOString().substring(0,10)}function kD(n,e=ND){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),UE(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),UE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class MD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return b3()?E3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ID(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return jE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return jE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function UE(n){return Yf(JSON.stringify({version:2,heartbeats:n})).length}function PD(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(n){hl(new Ha("platform-logger",e=>new K3(e),"PRIVATE")),hl(new Ha("heartbeat",e=>new OD(e),"PRIVATE")),Ps(Fg,PE,n),Ps(Fg,PE,"esm2017"),Ps("fire-js","")}VD("");var Kr=function(){return Kr=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},Kr.apply(this,arguments)};function Nc(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function jD(n,e,t){if(t||arguments.length===2)for(var i=0,a=e.length,l;i<a;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return n.concat(l||Array.prototype.slice.call(e))}function Rx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LD=Rx,Cx=new Cc("auth","Firebase",Rx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=new Py("@firebase/auth");function UD(n,...e){Qf.logLevel<=Ge.WARN&&Qf.warn(`Auth (${Il}): ${n}`,...e)}function Df(n,...e){Qf.logLevel<=Ge.ERROR&&Qf.error(`Auth (${Il}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(n,...e){throw Ly(n,...e)}function Qr(n,...e){return Ly(n,...e)}function Ix(n,e,t){const i=Object.assign(Object.assign({},LD()),{[e]:t});return new Cc("auth","Firebase",i).create(e,{appName:n.name})}function Mi(n){return Ix(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ly(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Cx.create(n,...e)}function Ne(n,e,...t){if(!n)throw Ly(e,...t)}function Di(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Df(e),new Error(e)}function Bi(n,e){n||Di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function BD(){return BE()==="http:"||BE()==="https:"}function BE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BD()||g3()||"connection"in navigator)?navigator.onLine:!0}function FD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Bi(t>e,"Short delay should be less than long delay!"),this.isMobile=h3()||y3()}get(){return zD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(n,e){Bi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GD=new Dc(3e4,6e4);function Ks(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ki(n,e,t,i,a={}){return Dx(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=Ic(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:m},l);return p3()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Cl(n.emulatorConfig.host)&&(p.credentials="include"),Nx.fetch()(await Ox(n,n.config.apiHost,t,f),p)})}async function Dx(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},HD),e);try{const a=new YD(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw gf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw gf(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw gf(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw gf(n,"user-disabled",c);const v=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Ix(n,v,p);wr(n,v)}}catch(a){if(a instanceof Yi)throw a;wr(n,"network-request-failed",{message:String(a)})}}async function Oc(n,e,t,i,a={}){const l=await Ki(n,e,t,i,a);return"mfaPendingCredential"in l&&wr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Ox(n,e,t,i){const a=`${e}${t}?${i}`,l=n,c=l.config.emulator?Uy(n.config,a):`${n.config.apiScheme}://${a}`;return qD.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function $D(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Qr(this.auth,"network-request-failed")),GD.get())})}}function gf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=Qr(n,e,i);return a.customData._tokenResponse=t,a}function zE(n){return n!==void 0&&n.enterprise!==void 0}class KD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return $D(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QD(n,e){return Ki(n,"GET","/v2/recaptchaConfig",Ks(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XD(n,e){return Ki(n,"POST","/v1/accounts:delete",e)}async function Xf(n,e){return Ki(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WD(n,e=!1){const t=zt(n),i=await t.getIdToken(e),a=By(i);Ne(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:ac(yg(a.auth_time)),issuedAtTime:ac(yg(a.iat)),expirationTime:ac(yg(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function yg(n){return Number(n)*1e3}function By(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Df("JWT malformed, contained fewer than 3 sections"),null;try{const a=px(t);return a?JSON.parse(a):(Df("Failed to decode base64 JWT payload"),null)}catch(a){return Df("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function FE(n){const e=By(n);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Yi&&ZD(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function ZD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ac(this.lastLoginAt),this.creationTime=ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wf(n){var e;const t=n.auth,i=await n.getIdToken(),a=await ml(n,Xf(t,{idToken:i}));Ne(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?kx(l.providerUserInfo):[],f=tO(n.providerData,c),m=n.isAnonymous,p=!(n.email&&l.passwordHash)&&!(f!=null&&f.length),v=m?p:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new $g(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,b)}async function eO(n){const e=zt(n);await Wf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tO(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function kx(n){return n.map(e=>{var{providerId:t}=e,i=Nc(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(n,e){const t=await Dx(n,{},async()=>{const i=Ic({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await Ox(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:i};return n.emulatorConfig&&Cl(n.emulatorConfig.host)&&(m.credentials="include"),Nx.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function rO(n,e){return Ki(n,"POST","/v2/accounts:revokeToken",Ks(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):FE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=FE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await nO(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new il;return i&&(Ne(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ne(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ne(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(n,e){Ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class yr{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=Nc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new $g(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await ml(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return WD(this,e)}reload(){return eO(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new yr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Wf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ar(this.auth.app))return Promise.reject(Mi(this.auth));const e=await this.getIdToken();return await ml(this,XD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,c,f,m,p,v;const b=(i=t.displayName)!==null&&i!==void 0?i:void 0,E=(a=t.email)!==null&&a!==void 0?a:void 0,R=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,C=(c=t.photoURL)!==null&&c!==void 0?c:void 0,A=(f=t.tenantId)!==null&&f!==void 0?f:void 0,D=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,j=(p=t.createdAt)!==null&&p!==void 0?p:void 0,U=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:F,emailVerified:K,isAnonymous:Q,providerData:se,stsTokenManager:N}=t;Ne(F&&N,e,"internal-error");const S=il.fromJSON(this.name,N);Ne(typeof F=="string",e,"internal-error"),Ss(b,e.name),Ss(E,e.name),Ne(typeof K=="boolean",e,"internal-error"),Ne(typeof Q=="boolean",e,"internal-error"),Ss(R,e.name),Ss(C,e.name),Ss(A,e.name),Ss(D,e.name),Ss(j,e.name),Ss(U,e.name);const k=new yr({uid:F,auth:e,email:E,emailVerified:K,displayName:b,isAnonymous:Q,photoURL:C,phoneNumber:R,tenantId:A,stsTokenManager:S,createdAt:j,lastLoginAt:U});return se&&Array.isArray(se)&&(k.providerData=se.map(L=>Object.assign({},L))),D&&(k._redirectEventId=D),k}static async _fromIdTokenResponse(e,t,i=!1){const a=new il;a.updateFromServerResponse(t);const l=new yr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Wf(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Ne(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?kx(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new il;f.updateFromIdToken(i);const m=new yr({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new $g(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=new Map;function Oi(n){Bi(n instanceof Function,"Expected a class definition");let e=HE.get(n);return e?(Bi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,HE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Mx.type="NONE";const qE=Mx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(n,e,t){return`firebase:${n}:${e}:${t}`}class sl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Of(this.userKey,a.apiKey,l),this.fullPersistenceKey=Of("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Xf(this.auth,{idToken:e}).catch(()=>{});return t?yr._fromGetAccountInfoResponse(this.auth,t,e):null}return yr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new sl(Oi(qE),e,i);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Oi(qE);const c=Of(i,e.config.apiKey,e.name);let f=null;for(const p of t)try{const v=await p._get(c);if(v){let b;if(typeof v=="string"){const E=await Xf(e,{idToken:v}).catch(()=>{});if(!E)break;b=await yr._fromGetAccountInfoResponse(e,E,v)}else b=yr._fromJSON(e,v);p!==l&&(f=b),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new sl(l,e,i):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new sl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Lx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Px(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Bx(e))return"Blackberry";if(zx(e))return"Webos";if(Vx(e))return"Safari";if((e.includes("chrome/")||jx(e))&&!e.includes("edge/"))return"Chrome";if(Ux(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Px(n=xn()){return/firefox\//i.test(n)}function Vx(n=xn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jx(n=xn()){return/crios\//i.test(n)}function Lx(n=xn()){return/iemobile/i.test(n)}function Ux(n=xn()){return/android/i.test(n)}function Bx(n=xn()){return/blackberry/i.test(n)}function zx(n=xn()){return/webos/i.test(n)}function zy(n=xn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function iO(n=xn()){var e;return zy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sO(){return v3()&&document.documentMode===10}function Fx(n=xn()){return zy(n)||Ux(n)||zx(n)||Bx(n)||/windows phone/i.test(n)||Lx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(n,e=[]){let t;switch(n){case"Browser":t=GE(xn());break;case"Worker":t=`${GE(xn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Il}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(n,e={}){return Ki(n,"GET","/v2/passwordPolicy",Ks(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=6;class uO{constructor(e){var t,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:lO,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,c,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(i=m.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $E(this),this.idTokenSubscription=new $E(this),this.beforeStateQueue=new aO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Cx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Oi(t)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await sl.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Xf(this,{idToken:e}),i=await yr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ar(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Wf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ar(this.app))return Promise.reject(Mi(this));const t=e?zt(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ar(this.app)?Promise.reject(Mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ar(this.app)?Promise.reject(Mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oO(this),t=new uO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await rO(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Oi(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await sl.create(this,[Oi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&UD(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ja(n){return zt(n)}class $E{constructor(e){this.auth=e,this.observer=null,this.addObserver=A3(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dO(n){Sh=n}function qx(n){return Sh.loadJS(n)}function fO(){return Sh.recaptchaEnterpriseScript}function hO(){return Sh.gapiScript}function mO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class pO{constructor(){this.enterprise=new gO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class gO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const yO="recaptcha-enterprise",Gx="NO_RECAPTCHA";class vO{constructor(e){this.type=yO,this.auth=Ja(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{QD(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new KD(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;zE(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(Gx)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pO().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(f=>{if(!t&&zE(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=fO();m.length!==0&&(m+=f),qx(m).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function YE(n,e,t,i=!1,a=!1){const l=new vO(n);let c;if(a)c=Gx;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Yg(n,e,t,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await YE(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await YE(n,e,t,t==="getOobCode");return i(n,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(n,e){const t=jy(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Fa(l,e??{}))return a;wr(a,"already-initialized")}return t.initialize({options:e})}function bO(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Oi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function EO(n,e,t){const i=Ja(n);Ne(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=$x(e),{host:c,port:f}=wO(e),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ne(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ne(Fa(p,i.config.emulator)&&Fa(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,Cl(c)?(_x(`${l}//${c}${m}`),bx("Auth",!0)):TO()}function $x(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function wO(n){const e=$x(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:KE(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:KE(c)}}}function KE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function TO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Di("not implemented")}_getIdTokenResponse(e){return Di("not implemented")}_linkToIdToken(e,t){return Di("not implemented")}_getReauthenticationResolver(e){return Di("not implemented")}}async function xO(n,e){return Ki(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SO(n,e){return Oc(n,"POST","/v1/accounts:signInWithPassword",Ks(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AO(n,e){return Oc(n,"POST","/v1/accounts:signInWithEmailLink",Ks(n,e))}async function RO(n,e){return Oc(n,"POST","/v1/accounts:signInWithEmailLink",Ks(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends Fy{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new pc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new pc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yg(e,t,"signInWithPassword",SO);case"emailLink":return AO(e,{email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yg(e,i,"signUpPassword",xO);case"emailLink":return RO(e,{idToken:t,email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(n,e){return Oc(n,"POST","/v1/accounts:signInWithIdp",Ks(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO="http://localhost";class qa extends Fy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new qa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=Nc(t,["providerId","signInMethod"]);if(!i||!a)return null;const c=new qa(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return al(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,al(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,al(e,t)}buildRequest(){const e={requestUri:CO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ic(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NO(n){const e=Zu(Ju(n)).link,t=e?Zu(Ju(e)).deep_link_id:null,i=Zu(Ju(n)).deep_link_id;return(i?Zu(Ju(i)).link:null)||i||t||e||n}class Hy{constructor(e){var t,i,a,l,c,f;const m=Zu(Ju(e)),p=(t=m.apiKey)!==null&&t!==void 0?t:null,v=(i=m.oobCode)!==null&&i!==void 0?i:null,b=IO((a=m.mode)!==null&&a!==void 0?a:null);Ne(p&&v&&b,"argument-error"),this.apiKey=p,this.operation=b,this.code=v,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=NO(e);try{return new Hy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.providerId=Nl.PROVIDER_ID}static credential(e,t){return pc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Hy.parseLink(t);return Ne(i,"argument-error"),pc._fromEmailAndCode(e,i.code,i.tenantId)}}Nl.PROVIDER_ID="password";Nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends Yx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends kc{constructor(){super("facebook.com")}static credential(e){return qa._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends kc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return qa._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Is.credential(t,i)}catch{return null}}}Is.GOOGLE_SIGN_IN_METHOD="google.com";Is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends kc{constructor(){super("github.com")}static credential(e){return qa._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.GITHUB_SIGN_IN_METHOD="github.com";Ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends kc{constructor(){super("twitter.com")}static credential(e,t){return qa._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ds.credential(t,i)}catch{return null}}}Ds.TWITTER_SIGN_IN_METHOD="twitter.com";Ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(n,e){return Oc(n,"POST","/v1/accounts:signUp",Ks(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await yr._fromIdTokenResponse(e,i,a),c=QE(i);return new Ga({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=QE(i);return new Ga({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function QE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf extends Yi{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Zf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Zf(e,t,i,a)}}function Kx(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Zf._fromErrorAndOperation(n,l,e,i):l})}async function OO(n,e,t=!1){const i=await ml(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ga._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kO(n,e,t=!1){const{auth:i}=n;if(ar(i.app))return Promise.reject(Mi(i));const a="reauthenticate";try{const l=await ml(n,Kx(i,a,e,n),t);Ne(l.idToken,i,"internal-error");const c=By(l.idToken);Ne(c,i,"internal-error");const{sub:f}=c;return Ne(n.uid===f,i,"user-mismatch"),Ga._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&wr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qx(n,e,t=!1){if(ar(n.app))return Promise.reject(Mi(n));const i="signIn",a=await Kx(n,i,e),l=await Ga._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function MO(n,e){return Qx(Ja(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx(n){const e=Ja(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function PO(n,e,t){if(ar(n.app))return Promise.reject(Mi(n));const i=Ja(n),c=await Yg(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DO).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Xx(n),m}),f=await Ga._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(f.user),f}function VO(n,e,t){return ar(n.app)?Promise.reject(Mi(n)):MO(zt(n),Nl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Xx(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jO(n,e){return Ki(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=zt(n),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await ml(i,jO(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const f=i.providerData.find(({providerId:m})=>m==="password");f&&(f.displayName=i.displayName,f.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function UO(n,e,t,i){return zt(n).onIdTokenChanged(e,t,i)}function BO(n,e,t){return zt(n).beforeAuthStateChanged(e,t)}function zO(n,e,t,i){return zt(n).onAuthStateChanged(e,t,i)}function FO(n){return zt(n).signOut()}const Jf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Jf,"1"),this.storage.removeItem(Jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=1e3,qO=10;class Zx extends Wx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);sO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,qO):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},HO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Zx.type="LOCAL";const GO=Zx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx extends Wx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Jx.type="SESSION";const eS=Jx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Ah(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(c).map(async p=>p(t.origin,l)),m=await $O(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=qy("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(b){const E=b;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(){return window}function KO(n){Xr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(){return typeof Xr().WorkerGlobalScope<"u"&&typeof Xr().importScripts=="function"}async function QO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XO(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function WO(){return tS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="firebaseLocalStorageDb",ZO=1,eh="firebaseLocalStorage",rS="fbase_key";class Mc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Rh(n,e){return n.transaction([eh],e?"readwrite":"readonly").objectStore(eh)}function JO(){const n=indexedDB.deleteDatabase(nS);return new Mc(n).toPromise()}function Kg(){const n=indexedDB.open(nS,ZO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(eh,{keyPath:rS})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(eh)?e(i):(i.close(),await JO(),e(await Kg()))})})}async function XE(n,e,t){const i=Rh(n,!0).put({[rS]:e,value:t});return new Mc(i).toPromise()}async function ek(n,e){const t=Rh(n,!1).get(e),i=await new Mc(t).toPromise();return i===void 0?null:i.value}function WE(n,e){const t=Rh(n,!0).delete(e);return new Mc(t).toPromise()}const tk=800,nk=3;class iS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>nk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(WO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await QO(),!this.activeServiceWorker)return;this.sender=new YO(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kg();return await XE(e,Jf,"1"),await WE(e,Jf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>XE(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>ek(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>WE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Rh(a,!1).getAll();return new Mc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iS.type="LOCAL";const rk=iS;new Dc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(n,e){return e?Oi(e):(Ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy extends Fy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return al(e,this._buildIdpRequest())}_linkToIdToken(e,t){return al(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return al(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function sk(n){return Qx(n.auth,new Gy(n),n.bypassAuthState)}function ak(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),kO(t,new Gy(n),n.bypassAuthState)}async function ok(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),OO(t,new Gy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sk;case"linkViaPopup":case"linkViaRedirect":return ok;case"reauthViaPopup":case"reauthViaRedirect":return ak;default:wr(this.auth,"internal-error")}}resolve(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=new Dc(2e3,1e4);class rl extends sS{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,rl.currentPopupAction&&rl.currentPopupAction.cancel(),rl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Bi(this.filter.length===1,"Popup operations only handle one event");const e=qy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lk.get())};e()}}rl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk="pendingRedirect",kf=new Map;class ck extends sS{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=kf.get(this.auth._key());if(!e){try{const i=await dk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}kf.set(this.auth._key(),e)}return this.bypassAuthState||kf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dk(n,e){const t=mk(e),i=hk(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function fk(n,e){kf.set(n._key(),e)}function hk(n){return Oi(n._redirectPersistence)}function mk(n){return Of(uk,n.config.apiKey,n.name)}async function pk(n,e,t=!1){if(ar(n.app))return Promise.reject(Mi(n));const i=Ja(n),a=ik(i,e),c=await new ck(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=10*60*1e3;class yk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!aS(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Qr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gk&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZE(e))}saveEventToCache(e){this.cachedEventUids.add(ZE(e)),this.lastProcessedEventTime=Date.now()}}function ZE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function aS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _k(n,e={}){return Ki(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ek=/^https?/;async function wk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await _k(n);for(const t of e)try{if(Tk(t))return}catch{}wr(n,"unauthorized-domain")}function Tk(n){const e=Gg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!Ek.test(t))return!1;if(bk.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=new Dc(3e4,6e4);function JE(){const n=Xr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Sk(n){return new Promise((e,t)=>{var i,a,l;function c(){JE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JE(),t(Qr(n,"network-request-failed"))},timeout:xk.get()})}if(!((a=(i=Xr().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Xr().gapi)===null||l===void 0)&&l.load)c();else{const f=mO("iframefcb");return Xr()[f]=()=>{gapi.load?c():t(Qr(n,"network-request-failed"))},qx(`${hO()}?onload=${f}`).catch(m=>t(m))}}).catch(e=>{throw Mf=null,e})}let Mf=null;function Ak(n){return Mf=Mf||Sk(n),Mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=new Dc(5e3,15e3),Ck="__/auth/iframe",Ik="emulator/auth/iframe",Nk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ok(n){const e=n.config;Ne(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Uy(e,Ik):`https://${n.config.authDomain}/${Ck}`,i={apiKey:e.apiKey,appName:n.name,v:Il},a=Dk.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Ic(i).slice(1)}`}async function kk(n){const e=await Ak(n),t=Xr().gapi;return Ne(t,n,"internal-error"),e.open({where:document.body,url:Ok(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nk,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Qr(n,"network-request-failed"),f=Xr().setTimeout(()=>{l(c)},Rk.get());function m(){Xr().clearTimeout(f),a(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pk=500,Vk=600,jk="_blank",Lk="http://localhost";class ew{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Uk(n,e,t,i=Pk,a=Vk){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const m=Object.assign(Object.assign({},Mk),{width:i.toString(),height:a.toString(),top:l,left:c}),p=xn().toLowerCase();t&&(f=jx(p)?jk:t),Px(p)&&(e=e||Lk,m.scrollbars="yes");const v=Object.entries(m).reduce((E,[R,C])=>`${E}${R}=${C},`,"");if(iO(p)&&f!=="_self")return Bk(e||"",f),new ew(null);const b=window.open(e||"",f,v);Ne(b,n,"popup-blocked");try{b.focus()}catch{}return new ew(b)}function Bk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk="__/auth/handler",Fk="emulator/auth/handler",Hk=encodeURIComponent("fac");async function tw(n,e,t,i,a,l){Ne(n.config.authDomain,n,"auth-domain-config-required"),Ne(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Il,eventId:a};if(e instanceof Yx){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",S3(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof kc){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const m=await n._getAppCheckToken(),p=m?`#${Hk}=${encodeURIComponent(m)}`:"";return`${qk(n)}?${Ic(f).slice(1)}${p}`}function qk({config:n}){return n.emulator?Uy(n,Fk):`https://${n.authDomain}/${zk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="webStorageSupport";class Gk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eS,this._completeRedirectFn=pk,this._overrideRedirectResult=fk}async _openPopup(e,t,i,a){var l;Bi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await tw(e,t,i,Gg(),a);return Uk(e,c,qy())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await tw(e,t,i,Gg(),a);return KO(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Bi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await kk(e),i=new yk(e);return t.register("authEvent",a=>(Ne(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(vg,{type:vg},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[vg];c!==void 0&&t(!!c),wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=wk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Fx()||Vx()||zy()}}const $k=Gk;var nw="@firebase/auth",rw="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Qk(n){hl(new Ha("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Ne(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hx(n)},p=new cO(i,a,l,m);return bO(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),hl(new Ha("auth-internal",e=>{const t=Ja(e.getProvider("auth").getImmediate());return(i=>new Yk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ps(nw,rw,Kk(n)),Ps(nw,rw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=5*60,Wk=vx("authIdTokenMaxAge")||Xk;let iw=null;const Zk=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Wk)return;const a=t==null?void 0:t.token;iw!==a&&(iw=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Jk(n=xx()){const e=jy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=_O(n,{popupRedirectResolver:$k,persistence:[rk,GO,eS]}),i=vx("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=Zk(l.toString());BO(t,c,()=>c(t.currentUser)),UO(t,f=>c(f))}}const a=gx("auth");return a&&EO(t,`http://${a}`),t}function e6(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}dO({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=Qr("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",e6().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Qk("Browser");var sw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vs,oS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function k(){}k.prototype=S.prototype,N.D=S.prototype,N.prototype=new k,N.prototype.constructor=N,N.C=function(L,M,V){for(var P=Array(arguments.length-2),J=2;J<arguments.length;J++)P[J-2]=arguments[J];return S.prototype[M].apply(L,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,S,k){k||(k=0);var L=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)L[M]=S.charCodeAt(k++)|S.charCodeAt(k++)<<8|S.charCodeAt(k++)<<16|S.charCodeAt(k++)<<24;else for(M=0;16>M;++M)L[M]=S[k++]|S[k++]<<8|S[k++]<<16|S[k++]<<24;S=N.g[0],k=N.g[1],M=N.g[2];var V=N.g[3],P=S+(V^k&(M^V))+L[0]+3614090360&4294967295;S=k+(P<<7&4294967295|P>>>25),P=V+(M^S&(k^M))+L[1]+3905402710&4294967295,V=S+(P<<12&4294967295|P>>>20),P=M+(k^V&(S^k))+L[2]+606105819&4294967295,M=V+(P<<17&4294967295|P>>>15),P=k+(S^M&(V^S))+L[3]+3250441966&4294967295,k=M+(P<<22&4294967295|P>>>10),P=S+(V^k&(M^V))+L[4]+4118548399&4294967295,S=k+(P<<7&4294967295|P>>>25),P=V+(M^S&(k^M))+L[5]+1200080426&4294967295,V=S+(P<<12&4294967295|P>>>20),P=M+(k^V&(S^k))+L[6]+2821735955&4294967295,M=V+(P<<17&4294967295|P>>>15),P=k+(S^M&(V^S))+L[7]+4249261313&4294967295,k=M+(P<<22&4294967295|P>>>10),P=S+(V^k&(M^V))+L[8]+1770035416&4294967295,S=k+(P<<7&4294967295|P>>>25),P=V+(M^S&(k^M))+L[9]+2336552879&4294967295,V=S+(P<<12&4294967295|P>>>20),P=M+(k^V&(S^k))+L[10]+4294925233&4294967295,M=V+(P<<17&4294967295|P>>>15),P=k+(S^M&(V^S))+L[11]+2304563134&4294967295,k=M+(P<<22&4294967295|P>>>10),P=S+(V^k&(M^V))+L[12]+1804603682&4294967295,S=k+(P<<7&4294967295|P>>>25),P=V+(M^S&(k^M))+L[13]+4254626195&4294967295,V=S+(P<<12&4294967295|P>>>20),P=M+(k^V&(S^k))+L[14]+2792965006&4294967295,M=V+(P<<17&4294967295|P>>>15),P=k+(S^M&(V^S))+L[15]+1236535329&4294967295,k=M+(P<<22&4294967295|P>>>10),P=S+(M^V&(k^M))+L[1]+4129170786&4294967295,S=k+(P<<5&4294967295|P>>>27),P=V+(k^M&(S^k))+L[6]+3225465664&4294967295,V=S+(P<<9&4294967295|P>>>23),P=M+(S^k&(V^S))+L[11]+643717713&4294967295,M=V+(P<<14&4294967295|P>>>18),P=k+(V^S&(M^V))+L[0]+3921069994&4294967295,k=M+(P<<20&4294967295|P>>>12),P=S+(M^V&(k^M))+L[5]+3593408605&4294967295,S=k+(P<<5&4294967295|P>>>27),P=V+(k^M&(S^k))+L[10]+38016083&4294967295,V=S+(P<<9&4294967295|P>>>23),P=M+(S^k&(V^S))+L[15]+3634488961&4294967295,M=V+(P<<14&4294967295|P>>>18),P=k+(V^S&(M^V))+L[4]+3889429448&4294967295,k=M+(P<<20&4294967295|P>>>12),P=S+(M^V&(k^M))+L[9]+568446438&4294967295,S=k+(P<<5&4294967295|P>>>27),P=V+(k^M&(S^k))+L[14]+3275163606&4294967295,V=S+(P<<9&4294967295|P>>>23),P=M+(S^k&(V^S))+L[3]+4107603335&4294967295,M=V+(P<<14&4294967295|P>>>18),P=k+(V^S&(M^V))+L[8]+1163531501&4294967295,k=M+(P<<20&4294967295|P>>>12),P=S+(M^V&(k^M))+L[13]+2850285829&4294967295,S=k+(P<<5&4294967295|P>>>27),P=V+(k^M&(S^k))+L[2]+4243563512&4294967295,V=S+(P<<9&4294967295|P>>>23),P=M+(S^k&(V^S))+L[7]+1735328473&4294967295,M=V+(P<<14&4294967295|P>>>18),P=k+(V^S&(M^V))+L[12]+2368359562&4294967295,k=M+(P<<20&4294967295|P>>>12),P=S+(k^M^V)+L[5]+4294588738&4294967295,S=k+(P<<4&4294967295|P>>>28),P=V+(S^k^M)+L[8]+2272392833&4294967295,V=S+(P<<11&4294967295|P>>>21),P=M+(V^S^k)+L[11]+1839030562&4294967295,M=V+(P<<16&4294967295|P>>>16),P=k+(M^V^S)+L[14]+4259657740&4294967295,k=M+(P<<23&4294967295|P>>>9),P=S+(k^M^V)+L[1]+2763975236&4294967295,S=k+(P<<4&4294967295|P>>>28),P=V+(S^k^M)+L[4]+1272893353&4294967295,V=S+(P<<11&4294967295|P>>>21),P=M+(V^S^k)+L[7]+4139469664&4294967295,M=V+(P<<16&4294967295|P>>>16),P=k+(M^V^S)+L[10]+3200236656&4294967295,k=M+(P<<23&4294967295|P>>>9),P=S+(k^M^V)+L[13]+681279174&4294967295,S=k+(P<<4&4294967295|P>>>28),P=V+(S^k^M)+L[0]+3936430074&4294967295,V=S+(P<<11&4294967295|P>>>21),P=M+(V^S^k)+L[3]+3572445317&4294967295,M=V+(P<<16&4294967295|P>>>16),P=k+(M^V^S)+L[6]+76029189&4294967295,k=M+(P<<23&4294967295|P>>>9),P=S+(k^M^V)+L[9]+3654602809&4294967295,S=k+(P<<4&4294967295|P>>>28),P=V+(S^k^M)+L[12]+3873151461&4294967295,V=S+(P<<11&4294967295|P>>>21),P=M+(V^S^k)+L[15]+530742520&4294967295,M=V+(P<<16&4294967295|P>>>16),P=k+(M^V^S)+L[2]+3299628645&4294967295,k=M+(P<<23&4294967295|P>>>9),P=S+(M^(k|~V))+L[0]+4096336452&4294967295,S=k+(P<<6&4294967295|P>>>26),P=V+(k^(S|~M))+L[7]+1126891415&4294967295,V=S+(P<<10&4294967295|P>>>22),P=M+(S^(V|~k))+L[14]+2878612391&4294967295,M=V+(P<<15&4294967295|P>>>17),P=k+(V^(M|~S))+L[5]+4237533241&4294967295,k=M+(P<<21&4294967295|P>>>11),P=S+(M^(k|~V))+L[12]+1700485571&4294967295,S=k+(P<<6&4294967295|P>>>26),P=V+(k^(S|~M))+L[3]+2399980690&4294967295,V=S+(P<<10&4294967295|P>>>22),P=M+(S^(V|~k))+L[10]+4293915773&4294967295,M=V+(P<<15&4294967295|P>>>17),P=k+(V^(M|~S))+L[1]+2240044497&4294967295,k=M+(P<<21&4294967295|P>>>11),P=S+(M^(k|~V))+L[8]+1873313359&4294967295,S=k+(P<<6&4294967295|P>>>26),P=V+(k^(S|~M))+L[15]+4264355552&4294967295,V=S+(P<<10&4294967295|P>>>22),P=M+(S^(V|~k))+L[6]+2734768916&4294967295,M=V+(P<<15&4294967295|P>>>17),P=k+(V^(M|~S))+L[13]+1309151649&4294967295,k=M+(P<<21&4294967295|P>>>11),P=S+(M^(k|~V))+L[4]+4149444226&4294967295,S=k+(P<<6&4294967295|P>>>26),P=V+(k^(S|~M))+L[11]+3174756917&4294967295,V=S+(P<<10&4294967295|P>>>22),P=M+(S^(V|~k))+L[2]+718787259&4294967295,M=V+(P<<15&4294967295|P>>>17),P=k+(V^(M|~S))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(M+(P<<21&4294967295|P>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+V&4294967295}i.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var k=S-this.blockSize,L=this.B,M=this.h,V=0;V<S;){if(M==0)for(;V<=k;)a(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<S;)if(L[M++]=N.charCodeAt(V++),M==this.blockSize){a(this,L),M=0;break}}else for(;V<S;)if(L[M++]=N[V++],M==this.blockSize){a(this,L),M=0;break}}this.h=M,this.o+=S},i.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var k=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=k&255,k/=256;for(this.u(N),N=Array(16),S=k=0;4>S;++S)for(var L=0;32>L;L+=8)N[k++]=this.g[S]>>>L&255;return N};function l(N,S){var k=f;return Object.prototype.hasOwnProperty.call(k,N)?k[N]:k[N]=S(N)}function c(N,S){this.h=S;for(var k=[],L=!0,M=N.length-1;0<=M;M--){var V=N[M]|0;L&&V==S||(k[M]=V,L=!1)}this.g=k}var f={};function m(N){return-128<=N&&128>N?l(N,function(S){return new c([S|0],0>S?-1:0)}):new c([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return b;if(0>N)return D(p(-N));for(var S=[],k=1,L=0;N>=k;L++)S[L]=N/k|0,k*=4294967296;return new c(S,0)}function v(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return D(v(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(S,8)),L=b,M=0;M<N.length;M+=8){var V=Math.min(8,N.length-M),P=parseInt(N.substring(M,M+V),S);8>V?(V=p(Math.pow(S,V)),L=L.j(V).add(p(P))):(L=L.j(k),L=L.add(p(P)))}return L}var b=m(0),E=m(1),R=m(16777216);n=c.prototype,n.m=function(){if(A(this))return-D(this).m();for(var N=0,S=1,k=0;k<this.g.length;k++){var L=this.i(k);N+=(0<=L?L:4294967296+L)*S,S*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(C(this))return"0";if(A(this))return"-"+D(this).toString(N);for(var S=p(Math.pow(N,6)),k=this,L="";;){var M=K(k,S).g;k=j(k,M.j(S));var V=((0<k.g.length?k.g[0]:k.h)>>>0).toString(N);if(k=M,C(k))return V+L;for(;6>V.length;)V="0"+V;L=V+L}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function C(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function A(N){return N.h==-1}n.l=function(N){return N=j(this,N),A(N)?-1:C(N)?0:1};function D(N){for(var S=N.g.length,k=[],L=0;L<S;L++)k[L]=~N.g[L];return new c(k,~N.h).add(E)}n.abs=function(){return A(this)?D(this):this},n.add=function(N){for(var S=Math.max(this.g.length,N.g.length),k=[],L=0,M=0;M<=S;M++){var V=L+(this.i(M)&65535)+(N.i(M)&65535),P=(V>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);L=P>>>16,V&=65535,P&=65535,k[M]=P<<16|V}return new c(k,k[k.length-1]&-2147483648?-1:0)};function j(N,S){return N.add(D(S))}n.j=function(N){if(C(this)||C(N))return b;if(A(this))return A(N)?D(this).j(D(N)):D(D(this).j(N));if(A(N))return D(this.j(D(N)));if(0>this.l(R)&&0>N.l(R))return p(this.m()*N.m());for(var S=this.g.length+N.g.length,k=[],L=0;L<2*S;L++)k[L]=0;for(L=0;L<this.g.length;L++)for(var M=0;M<N.g.length;M++){var V=this.i(L)>>>16,P=this.i(L)&65535,J=N.i(M)>>>16,oe=N.i(M)&65535;k[2*L+2*M]+=P*oe,U(k,2*L+2*M),k[2*L+2*M+1]+=V*oe,U(k,2*L+2*M+1),k[2*L+2*M+1]+=P*J,U(k,2*L+2*M+1),k[2*L+2*M+2]+=V*J,U(k,2*L+2*M+2)}for(L=0;L<S;L++)k[L]=k[2*L+1]<<16|k[2*L];for(L=S;L<2*S;L++)k[L]=0;return new c(k,0)};function U(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function F(N,S){this.g=N,this.h=S}function K(N,S){if(C(S))throw Error("division by zero");if(C(N))return new F(b,b);if(A(N))return S=K(D(N),S),new F(D(S.g),D(S.h));if(A(S))return S=K(N,D(S)),new F(D(S.g),S.h);if(30<N.g.length){if(A(N)||A(S))throw Error("slowDivide_ only works with positive integers.");for(var k=E,L=S;0>=L.l(N);)k=Q(k),L=Q(L);var M=se(k,1),V=se(L,1);for(L=se(L,2),k=se(k,2);!C(L);){var P=V.add(L);0>=P.l(N)&&(M=M.add(k),V=P),L=se(L,1),k=se(k,1)}return S=j(N,M.j(S)),new F(M,S)}for(M=b;0<=N.l(S);){for(k=Math.max(1,Math.floor(N.m()/S.m())),L=Math.ceil(Math.log(k)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),V=p(k),P=V.j(S);A(P)||0<P.l(N);)k-=L,V=p(k),P=V.j(S);C(V)&&(V=E),M=M.add(V),N=j(N,P)}return new F(M,N)}n.A=function(N){return K(this,N).h},n.and=function(N){for(var S=Math.max(this.g.length,N.g.length),k=[],L=0;L<S;L++)k[L]=this.i(L)&N.i(L);return new c(k,this.h&N.h)},n.or=function(N){for(var S=Math.max(this.g.length,N.g.length),k=[],L=0;L<S;L++)k[L]=this.i(L)|N.i(L);return new c(k,this.h|N.h)},n.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),k=[],L=0;L<S;L++)k[L]=this.i(L)^N.i(L);return new c(k,this.h^N.h)};function Q(N){for(var S=N.g.length+1,k=[],L=0;L<S;L++)k[L]=N.i(L)<<1|N.i(L-1)>>>31;return new c(k,N.h)}function se(N,S){var k=S>>5;S%=32;for(var L=N.g.length-k,M=[],V=0;V<L;V++)M[V]=0<S?N.i(V+k)>>>S|N.i(V+k+1)<<32-S:N.i(V+k);return new c(M,N.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,oS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,Vs=c}).apply(typeof sw<"u"?sw:typeof self<"u"?self:typeof window<"u"?window:{});var yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lS,ec,uS,Pf,Qg,cS,dS,fS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,w){return d==Array.prototype||d==Object.prototype||(d[_]=w.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof yf=="object"&&yf];for(var _=0;_<d.length;++_){var w=d[_];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function a(d,_){if(_)e:{var w=i;d=d.split(".");for(var O=0;O<d.length-1;O++){var X=d[O];if(!(X in w))break e;w=w[X]}d=d[d.length-1],O=w[d],_=_(O),_!=O&&_!=null&&e(w,d,{configurable:!0,writable:!0,value:_})}}function l(d,_){d instanceof String&&(d+="");var w=0,O=!1,X={next:function(){if(!O&&w<d.length){var re=w++;return{value:_(re,d[re]),done:!1}}return O=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}a("Array.prototype.values",function(d){return d||function(){return l(this,function(_,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function p(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function v(d,_,w){return d.call.apply(d.bind,arguments)}function b(d,_,w){if(!d)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,O),d.apply(_,X)}}return function(){return d.apply(_,arguments)}}function E(d,_,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,E.apply(null,arguments)}function R(d,_){var w=Array.prototype.slice.call(arguments,1);return function(){var O=w.slice();return O.push.apply(O,arguments),d.apply(this,O)}}function C(d,_){function w(){}w.prototype=_.prototype,d.aa=_.prototype,d.prototype=new w,d.prototype.constructor=d,d.Qb=function(O,X,re){for(var ge=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)ge[Ke-2]=arguments[Ke];return _.prototype[X].apply(O,ge)}}function A(d){const _=d.length;if(0<_){const w=Array(_);for(let O=0;O<_;O++)w[O]=d[O];return w}return[]}function D(d,_){for(let w=1;w<arguments.length;w++){const O=arguments[w];if(m(O)){const X=d.length||0,re=O.length||0;d.length=X+re;for(let ge=0;ge<re;ge++)d[X+ge]=O[ge]}else d.push(O)}}class j{constructor(_,w){this.i=_,this.j=w,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function U(d){return/^[\s\xa0]*$/.test(d)}function F(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function K(d){return K[" "](d),d}K[" "]=function(){};var Q=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function se(d,_,w){for(const O in d)_.call(w,d[O],O,d)}function N(d,_){for(const w in d)_.call(void 0,d[w],w,d)}function S(d){const _={};for(const w in d)_[w]=d[w];return _}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(d,_){let w,O;for(let X=1;X<arguments.length;X++){O=arguments[X];for(w in O)d[w]=O[w];for(let re=0;re<k.length;re++)w=k[re],Object.prototype.hasOwnProperty.call(O,w)&&(d[w]=O[w])}}function M(d){var _=1;d=d.split(":");const w=[];for(;0<_&&d.length;)w.push(d.shift()),_--;return d.length&&w.push(d.join(":")),w}function V(d){f.setTimeout(()=>{throw d},0)}function P(){var d=he;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class J{constructor(){this.h=this.g=null}add(_,w){const O=oe.get();O.set(_,w),this.h?this.h.next=O:this.g=O,this.h=O}}var oe=new j(()=>new H,d=>d.reset());class H{constructor(){this.next=this.g=this.h=null}set(_,w){this.h=_,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let z,G=!1,he=new J,B=()=>{const d=f.Promise.resolve(void 0);z=()=>{d.then(ne)}};var ne=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(w){V(w)}var _=oe;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}G=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};f.addEventListener("test",w,_),f.removeEventListener("test",w,_)}catch{}return d}();function xe(d,_){if(ie.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var w=this.type=d.type,O=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(Q){e:{try{K(_.nodeName);var X=!0;break e}catch{}X=!1}X||(_=null)}}else w=="mouseover"?_=d.fromElement:w=="mouseout"&&(_=d.toElement);this.relatedTarget=_,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:_e[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&xe.aa.h.call(this)}}C(xe,ie);var _e={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),Te=0;function Le(d,_,w,O,X){this.listener=d,this.proxy=null,this.src=_,this.type=w,this.capture=!!O,this.ha=X,this.key=++Te,this.da=this.fa=!1}function Ce(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ke(d){this.src=d,this.g={},this.h=0}ke.prototype.add=function(d,_,w,O,X){var re=d.toString();d=this.g[re],d||(d=this.g[re]=[],this.h++);var ge=At(d,_,O,X);return-1<ge?(_=d[ge],w||(_.fa=!1)):(_=new Le(_,this.src,re,!!O,X),_.fa=w,d.push(_)),_};function Ve(d,_){var w=_.type;if(w in d.g){var O=d.g[w],X=Array.prototype.indexOf.call(O,_,void 0),re;(re=0<=X)&&Array.prototype.splice.call(O,X,1),re&&(Ce(_),d.g[w].length==0&&(delete d.g[w],d.h--))}}function At(d,_,w,O){for(var X=0;X<d.length;++X){var re=d[X];if(!re.da&&re.listener==_&&re.capture==!!w&&re.ha==O)return X}return-1}var Qt="closure_lm_"+(1e6*Math.random()|0),ur={};function Cr(d,_,w,O,X){if(Array.isArray(_)){for(var re=0;re<_.length;re++)Cr(d,_[re],w,O,X);return null}return w=Hc(w),d&&d[pe]?d.K(_,w,p(O)?!!O.capture:!1,X):Xt(d,_,w,!1,O,X)}function Xt(d,_,w,O,X,re){if(!_)throw Error("Invalid event type");var ge=p(X)?!!X.capture:!!X,Ke=ro(d);if(Ke||(d[Qt]=Ke=new ke(d)),w=Ke.add(_,w,O,ge,re),w.proxy)return w;if(O=Ul(),w.proxy=O,O.src=d,O.listener=w,d.addEventListener)me||(X=ge),X===void 0&&(X=!1),d.addEventListener(_.toString(),O,X);else if(d.attachEvent)d.attachEvent(Js(_.toString()),O);else if(d.addListener&&d.removeListener)d.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ul(){function d(w){return _.call(d.src,d.listener,w)}const _=rm;return d}function Ir(d,_,w,O,X){if(Array.isArray(_))for(var re=0;re<_.length;re++)Ir(d,_[re],w,O,X);else O=p(O)?!!O.capture:!!O,w=Hc(w),d&&d[pe]?(d=d.i,_=String(_).toString(),_ in d.g&&(re=d.g[_],w=At(re,w,O,X),-1<w&&(Ce(re[w]),Array.prototype.splice.call(re,w,1),re.length==0&&(delete d.g[_],d.h--)))):d&&(d=ro(d))&&(_=d.g[_.toString()],d=-1,_&&(d=At(_,w,O,X)),(w=-1<d?_[d]:null)&&no(w))}function no(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[pe])Ve(_.i,d);else{var w=d.type,O=d.proxy;_.removeEventListener?_.removeEventListener(w,O,d.capture):_.detachEvent?_.detachEvent(Js(w),O):_.addListener&&_.removeListener&&_.removeListener(O),(w=ro(_))?(Ve(w,d),w.h==0&&(w.src=null,_[Qt]=null)):Ce(d)}}}function Js(d){return d in ur?ur[d]:ur[d]="on"+d}function rm(d,_){if(d.da)d=!0;else{_=new xe(_,this);var w=d.listener,O=d.ha||d.src;d.fa&&no(d),d=w.call(O,_)}return d}function ro(d){return d=d[Qt],d instanceof ke?d:null}var Bl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hc(d){return typeof d=="function"?d:(d[Bl]||(d[Bl]=function(_){return d.handleEvent(_)}),d[Bl])}function wt(){fe.call(this),this.i=new ke(this),this.M=this,this.F=null}C(wt,fe),wt.prototype[pe]=!0,wt.prototype.removeEventListener=function(d,_,w,O){Ir(this,d,_,w,O)};function nt(d,_){var w,O=d.F;if(O)for(w=[];O;O=O.F)w.push(O);if(d=d.M,O=_.type||_,typeof _=="string")_=new ie(_,d);else if(_ instanceof ie)_.target=_.target||d;else{var X=_;_=new ie(O,d),L(_,X)}if(X=!0,w)for(var re=w.length-1;0<=re;re--){var ge=_.g=w[re];X=Vn(ge,O,!0,_)&&X}if(ge=_.g=d,X=Vn(ge,O,!0,_)&&X,X=Vn(ge,O,!1,_)&&X,w)for(re=0;re<w.length;re++)ge=_.g=w[re],X=Vn(ge,O,!1,_)&&X}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var w=d.g[_],O=0;O<w.length;O++)Ce(w[O]);delete d.g[_],d.h--}}this.F=null},wt.prototype.K=function(d,_,w,O){return this.i.add(String(d),_,!1,w,O)},wt.prototype.L=function(d,_,w,O){return this.i.add(String(d),_,!0,w,O)};function Vn(d,_,w,O){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var X=!0,re=0;re<_.length;++re){var ge=_[re];if(ge&&!ge.da&&ge.capture==w){var Ke=ge.listener,Ht=ge.ha||ge.src;ge.fa&&Ve(d.i,ge),X=Ke.call(Ht,O)!==!1&&X}}return X&&!O.defaultPrevented}function yn(d,_,w){if(typeof d=="function")w&&(d=E(d,w));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:f.setTimeout(d,_||0)}function qc(d){d.g=yn(()=>{d.g=null,d.i&&(d.i=!1,qc(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class im extends fe{constructor(_,w){super(),this.m=_,this.l=w,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:qc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ea(d){fe.call(this),this.h=d,this.g={}}C(ea,fe);var ta=[];function na(d){se(d.g,function(_,w){this.g.hasOwnProperty(w)&&no(_)},d),d.g={}}ea.prototype.N=function(){ea.aa.N.call(this),na(this)},ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cr=f.JSON.stringify,io=f.JSON.parse,ra=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function zl(){}zl.prototype.h=null;function Fl(d){return d.h||(d.h=d.i())}function Hl(){}var si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ai(){ie.call(this,"d")}C(ai,ie);function ql(){ie.call(this,"c")}C(ql,ie);var Nr={},Gl=null;function Xi(){return Gl=Gl||new wt}Nr.La="serverreachability";function so(d){ie.call(this,Nr.La,d)}C(so,ie);function Wi(d){const _=Xi();nt(_,new so(_))}Nr.STAT_EVENT="statevent";function Gc(d,_){ie.call(this,Nr.STAT_EVENT,d),this.stat=_}C(Gc,ie);function yt(d){const _=Xi();nt(_,new Gc(_,d))}Nr.Ma="timingevent";function Ft(d,_){ie.call(this,Nr.Ma,d),this.size=_}C(Ft,ie);function Ot(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},_)}function Kn(){this.g=!0}Kn.prototype.xa=function(){this.g=!1};function $l(d,_,w,O,X,re){d.info(function(){if(d.g)if(re)for(var ge="",Ke=re.split("&"),Ht=0;Ht<Ke.length;Ht++){var Qe=Ke[Ht].split("=");if(1<Qe.length){var Zt=Qe[0];Qe=Qe[1];var qt=Zt.split("_");ge=2<=qt.length&&qt[1]=="type"?ge+(Zt+"="+Qe+"&"):ge+(Zt+"=redacted&")}}else ge=null;else ge=re;return"XMLHTTP REQ ("+O+") [attempt "+X+"]: "+_+`
`+w+`
`+ge})}function sm(d,_,w,O,X,re,ge){d.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+X+"]: "+_+`
`+w+`
`+re+" "+ge})}function Zi(d,_,w,O){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+ia(d,w)+(O?" "+O:"")})}function $c(d,_){d.info(function(){return"TIMEOUT: "+_})}Kn.prototype.info=function(){};function ia(d,_){if(!d.g)return _;if(!_)return null;try{var w=JSON.parse(_);if(w){for(d=0;d<w.length;d++)if(Array.isArray(w[d])){var O=w[d];if(!(2>O.length)){var X=O[1];if(Array.isArray(X)&&!(1>X.length)){var re=X[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ge=1;ge<X.length;ge++)X[ge]=""}}}}return cr(w)}catch{return _}}var Ji={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dr;function Or(){}C(Or,zl),Or.prototype.g=function(){return new XMLHttpRequest},Or.prototype.i=function(){return{}},Dr=new Or;function An(d,_,w,O){this.j=d,this.i=_,this.l=w,this.R=O||1,this.U=new ea(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rt}function Rt(){this.i=null,this.g="",this.h=!1}var Yl={},ao={};function dr(d,_,w){d.L=1,d.v=ua(jn(_)),d.m=w,d.P=!0,li(d,null)}function li(d,_){d.F=Date.now(),sa(d),d.A=jn(d.v);var w=d.A,O=d.R;Array.isArray(O)||(O=[String(O)]),Jl(w.i,"t",O),d.C=0,w=d.j.J,d.h=new Rt,d.g=ld(d.j,w?_:null,!d.m),0<d.O&&(d.M=new im(E(d.Y,d,d.g),d.O)),_=d.U,w=d.g,O=d.ca;var X="readystatechange";Array.isArray(X)||(X&&(ta[0]=X.toString()),X=ta);for(var re=0;re<X.length;re++){var ge=Cr(w,X[re],O||_.handleEvent,!1,_.h||_);if(!ge)break;_.g[ge.key]=ge}_=d.H?S(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Wi(),$l(d.i,d.u,d.A,d.l,d.R,d.m)}An.prototype.ca=function(d){d=d.target;const _=this.M;_&&Zn(d)==3?_.j():this.Y(d)},An.prototype.Y=function(d){try{if(d==this.g)e:{const qt=Zn(this.g);var _=this.g.Ba();const gi=this.g.Z();if(!(3>qt)&&(qt!=3||this.g&&(this.h.h||this.g.oa()||ed(this.g)))){this.J||qt!=4||_==7||(_==8||0>=gi?Wi(3):Wi(2)),es(this);var w=this.g.Z();this.X=w;t:if(Yc(this)){var O=ed(this.g);d="";var X=O.length,re=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),kr(this);var ge="";break t}this.h.i=new f.TextDecoder}for(_=0;_<X;_++)this.h.h=!0,d+=this.h.i.decode(O[_],{stream:!(re&&_==X-1)});O.length=0,this.h.g+=d,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=w==200,sm(this.i,this.u,this.A,this.l,this.R,qt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,Ht=this.g;if((Ke=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Ke)){var Qe=Ke;break t}}Qe=null}if(w=Qe)Zi(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,aa(this,w);else{this.o=!1,this.s=3,yt(12),on(this),kr(this);break e}}if(this.P){w=!0;let ln;for(;!this.J&&this.C<ge.length;)if(ln=Kc(this,ge),ln==ao){qt==4&&(this.s=4,yt(14),w=!1),Zi(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==Yl){this.s=4,yt(15),Zi(this.i,this.l,ge,"[Invalid Chunk]"),w=!1;break}else Zi(this.i,this.l,ln,null),aa(this,ln);if(Yc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||ge.length!=0||this.h.h||(this.s=1,yt(16),w=!1),this.o=this.o&&w,!w)Zi(this.i,this.l,ge,"[Invalid Chunked Response]"),on(this),kr(this);else if(0<ge.length&&!this.W){this.W=!0;var Zt=this.j;Zt.g==this&&Zt.ba&&!Zt.M&&(Zt.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),ya(Zt),Zt.M=!0,yt(11))}}else Zi(this.i,this.l,ge,null),aa(this,ge);qt==4&&on(this),this.o&&!this.J&&(qt==4?sd(this.j,this):(this.o=!1,sa(this)))}else cm(this.g),w==400&&0<ge.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),on(this),kr(this)}}}catch{}finally{}};function Yc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Kc(d,_){var w=d.C,O=_.indexOf(`
`,w);return O==-1?ao:(w=Number(_.substring(w,O)),isNaN(w)?Yl:(O+=1,O+w>_.length?ao:(_=_.slice(O,O+w),d.C=O+w,_)))}An.prototype.cancel=function(){this.J=!0,on(this)};function sa(d){d.S=Date.now()+d.I,Qc(d,d.I)}function Qc(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ot(E(d.ba,d),_)}function es(d){d.B&&(f.clearTimeout(d.B),d.B=null)}An.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?($c(this.i,this.A),this.L!=2&&(Wi(),yt(17)),on(this),this.s=2,kr(this)):Qc(this,this.S-d)};function kr(d){d.j.G==0||d.J||sd(d.j,d)}function on(d){es(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,na(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function aa(d,_){try{var w=d.j;if(w.G!=0&&(w.g==d||Kl(w.h,d))){if(!d.K&&Kl(w.h,d)&&w.G==3){try{var O=w.Da.g.parse(_)}catch{O=null}if(Array.isArray(O)&&O.length==3){var X=O;if(X[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<d.F)_o(w),yo(w);else break e;iu(w),yt(18)}}else w.za=X[1],0<w.za-w.T&&37500>X[2]&&w.F&&w.v==0&&!w.C&&(w.C=Ot(E(w.Za,w),6e3));if(1>=lo(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else pi(w,11)}else if((d.K||w.g==d)&&_o(w),!U(_))for(X=w.Da.g.parse(_),_=0;_<X.length;_++){let Qe=X[_];if(w.T=Qe[0],Qe=Qe[1],w.G==2)if(Qe[0]=="c"){w.K=Qe[1],w.ia=Qe[2];const Zt=Qe[3];Zt!=null&&(w.la=Zt,w.j.info("VER="+w.la));const qt=Qe[4];qt!=null&&(w.Aa=qt,w.j.info("SVER="+w.Aa));const gi=Qe[5];gi!=null&&typeof gi=="number"&&0<gi&&(O=1.5*gi,w.L=O,w.j.info("backChannelRequestTimeoutMs_="+O)),O=w;const ln=d.g;if(ln){const Br=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var re=O.h;re.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(uo(re,re.h),re.h=null))}if(O.D){const au=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;au&&(O.ya=au,ot(O.I,O.D,au))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-d.F,w.j.info("Handshake RTT: "+w.R+"ms")),O=w;var ge=d;if(O.qa=od(O,O.J?O.ia:null,O.W),ge.K){Rn(O.h,ge);var Ke=ge,Ht=O.L;Ht&&(Ke.I=Ht),Ke.B&&(es(Ke),sa(Ke)),O.g=ge}else rd(O);0<w.i.length&&vo(w)}else Qe[0]!="stop"&&Qe[0]!="close"||pi(w,7);else w.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?pi(w,7):nu(w):Qe[0]!="noop"&&w.l&&w.l.ta(Qe),w.v=0)}}Wi(4)}catch{}}var Xc=class{constructor(d,_){this.g=d,this.map=_}};function ui(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oo(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function lo(d){return d.h?1:d.g?d.g.size:0}function Kl(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function uo(d,_){d.g?d.g.add(_):d.h=_}function Rn(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}ui.prototype.cancel=function(){if(this.i=Ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Ql(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const w of d.g.values())_=_.concat(w.D);return _}return A(d.i)}function am(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(m(d)){for(var _=[],w=d.length,O=0;O<w;O++)_.push(d[O]);return _}_=[],w=0;for(O in d)_[w++]=d[O];return _}function co(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(m(d)||typeof d=="string"){var _=[];d=d.length;for(var w=0;w<d;w++)_.push(w);return _}_=[],w=0;for(const O in d)_[w++]=O;return _}}}function Xl(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(m(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var w=co(d),O=am(d),X=O.length,re=0;re<X;re++)_.call(void 0,O[re],w&&w[re],d)}var oa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function om(d,_){if(d){d=d.split("&");for(var w=0;w<d.length;w++){var O=d[w].indexOf("="),X=null;if(0<=O){var re=d[w].substring(0,O);X=d[w].substring(O+1)}else re=d[w];_(re,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function kt(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof kt){this.h=d.h,la(this,d.j),this.o=d.o,this.g=d.g,ts(this,d.s),this.l=d.l;var _=d.i,w=new di;w.i=_.i,_.g&&(w.g=new Map(_.g),w.h=_.h),ci(this,w),this.m=d.m}else d&&(_=String(d).match(oa))?(this.h=!1,la(this,_[1]||"",!0),this.o=Qn(_[2]||""),this.g=Qn(_[3]||"",!0),ts(this,_[4]),this.l=Qn(_[5]||"",!0),ci(this,_[6]||"",!0),this.m=Qn(_[7]||"")):(this.h=!1,this.i=new di(null,this.h))}kt.prototype.toString=function(){var d=[],_=this.j;_&&d.push(ca(_,Wl,!0),":");var w=this.g;return(w||_=="file")&&(d.push("//"),(_=this.o)&&d.push(ca(_,Wl,!0),"@"),d.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&d.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(ca(w,w.charAt(0)=="/"?lm:Zl,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",ca(w,fo)),d.join("")};function jn(d){return new kt(d)}function la(d,_,w){d.j=w?Qn(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function ts(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function ci(d,_,w){_ instanceof di?(d.i=_,Zc(d.i,d.h)):(w||(_=ca(_,um)),d.i=new di(_,d.h))}function ot(d,_,w){d.i.set(_,w)}function ua(d){return ot(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Qn(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ca(d,_,w){return typeof d=="string"?(d=encodeURI(d).replace(_,Wc),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Wc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Wl=/[#\/\?@]/g,Zl=/[#\?:]/g,lm=/[#\?]/g,um=/[#\?@]/g,fo=/#/g;function di(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Xn(d){d.g||(d.g=new Map,d.h=0,d.i&&om(d.i,function(_,w){d.add(decodeURIComponent(_.replace(/\+/g," ")),w)}))}n=di.prototype,n.add=function(d,_){Xn(this),this.i=null,d=Mr(this,d);var w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(_),this.h+=1,this};function fi(d,_){Xn(d),_=Mr(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function hi(d,_){return Xn(d),_=Mr(d,_),d.g.has(_)}n.forEach=function(d,_){Xn(this),this.g.forEach(function(w,O){w.forEach(function(X){d.call(_,X,O,this)},this)},this)},n.na=function(){Xn(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),w=[];for(let O=0;O<_.length;O++){const X=d[O];for(let re=0;re<X.length;re++)w.push(_[O])}return w},n.V=function(d){Xn(this);let _=[];if(typeof d=="string")hi(this,d)&&(_=_.concat(this.g.get(Mr(this,d))));else{d=Array.from(this.g.values());for(let w=0;w<d.length;w++)_=_.concat(d[w])}return _},n.set=function(d,_){return Xn(this),this.i=null,d=Mr(this,d),hi(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function Jl(d,_,w){fi(d,_),0<w.length&&(d.i=null,d.g.set(Mr(d,_),A(w)),d.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var w=0;w<_.length;w++){var O=_[w];const re=encodeURIComponent(String(O)),ge=this.V(O);for(O=0;O<ge.length;O++){var X=re;ge[O]!==""&&(X+="="+encodeURIComponent(String(ge[O]))),d.push(X)}}return this.i=d.join("&")};function Mr(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function Zc(d,_){_&&!d.j&&(Xn(d),d.i=null,d.g.forEach(function(w,O){var X=O.toLowerCase();O!=X&&(fi(this,O),Jl(this,X,w))},d)),d.j=_}function da(d,_){const w=new Kn;if(f.Image){const O=new Image;O.onload=R(Wn,w,"TestLoadImage: loaded",!0,_,O),O.onerror=R(Wn,w,"TestLoadImage: error",!1,_,O),O.onabort=R(Wn,w,"TestLoadImage: abort",!1,_,O),O.ontimeout=R(Wn,w,"TestLoadImage: timeout",!1,_,O),f.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=d}else _(!1)}function fr(d,_){const w=new Kn,O=new AbortController,X=setTimeout(()=>{O.abort(),Wn(w,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:O.signal}).then(re=>{clearTimeout(X),re.ok?Wn(w,"TestPingServer: ok",!0,_):Wn(w,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(X),Wn(w,"TestPingServer: error",!1,_)})}function Wn(d,_,w,O,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),O(w)}catch{}}function fa(){this.g=new ra}function Pr(d,_,w){const O=w||"";try{Xl(d,function(X,re){let ge=X;p(X)&&(ge=cr(X)),_.push(O+re+"="+encodeURIComponent(ge))})}catch(X){throw _.push(O+"type="+encodeURIComponent("_badmap")),X}}function ns(d){this.l=d.Ub||null,this.j=d.eb||!1}C(ns,zl),ns.prototype.g=function(){return new mi(this.l,this.j)},ns.prototype.i=function(d){return function(){return d}}({});function mi(d,_){wt.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(mi,wt),n=mi.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,jr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||f).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,jr(this)),this.g&&(this.readyState=3,jr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eu(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function eu(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Vr(this):jr(this),this.readyState==3&&eu(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Vr(this))},n.Qa=function(d){this.g&&(this.response=d,Vr(this))},n.ga=function(){this.g&&Vr(this)};function Vr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,jr(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var w=_.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=_.next();return d.join(`\r
`)};function jr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function tu(d){let _="";return se(d,function(w,O){_+=O,_+=":",_+=w,_+=`\r
`}),_}function Wt(d,_,w){e:{for(O in w){var O=!1;break e}O=!0}O||(w=tu(w),typeof d=="string"?w!=null&&encodeURIComponent(String(w)):ot(d,_,w))}function et(d){wt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(et,wt);var ho=/^https?$/i,ha=["POST","PUT"];n=et.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,w,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dr.g(),this.v=this.o?Fl(this.o):Fl(Dr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(re){Jc(this,re);return}if(d=w||"",w=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var X in O)w.set(X,O[X]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const re of O.keys())w.set(re,O.get(re));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(w.keys()).find(re=>re.toLowerCase()=="content-type"),X=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ha,_,void 0))||O||X||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ge]of w)this.g.setRequestHeader(re,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ma(this),this.u=!0,this.g.send(d),this.u=!1}catch(re){Jc(this,re)}};function Jc(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,mo(d),Lr(d)}function mo(d){d.A||(d.A=!0,nt(d,"complete"),nt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,nt(this,"complete"),nt(this,"abort"),Lr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lr(this,!0)),et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?po(this):this.bb())},n.bb=function(){po(this)};function po(d){if(d.h&&typeof c<"u"&&(!d.v[1]||Zn(d)!=4||d.Z()!=2)){if(d.u&&Zn(d)==4)yn(d.Ea,0,d);else if(nt(d,"readystatechange"),Zn(d)==4){d.h=!1;try{const ge=d.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var w;if(!(w=_)){var O;if(O=ge===0){var X=String(d.D).match(oa)[1]||null;!X&&f.self&&f.self.location&&(X=f.self.location.protocol.slice(0,-1)),O=!ho.test(X?X.toLowerCase():"")}w=O}if(w)nt(d,"complete"),nt(d,"success");else{d.m=6;try{var re=2<Zn(d)?d.g.statusText:""}catch{re=""}d.l=re+" ["+d.Z()+"]",mo(d)}}finally{Lr(d)}}}}function Lr(d,_){if(d.g){ma(d);const w=d.g,O=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||nt(d,"ready");try{w.onreadystatechange=O}catch{}}}function ma(d){d.I&&(f.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Zn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),io(_)}};function ed(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function cm(d){const _={};d=(d.g&&2<=Zn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<d.length;O++){if(U(d[O]))continue;var w=M(d[O]);const X=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const re=_[X]||[];_[X]=re,re.push(w)}N(_,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pa(d,_,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||_}function go(d){this.Aa=0,this.i=[],this.j=new Kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pa("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pa("baseRetryDelayMs",5e3,d),this.cb=pa("retryDelaySeedMs",1e4,d),this.Wa=pa("forwardChannelMaxRetries",2,d),this.wa=pa("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ui(d&&d.concurrentRequestLimit),this.Da=new fa,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=go.prototype,n.la=8,n.G=1,n.connect=function(d,_,w,O){yt(0),this.W=d,this.H=_||{},w&&O!==void 0&&(this.H.OSID=w,this.H.OAID=O),this.F=this.X,this.I=od(this,null,this.W),vo(this)};function nu(d){if(td(d),d.G==3){var _=d.U++,w=jn(d.I);if(ot(w,"SID",d.K),ot(w,"RID",_),ot(w,"TYPE","terminate"),ga(d,w),_=new An(d,d.j,_),_.L=2,_.v=ua(jn(w)),w=!1,f.navigator&&f.navigator.sendBeacon)try{w=f.navigator.sendBeacon(_.v.toString(),"")}catch{}!w&&f.Image&&(new Image().src=_.v,w=!0),w||(_.g=ld(_.j,null),_.g.ea(_.v)),_.F=Date.now(),sa(_)}ad(d)}function yo(d){d.g&&(ya(d),d.g.cancel(),d.g=null)}function td(d){yo(d),d.u&&(f.clearTimeout(d.u),d.u=null),_o(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function vo(d){if(!oo(d.h)&&!d.s){d.s=!0;var _=d.Ga;z||B(),G||(z(),G=!0),he.add(_,d),d.B=0}}function dm(d,_){return lo(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ot(E(d.Ga,d,_),su(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const X=new An(this,this.j,d);let re=this.o;if(this.S&&(re?(re=S(re),L(re,this.S)):re=this.S),this.m!==null||this.O||(X.H=re,re=null),this.P)e:{for(var _=0,w=0;w<this.i.length;w++){t:{var O=this.i[w];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(_+=O,4096<_){_=w;break e}if(_===4096||w===this.i.length-1){_=w+1;break e}}_=1e3}else _=1e3;_=nd(this,X,_),w=jn(this.I),ot(w,"RID",d),ot(w,"CVER",22),this.D&&ot(w,"X-HTTP-Session-Id",this.D),ga(this,w),re&&(this.O?_="headers="+encodeURIComponent(String(tu(re)))+"&"+_:this.m&&Wt(w,this.m,re)),uo(this.h,X),this.Ua&&ot(w,"TYPE","init"),this.P?(ot(w,"$req",_),ot(w,"SID","null"),X.T=!0,dr(X,w,null)):dr(X,w,_),this.G=2}}else this.G==3&&(d?ru(this,d):this.i.length==0||oo(this.h)||ru(this))};function ru(d,_){var w;_?w=_.l:w=d.U++;const O=jn(d.I);ot(O,"SID",d.K),ot(O,"RID",w),ot(O,"AID",d.T),ga(d,O),d.m&&d.o&&Wt(O,d.m,d.o),w=new An(d,d.j,w,d.B+1),d.m===null&&(w.H=d.o),_&&(d.i=_.D.concat(d.i)),_=nd(d,w,1e3),w.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),uo(d.h,w),dr(w,O,_)}function ga(d,_){d.H&&se(d.H,function(w,O){ot(_,O,w)}),d.l&&Xl({},function(w,O){ot(_,O,w)})}function nd(d,_,w){w=Math.min(d.i.length,w);var O=d.l?E(d.l.Na,d.l,d):null;e:{var X=d.i;let re=-1;for(;;){const ge=["count="+w];re==-1?0<w?(re=X[0].g,ge.push("ofs="+re)):re=0:ge.push("ofs="+re);let Ke=!0;for(let Ht=0;Ht<w;Ht++){let Qe=X[Ht].g;const Zt=X[Ht].map;if(Qe-=re,0>Qe)re=Math.max(0,X[Ht].g-100),Ke=!1;else try{Pr(Zt,ge,"req"+Qe+"_")}catch{O&&O(Zt)}}if(Ke){O=ge.join("&");break e}}}return d=d.i.splice(0,w),_.D=d,O}function rd(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;z||B(),G||(z(),G=!0),he.add(_,d),d.v=0}}function iu(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ot(E(d.Fa,d),su(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,id(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ot(E(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),yo(this),id(this))};function ya(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function id(d){d.g=new An(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=jn(d.qa);ot(_,"RID","rpc"),ot(_,"SID",d.K),ot(_,"AID",d.T),ot(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&ot(_,"TO",d.ja),ot(_,"TYPE","xmlhttp"),ga(d,_),d.m&&d.o&&Wt(_,d.m,d.o),d.L&&(d.g.I=d.L);var w=d.g;d=d.ia,w.L=1,w.v=ua(jn(_)),w.m=null,w.P=!0,li(w,d)}n.Za=function(){this.C!=null&&(this.C=null,yo(this),iu(this),yt(19))};function _o(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function sd(d,_){var w=null;if(d.g==_){_o(d),ya(d),d.g=null;var O=2}else if(Kl(d.h,_))w=_.D,Rn(d.h,_),O=1;else return;if(d.G!=0){if(_.o)if(O==1){w=_.m?_.m.length:0,_=Date.now()-_.F;var X=d.B;O=Xi(),nt(O,new Ft(O,w)),vo(d)}else rd(d);else if(X=_.s,X==3||X==0&&0<_.X||!(O==1&&dm(d,_)||O==2&&iu(d)))switch(w&&0<w.length&&(_=d.h,_.i=_.i.concat(w)),X){case 1:pi(d,5);break;case 4:pi(d,10);break;case 3:pi(d,6);break;default:pi(d,2)}}}function su(d,_){let w=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(w*=2),w*_}function pi(d,_){if(d.j.info("Error code "+_),_==2){var w=E(d.fb,d),O=d.Xa;const X=!O;O=new kt(O||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||la(O,"https"),ua(O),X?da(O.toString(),w):fr(O.toString(),w)}else yt(2);d.G=0,d.l&&d.l.sa(_),ad(d),td(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function ad(d){if(d.G=0,d.ka=[],d.l){const _=Ql(d.h);(_.length!=0||d.i.length!=0)&&(D(d.ka,_),D(d.ka,d.i),d.h.i.length=0,A(d.i),d.i.length=0),d.l.ra()}}function od(d,_,w){var O=w instanceof kt?jn(w):new kt(w);if(O.g!="")_&&(O.g=_+"."+O.g),ts(O,O.s);else{var X=f.location;O=X.protocol,_=_?_+"."+X.hostname:X.hostname,X=+X.port;var re=new kt(null);O&&la(re,O),_&&(re.g=_),X&&ts(re,X),w&&(re.l=w),O=re}return w=d.D,_=d.ya,w&&_&&ot(O,w,_),ot(O,"VER",d.la),ga(d,O),O}function ld(d,_,w){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new et(new ns({eb:w})):new et(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ud(){}n=ud.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function bo(){}bo.prototype.g=function(d,_){return new Cn(d,_)};function Cn(d,_){wt.call(this),this.g=new go(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!U(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!U(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Ur(this)}C(Cn,wt),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){nu(this.g)},Cn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.u&&(w={},w.__data__=cr(d),d=w);_.i.push(new Xc(_.Ya++,d)),_.G==3&&vo(_)},Cn.prototype.N=function(){this.g.l=null,delete this.j,nu(this.g),delete this.g,Cn.aa.N.call(this)};function cd(d){ai.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const w in _){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}C(cd,ai);function dd(){ql.call(this),this.status=1}C(dd,ql);function Ur(d){this.g=d}C(Ur,ud),Ur.prototype.ua=function(){nt(this.g,"a")},Ur.prototype.ta=function(d){nt(this.g,new cd(d))},Ur.prototype.sa=function(d){nt(this.g,new dd)},Ur.prototype.ra=function(){nt(this.g,"b")},bo.prototype.createWebChannel=bo.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,fS=function(){return new bo},dS=function(){return Xi()},cS=Nr,Qg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ji.NO_ERROR=0,Ji.TIMEOUT=8,Ji.HTTP_ERROR=6,Pf=Ji,oi.COMPLETE="complete",uS=oi,Hl.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",wt.prototype.listen=wt.prototype.K,ec=Hl,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,lS=et}).apply(typeof yf<"u"?yf:typeof self<"u"?self:typeof window<"u"?window:{});const aw="@firebase/firestore",ow="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new Py("@firebase/firestore");function Jo(){return $a.logLevel}function ve(n,...e){if($a.logLevel<=Ge.DEBUG){const t=e.map($y);$a.debug(`Firestore (${Dl}): ${n}`,...t)}}function zi(n,...e){if($a.logLevel<=Ge.ERROR){const t=e.map($y);$a.error(`Firestore (${Dl}): ${n}`,...t)}}function pl(n,...e){if($a.logLevel<=Ge.WARN){const t=e.map($y);$a.warn(`Firestore (${Dl}): ${n}`,...t)}}function $y(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,hS(n,i,t)}function hS(n,e,t){let i=`FIRESTORE (${Dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw zi(i),new Error(i)}function tt(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||hS(e,a,i)}function Pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Yi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(En.UNAUTHENTICATED))}shutdown(){}}class n6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class r6{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){tt(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new Pi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Pi,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},f=m=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Pi)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(tt(typeof i.accessToken=="string",31837,{l:i}),new mS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class i6{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class s6{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new i6(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a6{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ar(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){tt(this.o===void 0,3512);const i=l=>{l.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ve("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new lw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(tt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new lw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=o6(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function ze(n,e){return n<e?-1:n>e?1:0}function Xg(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return ze(i,a);{const l=pS(),c=l6(l.encode(uw(n,t)),l.encode(uw(e,t)));return c!==0?c:ze(i,a)}}t+=i>65535?2:1}return ze(n.length,e.length)}function uw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function l6(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ze(n[t],e[t]);return ze(n.length,e.length)}function gl(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=-62135596800,dw=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*dw);return new dt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<cw)throw new ye(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dw}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-cw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new dt(0,0))}static max(){return new Me(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="__name__";class Yr{constructor(e,t,i){t===void 0?t=0:t>e.length&&De(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&De(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Yr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Yr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return ze(e.length,t.length)}static compareSegments(e,t){const i=Yr.isNumericId(e),a=Yr.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Yr.extractNumericId(e).compare(Yr.extractNumericId(t)):Xg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vs.fromString(e.substring(4,e.length-2))}}class gt extends Yr{construct(e,t,i){return new gt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ye(ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new gt(t)}static emptyPath(){return new gt([])}}const u6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends Yr{construct(e,t,i){return new mn(e,t,i)}static isValidIdentifier(e){return u6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fw}static keyField(){return new mn([fw])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ye(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ye(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ye(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(i+=f,a++):(l(),a++)}if(l(),c)throw new ye(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(t)}static emptyPath(){return new mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(gt.fromString(e))}static fromName(e){return new Ae(gt.fromString(e).popFirst(5))}static empty(){return new Ae(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new gt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=-1;function c6(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Me.fromTimestamp(i===1e9?new dt(t+1,0):new dt(t,i));return new Bs(a,Ae.empty(),e)}function d6(n){return new Bs(n.readTime,n.key,gc)}class Bs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Bs(Me.min(),Ae.empty(),gc)}static max(){return new Bs(Me.max(),Ae.empty(),gc)}}function f6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(n.documentKey,e.documentKey),t!==0?t:ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class m6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==h6)throw n;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,i)=>{t(e)})}static reject(e){return new de((t,i)=>{i(e)})}static waitFor(e){return new de((t,i)=>{let a=0,l=0,c=!1;e.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&t()},m=>i(m))}),c=!0,l===a&&t()})}static or(e){let t=de.resolve(!1);for(const i of e)t=t.next(a=>a?de.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new de((i,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;t(e[p]).next(v=>{c[p]=v,++f,f===l&&i(c)},v=>a(v))}})}static doWhile(e,t){return new de((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function p6(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function kl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ch.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=-1;function Ih(n){return n==null}function th(n){return n===0&&1/n==-1/0}function g6(n){return typeof n=="number"&&Number.isInteger(n)&&!th(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="";function y6(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=hw(e)),e=v6(n.get(t),e);return hw(e)}function v6(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case yS:t+="";break;default:t+=l}}return t}function hw(n){return n+yS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Qs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function vS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,t){this.comparator=e,this.root=t||hn.EMPTY}insert(e,t){return new Et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vf(this.root,e,this.comparator,!1)}getReverseIterator(){return new vf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vf(this.root,e,this.comparator,!0)}}class vf{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??hn.RED,this.left=a??hn.EMPTY,this.right=l??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new hn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return hn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new hn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pw(this.data.getIterator())}getIteratorFrom(e){return new pw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Kt(this.comparator);return t.data=e,t}}class pw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new $n([])}unionWith(e){let t=new Kt(mn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new $n(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new _S("Invalid base64 string: "+l):l}}(e);return new gn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new gn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const _6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zs(n){if(tt(!!n,39018),typeof n=="string"){let e=0;const t=_6.exec(n);if(tt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Nt(n.seconds),nanos:Nt(n.nanos)}}function Nt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Fs(n){return typeof n=="string"?gn.fromBase64String(n):gn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="server_timestamp",ES="__type__",wS="__previous_value__",TS="__local_write_time__";function Ky(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[ES])===null||t===void 0?void 0:t.stringValue)===bS}function Nh(n){const e=n.mapValue.fields[wS];return Ky(e)?Nh(e):e}function yc(n){const e=zs(n.mapValue.fields[TS].timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e,t,i,a,l,c,f,m,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v}}const nh="(default)";class vc{constructor(e,t){this.projectId=e,this.database=t||nh}static empty(){return new vc("","")}get isDefaultDatabase(){return this.database===nh}isEqual(e){return e instanceof vc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="__type__",E6="__max__",_f={mapValue:{}},SS="__vector__",rh="value";function Hs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ky(n)?4:T6(n)?9007199254740991:w6(n)?10:11:De(28295,{value:n})}function ti(n,e){if(n===e)return!0;const t=Hs(n);if(t!==Hs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return yc(n).isEqual(yc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=zs(a.timestampValue),f=zs(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return Fs(a.bytesValue).isEqual(Fs(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return Nt(a.geoPointValue.latitude)===Nt(l.geoPointValue.latitude)&&Nt(a.geoPointValue.longitude)===Nt(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Nt(a.integerValue)===Nt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Nt(a.doubleValue),f=Nt(l.doubleValue);return c===f?th(c)===th(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return gl(n.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(mw(c)!==mw(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!ti(c[m],f[m])))return!1;return!0}(n,e);default:return De(52216,{left:n})}}function _c(n,e){return(n.values||[]).find(t=>ti(t,e))!==void 0}function yl(n,e){if(n===e)return 0;const t=Hs(n),i=Hs(e);if(t!==i)return ze(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(n.booleanValue,e.booleanValue);case 2:return function(l,c){const f=Nt(l.integerValue||l.doubleValue),m=Nt(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(n,e);case 3:return gw(n.timestampValue,e.timestampValue);case 4:return gw(yc(n),yc(e));case 5:return Xg(n.stringValue,e.stringValue);case 6:return function(l,c){const f=Fs(l),m=Fs(c);return f.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const v=ze(f[p],m[p]);if(v!==0)return v}return ze(f.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const f=ze(Nt(l.latitude),Nt(c.latitude));return f!==0?f:ze(Nt(l.longitude),Nt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return yw(n.arrayValue,e.arrayValue);case 10:return function(l,c){var f,m,p,v;const b=l.fields||{},E=c.fields||{},R=(f=b[rh])===null||f===void 0?void 0:f.arrayValue,C=(m=E[rh])===null||m===void 0?void 0:m.arrayValue,A=ze(((p=R==null?void 0:R.values)===null||p===void 0?void 0:p.length)||0,((v=C==null?void 0:C.values)===null||v===void 0?void 0:v.length)||0);return A!==0?A:yw(R,C)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===_f.mapValue&&c===_f.mapValue)return 0;if(l===_f.mapValue)return 1;if(c===_f.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let b=0;b<m.length&&b<v.length;++b){const E=Xg(m[b],v[b]);if(E!==0)return E;const R=yl(f[m[b]],p[v[b]]);if(R!==0)return R}return ze(m.length,v.length)}(n.mapValue,e.mapValue);default:throw De(23264,{Pe:t})}}function gw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ze(n,e);const t=zs(n),i=zs(e),a=ze(t.seconds,i.seconds);return a!==0?a:ze(t.nanos,i.nanos)}function yw(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=yl(t[a],i[a]);if(l)return l}return ze(t.length,i.length)}function vl(n){return Wg(n)}function Wg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=zs(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Fs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ae.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Wg(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Wg(t.fields[c])}`;return a+"}"}(n.mapValue):De(61005,{value:n})}function Vf(n){switch(Hs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nh(n);return e?16+Vf(e):16;case 5:return 2*n.stringValue.length;case 6:return Fs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+Vf(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return Qs(i.fields,(l,c)=>{a+=l.length+Vf(c)}),a}(n.mapValue);default:throw De(13486,{value:n})}}function vw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Zg(n){return!!n&&"integerValue"in n}function Qy(n){return!!n&&"arrayValue"in n}function _w(n){return!!n&&"nullValue"in n}function bw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jf(n){return!!n&&"mapValue"in n}function w6(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[xS])===null||t===void 0?void 0:t.stringValue)===SS}function oc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Qs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=oc(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=oc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function T6(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===E6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!jf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=oc(t)}setAll(e){let t=mn.emptyPath(),i={},a=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,i,a),i={},a=[],t=f.popLast()}c?i[f.lastSegment()]=oc(c):a.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());jf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];jf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Qs(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new Mn(oc(this.value))}}function AS(n){const e=[];return Qs(n.fields,(t,i)=>{const a=new mn([t]);if(jf(i)){const l=AS(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,t,i,a,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new wn(e,0,Me.min(),Me.min(),Me.min(),Mn.empty(),0)}static newFoundDocument(e,t,i,a){return new wn(e,1,t,Me.min(),i,a,0)}static newNoDocument(e,t){return new wn(e,2,t,Me.min(),Me.min(),Mn.empty(),0)}static newUnknownDocument(e,t){return new wn(e,3,t,Me.min(),Me.min(),Mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,t){this.position=e,this.inclusive=t}}function Ew(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=Ae.comparator(Ae.fromName(c.referenceValue),t.key):i=yl(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function ww(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ti(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,t="asc"){this.field=e,this.dir=t}}function x6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{}class jt extends RS{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new A6(e,t,i):t==="array-contains"?new I6(e,i):t==="in"?new N6(e,i):t==="not-in"?new D6(e,i):t==="array-contains-any"?new O6(e,i):new jt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new R6(e,i):new C6(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(yl(t,this.value)):t!==null&&Hs(this.value)===Hs(t)&&this.matchesComparison(yl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tr extends RS{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Tr(e,t)}matches(e){return CS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function CS(n){return n.op==="and"}function IS(n){return S6(n)&&CS(n)}function S6(n){for(const e of n.filters)if(e instanceof Tr)return!1;return!0}function Jg(n){if(n instanceof jt)return n.field.canonicalString()+n.op.toString()+vl(n.value);if(IS(n))return n.filters.map(e=>Jg(e)).join(",");{const e=n.filters.map(t=>Jg(t)).join(",");return`${n.op}(${e})`}}function NS(n,e){return n instanceof jt?function(i,a){return a instanceof jt&&i.op===a.op&&i.field.isEqual(a.field)&&ti(i.value,a.value)}(n,e):n instanceof Tr?function(i,a){return a instanceof Tr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,f)=>l&&NS(c,a.filters[f]),!0):!1}(n,e):void De(19439)}function DS(n){return n instanceof jt?function(t){return`${t.field.canonicalString()} ${t.op} ${vl(t.value)}`}(n):n instanceof Tr?function(t){return t.op.toString()+" {"+t.getFilters().map(DS).join(" ,")+"}"}(n):"Filter"}class A6 extends jt{constructor(e,t,i){super(e,t,i),this.key=Ae.fromName(i.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class R6 extends jt{constructor(e,t){super(e,"in",t),this.keys=OS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class C6 extends jt{constructor(e,t){super(e,"not-in",t),this.keys=OS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function OS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ae.fromName(i.referenceValue))}class I6 extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qy(t)&&_c(t.arrayValue,this.value)}}class N6 extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_c(this.value.arrayValue,t)}}class D6 extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(_c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!_c(this.value.arrayValue,t)}}class O6 extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>_c(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e,t=null,i=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Ie=null}}function Tw(n,e=null,t=[],i=[],a=null,l=null,c=null){return new k6(n,e,t,i,a,l,c)}function Xy(n){const e=Pe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Jg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Ih(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>vl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>vl(i)).join(",")),e.Ie=t}return e.Ie}function Wy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!x6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!NS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ww(n.startAt,e.startAt)&&ww(n.endAt,e.endAt)}function ey(n){return Ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,t=null,i=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function M6(n,e,t,i,a,l,c,f){return new Ml(n,e,t,i,a,l,c,f)}function Dh(n){return new Ml(n)}function xw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function kS(n){return n.collectionGroup!==null}function lc(n){const e=Pe(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Kt(mn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new bc(l,i))}),t.has(mn.keyField().canonicalString())||e.Ee.push(new bc(mn.keyField(),i))}return e.Ee}function Wr(n){const e=Pe(n);return e.de||(e.de=P6(e,lc(n))),e.de}function P6(n,e){if(n.limitType==="F")return Tw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new bc(a.field,l)});const t=n.endAt?new ih(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new ih(n.startAt.position,n.startAt.inclusive):null;return Tw(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function ty(n,e){const t=n.filters.concat([e]);return new Ml(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function sh(n,e,t){return new Ml(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Oh(n,e){return Wy(Wr(n),Wr(e))&&n.limitType===e.limitType}function MS(n){return`${Xy(Wr(n))}|lt:${n.limitType}`}function el(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>DS(a)).join(", ")}]`),Ih(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>vl(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>vl(a)).join(",")),`Target(${i})`}(Wr(n))}; limitType=${n.limitType})`}function kh(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ae.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of lc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,f,m){const p=Ew(c,f,m);return c.inclusive?p<=0:p<0}(i.startAt,lc(i),a)||i.endAt&&!function(c,f,m){const p=Ew(c,f,m);return c.inclusive?p>=0:p>0}(i.endAt,lc(i),a))}(n,e)}function V6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function PS(n){return(e,t)=>{let i=!1;for(const a of lc(n)){const l=j6(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function j6(n,e,t){const i=n.field.isKeyField()?Ae.comparator(e.key,t.key):function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?yl(m,p):De(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return De(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return vS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=new Et(Ae.comparator);function Fi(){return L6}const VS=new Et(Ae.comparator);function tc(...n){let e=VS;for(const t of n)e=e.insert(t.key,t);return e}function jS(n){let e=VS;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Va(){return uc()}function LS(){return uc()}function uc(){return new eo(n=>n.toString(),(n,e)=>n.isEqual(e))}const U6=new Et(Ae.comparator),B6=new Kt(Ae.comparator);function $e(...n){let e=B6;for(const t of n)e=e.add(t);return e}const z6=new Kt(ze);function F6(){return z6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(e)?"-0":e}}function US(n){return{integerValue:""+n}}function H6(n,e){return g6(e)?US(e):Zy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(){this._=void 0}}function q6(n,e,t){return n instanceof ah?function(a,l){const c={fields:{[ES]:{stringValue:bS},[TS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ky(l)&&(l=Nh(l)),l&&(c.fields[wS]=l),{mapValue:c}}(t,e):n instanceof Ec?zS(n,e):n instanceof wc?FS(n,e):function(a,l){const c=BS(a,l),f=Sw(c)+Sw(a.Re);return Zg(c)&&Zg(a.Re)?US(f):Zy(a.serializer,f)}(n,e)}function G6(n,e,t){return n instanceof Ec?zS(n,e):n instanceof wc?FS(n,e):t}function BS(n,e){return n instanceof oh?function(i){return Zg(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class ah extends Mh{}class Ec extends Mh{constructor(e){super(),this.elements=e}}function zS(n,e){const t=HS(e);for(const i of n.elements)t.some(a=>ti(a,i))||t.push(i);return{arrayValue:{values:t}}}class wc extends Mh{constructor(e){super(),this.elements=e}}function FS(n,e){let t=HS(e);for(const i of n.elements)t=t.filter(a=>!ti(a,i));return{arrayValue:{values:t}}}class oh extends Mh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Sw(n){return Nt(n.integerValue||n.doubleValue)}function HS(n){return Qy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function $6(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof Ec&&a instanceof Ec||i instanceof wc&&a instanceof wc?gl(i.elements,a.elements,ti):i instanceof oh&&a instanceof oh?ti(i.Re,a.Re):i instanceof ah&&a instanceof ah}(n.transform,e.transform)}class Y6{constructor(e,t){this.version=e,this.transformResults=t}}class or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ph{}function qS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Jy(n.key,or.none()):new Pc(n.key,n.data,or.none());{const t=n.data,i=Mn.empty();let a=new Kt(mn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Xs(n.key,i,new $n(a.toArray()),or.none())}}function K6(n,e,t){n instanceof Pc?function(a,l,c){const f=a.value.clone(),m=Rw(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Xs?function(a,l,c){if(!Lf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=Rw(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(GS(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function cc(n,e,t,i){return n instanceof Pc?function(l,c,f,m){if(!Lf(l.precondition,c))return f;const p=l.value.clone(),v=Cw(l.fieldTransforms,m,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof Xs?function(l,c,f,m){if(!Lf(l.precondition,c))return f;const p=Cw(l.fieldTransforms,m,c),v=c.data;return v.setAll(GS(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(n,e,t,i):function(l,c,f){return Lf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,e,t)}function Q6(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=BS(i.transform,a||null);l!=null&&(t===null&&(t=Mn.empty()),t.set(i.field,l))}return t||null}function Aw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&gl(i,a,(l,c)=>$6(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Pc extends Ph{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Xs extends Ph{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function GS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Rw(n,e,t){const i=new Map;tt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,f=e.data.field(l.field);i.set(l.field,G6(c,f,t[a]))}return i}function Cw(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,q6(l,c,e))}return i}class Jy extends Ph{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X6 extends Ph{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&K6(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=cc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=cc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=LS();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(a.key)?null:f;const m=qS(c,f);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Me.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$e())}isEqual(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,(t,i)=>Aw(t,i))&&gl(this.baseMutations,e.baseMutations,(t,i)=>Aw(t,i))}}class ev{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){tt(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let a=function(){return U6}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new ev(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,We;function e4(n){switch(n){case ue.OK:return De(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return De(15467,{code:n})}}function $S(n){if(n===void 0)return zi("GRPC error has no .code"),ue.UNKNOWN;switch(n){case Vt.OK:return ue.OK;case Vt.CANCELLED:return ue.CANCELLED;case Vt.UNKNOWN:return ue.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return ue.INTERNAL;case Vt.UNAVAILABLE:return ue.UNAVAILABLE;case Vt.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Vt.NOT_FOUND:return ue.NOT_FOUND;case Vt.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Vt.ABORTED:return ue.ABORTED;case Vt.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Vt.DATA_LOSS:return ue.DATA_LOSS;default:return De(39323,{code:n})}}(We=Vt||(Vt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=new Vs([4294967295,4294967295],0);function Iw(n){const e=pS().encode(n),t=new oS;return t.update(e),new Uint8Array(t.digest())}function Nw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Vs([t,i],0),new Vs([a,l],0)]}class tv{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new nc(`Invalid padding: ${t}`);if(i<0)throw new nc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new nc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new nc(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Vs.fromNumber(this.pe)}we(e,t,i){let a=e.add(t.multiply(Vs.fromNumber(i)));return a.compare(t4)===1&&(a=new Vs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=Iw(e),[i,a]=Nw(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);if(!this.be(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new tv(l,a,t);return i.forEach(f=>c.insert(f)),c}insert(e){if(this.pe===0)return;const t=Iw(e),[i,a]=Nw(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Vc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Vh(Me.min(),a,new Et(ze),Fi(),$e())}}class Vc{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Vc(i,t,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,t,i,a){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=a}}class YS{constructor(e,t){this.targetId=e,this.Ce=t}}class KS{constructor(e,t,i=gn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class Dw{constructor(){this.Fe=0,this.Me=Ow(),this.xe=gn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=$e(),t=$e(),i=$e();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:De(38017,{changeType:l})}}),new Vc(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=Ow()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,tt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class n4{constructor(e){this.ze=e,this.je=new Map,this.He=Fi(),this.Je=bf(),this.Ye=bf(),this.Ze=new Et(ze)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:De(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,i=e.Ce.count,a=this._t(t);if(a){const l=a.target;if(ey(l))if(i===0){const c=new Ae(l.path);this.tt(t,c,wn.newNoDocument(c,Me.min()))}else tt(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const f=this.ct(e),m=f?this.lt(f,e,c):1;if(m!==0){this.st(t);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,f;try{c=Fs(i).toUint8Array()}catch(m){if(m instanceof _S)return pl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new tv(c,a,l)}catch(m){return pl(m instanceof nc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.pe===0?null:f}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.ze.Pt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.tt(t,l,null),a++)}),a}It(e){const t=new Map;this.je.forEach((l,c)=>{const f=this._t(c);if(f){if(l.current&&ey(f.target)){const m=new Ae(f.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,wn.newNoDocument(m,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let i=$e();this.Ye.forEach((l,c)=>{let f=!0;c.forEachWhile(m=>{const p=this._t(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const a=new Vh(e,t,this.Ze,this.He,i);return this.He=Fi(),this.Je=bf(),this.Ye=bf(),this.Ze=new Et(ze),a}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Dw,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Kt(ze),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Kt(ze),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Dw),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function bf(){return new Et(Ae.comparator)}function Ow(){return new Et(Ae.comparator)}const r4={asc:"ASCENDING",desc:"DESCENDING"},i4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s4={and:"AND",or:"OR"};class a4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ny(n,e){return n.useProto3Json||Ih(e)?e:{value:e}}function lh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function o4(n,e){return lh(n,e.toTimestamp())}function Zr(n){return tt(!!n,49232),Me.fromTimestamp(function(t){const i=zs(t);return new dt(i.seconds,i.nanos)}(n))}function nv(n,e){return ry(n,e).canonicalString()}function ry(n,e){const t=function(a){return new gt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function XS(n){const e=gt.fromString(n);return tt(t1(e),10190,{key:e.toString()}),e}function iy(n,e){return nv(n.databaseId,e.path)}function _g(n,e){const t=XS(e);if(t.get(1)!==n.databaseId.projectId)throw new ye(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ye(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ae(ZS(t))}function WS(n,e){return nv(n.databaseId,e)}function l4(n){const e=XS(n);return e.length===4?gt.emptyPath():ZS(e)}function sy(n){return new gt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ZS(n){return tt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function kw(n,e,t){return{name:iy(n,e),fields:t.value.mapValue.fields}}function u4(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:De(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,v){return p.useProto3Json?(tt(v===void 0||typeof v=="string",58123),gn.fromBase64String(v||"")):(tt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),gn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(p){const v=p.code===void 0?ue.UNKNOWN:$S(p.code);return new ye(v,p.message||"")}(c);t=new KS(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=_g(n,i.document.name),l=Zr(i.document.updateTime),c=i.document.createTime?Zr(i.document.createTime):Me.min(),f=new Mn({mapValue:{fields:i.document.fields}}),m=wn.newFoundDocument(a,l,c,f),p=i.targetIds||[],v=i.removedTargetIds||[];t=new Uf(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=_g(n,i.document),l=i.readTime?Zr(i.readTime):Me.min(),c=wn.newNoDocument(a,l),f=i.removedTargetIds||[];t=new Uf([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=_g(n,i.document),l=i.removedTargetIds||[];t=new Uf([],l,a,null)}else{if(!("filter"in e))return De(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new J6(a,l),f=i.targetId;t=new YS(f,c)}}return t}function c4(n,e){let t;if(e instanceof Pc)t={update:kw(n,e.key,e.value)};else if(e instanceof Jy)t={delete:iy(n,e.key)};else if(e instanceof Xs)t={update:kw(n,e.key,e.data),updateMask:_4(e.fieldMask)};else{if(!(e instanceof X6))return De(16599,{ft:e.type});t={verify:iy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const f=c.transform;if(f instanceof ah)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ec)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof wc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof oh)return{fieldPath:c.field.canonicalString(),increment:f.Re};throw De(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:o4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:De(27497)}(n,e.precondition)),t}function d4(n,e){return n&&n.length>0?(tt(e!==void 0,14353),n.map(t=>function(a,l){let c=a.updateTime?Zr(a.updateTime):Zr(l);return c.isEqual(Me.min())&&(c=Zr(l)),new Y6(c,a.transformResults||[])}(t,e))):[]}function f4(n,e){return{documents:[WS(n,e.path)]}}function h4(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=WS(n,a);const l=function(p){if(p.length!==0)return e1(Tr.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(v=>function(E){return{field:tl(E.field),direction:g4(E.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=ny(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:a}}function m4(n){let e=l4(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){tt(i===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(b){const E=JS(b);return E instanceof Tr&&IS(E)?E.getFilters():[E]}(t.where));let c=[];t.orderBy&&(c=function(b){return b.map(E=>function(C){return new bc(nl(C.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(E))}(t.orderBy));let f=null;t.limit&&(f=function(b){let E;return E=typeof b=="object"?b.value:b,Ih(E)?null:E}(t.limit));let m=null;t.startAt&&(m=function(b){const E=!!b.before,R=b.values||[];return new ih(R,E)}(t.startAt));let p=null;return t.endAt&&(p=function(b){const E=!b.before,R=b.values||[];return new ih(R,E)}(t.endAt)),M6(e,a,c,l,f,"F",m,p)}function p4(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function JS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=nl(t.unaryFilter.field);return jt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=nl(t.unaryFilter.field);return jt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=nl(t.unaryFilter.field);return jt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=nl(t.unaryFilter.field);return jt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}}(n):n.fieldFilter!==void 0?function(t){return jt.create(nl(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Tr.create(t.compositeFilter.filters.map(i=>JS(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return De(1026)}}(t.compositeFilter.op))}(n):De(30097,{filter:n})}function g4(n){return r4[n]}function y4(n){return i4[n]}function v4(n){return s4[n]}function tl(n){return{fieldPath:n.canonicalString()}}function nl(n){return mn.fromServerFormat(n.fieldPath)}function e1(n){return n instanceof jt?function(t){if(t.op==="=="){if(bw(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NAN"}};if(_w(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(bw(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NOT_NAN"}};if(_w(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tl(t.field),op:y4(t.op),value:t.value}}}(n):n instanceof Tr?function(t){const i=t.getFilters().map(a=>e1(a));return i.length===1?i[0]:{compositeFilter:{op:v4(t.op),filters:i}}}(n):De(54877,{filter:n})}function _4(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function t1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,t,i,a,l=Me.min(),c=Me.min(),f=gn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.wt=e}}function E4(n){const e=m4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?sh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(){this.Cn=new T4}addToCollectionParentIndex(e,t){return this.Cn.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(Bs.min())}getMinOffsetFromCollectionGroup(e,t){return de.resolve(Bs.min())}updateCollectionGroup(e,t,i){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class T4{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Kt(gt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Kt(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},n1=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(n1,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new _l(0)}static lr(){return new _l(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="LruGarbageCollector",x4=1048576;function Vw([n,e],[t,i]){const a=ze(n,t);return a===0?ze(e,i):a}class S4{constructor(e){this.Er=e,this.buffer=new Kt(Vw),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Vw(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class A4{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ve(Pw,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){kl(t)?ve(Pw,"Ignoring IndexedDB error during garbage collection: ",t):await Ol(t)}await this.mr(3e5)})}}class R4{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return de.resolve(Ch.le);const i=new S4(t);return this.gr.forEachTarget(e,a=>i.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>i.Rr(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(Mw)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mw):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,a,l,c,f,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a))).next(b=>(i=b,f=Date.now(),this.removeTargets(e,i,t))).next(b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(b=>(p=Date.now(),Jo()<=Ge.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${b} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b})))}}function C4(n,e){return new R4(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.changes=new eo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?de.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&cc(i.mutation,a,$n.empty(),dt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,$e()).next(()=>i))}getLocalViewOfDocuments(e,t,i=$e()){const a=Va();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=tc();return l.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Va();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,$e()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,i,a){let l=Fi();const c=uc(),f=function(){return uc()}();return t.forEach((m,p)=>{const v=i.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Xs)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),cc(v.mutation,p,v.mutation.getFieldMask(),dt.now())):c.set(p.key,$n.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((p,v)=>c.set(p,v)),t.forEach((p,v)=>{var b;return f.set(p,new N4(v,(b=c.get(p))!==null&&b!==void 0?b:null))}),f))}recalculateAndSaveOverlays(e,t){const i=uc();let a=new Et((c,f)=>c-f),l=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(m=>{const p=t.get(m);if(p===null)return;let v=i.get(m)||$n.empty();v=f.applyToLocalView(p,v),i.set(m,v);const b=(a.get(f.batchId)||$e()).add(m);a=a.insert(f.batchId,b)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,v=m.value,b=LS();v.forEach(E=>{if(!l.has(E)){const R=qS(t.get(E),i.get(E));R!==null&&b.set(E,R),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,b))}return de.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return Ae.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):kS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):de.resolve(Va());let f=gc,m=l;return c.next(p=>de.forEach(p,(v,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),l.get(v)?de.resolve():this.remoteDocumentCache.getEntry(e,v).next(E=>{m=m.insert(v,E)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,m,p,$e())).next(v=>({batchId:f,changes:jS(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next(i=>{let a=tc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=tc();return this.indexManager.getCollectionParents(e,l).next(f=>de.forEach(f,m=>{const p=function(b,E){return new Ml(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next(v=>{v.forEach((b,E)=>{c=c.insert(b,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((m,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,wn.newInvalidDocument(v)))});let f=tc();return c.forEach((m,p)=>{const v=l.get(m);v!==void 0&&cc(v.mutation,p,$n.empty(),dt.now()),kh(t,p)&&(f=f.insert(m,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return de.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Zr(a.createTime)}}(t)),de.resolve()}getNamedQuery(e,t){return de.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(a){return{name:a.name,query:E4(a.bundledQuery),readTime:Zr(a.readTime)}}(t)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this.overlays=new Et(Ae.comparator),this.Qr=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Va();return de.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.St(e,t,l)}),de.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Qr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(i)),de.resolve()}getOverlaysForCollection(e,t,i){const a=Va(),l=t.length+1,c=new Ae(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return de.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new Et((p,v)=>p-v);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let v=l.get(p.largestBatchId);v===null&&(v=Va(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const f=Va(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,v)=>f.set(p,v)),!(f.size()>=a)););return de.resolve(f)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(i.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Z6(t,i));let l=this.Qr.get(t);l===void 0&&(l=$e(),this.Qr.set(t,l)),this.Qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this.$r=new Kt(nn.Ur),this.Kr=new Kt(nn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new nn(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new nn(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new Ae(new gt([])),i=new nn(t,e),a=new nn(t,e+1),l=[];return this.Kr.forEachInRange([i,a],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Ae(new gt([])),i=new nn(t,e),a=new nn(t,e+1);let l=$e();return this.Kr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new nn(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class nn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Ae.comparator(e.key,t.key)||ze(e.Zr,t.Zr)}static Wr(e,t){return ze(e.Zr,t.Zr)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Kt(nn.Ur)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new W6(l,t,i,a);this.mutationQueue.push(c);for(const f of a)this.Xr=this.Xr.add(new nn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return de.resolve(c)}lookupMutationBatch(e,t){return de.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ti(i),l=a<0?0:a;return de.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?Yy:this.nr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new nn(t,0),a=new nn(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([i,a],c=>{const f=this.ei(c.Zr);l.push(f)}),de.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Kt(ze);return t.forEach(a=>{const l=new nn(a,0),c=new nn(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],f=>{i=i.add(f.Zr)})}),de.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Ae.isDocumentKey(l)||(l=l.child(""));const c=new nn(new Ae(l),0);let f=new Kt(ze);return this.Xr.forEachWhile(m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Zr)),!0)},c),de.resolve(this.ni(f))}ni(e){const t=[];return e.forEach(i=>{const a=this.ei(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){tt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return de.forEach(t.mutations,a=>{const l=new nn(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new nn(t,0),a=this.Xr.firstAfterOrEqual(i);return de.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.ii=e,this.docs=function(){return new Et(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return de.resolve(i?i.document.mutableCopy():wn.newInvalidDocument(t))}getEntries(e,t){let i=Fi();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():wn.newInvalidDocument(a))}),de.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=Fi();const c=t.path,f=new Ae(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||f6(d6(v),i)<=0||(a.has(v.key)||kh(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return de.resolve(l)}getAllFromCollectionGroup(e,t,i,a){De(9500)}si(e,t){return de.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new j4(this)}getSize(e){return de.resolve(this.size)}}class j4 extends I4{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Br.addEntry(e,a)):this.Br.removeEntry(i)}),de.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.persistence=e,this.oi=new eo(t=>Xy(t),Wy),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this._i=0,this.ai=new rv,this.targetCount=0,this.ui=_l.cr()}forEachTarget(e,t){return this.oi.forEach((i,a)=>t(a)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),de.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new _l(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.Tr(t),de.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.oi.forEach((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),de.waitFor(l).next(()=>a)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return de.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),de.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),de.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),de.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return de.resolve(i)}containsKey(e,t){return de.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,t){this.ci={},this.overlays={},this.li=new Ch(0),this.hi=!1,this.hi=!0,this.Pi=new M4,this.referenceDelegate=e(this),this.Ti=new L4(this),this.indexManager=new w4,this.remoteDocumentCache=function(a){return new V4(a)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new b4(t),this.Ei=new O4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new k4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new P4(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){ve("MemoryPersistence","Starting transaction:",e);const a=new U4(this.li.next());return this.referenceDelegate.di(),i(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(e,t){return de.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class U4 extends m6{constructor(e){super(),this.currentSequenceNumber=e}}class iv{constructor(e){this.persistence=e,this.Vi=new rv,this.mi=null}static fi(e){return new iv(e)}get gi(){if(this.mi)return this.mi;throw De(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),de.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),de.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(a=>this.gi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.gi,i=>{const a=Ae.fromPath(i);return this.pi(e,a).next(l=>{l||t.removeEntry(a,Me.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return de.or([()=>de.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class uh{constructor(e,t){this.persistence=e,this.yi=new eo(i=>y6(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=C4(this,t)}static fi(e,t){return new uh(e,t)}di(){}Ai(e){return de.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return de.forEach(this.yi,(i,a)=>this.Dr(e,i,a).next(l=>l?de.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(e,c=>this.Dr(e,c,t).next(f=>{f||(i++,l.removeEntry(c,Me.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),de.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),de.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),de.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Vf(e.data.value)),t}Dr(e,t,i){return de.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.yi.get(t);return de.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.ds=i,this.As=a}static Rs(e,t){let i=$e(),a=$e();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new sv(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return _3()?8:p6(xn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ws(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.bs(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new B4;return this.Ss(e,t,c).next(f=>{if(l.result=f,this.fs)return this.Ds(e,t,c,f.size)})}).next(()=>l.result)}Ds(e,t,i,a){return i.documentReadCount<this.gs?(Jo()<=Ge.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",el(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),de.resolve()):(Jo()<=Ge.DEBUG&&ve("QueryEngine","Query:",el(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ps*a?(Jo()<=Ge.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",el(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wr(t))):de.resolve())}ws(e,t){if(xw(t))return de.resolve(null);let i=Wr(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=sh(t,null,"F"),i=Wr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=$e(...l);return this.ys.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(m=>{const p=this.vs(t,f);return this.Cs(t,p,c,m.readTime)?this.ws(e,sh(t,null,"F")):this.Fs(e,p,t,m)}))})))}bs(e,t,i,a){return xw(t)||a.isEqual(Me.min())?de.resolve(null):this.ys.getDocuments(e,i).next(l=>{const c=this.vs(t,l);return this.Cs(t,c,i,a)?de.resolve(null):(Jo()<=Ge.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),el(t)),this.Fs(e,c,t,c6(a,gc)).next(f=>f))})}vs(e,t){let i=new Kt(PS(e));return t.forEach((a,l)=>{kh(e,l)&&(i=i.add(l))}),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return Jo()<=Ge.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",el(t)),this.ys.getDocumentsMatchingQuery(e,t,Bs.min(),i)}Fs(e,t,i,a){return this.ys.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="LocalStore",F4=3e8;class H4{constructor(e,t,i,a){this.persistence=e,this.Ms=t,this.serializer=a,this.xs=new Et(ze),this.Os=new eo(l=>Xy(l),Wy),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D4(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function q4(n,e,t,i){return new H4(n,e,t,i)}async function i1(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],f=[];let m=$e();for(const p of a){c.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of l){f.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(i,m).next(p=>({ks:p,removedBatchIds:c,addedBatchIds:f}))})})}function G4(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(f,m,p,v){const b=p.batch,E=b.keys();let R=de.resolve();return E.forEach(C=>{R=R.next(()=>v.getEntry(m,C)).next(A=>{const D=p.docVersions.get(C);tt(D!==null,48541),A.version.compareTo(D)<0&&(b.applyToRemoteDocument(A,p),A.isValidDocument()&&(A.setReadTime(p.commitVersion),v.addEntry(A)))})}),R.next(()=>f.mutationQueue.removeMutationBatch(m,b))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let m=$e();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function s1(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function $4(n,e){const t=Pe(n),i=e.snapshotVersion;let a=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});a=t.xs;const f=[];e.targetChanges.forEach((v,b)=>{const E=a.get(b);if(!E)return;f.push(t.Ti.removeMatchingKeys(l,v.removedDocuments,b).next(()=>t.Ti.addMatchingKeys(l,v.addedDocuments,b)));let R=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?R=R.withResumeToken(gn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,i)),a=a.insert(b,R),function(A,D,j){return A.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=F4?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(E,R,v)&&f.push(t.Ti.updateTargetData(l,R))});let m=Fi(),p=$e();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),f.push(Y4(l,c,e.documentUpdates).next(v=>{m=v.qs,p=v.Qs})),!i.isEqual(Me.min())){const v=t.Ti.getLastRemoteSnapshotVersion(l).next(b=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(v)}return de.waitFor(f).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(t.xs=a,l))}function Y4(n,e,t){let i=$e(),a=$e();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Fi();return t.forEach((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Me.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):ve(av,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)}),{qs:c,Qs:a}})}function K4(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Yy),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Q4(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Ti.getTargetData(i,e).next(l=>l?(a=l,de.resolve(a)):t.Ti.allocateTargetId(i).next(c=>(a=new Os(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.xs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function ay(n,e,t){const i=Pe(n),a=i.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!kl(c))throw c;ve(av,`Failed to update sequence numbers for target ${e}: ${c}`)}i.xs=i.xs.remove(e),i.Os.delete(a.target)}function jw(n,e,t){const i=Pe(n);let a=Me.min(),l=$e();return i.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,v){const b=Pe(m),E=b.Os.get(v);return E!==void 0?de.resolve(b.xs.get(E)):b.Ti.getTargetData(p,v)}(i,c,Wr(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(c,f.targetId).next(m=>{l=m})}).next(()=>i.Ms.getDocumentsMatchingQuery(c,e,t?a:Me.min(),t?l:$e())).next(f=>(X4(i,V6(e),f),{documents:f,$s:l})))}function X4(n,e,t){let i=n.Ns.get(e)||Me.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Ns.set(e,i)}class Lw{constructor(){this.activeTargetIds=F6()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class W4{constructor(){this.xo=new Lw,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Lw,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="ConnectivityMonitor";class Bw{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ve(Uw,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ve(Uw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ef=null;function oy(){return Ef===null?Ef=function(){return 268435456+Math.round(2147483648*Math.random())}():Ef++,"0x"+Ef.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="RestConnection",J4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eM{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${a}`,this.Go=this.databaseId.database===nh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}zo(e,t,i,a,l){const c=oy(),f=this.jo(e,t.toUriEncodedString());ve(bg,`Sending RPC '${e}' ${c}:`,f,i);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,a,l);const{host:p}=new URL(f),v=Cl(p);return this.Jo(e,f,m,i,v).then(b=>(ve(bg,`Received RPC '${e}' ${c}: `,b),b),b=>{throw pl(bg,`RPC '${e}' ${c} failed with error: `,b,"url: ",f,"request:",i),b})}Yo(e,t,i,a,l,c){return this.zo(e,t,i,a,l)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Dl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}jo(e,t){const i=J4[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="WebChannelConnection";class nM extends eM{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const c=oy();return new Promise((f,m)=>{const p=new lS;p.setWithCredentials(!0),p.listenOnce(uS.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Pf.NO_ERROR:const b=p.getResponseJson();ve(bn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),f(b);break;case Pf.TIMEOUT:ve(bn,`RPC '${e}' ${c} timed out`),m(new ye(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Pf.HTTP_ERROR:const E=p.getStatus();if(ve(bn,`RPC '${e}' ${c} failed with status:`,E,"response text:",p.getResponseText()),E>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const C=R==null?void 0:R.error;if(C&&C.status&&C.message){const A=function(j){const U=j.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(U)>=0?U:ue.UNKNOWN}(C.status);m(new ye(A,C.message))}else m(new ye(ue.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ye(ue.UNAVAILABLE,"Connection failed."));break;default:De(9055,{h_:e,streamId:c,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{ve(bn,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(a);ve(bn,`RPC '${e}' ${c} sending request:`,a),p.send(t,"POST",v,i,15)})}I_(e,t,i){const a=oy(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=fS(),f=dS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const v=l.join("");ve(bn,`Creating RPC '${e}' stream ${a}: ${v}`,m);const b=c.createWebChannel(v,m);this.E_(b);let E=!1,R=!1;const C=new tM({Zo:D=>{R?ve(bn,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(E||(ve(bn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),E=!0),ve(bn,`RPC '${e}' stream ${a} sending:`,D),b.send(D))},Xo:()=>b.close()}),A=(D,j,U)=>{D.listen(j,F=>{try{U(F)}catch(K){setTimeout(()=>{throw K},0)}})};return A(b,ec.EventType.OPEN,()=>{R||(ve(bn,`RPC '${e}' stream ${a} transport opened.`),C.__())}),A(b,ec.EventType.CLOSE,()=>{R||(R=!0,ve(bn,`RPC '${e}' stream ${a} transport closed`),C.u_(),this.d_(b))}),A(b,ec.EventType.ERROR,D=>{R||(R=!0,pl(bn,`RPC '${e}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),C.u_(new ye(ue.UNAVAILABLE,"The operation could not be completed")))}),A(b,ec.EventType.MESSAGE,D=>{var j;if(!R){const U=D.data[0];tt(!!U,16349);const F=U,K=(F==null?void 0:F.error)||((j=F[0])===null||j===void 0?void 0:j.error);if(K){ve(bn,`RPC '${e}' stream ${a} received error:`,K);const Q=K.status;let se=function(k){const L=Vt[k];if(L!==void 0)return $S(L)}(Q),N=K.message;se===void 0&&(se=ue.INTERNAL,N="Unknown error status: "+Q+" with message "+K.message),R=!0,C.u_(new ye(se,N)),b.close()}else ve(bn,`RPC '${e}' stream ${a} received:`,U),C.c_(U)}}),A(f,cS.STAT_EVENT,D=>{D.stat===Qg.PROXY?ve(bn,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===Qg.NOPROXY&&ve(bn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Eg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(n){return new a4(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,t,i=1e3,a=1.5,l=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=a,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),a=Math.max(0,t-i);a>0&&ve("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="PersistentStream";class o1{constructor(e,t,i,a,l,c,f,m){this.xi=e,this.S_=i,this.D_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new a1(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(zi(t.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.v_===t&&this.z_(i,a)},i=>{e(()=>{const a=new ye(ue.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(a)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{i(()=>this.j_(a))}),this.stream.onMessage(a=>{i(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ve(zw,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(ve(zw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rM extends o1{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=u4(this.serializer,e),i=function(l){if(!("targetChange"in l))return Me.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Me.min():c.readTime?Zr(c.readTime):Me.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=sy(this.serializer),t.addTarget=function(l,c){let f;const m=c.target;if(f=ey(m)?{documents:f4(l,m)}:{query:h4(l,m).gt},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=QS(l,c.resumeToken);const p=ny(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Me.min())>0){f.readTime=lh(l,c.snapshotVersion.toTimestamp());const p=ny(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,e);const i=p4(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=sy(this.serializer),t.removeTarget=e,this.Q_(t)}}class iM extends o1{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=d4(e.writeResults,e.commitTime),i=Zr(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=sy(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>c4(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{}class aM extends sM{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new ye(ue.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(e,ry(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(ue.UNKNOWN,l.toString())})}Yo(e,t,i,a,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Yo(e,ry(t,i),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(ue.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class oM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(zi(t),this.ua=!1):ve("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya="RemoteStore";class lM{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(c=>{i.enqueueAndForget(async()=>{to(this)&&(ve(Ya,"Restarting streams for network reachability change."),await async function(m){const p=Pe(m);p.da.add(4),await jc(p),p.Va.set("Unknown"),p.da.delete(4),await Lh(p)}(this))})}),this.Va=new oM(i,a)}}async function Lh(n){if(to(n))for(const e of n.Aa)await e(!0)}async function jc(n){for(const e of n.Aa)await e(!1)}function l1(n,e){const t=Pe(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),cv(t)?uv(t):Pl(t).N_()&&lv(t,e))}function ov(n,e){const t=Pe(n),i=Pl(t);t.Ea.delete(e),i.N_()&&u1(t,e),t.Ea.size===0&&(i.N_()?i.k_():to(t)&&t.Va.set("Unknown"))}function lv(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Pl(n).Z_(e)}function u1(n,e){n.ma.Ke(e),Pl(n).X_(e)}function uv(n){n.ma=new n4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Pl(n).start(),n.Va.ca()}function cv(n){return to(n)&&!Pl(n).O_()&&n.Ea.size>0}function to(n){return Pe(n).da.size===0}function c1(n){n.ma=void 0}async function uM(n){n.Va.set("Online")}async function cM(n){n.Ea.forEach((e,t)=>{lv(n,e)})}async function dM(n,e){c1(n),cv(n)?(n.Va.Pa(e),uv(n)):n.Va.set("Unknown")}async function fM(n,e,t){if(n.Va.set("Online"),e instanceof KS&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ea.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ea.delete(f),a.ma.removeTarget(f))}(n,e)}catch(i){ve(Ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ch(n,i)}else if(e instanceof Uf?n.ma.Xe(e):e instanceof YS?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Me.min()))try{const i=await s1(n.localStore);t.compareTo(i)>=0&&await function(l,c){const f=l.ma.It(c);return f.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ea.get(p);v&&l.Ea.set(p,v.withResumeToken(m.resumeToken,c))}}),f.targetMismatches.forEach((m,p)=>{const v=l.Ea.get(m);if(!v)return;l.Ea.set(m,v.withResumeToken(gn.EMPTY_BYTE_STRING,v.snapshotVersion)),u1(l,m);const b=new Os(v.target,m,p,v.sequenceNumber);lv(l,b)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){ve(Ya,"Failed to raise snapshot:",i),await ch(n,i)}}async function ch(n,e,t){if(!kl(e))throw e;n.da.add(1),await jc(n),n.Va.set("Offline"),t||(t=()=>s1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ve(Ya,"Retrying IndexedDB access"),await t(),n.da.delete(1),await Lh(n)})}function d1(n,e){return e().catch(t=>ch(n,t,e))}async function Uh(n){const e=Pe(n),t=qs(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Yy;for(;hM(e);)try{const a=await K4(e.localStore,i);if(a===null){e.Ia.length===0&&t.k_();break}i=a.batchId,mM(e,a)}catch(a){await ch(e,a)}f1(e)&&h1(e)}function hM(n){return to(n)&&n.Ia.length<10}function mM(n,e){n.Ia.push(e);const t=qs(n);t.N_()&&t.ea&&t.ta(e.mutations)}function f1(n){return to(n)&&!qs(n).O_()&&n.Ia.length>0}function h1(n){qs(n).start()}async function pM(n){qs(n).ia()}async function gM(n){const e=qs(n);for(const t of n.Ia)e.ta(t.mutations)}async function yM(n,e,t){const i=n.Ia.shift(),a=ev.from(i,e,t);await d1(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Uh(n)}async function vM(n,e){e&&qs(n).ea&&await async function(i,a){if(function(c){return e4(c)&&c!==ue.ABORTED}(a.code)){const l=i.Ia.shift();qs(i).L_(),await d1(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Uh(i)}}(n,e),f1(n)&&h1(n)}async function Fw(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),ve(Ya,"RemoteStore received new credentials");const i=to(t);t.da.add(3),await jc(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Lh(t)}async function _M(n,e){const t=Pe(n);e?(t.da.delete(2),await Lh(t)):e||(t.da.add(2),await jc(t),t.Va.set("Unknown"))}function Pl(n){return n.fa||(n.fa=function(t,i,a){const l=Pe(t);return l.oa(),new rM(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:uM.bind(null,n),n_:cM.bind(null,n),i_:dM.bind(null,n),Y_:fM.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),cv(n)?uv(n):n.Va.set("Unknown")):(await n.fa.stop(),c1(n))})),n.fa}function qs(n){return n.ga||(n.ga=function(t,i,a){const l=Pe(t);return l.oa(),new iM(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:pM.bind(null,n),i_:vM.bind(null,n),na:gM.bind(null,n),ra:yM.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await Uh(n)):(await n.ga.stop(),n.Ia.length>0&&(ve(Ya,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,f=new dv(e,t,c,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fv(n,e){if(zi("AsyncQueue",`${e}: ${n}`),kl(n))return new ye(ue.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{static emptySet(e){return new ol(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ae.comparator(t.key,i.key):(t,i)=>Ae.comparator(t.key,i.key),this.keyedMap=tc(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ol)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ol;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(){this.pa=new Et(Ae.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):De(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class bl{constructor(e,t,i,a,l,c,f,m,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new bl(e,t,ol.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class EM{constructor(){this.queries=qw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=Pe(t),l=a.queries;a.queries=qw(),l.forEach((c,f)=>{for(const m of f.Sa)m.onError(i)})})(this,new ye(ue.ABORTED,"Firestore shutting down"))}}function qw(){return new eo(n=>MS(n),Oh)}async function hv(n,e){const t=Pe(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.Da()&&e.va()&&(i=2):(l=new bM,i=e.va()?0:1);try{switch(i){case 0:l.ba=await t.onListen(a,!0);break;case 1:l.ba=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const f=fv(c,`Initialization of query '${el(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.Sa.push(e),e.Fa(t.onlineState),l.ba&&e.Ma(l.ba)&&pv(t)}async function mv(n,e){const t=Pe(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.va()?0:1:!l.Da()&&e.va()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function wM(n,e){const t=Pe(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const f of c.Sa)f.Ma(a)&&(i=!0);c.ba=a}}i&&pv(t)}function TM(n,e,t){const i=Pe(n),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function pv(n){n.Ca.forEach(e=>{e.next()})}var ly,Gw;(Gw=ly||(ly={})).xa="default",Gw.Cache="cache";class gv{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new bl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==ly.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this.key=e}}class p1{constructor(e){this.key=e}}class xM{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=$e(),this.mutatedKeys=$e(),this.Za=PS(e),this.Xa=new ol(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new Hw,a=t?t.Xa:this.Xa;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,b)=>{const E=a.get(v),R=kh(this.query,b)?b:null,C=!!E&&this.mutatedKeys.has(E.key),A=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let D=!1;E&&R?E.data.isEqual(R.data)?C!==A&&(i.track({type:3,doc:R}),D=!0):this.ru(E,R)||(i.track({type:2,doc:R}),D=!0,(m&&this.Za(R,m)>0||p&&this.Za(R,p)<0)&&(f=!0)):!E&&R?(i.track({type:0,doc:R}),D=!0):E&&!R&&(i.track({type:1,doc:E}),D=!0,(m||p)&&(f=!0)),D&&(R?(c=c.add(R),l=A?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{Xa:c,nu:i,Cs:f,mutatedKeys:l}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const c=e.nu.wa();c.sort((v,b)=>function(R,C){const A=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Vt:D})}};return A(R)-A(C)}(v.type,b.type)||this.Za(v.doc,b.doc)),this.iu(i),a=a!=null&&a;const f=t&&!a?this.su():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Ja;return this.Ja=m,c.length!==0||p?{snapshot:new bl(this.query,e.Xa,l,c,e.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:f}:{ou:f}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Hw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=$e(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new p1(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new m1(i))}),t}au(e){this.Ha=e.$s,this.Ya=$e();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return bl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const yv="SyncEngine";class SM{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class AM{constructor(e){this.key=e,this.cu=!1}}class RM{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new eo(f=>MS(f),Oh),this.Pu=new Map,this.Tu=new Set,this.Iu=new Et(Ae.comparator),this.Eu=new Map,this.du=new rv,this.Au={},this.Ru=new Map,this.Vu=_l.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function CM(n,e,t=!0){const i=E1(n);let a;const l=i.hu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.uu()):a=await g1(i,e,t,!0),a}async function IM(n,e){const t=E1(n);await g1(t,e,!0,!1)}async function g1(n,e,t,i){const a=await Q4(n.localStore,Wr(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await NM(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&l1(n.remoteStore,a),f}async function NM(n,e,t,i,a){n.fu=(b,E,R)=>async function(A,D,j,U){let F=D.view.tu(j);F.Cs&&(F=await jw(A.localStore,D.query,!1).then(({documents:N})=>D.view.tu(N,F)));const K=U&&U.targetChanges.get(D.targetId),Q=U&&U.targetMismatches.get(D.targetId)!=null,se=D.view.applyChanges(F,A.isPrimaryClient,K,Q);return Yw(A,D.targetId,se.ou),se.snapshot}(n,b,E,R);const l=await jw(n.localStore,e,!0),c=new xM(e,l.$s),f=c.tu(l.documents),m=Vc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),p=c.applyChanges(f,n.isPrimaryClient,m);Yw(n,t,p.ou);const v=new SM(e,t,c);return n.hu.set(e,v),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),p.snapshot}async function DM(n,e,t){const i=Pe(n),a=i.hu.get(e),l=i.Pu.get(a.targetId);if(l.length>1)return i.Pu.set(a.targetId,l.filter(c=>!Oh(c,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await ay(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&ov(i.remoteStore,a.targetId),uy(i,a.targetId)}).catch(Ol)):(uy(i,a.targetId),await ay(i.localStore,a.targetId,!0))}async function OM(n,e){const t=Pe(n),i=t.hu.get(e),a=t.Pu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),ov(t.remoteStore,i.targetId))}async function kM(n,e,t){const i=BM(n);try{const a=await function(c,f){const m=Pe(c),p=dt.now(),v=f.reduce((R,C)=>R.add(C.key),$e());let b,E;return m.persistence.runTransaction("Locally write mutations","readwrite",R=>{let C=Fi(),A=$e();return m.Bs.getEntries(R,v).next(D=>{C=D,C.forEach((j,U)=>{U.isValidDocument()||(A=A.add(j))})}).next(()=>m.localDocuments.getOverlayedDocuments(R,C)).next(D=>{b=D;const j=[];for(const U of f){const F=Q6(U,b.get(U.key).overlayedDocument);F!=null&&j.push(new Xs(U.key,F,AS(F.value.mapValue),or.exists(!0)))}return m.mutationQueue.addMutationBatch(R,p,j,f)}).next(D=>{E=D;const j=D.applyToLocalDocumentSet(b,A);return m.documentOverlayCache.saveOverlays(R,D.batchId,j)})}).then(()=>({batchId:E.batchId,changes:jS(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,f,m){let p=c.Au[c.currentUser.toKey()];p||(p=new Et(ze)),p=p.insert(f,m),c.Au[c.currentUser.toKey()]=p}(i,a.batchId,t),await Lc(i,a.changes),await Uh(i.remoteStore)}catch(a){const l=fv(a,"Failed to persist write");t.reject(l)}}async function y1(n,e){const t=Pe(n);try{const i=await $4(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Eu.get(l);c&&(tt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.cu=!0:a.modifiedDocuments.size>0?tt(c.cu,14607):a.removedDocuments.size>0&&(tt(c.cu,42227),c.cu=!1))}),await Lc(t,i,e)}catch(i){await Ol(i)}}function $w(n,e,t){const i=Pe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.hu.forEach((l,c)=>{const f=c.view.Fa(e);f.snapshot&&a.push(f.snapshot)}),function(c,f){const m=Pe(c);m.onlineState=f;let p=!1;m.queries.forEach((v,b)=>{for(const E of b.Sa)E.Fa(f)&&(p=!0)}),p&&pv(m)}(i.eventManager,e),a.length&&i.lu.Y_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function MM(n,e,t){const i=Pe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Eu.get(e),l=a&&a.key;if(l){let c=new Et(Ae.comparator);c=c.insert(l,wn.newNoDocument(l,Me.min()));const f=$e().add(l),m=new Vh(Me.min(),new Map,new Et(ze),c,f);await y1(i,m),i.Iu=i.Iu.remove(l),i.Eu.delete(e),vv(i)}else await ay(i.localStore,e,!1).then(()=>uy(i,e,t)).catch(Ol)}async function PM(n,e){const t=Pe(n),i=e.batch.batchId;try{const a=await G4(t.localStore,e);_1(t,i,null),v1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Lc(t,a)}catch(a){await Ol(a)}}async function VM(n,e,t){const i=Pe(n);try{const a=await function(c,f){const m=Pe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return m.mutationQueue.lookupMutationBatch(p,f).next(b=>(tt(b!==null,37113),v=b.keys(),m.mutationQueue.removeMutationBatch(p,b))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>m.localDocuments.getDocuments(p,v))})}(i.localStore,e);_1(i,e,t),v1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Lc(i,a)}catch(a){await Ol(a)}}function v1(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function _1(n,e,t){const i=Pe(n);let a=i.Au[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Au[i.currentUser.toKey()]=a}}function uy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||b1(n,i)})}function b1(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(ov(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),vv(n))}function Yw(n,e,t){for(const i of t)i instanceof m1?(n.du.addReference(i.key,e),jM(n,i)):i instanceof p1?(ve(yv,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||b1(n,i.key)):De(19791,{pu:i})}function jM(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(ve(yv,"New document in limbo: "+t),n.Tu.add(i),vv(n))}function vv(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new Ae(gt.fromString(e)),i=n.Vu.next();n.Eu.set(i,new AM(t)),n.Iu=n.Iu.insert(t,i),l1(n.remoteStore,new Os(Wr(Dh(t.path)),i,"TargetPurposeLimboResolution",Ch.le))}}async function Lc(n,e,t){const i=Pe(n),a=[],l=[],c=[];i.hu.isEmpty()||(i.hu.forEach((f,m)=>{c.push(i.fu(m,e,t).then(p=>{var v;if((p||t)&&i.isPrimaryClient){const b=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(m.targetId,b?"current":"not-current")}if(p){a.push(p);const b=sv.Rs(m.targetId,p);l.push(b)}}))}),await Promise.all(c),i.lu.Y_(a),await async function(m,p){const v=Pe(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>de.forEach(p,E=>de.forEach(E.ds,R=>v.persistence.referenceDelegate.addReference(b,E.targetId,R)).next(()=>de.forEach(E.As,R=>v.persistence.referenceDelegate.removeReference(b,E.targetId,R)))))}catch(b){if(!kl(b))throw b;ve(av,"Failed to update sequence numbers: "+b)}for(const b of p){const E=b.targetId;if(!b.fromCache){const R=v.xs.get(E),C=R.snapshotVersion,A=R.withLastLimboFreeSnapshotVersion(C);v.xs=v.xs.insert(E,A)}}}(i.localStore,l))}async function LM(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){ve(yv,"User change. New user:",e.toKey());const i=await i1(t.localStore,e);t.currentUser=e,function(l,c){l.Ru.forEach(f=>{f.forEach(m=>{m.reject(new ye(ue.CANCELLED,c))})}),l.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Lc(t,i.ks)}}function UM(n,e){const t=Pe(n),i=t.Eu.get(e);if(i&&i.cu)return $e().add(i.key);{let a=$e();const l=t.Pu.get(e);if(!l)return a;for(const c of l){const f=t.hu.get(c);a=a.unionWith(f.view.eu)}return a}}function E1(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=y1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MM.bind(null,e),e.lu.Y_=wM.bind(null,e.eventManager),e.lu.gu=TM.bind(null,e.eventManager),e}function BM(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VM.bind(null,e),e}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return q4(this.persistence,new z4,e.initialUser,this.serializer)}Su(e){return new r1(iv.fi,this.serializer)}bu(e){return new W4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class zM extends dh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){tt(this.persistence.referenceDelegate instanceof uh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new A4(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new r1(i=>uh.fi(i,t),this.serializer)}}class cy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>$w(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=LM.bind(null,this.syncEngine),await _M(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new EM}()}createDatastore(e){const t=jh(e.databaseInfo.databaseId),i=function(l){return new nM(l)}(e.databaseInfo);return function(l,c,f,m){return new aM(l,c,f,m)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,f){return new lM(i,a,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>$w(this.syncEngine,t,0),function(){return Bw.C()?new Bw:new Z4}())}createSyncEngine(e,t){return function(a,l,c,f,m,p,v){const b=new RM(a,l,c,f,m,p);return v&&(b.mu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Pe(a);ve(Ya,"RemoteStore shutting down."),l.da.add(5),await jc(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}cy.provider={build:()=>new cy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):zi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="FirestoreClient";class FM{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=En.UNAUTHENTICATED,this.clientId=gS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{ve(Gs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ve(Gs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=fv(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function wg(n,e){n.asyncQueue.verifyOperationInProgress(),ve(Gs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await i1(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Kw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await HM(n);ve(Gs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Fw(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>Fw(e.remoteStore,a)),n._onlineComponents=e}async function HM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ve(Gs,"Using user provided OfflineComponentProvider");try{await wg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ue.FAILED_PRECONDITION||a.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;pl("Error using user provided cache. Falling back to memory cache: "+t),await wg(n,new dh)}}else ve(Gs,"Using default OfflineComponentProvider"),await wg(n,new zM(void 0));return n._offlineComponents}async function w1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ve(Gs,"Using user provided OnlineComponentProvider"),await Kw(n,n._uninitializedComponentsProvider._online)):(ve(Gs,"Using default OnlineComponentProvider"),await Kw(n,new cy))),n._onlineComponents}function qM(n){return w1(n).then(e=>e.syncEngine)}async function fh(n){const e=await w1(n),t=e.eventManager;return t.onListen=CM.bind(null,e.syncEngine),t.onUnlisten=DM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=IM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=OM.bind(null,e.syncEngine),t}function GM(n,e,t={}){const i=new Pi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,p){const v=new _v({next:E=>{v.xu(),c.enqueueAndForget(()=>mv(l,b));const R=E.docs.has(f);!R&&E.fromCache?p.reject(new ye(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&E.fromCache&&m&&m.source==="server"?p.reject(new ye(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),b=new gv(Dh(f.path),v,{includeMetadataChanges:!0,Qa:!0});return hv(l,b)}(await fh(n),n.asyncQueue,e,t,i)),i.promise}function $M(n,e,t={}){const i=new Pi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,p){const v=new _v({next:E=>{v.xu(),c.enqueueAndForget(()=>mv(l,b)),E.fromCache&&m.source==="server"?p.reject(new ye(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),b=new gv(f,v,{includeMetadataChanges:!0,Qa:!0});return hv(l,b)}(await fh(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(n,e,t){if(!t)throw new ye(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function YM(n,e,t,i){if(e===!0&&i===!0)throw new ye(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Xw(n){if(!Ae.isDocumentKey(n))throw new ye(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ww(n){if(Ae.isDocumentKey(n))throw new ye(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Bh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":De(12329,{type:typeof n})}function Pn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ye(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Bh(n);throw new ye(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function KM(n,e){if(e<=0)throw new ye(ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="firestore.googleapis.com",Zw=!0;class Jw{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=S1,this.ssl=Zw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Zw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=n1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<x4)throw new ye(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=T1((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ye(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ye(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ye(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zh{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new t6;switch(i.type){case"firstParty":return new s6(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ye(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Qw.get(t);i&&(ve("ComponentProvider","Removing Datastore"),Qw.delete(t),i.terminate())}(this),Promise.resolve()}}function QM(n,e,t,i={}){var a;n=Pn(n,zh);const l=Cl(e),c=n._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),m=`${e}:${t}`;l&&(_x(`https://${m}`),bx("Firestore",!0)),c.host!==S1&&c.host!==m&&pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:i});if(!Fa(p,f)&&(n._setSettings(p),i.mockUserToken)){let v,b;if(typeof i.mockUserToken=="string")v=i.mockUserToken,b=En.MOCK_USER;else{v=c3(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new ye(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new En(E)}n._authCredentials=new n6(new mS(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Qi(this.firestore,e,this._query)}}class Tn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class js extends Qi{constructor(e,t,i){super(e,t,Dh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new Ae(e))}withConverter(e){return new js(this.firestore,e,this._path)}}function an(n,e,...t){if(n=zt(n),x1("collection","path",e),n instanceof zh){const i=gt.fromString(e,...t);return Ww(i),new js(n,null,i)}{if(!(n instanceof Tn||n instanceof js))throw new ye(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(gt.fromString(e,...t));return Ww(i),new js(n.firestore,null,i)}}function Jr(n,e,...t){if(n=zt(n),arguments.length===1&&(e=gS.newId()),x1("doc","path",e),n instanceof zh){const i=gt.fromString(e,...t);return Xw(i),new Tn(n,null,new Ae(i))}{if(!(n instanceof Tn||n instanceof js))throw new ye(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(gt.fromString(e,...t));return Xw(i),new Tn(n.firestore,n instanceof js?n.converter:null,new Ae(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="AsyncQueue";class tT{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new a1(this,"async_queue_retry"),this.rc=()=>{const i=Eg();i&&ve(eT,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=Eg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Eg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Pi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!kl(e))throw e;ve(eT,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,zi("INTERNAL UNHANDLED ERROR: ",nT(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const a=dv.createAndSchedule(this,e,t,i,l=>this.uc(l));return this.Zu.push(a),a}oc(){this.Xu&&De(47125,{cc:nT(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function nT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1}(n,["next","error","complete"])}class Hi extends zh{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new tT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tT(e),this._firestoreClient=void 0,await e}}}function XM(n,e){const t=typeof n=="object"?n:xx(),i=typeof n=="string"?n:nh,a=jy(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=l3("firestore");l&&QM(a,...l)}return a}function Fh(n){if(n._terminated)throw new ye(ue.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||WM(n),n._firestoreClient}function WM(n){var e,t,i;const a=n._freezeSettings(),l=function(f,m,p,v){return new b6(f,m,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,T1(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new FM(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this._byteString=e}static fromBase64String(e){try{return new El(gn.fromBase64String(e))}catch(t){throw new ye(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new El(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=/^__.*__$/;class JM{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pc(e,this.data,t,this.fieldTransforms)}}class A1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Xs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function R1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ic:n})}}class Tv{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Tv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Vc(e),a}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return hh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(R1(this.Ic)&&ZM.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class eP{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||jh(e)}bc(e,t,i,a=!1){return new Tv({Ic:e,methodName:t,wc:i,path:mn.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qh(n){const e=n._freezeSettings(),t=jh(n._databaseId);return new eP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function C1(n,e,t,i,a,l={}){const c=n.bc(l.merge||l.mergeFields?2:0,e,t,a);xv("Data must be an object, but it was:",c,i);const f=I1(i,c);let m,p;if(l.merge)m=new $n(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const E=dy(e,b,t);if(!c.contains(E))throw new ye(ue.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);D1(v,E)||v.push(E)}m=new $n(v),p=c.fieldTransforms.filter(b=>m.covers(b.field))}else m=null,p=c.fieldTransforms;return new JM(new Mn(f),m,p)}class Gh extends bv{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gh}}function tP(n,e,t,i){const a=n.bc(1,e,t);xv("Data must be an object, but it was:",a,i);const l=[],c=Mn.empty();Qs(i,(m,p)=>{const v=Sv(e,m,t);p=zt(p);const b=a.mc(v);if(p instanceof Gh)l.push(v);else{const E=Uc(p,b);E!=null&&(l.push(v),c.set(v,E))}});const f=new $n(l);return new A1(c,f,a.fieldTransforms)}function nP(n,e,t,i,a,l){const c=n.bc(1,e,t),f=[dy(e,i,t)],m=[a];if(l.length%2!=0)throw new ye(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)f.push(dy(e,l[E])),m.push(l[E+1]);const p=[],v=Mn.empty();for(let E=f.length-1;E>=0;--E)if(!D1(p,f[E])){const R=f[E];let C=m[E];C=zt(C);const A=c.mc(R);if(C instanceof Gh)p.push(R);else{const D=Uc(C,A);D!=null&&(p.push(R),v.set(R,D))}}const b=new $n(p);return new A1(v,b,c.fieldTransforms)}function rP(n,e,t,i=!1){return Uc(t,n.bc(i?4:3,e))}function Uc(n,e){if(N1(n=zt(n)))return xv("Unsupported field value:",e,n),I1(n,e);if(n instanceof bv)return function(i,a){if(!R1(a.Ic))throw a.gc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const f of i){let m=Uc(f,a.fc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=zt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return H6(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=dt.fromDate(i);return{timestampValue:lh(a.serializer,l)}}if(i instanceof dt){const l=new dt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:lh(a.serializer,l)}}if(i instanceof Ev)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof El)return{bytesValue:QS(a.serializer,i._byteString)};if(i instanceof Tn){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:nv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof wv)return function(c,f){return{mapValue:{fields:{[xS]:{stringValue:SS},[rh]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw f.gc("VectorValues must only contain numeric values.");return Zy(f.serializer,p)})}}}}}}(i,a);throw a.gc(`Unsupported field value: ${Bh(i)}`)}(n,e)}function I1(n,e){const t={};return vS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(n,(i,a)=>{const l=Uc(a,e.Ac(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function N1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof dt||n instanceof Ev||n instanceof El||n instanceof Tn||n instanceof bv||n instanceof wv)}function xv(n,e,t){if(!N1(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=Bh(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function dy(n,e,t){if((e=zt(e))instanceof Hh)return e._internalPath;if(typeof e=="string")return Sv(n,e);throw hh("Field path arguments must be of type string or ",n,!1,void 0,t)}const iP=new RegExp("[~\\*/\\[\\]]");function Sv(n,e,t){if(e.search(iP)>=0)throw hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Hh(...e.split("."))._internalPath}catch{throw hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function hh(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new ye(ue.INVALID_ARGUMENT,f+n+m)}function D1(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($h("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class sP extends O1{data(){return super.data()}}function $h(n,e){return typeof e=="string"?Sv(n,e):e instanceof Hh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ye(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Av{}class Rv extends Av{}function Vi(n,e,...t){let i=[];e instanceof Av&&i.push(e),i=i.concat(t),function(l){const c=l.filter(m=>m instanceof Cv).length,f=l.filter(m=>m instanceof Yh).length;if(c>1||c>0&&f>0)throw new ye(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class Yh extends Rv{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Yh(e,t,i)}_apply(e){const t=this._parse(e);return P1(e._query,t),new Qi(e.firestore,e.converter,ty(e._query,t))}_parse(e){const t=qh(e.firestore);return function(l,c,f,m,p,v,b){let E;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ye(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){sT(b,v);const C=[];for(const A of b)C.push(iT(m,l,A));E={arrayValue:{values:C}}}else E=iT(m,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||sT(b,v),E=rP(f,c,b,v==="in"||v==="not-in");return jt.create(p,v,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ll(n,e,t){const i=e,a=$h("where",n);return Yh._create(a,i,t)}class Cv extends Av{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Cv(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Tr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)P1(c,m),c=ty(c,m)}(e._query,t),new Qi(e.firestore,e.converter,ty(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Iv extends Rv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Iv(e,t)}_apply(e){const t=function(a,l,c){if(a.startAt!==null)throw new ye(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ye(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bc(l,c)}(e._query,this._field,this._direction);return new Qi(e.firestore,e.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new Ml(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function Ka(n,e="asc"){const t=e,i=$h("orderBy",n);return Iv._create(i,t)}class Nv extends Rv{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Nv(e,t,i)}_apply(e){return new Qi(e.firestore,e.converter,sh(e._query,this._limit,this._limitType))}}function M1(n){return KM("limit",n),Nv._create("limit",n,"F")}function iT(n,e,t){if(typeof(t=zt(t))=="string"){if(t==="")throw new ye(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kS(e)&&t.indexOf("/")!==-1)throw new ye(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(gt.fromString(t));if(!Ae.isDocumentKey(i))throw new ye(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return vw(n,new Ae(i))}if(t instanceof Tn)return vw(n,t._key);throw new ye(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bh(t)}.`)}function sT(n,e){if(!Array.isArray(n)||n.length===0)throw new ye(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function P1(n,e){const t=function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ye(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class aP{convertValue(e,t="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Qs(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[rh].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>Nt(c.doubleValue));return new wv(l)}convertGeoPoint(e){return new Ev(Nt(e.latitude),Nt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Nh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(yc(e));default:return null}}convertTimestamp(e){const t=zs(e);return new dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=gt.fromString(e);tt(t1(i),9688,{name:e});const a=new vc(i.get(1),i.get(3)),l=new Ae(i.popFirst(5));return a.isEqual(t)||zi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class j1 extends O1{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field($h("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Bf extends j1{data(e={}){return super.data(e)}}class L1{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new rc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Bf(this._firestore,this._userDataWriter,i.key,i,new rc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const m=new Bf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new rc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const m=new Bf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new rc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:oP(f.type),doc:m,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function oP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(n){n=Pn(n,Tn);const e=Pn(n.firestore,Hi);return GM(Fh(e),n._key).then(t=>U1(e,n,t))}class Dv extends aP{constructor(e){super(),this.firestore=e}convertBytes(e){return new El(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,t)}}function lr(n){n=Pn(n,Qi);const e=Pn(n.firestore,Hi),t=Fh(e),i=new Dv(e);return k1(n._query),$M(t,n._query).then(a=>new L1(e,i,n,a))}function uP(n,e,t){n=Pn(n,Tn);const i=Pn(n.firestore,Hi),a=V1(n.converter,e);return Kh(i,[C1(qh(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,or.none())])}function mh(n,e,t,...i){n=Pn(n,Tn);const a=Pn(n.firestore,Hi),l=qh(a);let c;return c=typeof(e=zt(e))=="string"||e instanceof Hh?nP(l,"updateDoc",n._key,e,t,i):tP(l,"updateDoc",n._key,e),Kh(a,[c.toMutation(n._key,or.exists(!0))])}function Ov(n){return Kh(Pn(n.firestore,Hi),[new Jy(n._key,or.none())])}function Ls(n,e){const t=Pn(n.firestore,Hi),i=Jr(n),a=V1(n.converter,e);return Kh(t,[C1(qh(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,or.exists(!1))]).then(()=>i)}function cP(n,...e){var t,i,a;n=zt(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||rT(e[c])||(l=e[c],c++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(rT(e[c])){const b=e[c];e[c]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[c+1]=(i=b.error)===null||i===void 0?void 0:i.bind(b),e[c+2]=(a=b.complete)===null||a===void 0?void 0:a.bind(b)}let m,p,v;if(n instanceof Tn)p=Pn(n.firestore,Hi),v=Dh(n._key.path),m={next:b=>{e[c]&&e[c](U1(p,n,b))},error:e[c+1],complete:e[c+2]};else{const b=Pn(n,Qi);p=Pn(b.firestore,Hi),v=b._query;const E=new Dv(p);m={next:R=>{e[c]&&e[c](new L1(p,E,b,R))},error:e[c+1],complete:e[c+2]},k1(n._query)}return function(E,R,C,A){const D=new _v(A),j=new gv(R,D,C);return E.asyncQueue.enqueueAndForget(async()=>hv(await fh(E),j)),()=>{D.xu(),E.asyncQueue.enqueueAndForget(async()=>mv(await fh(E),j))}}(Fh(p),v,f,m)}function Kh(n,e){return function(i,a){const l=new Pi;return i.asyncQueue.enqueueAndForget(async()=>kM(await qM(i),a,l)),l.promise}(Fh(n),e)}function U1(n,e,t){const i=t.docs.get(e._key),a=new Dv(n);return new j1(n,a,e._key,i,new rc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Dl=a})(Il),hl(new Ha("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new Hi(new r6(i.getProvider("auth-internal")),new a6(c,i.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ye(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vc(p.options.projectId,v)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Ps(aw,ow,e),Ps(aw,ow,"esm2017")})();var dP="firebase",fP="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ps(dP,fP,"app");const hP={apiKey:"AIzaSyBWOaRM6RgB2B63wqHfawl7dMBU2uTMPbI",authDomain:"billybilly-8f5a5.firebaseapp.com",projectId:"billybilly-8f5a5",storageBucket:"billybilly-8f5a5.firebasestorage.app",messagingSenderId:"667395219625",appId:"1:667395219625:web:da57f0bb7b1319838349b8"},B1=Tx(hP),wf=Jk(B1),ht=XM(B1),z1=x.createContext();function Rr(){return x.useContext(z1)}function mP({children:n}){const[e,t]=x.useState(null),[i,a]=x.useState(!0),[l,c]=x.useState(null);function f(E,R,C){return PO(wf,E,R).then(async A=>{await LO(A.user,{displayName:C}),await uP(Jr(ht,"users",A.user.uid),{email:A.user.email,displayName:C,createdAt:new Date,preferences:{currency:"CNY",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}});const D=await Ls(an(ht,"ledgers"),{name:"Personal Expenses",ownerId:A.user.uid,createdAt:new Date,members:{[A.user.uid]:"owner"},currency:"CNY"});return c(D.id),A})}function m(E,R){return VO(wf,E,R)}function p(){return c(null),FO(wf)}function v(E){c(E)}x.useEffect(()=>zO(wf,async R=>{R?t(R):(t(null),c(null)),a(!1)}),[l]);const b={currentUser:e,currentLedger:l,signup:f,login:m,logout:p,switchLedger:v};return y.jsx(z1.Provider,{value:b,children:!i&&n})}const F1=x.createContext();function Bc(){return x.useContext(F1)}function pP({children:n}){const{currentUser:e}=Rr(),[t,i]=x.useState([]),[a,l]=x.useState(null),[c,f]=x.useState(!0),m=async()=>{if(!e){i([]),l(null),f(!1);return}try{const C=an(ht,"ledgers"),A=await lr(C),D=[];A.forEach(j=>{const U=j.data();U.members&&U.members[e.uid]&&D.push({id:j.id,...U})}),i(D),D.length>0&&!a&&l(D[0])}catch(C){console.error("Error fetching ledgers:",C)}finally{f(!1)}},p=async C=>{try{const A=await lP(Jr(ht,"ledgers",C));if(A.exists()){const D={id:A.id,...A.data()};l(D)}}catch(A){console.error("Error switching ledger:",A)}},v=()=>!a||!e?null:a.members[e.uid]||null,b=()=>v()==="owner",E=()=>{const C=v();return C==="owner"||C==="member"};x.useEffect(()=>{m()},[e]);const R={ledgers:t,currentLedger:a,loading:c,switchLedger:p,fetchLedgers:m,getUserRole:v,isOwner:b,canEdit:E};return y.jsx(F1.Provider,{value:R,children:n})}function Ma({children:n}){const{currentUser:e}=Rr();return e?n:y.jsx(kg,{to:"/login"})}function pn({className:n,type:e,...t}){return y.jsx("input",{type:e,"data-slot":"input",className:Bt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var gP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mt=gP.reduce((n,e)=>{const t=fc(`Primitive.${e}`),i=x.forwardRef((a,l)=>{const{asChild:c,...f}=a,m=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(m,{...f,ref:l})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function yP(n,e){n&&Rc.flushSync(()=>n.dispatchEvent(e))}var vP="Label",H1=x.forwardRef((n,e)=>y.jsx(mt.label,{...n,ref:e,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||((a=n.onMouseDown)==null||a.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));H1.displayName=vP;var _P=H1;function st({className:n,...e}){return y.jsx(_P,{"data-slot":"label",className:Bt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}const bP=Oy("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function vr({className:n,variant:e,...t}){return y.jsx("div",{"data-slot":"alert",role:"alert",className:Bt(bP({variant:e}),n),...t})}function _r({className:n,...e}){return y.jsx("div",{"data-slot":"alert-description",className:Bt("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}function EP(){const[n,e]=x.useState(""),[t,i]=x.useState(""),[a,l]=x.useState(!1),[c,f]=x.useState(""),[m,p]=x.useState(!1),{login:v}=Rr(),b=wh();async function E(R){R.preventDefault();try{f(""),p(!0),await v(n,t),b("/")}catch(C){f("Failed to log in: "+C.message)}p(!1)}return y.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"max-w-md w-full space-y-8",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"flex justify-center",children:y.jsx(fl,{className:"h-12 w-12 text-blue-600"})}),y.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Sign in to ExpenseTracker"}),y.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",y.jsx(dl,{to:"/signup",className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]}),y.jsxs(Lt,{children:[y.jsxs(rn,{children:[y.jsx(sn,{children:"Welcome back"}),y.jsx(Er,{children:"Enter your credentials to access your account"})]}),y.jsxs(Ut,{children:[c&&y.jsx(vr,{className:"mb-4",variant:"destructive",children:y.jsx(_r,{children:c})}),y.jsxs("form",{onSubmit:E,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx(st,{htmlFor:"email",children:"Email address"}),y.jsx(pn,{id:"email",type:"email",value:n,onChange:R=>e(R.target.value),required:!0,className:"mt-1",placeholder:"Enter your email"})]}),y.jsxs("div",{children:[y.jsx(st,{htmlFor:"password",children:"Password"}),y.jsxs("div",{className:"relative mt-1",children:[y.jsx(pn,{id:"password",type:a?"text":"password",value:t,onChange:R=>i(R.target.value),required:!0,placeholder:"Enter your password"}),y.jsx(Ye,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!a),children:a?y.jsx(Lg,{className:"h-4 w-4"}):y.jsx(Ug,{className:"h-4 w-4"})})]})]}),y.jsx(Ye,{type:"submit",className:"w-full",disabled:m,children:m?"Signing in...":"Sign in"})]})]})]})]})})}function wP(){const[n,e]=x.useState(""),[t,i]=x.useState(""),[a,l]=x.useState(""),[c,f]=x.useState(""),[m,p]=x.useState(!1),[v,b]=x.useState(!1),[E,R]=x.useState(""),[C,A]=x.useState(!1),{signup:D}=Rr(),j=wh();async function U(F){if(F.preventDefault(),t!==a)return R("Passwords do not match");if(t.length<6)return R("Password must be at least 6 characters");try{R(""),A(!0),await D(n,t,c),j("/")}catch(K){R("Failed to create an account: "+K.message)}A(!1)}return y.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"max-w-md w-full space-y-8",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"flex justify-center",children:y.jsx(fl,{className:"h-12 w-12 text-blue-600"})}),y.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Create your account"}),y.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",y.jsx(dl,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"sign in to your existing account"})]})]}),y.jsxs(Lt,{children:[y.jsxs(rn,{children:[y.jsx(sn,{children:"Get started"}),y.jsx(Er,{children:"Create your account to start tracking expenses"})]}),y.jsxs(Ut,{children:[E&&y.jsx(vr,{className:"mb-4",variant:"destructive",children:y.jsx(_r,{children:E})}),y.jsxs("form",{onSubmit:U,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx(st,{htmlFor:"displayName",children:"Full Name"}),y.jsx(pn,{id:"displayName",type:"text",value:c,onChange:F=>f(F.target.value),required:!0,className:"mt-1",placeholder:"Enter your full name"})]}),y.jsxs("div",{children:[y.jsx(st,{htmlFor:"email",children:"Email address"}),y.jsx(pn,{id:"email",type:"email",value:n,onChange:F=>e(F.target.value),required:!0,className:"mt-1",placeholder:"Enter your email"})]}),y.jsxs("div",{children:[y.jsx(st,{htmlFor:"password",children:"Password"}),y.jsxs("div",{className:"relative mt-1",children:[y.jsx(pn,{id:"password",type:m?"text":"password",value:t,onChange:F=>i(F.target.value),required:!0,placeholder:"Create a password"}),y.jsx(Ye,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>p(!m),children:m?y.jsx(Lg,{className:"h-4 w-4"}):y.jsx(Ug,{className:"h-4 w-4"})})]})]}),y.jsxs("div",{children:[y.jsx(st,{htmlFor:"confirmPassword",children:"Confirm Password"}),y.jsxs("div",{className:"relative mt-1",children:[y.jsx(pn,{id:"confirmPassword",type:v?"text":"password",value:a,onChange:F=>l(F.target.value),required:!0,placeholder:"Confirm your password"}),y.jsx(Ye,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>b(!v),children:v?y.jsx(Lg,{className:"h-4 w-4"}):y.jsx(Ug,{className:"h-4 w-4"})})]})]}),y.jsx(Ye,{type:"submit",className:"w-full",disabled:C,children:C?"Creating account...":"Create account"})]})]})]})]})})}function TP(n){const[e,t]=x.useState(Date.now());return x.useEffect(()=>{if(!n)return;const i=an(ht,"ledgers",n,"transactions"),a=Vi(i,Ka("createdAt","desc"),M1(1)),l=cP(a,c=>{c.empty||t(Date.now())});return()=>l()},[n]),e}function xP(){var m;const{currentUser:n}=Rr(),{currentLedger:e}=Bc(),t=TP(e==null?void 0:e.id),[i,a]=x.useState({totalBalance:0,monthlySpending:0,budgetRemaining:0,recentTransactions:[],loading:!0}),l=async()=>{if(!e){a(p=>({...p,loading:!1}));return}try{const p=new Date,v=new Date(p.getFullYear(),p.getMonth(),1),b=new Date(p.getFullYear(),p.getMonth()+1,0),E=an(ht,"ledgers",e.id,"transactions"),R=Vi(E,Ka("date","desc"),M1(5)),C=await lr(R),A=[];C.forEach(k=>{var M;const L=k.data();A.push({id:k.id,...L,date:((M=L.date)==null?void 0:M.toDate())||new Date})});const D=Vi(E,Ka("date","desc")),j=await lr(D);let U=0,F=0;j.forEach(k=>{var P;const L=k.data(),M=((P=L.date)==null?void 0:P.toDate())||new Date,V=L.amount||0;L.type==="income"?U+=V:(U-=V,M>=v&&M<=b&&(F+=V))});const K=an(ht,"ledgers",e.id,"budgets"),Q=Vi(K,ll("startDate","<=",dt.fromDate(p)),ll("endDate",">=",dt.fromDate(p))),se=await lr(Q);let N=0;se.forEach(k=>{const L=k.data();N+=L.totalAmount||0});const S=N-F;a({totalBalance:U,monthlySpending:F,budgetRemaining:S,recentTransactions:A,loading:!1})}catch(p){console.error("Error calculating dashboard stats:",p),a(v=>({...v,loading:!1}))}};x.useEffect(()=>{l()},[e,t]);const c=p=>new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY"}).format(p),f=p=>{const b=Math.abs(new Date-p),E=Math.ceil(b/(1e3*60*60*24));return E===1?"Today":E===2?"Yesterday":E<=7?`${E-1} days ago`:p.toLocaleDateString()};return i.loading?y.jsx("div",{className:"p-6",children:y.jsxs("div",{className:"animate-pulse space-y-6",children:[y.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(p=>y.jsx("div",{className:"h-32 bg-gray-200 rounded"},p))}),y.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),y.jsxs(za,{variant:"secondary",className:"text-sm",children:["Welcome back, ",(n==null?void 0:n.displayName)||((m=n==null?void 0:n.email)==null?void 0:m.split("@")[0])||"User","!"]})]}),e&&y.jsxs("div",{className:"text-sm text-gray-600",children:["Current Ledger: ",y.jsx("span",{className:"font-medium",children:e.name})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsxs(Lt,{children:[y.jsxs(rn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[y.jsx(sn,{className:"text-sm font-medium",children:"Total Balance"}),y.jsx(fl,{className:"h-4 w-4 text-muted-foreground"})]}),y.jsxs(Ut,{children:[y.jsx("div",{className:`text-2xl font-bold ${i.totalBalance>=0?"text-green-600":"text-red-600"}`,children:c(i.totalBalance)}),y.jsx("p",{className:"text-xs text-muted-foreground",children:"All time balance"})]})]}),y.jsxs(Lt,{children:[y.jsxs(rn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[y.jsx(sn,{className:"text-sm font-medium",children:"Monthly Spending"}),y.jsx(QN,{className:"h-4 w-4 text-muted-foreground"})]}),y.jsxs(Ut,{children:[y.jsx("div",{className:"text-2xl font-bold text-red-600",children:c(i.monthlySpending)}),y.jsx("p",{className:"text-xs text-muted-foreground",children:"This month's expenses"})]})]}),y.jsxs(Lt,{children:[y.jsxs(rn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[y.jsx(sn,{className:"text-sm font-medium",children:"Budget Remaining"}),y.jsx(ox,{className:"h-4 w-4 text-muted-foreground"})]}),y.jsxs(Ut,{children:[y.jsx("div",{className:`text-2xl font-bold ${i.budgetRemaining>=0?"text-green-600":"text-red-600"}`,children:c(i.budgetRemaining)}),y.jsx("p",{className:"text-xs text-muted-foreground",children:i.budgetRemaining>=0?"Remaining this month":"Over budget"})]})]})]}),y.jsxs(Lt,{children:[y.jsxs(rn,{children:[y.jsx(sn,{children:"Recent Transactions"}),y.jsx(Er,{children:"Your latest financial activity"})]}),y.jsx(Ut,{children:i.recentTransactions.length===0?y.jsxs("div",{className:"text-center py-8 text-gray-500",children:[y.jsx(fl,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),y.jsx("p",{children:"No transactions yet"}),y.jsx("p",{className:"text-sm",children:"Add your first transaction to get started"})]}):y.jsx("div",{className:"space-y-4",children:i.recentTransactions.map(p=>y.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"font-medium text-gray-900",children:p.description}),y.jsxs("p",{className:"text-sm text-gray-500",children:[p.paymentMethod," • ",f(p.date)]})]}),y.jsxs("div",{className:`font-semibold ${p.type==="income"?"text-green-600":"text-red-600"}`,children:[p.type==="income"?"+":"-",c(p.amount)]})]},p.id))})})]})]})}function aT(n,[e,t]){return Math.min(t,Math.max(e,n))}function St(n,e,{checkForDefaultPrevented:t=!0}={}){return function(a){if(n==null||n(a),t===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function zc(n,e=[]){let t=[];function i(l,c){const f=x.createContext(c),m=t.length;t=[...t,c];const p=b=>{var j;const{scope:E,children:R,...C}=b,A=((j=E==null?void 0:E[n])==null?void 0:j[m])||f,D=x.useMemo(()=>C,Object.values(C));return y.jsx(A.Provider,{value:D,children:R})};p.displayName=l+"Provider";function v(b,E){var A;const R=((A=E==null?void 0:E[n])==null?void 0:A[m])||f,C=x.useContext(R);if(C)return C;if(c!==void 0)return c;throw new Error(`\`${b}\` must be used within \`${l}\``)}return[p,v]}const a=()=>{const l=t.map(c=>x.createContext(c));return function(f){const m=(f==null?void 0:f[n])||l;return x.useMemo(()=>({[`__scope${n}`]:{...f,[n]:m}}),[f,m])}};return a.scopeName=n,[i,SP(a,...e)]}function SP(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const c=i.reduce((f,{useScope:m,scopeName:p})=>{const b=m(l)[`__scope${p}`];return{...f,...b}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}function AP(n){const e=n+"CollectionProvider",[t,i]=zc(e),[a,l]=t(e,{collectionRef:{current:null},itemMap:new Map}),c=A=>{const{scope:D,children:j}=A,U=As.useRef(null),F=As.useRef(new Map).current;return y.jsx(a,{scope:D,itemMap:F,collectionRef:U,children:j})};c.displayName=e;const f=n+"CollectionSlot",m=fc(f),p=As.forwardRef((A,D)=>{const{scope:j,children:U}=A,F=l(f,j),K=Dt(D,F.collectionRef);return y.jsx(m,{ref:K,children:U})});p.displayName=f;const v=n+"CollectionItemSlot",b="data-radix-collection-item",E=fc(v),R=As.forwardRef((A,D)=>{const{scope:j,children:U,...F}=A,K=As.useRef(null),Q=Dt(D,K),se=l(v,j);return As.useEffect(()=>(se.itemMap.set(K,{ref:K,...F}),()=>void se.itemMap.delete(K))),y.jsx(E,{[b]:"",ref:Q,children:U})});R.displayName=v;function C(A){const D=l(n+"CollectionConsumer",A);return As.useCallback(()=>{const U=D.collectionRef.current;if(!U)return[];const F=Array.from(U.querySelectorAll(`[${b}]`));return Array.from(D.itemMap.values()).sort((se,N)=>F.indexOf(se.ref.current)-F.indexOf(N.ref.current))},[D.collectionRef,D.itemMap])}return[{Provider:c,Slot:p,ItemSlot:R},C,i]}var RP=x.createContext(void 0);function CP(n){const e=x.useContext(RP);return n||e||"ltr"}function Qa(n){const e=x.useRef(n);return x.useEffect(()=>{e.current=n}),x.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function IP(n,e=globalThis==null?void 0:globalThis.document){const t=Qa(n);x.useEffect(()=>{const i=a=>{a.key==="Escape"&&t(a)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var NP="DismissableLayer",fy="dismissableLayer.update",DP="dismissableLayer.pointerDownOutside",OP="dismissableLayer.focusOutside",oT,q1=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),G1=x.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:c,onDismiss:f,...m}=n,p=x.useContext(q1),[v,b]=x.useState(null),E=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,R]=x.useState({}),C=Dt(e,N=>b(N)),A=Array.from(p.layers),[D]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),j=A.indexOf(D),U=v?A.indexOf(v):-1,F=p.layersWithOutsidePointerEventsDisabled.size>0,K=U>=j,Q=PP(N=>{const S=N.target,k=[...p.branches].some(L=>L.contains(S));!K||k||(a==null||a(N),c==null||c(N),N.defaultPrevented||f==null||f())},E),se=VP(N=>{const S=N.target;[...p.branches].some(L=>L.contains(S))||(l==null||l(N),c==null||c(N),N.defaultPrevented||f==null||f())},E);return IP(N=>{U===p.layers.size-1&&(i==null||i(N),!N.defaultPrevented&&f&&(N.preventDefault(),f()))},E),x.useEffect(()=>{if(v)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(oT=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),lT(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=oT)}},[v,E,t,p]),x.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),lT())},[v,p]),x.useEffect(()=>{const N=()=>R({});return document.addEventListener(fy,N),()=>document.removeEventListener(fy,N)},[]),y.jsx(mt.div,{...m,ref:C,style:{pointerEvents:F?K?"auto":"none":void 0,...n.style},onFocusCapture:St(n.onFocusCapture,se.onFocusCapture),onBlurCapture:St(n.onBlurCapture,se.onBlurCapture),onPointerDownCapture:St(n.onPointerDownCapture,Q.onPointerDownCapture)})});G1.displayName=NP;var kP="DismissableLayerBranch",MP=x.forwardRef((n,e)=>{const t=x.useContext(q1),i=x.useRef(null),a=Dt(e,i);return x.useEffect(()=>{const l=i.current;if(l)return t.branches.add(l),()=>{t.branches.delete(l)}},[t.branches]),y.jsx(mt.div,{...n,ref:a})});MP.displayName=kP;function PP(n,e=globalThis==null?void 0:globalThis.document){const t=Qa(n),i=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const l=f=>{if(f.target&&!i.current){let m=function(){$1(DP,t,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=m,e.addEventListener("click",a.current,{once:!0})):m()}else e.removeEventListener("click",a.current);i.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",a.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function VP(n,e=globalThis==null?void 0:globalThis.document){const t=Qa(n),i=x.useRef(!1);return x.useEffect(()=>{const a=l=>{l.target&&!i.current&&$1(OP,t,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function lT(){const n=new CustomEvent(fy);document.dispatchEvent(n)}function $1(n,e,t,{discrete:i}){const a=t.originalEvent.target,l=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&a.addEventListener(n,e,{once:!0}),i?yP(a,l):a.dispatchEvent(l)}var Tg=0;function jP(){x.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??uT()),document.body.insertAdjacentElement("beforeend",n[1]??uT()),Tg++,()=>{Tg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Tg--}},[])}function uT(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var xg="focusScope.autoFocusOnMount",Sg="focusScope.autoFocusOnUnmount",cT={bubbles:!1,cancelable:!0},LP="FocusScope",Y1=x.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...c}=n,[f,m]=x.useState(null),p=Qa(a),v=Qa(l),b=x.useRef(null),E=Dt(e,A=>m(A)),R=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(i){let A=function(F){if(R.paused||!f)return;const K=F.target;f.contains(K)?b.current=K:Rs(b.current,{select:!0})},D=function(F){if(R.paused||!f)return;const K=F.relatedTarget;K!==null&&(f.contains(K)||Rs(b.current,{select:!0}))},j=function(F){if(document.activeElement===document.body)for(const Q of F)Q.removedNodes.length>0&&Rs(f)};document.addEventListener("focusin",A),document.addEventListener("focusout",D);const U=new MutationObserver(j);return f&&U.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",D),U.disconnect()}}},[i,f,R.paused]),x.useEffect(()=>{if(f){fT.add(R);const A=document.activeElement;if(!f.contains(A)){const j=new CustomEvent(xg,cT);f.addEventListener(xg,p),f.dispatchEvent(j),j.defaultPrevented||(UP(qP(K1(f)),{select:!0}),document.activeElement===A&&Rs(f))}return()=>{f.removeEventListener(xg,p),setTimeout(()=>{const j=new CustomEvent(Sg,cT);f.addEventListener(Sg,v),f.dispatchEvent(j),j.defaultPrevented||Rs(A??document.body,{select:!0}),f.removeEventListener(Sg,v),fT.remove(R)},0)}}},[f,p,v,R]);const C=x.useCallback(A=>{if(!t&&!i||R.paused)return;const D=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,j=document.activeElement;if(D&&j){const U=A.currentTarget,[F,K]=BP(U);F&&K?!A.shiftKey&&j===K?(A.preventDefault(),t&&Rs(F,{select:!0})):A.shiftKey&&j===F&&(A.preventDefault(),t&&Rs(K,{select:!0})):j===U&&A.preventDefault()}},[t,i,R.paused]);return y.jsx(mt.div,{tabIndex:-1,...c,ref:E,onKeyDown:C})});Y1.displayName=LP;function UP(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(Rs(i,{select:e}),document.activeElement!==t)return}function BP(n){const e=K1(n),t=dT(e,n),i=dT(e.reverse(),n);return[t,i]}function K1(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const a=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||a?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function dT(n,e){for(const t of n)if(!zP(t,{upTo:e}))return t}function zP(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function FP(n){return n instanceof HTMLInputElement&&"select"in n}function Rs(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&FP(n)&&e&&n.select()}}var fT=HP();function HP(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=hT(n,e),n.unshift(e)},remove(e){var t;n=hT(n,e),(t=n[0])==null||t.resume()}}}function hT(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function qP(n){return n.filter(e=>e.tagName!=="A")}var Sn=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},GP=DT[" useId ".trim().toString()]||(()=>{}),$P=0;function kv(n){const[e,t]=x.useState(GP());return Sn(()=>{t(i=>i??String($P++))},[n]),n||(e?`radix-${e}`:"")}const YP=["top","right","bottom","left"],$s=Math.min,Gn=Math.max,ph=Math.round,Tf=Math.floor,ei=n=>({x:n,y:n}),KP={left:"right",right:"left",bottom:"top",top:"bottom"},QP={start:"end",end:"start"};function hy(n,e,t){return Gn(n,$s(e,t))}function qi(n,e){return typeof n=="function"?n(e):n}function Gi(n){return n.split("-")[0]}function Vl(n){return n.split("-")[1]}function Mv(n){return n==="x"?"y":"x"}function Pv(n){return n==="y"?"height":"width"}function ji(n){return["top","bottom"].includes(Gi(n))?"y":"x"}function Vv(n){return Mv(ji(n))}function XP(n,e,t){t===void 0&&(t=!1);const i=Vl(n),a=Vv(n),l=Pv(a);let c=a==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=gh(c)),[c,gh(c)]}function WP(n){const e=gh(n);return[my(n),e,my(e)]}function my(n){return n.replace(/start|end/g,e=>QP[e])}function ZP(n,e,t){const i=["left","right"],a=["right","left"],l=["top","bottom"],c=["bottom","top"];switch(n){case"top":case"bottom":return t?e?a:i:e?i:a;case"left":case"right":return e?l:c;default:return[]}}function JP(n,e,t,i){const a=Vl(n);let l=ZP(Gi(n),t==="start",i);return a&&(l=l.map(c=>c+"-"+a),e&&(l=l.concat(l.map(my)))),l}function gh(n){return n.replace(/left|right|bottom|top/g,e=>KP[e])}function e8(n){return{top:0,right:0,bottom:0,left:0,...n}}function Q1(n){return typeof n!="number"?e8(n):{top:n,right:n,bottom:n,left:n}}function yh(n){const{x:e,y:t,width:i,height:a}=n;return{width:i,height:a,top:t,left:e,right:e+i,bottom:t+a,x:e,y:t}}function mT(n,e,t){let{reference:i,floating:a}=n;const l=ji(e),c=Vv(e),f=Pv(c),m=Gi(e),p=l==="y",v=i.x+i.width/2-a.width/2,b=i.y+i.height/2-a.height/2,E=i[f]/2-a[f]/2;let R;switch(m){case"top":R={x:v,y:i.y-a.height};break;case"bottom":R={x:v,y:i.y+i.height};break;case"right":R={x:i.x+i.width,y:b};break;case"left":R={x:i.x-a.width,y:b};break;default:R={x:i.x,y:i.y}}switch(Vl(e)){case"start":R[c]-=E*(t&&p?-1:1);break;case"end":R[c]+=E*(t&&p?-1:1);break}return R}const t8=async(n,e,t)=>{const{placement:i="bottom",strategy:a="absolute",middleware:l=[],platform:c}=t,f=l.filter(Boolean),m=await(c.isRTL==null?void 0:c.isRTL(e));let p=await c.getElementRects({reference:n,floating:e,strategy:a}),{x:v,y:b}=mT(p,i,m),E=i,R={},C=0;for(let A=0;A<f.length;A++){const{name:D,fn:j}=f[A],{x:U,y:F,data:K,reset:Q}=await j({x:v,y:b,initialPlacement:i,placement:E,strategy:a,middlewareData:R,rects:p,platform:c,elements:{reference:n,floating:e}});v=U??v,b=F??b,R={...R,[D]:{...R[D],...K}},Q&&C<=50&&(C++,typeof Q=="object"&&(Q.placement&&(E=Q.placement),Q.rects&&(p=Q.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:a}):Q.rects),{x:v,y:b}=mT(p,E,m)),A=-1)}return{x:v,y:b,placement:E,strategy:a,middlewareData:R}};async function Tc(n,e){var t;e===void 0&&(e={});const{x:i,y:a,platform:l,rects:c,elements:f,strategy:m}=n,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:b="floating",altBoundary:E=!1,padding:R=0}=qi(e,n),C=Q1(R),D=f[E?b==="floating"?"reference":"floating":b],j=yh(await l.getClippingRect({element:(t=await(l.isElement==null?void 0:l.isElement(D)))==null||t?D:D.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:p,rootBoundary:v,strategy:m})),U=b==="floating"?{x:i,y:a,width:c.floating.width,height:c.floating.height}:c.reference,F=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),K=await(l.isElement==null?void 0:l.isElement(F))?await(l.getScale==null?void 0:l.getScale(F))||{x:1,y:1}:{x:1,y:1},Q=yh(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:U,offsetParent:F,strategy:m}):U);return{top:(j.top-Q.top+C.top)/K.y,bottom:(Q.bottom-j.bottom+C.bottom)/K.y,left:(j.left-Q.left+C.left)/K.x,right:(Q.right-j.right+C.right)/K.x}}const n8=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:a,rects:l,platform:c,elements:f,middlewareData:m}=e,{element:p,padding:v=0}=qi(n,e)||{};if(p==null)return{};const b=Q1(v),E={x:t,y:i},R=Vv(a),C=Pv(R),A=await c.getDimensions(p),D=R==="y",j=D?"top":"left",U=D?"bottom":"right",F=D?"clientHeight":"clientWidth",K=l.reference[C]+l.reference[R]-E[R]-l.floating[C],Q=E[R]-l.reference[R],se=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let N=se?se[F]:0;(!N||!await(c.isElement==null?void 0:c.isElement(se)))&&(N=f.floating[F]||l.floating[C]);const S=K/2-Q/2,k=N/2-A[C]/2-1,L=$s(b[j],k),M=$s(b[U],k),V=L,P=N-A[C]-M,J=N/2-A[C]/2+S,oe=hy(V,J,P),H=!m.arrow&&Vl(a)!=null&&J!==oe&&l.reference[C]/2-(J<V?L:M)-A[C]/2<0,z=H?J<V?J-V:J-P:0;return{[R]:E[R]+z,data:{[R]:oe,centerOffset:J-oe-z,...H&&{alignmentOffset:z}},reset:H}}}),r8=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:a,middlewareData:l,rects:c,initialPlacement:f,platform:m,elements:p}=e,{mainAxis:v=!0,crossAxis:b=!0,fallbackPlacements:E,fallbackStrategy:R="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:A=!0,...D}=qi(n,e);if((t=l.arrow)!=null&&t.alignmentOffset)return{};const j=Gi(a),U=ji(f),F=Gi(f)===f,K=await(m.isRTL==null?void 0:m.isRTL(p.floating)),Q=E||(F||!A?[gh(f)]:WP(f)),se=C!=="none";!E&&se&&Q.push(...JP(f,A,C,K));const N=[f,...Q],S=await Tc(e,D),k=[];let L=((i=l.flip)==null?void 0:i.overflows)||[];if(v&&k.push(S[j]),b){const oe=XP(a,c,K);k.push(S[oe[0]],S[oe[1]])}if(L=[...L,{placement:a,overflows:k}],!k.every(oe=>oe<=0)){var M,V;const oe=(((M=l.flip)==null?void 0:M.index)||0)+1,H=N[oe];if(H){var P;const G=b==="alignment"?U!==ji(H):!1,he=((P=L[0])==null?void 0:P.overflows[0])>0;if(!G||he)return{data:{index:oe,overflows:L},reset:{placement:H}}}let z=(V=L.filter(G=>G.overflows[0]<=0).sort((G,he)=>G.overflows[1]-he.overflows[1])[0])==null?void 0:V.placement;if(!z)switch(R){case"bestFit":{var J;const G=(J=L.filter(he=>{if(se){const B=ji(he.placement);return B===U||B==="y"}return!0}).map(he=>[he.placement,he.overflows.filter(B=>B>0).reduce((B,ne)=>B+ne,0)]).sort((he,B)=>he[1]-B[1])[0])==null?void 0:J[0];G&&(z=G);break}case"initialPlacement":z=f;break}if(a!==z)return{reset:{placement:z}}}return{}}}};function pT(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function gT(n){return YP.some(e=>n[e]>=0)}const i8=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...a}=qi(n,e);switch(i){case"referenceHidden":{const l=await Tc(e,{...a,elementContext:"reference"}),c=pT(l,t.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:gT(c)}}}case"escaped":{const l=await Tc(e,{...a,altBoundary:!0}),c=pT(l,t.floating);return{data:{escapedOffsets:c,escaped:gT(c)}}}default:return{}}}}};async function s8(n,e){const{placement:t,platform:i,elements:a}=n,l=await(i.isRTL==null?void 0:i.isRTL(a.floating)),c=Gi(t),f=Vl(t),m=ji(t)==="y",p=["left","top"].includes(c)?-1:1,v=l&&m?-1:1,b=qi(e,n);let{mainAxis:E,crossAxis:R,alignmentAxis:C}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return f&&typeof C=="number"&&(R=f==="end"?C*-1:C),m?{x:R*v,y:E*p}:{x:E*p,y:R*v}}const a8=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:a,y:l,placement:c,middlewareData:f}=e,m=await s8(e,n);return c===((t=f.offset)==null?void 0:t.placement)&&(i=f.arrow)!=null&&i.alignmentOffset?{}:{x:a+m.x,y:l+m.y,data:{...m,placement:c}}}}},o8=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:a}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:f={fn:D=>{let{x:j,y:U}=D;return{x:j,y:U}}},...m}=qi(n,e),p={x:t,y:i},v=await Tc(e,m),b=ji(Gi(a)),E=Mv(b);let R=p[E],C=p[b];if(l){const D=E==="y"?"top":"left",j=E==="y"?"bottom":"right",U=R+v[D],F=R-v[j];R=hy(U,R,F)}if(c){const D=b==="y"?"top":"left",j=b==="y"?"bottom":"right",U=C+v[D],F=C-v[j];C=hy(U,C,F)}const A=f.fn({...e,[E]:R,[b]:C});return{...A,data:{x:A.x-t,y:A.y-i,enabled:{[E]:l,[b]:c}}}}}},l8=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:a,rects:l,middlewareData:c}=e,{offset:f=0,mainAxis:m=!0,crossAxis:p=!0}=qi(n,e),v={x:t,y:i},b=ji(a),E=Mv(b);let R=v[E],C=v[b];const A=qi(f,e),D=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(m){const F=E==="y"?"height":"width",K=l.reference[E]-l.floating[F]+D.mainAxis,Q=l.reference[E]+l.reference[F]-D.mainAxis;R<K?R=K:R>Q&&(R=Q)}if(p){var j,U;const F=E==="y"?"width":"height",K=["top","left"].includes(Gi(a)),Q=l.reference[b]-l.floating[F]+(K&&((j=c.offset)==null?void 0:j[b])||0)+(K?0:D.crossAxis),se=l.reference[b]+l.reference[F]+(K?0:((U=c.offset)==null?void 0:U[b])||0)-(K?D.crossAxis:0);C<Q?C=Q:C>se&&(C=se)}return{[E]:R,[b]:C}}}},u8=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:a,rects:l,platform:c,elements:f}=e,{apply:m=()=>{},...p}=qi(n,e),v=await Tc(e,p),b=Gi(a),E=Vl(a),R=ji(a)==="y",{width:C,height:A}=l.floating;let D,j;b==="top"||b==="bottom"?(D=b,j=E===(await(c.isRTL==null?void 0:c.isRTL(f.floating))?"start":"end")?"left":"right"):(j=b,D=E==="end"?"top":"bottom");const U=A-v.top-v.bottom,F=C-v.left-v.right,K=$s(A-v[D],U),Q=$s(C-v[j],F),se=!e.middlewareData.shift;let N=K,S=Q;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(S=F),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(N=U),se&&!E){const L=Gn(v.left,0),M=Gn(v.right,0),V=Gn(v.top,0),P=Gn(v.bottom,0);R?S=C-2*(L!==0||M!==0?L+M:Gn(v.left,v.right)):N=A-2*(V!==0||P!==0?V+P:Gn(v.top,v.bottom))}await m({...e,availableWidth:S,availableHeight:N});const k=await c.getDimensions(f.floating);return C!==k.width||A!==k.height?{reset:{rects:!0}}:{}}}};function Qh(){return typeof window<"u"}function jl(n){return X1(n)?(n.nodeName||"").toLowerCase():"#document"}function Yn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function ii(n){var e;return(e=(X1(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function X1(n){return Qh()?n instanceof Node||n instanceof Yn(n).Node:!1}function xr(n){return Qh()?n instanceof Element||n instanceof Yn(n).Element:!1}function ni(n){return Qh()?n instanceof HTMLElement||n instanceof Yn(n).HTMLElement:!1}function yT(n){return!Qh()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Yn(n).ShadowRoot}function Fc(n){const{overflow:e,overflowX:t,overflowY:i,display:a}=Sr(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(a)}function c8(n){return["table","td","th"].includes(jl(n))}function Xh(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function jv(n){const e=Lv(),t=xr(n)?Sr(n):n;return["transform","translate","scale","rotate","perspective"].some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function d8(n){let e=Ys(n);for(;ni(e)&&!wl(e);){if(jv(e))return e;if(Xh(e))return null;e=Ys(e)}return null}function Lv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function wl(n){return["html","body","#document"].includes(jl(n))}function Sr(n){return Yn(n).getComputedStyle(n)}function Wh(n){return xr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Ys(n){if(jl(n)==="html")return n;const e=n.assignedSlot||n.parentNode||yT(n)&&n.host||ii(n);return yT(e)?e.host:e}function W1(n){const e=Ys(n);return wl(e)?n.ownerDocument?n.ownerDocument.body:n.body:ni(e)&&Fc(e)?e:W1(e)}function xc(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=W1(n),l=a===((i=n.ownerDocument)==null?void 0:i.body),c=Yn(a);if(l){const f=py(c);return e.concat(c,c.visualViewport||[],Fc(a)?a:[],f&&t?xc(f):[])}return e.concat(a,xc(a,[],t))}function py(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function Z1(n){const e=Sr(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const a=ni(n),l=a?n.offsetWidth:t,c=a?n.offsetHeight:i,f=ph(t)!==l||ph(i)!==c;return f&&(t=l,i=c),{width:t,height:i,$:f}}function Uv(n){return xr(n)?n:n.contextElement}function ul(n){const e=Uv(n);if(!ni(e))return ei(1);const t=e.getBoundingClientRect(),{width:i,height:a,$:l}=Z1(e);let c=(l?ph(t.width):t.width)/i,f=(l?ph(t.height):t.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!f||!Number.isFinite(f))&&(f=1),{x:c,y:f}}const f8=ei(0);function J1(n){const e=Yn(n);return!Lv()||!e.visualViewport?f8:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function h8(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Yn(n)?!1:e}function Xa(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),l=Uv(n);let c=ei(1);e&&(i?xr(i)&&(c=ul(i)):c=ul(n));const f=h8(l,t,i)?J1(l):ei(0);let m=(a.left+f.x)/c.x,p=(a.top+f.y)/c.y,v=a.width/c.x,b=a.height/c.y;if(l){const E=Yn(l),R=i&&xr(i)?Yn(i):i;let C=E,A=py(C);for(;A&&i&&R!==C;){const D=ul(A),j=A.getBoundingClientRect(),U=Sr(A),F=j.left+(A.clientLeft+parseFloat(U.paddingLeft))*D.x,K=j.top+(A.clientTop+parseFloat(U.paddingTop))*D.y;m*=D.x,p*=D.y,v*=D.x,b*=D.y,m+=F,p+=K,C=Yn(A),A=py(C)}}return yh({width:v,height:b,x:m,y:p})}function Bv(n,e){const t=Wh(n).scrollLeft;return e?e.left+t:Xa(ii(n)).left+t}function eA(n,e,t){t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=i.left+e.scrollLeft-(t?0:Bv(n,i)),l=i.top+e.scrollTop;return{x:a,y:l}}function m8(n){let{elements:e,rect:t,offsetParent:i,strategy:a}=n;const l=a==="fixed",c=ii(i),f=e?Xh(e.floating):!1;if(i===c||f&&l)return t;let m={scrollLeft:0,scrollTop:0},p=ei(1);const v=ei(0),b=ni(i);if((b||!b&&!l)&&((jl(i)!=="body"||Fc(c))&&(m=Wh(i)),ni(i))){const R=Xa(i);p=ul(i),v.x=R.x+i.clientLeft,v.y=R.y+i.clientTop}const E=c&&!b&&!l?eA(c,m,!0):ei(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-m.scrollLeft*p.x+v.x+E.x,y:t.y*p.y-m.scrollTop*p.y+v.y+E.y}}function p8(n){return Array.from(n.getClientRects())}function g8(n){const e=ii(n),t=Wh(n),i=n.ownerDocument.body,a=Gn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),l=Gn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let c=-t.scrollLeft+Bv(n);const f=-t.scrollTop;return Sr(i).direction==="rtl"&&(c+=Gn(e.clientWidth,i.clientWidth)-a),{width:a,height:l,x:c,y:f}}function y8(n,e){const t=Yn(n),i=ii(n),a=t.visualViewport;let l=i.clientWidth,c=i.clientHeight,f=0,m=0;if(a){l=a.width,c=a.height;const p=Lv();(!p||p&&e==="fixed")&&(f=a.offsetLeft,m=a.offsetTop)}return{width:l,height:c,x:f,y:m}}function v8(n,e){const t=Xa(n,!0,e==="fixed"),i=t.top+n.clientTop,a=t.left+n.clientLeft,l=ni(n)?ul(n):ei(1),c=n.clientWidth*l.x,f=n.clientHeight*l.y,m=a*l.x,p=i*l.y;return{width:c,height:f,x:m,y:p}}function vT(n,e,t){let i;if(e==="viewport")i=y8(n,t);else if(e==="document")i=g8(ii(n));else if(xr(e))i=v8(e,t);else{const a=J1(n);i={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return yh(i)}function tA(n,e){const t=Ys(n);return t===e||!xr(t)||wl(t)?!1:Sr(t).position==="fixed"||tA(t,e)}function _8(n,e){const t=e.get(n);if(t)return t;let i=xc(n,[],!1).filter(f=>xr(f)&&jl(f)!=="body"),a=null;const l=Sr(n).position==="fixed";let c=l?Ys(n):n;for(;xr(c)&&!wl(c);){const f=Sr(c),m=jv(c);!m&&f.position==="fixed"&&(a=null),(l?!m&&!a:!m&&f.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Fc(c)&&!m&&tA(n,c))?i=i.filter(v=>v!==c):a=f,c=Ys(c)}return e.set(n,i),i}function b8(n){let{element:e,boundary:t,rootBoundary:i,strategy:a}=n;const c=[...t==="clippingAncestors"?Xh(e)?[]:_8(e,this._c):[].concat(t),i],f=c[0],m=c.reduce((p,v)=>{const b=vT(e,v,a);return p.top=Gn(b.top,p.top),p.right=$s(b.right,p.right),p.bottom=$s(b.bottom,p.bottom),p.left=Gn(b.left,p.left),p},vT(e,f,a));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function E8(n){const{width:e,height:t}=Z1(n);return{width:e,height:t}}function w8(n,e,t){const i=ni(e),a=ii(e),l=t==="fixed",c=Xa(n,!0,l,e);let f={scrollLeft:0,scrollTop:0};const m=ei(0);function p(){m.x=Bv(a)}if(i||!i&&!l)if((jl(e)!=="body"||Fc(a))&&(f=Wh(e)),i){const R=Xa(e,!0,l,e);m.x=R.x+e.clientLeft,m.y=R.y+e.clientTop}else a&&p();l&&!i&&a&&p();const v=a&&!i&&!l?eA(a,f):ei(0),b=c.left+f.scrollLeft-m.x-v.x,E=c.top+f.scrollTop-m.y-v.y;return{x:b,y:E,width:c.width,height:c.height}}function Ag(n){return Sr(n).position==="static"}function _T(n,e){if(!ni(n)||Sr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return ii(n)===t&&(t=t.ownerDocument.body),t}function nA(n,e){const t=Yn(n);if(Xh(n))return t;if(!ni(n)){let a=Ys(n);for(;a&&!wl(a);){if(xr(a)&&!Ag(a))return a;a=Ys(a)}return t}let i=_T(n,e);for(;i&&c8(i)&&Ag(i);)i=_T(i,e);return i&&wl(i)&&Ag(i)&&!jv(i)?t:i||d8(n)||t}const T8=async function(n){const e=this.getOffsetParent||nA,t=this.getDimensions,i=await t(n.floating);return{reference:w8(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function x8(n){return Sr(n).direction==="rtl"}const S8={convertOffsetParentRelativeRectToViewportRelativeRect:m8,getDocumentElement:ii,getClippingRect:b8,getOffsetParent:nA,getElementRects:T8,getClientRects:p8,getDimensions:E8,getScale:ul,isElement:xr,isRTL:x8};function rA(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function A8(n,e){let t=null,i;const a=ii(n);function l(){var f;clearTimeout(i),(f=t)==null||f.disconnect(),t=null}function c(f,m){f===void 0&&(f=!1),m===void 0&&(m=1),l();const p=n.getBoundingClientRect(),{left:v,top:b,width:E,height:R}=p;if(f||e(),!E||!R)return;const C=Tf(b),A=Tf(a.clientWidth-(v+E)),D=Tf(a.clientHeight-(b+R)),j=Tf(v),F={rootMargin:-C+"px "+-A+"px "+-D+"px "+-j+"px",threshold:Gn(0,$s(1,m))||1};let K=!0;function Q(se){const N=se[0].intersectionRatio;if(N!==m){if(!K)return c();N?c(!1,N):i=setTimeout(()=>{c(!1,1e-7)},1e3)}N===1&&!rA(p,n.getBoundingClientRect())&&c(),K=!1}try{t=new IntersectionObserver(Q,{...F,root:a.ownerDocument})}catch{t=new IntersectionObserver(Q,F)}t.observe(n)}return c(!0),l}function R8(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:m=!1}=i,p=Uv(n),v=a||l?[...p?xc(p):[],...xc(e)]:[];v.forEach(j=>{a&&j.addEventListener("scroll",t,{passive:!0}),l&&j.addEventListener("resize",t)});const b=p&&f?A8(p,t):null;let E=-1,R=null;c&&(R=new ResizeObserver(j=>{let[U]=j;U&&U.target===p&&R&&(R.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var F;(F=R)==null||F.observe(e)})),t()}),p&&!m&&R.observe(p),R.observe(e));let C,A=m?Xa(n):null;m&&D();function D(){const j=Xa(n);A&&!rA(A,j)&&t(),A=j,C=requestAnimationFrame(D)}return t(),()=>{var j;v.forEach(U=>{a&&U.removeEventListener("scroll",t),l&&U.removeEventListener("resize",t)}),b==null||b(),(j=R)==null||j.disconnect(),R=null,m&&cancelAnimationFrame(C)}}const C8=a8,I8=o8,N8=r8,D8=u8,O8=i8,bT=n8,k8=l8,M8=(n,e,t)=>{const i=new Map,a={platform:S8,...t},l={...a.platform,_c:i};return t8(n,e,{...a,platform:l})};var zf=typeof document<"u"?x.useLayoutEffect:x.useEffect;function vh(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!vh(n[i],e[i]))return!1;return!0}if(a=Object.keys(n),t=a.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,a[i]))return!1;for(i=t;i--!==0;){const l=a[i];if(!(l==="_owner"&&n.$$typeof)&&!vh(n[l],e[l]))return!1}return!0}return n!==n&&e!==e}function iA(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function ET(n,e){const t=iA(n);return Math.round(e*t)/t}function Rg(n){const e=x.useRef(n);return zf(()=>{e.current=n}),e}function P8(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:a,elements:{reference:l,floating:c}={},transform:f=!0,whileElementsMounted:m,open:p}=n,[v,b]=x.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[E,R]=x.useState(i);vh(E,i)||R(i);const[C,A]=x.useState(null),[D,j]=x.useState(null),U=x.useCallback(G=>{G!==se.current&&(se.current=G,A(G))},[]),F=x.useCallback(G=>{G!==N.current&&(N.current=G,j(G))},[]),K=l||C,Q=c||D,se=x.useRef(null),N=x.useRef(null),S=x.useRef(v),k=m!=null,L=Rg(m),M=Rg(a),V=Rg(p),P=x.useCallback(()=>{if(!se.current||!N.current)return;const G={placement:e,strategy:t,middleware:E};M.current&&(G.platform=M.current),M8(se.current,N.current,G).then(he=>{const B={...he,isPositioned:V.current!==!1};J.current&&!vh(S.current,B)&&(S.current=B,Rc.flushSync(()=>{b(B)}))})},[E,e,t,M,V]);zf(()=>{p===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,b(G=>({...G,isPositioned:!1})))},[p]);const J=x.useRef(!1);zf(()=>(J.current=!0,()=>{J.current=!1}),[]),zf(()=>{if(K&&(se.current=K),Q&&(N.current=Q),K&&Q){if(L.current)return L.current(K,Q,P);P()}},[K,Q,P,L,k]);const oe=x.useMemo(()=>({reference:se,floating:N,setReference:U,setFloating:F}),[U,F]),H=x.useMemo(()=>({reference:K,floating:Q}),[K,Q]),z=x.useMemo(()=>{const G={position:t,left:0,top:0};if(!H.floating)return G;const he=ET(H.floating,v.x),B=ET(H.floating,v.y);return f?{...G,transform:"translate("+he+"px, "+B+"px)",...iA(H.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:he,top:B}},[t,f,H.floating,v.x,v.y]);return x.useMemo(()=>({...v,update:P,refs:oe,elements:H,floatingStyles:z}),[v,P,oe,H,z])}const V8=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:a}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?bT({element:i.current,padding:a}).fn(t):{}:i?bT({element:i,padding:a}).fn(t):{}}}},j8=(n,e)=>({...C8(n),options:[n,e]}),L8=(n,e)=>({...I8(n),options:[n,e]}),U8=(n,e)=>({...k8(n),options:[n,e]}),B8=(n,e)=>({...N8(n),options:[n,e]}),z8=(n,e)=>({...D8(n),options:[n,e]}),F8=(n,e)=>({...O8(n),options:[n,e]}),H8=(n,e)=>({...V8(n),options:[n,e]});var q8="Arrow",sA=x.forwardRef((n,e)=>{const{children:t,width:i=10,height:a=5,...l}=n;return y.jsx(mt.svg,{...l,ref:e,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});sA.displayName=q8;var G8=sA;function aA(n){const[e,t]=x.useState(void 0);return Sn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let c,f;if("borderBoxSize"in l){const m=l.borderBoxSize,p=Array.isArray(m)?m[0]:m;c=p.inlineSize,f=p.blockSize}else c=n.offsetWidth,f=n.offsetHeight;t({width:c,height:f})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var zv="Popper",[oA,lA]=zc(zv),[$8,uA]=oA(zv),cA=n=>{const{__scopePopper:e,children:t}=n,[i,a]=x.useState(null);return y.jsx($8,{scope:e,anchor:i,onAnchorChange:a,children:t})};cA.displayName=zv;var dA="PopperAnchor",fA=x.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...a}=n,l=uA(dA,t),c=x.useRef(null),f=Dt(e,c);return x.useEffect(()=>{l.onAnchorChange((i==null?void 0:i.current)||c.current)}),i?null:y.jsx(mt.div,{...a,ref:f})});fA.displayName=dA;var Fv="PopperContent",[Y8,K8]=oA(Fv),hA=x.forwardRef((n,e)=>{var pe,Te,Le,Ce,ke,Ve;const{__scopePopper:t,side:i="bottom",sideOffset:a=0,align:l="center",alignOffset:c=0,arrowPadding:f=0,avoidCollisions:m=!0,collisionBoundary:p=[],collisionPadding:v=0,sticky:b="partial",hideWhenDetached:E=!1,updatePositionStrategy:R="optimized",onPlaced:C,...A}=n,D=uA(Fv,t),[j,U]=x.useState(null),F=Dt(e,At=>U(At)),[K,Q]=x.useState(null),se=aA(K),N=(se==null?void 0:se.width)??0,S=(se==null?void 0:se.height)??0,k=i+(l!=="center"?"-"+l:""),L=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},M=Array.isArray(p)?p:[p],V=M.length>0,P={padding:L,boundary:M.filter(X8),altBoundary:V},{refs:J,floatingStyles:oe,placement:H,isPositioned:z,middlewareData:G}=P8({strategy:"fixed",placement:k,whileElementsMounted:(...At)=>R8(...At,{animationFrame:R==="always"}),elements:{reference:D.anchor},middleware:[j8({mainAxis:a+S,alignmentAxis:c}),m&&L8({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?U8():void 0,...P}),m&&B8({...P}),z8({...P,apply:({elements:At,rects:Qt,availableWidth:ur,availableHeight:Cr})=>{const{width:Xt,height:Ul}=Qt.reference,Ir=At.floating.style;Ir.setProperty("--radix-popper-available-width",`${ur}px`),Ir.setProperty("--radix-popper-available-height",`${Cr}px`),Ir.setProperty("--radix-popper-anchor-width",`${Xt}px`),Ir.setProperty("--radix-popper-anchor-height",`${Ul}px`)}}),K&&H8({element:K,padding:f}),W8({arrowWidth:N,arrowHeight:S}),E&&F8({strategy:"referenceHidden",...P})]}),[he,B]=gA(H),ne=Qa(C);Sn(()=>{z&&(ne==null||ne())},[z,ne]);const fe=(pe=G.arrow)==null?void 0:pe.x,ie=(Te=G.arrow)==null?void 0:Te.y,me=((Le=G.arrow)==null?void 0:Le.centerOffset)!==0,[xe,_e]=x.useState();return Sn(()=>{j&&_e(window.getComputedStyle(j).zIndex)},[j]),y.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:z?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[(Ce=G.transformOrigin)==null?void 0:Ce.x,(ke=G.transformOrigin)==null?void 0:ke.y].join(" "),...((Ve=G.hide)==null?void 0:Ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:y.jsx(Y8,{scope:t,placedSide:he,onArrowChange:Q,arrowX:fe,arrowY:ie,shouldHideArrow:me,children:y.jsx(mt.div,{"data-side":he,"data-align":B,...A,ref:F,style:{...A.style,animation:z?void 0:"none"}})})})});hA.displayName=Fv;var mA="PopperArrow",Q8={top:"bottom",right:"left",bottom:"top",left:"right"},pA=x.forwardRef(function(e,t){const{__scopePopper:i,...a}=e,l=K8(mA,i),c=Q8[l.placedSide];return y.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:y.jsx(G8,{...a,ref:t,style:{...a.style,display:"block"}})})});pA.displayName=mA;function X8(n){return n!==null}var W8=n=>({name:"transformOrigin",options:n,fn(e){var D,j,U;const{placement:t,rects:i,middlewareData:a}=e,c=((D=a.arrow)==null?void 0:D.centerOffset)!==0,f=c?0:n.arrowWidth,m=c?0:n.arrowHeight,[p,v]=gA(t),b={start:"0%",center:"50%",end:"100%"}[v],E=(((j=a.arrow)==null?void 0:j.x)??0)+f/2,R=(((U=a.arrow)==null?void 0:U.y)??0)+m/2;let C="",A="";return p==="bottom"?(C=c?b:`${E}px`,A=`${-m}px`):p==="top"?(C=c?b:`${E}px`,A=`${i.floating.height+m}px`):p==="right"?(C=`${-m}px`,A=c?b:`${R}px`):p==="left"&&(C=`${i.floating.width+m}px`,A=c?b:`${R}px`),{data:{x:C,y:A}}}});function gA(n){const[e,t="center"]=n.split("-");return[e,t]}var Z8=cA,J8=fA,eV=hA,tV=pA,nV="Portal",yA=x.forwardRef((n,e)=>{var f;const{container:t,...i}=n,[a,l]=x.useState(!1);Sn(()=>l(!0),[]);const c=t||a&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return c?yI.createPortal(y.jsx(mt.div,{...i,ref:e}),c):null});yA.displayName=nV;var rV=DT[" useInsertionEffect ".trim().toString()]||Sn;function gy({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[a,l,c]=iV({defaultProp:e,onChange:t}),f=n!==void 0,m=f?n:a;{const v=x.useRef(n!==void 0);x.useEffect(()=>{const b=v.current;b!==f&&console.warn(`${i} is changing from ${b?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=f},[f,i])}const p=x.useCallback(v=>{var b;if(f){const E=sV(v)?v(n):v;E!==n&&((b=c.current)==null||b.call(c,E))}else l(v)},[f,n,l,c]);return[m,p]}function iV({defaultProp:n,onChange:e}){const[t,i]=x.useState(n),a=x.useRef(t),l=x.useRef(e);return rV(()=>{l.current=e},[e]),x.useEffect(()=>{var c;a.current!==t&&((c=l.current)==null||c.call(l,t),a.current=t)},[t,a]),[t,i,l]}function sV(n){return typeof n=="function"}function vA(n){const e=x.useRef({value:n,previous:n});return x.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var _A=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),aV="VisuallyHidden",oV=x.forwardRef((n,e)=>y.jsx(mt.span,{...n,ref:e,style:{..._A,...n.style}}));oV.displayName=aV;var lV=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Xo=new WeakMap,xf=new WeakMap,Sf={},Cg=0,bA=function(n){return n&&(n.host||bA(n.parentNode))},uV=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=bA(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},cV=function(n,e,t,i){var a=uV(e,Array.isArray(n)?n:[n]);Sf[t]||(Sf[t]=new WeakMap);var l=Sf[t],c=[],f=new Set,m=new Set(a),p=function(b){!b||f.has(b)||(f.add(b),p(b.parentNode))};a.forEach(p);var v=function(b){!b||m.has(b)||Array.prototype.forEach.call(b.children,function(E){if(f.has(E))v(E);else try{var R=E.getAttribute(i),C=R!==null&&R!=="false",A=(Xo.get(E)||0)+1,D=(l.get(E)||0)+1;Xo.set(E,A),l.set(E,D),c.push(E),A===1&&C&&xf.set(E,!0),D===1&&E.setAttribute(t,"true"),C||E.setAttribute(i,"true")}catch(j){console.error("aria-hidden: cannot operate on ",E,j)}})};return v(e),f.clear(),Cg++,function(){c.forEach(function(b){var E=Xo.get(b)-1,R=l.get(b)-1;Xo.set(b,E),l.set(b,R),E||(xf.has(b)||b.removeAttribute(i),xf.delete(b)),R||b.removeAttribute(t)}),Cg--,Cg||(Xo=new WeakMap,Xo=new WeakMap,xf=new WeakMap,Sf={})}},dV=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),a=lV(n);return a?(i.push.apply(i,Array.from(a.querySelectorAll("[aria-live]"))),cV(i,a,t,"aria-hidden")):function(){return null}},Ff="right-scroll-bar-position",Hf="width-before-scroll-bar",fV="with-scroll-bars-hidden",hV="--removed-body-scroll-bar-size";function Ig(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function mV(n,e){var t=x.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var a=t.value;a!==i&&(t.value=i,t.callback(i,a))}}}})[0];return t.callback=e,t.facade}var pV=typeof window<"u"?x.useLayoutEffect:x.useEffect,wT=new WeakMap;function gV(n,e){var t=mV(null,function(i){return n.forEach(function(a){return Ig(a,i)})});return pV(function(){var i=wT.get(t);if(i){var a=new Set(i),l=new Set(n),c=t.current;a.forEach(function(f){l.has(f)||Ig(f,null)}),l.forEach(function(f){a.has(f)||Ig(f,c)})}wT.set(t,n)},[n]),t}function yV(n){return n}function vV(n,e){e===void 0&&(e=yV);var t=[],i=!1,a={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(l){var c=e(l,i);return t.push(c),function(){t=t.filter(function(f){return f!==c})}},assignSyncMedium:function(l){for(i=!0;t.length;){var c=t;t=[],c.forEach(l)}t={push:function(f){return l(f)},filter:function(){return t}}},assignMedium:function(l){i=!0;var c=[];if(t.length){var f=t;t=[],f.forEach(l),c=t}var m=function(){var v=c;c=[],v.forEach(l)},p=function(){return Promise.resolve().then(m)};p(),t={push:function(v){c.push(v),p()},filter:function(v){return c=c.filter(v),t}}}};return a}function _V(n){n===void 0&&(n={});var e=vV(null);return e.options=Kr({async:!0,ssr:!1},n),e}var EA=function(n){var e=n.sideCar,t=Nc(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return x.createElement(i,Kr({},t))};EA.isSideCarExport=!0;function bV(n,e){return n.useMedium(e),EA}var wA=_V(),Ng=function(){},Zh=x.forwardRef(function(n,e){var t=x.useRef(null),i=x.useState({onScrollCapture:Ng,onWheelCapture:Ng,onTouchMoveCapture:Ng}),a=i[0],l=i[1],c=n.forwardProps,f=n.children,m=n.className,p=n.removeScrollBar,v=n.enabled,b=n.shards,E=n.sideCar,R=n.noIsolation,C=n.inert,A=n.allowPinchZoom,D=n.as,j=D===void 0?"div":D,U=n.gapMode,F=Nc(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),K=E,Q=gV([t,e]),se=Kr(Kr({},F),a);return x.createElement(x.Fragment,null,v&&x.createElement(K,{sideCar:wA,removeScrollBar:p,shards:b,noIsolation:R,inert:C,setCallbacks:l,allowPinchZoom:!!A,lockRef:t,gapMode:U}),c?x.cloneElement(x.Children.only(f),Kr(Kr({},se),{ref:Q})):x.createElement(j,Kr({},se,{className:m,ref:Q}),f))});Zh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zh.classNames={fullWidth:Hf,zeroRight:Ff};var EV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function wV(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=EV();return e&&n.setAttribute("nonce",e),n}function TV(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function xV(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var SV=function(){var n=0,e=null;return{add:function(t){n==0&&(e=wV())&&(TV(e,t),xV(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},AV=function(){var n=SV();return function(e,t){x.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},TA=function(){var n=AV(),e=function(t){var i=t.styles,a=t.dynamic;return n(i,a),null};return e},RV={left:0,top:0,right:0,gap:0},Dg=function(n){return parseInt(n||"",10)||0},CV=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],a=e[n==="padding"?"paddingRight":"marginRight"];return[Dg(t),Dg(i),Dg(a)]},IV=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return RV;var e=CV(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},NV=TA(),cl="data-scroll-locked",DV=function(n,e,t,i){var a=n.left,l=n.top,c=n.right,f=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(fV,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(f,"px ").concat(i,`;
  }
  body[`).concat(cl,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(f,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ff,` {
    right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(Hf,` {
    margin-right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(Ff," .").concat(Ff,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Hf," .").concat(Hf,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(cl,`] {
    `).concat(hV,": ").concat(f,`px;
  }
`)},TT=function(){var n=parseInt(document.body.getAttribute(cl)||"0",10);return isFinite(n)?n:0},OV=function(){x.useEffect(function(){return document.body.setAttribute(cl,(TT()+1).toString()),function(){var n=TT()-1;n<=0?document.body.removeAttribute(cl):document.body.setAttribute(cl,n.toString())}},[])},kV=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,a=i===void 0?"margin":i;OV();var l=x.useMemo(function(){return IV(a)},[a]);return x.createElement(NV,{styles:DV(l,!e,a,t?"":"!important")})},yy=!1;if(typeof window<"u")try{var Af=Object.defineProperty({},"passive",{get:function(){return yy=!0,!0}});window.addEventListener("test",Af,Af),window.removeEventListener("test",Af,Af)}catch{yy=!1}var Wo=yy?{passive:!1}:!1,MV=function(n){return n.tagName==="TEXTAREA"},xA=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!MV(n)&&t[e]==="visible")},PV=function(n){return xA(n,"overflowY")},VV=function(n){return xA(n,"overflowX")},xT=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var a=SA(n,i);if(a){var l=AA(n,i),c=l[1],f=l[2];if(c>f)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},jV=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},LV=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},SA=function(n,e){return n==="v"?PV(e):VV(e)},AA=function(n,e){return n==="v"?jV(e):LV(e)},UV=function(n,e){return n==="h"&&e==="rtl"?-1:1},BV=function(n,e,t,i,a){var l=UV(n,window.getComputedStyle(e).direction),c=l*i,f=t.target,m=e.contains(f),p=!1,v=c>0,b=0,E=0;do{var R=AA(n,f),C=R[0],A=R[1],D=R[2],j=A-D-l*C;(C||j)&&SA(n,f)&&(b+=j,E+=C),f instanceof ShadowRoot?f=f.host:f=f.parentNode}while(!m&&f!==document.body||m&&(e.contains(f)||e===f));return(v&&Math.abs(b)<1||!v&&Math.abs(E)<1)&&(p=!0),p},Rf=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},ST=function(n){return[n.deltaX,n.deltaY]},AT=function(n){return n&&"current"in n?n.current:n},zV=function(n,e){return n[0]===e[0]&&n[1]===e[1]},FV=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},HV=0,Zo=[];function qV(n){var e=x.useRef([]),t=x.useRef([0,0]),i=x.useRef(),a=x.useState(HV++)[0],l=x.useState(TA)[0],c=x.useRef(n);x.useEffect(function(){c.current=n},[n]),x.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(a));var A=jD([n.lockRef.current],(n.shards||[]).map(AT),!0).filter(Boolean);return A.forEach(function(D){return D.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),A.forEach(function(D){return D.classList.remove("allow-interactivity-".concat(a))})}}},[n.inert,n.lockRef.current,n.shards]);var f=x.useCallback(function(A,D){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!c.current.allowPinchZoom;var j=Rf(A),U=t.current,F="deltaX"in A?A.deltaX:U[0]-j[0],K="deltaY"in A?A.deltaY:U[1]-j[1],Q,se=A.target,N=Math.abs(F)>Math.abs(K)?"h":"v";if("touches"in A&&N==="h"&&se.type==="range")return!1;var S=xT(N,se);if(!S)return!0;if(S?Q=N:(Q=N==="v"?"h":"v",S=xT(N,se)),!S)return!1;if(!i.current&&"changedTouches"in A&&(F||K)&&(i.current=Q),!Q)return!0;var k=i.current||Q;return BV(k,D,A,k==="h"?F:K)},[]),m=x.useCallback(function(A){var D=A;if(!(!Zo.length||Zo[Zo.length-1]!==l)){var j="deltaY"in D?ST(D):Rf(D),U=e.current.filter(function(Q){return Q.name===D.type&&(Q.target===D.target||D.target===Q.shadowParent)&&zV(Q.delta,j)})[0];if(U&&U.should){D.cancelable&&D.preventDefault();return}if(!U){var F=(c.current.shards||[]).map(AT).filter(Boolean).filter(function(Q){return Q.contains(D.target)}),K=F.length>0?f(D,F[0]):!c.current.noIsolation;K&&D.cancelable&&D.preventDefault()}}},[]),p=x.useCallback(function(A,D,j,U){var F={name:A,delta:D,target:j,should:U,shadowParent:GV(j)};e.current.push(F),setTimeout(function(){e.current=e.current.filter(function(K){return K!==F})},1)},[]),v=x.useCallback(function(A){t.current=Rf(A),i.current=void 0},[]),b=x.useCallback(function(A){p(A.type,ST(A),A.target,f(A,n.lockRef.current))},[]),E=x.useCallback(function(A){p(A.type,Rf(A),A.target,f(A,n.lockRef.current))},[]);x.useEffect(function(){return Zo.push(l),n.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:E}),document.addEventListener("wheel",m,Wo),document.addEventListener("touchmove",m,Wo),document.addEventListener("touchstart",v,Wo),function(){Zo=Zo.filter(function(A){return A!==l}),document.removeEventListener("wheel",m,Wo),document.removeEventListener("touchmove",m,Wo),document.removeEventListener("touchstart",v,Wo)}},[]);var R=n.removeScrollBar,C=n.inert;return x.createElement(x.Fragment,null,C?x.createElement(l,{styles:FV(a)}):null,R?x.createElement(kV,{gapMode:n.gapMode}):null)}function GV(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const $V=bV(wA,qV);var RA=x.forwardRef(function(n,e){return x.createElement(Zh,Kr({},n,{ref:e,sideCar:$V}))});RA.classNames=Zh.classNames;var YV=[" ","Enter","ArrowUp","ArrowDown"],KV=[" ","Enter"],Wa="Select",[Jh,em,QV]=AP(Wa),[Ll,cL]=zc(Wa,[QV,lA]),tm=lA(),[XV,Ws]=Ll(Wa),[WV,ZV]=Ll(Wa),CA=n=>{const{__scopeSelect:e,children:t,open:i,defaultOpen:a,onOpenChange:l,value:c,defaultValue:f,onValueChange:m,dir:p,name:v,autoComplete:b,disabled:E,required:R,form:C}=n,A=tm(e),[D,j]=x.useState(null),[U,F]=x.useState(null),[K,Q]=x.useState(!1),se=CP(p),[N,S]=gy({prop:i,defaultProp:a??!1,onChange:l,caller:Wa}),[k,L]=gy({prop:c,defaultProp:f,onChange:m,caller:Wa}),M=x.useRef(null),V=D?C||!!D.closest("form"):!0,[P,J]=x.useState(new Set),oe=Array.from(P).map(H=>H.props.value).join(";");return y.jsx(Z8,{...A,children:y.jsxs(XV,{required:R,scope:e,trigger:D,onTriggerChange:j,valueNode:U,onValueNodeChange:F,valueNodeHasChildren:K,onValueNodeHasChildrenChange:Q,contentId:kv(),value:k,onValueChange:L,open:N,onOpenChange:S,dir:se,triggerPointerDownPosRef:M,disabled:E,children:[y.jsx(Jh.Provider,{scope:e,children:y.jsx(WV,{scope:n.__scopeSelect,onNativeOptionAdd:x.useCallback(H=>{J(z=>new Set(z).add(H))},[]),onNativeOptionRemove:x.useCallback(H=>{J(z=>{const G=new Set(z);return G.delete(H),G})},[]),children:t})}),V?y.jsxs(XA,{"aria-hidden":!0,required:R,tabIndex:-1,name:v,autoComplete:b,value:k,onChange:H=>L(H.target.value),disabled:E,form:C,children:[k===void 0?y.jsx("option",{value:""}):null,Array.from(P)]},oe):null]})})};CA.displayName=Wa;var IA="SelectTrigger",NA=x.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:i=!1,...a}=n,l=tm(t),c=Ws(IA,t),f=c.disabled||i,m=Dt(e,c.onTriggerChange),p=em(t),v=x.useRef("touch"),[b,E,R]=ZA(A=>{const D=p().filter(F=>!F.disabled),j=D.find(F=>F.value===c.value),U=JA(D,A,j);U!==void 0&&c.onValueChange(U.value)}),C=A=>{f||(c.onOpenChange(!0),R()),A&&(c.triggerPointerDownPosRef.current={x:Math.round(A.pageX),y:Math.round(A.pageY)})};return y.jsx(J8,{asChild:!0,...l,children:y.jsx(mt.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":WA(c.value)?"":void 0,...a,ref:m,onClick:St(a.onClick,A=>{A.currentTarget.focus(),v.current!=="mouse"&&C(A)}),onPointerDown:St(a.onPointerDown,A=>{v.current=A.pointerType;const D=A.target;D.hasPointerCapture(A.pointerId)&&D.releasePointerCapture(A.pointerId),A.button===0&&A.ctrlKey===!1&&A.pointerType==="mouse"&&(C(A),A.preventDefault())}),onKeyDown:St(a.onKeyDown,A=>{const D=b.current!=="";!(A.ctrlKey||A.altKey||A.metaKey)&&A.key.length===1&&E(A.key),!(D&&A.key===" ")&&YV.includes(A.key)&&(C(),A.preventDefault())})})})});NA.displayName=IA;var DA="SelectValue",OA=x.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:a,children:l,placeholder:c="",...f}=n,m=Ws(DA,t),{onValueNodeHasChildrenChange:p}=m,v=l!==void 0,b=Dt(e,m.onValueNodeChange);return Sn(()=>{p(v)},[p,v]),y.jsx(mt.span,{...f,ref:b,style:{pointerEvents:"none"},children:WA(m.value)?y.jsx(y.Fragment,{children:c}):l})});OA.displayName=DA;var JV="SelectIcon",kA=x.forwardRef((n,e)=>{const{__scopeSelect:t,children:i,...a}=n;return y.jsx(mt.span,{"aria-hidden":!0,...a,ref:e,children:i||"▼"})});kA.displayName=JV;var ej="SelectPortal",MA=n=>y.jsx(yA,{asChild:!0,...n});MA.displayName=ej;var Za="SelectContent",PA=x.forwardRef((n,e)=>{const t=Ws(Za,n.__scopeSelect),[i,a]=x.useState();if(Sn(()=>{a(new DocumentFragment)},[]),!t.open){const l=i;return l?Rc.createPortal(y.jsx(VA,{scope:n.__scopeSelect,children:y.jsx(Jh.Slot,{scope:n.__scopeSelect,children:y.jsx("div",{children:n.children})})}),l):null}return y.jsx(jA,{...n,ref:e})});PA.displayName=Za;var gr=10,[VA,Zs]=Ll(Za),tj="SelectContentImpl",nj=fc("SelectContent.RemoveScroll"),jA=x.forwardRef((n,e)=>{const{__scopeSelect:t,position:i="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:c,side:f,sideOffset:m,align:p,alignOffset:v,arrowPadding:b,collisionBoundary:E,collisionPadding:R,sticky:C,hideWhenDetached:A,avoidCollisions:D,...j}=n,U=Ws(Za,t),[F,K]=x.useState(null),[Q,se]=x.useState(null),N=Dt(e,pe=>K(pe)),[S,k]=x.useState(null),[L,M]=x.useState(null),V=em(t),[P,J]=x.useState(!1),oe=x.useRef(!1);x.useEffect(()=>{if(F)return dV(F)},[F]),jP();const H=x.useCallback(pe=>{const[Te,...Le]=V().map(Ve=>Ve.ref.current),[Ce]=Le.slice(-1),ke=document.activeElement;for(const Ve of pe)if(Ve===ke||(Ve==null||Ve.scrollIntoView({block:"nearest"}),Ve===Te&&Q&&(Q.scrollTop=0),Ve===Ce&&Q&&(Q.scrollTop=Q.scrollHeight),Ve==null||Ve.focus(),document.activeElement!==ke))return},[V,Q]),z=x.useCallback(()=>H([S,F]),[H,S,F]);x.useEffect(()=>{P&&z()},[P,z]);const{onOpenChange:G,triggerPointerDownPosRef:he}=U;x.useEffect(()=>{if(F){let pe={x:0,y:0};const Te=Ce=>{var ke,Ve;pe={x:Math.abs(Math.round(Ce.pageX)-(((ke=he.current)==null?void 0:ke.x)??0)),y:Math.abs(Math.round(Ce.pageY)-(((Ve=he.current)==null?void 0:Ve.y)??0))}},Le=Ce=>{pe.x<=10&&pe.y<=10?Ce.preventDefault():F.contains(Ce.target)||G(!1),document.removeEventListener("pointermove",Te),he.current=null};return he.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",Le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",Le,{capture:!0})}}},[F,G,he]),x.useEffect(()=>{const pe=()=>G(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[G]);const[B,ne]=ZA(pe=>{const Te=V().filter(ke=>!ke.disabled),Le=Te.find(ke=>ke.ref.current===document.activeElement),Ce=JA(Te,pe,Le);Ce&&setTimeout(()=>Ce.ref.current.focus())}),fe=x.useCallback((pe,Te,Le)=>{const Ce=!oe.current&&!Le;(U.value!==void 0&&U.value===Te||Ce)&&(k(pe),Ce&&(oe.current=!0))},[U.value]),ie=x.useCallback(()=>F==null?void 0:F.focus(),[F]),me=x.useCallback((pe,Te,Le)=>{const Ce=!oe.current&&!Le;(U.value!==void 0&&U.value===Te||Ce)&&M(pe)},[U.value]),xe=i==="popper"?vy:LA,_e=xe===vy?{side:f,sideOffset:m,align:p,alignOffset:v,arrowPadding:b,collisionBoundary:E,collisionPadding:R,sticky:C,hideWhenDetached:A,avoidCollisions:D}:{};return y.jsx(VA,{scope:t,content:F,viewport:Q,onViewportChange:se,itemRefCallback:fe,selectedItem:S,onItemLeave:ie,itemTextRefCallback:me,focusSelectedItem:z,selectedItemText:L,position:i,isPositioned:P,searchRef:B,children:y.jsx(RA,{as:nj,allowPinchZoom:!0,children:y.jsx(Y1,{asChild:!0,trapped:U.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:St(a,pe=>{var Te;(Te=U.trigger)==null||Te.focus({preventScroll:!0}),pe.preventDefault()}),children:y.jsx(G1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>U.onOpenChange(!1),children:y.jsx(xe,{role:"listbox",id:U.contentId,"data-state":U.open?"open":"closed",dir:U.dir,onContextMenu:pe=>pe.preventDefault(),...j,..._e,onPlaced:()=>J(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:St(j.onKeyDown,pe=>{const Te=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!Te&&pe.key.length===1&&ne(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let Ce=V().filter(ke=>!ke.disabled).map(ke=>ke.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const ke=pe.target,Ve=Ce.indexOf(ke);Ce=Ce.slice(Ve+1)}setTimeout(()=>H(Ce)),pe.preventDefault()}})})})})})})});jA.displayName=tj;var rj="SelectItemAlignedPosition",LA=x.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:i,...a}=n,l=Ws(Za,t),c=Zs(Za,t),[f,m]=x.useState(null),[p,v]=x.useState(null),b=Dt(e,N=>v(N)),E=em(t),R=x.useRef(!1),C=x.useRef(!0),{viewport:A,selectedItem:D,selectedItemText:j,focusSelectedItem:U}=c,F=x.useCallback(()=>{if(l.trigger&&l.valueNode&&f&&p&&A&&D&&j){const N=l.trigger.getBoundingClientRect(),S=p.getBoundingClientRect(),k=l.valueNode.getBoundingClientRect(),L=j.getBoundingClientRect();if(l.dir!=="rtl"){const ke=L.left-S.left,Ve=k.left-ke,At=N.left-Ve,Qt=N.width+At,ur=Math.max(Qt,S.width),Cr=window.innerWidth-gr,Xt=aT(Ve,[gr,Math.max(gr,Cr-ur)]);f.style.minWidth=Qt+"px",f.style.left=Xt+"px"}else{const ke=S.right-L.right,Ve=window.innerWidth-k.right-ke,At=window.innerWidth-N.right-Ve,Qt=N.width+At,ur=Math.max(Qt,S.width),Cr=window.innerWidth-gr,Xt=aT(Ve,[gr,Math.max(gr,Cr-ur)]);f.style.minWidth=Qt+"px",f.style.right=Xt+"px"}const M=E(),V=window.innerHeight-gr*2,P=A.scrollHeight,J=window.getComputedStyle(p),oe=parseInt(J.borderTopWidth,10),H=parseInt(J.paddingTop,10),z=parseInt(J.borderBottomWidth,10),G=parseInt(J.paddingBottom,10),he=oe+H+P+G+z,B=Math.min(D.offsetHeight*5,he),ne=window.getComputedStyle(A),fe=parseInt(ne.paddingTop,10),ie=parseInt(ne.paddingBottom,10),me=N.top+N.height/2-gr,xe=V-me,_e=D.offsetHeight/2,pe=D.offsetTop+_e,Te=oe+H+pe,Le=he-Te;if(Te<=me){const ke=M.length>0&&D===M[M.length-1].ref.current;f.style.bottom="0px";const Ve=p.clientHeight-A.offsetTop-A.offsetHeight,At=Math.max(xe,_e+(ke?ie:0)+Ve+z),Qt=Te+At;f.style.height=Qt+"px"}else{const ke=M.length>0&&D===M[0].ref.current;f.style.top="0px";const At=Math.max(me,oe+A.offsetTop+(ke?fe:0)+_e)+Le;f.style.height=At+"px",A.scrollTop=Te-me+A.offsetTop}f.style.margin=`${gr}px 0`,f.style.minHeight=B+"px",f.style.maxHeight=V+"px",i==null||i(),requestAnimationFrame(()=>R.current=!0)}},[E,l.trigger,l.valueNode,f,p,A,D,j,l.dir,i]);Sn(()=>F(),[F]);const[K,Q]=x.useState();Sn(()=>{p&&Q(window.getComputedStyle(p).zIndex)},[p]);const se=x.useCallback(N=>{N&&C.current===!0&&(F(),U==null||U(),C.current=!1)},[F,U]);return y.jsx(sj,{scope:t,contentWrapper:f,shouldExpandOnScrollRef:R,onScrollButtonChange:se,children:y.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:K},children:y.jsx(mt.div,{...a,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});LA.displayName=rj;var ij="SelectPopperPosition",vy=x.forwardRef((n,e)=>{const{__scopeSelect:t,align:i="start",collisionPadding:a=gr,...l}=n,c=tm(t);return y.jsx(eV,{...c,...l,ref:e,align:i,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});vy.displayName=ij;var[sj,Hv]=Ll(Za,{}),_y="SelectViewport",UA=x.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:i,...a}=n,l=Zs(_y,t),c=Hv(_y,t),f=Dt(e,l.onViewportChange),m=x.useRef(0);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),y.jsx(Jh.Slot,{scope:t,children:y.jsx(mt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:St(a.onScroll,p=>{const v=p.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:E}=c;if(E!=null&&E.current&&b){const R=Math.abs(m.current-v.scrollTop);if(R>0){const C=window.innerHeight-gr*2,A=parseFloat(b.style.minHeight),D=parseFloat(b.style.height),j=Math.max(A,D);if(j<C){const U=j+R,F=Math.min(C,U),K=U-F;b.style.height=F+"px",b.style.bottom==="0px"&&(v.scrollTop=K>0?K:0,b.style.justifyContent="flex-end")}}}m.current=v.scrollTop})})})]})});UA.displayName=_y;var BA="SelectGroup",[aj,oj]=Ll(BA),lj=x.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,a=kv();return y.jsx(aj,{scope:t,id:a,children:y.jsx(mt.div,{role:"group","aria-labelledby":a,...i,ref:e})})});lj.displayName=BA;var zA="SelectLabel",uj=x.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,a=oj(zA,t);return y.jsx(mt.div,{id:a.id,...i,ref:e})});uj.displayName=zA;var _h="SelectItem",[cj,FA]=Ll(_h),HA=x.forwardRef((n,e)=>{const{__scopeSelect:t,value:i,disabled:a=!1,textValue:l,...c}=n,f=Ws(_h,t),m=Zs(_h,t),p=f.value===i,[v,b]=x.useState(l??""),[E,R]=x.useState(!1),C=Dt(e,U=>{var F;return(F=m.itemRefCallback)==null?void 0:F.call(m,U,i,a)}),A=kv(),D=x.useRef("touch"),j=()=>{a||(f.onValueChange(i),f.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return y.jsx(cj,{scope:t,value:i,disabled:a,textId:A,isSelected:p,onItemTextChange:x.useCallback(U=>{b(F=>F||((U==null?void 0:U.textContent)??"").trim())},[]),children:y.jsx(Jh.ItemSlot,{scope:t,value:i,disabled:a,textValue:v,children:y.jsx(mt.div,{role:"option","aria-labelledby":A,"data-highlighted":E?"":void 0,"aria-selected":p&&E,"data-state":p?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...c,ref:C,onFocus:St(c.onFocus,()=>R(!0)),onBlur:St(c.onBlur,()=>R(!1)),onClick:St(c.onClick,()=>{D.current!=="mouse"&&j()}),onPointerUp:St(c.onPointerUp,()=>{D.current==="mouse"&&j()}),onPointerDown:St(c.onPointerDown,U=>{D.current=U.pointerType}),onPointerMove:St(c.onPointerMove,U=>{var F;D.current=U.pointerType,a?(F=m.onItemLeave)==null||F.call(m):D.current==="mouse"&&U.currentTarget.focus({preventScroll:!0})}),onPointerLeave:St(c.onPointerLeave,U=>{var F;U.currentTarget===document.activeElement&&((F=m.onItemLeave)==null||F.call(m))}),onKeyDown:St(c.onKeyDown,U=>{var K;((K=m.searchRef)==null?void 0:K.current)!==""&&U.key===" "||(KV.includes(U.key)&&j(),U.key===" "&&U.preventDefault())})})})})});HA.displayName=_h;var ic="SelectItemText",qA=x.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:a,...l}=n,c=Ws(ic,t),f=Zs(ic,t),m=FA(ic,t),p=ZV(ic,t),[v,b]=x.useState(null),E=Dt(e,j=>b(j),m.onItemTextChange,j=>{var U;return(U=f.itemTextRefCallback)==null?void 0:U.call(f,j,m.value,m.disabled)}),R=v==null?void 0:v.textContent,C=x.useMemo(()=>y.jsx("option",{value:m.value,disabled:m.disabled,children:R},m.value),[m.disabled,m.value,R]),{onNativeOptionAdd:A,onNativeOptionRemove:D}=p;return Sn(()=>(A(C),()=>D(C)),[A,D,C]),y.jsxs(y.Fragment,{children:[y.jsx(mt.span,{id:m.textId,...l,ref:E}),m.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Rc.createPortal(l.children,c.valueNode):null]})});qA.displayName=ic;var GA="SelectItemIndicator",$A=x.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return FA(GA,t).isSelected?y.jsx(mt.span,{"aria-hidden":!0,...i,ref:e}):null});$A.displayName=GA;var by="SelectScrollUpButton",YA=x.forwardRef((n,e)=>{const t=Zs(by,n.__scopeSelect),i=Hv(by,n.__scopeSelect),[a,l]=x.useState(!1),c=Dt(e,i.onScrollButtonChange);return Sn(()=>{if(t.viewport&&t.isPositioned){let f=function(){const p=m.scrollTop>0;l(p)};const m=t.viewport;return f(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[t.viewport,t.isPositioned]),a?y.jsx(QA,{...n,ref:c,onAutoScroll:()=>{const{viewport:f,selectedItem:m}=t;f&&m&&(f.scrollTop=f.scrollTop-m.offsetHeight)}}):null});YA.displayName=by;var Ey="SelectScrollDownButton",KA=x.forwardRef((n,e)=>{const t=Zs(Ey,n.__scopeSelect),i=Hv(Ey,n.__scopeSelect),[a,l]=x.useState(!1),c=Dt(e,i.onScrollButtonChange);return Sn(()=>{if(t.viewport&&t.isPositioned){let f=function(){const p=m.scrollHeight-m.clientHeight,v=Math.ceil(m.scrollTop)<p;l(v)};const m=t.viewport;return f(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[t.viewport,t.isPositioned]),a?y.jsx(QA,{...n,ref:c,onAutoScroll:()=>{const{viewport:f,selectedItem:m}=t;f&&m&&(f.scrollTop=f.scrollTop+m.offsetHeight)}}):null});KA.displayName=Ey;var QA=x.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:i,...a}=n,l=Zs("SelectScrollButton",t),c=x.useRef(null),f=em(t),m=x.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return x.useEffect(()=>()=>m(),[m]),Sn(()=>{var v;const p=f().find(b=>b.ref.current===document.activeElement);(v=p==null?void 0:p.ref.current)==null||v.scrollIntoView({block:"nearest"})},[f]),y.jsx(mt.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:St(a.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(i,50))}),onPointerMove:St(a.onPointerMove,()=>{var p;(p=l.onItemLeave)==null||p.call(l),c.current===null&&(c.current=window.setInterval(i,50))}),onPointerLeave:St(a.onPointerLeave,()=>{m()})})}),dj="SelectSeparator",fj=x.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return y.jsx(mt.div,{"aria-hidden":!0,...i,ref:e})});fj.displayName=dj;var wy="SelectArrow",hj=x.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,a=tm(t),l=Ws(wy,t),c=Zs(wy,t);return l.open&&c.position==="popper"?y.jsx(tV,{...a,...i,ref:e}):null});hj.displayName=wy;var mj="SelectBubbleInput",XA=x.forwardRef(({__scopeSelect:n,value:e,...t},i)=>{const a=x.useRef(null),l=Dt(i,a),c=vA(e);return x.useEffect(()=>{const f=a.current;if(!f)return;const m=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(m,"value").set;if(c!==e&&v){const b=new Event("change",{bubbles:!0});v.call(f,e),f.dispatchEvent(b)}},[c,e]),y.jsx(mt.select,{...t,style:{..._A,...t.style},ref:l,defaultValue:e})});XA.displayName=mj;function WA(n){return n===""||n===void 0}function ZA(n){const e=Qa(n),t=x.useRef(""),i=x.useRef(0),a=x.useCallback(c=>{const f=t.current+c;e(f),function m(p){t.current=p,window.clearTimeout(i.current),p!==""&&(i.current=window.setTimeout(()=>m(""),1e3))}(f)},[e]),l=x.useCallback(()=>{t.current="",window.clearTimeout(i.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(i.current),[]),[t,a,l]}function JA(n,e,t){const a=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,l=t?n.indexOf(t):-1;let c=pj(n,Math.max(l,0));a.length===1&&(c=c.filter(p=>p!==t));const m=c.find(p=>p.textValue.toLowerCase().startsWith(a.toLowerCase()));return m!==t?m:void 0}function pj(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var gj=CA,yj=NA,vj=OA,_j=kA,bj=MA,Ej=PA,wj=UA,Tj=HA,xj=qA,Sj=$A,Aj=YA,Rj=KA;function ja({...n}){return y.jsx(gj,{"data-slot":"select",...n})}function La({...n}){return y.jsx(vj,{"data-slot":"select-value",...n})}function Ua({className:n,size:e="default",children:t,...i}){return y.jsxs(yj,{"data-slot":"select-trigger","data-size":e,className:Bt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...i,children:[t,y.jsx(_j,{asChild:!0,children:y.jsx(ux,{className:"size-4 opacity-50"})})]})}function Ba({className:n,children:e,position:t="popper",...i}){return y.jsx(bj,{children:y.jsxs(Ej,{"data-slot":"select-content",className:Bt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...i,children:[y.jsx(Cj,{}),y.jsx(wj,{className:Bt("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),y.jsx(Ij,{})]})})}function fn({className:n,children:e,...t}){return y.jsxs(Tj,{"data-slot":"select-item",className:Bt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[y.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:y.jsx(Sj,{children:y.jsx(lx,{className:"size-4"})})}),y.jsx(xj,{children:e})]})}function Cj({className:n,...e}){return y.jsx(Aj,{"data-slot":"select-scroll-up-button",className:Bt("flex cursor-default items-center justify-center py-1",n),...e,children:y.jsx(_N,{className:"size-4"})})}function Ij({className:n,...e}){return y.jsx(Rj,{"data-slot":"select-scroll-down-button",className:Bt("flex cursor-default items-center justify-center py-1",n),...e,children:y.jsx(ux,{className:"size-4"})})}function Nj({className:n,...e}){return y.jsx("textarea",{"data-slot":"textarea",className:Bt("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}function Dj(n,e){return x.useReducer((t,i)=>e[t][i]??t,n)}var e2=n=>{const{present:e,children:t}=n,i=Oj(e),a=typeof t=="function"?t({present:i.isPresent}):x.Children.only(t),l=Dt(i.ref,kj(a));return typeof t=="function"||i.isPresent?x.cloneElement(a,{ref:l}):null};e2.displayName="Presence";function Oj(n){const[e,t]=x.useState(),i=x.useRef(null),a=x.useRef(n),l=x.useRef("none"),c=n?"mounted":"unmounted",[f,m]=Dj(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const p=Cf(i.current);l.current=f==="mounted"?p:"none"},[f]),Sn(()=>{const p=i.current,v=a.current;if(v!==n){const E=l.current,R=Cf(p);n?m("MOUNT"):R==="none"||(p==null?void 0:p.display)==="none"?m("UNMOUNT"):m(v&&E!==R?"ANIMATION_OUT":"UNMOUNT"),a.current=n}},[n,m]),Sn(()=>{if(e){let p;const v=e.ownerDocument.defaultView??window,b=R=>{const A=Cf(i.current).includes(R.animationName);if(R.target===e&&A&&(m("ANIMATION_END"),!a.current)){const D=e.style.animationFillMode;e.style.animationFillMode="forwards",p=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=D)})}},E=R=>{R.target===e&&(l.current=Cf(i.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",b),e.addEventListener("animationend",b),()=>{v.clearTimeout(p),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",b),e.removeEventListener("animationend",b)}}else m("ANIMATION_END")},[e,m]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:x.useCallback(p=>{i.current=p?getComputedStyle(p):null,t(p)},[])}}function Cf(n){return(n==null?void 0:n.animationName)||"none"}function kj(n){var i,a;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var nm="Checkbox",[Mj,dL]=zc(nm),[Pj,qv]=Mj(nm);function Vj(n){const{__scopeCheckbox:e,checked:t,children:i,defaultChecked:a,disabled:l,form:c,name:f,onCheckedChange:m,required:p,value:v="on",internal_do_not_use_render:b}=n,[E,R]=gy({prop:t,defaultProp:a??!1,onChange:m,caller:nm}),[C,A]=x.useState(null),[D,j]=x.useState(null),U=x.useRef(!1),F=C?!!c||!!C.closest("form"):!0,K={checked:E,disabled:l,setChecked:R,control:C,setControl:A,name:f,form:c,value:v,hasConsumerStoppedPropagationRef:U,required:p,defaultChecked:Us(a)?!1:a,isFormControl:F,bubbleInput:D,setBubbleInput:j};return y.jsx(Pj,{scope:e,...K,children:jj(b)?b(K):i})}var t2="CheckboxTrigger",n2=x.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...i},a)=>{const{control:l,value:c,disabled:f,checked:m,required:p,setControl:v,setChecked:b,hasConsumerStoppedPropagationRef:E,isFormControl:R,bubbleInput:C}=qv(t2,n),A=Dt(a,v),D=x.useRef(m);return x.useEffect(()=>{const j=l==null?void 0:l.form;if(j){const U=()=>b(D.current);return j.addEventListener("reset",U),()=>j.removeEventListener("reset",U)}},[l,b]),y.jsx(mt.button,{type:"button",role:"checkbox","aria-checked":Us(m)?"mixed":m,"aria-required":p,"data-state":l2(m),"data-disabled":f?"":void 0,disabled:f,value:c,...i,ref:A,onKeyDown:St(e,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:St(t,j=>{b(U=>Us(U)?!0:!U),C&&R&&(E.current=j.isPropagationStopped(),E.current||j.stopPropagation())})})});n2.displayName=t2;var r2=x.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:i,checked:a,defaultChecked:l,required:c,disabled:f,value:m,onCheckedChange:p,form:v,...b}=n;return y.jsx(Vj,{__scopeCheckbox:t,checked:a,defaultChecked:l,disabled:f,required:c,onCheckedChange:p,name:i,form:v,value:m,internal_do_not_use_render:({isFormControl:E})=>y.jsxs(y.Fragment,{children:[y.jsx(n2,{...b,ref:e,__scopeCheckbox:t}),E&&y.jsx(o2,{__scopeCheckbox:t})]})})});r2.displayName=nm;var i2="CheckboxIndicator",s2=x.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:i,...a}=n,l=qv(i2,t);return y.jsx(e2,{present:i||Us(l.checked)||l.checked===!0,children:y.jsx(mt.span,{"data-state":l2(l.checked),"data-disabled":l.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...n.style}})})});s2.displayName=i2;var a2="CheckboxBubbleInput",o2=x.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:i,hasConsumerStoppedPropagationRef:a,checked:l,defaultChecked:c,required:f,disabled:m,name:p,value:v,form:b,bubbleInput:E,setBubbleInput:R}=qv(a2,n),C=Dt(t,R),A=vA(l),D=aA(i);x.useEffect(()=>{const U=E;if(!U)return;const F=window.HTMLInputElement.prototype,Q=Object.getOwnPropertyDescriptor(F,"checked").set,se=!a.current;if(A!==l&&Q){const N=new Event("click",{bubbles:se});U.indeterminate=Us(l),Q.call(U,Us(l)?!1:l),U.dispatchEvent(N)}},[E,A,l,a]);const j=x.useRef(Us(l)?!1:l);return y.jsx(mt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??j.current,required:f,disabled:m,name:p,value:v,form:b,...e,tabIndex:-1,ref:C,style:{...e.style,...D,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});o2.displayName=a2;function jj(n){return typeof n=="function"}function Us(n){return n==="indeterminate"}function l2(n){return Us(n)?"indeterminate":n?"checked":"unchecked"}function RT({className:n,...e}){return y.jsx(r2,{"data-slot":"checkbox",className:Bt("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:y.jsx(s2,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:y.jsx(lx,{className:"size-3.5"})})})}function Lj(){const{currentUser:n}=Rr(),{currentLedger:e,canEdit:t}=Bc(),[i,a]=x.useState([]),[l,c]=x.useState([]),[f,m]=x.useState(!0),[p,v]=x.useState(!1),[b,E]=x.useState(null),[R,C]=x.useState([]),[A,D]=x.useState(!1),[j,U]=x.useState(""),[F,K]=x.useState(""),[Q,se]=x.useState({amount:"",type:"expense",description:"",categoryId:"",paymentMethod:"credit card",notes:"",includeInBudget:!0,date:new Date().toISOString().split("T")[0]}),[N,S]=x.useState({categoryId:"",includeInBudget:null}),k=async()=>{if(e)try{const z=an(ht,"ledgers",e.id,"transactions"),G=Vi(z,Ka("date","desc")),he=await lr(G),B=[];he.forEach(ne=>{var ie;const fe=ne.data();B.push({id:ne.id,...fe,date:((ie=fe.date)==null?void 0:ie.toDate())||new Date})}),a(B)}catch(z){console.error("Error fetching transactions:",z),U("Failed to fetch transactions")}},L=async()=>{if(e)try{const z=an(ht,"ledgers",e.id,"categories"),G=await lr(z),he=[];G.forEach(B=>{he.push({id:B.id,...B.data()})}),c(he),he.length===0&&await M()}catch(z){console.error("Error fetching categories:",z)}},M=async()=>{const z=[{name:"Food & Dining",type:"expense"},{name:"Transportation",type:"expense"},{name:"Shopping",type:"expense"},{name:"Entertainment",type:"expense"},{name:"Bills & Utilities",type:"expense"},{name:"Healthcare",type:"expense"},{name:"Salary",type:"income"},{name:"Freelance",type:"income"},{name:"Investment",type:"income"}];try{const G=an(ht,"ledgers",e.id,"categories");for(const he of z)await Ls(G,he);await L()}catch(G){console.error("Error creating default categories:",G)}},V=async z=>{if(z.preventDefault(),!t()){U("You do not have permission to add transactions");return}try{U("");const G={...Q,amount:parseFloat(Q.amount),date:dt.fromDate(new Date(Q.date)),createdAt:dt.now(),userId:n.uid};b?(await mh(Jr(ht,"ledgers",e.id,"transactions",b.id),G),K("Transaction updated successfully")):(await Ls(an(ht,"ledgers",e.id,"transactions"),G),K("Transaction added successfully")),se({amount:"",type:"expense",description:"",categoryId:"",paymentMethod:"credit card",notes:"",includeInBudget:!0,date:new Date().toISOString().split("T")[0]}),v(!1),E(null),await k()}catch(G){console.error("Error saving transaction:",G),U("Failed to save transaction")}},P=async z=>{if(!t()){U("You do not have permission to delete transactions");return}try{await Ov(Jr(ht,"ledgers",e.id,"transactions",z)),K("Transaction deleted successfully"),await k()}catch(G){console.error("Error deleting transaction:",G),U("Failed to delete transaction")}},J=async()=>{if(!(!t()||R.length===0))try{U("");const z={};N.categoryId&&(z.categoryId=N.categoryId),N.includeInBudget!==null&&(z.includeInBudget=N.includeInBudget);for(const G of R)await mh(Jr(ht,"ledgers",e.id,"transactions",G),z);K(`Updated ${R.length} transactions`),C([]),D(!1),S({categoryId:"",includeInBudget:null}),await k()}catch(z){console.error("Error batch updating transactions:",z),U("Failed to update transactions")}},oe=z=>{C(G=>G.includes(z)?G.filter(he=>he!==z):[...G,z])},H=()=>{R.length===i.length?C([]):C(i.map(z=>z.id))};return x.useEffect(()=>{e&&Promise.all([k(),L()]).finally(()=>m(!1))},[e]),f?y.jsx("div",{className:"p-6",children:"Loading transactions..."}):e?y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Transactions"}),y.jsxs("div",{className:"flex space-x-2",children:[R.length>0&&y.jsxs(Ye,{variant:"outline",onClick:()=>D(!0),className:"flex items-center space-x-2",children:[y.jsx(hc,{className:"h-4 w-4"}),y.jsxs("span",{children:["Batch Edit (",R.length,")"]})]}),t()&&y.jsxs(Ye,{onClick:()=>v(!0),className:"flex items-center space-x-2",children:[y.jsx(Gf,{className:"h-4 w-4"}),y.jsx("span",{children:"Add Transaction"})]})]})]}),j&&y.jsx(vr,{variant:"destructive",children:y.jsx(_r,{children:j})}),F&&y.jsx(vr,{children:y.jsx(_r,{children:F})}),(p||b)&&y.jsxs(Lt,{children:[y.jsx(rn,{children:y.jsx(sn,{children:b?"Edit Transaction":"Add New Transaction"})}),y.jsx(Ut,{children:y.jsxs("form",{onSubmit:V,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx(st,{htmlFor:"amount",children:"Amount"}),y.jsx(pn,{id:"amount",type:"number",step:"0.01",value:Q.amount,onChange:z=>se({...Q,amount:z.target.value}),required:!0})]}),y.jsxs("div",{children:[y.jsx(st,{htmlFor:"type",children:"Type"}),y.jsxs(ja,{value:Q.type,onValueChange:z=>se({...Q,type:z}),children:[y.jsx(Ua,{children:y.jsx(La,{})}),y.jsxs(Ba,{children:[y.jsx(fn,{value:"expense",children:"Expense"}),y.jsx(fn,{value:"income",children:"Income"})]})]})]}),y.jsxs("div",{children:[y.jsx(st,{htmlFor:"description",children:"Description"}),y.jsx(pn,{id:"description",value:Q.description,onChange:z=>se({...Q,description:z.target.value}),required:!0})]}),y.jsxs("div",{children:[y.jsx(st,{htmlFor:"category",children:"Category"}),y.jsxs(ja,{value:Q.categoryId,onValueChange:z=>se({...Q,categoryId:z}),children:[y.jsx(Ua,{children:y.jsx(La,{placeholder:"Select category"})}),y.jsx(Ba,{children:l.filter(z=>z.type===Q.type).map(z=>y.jsx(fn,{value:z.id,children:z.name},z.id))})]})]}),y.jsxs("div",{children:[y.jsx(st,{htmlFor:"paymentMethod",children:"Payment Method"}),y.jsxs(ja,{value:Q.paymentMethod,onValueChange:z=>se({...Q,paymentMethod:z}),children:[y.jsx(Ua,{children:y.jsx(La,{})}),y.jsxs(Ba,{children:[y.jsx(fn,{value:"credit card",children:"Credit Card"}),y.jsx(fn,{value:"debit card",children:"Debit Card"}),y.jsx(fn,{value:"cash",children:"Cash"}),y.jsx(fn,{value:"bank transfer",children:"Bank Transfer"}),y.jsx(fn,{value:"check",children:"Check"})]})]})]}),y.jsxs("div",{children:[y.jsx(st,{htmlFor:"date",children:"Date"}),y.jsx(pn,{id:"date",type:"date",value:Q.date,onChange:z=>se({...Q,date:z.target.value}),required:!0})]})]}),y.jsxs("div",{children:[y.jsx(st,{htmlFor:"notes",children:"Notes"}),y.jsx(Nj,{id:"notes",value:Q.notes,onChange:z=>se({...Q,notes:z.target.value}),rows:3})]}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(RT,{id:"includeInBudget",checked:Q.includeInBudget,onCheckedChange:z=>se({...Q,includeInBudget:z})}),y.jsx(st,{htmlFor:"includeInBudget",children:"Include in budget calculations"})]}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx(Ye,{type:"submit",children:b?"Update Transaction":"Add Transaction"}),y.jsx(Ye,{type:"button",variant:"outline",onClick:()=>{v(!1),E(null),se({amount:"",type:"expense",description:"",categoryId:"",paymentMethod:"credit card",notes:"",includeInBudget:!0,date:new Date().toISOString().split("T")[0]})},children:"Cancel"})]})]})})]}),A&&y.jsxs(Lt,{children:[y.jsxs(rn,{children:[y.jsx(sn,{children:"Batch Edit Transactions"}),y.jsxs(Er,{children:["Update ",R.length," selected transactions"]})]}),y.jsx(Ut,{children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx(st,{htmlFor:"batchCategory",children:"Change Category"}),y.jsxs(ja,{value:N.categoryId,onValueChange:z=>S({...N,categoryId:z}),children:[y.jsx(Ua,{children:y.jsx(La,{placeholder:"Select new category (optional)"})}),y.jsx(Ba,{children:l.map(z=>y.jsxs(fn,{value:z.id,children:[z.name," (",z.type,")"]},z.id))})]})]}),y.jsxs("div",{children:[y.jsx(st,{children:"Include in Budget"}),y.jsxs("div",{className:"flex space-x-4 mt-2",children:[y.jsx(Ye,{type:"button",variant:N.includeInBudget===!0?"default":"outline",onClick:()=>S({...N,includeInBudget:!0}),children:"Include"}),y.jsx(Ye,{type:"button",variant:N.includeInBudget===!1?"default":"outline",onClick:()=>S({...N,includeInBudget:!1}),children:"Exclude"}),y.jsx(Ye,{type:"button",variant:N.includeInBudget===null?"default":"outline",onClick:()=>S({...N,includeInBudget:null}),children:"No Change"})]})]}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx(Ye,{onClick:J,children:"Update Transactions"}),y.jsx(Ye,{variant:"outline",onClick:()=>{D(!1),S({categoryId:"",includeInBudget:null})},children:"Cancel"})]})]})})]}),y.jsxs(Lt,{children:[y.jsx(rn,{children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx(sn,{children:"Transaction History"}),y.jsxs(Er,{children:[i.length," transactions in ",e.name]})]}),i.length>0&&y.jsxs(Ye,{variant:"outline",onClick:H,className:"flex items-center space-x-2",children:[R.length===i.length?y.jsx(BN,{className:"h-4 w-4"}):y.jsx(HN,{className:"h-4 w-4"}),y.jsx("span",{children:"Select All"})]})]})}),y.jsx(Ut,{children:i.length===0?y.jsx("div",{className:"text-center py-8 text-gray-500",children:"No transactions found. Add your first transaction to get started."}):y.jsx("div",{className:"space-y-2",children:i.map(z=>{const G=l.find(he=>he.id===z.categoryId);return y.jsxs("div",{className:`flex items-center justify-between p-4 border rounded-lg ${R.includes(z.id)?"bg-blue-50 border-blue-200":"bg-white"}`,children:[y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx(RT,{checked:R.includes(z.id),onCheckedChange:()=>oe(z.id)}),y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("h3",{className:"font-medium",children:z.description}),G&&y.jsx(za,{variant:"secondary",children:G.name}),!z.includeInBudget&&y.jsx(za,{variant:"outline",children:"Excluded from Budget"})]}),y.jsxs("div",{className:"text-sm text-gray-500 flex items-center space-x-4",children:[y.jsxs("span",{className:"flex items-center space-x-1",children:[y.jsx(ox,{className:"h-3 w-3"}),y.jsx("span",{children:z.date.toLocaleDateString()})]}),y.jsxs("span",{className:"flex items-center space-x-1",children:[y.jsx(My,{className:"h-3 w-3"}),y.jsx("span",{children:z.paymentMethod})]})]}),z.notes&&y.jsx("p",{className:"text-sm text-gray-600 mt-1",children:z.notes})]})]}),y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsxs("div",{className:`text-lg font-semibold ${z.type==="income"?"text-green-600":"text-red-600"}`,children:[z.type==="income"?"+":"-","$",z.amount.toFixed(2)]}),t()&&y.jsxs("div",{className:"flex space-x-2",children:[y.jsx(Ye,{variant:"ghost",size:"sm",onClick:()=>{E(z),se({amount:z.amount.toString(),type:z.type,description:z.description,categoryId:z.categoryId||"",paymentMethod:z.paymentMethod||"credit card",notes:z.notes||"",includeInBudget:z.includeInBudget!==!1,date:z.date.toISOString().split("T")[0]})},children:y.jsx(hc,{className:"h-4 w-4"})}),y.jsx(Ye,{variant:"ghost",size:"sm",onClick:()=>P(z.id),children:y.jsx($f,{className:"h-4 w-4"})})]})]})]},z.id)})})})]})]}):y.jsx("div",{className:"p-6",children:"Please select a ledger to view transactions."})}var Gv="Progress",$v=100,[Uj,fL]=zc(Gv),[Bj,zj]=Uj(Gv),u2=x.forwardRef((n,e)=>{const{__scopeProgress:t,value:i=null,max:a,getValueLabel:l=Fj,...c}=n;(a||a===0)&&!CT(a)&&console.error(Hj(`${a}`,"Progress"));const f=CT(a)?a:$v;i!==null&&!IT(i,f)&&console.error(qj(`${i}`,"Progress"));const m=IT(i,f)?i:null,p=bh(m)?l(m,f):void 0;return y.jsx(Bj,{scope:t,value:m,max:f,children:y.jsx(mt.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":bh(m)?m:void 0,"aria-valuetext":p,role:"progressbar","data-state":f2(m,f),"data-value":m??void 0,"data-max":f,...c,ref:e})})});u2.displayName=Gv;var c2="ProgressIndicator",d2=x.forwardRef((n,e)=>{const{__scopeProgress:t,...i}=n,a=zj(c2,t);return y.jsx(mt.div,{"data-state":f2(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...i,ref:e})});d2.displayName=c2;function Fj(n,e){return`${Math.round(n/e*100)}%`}function f2(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function bh(n){return typeof n=="number"}function CT(n){return bh(n)&&!isNaN(n)&&n>0}function IT(n,e){return bh(n)&&!isNaN(n)&&n<=e&&n>=0}function Hj(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${$v}\`.`}function qj(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${$v} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Gj=u2,$j=d2;function Ty({className:n,value:e,...t}){return y.jsx(Gj,{"data-slot":"progress",className:Bt("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",n),...t,children:y.jsx($j,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}function Yj(){const{currentUser:n}=Rr(),{currentLedger:e,canEdit:t}=Bc(),[i,a]=x.useState([]),[l,c]=x.useState([]),[f,m]=x.useState([]),[p,v]=x.useState(!0),[b,E]=x.useState(!1),[R,C]=x.useState(null),[A,D]=x.useState(""),[j,U]=x.useState(""),[F,K]=x.useState({name:"",startDate:new Date().toISOString().split("T")[0],endDate:"",totalAmount:"",timeSpan:"monthly",categories:{}}),Q=(J,oe)=>{const H=new Date(J);let z=new Date(H);switch(oe){case"weekly":z.setDate(H.getDate()+6);break;case"monthly":z.setMonth(H.getMonth()+1),z.setDate(H.getDate()-1);break;case"quarterly":z.setMonth(H.getMonth()+3),z.setDate(H.getDate()-1);break;case"yearly":z.setFullYear(H.getFullYear()+1),z.setDate(H.getDate()-1);break;default:z.setMonth(H.getMonth()+1),z.setDate(H.getDate()-1)}return z.toISOString().split("T")[0]},se=async()=>{if(e)try{const J=an(ht,"ledgers",e.id,"budgets"),oe=Vi(J,Ka("startDate","desc")),H=await lr(oe),z=[];H.forEach(G=>{var B,ne;const he=G.data();z.push({id:G.id,...he,startDate:((B=he.startDate)==null?void 0:B.toDate())||new Date,endDate:((ne=he.endDate)==null?void 0:ne.toDate())||new Date})}),a(z)}catch(J){console.error("Error fetching budgets:",J),D("Failed to fetch budgets")}},N=async()=>{if(e)try{const J=an(ht,"ledgers",e.id,"categories"),oe=await lr(J),H=[];oe.forEach(z=>{H.push({id:z.id,...z.data()})}),c(H)}catch(J){console.error("Error fetching categories:",J)}},S=async()=>{if(e)try{const J=an(ht,"ledgers",e.id,"transactions"),oe=Vi(J,ll("includeInBudget","==",!0)),H=await lr(oe),z=[];H.forEach(G=>{var B;const he=G.data();z.push({id:G.id,...he,date:((B=he.date)==null?void 0:B.toDate())||new Date})}),m(z)}catch(J){console.error("Error fetching transactions:",J)}},k=J=>{const oe=f.filter(G=>{const he=G.date;return he>=J.startDate&&he<=J.endDate&&G.type==="expense"}),H=oe.reduce((G,he)=>G+he.amount,0),z={};return oe.forEach(G=>{G.categoryId&&(z[G.categoryId]=(z[G.categoryId]||0)+G.amount)}),{totalSpent:H,categorySpending:z,transactionCount:oe.length}},L=async J=>{if(J.preventDefault(),!t()){D("You do not have permission to manage budgets");return}try{D("");const oe={...F,totalAmount:parseFloat(F.totalAmount),startDate:dt.fromDate(new Date(F.startDate)),endDate:dt.fromDate(new Date(F.endDate)),createdAt:dt.now(),userId:n.uid};R?(await mh(Jr(ht,"ledgers",e.id,"budgets",R.id),oe),U("Budget updated successfully")):(await Ls(an(ht,"ledgers",e.id,"budgets"),oe),U("Budget created successfully")),K({name:"",startDate:new Date().toISOString().split("T")[0],endDate:"",totalAmount:"",timeSpan:"monthly",categories:{}}),E(!1),C(null),await se()}catch(oe){console.error("Error saving budget:",oe),D("Failed to save budget")}},M=async J=>{if(!t()){D("You do not have permission to delete budgets");return}try{await Ov(Jr(ht,"ledgers",e.id,"budgets",J)),U("Budget deleted successfully"),await se()}catch(oe){console.error("Error deleting budget:",oe),D("Failed to delete budget")}},V=(J,oe)=>{K(H=>({...H,categories:{...H.categories,[J]:parseFloat(oe)||0}}))},P=()=>{const J=Object.values(F.categories).reduce((oe,H)=>oe+(H||0),0);return(parseFloat(F.totalAmount)||0)-J};return x.useEffect(()=>{e&&Promise.all([se(),N(),S()]).finally(()=>v(!1))},[e]),x.useEffect(()=>{if(F.startDate&&F.timeSpan){const J=Q(F.startDate,F.timeSpan);K(oe=>({...oe,endDate:J}))}},[F.startDate,F.timeSpan]),p?y.jsx("div",{className:"p-6",children:"Loading budgets..."}):e?y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Budget Management"}),t()&&y.jsxs(Ye,{onClick:()=>E(!0),className:"flex items-center space-x-2",children:[y.jsx(Gf,{className:"h-4 w-4"}),y.jsx("span",{children:"Create Budget"})]})]}),A&&y.jsx(vr,{variant:"destructive",children:y.jsx(_r,{children:A})}),j&&y.jsx(vr,{children:y.jsx(_r,{children:j})}),(b||R)&&y.jsxs(Lt,{children:[y.jsx(rn,{children:y.jsx(sn,{children:R?"Edit Budget":"Create New Budget"})}),y.jsx(Ut,{children:y.jsxs("form",{onSubmit:L,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx(st,{htmlFor:"name",children:"Budget Name"}),y.jsx(pn,{id:"name",value:F.name,onChange:J=>K({...F,name:J.target.value}),placeholder:"e.g., Monthly Budget - June 2025",required:!0})]}),y.jsxs("div",{children:[y.jsx(st,{htmlFor:"timeSpan",children:"Time Span"}),y.jsxs(ja,{value:F.timeSpan,onValueChange:J=>K({...F,timeSpan:J}),children:[y.jsx(Ua,{children:y.jsx(La,{})}),y.jsxs(Ba,{children:[y.jsx(fn,{value:"weekly",children:"Weekly"}),y.jsx(fn,{value:"monthly",children:"Monthly"}),y.jsx(fn,{value:"quarterly",children:"Quarterly"}),y.jsx(fn,{value:"yearly",children:"Yearly"}),y.jsx(fn,{value:"custom",children:"Custom"})]})]})]}),y.jsxs("div",{children:[y.jsx(st,{htmlFor:"startDate",children:"Start Date"}),y.jsx(pn,{id:"startDate",type:"date",value:F.startDate,onChange:J=>K({...F,startDate:J.target.value}),required:!0})]}),y.jsxs("div",{children:[y.jsx(st,{htmlFor:"endDate",children:"End Date"}),y.jsx(pn,{id:"endDate",type:"date",value:F.endDate,onChange:J=>K({...F,endDate:J.target.value}),disabled:F.timeSpan!=="custom",required:!0})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx(st,{htmlFor:"totalAmount",children:"Total Budget Amount"}),y.jsx(pn,{id:"totalAmount",type:"number",step:"0.01",value:F.totalAmount,onChange:J=>K({...F,totalAmount:J.target.value}),required:!0})]})]}),y.jsxs("div",{children:[y.jsx(st,{children:"Category Budget Allocation"}),y.jsxs("div",{className:"mt-2 space-y-2",children:[l.filter(J=>J.type==="expense").map(J=>y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(st,{className:"w-32 text-sm",children:J.name}),y.jsx(pn,{type:"number",step:"0.01",value:F.categories[J.id]||"",onChange:oe=>V(J.id,oe.target.value),placeholder:"0.00",className:"w-32"})]},J.id)),y.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[y.jsx(st,{className:"w-32 text-sm font-medium",children:"Remaining:"}),y.jsxs("span",{className:`text-sm font-medium ${P()<0?"text-red-600":"text-green-600"}`,children:["$",P().toFixed(2)]})]})]})]}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx(Ye,{type:"submit",children:R?"Update Budget":"Create Budget"}),y.jsx(Ye,{type:"button",variant:"outline",onClick:()=>{E(!1),C(null),K({name:"",startDate:new Date().toISOString().split("T")[0],endDate:"",totalAmount:"",timeSpan:"monthly",categories:{}})},children:"Cancel"})]})]})})]}),y.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:i.length===0?y.jsx(Lt,{className:"lg:col-span-2",children:y.jsxs(Ut,{className:"text-center py-8",children:[y.jsx($N,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),y.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No budgets created yet"}),y.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first budget to start tracking your spending goals."}),t()&&y.jsx(Ye,{onClick:()=>E(!0),children:"Create Your First Budget"})]})}):i.map(J=>{const oe=k(J),H=oe.totalSpent/J.totalAmount*100,z=oe.totalSpent>J.totalAmount,G=Math.ceil((J.endDate-new Date)/(1e3*60*60*24));return y.jsxs(Lt,{children:[y.jsx(rn,{children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx(sn,{className:"text-lg",children:J.name}),y.jsxs(Er,{children:[J.startDate.toLocaleDateString()," - ",J.endDate.toLocaleDateString()]})]}),t()&&y.jsxs("div",{className:"flex space-x-2",children:[y.jsx(Ye,{variant:"ghost",size:"sm",onClick:()=>{C(J),K({name:J.name,startDate:J.startDate.toISOString().split("T")[0],endDate:J.endDate.toISOString().split("T")[0],totalAmount:J.totalAmount.toString(),timeSpan:J.timeSpan||"custom",categories:J.categories||{}})},children:y.jsx(hc,{className:"h-4 w-4"})}),y.jsx(Ye,{variant:"ghost",size:"sm",onClick:()=>M(J.id),children:y.jsx($f,{className:"h-4 w-4"})})]})]})}),y.jsxs(Ut,{className:"space-y-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:"text-sm font-medium",children:"Budget Progress"}),y.jsxs(za,{variant:z?"destructive":H>80?"secondary":"default",children:[H.toFixed(1),"%"]})]}),y.jsx(Ty,{value:Math.min(H,100),className:"h-2"}),y.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[y.jsxs("span",{children:["$",oe.totalSpent.toFixed(2)," spent"]}),y.jsxs("span",{children:["$",J.totalAmount.toFixed(2)," budget"]})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[y.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",(J.totalAmount-oe.totalSpent).toFixed(2)]}),y.jsx("div",{className:"text-sm text-gray-600",children:"Remaining"})]}),y.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[y.jsx("div",{className:"text-lg font-semibold text-gray-900",children:G>0?G:0}),y.jsx("div",{className:"text-sm text-gray-600",children:"Days Left"})]})]}),J.categories&&Object.keys(J.categories).length>0&&y.jsxs("div",{children:[y.jsx("h4",{className:"text-sm font-medium mb-2",children:"Category Breakdown"}),y.jsx("div",{className:"space-y-2",children:Object.entries(J.categories).map(([he,B])=>{const ne=l.find(me=>me.id===he),fe=oe.categorySpending[he]||0,ie=fe/B*100;return ne?y.jsxs("div",{className:"space-y-1",children:[y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{children:ne.name}),y.jsxs("span",{children:["$",fe.toFixed(2)," / $",B.toFixed(2)]})]}),y.jsx(Ty,{value:Math.min(ie,100),className:"h-1"})]},he):null})})]}),y.jsxs("div",{className:"text-sm text-gray-600",children:[oe.transactionCount," transactions in this period"]})]})]},J.id)})})]}):y.jsx("div",{className:"p-6",children:"Please select a ledger to view budgets."})}/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */var Kj=function(){var n={base:"https://twemoji.maxcdn.com/v/14.0.2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:U,toCodePoint:se},onerror:function(){this.parentNode&&this.parentNode.replaceChild(m(this.alt,!1),this)},parse:F,replace:K,test:Q},e={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},t=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[©®\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd\udec3-\udec5\udef0-\udef6]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedd-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec2\uded0-\uded9\udee0-\udee7]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,i=/\uFE0F/g,a="‍",l=/[&<>'"]/g,c=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,f=String.fromCharCode;return n;function m(N,S){return document.createTextNode(S?N.replace(i,""):N)}function p(N){return N.replace(l,A)}function v(N,S){return"".concat(S.base,S.size,"/",N,S.ext)}function b(N,S){for(var k=N.childNodes,L=k.length,M,V;L--;)M=k[L],V=M.nodeType,V===3?S.push(M):V===1&&!("ownerSVGElement"in M)&&!c.test(M.nodeName.toLowerCase())&&b(M,S);return S}function E(N){return se(N.indexOf(a)<0?N.replace(i,""):N)}function R(N,S){for(var k=b(N,[]),L=k.length,M,V,P,J,oe,H,z,G,he,B,ne,fe,ie;L--;){for(P=!1,J=document.createDocumentFragment(),oe=k[L],H=oe.nodeValue,G=0;z=t.exec(H);){if(he=z.index,he!==G&&J.appendChild(m(H.slice(G,he),!0)),ne=z[0],fe=E(ne),G=he+ne.length,ie=S.callback(fe,S),fe&&ie){B=new Image,B.onerror=S.onerror,B.setAttribute("draggable","false"),M=S.attributes(ne,fe);for(V in M)M.hasOwnProperty(V)&&V.indexOf("on")!==0&&!B.hasAttribute(V)&&B.setAttribute(V,M[V]);B.className=S.className,B.alt=ne,B.src=ie,P=!0,J.appendChild(B)}B||J.appendChild(m(ne,!1)),B=null}P&&(G<H.length&&J.appendChild(m(H.slice(G),!0)),oe.parentNode.replaceChild(J,oe))}return N}function C(N,S){return K(N,function(k){var L=k,M=E(k),V=S.callback(M,S),P,J;if(M&&V){L="<img ".concat('class="',S.className,'" ','draggable="false" ','alt="',k,'"',' src="',V,'"'),P=S.attributes(k,M);for(J in P)P.hasOwnProperty(J)&&J.indexOf("on")!==0&&L.indexOf(" "+J+"=")===-1&&(L=L.concat(" ",J,'="',p(P[J]),'"'));L=L.concat("/>")}return L})}function A(N){return e[N]}function D(){return null}function j(N){return typeof N=="number"?N+"x"+N:N}function U(N){var S=typeof N=="string"?parseInt(N,16):N;return S<65536?f(S):(S-=65536,f(55296+(S>>10),56320+(S&1023)))}function F(N,S){return(!S||typeof S=="function")&&(S={callback:S}),(typeof N=="string"?C:R)(N,{callback:S.callback||v,attributes:typeof S.attributes=="function"?S.attributes:D,base:typeof S.base=="string"?S.base:n.base,ext:S.ext||n.ext,size:S.folder||j(S.size||n.size),className:S.className||n.className,onerror:S.onerror||n.onerror})}function K(N,S){return String(N).replace(t,S)}function Q(N){t.lastIndex=0;var S=t.test(N);return t.lastIndex=0,S}function se(N,S){for(var k=[],L=0,M=0,V=0;V<N.length;)L=N.charCodeAt(V++),M?(k.push((65536+(M-55296<<10)+(L-56320)).toString(16)),M=0):55296<=L&&L<=56319?M=L:k.push(L.toString(16));return k.join(S||"-")}}();const Qj=[{name:"Food & Dining",emoji:"🍽️",type:"expense"},{name:"Transportation",emoji:"🚗",type:"expense"},{name:"Shopping",emoji:"🛍️",type:"expense"},{name:"Entertainment",emoji:"🎬",type:"expense"},{name:"Bills & Utilities",emoji:"💡",type:"expense"},{name:"Healthcare",emoji:"🏥",type:"expense"},{name:"Education",emoji:"📚",type:"expense"},{name:"Travel",emoji:"✈️",type:"expense"},{name:"Fitness",emoji:"💪",type:"expense"},{name:"Personal Care",emoji:"💄",type:"expense"}],Xj=[{name:"Salary",emoji:"💰",type:"income"},{name:"Freelance",emoji:"💻",type:"income"},{name:"Investment",emoji:"📈",type:"income"},{name:"Business",emoji:"🏢",type:"income"},{name:"Rental",emoji:"🏠",type:"income"},{name:"Gift",emoji:"🎁",type:"income"}],Wj=["🍽️","🚗","🛍️","🎬","💡","🏥","📚","✈️","💪","💄","💰","💻","📈","🏢","🏠","🎁","☕","🍕","🎵","🎮","📱","👕","⛽","🚌","🚇","🏪","🍺","🎪","🎨","📖","💊","🏋️","🧘","🎯","🎲","🎸","📺","🎤","🎭","🎪"];function Zj(){const{currentUser:n}=Rr(),{currentLedger:e,canEdit:t}=Bc(),[i,a]=x.useState([]),[l,c]=x.useState(!0),[f,m]=x.useState(!1),[p,v]=x.useState(null),[b,E]=x.useState(""),[R,C]=x.useState(""),[A,D]=x.useState({name:"",emoji:"📝",type:"expense"}),j=M=>M?y.jsx("span",{dangerouslySetInnerHTML:{__html:Kj.parse(M,{folder:"svg",ext:".svg",base:"https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/"})},style:{width:"20px",height:"20px",display:"inline-block"}}):null,U=async()=>{if(e)try{const M=an(ht,"ledgers",e.id,"categories"),V=Vi(M,Ka("type"),Ka("name")),P=await lr(V),J=[];P.forEach(oe=>{J.push({id:oe.id,...oe.data()})}),a(J),c(!1)}catch(M){console.error("Error fetching categories:",M),E("Failed to fetch categories"),c(!1)}},F=async()=>{if(!(!e||!t()))try{const M=an(ht,"ledgers",e.id,"categories");for(const V of Qj)await Ls(M,{...V,createdAt:new Date,createdBy:n.uid});for(const V of Xj)await Ls(M,{...V,createdAt:new Date,createdBy:n.uid});await U(),C("Default categories created successfully!")}catch(M){console.error("Error creating default categories:",M),E("Failed to create default categories")}},K=async M=>{if(M.preventDefault(),!(!e||!t()))try{const V=an(ht,"ledgers",e.id,"categories");await Ls(V,{...A,createdAt:new Date,createdBy:n.uid}),D({name:"",emoji:"📝",type:"expense"}),m(!1),await U(),C("Category added successfully!")}catch(V){console.error("Error adding category:",V),E("Failed to add category")}},Q=async M=>{if(M.preventDefault(),!(!p||!t()))try{const V=Jr(ht,"ledgers",e.id,"categories",p.id);await mh(V,{name:A.name,emoji:A.emoji,type:A.type,updatedAt:new Date,updatedBy:n.uid}),v(null),D({name:"",emoji:"📝",type:"expense"}),await U(),C("Category updated successfully!")}catch(V){console.error("Error updating category:",V),E("Failed to update category")}},se=async M=>{if(!(!t()||!confirm("Are you sure you want to delete this category?")))try{const V=Jr(ht,"ledgers",e.id,"categories",M);await Ov(V),await U(),C("Category deleted successfully!")}catch(V){console.error("Error deleting category:",V),E("Failed to delete category")}},N=M=>{v(M),D({name:M.name,emoji:M.emoji,type:M.type}),m(!1)},S=()=>{v(null),D({name:"",emoji:"📝",type:"expense"})};if(x.useEffect(()=>{U()},[e]),x.useEffect(()=>{if(R||b){const M=setTimeout(()=>{C(""),E("")},3e3);return()=>clearTimeout(M)}},[R,b]),l)return y.jsx("div",{className:"p-6",children:y.jsxs("div",{className:"animate-pulse space-y-6",children:[y.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2,3,4].map(M=>y.jsx("div",{className:"h-32 bg-gray-200 rounded"},M))})]})});const k=i.filter(M=>M.type==="expense"),L=i.filter(M=>M.type==="income");return y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Category Management"}),t()&&y.jsxs(Ye,{onClick:()=>m(!0),className:"flex items-center space-x-2",children:[y.jsx(Gf,{className:"h-4 w-4"}),y.jsx("span",{children:"Add Category"})]})]}),b&&y.jsx(vr,{variant:"destructive",children:y.jsx(_r,{children:b})}),R&&y.jsx(vr,{children:y.jsx(_r,{children:R})}),(f||p)&&y.jsxs(Lt,{children:[y.jsxs(rn,{children:[y.jsx(sn,{children:p?"Edit Category":"Add New Category"}),y.jsx(Er,{children:p?"Update category details":"Create a new category with emoji"})]}),y.jsx(Ut,{children:y.jsxs("form",{onSubmit:p?Q:K,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{children:[y.jsx(st,{htmlFor:"name",children:"Category Name"}),y.jsx(pn,{id:"name",value:A.name,onChange:M=>D({...A,name:M.target.value}),placeholder:"Enter category name",required:!0})]}),y.jsxs("div",{children:[y.jsx(st,{htmlFor:"type",children:"Type"}),y.jsxs(ja,{value:A.type,onValueChange:M=>D({...A,type:M}),children:[y.jsx(Ua,{children:y.jsx(La,{})}),y.jsxs(Ba,{children:[y.jsx(fn,{value:"expense",children:"Expense"}),y.jsx(fn,{value:"income",children:"Income"})]})]})]}),y.jsxs("div",{children:[y.jsx(st,{htmlFor:"emoji",children:"Emoji"}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(pn,{id:"emoji",value:A.emoji,onChange:M=>D({...A,emoji:M.target.value}),placeholder:"📝",className:"w-20"}),y.jsx("div",{className:"flex items-center space-x-1",children:j(A.emoji)})]})]})]}),y.jsxs("div",{children:[y.jsx(st,{children:"Popular Emojis"}),y.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Wj.map((M,V)=>y.jsx("button",{type:"button",onClick:()=>D({...A,emoji:M}),className:"p-2 border rounded hover:bg-gray-100 transition-colors",children:j(M)},V))})]}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsxs(Ye,{type:"submit",className:"flex items-center space-x-2",children:[y.jsx(VN,{className:"h-4 w-4"}),y.jsxs("span",{children:[p?"Update":"Add"," Category"]})]}),y.jsxs(Ye,{type:"button",variant:"outline",onClick:()=>{m(!1),S()},className:"flex items-center space-x-2",children:[y.jsx(fx,{className:"h-4 w-4"}),y.jsx("span",{children:"Cancel"})]})]})]})})]}),i.length===0?y.jsx(Lt,{children:y.jsxs(Ut,{className:"text-center py-8",children:[y.jsx(My,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),y.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Categories Found"}),y.jsx("p",{className:"text-gray-600 mb-4",children:"Create categories to organize your transactions"}),t()&&y.jsxs(Ye,{onClick:F,className:"flex items-center space-x-2 mx-auto",children:[y.jsx(Gf,{className:"h-4 w-4"}),y.jsx("span",{children:"Create Default Categories"})]})]})}):y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs(Lt,{children:[y.jsx(rn,{children:y.jsxs(sn,{className:"flex items-center space-x-2",children:[y.jsx("span",{children:"💸"}),y.jsx("span",{children:"Expense Categories"}),y.jsx(za,{variant:"secondary",children:k.length})]})}),y.jsx(Ut,{children:y.jsx("div",{className:"space-y-2",children:k.map(M=>y.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[j(M.emoji),y.jsx("span",{className:"font-medium",children:M.name})]}),t()&&y.jsxs("div",{className:"flex space-x-2",children:[y.jsx(Ye,{size:"sm",variant:"ghost",onClick:()=>N(M),className:"h-8 w-8 p-0",children:y.jsx(hc,{className:"h-4 w-4"})}),y.jsx(Ye,{size:"sm",variant:"ghost",onClick:()=>se(M.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:y.jsx($f,{className:"h-4 w-4"})})]})]},M.id))})})]}),y.jsxs(Lt,{children:[y.jsx(rn,{children:y.jsxs(sn,{className:"flex items-center space-x-2",children:[y.jsx("span",{children:"💰"}),y.jsx("span",{children:"Income Categories"}),y.jsx(za,{variant:"secondary",children:L.length})]})}),y.jsx(Ut,{children:y.jsx("div",{className:"space-y-2",children:L.map(M=>y.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[j(M.emoji),y.jsx("span",{className:"font-medium",children:M.name})]}),t()&&y.jsxs("div",{className:"flex space-x-2",children:[y.jsx(Ye,{size:"sm",variant:"ghost",onClick:()=>N(M),className:"h-8 w-8 p-0",children:y.jsx(hc,{className:"h-4 w-4"})}),y.jsx(Ye,{size:"sm",variant:"ghost",onClick:()=>se(M.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:y.jsx($f,{className:"h-4 w-4"})})]})]},M.id))})})]})]})]})}const Wu=[{id:"alipay",name:"Alipay",icon:cx,sampleFields:["交易时间","交易分类","交易对方","商品说明","收/支","金额","支付方式","当前状态"],encoding:"GB2312",currency:"CNY"},{id:"wechat",name:"WeChat Pay",icon:LN,sampleFields:["交易时间","交易类型","交易对方","商品","收/支","金额(元)","支付方式","当前状态"],encoding:"UTF-8",currency:"CNY"},{id:"llm",name:"Generic (AI Powered)",icon:fN,sampleFields:["Any CSV, TXT, or PDF file"],encoding:"Auto-detect",currency:"Auto-detect"}];function Jj(){var S,k,L,M;const{currentUser:n}=Rr(),{currentLedger:e,canEdit:t}=Bc(),[i,a]=x.useState(""),[l,c]=x.useState(null),[f,m]=x.useState(!1),[p,v]=x.useState(0),[b,E]=x.useState(null),[R,C]=x.useState([]),[A,D]=x.useState(""),[j,U]=x.useState(""),F=async()=>{if(e)try{const V=an(ht,"ledgers",e.id,"categories"),P=await lr(V),J=[];P.forEach(oe=>{J.push({id:oe.id,...oe.data()})}),C(J)}catch(V){console.error("Error fetching categories:",V)}},K=V=>{const P=V.split(`
`);let J=-1;for(let H=0;H<P.length;H++){const z=P[H].trim();if(z.includes("交易时间")&&(z.includes("交易分类")||z.includes("收/支"))){J=H+1;break}}if(J===-1){for(let H=0;H<P.length;H++)if(P[H].trim().match(/^\d{4}-\d{2}-\d{2}\s+\d{2}:\d{2}:\d{2}/)){J=H;break}}if(J===-1)throw new Error("Invalid Alipay CSV format: No transaction data found. Please ensure the file contains transaction records.");const oe=[];for(let H=J;H<P.length;H++){const z=P[H].trim();if(!z)continue;const G=z.split(",").map(ke=>ke.replace(/^"|"$/g,"").trim());if(G.length<6)continue;let he,B,ne,fe,ie,me,xe,_e,pe;if(G.length>=12)[he,B,ne,fe,ie,me,xe,_e,pe]=G;else if(G.length>=8)[he,B,ne,ie,me,xe,_e,pe]=G,fe="";else continue;if(!me||me!=="支出"&&me!=="收入")continue;const Te=xe.toString().replace(/[^\d.-]/g,""),Le=parseFloat(Te);if(isNaN(Le))continue;const Ce=R.find(ke=>ke.name.toLowerCase().includes(B.toLowerCase())||B.toLowerCase().includes(ke.name.toLowerCase()));oe.push({date:new Date(he),type:me==="支出"?"expense":"income",amount:Math.abs(Le),description:ie||ne||"Unknown Transaction",categoryId:Ce?Ce.id:null,categoryName:Ce?Ce.name:B,paymentMethod:_e||"Unknown",platform:"alipay",originalData:{category:B,counterparty:ne,account:fe,status:pe}})}return oe},Q=V=>{const P=V.split(`
`);let J=-1;for(let H=0;H<P.length;H++){const z=P[H].trim();if(z.includes("交易时间")&&(z.includes("交易类型")||z.includes("收/支"))){J=H+1;break}}if(J===-1){for(let H=0;H<P.length;H++)if(P[H].trim().match(/^\d{4}-\d{2}-\d{2}\s+\d{2}:\d{2}:\d{2}/)){J=H;break}}if(J===-1)throw new Error("Invalid WeChat Pay CSV format: No transaction data found. Please ensure the file contains transaction records.");const oe=[];for(let H=J;H<P.length;H++){const z=P[H].trim();if(!z)continue;const G=z.split(",").map(Ce=>Ce.replace(/^"|"$/g,"").trim());if(G.length<6)continue;let he,B,ne,fe,ie,me,xe,_e;if(G.length>=11)[he,B,ne,fe,ie,me,xe,_e]=G;else if(G.length>=8)[he,B,ne,fe,ie,me,xe,_e]=G;else continue;if(!ie||ie!=="支出"&&ie!=="收入")continue;const pe=me.toString().replace(/[¥￥,\s]/g,"").replace(/[^\d.-]/g,""),Te=parseFloat(pe);if(isNaN(Te))continue;const Le=R.find(Ce=>Ce.name.toLowerCase().includes(B.toLowerCase())||B.toLowerCase().includes(Ce.name.toLowerCase()));oe.push({date:new Date(he),type:ie==="支出"?"expense":"income",amount:Math.abs(Te),description:fe||ne||"Unknown Transaction",categoryId:Le?Le.id:null,categoryName:Le?Le.name:B,paymentMethod:xe||"Unknown",platform:"wechat",originalData:{transactionType:B,counterparty:ne,status:_e}})}return oe},se=async V=>{if(!e||!t())return;const P=an(ht,"ledgers",e.id,"transactions");let J=0,oe=0;for(let H=0;H<V.length;H++){const z=V[H];try{const G=Vi(P,ll("date","==",dt.fromDate(z.date)),ll("amount","==",z.amount),ll("description","==",z.description));if(!(await lr(G)).empty){oe++;continue}await Ls(P,{date:dt.fromDate(z.date),type:z.type,amount:z.amount,description:z.description,categoryId:z.categoryId,categoryName:z.categoryName,paymentMethod:z.paymentMethod,includeInBudget:!0,platform:z.platform,originalData:z.originalData,createdAt:new Date,createdBy:n.uid}),J++,v(Math.round((H+1)/V.length*100))}catch(G){console.error("Error importing transaction:",G),oe++}}E({imported:J,skipped:oe})},N=async V=>{const P=V.target.files[0];if(P){c(P),m(!0),v(0),E(null),D(""),U("");try{let J=[];if(i==="alipay"){const oe=await P.arrayBuffer(),z=new TextDecoder("gb2312").decode(oe);J=K(z)}else if(i==="wechat"){const oe=await P.text();J=Q(oe)}else if(i==="llm")throw new Error("LLM parsing not yet implemented.");if(J.length===0)throw new Error("No valid transactions found in the file.");await se(J),U(`Successfully imported ${(b==null?void 0:b.imported)||0} transactions!`)}catch(J){console.error("Import error:",J),D(`Import error: ${J.message}`)}finally{m(!1)}}};return x.useEffect(()=>{F()},[e]),x.useEffect(()=>{if(j||A){const V=setTimeout(()=>{U(""),D("")},3e3);return()=>clearTimeout(V)}},[j,A]),e?f?y.jsxs("div",{className:"p-6 space-y-4",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Importing Transactions..."}),y.jsx(Ty,{value:p,className:"w-full"}),y.jsxs("p",{className:"text-center text-gray-600",children:[p,"% Complete"]})]}):b?y.jsxs("div",{className:"p-6 space-y-4",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Import Complete!"}),y.jsxs(vr,{variant:"default",children:[y.jsx(RE,{className:"h-4 w-4"}),y.jsxs(_r,{children:["Successfully imported ",b.imported," transactions.",b.skipped>0&&` ${b.skipped} transactions skipped (duplicates or errors).`]})]}),y.jsx(Ye,{onClick:()=>E(null),children:"Import More"})]}):y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Import Transactions"}),A&&y.jsxs(vr,{variant:"destructive",children:[y.jsx(EN,{className:"h-4 w-4"}),y.jsx(_r,{children:A})]}),j&&y.jsxs(vr,{children:[y.jsx(RE,{className:"h-4 w-4"}),y.jsx(_r,{children:j})]}),y.jsxs(Lt,{children:[y.jsxs(rn,{children:[y.jsx(sn,{children:"Select Import Platform"}),y.jsx(Er,{children:"Choose the platform you want to import transactions from."})]}),y.jsx(Ut,{children:y.jsxs(ja,{value:i,onValueChange:a,children:[y.jsx(Ua,{className:"w-[240px]",children:y.jsx(La,{placeholder:"Select a platform"})}),y.jsx(Ba,{children:Wu.map(V=>y.jsx(fn,{value:V.id,children:y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(V.icon,{className:"h-4 w-4"}),y.jsx("span",{children:V.name})]})},V.id))})]})})]}),i&&y.jsxs(Lt,{children:[y.jsxs(rn,{children:[y.jsxs(sn,{children:["Upload ",(S=Wu.find(V=>V.id===i))==null?void 0:S.name," File"]}),y.jsxs(Er,{children:["Upload your exported ",(k=Wu.find(V=>V.id===i))==null?void 0:k.name," CSV file. Ensure it's the correct format."]})]}),y.jsxs(Ut,{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsxs(st,{htmlFor:"file-upload",className:"cursor-pointer bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600",children:[y.jsx(dx,{className:"h-4 w-4 inline-block mr-2"})," Choose File"]}),y.jsx(pn,{id:"file-upload",type:"file",className:"hidden",onChange:N,accept:".csv,.txt"}),l&&y.jsx(za,{variant:"secondary",children:l.name})]}),y.jsxs("div",{className:"text-sm text-gray-500",children:[y.jsxs("p",{children:["Expected fields for ",(L=Wu.find(V=>V.id===i))==null?void 0:L.name,":"]}),y.jsx("ol",{className:"list-decimal list-inside",children:(M=Wu.find(V=>V.id===i))==null?void 0:M.sampleFields.map((V,P)=>y.jsx("li",{children:V},P))})]})]})]})]}):y.jsx("div",{className:"p-6 text-center text-gray-500",children:"Please select a ledger to manage categories."})}function eL({isMobileMenuOpen:n,setIsMobileMenuOpen:e}){const t=$i(),{currentUser:i,logout:a}=Rr(),l=[{path:"/",label:"Dashboard",icon:NN},{path:"/transactions",label:"Transactions",icon:cx},{path:"/budgets",label:"Budgets",icon:pN},{path:"/categories",label:"Categories",icon:My},{path:"/splits",label:"Expense Splits",icon:ZN},{path:"/import",label:"Import",icon:dx},{path:"/settings",label:"Settings",icon:xN}],c=async()=>{try{await a()}catch(f){console.error("Failed to log out:",f)}};return y.jsxs(y.Fragment,{children:[y.jsx("nav",{className:"hidden md:flex bg-white border-b border-gray-200 px-6 py-4",children:y.jsxs("div",{className:"flex items-center justify-between w-full",children:[y.jsxs("div",{className:"flex items-center space-x-8",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(fl,{className:"h-8 w-8 text-blue-600"}),y.jsx("span",{className:"text-xl font-bold text-gray-900",children:"ExpenseTracker"})]}),y.jsx("div",{className:"flex space-x-6",children:l.map(f=>{const m=f.icon,p=t.pathname===f.path;return y.jsxs(dl,{to:f.path,className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${p?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[y.jsx(m,{className:"h-4 w-4"}),y.jsx("span",{children:f.label})]},f.path)})})]}),i&&y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsxs("span",{className:"text-sm text-gray-600",children:["Welcome, ",i.displayName||i.email]}),y.jsxs(Ye,{variant:"ghost",size:"sm",onClick:c,className:"flex items-center space-x-2",children:[y.jsx(CE,{className:"h-4 w-4"}),y.jsx("span",{children:"Logout"})]})]})]})}),y.jsxs("nav",{className:"md:hidden bg-white border-b border-gray-200",children:[y.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(fl,{className:"h-6 w-6 text-blue-600"}),y.jsx("span",{className:"text-lg font-bold text-gray-900",children:"ExpenseTracker"})]}),y.jsx(Ye,{variant:"ghost",size:"sm",onClick:()=>e(!n),children:n?y.jsx(fx,{className:"h-6 w-6"}):y.jsx(kN,{className:"h-6 w-6"})})]}),n&&y.jsxs("div",{className:"border-t border-gray-200 px-4 py-4 space-y-2",children:[l.map(f=>{const m=f.icon,p=t.pathname===f.path;return y.jsxs(dl,{to:f.path,onClick:()=>e(!1),className:`flex items-center space-x-3 px-3 py-2 rounded-md text-sm font-medium transition-colors ${p?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[y.jsx(m,{className:"h-4 w-4"}),y.jsx("span",{children:f.label})]},f.path)}),i&&y.jsxs(Ye,{variant:"ghost",size:"sm",onClick:c,className:"flex items-center space-x-3 px-3 py-2 w-full justify-start",children:[y.jsx(CE,{className:"h-4 w-4"}),y.jsx("span",{children:"Logout"})]})]})]})]})}function tL(){return y.jsx(Lj,{})}function nL(){return y.jsx(Yj,{})}function rL(){return y.jsx(Zj,{})}function iL(){return y.jsxs("div",{className:"p-6",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Expense Splits"}),y.jsxs(Lt,{children:[y.jsxs(rn,{children:[y.jsx(sn,{children:"Split Expenses"}),y.jsx(Er,{children:"Share expenses with friends and track balances"})]}),y.jsx(Ut,{children:y.jsx("p",{className:"text-gray-600",children:"Expense splitting interface will be implemented here."})})]})]})}function sL(){return y.jsx(Jj,{})}function aL(){return y.jsxs("div",{className:"p-6",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Settings"}),y.jsxs(Lt,{children:[y.jsxs(rn,{children:[y.jsx(sn,{children:"Application Settings"}),y.jsx(Er,{children:"Manage your preferences and account settings"})]}),y.jsx(Ut,{children:y.jsx("p",{className:"text-gray-600",children:"Settings interface will be implemented here."})})]})]})}function oL(){const[n,e]=x.useState(!1),{currentUser:t}=Rr();return y.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t&&y.jsx(eL,{isMobileMenuOpen:n,setIsMobileMenuOpen:e}),y.jsx("main",{className:t?"max-w-7xl mx-auto":"",children:y.jsxs(jC,{children:[y.jsx($r,{path:"/login",element:t?y.jsx(kg,{to:"/"}):y.jsx(EP,{})}),y.jsx($r,{path:"/signup",element:t?y.jsx(kg,{to:"/"}):y.jsx(wP,{})}),y.jsx($r,{path:"/",element:y.jsx(Ma,{children:y.jsx(xP,{})})}),y.jsx($r,{path:"/transactions",element:y.jsx(Ma,{children:y.jsx(tL,{})})}),y.jsx($r,{path:"/budgets",element:y.jsx(Ma,{children:y.jsx(nL,{})})}),y.jsx($r,{path:"/categories",element:y.jsx(Ma,{children:y.jsx(rL,{})})}),y.jsx($r,{path:"/splits",element:y.jsx(Ma,{children:y.jsx(iL,{})})}),y.jsx($r,{path:"/import",element:y.jsx(Ma,{children:y.jsx(sL,{})})}),y.jsx($r,{path:"/settings",element:y.jsx(Ma,{children:y.jsx(aL,{})})})]})})]})}function lL(){return y.jsx(oI,{children:y.jsx(mP,{children:y.jsx(pP,{children:y.jsx(oL,{})})})})}$R.createRoot(document.getElementById("root")).render(y.jsx(x.StrictMode,{children:y.jsx(lL,{})}));
