function kR(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function Tx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Zp={exports:{}},$u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xb;function MR(){if(Xb)return $u;Xb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return $u.Fragment=e,$u.jsx=t,$u.jsxs=t,$u}var Wb;function PR(){return Wb||(Wb=1,Zp.exports=MR()),Zp.exports}var y=PR(),Jp={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zb;function jR(){if(Zb)return je;Zb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=b&&B[b]||B["@@iterator"],typeof B=="function"?B:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,A={};function D(B,ne,fe){this.props=B,this.context=ne,this.refs=A,this.updater=fe||R}D.prototype.isReactComponent={},D.prototype.setState=function(B,ne){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ne,"setState")},D.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function V(){}V.prototype=D.prototype;function U(B,ne,fe){this.props=B,this.context=ne,this.refs=A,this.updater=fe||R}var z=U.prototype=new V;z.constructor=U,C(z,D.prototype),z.isPureReactComponent=!0;var K=Array.isArray,Q={H:null,A:null,T:null,S:null,V:null},ie=Object.prototype.hasOwnProperty;function N(B,ne,fe,se,pe,Se){return fe=Se.ref,{$$typeof:n,type:B,key:ne,ref:fe!==void 0?fe:null,props:Se}}function S(B,ne){return N(B.type,ne,void 0,void 0,void 0,B.props)}function k(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function L(B){var ne={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(fe){return ne[fe]})}var P=/\/+/g;function j(B,ne){return typeof B=="object"&&B!==null&&B.key!=null?L(""+B.key):ne.toString(36)}function M(){}function Z(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(M,M):(B.status="pending",B.then(function(ne){B.status==="pending"&&(B.status="fulfilled",B.value=ne)},function(ne){B.status==="pending"&&(B.status="rejected",B.reason=ne)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function le(B,ne,fe,se,pe){var Se=typeof B;(Se==="undefined"||Se==="boolean")&&(B=null);var we=!1;if(B===null)we=!0;else switch(Se){case"bigint":case"string":case"number":we=!0;break;case"object":switch(B.$$typeof){case n:case e:we=!0;break;case v:return we=B._init,le(we(B._payload),ne,fe,se,pe)}}if(we)return pe=pe(B),we=se===""?"."+j(B,0):se,K(pe)?(fe="",we!=null&&(fe=we.replace(P,"$&/")+"/"),le(pe,ne,fe,"",function(We){return We})):pe!=null&&(k(pe)&&(pe=S(pe,fe+(pe.key==null||B&&B.key===pe.key?"":(""+pe.key).replace(P,"$&/")+"/")+we)),ne.push(pe)),1;we=0;var me=se===""?".":se+":";if(K(B))for(var Te=0;Te<B.length;Te++)se=B[Te],Se=me+j(se,Te),we+=le(se,ne,fe,Se,pe);else if(Te=E(B),typeof Te=="function")for(B=Te.call(B),Te=0;!(se=B.next()).done;)se=se.value,Se=me+j(se,Te++),we+=le(se,ne,fe,Se,pe);else if(Se==="object"){if(typeof B.then=="function")return le(Z(B),ne,fe,se,pe);throw ne=String(B),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return we}function q(B,ne,fe){if(B==null)return B;var se=[],pe=0;return le(B,se,"","",function(Se){return ne.call(fe,Se,pe++)}),se}function F(B){if(B._status===-1){var ne=B._result;ne=ne(),ne.then(function(fe){(B._status===0||B._status===-1)&&(B._status=1,B._result=fe)},function(fe){(B._status===0||B._status===-1)&&(B._status=2,B._result=fe)}),B._status===-1&&(B._status=0,B._result=ne)}if(B._status===1)return B._result.default;throw B._result}var G=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function he(){}return je.Children={map:q,forEach:function(B,ne,fe){q(B,function(){ne.apply(this,arguments)},fe)},count:function(B){var ne=0;return q(B,function(){ne++}),ne},toArray:function(B){return q(B,function(ne){return ne})||[]},only:function(B){if(!k(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},je.Component=D,je.Fragment=t,je.Profiler=a,je.PureComponent=U,je.StrictMode=i,je.Suspense=m,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,je.__COMPILER_RUNTIME={__proto__:null,c:function(B){return Q.H.useMemoCache(B)}},je.cache=function(B){return function(){return B.apply(null,arguments)}},je.cloneElement=function(B,ne,fe){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var se=C({},B.props),pe=B.key,Se=void 0;if(ne!=null)for(we in ne.ref!==void 0&&(Se=void 0),ne.key!==void 0&&(pe=""+ne.key),ne)!ie.call(ne,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ne.ref===void 0||(se[we]=ne[we]);var we=arguments.length-2;if(we===1)se.children=fe;else if(1<we){for(var me=Array(we),Te=0;Te<we;Te++)me[Te]=arguments[Te+2];se.children=me}return N(B.type,pe,void 0,void 0,Se,se)},je.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},je.createElement=function(B,ne,fe){var se,pe={},Se=null;if(ne!=null)for(se in ne.key!==void 0&&(Se=""+ne.key),ne)ie.call(ne,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(pe[se]=ne[se]);var we=arguments.length-2;if(we===1)pe.children=fe;else if(1<we){for(var me=Array(we),Te=0;Te<we;Te++)me[Te]=arguments[Te+2];pe.children=me}if(B&&B.defaultProps)for(se in we=B.defaultProps,we)pe[se]===void 0&&(pe[se]=we[se]);return N(B,Se,void 0,void 0,null,pe)},je.createRef=function(){return{current:null}},je.forwardRef=function(B){return{$$typeof:f,render:B}},je.isValidElement=k,je.lazy=function(B){return{$$typeof:v,_payload:{_status:-1,_result:B},_init:F}},je.memo=function(B,ne){return{$$typeof:p,type:B,compare:ne===void 0?null:ne}},je.startTransition=function(B){var ne=Q.T,fe={};Q.T=fe;try{var se=B(),pe=Q.S;pe!==null&&pe(fe,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(he,G)}catch(Se){G(Se)}finally{Q.T=ne}},je.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},je.use=function(B){return Q.H.use(B)},je.useActionState=function(B,ne,fe){return Q.H.useActionState(B,ne,fe)},je.useCallback=function(B,ne){return Q.H.useCallback(B,ne)},je.useContext=function(B){return Q.H.useContext(B)},je.useDebugValue=function(){},je.useDeferredValue=function(B,ne){return Q.H.useDeferredValue(B,ne)},je.useEffect=function(B,ne,fe){var se=Q.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(B,ne)},je.useId=function(){return Q.H.useId()},je.useImperativeHandle=function(B,ne,fe){return Q.H.useImperativeHandle(B,ne,fe)},je.useInsertionEffect=function(B,ne){return Q.H.useInsertionEffect(B,ne)},je.useLayoutEffect=function(B,ne){return Q.H.useLayoutEffect(B,ne)},je.useMemo=function(B,ne){return Q.H.useMemo(B,ne)},je.useOptimistic=function(B,ne){return Q.H.useOptimistic(B,ne)},je.useReducer=function(B,ne,fe){return Q.H.useReducer(B,ne,fe)},je.useRef=function(B){return Q.H.useRef(B)},je.useState=function(B){return Q.H.useState(B)},je.useSyncExternalStore=function(B,ne,fe){return Q.H.useSyncExternalStore(B,ne,fe)},je.useTransition=function(){return Q.H.useTransition()},je.version="19.1.0",je}var Jb;function by(){return Jb||(Jb=1,Jp.exports=jR()),Jp.exports}var T=by();const Ts=Tx(T),Sx=kR({__proto__:null,default:Ts},[T]);var eg={exports:{}},Yu={},tg={exports:{}},ng={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eE;function VR(){return eE||(eE=1,function(n){function e(q,F){var G=q.length;q.push(F);e:for(;0<G;){var he=G-1>>>1,B=q[he];if(0<a(B,F))q[he]=F,q[G]=B,G=he;else break e}}function t(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var F=q[0],G=q.pop();if(G!==F){q[0]=G;e:for(var he=0,B=q.length,ne=B>>>1;he<ne;){var fe=2*(he+1)-1,se=q[fe],pe=fe+1,Se=q[pe];if(0>a(se,G))pe<B&&0>a(Se,se)?(q[he]=Se,q[pe]=G,he=pe):(q[he]=se,q[fe]=G,he=fe);else if(pe<B&&0>a(Se,G))q[he]=Se,q[pe]=G,he=pe;else break e}}return F}function a(q,F){var G=q.sortIndex-F.sortIndex;return G!==0?G:q.id-F.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var m=[],p=[],v=1,b=null,E=3,R=!1,C=!1,A=!1,D=!1,V=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function K(q){for(var F=t(p);F!==null;){if(F.callback===null)i(p);else if(F.startTime<=q)i(p),F.sortIndex=F.expirationTime,e(m,F);else break;F=t(p)}}function Q(q){if(A=!1,K(q),!C)if(t(m)!==null)C=!0,ie||(ie=!0,j());else{var F=t(p);F!==null&&le(Q,F.startTime-q)}}var ie=!1,N=-1,S=5,k=-1;function L(){return D?!0:!(n.unstable_now()-k<S)}function P(){if(D=!1,ie){var q=n.unstable_now();k=q;var F=!0;try{e:{C=!1,A&&(A=!1,U(N),N=-1),R=!0;var G=E;try{t:{for(K(q),b=t(m);b!==null&&!(b.expirationTime>q&&L());){var he=b.callback;if(typeof he=="function"){b.callback=null,E=b.priorityLevel;var B=he(b.expirationTime<=q);if(q=n.unstable_now(),typeof B=="function"){b.callback=B,K(q),F=!0;break t}b===t(m)&&i(m),K(q)}else i(m);b=t(m)}if(b!==null)F=!0;else{var ne=t(p);ne!==null&&le(Q,ne.startTime-q),F=!1}}break e}finally{b=null,E=G,R=!1}F=void 0}}finally{F?j():ie=!1}}}var j;if(typeof z=="function")j=function(){z(P)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Z=M.port2;M.port1.onmessage=P,j=function(){Z.postMessage(null)}}else j=function(){V(P,0)};function le(q,F){N=V(function(){q(n.unstable_now())},F)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(q){switch(E){case 1:case 2:case 3:var F=3;break;default:F=E}var G=E;E=F;try{return q()}finally{E=G}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(q,F){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var G=E;E=q;try{return F()}finally{E=G}},n.unstable_scheduleCallback=function(q,F,G){var he=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?he+G:he):G=he,q){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=G+B,q={id:v++,callback:F,priorityLevel:q,startTime:G,expirationTime:B,sortIndex:-1},G>he?(q.sortIndex=G,e(p,q),t(m)===null&&q===t(p)&&(A?(U(N),N=-1):A=!0,le(Q,G-he))):(q.sortIndex=B,e(m,q),C||R||(C=!0,ie||(ie=!0,j()))),q},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(q){var F=E;return function(){var G=E;E=F;try{return q.apply(this,arguments)}finally{E=G}}}}(ng)),ng}var tE;function LR(){return tE||(tE=1,tg.exports=VR()),tg.exports}var rg={exports:{}},vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE;function UR(){if(nE)return vn;nE=1;var n=by();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:p,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,vn.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,v)},vn.flushSync=function(m){var p=c.T,v=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=p,i.p=v,i.d.f()}},vn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},vn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},vn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,b=f(v,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:R}):v==="script"&&i.d.X(m,{crossOrigin:b,integrity:E,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},vn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},vn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=f(v,p.crossOrigin);i.d.L(m,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},vn.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=f(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},vn.requestFormReset=function(m){i.d.r(m)},vn.unstable_batchedUpdates=function(m,p){return m(p)},vn.useFormState=function(m,p,v){return c.H.useFormState(m,p,v)},vn.useFormStatus=function(){return c.H.useHostTransitionStatus()},vn.version="19.1.0",vn}var rE;function Ax(){if(rE)return rg.exports;rE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),rg.exports=UR(),rg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function BR(){if(iE)return Yu;iE=1;var n=LR(),e=by(),t=Ax();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(l(r)!==r)throw Error(i(188))}function m(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var h=o.return;if(h===null)break;var g=h.alternate;if(g===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===o)return f(h),r;if(g===u)return f(h),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=h,u=g;else{for(var x=!1,I=h.child;I;){if(I===o){x=!0,o=h,u=g;break}if(I===u){x=!0,u=h,o=g;break}I=I.sibling}if(!x){for(I=g.child;I;){if(I===o){x=!0,o=g,u=h;break}if(I===u){x=!0,u=g,o=h;break}I=I.sibling}if(!x)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function p(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=p(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),z=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function j(r){return r===null||typeof r!="object"?null:(r=P&&r[P]||r["@@iterator"],typeof r=="function"?r:null)}var M=Symbol.for("react.client.reference");function Z(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===M?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case D:return"Profiler";case A:return"StrictMode";case Q:return"Suspense";case ie:return"SuspenseList";case k:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case R:return"Portal";case z:return(r.displayName||"Context")+".Provider";case U:return(r._context.displayName||"Context")+".Consumer";case K:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case N:return s=r.displayName||null,s!==null?s:Z(r.type)||"Memo";case S:s=r._payload,r=r._init;try{return Z(r(s))}catch{}}return null}var le=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},he=[],B=-1;function ne(r){return{current:r}}function fe(r){0>B||(r.current=he[B],he[B]=null,B--)}function se(r,s){B++,he[B]=r.current,r.current=s}var pe=ne(null),Se=ne(null),we=ne(null),me=ne(null);function Te(r,s){switch(se(we,s),se(Se,r),se(pe,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?Tb(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=Tb(s),r=Sb(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}fe(pe),se(pe,r)}function We(){fe(pe),fe(Se),fe(we)}function Ve(r){r.memoizedState!==null&&se(me,r);var s=pe.current,o=Sb(s,r.type);s!==o&&(se(Se,r),se(pe,o))}function Me(r){Se.current===r&&(fe(pe),fe(Se)),me.current===r&&(fe(me),zu._currentValue=G)}var Pe=Object.prototype.hasOwnProperty,Ct=n.unstable_scheduleCallback,Wt=n.unstable_cancelCallback,lr=n.unstable_shouldYield,Cr=n.unstable_requestPaint,Zt=n.unstable_now,Ul=n.unstable_getCurrentPriorityLevel,Ir=n.unstable_ImmediatePriority,Za=n.unstable_UserBlockingPriority,Js=n.unstable_NormalPriority,Jh=n.unstable_LowPriority,Ja=n.unstable_IdlePriority,Bl=n.log,Fc=n.unstable_setDisableYieldValue,wt=null,rt=null;function Pn(r){if(typeof Bl=="function"&&Fc(r),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(wt,r)}catch{}}var gn=Math.clz32?Math.clz32:ea,Hc=Math.log,em=Math.LN2;function ea(r){return r>>>=0,r===0?32:31-(Hc(r)/em|0)|0}var ta=256,na=4194304;function ur(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function eo(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var h=0,g=r.suspendedLanes,x=r.pingedLanes;r=r.warmLanes;var I=u&134217727;return I!==0?(u=I&~g,u!==0?h=ur(u):(x&=I,x!==0?h=ur(x):o||(o=I&~r,o!==0&&(h=ur(o))))):(I=u&~g,I!==0?h=ur(I):x!==0?h=ur(x):o||(o=u&~r,o!==0&&(h=ur(o)))),h===0?0:s!==0&&s!==h&&(s&g)===0&&(g=h&-h,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:h}function ra(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function zl(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fl(){var r=ta;return ta<<=1,(ta&4194048)===0&&(ta=256),r}function Hl(){var r=na;return na<<=1,(na&62914560)===0&&(na=4194304),r}function si(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function ai(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ql(r,s,o,u,h,g){var x=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var I=r.entanglements,H=r.expirationTimes,J=r.hiddenUpdates;for(o=x&~o;0<o;){var ae=31-gn(o),ue=1<<ae;I[ae]=0,H[ae]=-1;var ee=J[ae];if(ee!==null)for(J[ae]=null,ae=0;ae<ee.length;ae++){var te=ee[ae];te!==null&&(te.lane&=-536870913)}o&=~ue}u!==0&&Nr(r,u,0),g!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=g&~(x&~s))}function Nr(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-gn(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function Gl(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-gn(o),h=1<<u;h&s|r[u]&s&&(r[u]|=s),o&=~h}}function Ki(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function to(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Qi(){var r=F.p;return r!==0?r:(r=window.event,r===void 0?32:qb(r.type))}function qc(r,s){var o=F.p;try{return F.p=r,s()}finally{F.p=o}}var yt=Math.random().toString(36).slice(2),Ht="__reactFiber$"+yt,Mt="__reactProps$"+yt,Yn="__reactContainer$"+yt,$l="__reactEvents$"+yt,tm="__reactListeners$"+yt,Xi="__reactHandles$"+yt,Gc="__reactResources$"+yt,ia="__reactMarker$"+yt;function Wi(r){delete r[Ht],delete r[Mt],delete r[$l],delete r[tm],delete r[Xi]}function oi(r){var s=r[Ht];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Yn]||o[Ht]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=Ib(r);r!==null;){if(o=r[Ht])return o;r=Ib(r)}return s}r=o,o=r.parentNode}return null}function Dr(r){if(r=r[Ht]||r[Yn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Or(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Sn(r){var s=r[Gc];return s||(s=r[Gc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function It(r){r[ia]=!0}var Yl=new Set,no={};function cr(r,s){li(r,s),li(r+"Capture",s)}function li(r,s){for(no[r]=s,r=0;r<s.length;r++)Yl.add(s[r])}var $c=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yc={},sa={};function Kc(r){return Pe.call(sa,r)?!0:Pe.call(Yc,r)?!1:$c.test(r)?sa[r]=!0:(Yc[r]=!0,!1)}function Zi(r,s,o){if(Kc(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function kr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function an(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var aa,Qc;function ui(r){if(aa===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);aa=s&&s[1]||"",Qc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+aa+r+Qc}var ro=!1;function io(r,s){if(!r||ro)return"";ro=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(te){var ee=te}Reflect.construct(r,[],ue)}else{try{ue.call()}catch(te){ee=te}r.call(ue.prototype)}}else{try{throw Error()}catch(te){ee=te}(ue=r())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),x=g[0],I=g[1];if(x&&I){var H=x.split(`
`),J=I.split(`
`);for(h=u=0;u<H.length&&!H[u].includes("DetermineComponentFrameRoot");)u++;for(;h<J.length&&!J[h].includes("DetermineComponentFrameRoot");)h++;if(u===H.length||h===J.length)for(u=H.length-1,h=J.length-1;1<=u&&0<=h&&H[u]!==J[h];)h--;for(;1<=u&&0<=h;u--,h--)if(H[u]!==J[h]){if(u!==1||h!==1)do if(u--,h--,0>h||H[u]!==J[h]){var ae=`
`+H[u].replace(" at new "," at ");return r.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",r.displayName)),ae}while(1<=u&&0<=h);break}}}finally{ro=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?ui(o):""}function Kl(r){switch(r.tag){case 26:case 27:case 5:return ui(r.type);case 16:return ui("Lazy");case 13:return ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return io(r.type,!1);case 11:return io(r.type.render,!1);case 1:return io(r.type,!0);case 31:return ui("Activity");default:return""}}function so(r){try{var s="";do s+=Kl(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function An(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ql(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function nm(r){var s=Ql(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(x){u=""+x,g.call(this,x)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(x){u=""+x},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ao(r){r._valueTracker||(r._valueTracker=nm(r))}function Xl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=Ql(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function oa(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var rm=/[\n"\\]/g;function Pt(r){return r.replace(rm,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function jn(r,s,o,u,h,g,x,I){r.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?r.type=x:r.removeAttribute("type"),s!=null?x==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+An(s)):r.value!==""+An(s)&&(r.value=""+An(s)):x!=="submit"&&x!=="reset"||r.removeAttribute("value"),s!=null?Ji(r,x,An(s)):o!=null?Ji(r,x,An(o)):u!=null&&r.removeAttribute("value"),h==null&&g!=null&&(r.defaultChecked=!!g),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.name=""+An(I):r.removeAttribute("name")}function la(r,s,o,u,h,g,x,I){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+An(o):"",s=s!=null?""+An(s):o,I||s===r.value||(r.value=s),r.defaultValue=s}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=I?r.checked:!!u,r.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.name=x)}function Ji(r,s,o){s==="number"&&oa(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function ci(r,s,o,u){if(r=r.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=s.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&u&&(r[o].defaultSelected=!0)}else{for(o=""+An(o),s=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function ot(r,s,o){if(s!=null&&(s=""+An(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+An(o):""}function ua(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(le(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=An(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Kn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var ca=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xc(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||ca.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Wl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in s)u=s[h],s.hasOwnProperty(h)&&o[h]!==u&&Xc(r,h,u)}else for(var g in s)s.hasOwnProperty(g)&&Xc(r,g,s[g])}function Zl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var im=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oo(r){return sm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var di=null;function Qn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var fi=null,hi=null;function Jl(r){var s=Dr(r);if(s&&(r=s.stateNode)){var o=r[Mt]||null;e:switch(r=s.stateNode,s.type){case"input":if(jn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Pt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var h=u[Mt]||null;if(!h)throw Error(i(90));jn(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&Xl(u)}break e;case"textarea":ot(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&ci(r,!!o.multiple,s,!1)}}}var Mr=!1;function Wc(r,s,o){if(Mr)return r(s,o);Mr=!0;try{var u=r(s);return u}finally{if(Mr=!1,(fi!==null||hi!==null)&&(qd(),fi&&(s=fi,r=hi,hi=fi=null,Jl(s),r)))for(s=0;s<r.length;s++)Jl(r[s])}}function da(r,s){var o=r.stateNode;if(o===null)return null;var u=o[Mt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xn=!1;if(dr)try{var fa={};Object.defineProperty(fa,"passive",{get:function(){Xn=!0}}),window.addEventListener("test",fa,fa),window.removeEventListener("test",fa,fa)}catch{Xn=!1}var Pr=null,es=null,mi=null;function eu(){if(mi)return mi;var r,s=es,o=s.length,u,h="value"in Pr?Pr.value:Pr.textContent,g=h.length;for(r=0;r<o&&s[r]===h[r];r++);var x=o-r;for(u=1;u<=x&&s[o-u]===h[g-u];u++);return mi=h.slice(r,1<u?1-u:void 0)}function jr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Vr(){return!0}function tu(){return!1}function Jt(r){function s(o,u,h,g,x){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(o=r[I],this[I]=o?o(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Vr:tu,this.isPropagationStopped=tu,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Vr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Vr)},persist:function(){},isPersistent:Vr}),s}var tt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lo=Jt(tt),ha=v({},tt,{view:0,detail:0}),Zc=Jt(ha),uo,co,Lr,ma=v({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ya,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Lr&&(Lr&&r.type==="mousemove"?(uo=r.screenX-Lr.screenX,co=r.screenY-Lr.screenY):co=uo=0,Lr=r),uo)},movementY:function(r){return"movementY"in r?r.movementY:co}}),Wn=Jt(ma),Jc=v({},ma,{dataTransfer:0}),am=Jt(Jc),pa=v({},ha,{relatedTarget:0}),fo=Jt(pa),nu=v({},tt,{animationName:0,elapsedTime:0,pseudoElement:0}),ho=Jt(nu),ed=v({},tt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),mo=Jt(ed),om=v({},tt,{data:0}),ru=Jt(om),ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},td={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=nd[r])?!!s[r]:!1}function ya(){return iu}var rd=v({},ha,{key:function(r){if(r.key){var s=ga[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=jr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?td[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ya,charCode:function(r){return r.type==="keypress"?jr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?jr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),po=Jt(rd),id=v({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),su=Jt(id),pi=v({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ya}),sd=Jt(pi),ad=v({},tt,{propertyName:0,elapsedTime:0,pseudoElement:0}),od=Jt(ad),ld=v({},ma,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),go=Jt(ld),Rn=v({},tt,{newState:0,oldState:0}),ud=Jt(Rn),cd=[9,13,27,32],Ur=dr&&"CompositionEvent"in window,d=null;dr&&"documentMode"in document&&(d=document.documentMode);var _=dr&&"TextEvent"in window&&!d,w=dr&&(!Ur||d&&8<d&&11>=d),O=" ",X=!1;function re(r,s){switch(r){case"keyup":return cd.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ye=!1;function qt(r,s){switch(r){case"compositionend":return ge(s);case"keypress":return s.which!==32?null:(X=!0,O);case"textInput":return r=s.data,r===O&&X?null:r;default:return null}}function Ke(r,s){if(Ye)return r==="compositionend"||!Ur&&re(r,s)?(r=eu(),mi=es=Pr=null,Ye=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return w&&s.locale!=="ko"?null:s.data;default:return null}}var en={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!en[r.type]:s==="textarea"}function gi(r,s,o,u){fi?hi?hi.push(u):hi=[u]:fi=u,s=Xd(s,"onChange"),0<s.length&&(o=new lo("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var on=null,Br=null;function au(r){_b(r,0)}function dd(r){var s=Or(r);if(Xl(s))return r}function Bv(r,s){if(r==="change")return s}var zv=!1;if(dr){var lm;if(dr){var um="oninput"in document;if(!um){var Fv=document.createElement("div");Fv.setAttribute("oninput","return;"),um=typeof Fv.oninput=="function"}lm=um}else lm=!1;zv=lm&&(!document.documentMode||9<document.documentMode)}function Hv(){on&&(on.detachEvent("onpropertychange",qv),Br=on=null)}function qv(r){if(r.propertyName==="value"&&dd(Br)){var s=[];gi(s,Br,r,Qn(r)),Wc(au,s)}}function u2(r,s,o){r==="focusin"?(Hv(),on=s,Br=o,on.attachEvent("onpropertychange",qv)):r==="focusout"&&Hv()}function c2(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return dd(Br)}function d2(r,s){if(r==="click")return dd(s)}function f2(r,s){if(r==="input"||r==="change")return dd(s)}function h2(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Vn=typeof Object.is=="function"?Object.is:h2;function ou(r,s){if(Vn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!Pe.call(s,h)||!Vn(r[h],s[h]))return!1}return!0}function Gv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function $v(r,s){var o=Gv(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Gv(o)}}function Yv(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Yv(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Kv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=oa(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=oa(r.document)}return s}function cm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var m2=dr&&"documentMode"in document&&11>=document.documentMode,yo=null,dm=null,lu=null,fm=!1;function Qv(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;fm||yo==null||yo!==oa(u)||(u=yo,"selectionStart"in u&&cm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),lu&&ou(lu,u)||(lu=u,u=Xd(dm,"onSelect"),0<u.length&&(s=new lo("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=yo)))}function va(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var vo={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionrun:va("Transition","TransitionRun"),transitionstart:va("Transition","TransitionStart"),transitioncancel:va("Transition","TransitionCancel"),transitionend:va("Transition","TransitionEnd")},hm={},Xv={};dr&&(Xv=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function _a(r){if(hm[r])return hm[r];if(!vo[r])return r;var s=vo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Xv)return hm[r]=s[o];return r}var Wv=_a("animationend"),Zv=_a("animationiteration"),Jv=_a("animationstart"),p2=_a("transitionrun"),g2=_a("transitionstart"),y2=_a("transitioncancel"),e0=_a("transitionend"),t0=new Map,mm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mm.push("scrollEnd");function fr(r,s){t0.set(r,s),cr(s,[r])}var n0=new WeakMap;function Zn(r,s){if(typeof r=="object"&&r!==null){var o=n0.get(r);return o!==void 0?o:(s={value:r,source:s,stack:so(s)},n0.set(r,s),s)}return{value:r,source:s,stack:so(s)}}var Jn=[],_o=0,pm=0;function fd(){for(var r=_o,s=pm=_o=0;s<r;){var o=Jn[s];Jn[s++]=null;var u=Jn[s];Jn[s++]=null;var h=Jn[s];Jn[s++]=null;var g=Jn[s];if(Jn[s++]=null,u!==null&&h!==null){var x=u.pending;x===null?h.next=h:(h.next=x.next,x.next=h),u.pending=h}g!==0&&r0(o,h,g)}}function hd(r,s,o,u){Jn[_o++]=r,Jn[_o++]=s,Jn[_o++]=o,Jn[_o++]=u,pm|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function gm(r,s,o,u){return hd(r,s,o,u),md(r)}function bo(r,s){return hd(r,null,null,s),md(r)}function r0(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var h=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(h=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,h&&s!==null&&(h=31-gn(o),r=g.hiddenUpdates,u=r[h],u===null?r[h]=[s]:u.push(s),s.lane=o|536870912),g):null}function md(r){if(50<ku)throw ku=0,wp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Eo={};function v2(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(r,s,o,u){return new v2(r,s,o,u)}function ym(r){return r=r.prototype,!(!r||!r.isReactComponent)}function yi(r,s){var o=r.alternate;return o===null?(o=Ln(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function i0(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function pd(r,s,o,u,h,g){var x=0;if(u=r,typeof r=="function")ym(r)&&(x=1);else if(typeof r=="string")x=bR(r,o,pe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case k:return r=Ln(31,o,s,h),r.elementType=k,r.lanes=g,r;case C:return ba(o.children,h,g,s);case A:x=8,h|=24;break;case D:return r=Ln(12,o,s,h|2),r.elementType=D,r.lanes=g,r;case Q:return r=Ln(13,o,s,h),r.elementType=Q,r.lanes=g,r;case ie:return r=Ln(19,o,s,h),r.elementType=ie,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case V:case z:x=10;break e;case U:x=9;break e;case K:x=11;break e;case N:x=14;break e;case S:x=16,u=null;break e}x=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=Ln(x,o,s,h),s.elementType=r,s.type=u,s.lanes=g,s}function ba(r,s,o,u){return r=Ln(7,r,u,s),r.lanes=o,r}function vm(r,s,o){return r=Ln(6,r,null,s),r.lanes=o,r}function _m(r,s,o){return s=Ln(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var wo=[],xo=0,gd=null,yd=0,er=[],tr=0,Ea=null,vi=1,_i="";function wa(r,s){wo[xo++]=yd,wo[xo++]=gd,gd=r,yd=s}function s0(r,s,o){er[tr++]=vi,er[tr++]=_i,er[tr++]=Ea,Ea=r;var u=vi;r=_i;var h=32-gn(u)-1;u&=~(1<<h),o+=1;var g=32-gn(s)+h;if(30<g){var x=h-h%5;g=(u&(1<<x)-1).toString(32),u>>=x,h-=x,vi=1<<32-gn(s)+h|o<<h|u,_i=g+r}else vi=1<<g|o<<h|u,_i=r}function bm(r){r.return!==null&&(wa(r,1),s0(r,1,0))}function Em(r){for(;r===gd;)gd=wo[--xo],wo[xo]=null,yd=wo[--xo],wo[xo]=null;for(;r===Ea;)Ea=er[--tr],er[tr]=null,_i=er[--tr],er[tr]=null,vi=er[--tr],er[tr]=null}var Cn=null,xt=null,Je=!1,xa=null,zr=!1,wm=Error(i(519));function Ta(r){var s=Error(i(418,""));throw du(Zn(s,r)),wm}function a0(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Ht]=r,s[Mt]=u,o){case"dialog":He("cancel",s),He("close",s);break;case"iframe":case"object":case"embed":He("load",s);break;case"video":case"audio":for(o=0;o<Pu.length;o++)He(Pu[o],s);break;case"source":He("error",s);break;case"img":case"image":case"link":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"input":He("invalid",s),la(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ao(s);break;case"select":He("invalid",s);break;case"textarea":He("invalid",s),ua(s,u.value,u.defaultValue,u.children),ao(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||xb(s.textContent,o)?(u.popover!=null&&(He("beforetoggle",s),He("toggle",s)),u.onScroll!=null&&He("scroll",s),u.onScrollEnd!=null&&He("scrollend",s),u.onClick!=null&&(s.onclick=Wd),s=!0):s=!1,s||Ta(r)}function o0(r){for(Cn=r.return;Cn;)switch(Cn.tag){case 5:case 13:zr=!1;return;case 27:case 3:zr=!0;return;default:Cn=Cn.return}}function uu(r){if(r!==Cn)return!1;if(!Je)return o0(r),Je=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Lp(r.type,r.memoizedProps)),o=!o),o&&xt&&Ta(r),o0(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){xt=mr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}xt=null}}else s===27?(s=xt,gs(r.type)?(r=Fp,Fp=null,xt=r):xt=s):xt=Cn?mr(r.stateNode.nextSibling):null;return!0}function cu(){xt=Cn=null,Je=!1}function l0(){var r=xa;return r!==null&&(On===null?On=r:On.push.apply(On,r),xa=null),r}function du(r){xa===null?xa=[r]:xa.push(r)}var xm=ne(null),Sa=null,bi=null;function ts(r,s,o){se(xm,s._currentValue),s._currentValue=o}function Ei(r){r._currentValue=xm.current,fe(xm)}function Tm(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function Sm(r,s,o,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var g=h.dependencies;if(g!==null){var x=h.child;g=g.firstContext;e:for(;g!==null;){var I=g;g=h;for(var H=0;H<s.length;H++)if(I.context===s[H]){g.lanes|=o,I=g.alternate,I!==null&&(I.lanes|=o),Tm(g.return,o,r),u||(x=null);break e}g=I.next}}else if(h.tag===18){if(x=h.return,x===null)throw Error(i(341));x.lanes|=o,g=x.alternate,g!==null&&(g.lanes|=o),Tm(x,o,r),x=null}else x=h.child;if(x!==null)x.return=h;else for(x=h;x!==null;){if(x===r){x=null;break}if(h=x.sibling,h!==null){h.return=x.return,x=h;break}x=x.return}h=x}}function fu(r,s,o,u){r=null;for(var h=s,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var x=h.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var I=h.type;Vn(h.pendingProps.value,x.value)||(r!==null?r.push(I):r=[I])}}else if(h===me.current){if(x=h.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(zu):r=[zu])}h=h.return}r!==null&&Sm(s,r,o,u),s.flags|=262144}function vd(r){for(r=r.firstContext;r!==null;){if(!Vn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Aa(r){Sa=r,bi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function yn(r){return u0(Sa,r)}function _d(r,s){return Sa===null&&Aa(r),u0(r,s)}function u0(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},bi===null){if(r===null)throw Error(i(308));bi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else bi=bi.next=s;return o}var _2=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},b2=n.unstable_scheduleCallback,E2=n.unstable_NormalPriority,$t={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Am(){return{controller:new _2,data:new Map,refCount:0}}function hu(r){r.refCount--,r.refCount===0&&b2(E2,function(){r.controller.abort()})}var mu=null,Rm=0,To=0,So=null;function w2(r,s){if(mu===null){var o=mu=[];Rm=0,To=Ip(),So={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Rm++,s.then(c0,c0),s}function c0(){if(--Rm===0&&mu!==null){So!==null&&(So.status="fulfilled");var r=mu;mu=null,To=0,So=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function x2(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var h=0;h<o.length;h++)(0,o[h])(s)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var d0=q.S;q.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&w2(r,s),d0!==null&&d0(r,s)};var Ra=ne(null);function Cm(){var r=Ra.current;return r!==null?r:mt.pooledCache}function bd(r,s){s===null?se(Ra,Ra.current):se(Ra,s.pool)}function f0(){var r=Cm();return r===null?null:{parent:$t._currentValue,pool:r}}var pu=Error(i(460)),h0=Error(i(474)),Ed=Error(i(542)),Im={then:function(){}};function m0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function wd(){}function p0(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(wd,wd),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,y0(r),r;default:if(typeof s.status=="string")s.then(wd,wd);else{if(r=mt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=u}},function(u){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,y0(r),r}throw gu=s,pu}}var gu=null;function g0(){if(gu===null)throw Error(i(459));var r=gu;return gu=null,r}function y0(r){if(r===pu||r===Ed)throw Error(i(483))}var ns=!1;function Nm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function rs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function is(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(it&2)!==0){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,s=md(r),r0(r,null,o),s}return hd(r,u,s,o),md(r)}function yu(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Gl(r,o)}}function Om(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var x={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?h=g=x:g=g.next=x,o=o.next}while(o!==null);g===null?h=g=s:g=g.next=s}else h=g=s;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var km=!1;function vu(){if(km){var r=So;if(r!==null)throw r}}function _u(r,s,o,u){km=!1;var h=r.updateQueue;ns=!1;var g=h.firstBaseUpdate,x=h.lastBaseUpdate,I=h.shared.pending;if(I!==null){h.shared.pending=null;var H=I,J=H.next;H.next=null,x===null?g=J:x.next=J,x=H;var ae=r.alternate;ae!==null&&(ae=ae.updateQueue,I=ae.lastBaseUpdate,I!==x&&(I===null?ae.firstBaseUpdate=J:I.next=J,ae.lastBaseUpdate=H))}if(g!==null){var ue=h.baseState;x=0,ae=J=H=null,I=g;do{var ee=I.lane&-536870913,te=ee!==I.lane;if(te?(Qe&ee)===ee:(u&ee)===ee){ee!==0&&ee===To&&(km=!0),ae!==null&&(ae=ae.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var De=r,Re=I;ee=s;var ct=o;switch(Re.tag){case 1:if(De=Re.payload,typeof De=="function"){ue=De.call(ct,ue,ee);break e}ue=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Re.payload,ee=typeof De=="function"?De.call(ct,ue,ee):De,ee==null)break e;ue=v({},ue,ee);break e;case 2:ns=!0}}ee=I.callback,ee!==null&&(r.flags|=64,te&&(r.flags|=8192),te=h.callbacks,te===null?h.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ae===null?(J=ae=te,H=ue):ae=ae.next=te,x|=ee;if(I=I.next,I===null){if(I=h.shared.pending,I===null)break;te=I,I=te.next,te.next=null,h.lastBaseUpdate=te,h.shared.pending=null}}while(!0);ae===null&&(H=ue),h.baseState=H,h.firstBaseUpdate=J,h.lastBaseUpdate=ae,g===null&&(h.shared.lanes=0),fs|=x,r.lanes=x,r.memoizedState=ue}}function v0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function _0(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)v0(o[r],s)}var Ao=ne(null),xd=ne(0);function b0(r,s){r=Ci,se(xd,r),se(Ao,s),Ci=r|s.baseLanes}function Mm(){se(xd,Ci),se(Ao,Ao.current)}function Pm(){Ci=xd.current,fe(Ao),fe(xd)}var ss=0,Le=null,lt=null,jt=null,Td=!1,Ro=!1,Ca=!1,Sd=0,bu=0,Co=null,T2=0;function Nt(){throw Error(i(321))}function jm(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Vn(r[o],s[o]))return!1;return!0}function Vm(r,s,o,u,h,g){return ss=g,Le=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,q.H=r===null||r.memoizedState===null?r_:i_,Ca=!1,g=o(u,h),Ca=!1,Ro&&(g=w0(s,o,u,h)),E0(r),g}function E0(r){q.H=Dd;var s=lt!==null&&lt.next!==null;if(ss=0,jt=lt=Le=null,Td=!1,bu=0,Co=null,s)throw Error(i(300));r===null||tn||(r=r.dependencies,r!==null&&vd(r)&&(tn=!0))}function w0(r,s,o,u){Le=r;var h=0;do{if(Ro&&(Co=null),bu=0,Ro=!1,25<=h)throw Error(i(301));if(h+=1,jt=lt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}q.H=D2,g=s(o,u)}while(Ro);return g}function S2(){var r=q.H,s=r.useState()[0];return s=typeof s.then=="function"?Eu(s):s,r=r.useState()[0],(lt!==null?lt.memoizedState:null)!==r&&(Le.flags|=1024),s}function Lm(){var r=Sd!==0;return Sd=0,r}function Um(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Bm(r){if(Td){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Td=!1}ss=0,jt=lt=Le=null,Ro=!1,bu=Sd=0,Co=null}function Nn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Le.memoizedState=jt=r:jt=jt.next=r,jt}function Vt(){if(lt===null){var r=Le.alternate;r=r!==null?r.memoizedState:null}else r=lt.next;var s=jt===null?Le.memoizedState:jt.next;if(s!==null)jt=s,lt=r;else{if(r===null)throw Le.alternate===null?Error(i(467)):Error(i(310));lt=r,r={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},jt===null?Le.memoizedState=jt=r:jt=jt.next=r}return jt}function zm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eu(r){var s=bu;return bu+=1,Co===null&&(Co=[]),r=p0(Co,r,s),s=Le,(jt===null?s.memoizedState:jt.next)===null&&(s=s.alternate,q.H=s===null||s.memoizedState===null?r_:i_),r}function Ad(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Eu(r);if(r.$$typeof===z)return yn(r)}throw Error(i(438,String(r)))}function Fm(r){var s=null,o=Le.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Le.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=zm(),Le.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=L;return s.index++,o}function wi(r,s){return typeof s=="function"?s(r):s}function Rd(r){var s=Vt();return Hm(s,lt,r)}function Hm(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var h=r.baseQueue,g=u.pending;if(g!==null){if(h!==null){var x=h.next;h.next=g.next,g.next=x}s.baseQueue=h=g,u.pending=null}if(g=r.baseState,h===null)r.memoizedState=g;else{s=h.next;var I=x=null,H=null,J=s,ae=!1;do{var ue=J.lane&-536870913;if(ue!==J.lane?(Qe&ue)===ue:(ss&ue)===ue){var ee=J.revertLane;if(ee===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ue===To&&(ae=!0);else if((ss&ee)===ee){J=J.next,ee===To&&(ae=!0);continue}else ue={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},H===null?(I=H=ue,x=g):H=H.next=ue,Le.lanes|=ee,fs|=ee;ue=J.action,Ca&&o(g,ue),g=J.hasEagerState?J.eagerState:o(g,ue)}else ee={lane:ue,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},H===null?(I=H=ee,x=g):H=H.next=ee,Le.lanes|=ue,fs|=ue;J=J.next}while(J!==null&&J!==s);if(H===null?x=g:H.next=I,!Vn(g,r.memoizedState)&&(tn=!0,ae&&(o=So,o!==null)))throw o;r.memoizedState=g,r.baseState=x,r.baseQueue=H,u.lastRenderedState=g}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function qm(r){var s=Vt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,h=o.pending,g=s.memoizedState;if(h!==null){o.pending=null;var x=h=h.next;do g=r(g,x.action),x=x.next;while(x!==h);Vn(g,s.memoizedState)||(tn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function x0(r,s,o){var u=Le,h=Vt(),g=Je;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var x=!Vn((lt||h).memoizedState,o);x&&(h.memoizedState=o,tn=!0),h=h.queue;var I=A0.bind(null,u,h,r);if(wu(2048,8,I,[r]),h.getSnapshot!==s||x||jt!==null&&jt.memoizedState.tag&1){if(u.flags|=2048,Io(9,Cd(),S0.bind(null,u,h,o,s),null),mt===null)throw Error(i(349));g||(ss&124)!==0||T0(u,s,o)}return o}function T0(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Le.updateQueue,s===null?(s=zm(),Le.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function S0(r,s,o,u){s.value=o,s.getSnapshot=u,R0(s)&&C0(r)}function A0(r,s,o){return o(function(){R0(s)&&C0(r)})}function R0(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Vn(r,o)}catch{return!0}}function C0(r){var s=bo(r,2);s!==null&&Hn(s,r,2)}function Gm(r){var s=Nn();if(typeof r=="function"){var o=r;if(r=o(),Ca){Pn(!0);try{o()}finally{Pn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:r},s}function I0(r,s,o,u){return r.baseState=o,Hm(r,lt,typeof u=="function"?u:wi)}function A2(r,s,o,u,h){if(Nd(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){g.listeners.push(x)}};q.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,N0(s,g)):(g.next=o.next,s.pending=o.next=g)}}function N0(r,s){var o=s.action,u=s.payload,h=r.state;if(s.isTransition){var g=q.T,x={};q.T=x;try{var I=o(h,u),H=q.S;H!==null&&H(x,I),D0(r,s,I)}catch(J){$m(r,s,J)}finally{q.T=g}}else try{g=o(h,u),D0(r,s,g)}catch(J){$m(r,s,J)}}function D0(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){O0(r,s,u)},function(u){return $m(r,s,u)}):O0(r,s,o)}function O0(r,s,o){s.status="fulfilled",s.value=o,k0(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,N0(r,o)))}function $m(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,k0(s),s=s.next;while(s!==u)}r.action=null}function k0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function M0(r,s){return s}function P0(r,s){if(Je){var o=mt.formState;if(o!==null){e:{var u=Le;if(Je){if(xt){t:{for(var h=xt,g=zr;h.nodeType!==8;){if(!g){h=null;break t}if(h=mr(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){xt=mr(h.nextSibling),u=h.data==="F!";break e}}Ta(u)}u=!1}u&&(s=o[0])}}return o=Nn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:M0,lastRenderedState:s},o.queue=u,o=e_.bind(null,Le,u),u.dispatch=o,u=Gm(!1),g=Wm.bind(null,Le,!1,u.queue),u=Nn(),h={state:s,dispatch:null,action:r,pending:null},u.queue=h,o=A2.bind(null,Le,h,g,o),h.dispatch=o,u.memoizedState=r,[s,o,!1]}function j0(r){var s=Vt();return V0(s,lt,r)}function V0(r,s,o){if(s=Hm(r,s,M0)[0],r=Rd(wi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Eu(s)}catch(x){throw x===pu?Ed:x}else u=s;s=Vt();var h=s.queue,g=h.dispatch;return o!==s.memoizedState&&(Le.flags|=2048,Io(9,Cd(),R2.bind(null,h,o),null)),[u,g,r]}function R2(r,s){r.action=s}function L0(r){var s=Vt(),o=lt;if(o!==null)return V0(s,o,r);Vt(),s=s.memoizedState,o=Vt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function Io(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=Le.updateQueue,s===null&&(s=zm(),Le.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function Cd(){return{destroy:void 0,resource:void 0}}function U0(){return Vt().memoizedState}function Id(r,s,o,u){var h=Nn();u=u===void 0?null:u,Le.flags|=r,h.memoizedState=Io(1|s,Cd(),o,u)}function wu(r,s,o,u){var h=Vt();u=u===void 0?null:u;var g=h.memoizedState.inst;lt!==null&&u!==null&&jm(u,lt.memoizedState.deps)?h.memoizedState=Io(s,g,o,u):(Le.flags|=r,h.memoizedState=Io(1|s,g,o,u))}function B0(r,s){Id(8390656,8,r,s)}function z0(r,s){wu(2048,8,r,s)}function F0(r,s){return wu(4,2,r,s)}function H0(r,s){return wu(4,4,r,s)}function q0(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function G0(r,s,o){o=o!=null?o.concat([r]):null,wu(4,4,q0.bind(null,s,r),o)}function Ym(){}function $0(r,s){var o=Vt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&jm(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function Y0(r,s){var o=Vt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&jm(s,u[1]))return u[0];if(u=r(),Ca){Pn(!0);try{r()}finally{Pn(!1)}}return o.memoizedState=[u,s],u}function Km(r,s,o){return o===void 0||(ss&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=X_(),Le.lanes|=r,fs|=r,o)}function K0(r,s,o,u){return Vn(o,s)?o:Ao.current!==null?(r=Km(r,o,u),Vn(r,s)||(tn=!0),r):(ss&42)===0?(tn=!0,r.memoizedState=o):(r=X_(),Le.lanes|=r,fs|=r,s)}function Q0(r,s,o,u,h){var g=F.p;F.p=g!==0&&8>g?g:8;var x=q.T,I={};q.T=I,Wm(r,!1,s,o);try{var H=h(),J=q.S;if(J!==null&&J(I,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ae=x2(H,u);xu(r,s,ae,Fn(r))}else xu(r,s,u,Fn(r))}catch(ue){xu(r,s,{then:function(){},status:"rejected",reason:ue},Fn())}finally{F.p=g,q.T=x}}function C2(){}function Qm(r,s,o,u){if(r.tag!==5)throw Error(i(476));var h=X0(r).queue;Q0(r,h,s,G,o===null?C2:function(){return W0(r),o(u)})}function X0(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:G},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function W0(r){var s=X0(r).next.queue;xu(r,s,{},Fn())}function Xm(){return yn(zu)}function Z0(){return Vt().memoizedState}function J0(){return Vt().memoizedState}function I2(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Fn();r=rs(o);var u=is(s,r,o);u!==null&&(Hn(u,s,o),yu(u,s,o)),s={cache:Am()},r.payload=s;return}s=s.return}}function N2(r,s,o){var u=Fn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Nd(r)?t_(s,o):(o=gm(r,s,o,u),o!==null&&(Hn(o,r,u),n_(o,s,u)))}function e_(r,s,o){var u=Fn();xu(r,s,o,u)}function xu(r,s,o,u){var h={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Nd(r))t_(s,h);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var x=s.lastRenderedState,I=g(x,o);if(h.hasEagerState=!0,h.eagerState=I,Vn(I,x))return hd(r,s,h,0),mt===null&&fd(),!1}catch{}finally{}if(o=gm(r,s,h,u),o!==null)return Hn(o,r,u),n_(o,s,u),!0}return!1}function Wm(r,s,o,u){if(u={lane:2,revertLane:Ip(),action:u,hasEagerState:!1,eagerState:null,next:null},Nd(r)){if(s)throw Error(i(479))}else s=gm(r,o,u,2),s!==null&&Hn(s,r,2)}function Nd(r){var s=r.alternate;return r===Le||s!==null&&s===Le}function t_(r,s){Ro=Td=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function n_(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Gl(r,o)}}var Dd={readContext:yn,use:Ad,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt},r_={readContext:yn,use:Ad,useCallback:function(r,s){return Nn().memoizedState=[r,s===void 0?null:s],r},useContext:yn,useEffect:B0,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Id(4194308,4,q0.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Id(4194308,4,r,s)},useInsertionEffect:function(r,s){Id(4,2,r,s)},useMemo:function(r,s){var o=Nn();s=s===void 0?null:s;var u=r();if(Ca){Pn(!0);try{r()}finally{Pn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=Nn();if(o!==void 0){var h=o(s);if(Ca){Pn(!0);try{o(s)}finally{Pn(!1)}}}else h=s;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=N2.bind(null,Le,r),[u.memoizedState,r]},useRef:function(r){var s=Nn();return r={current:r},s.memoizedState=r},useState:function(r){r=Gm(r);var s=r.queue,o=e_.bind(null,Le,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Ym,useDeferredValue:function(r,s){var o=Nn();return Km(o,r,s)},useTransition:function(){var r=Gm(!1);return r=Q0.bind(null,Le,r.queue,!0,!1),Nn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Le,h=Nn();if(Je){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),mt===null)throw Error(i(349));(Qe&124)!==0||T0(u,s,o)}h.memoizedState=o;var g={value:o,getSnapshot:s};return h.queue=g,B0(A0.bind(null,u,g,r),[r]),u.flags|=2048,Io(9,Cd(),S0.bind(null,u,g,o,s),null),o},useId:function(){var r=Nn(),s=mt.identifierPrefix;if(Je){var o=_i,u=vi;o=(u&~(1<<32-gn(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=Sd++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=T2++,s="«"+s+"r"+o.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:Xm,useFormState:P0,useActionState:P0,useOptimistic:function(r){var s=Nn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Wm.bind(null,Le,!0,o),o.dispatch=s,[r,s]},useMemoCache:Fm,useCacheRefresh:function(){return Nn().memoizedState=I2.bind(null,Le)}},i_={readContext:yn,use:Ad,useCallback:$0,useContext:yn,useEffect:z0,useImperativeHandle:G0,useInsertionEffect:F0,useLayoutEffect:H0,useMemo:Y0,useReducer:Rd,useRef:U0,useState:function(){return Rd(wi)},useDebugValue:Ym,useDeferredValue:function(r,s){var o=Vt();return K0(o,lt.memoizedState,r,s)},useTransition:function(){var r=Rd(wi)[0],s=Vt().memoizedState;return[typeof r=="boolean"?r:Eu(r),s]},useSyncExternalStore:x0,useId:Z0,useHostTransitionStatus:Xm,useFormState:j0,useActionState:j0,useOptimistic:function(r,s){var o=Vt();return I0(o,lt,r,s)},useMemoCache:Fm,useCacheRefresh:J0},D2={readContext:yn,use:Ad,useCallback:$0,useContext:yn,useEffect:z0,useImperativeHandle:G0,useInsertionEffect:F0,useLayoutEffect:H0,useMemo:Y0,useReducer:qm,useRef:U0,useState:function(){return qm(wi)},useDebugValue:Ym,useDeferredValue:function(r,s){var o=Vt();return lt===null?Km(o,r,s):K0(o,lt.memoizedState,r,s)},useTransition:function(){var r=qm(wi)[0],s=Vt().memoizedState;return[typeof r=="boolean"?r:Eu(r),s]},useSyncExternalStore:x0,useId:Z0,useHostTransitionStatus:Xm,useFormState:L0,useActionState:L0,useOptimistic:function(r,s){var o=Vt();return lt!==null?I0(o,lt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Fm,useCacheRefresh:J0},No=null,Tu=0;function Od(r){var s=Tu;return Tu+=1,No===null&&(No=[]),p0(No,r,s)}function Su(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function kd(r,s){throw s.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function s_(r){var s=r._init;return s(r._payload)}function a_(r){function s(Y,$){if(r){var W=Y.deletions;W===null?(Y.deletions=[$],Y.flags|=16):W.push($)}}function o(Y,$){if(!r)return null;for(;$!==null;)s(Y,$),$=$.sibling;return null}function u(Y){for(var $=new Map;Y!==null;)Y.key!==null?$.set(Y.key,Y):$.set(Y.index,Y),Y=Y.sibling;return $}function h(Y,$){return Y=yi(Y,$),Y.index=0,Y.sibling=null,Y}function g(Y,$,W){return Y.index=W,r?(W=Y.alternate,W!==null?(W=W.index,W<$?(Y.flags|=67108866,$):W):(Y.flags|=67108866,$)):(Y.flags|=1048576,$)}function x(Y){return r&&Y.alternate===null&&(Y.flags|=67108866),Y}function I(Y,$,W,oe){return $===null||$.tag!==6?($=vm(W,Y.mode,oe),$.return=Y,$):($=h($,W),$.return=Y,$)}function H(Y,$,W,oe){var _e=W.type;return _e===C?ae(Y,$,W.props.children,oe,W.key):$!==null&&($.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===S&&s_(_e)===$.type)?($=h($,W.props),Su($,W),$.return=Y,$):($=pd(W.type,W.key,W.props,null,Y.mode,oe),Su($,W),$.return=Y,$)}function J(Y,$,W,oe){return $===null||$.tag!==4||$.stateNode.containerInfo!==W.containerInfo||$.stateNode.implementation!==W.implementation?($=_m(W,Y.mode,oe),$.return=Y,$):($=h($,W.children||[]),$.return=Y,$)}function ae(Y,$,W,oe,_e){return $===null||$.tag!==7?($=ba(W,Y.mode,oe,_e),$.return=Y,$):($=h($,W),$.return=Y,$)}function ue(Y,$,W){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=vm(""+$,Y.mode,W),$.return=Y,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case E:return W=pd($.type,$.key,$.props,null,Y.mode,W),Su(W,$),W.return=Y,W;case R:return $=_m($,Y.mode,W),$.return=Y,$;case S:var oe=$._init;return $=oe($._payload),ue(Y,$,W)}if(le($)||j($))return $=ba($,Y.mode,W,null),$.return=Y,$;if(typeof $.then=="function")return ue(Y,Od($),W);if($.$$typeof===z)return ue(Y,_d(Y,$),W);kd(Y,$)}return null}function ee(Y,$,W,oe){var _e=$!==null?$.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return _e!==null?null:I(Y,$,""+W,oe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case E:return W.key===_e?H(Y,$,W,oe):null;case R:return W.key===_e?J(Y,$,W,oe):null;case S:return _e=W._init,W=_e(W._payload),ee(Y,$,W,oe)}if(le(W)||j(W))return _e!==null?null:ae(Y,$,W,oe,null);if(typeof W.then=="function")return ee(Y,$,Od(W),oe);if(W.$$typeof===z)return ee(Y,$,_d(Y,W),oe);kd(Y,W)}return null}function te(Y,$,W,oe,_e){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Y=Y.get(W)||null,I($,Y,""+oe,_e);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case E:return Y=Y.get(oe.key===null?W:oe.key)||null,H($,Y,oe,_e);case R:return Y=Y.get(oe.key===null?W:oe.key)||null,J($,Y,oe,_e);case S:var ze=oe._init;return oe=ze(oe._payload),te(Y,$,W,oe,_e)}if(le(oe)||j(oe))return Y=Y.get(W)||null,ae($,Y,oe,_e,null);if(typeof oe.then=="function")return te(Y,$,W,Od(oe),_e);if(oe.$$typeof===z)return te(Y,$,W,_d($,oe),_e);kd($,oe)}return null}function De(Y,$,W,oe){for(var _e=null,ze=null,xe=$,Ce=$=0,rn=null;xe!==null&&Ce<W.length;Ce++){xe.index>Ce?(rn=xe,xe=null):rn=xe.sibling;var Ze=ee(Y,xe,W[Ce],oe);if(Ze===null){xe===null&&(xe=rn);break}r&&xe&&Ze.alternate===null&&s(Y,xe),$=g(Ze,$,Ce),ze===null?_e=Ze:ze.sibling=Ze,ze=Ze,xe=rn}if(Ce===W.length)return o(Y,xe),Je&&wa(Y,Ce),_e;if(xe===null){for(;Ce<W.length;Ce++)xe=ue(Y,W[Ce],oe),xe!==null&&($=g(xe,$,Ce),ze===null?_e=xe:ze.sibling=xe,ze=xe);return Je&&wa(Y,Ce),_e}for(xe=u(xe);Ce<W.length;Ce++)rn=te(xe,Y,Ce,W[Ce],oe),rn!==null&&(r&&rn.alternate!==null&&xe.delete(rn.key===null?Ce:rn.key),$=g(rn,$,Ce),ze===null?_e=rn:ze.sibling=rn,ze=rn);return r&&xe.forEach(function(Es){return s(Y,Es)}),Je&&wa(Y,Ce),_e}function Re(Y,$,W,oe){if(W==null)throw Error(i(151));for(var _e=null,ze=null,xe=$,Ce=$=0,rn=null,Ze=W.next();xe!==null&&!Ze.done;Ce++,Ze=W.next()){xe.index>Ce?(rn=xe,xe=null):rn=xe.sibling;var Es=ee(Y,xe,Ze.value,oe);if(Es===null){xe===null&&(xe=rn);break}r&&xe&&Es.alternate===null&&s(Y,xe),$=g(Es,$,Ce),ze===null?_e=Es:ze.sibling=Es,ze=Es,xe=rn}if(Ze.done)return o(Y,xe),Je&&wa(Y,Ce),_e;if(xe===null){for(;!Ze.done;Ce++,Ze=W.next())Ze=ue(Y,Ze.value,oe),Ze!==null&&($=g(Ze,$,Ce),ze===null?_e=Ze:ze.sibling=Ze,ze=Ze);return Je&&wa(Y,Ce),_e}for(xe=u(xe);!Ze.done;Ce++,Ze=W.next())Ze=te(xe,Y,Ce,Ze.value,oe),Ze!==null&&(r&&Ze.alternate!==null&&xe.delete(Ze.key===null?Ce:Ze.key),$=g(Ze,$,Ce),ze===null?_e=Ze:ze.sibling=Ze,ze=Ze);return r&&xe.forEach(function(OR){return s(Y,OR)}),Je&&wa(Y,Ce),_e}function ct(Y,$,W,oe){if(typeof W=="object"&&W!==null&&W.type===C&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case E:e:{for(var _e=W.key;$!==null;){if($.key===_e){if(_e=W.type,_e===C){if($.tag===7){o(Y,$.sibling),oe=h($,W.props.children),oe.return=Y,Y=oe;break e}}else if($.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===S&&s_(_e)===$.type){o(Y,$.sibling),oe=h($,W.props),Su(oe,W),oe.return=Y,Y=oe;break e}o(Y,$);break}else s(Y,$);$=$.sibling}W.type===C?(oe=ba(W.props.children,Y.mode,oe,W.key),oe.return=Y,Y=oe):(oe=pd(W.type,W.key,W.props,null,Y.mode,oe),Su(oe,W),oe.return=Y,Y=oe)}return x(Y);case R:e:{for(_e=W.key;$!==null;){if($.key===_e)if($.tag===4&&$.stateNode.containerInfo===W.containerInfo&&$.stateNode.implementation===W.implementation){o(Y,$.sibling),oe=h($,W.children||[]),oe.return=Y,Y=oe;break e}else{o(Y,$);break}else s(Y,$);$=$.sibling}oe=_m(W,Y.mode,oe),oe.return=Y,Y=oe}return x(Y);case S:return _e=W._init,W=_e(W._payload),ct(Y,$,W,oe)}if(le(W))return De(Y,$,W,oe);if(j(W)){if(_e=j(W),typeof _e!="function")throw Error(i(150));return W=_e.call(W),Re(Y,$,W,oe)}if(typeof W.then=="function")return ct(Y,$,Od(W),oe);if(W.$$typeof===z)return ct(Y,$,_d(Y,W),oe);kd(Y,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,$!==null&&$.tag===6?(o(Y,$.sibling),oe=h($,W),oe.return=Y,Y=oe):(o(Y,$),oe=vm(W,Y.mode,oe),oe.return=Y,Y=oe),x(Y)):o(Y,$)}return function(Y,$,W,oe){try{Tu=0;var _e=ct(Y,$,W,oe);return No=null,_e}catch(xe){if(xe===pu||xe===Ed)throw xe;var ze=Ln(29,xe,null,Y.mode);return ze.lanes=oe,ze.return=Y,ze}finally{}}}var Do=a_(!0),o_=a_(!1),nr=ne(null),Fr=null;function as(r){var s=r.alternate;se(Yt,Yt.current&1),se(nr,r),Fr===null&&(s===null||Ao.current!==null||s.memoizedState!==null)&&(Fr=r)}function l_(r){if(r.tag===22){if(se(Yt,Yt.current),se(nr,r),Fr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Fr=r)}}else os()}function os(){se(Yt,Yt.current),se(nr,nr.current)}function xi(r){fe(nr),Fr===r&&(Fr=null),fe(Yt)}var Yt=ne(0);function Md(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||zp(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Zm(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:v({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Jm={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=Fn(),h=rs(u);h.payload=s,o!=null&&(h.callback=o),s=is(r,h,u),s!==null&&(Hn(s,r,u),yu(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=Fn(),h=rs(u);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=is(r,h,u),s!==null&&(Hn(s,r,u),yu(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Fn(),u=rs(o);u.tag=2,s!=null&&(u.callback=s),s=is(r,u,o),s!==null&&(Hn(s,r,o),yu(s,r,o))}};function u_(r,s,o,u,h,g,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,x):s.prototype&&s.prototype.isPureReactComponent?!ou(o,u)||!ou(h,g):!0}function c_(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&Jm.enqueueReplaceState(s,s.state,null)}function Ia(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=v({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var Pd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function d_(r){Pd(r)}function f_(r){console.error(r)}function h_(r){Pd(r)}function jd(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function m_(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ep(r,s,o){return o=rs(o),o.tag=3,o.payload={element:null},o.callback=function(){jd(r,s)},o}function p_(r){return r=rs(r),r.tag=3,r}function g_(r,s,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var g=u.value;r.payload=function(){return h(g)},r.callback=function(){m_(s,o,u)}}var x=o.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(r.callback=function(){m_(s,o,u),typeof h!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var I=u.stack;this.componentDidCatch(u.value,{componentStack:I!==null?I:""})})}function O2(r,s,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&fu(s,o,h,!0),o=nr.current,o!==null){switch(o.tag){case 13:return Fr===null?Tp():o.alternate===null&&Tt===0&&(Tt=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===Im?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Ap(r,u,h)),!1;case 22:return o.flags|=65536,u===Im?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Ap(r,u,h)),!1}throw Error(i(435,o.tag))}return Ap(r,u,h),Tp(),!1}if(Je)return s=nr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,u!==wm&&(r=Error(i(422),{cause:u}),du(Zn(r,o)))):(u!==wm&&(s=Error(i(423),{cause:u}),du(Zn(s,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=Zn(u,o),h=ep(r.stateNode,u,h),Om(r,h),Tt!==4&&(Tt=2)),!1;var g=Error(i(520),{cause:u});if(g=Zn(g,o),Ou===null?Ou=[g]:Ou.push(g),Tt!==4&&(Tt=2),s===null)return!0;u=Zn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=ep(o.stateNode,u,r),Om(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(hs===null||!hs.has(g))))return o.flags|=65536,h&=-h,o.lanes|=h,h=p_(h),g_(h,r,o,u),Om(o,h),!1}o=o.return}while(o!==null);return!1}var y_=Error(i(461)),tn=!1;function ln(r,s,o,u){s.child=r===null?o_(s,null,o,u):Do(s,r.child,o,u)}function v_(r,s,o,u,h){o=o.render;var g=s.ref;if("ref"in u){var x={};for(var I in u)I!=="ref"&&(x[I]=u[I])}else x=u;return Aa(s),u=Vm(r,s,o,x,g,h),I=Lm(),r!==null&&!tn?(Um(r,s,h),Ti(r,s,h)):(Je&&I&&bm(s),s.flags|=1,ln(r,s,u,h),s.child)}function __(r,s,o,u,h){if(r===null){var g=o.type;return typeof g=="function"&&!ym(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,b_(r,s,g,u,h)):(r=pd(o.type,null,u,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!lp(r,h)){var x=g.memoizedProps;if(o=o.compare,o=o!==null?o:ou,o(x,u)&&r.ref===s.ref)return Ti(r,s,h)}return s.flags|=1,r=yi(g,u),r.ref=s.ref,r.return=s,s.child=r}function b_(r,s,o,u,h){if(r!==null){var g=r.memoizedProps;if(ou(g,u)&&r.ref===s.ref)if(tn=!1,s.pendingProps=u=g,lp(r,h))(r.flags&131072)!==0&&(tn=!0);else return s.lanes=r.lanes,Ti(r,s,h)}return tp(r,s,o,u,h)}function E_(r,s,o){var u=s.pendingProps,h=u.children,g=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,r!==null){for(h=s.child=r.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return w_(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&bd(s,g!==null?g.cachePool:null),g!==null?b0(s,g):Mm(),l_(s);else return s.lanes=s.childLanes=536870912,w_(r,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(bd(s,g.cachePool),b0(s,g),os(),s.memoizedState=null):(r!==null&&bd(s,null),Mm(),os());return ln(r,s,h,o),s.child}function w_(r,s,o,u){var h=Cm();return h=h===null?null:{parent:$t._currentValue,pool:h},s.memoizedState={baseLanes:o,cachePool:h},r!==null&&bd(s,null),Mm(),l_(s),r!==null&&fu(r,s,u,!0),null}function Vd(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function tp(r,s,o,u,h){return Aa(s),o=Vm(r,s,o,u,void 0,h),u=Lm(),r!==null&&!tn?(Um(r,s,h),Ti(r,s,h)):(Je&&u&&bm(s),s.flags|=1,ln(r,s,o,h),s.child)}function x_(r,s,o,u,h,g){return Aa(s),s.updateQueue=null,o=w0(s,u,o,h),E0(r),u=Lm(),r!==null&&!tn?(Um(r,s,g),Ti(r,s,g)):(Je&&u&&bm(s),s.flags|=1,ln(r,s,o,g),s.child)}function T_(r,s,o,u,h){if(Aa(s),s.stateNode===null){var g=Eo,x=o.contextType;typeof x=="object"&&x!==null&&(g=yn(x)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Jm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Nm(s),x=o.contextType,g.context=typeof x=="object"&&x!==null?yn(x):Eo,g.state=s.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(Zm(s,o,x,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(x=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),x!==g.state&&Jm.enqueueReplaceState(g,g.state,null),_u(s,u,g,h),vu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var I=s.memoizedProps,H=Ia(o,I);g.props=H;var J=g.context,ae=o.contextType;x=Eo,typeof ae=="object"&&ae!==null&&(x=yn(ae));var ue=o.getDerivedStateFromProps;ae=typeof ue=="function"||typeof g.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,ae||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(I||J!==x)&&c_(s,g,u,x),ns=!1;var ee=s.memoizedState;g.state=ee,_u(s,u,g,h),vu(),J=s.memoizedState,I||ee!==J||ns?(typeof ue=="function"&&(Zm(s,o,ue,u),J=s.memoizedState),(H=ns||u_(s,o,H,u,ee,J,x))?(ae||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=J),g.props=u,g.state=J,g.context=x,u=H):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Dm(r,s),x=s.memoizedProps,ae=Ia(o,x),g.props=ae,ue=s.pendingProps,ee=g.context,J=o.contextType,H=Eo,typeof J=="object"&&J!==null&&(H=yn(J)),I=o.getDerivedStateFromProps,(J=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==ue||ee!==H)&&c_(s,g,u,H),ns=!1,ee=s.memoizedState,g.state=ee,_u(s,u,g,h),vu();var te=s.memoizedState;x!==ue||ee!==te||ns||r!==null&&r.dependencies!==null&&vd(r.dependencies)?(typeof I=="function"&&(Zm(s,o,I,u),te=s.memoizedState),(ae=ns||u_(s,o,ae,u,ee,te,H)||r!==null&&r.dependencies!==null&&vd(r.dependencies))?(J||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,te,H),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,te,H)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=te),g.props=u,g.state=te,g.context=H,u=ae):(typeof g.componentDidUpdate!="function"||x===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,Vd(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=Do(s,r.child,null,h),s.child=Do(s,null,o,h)):ln(r,s,o,h),s.memoizedState=g.state,r=s.child):r=Ti(r,s,h),r}function S_(r,s,o,u){return cu(),s.flags|=256,ln(r,s,o,u),s.child}var np={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rp(r){return{baseLanes:r,cachePool:f0()}}function ip(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=rr),r}function A_(r,s,o){var u=s.pendingProps,h=!1,g=(s.flags&128)!==0,x;if((x=g)||(x=r!==null&&r.memoizedState===null?!1:(Yt.current&2)!==0),x&&(h=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,r===null){if(Je){if(h?as(s):os(),Je){var I=xt,H;if(H=I){e:{for(H=I,I=zr;H.nodeType!==8;){if(!I){I=null;break e}if(H=mr(H.nextSibling),H===null){I=null;break e}}I=H}I!==null?(s.memoizedState={dehydrated:I,treeContext:Ea!==null?{id:vi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},H=Ln(18,null,null,0),H.stateNode=I,H.return=s,s.child=H,Cn=s,xt=null,H=!0):H=!1}H||Ta(s)}if(I=s.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return zp(I)?s.lanes=32:s.lanes=536870912,null;xi(s)}return I=u.children,u=u.fallback,h?(os(),h=s.mode,I=Ld({mode:"hidden",children:I},h),u=ba(u,h,o,null),I.return=s,u.return=s,I.sibling=u,s.child=I,h=s.child,h.memoizedState=rp(o),h.childLanes=ip(r,x,o),s.memoizedState=np,u):(as(s),sp(s,I))}if(H=r.memoizedState,H!==null&&(I=H.dehydrated,I!==null)){if(g)s.flags&256?(as(s),s.flags&=-257,s=ap(r,s,o)):s.memoizedState!==null?(os(),s.child=r.child,s.flags|=128,s=null):(os(),h=u.fallback,I=s.mode,u=Ld({mode:"visible",children:u.children},I),h=ba(h,I,o,null),h.flags|=2,u.return=s,h.return=s,u.sibling=h,s.child=u,Do(s,r.child,null,o),u=s.child,u.memoizedState=rp(o),u.childLanes=ip(r,x,o),s.memoizedState=np,s=h);else if(as(s),zp(I)){if(x=I.nextSibling&&I.nextSibling.dataset,x)var J=x.dgst;x=J,u=Error(i(419)),u.stack="",u.digest=x,du({value:u,source:null,stack:null}),s=ap(r,s,o)}else if(tn||fu(r,s,o,!1),x=(o&r.childLanes)!==0,tn||x){if(x=mt,x!==null&&(u=o&-o,u=(u&42)!==0?1:Ki(u),u=(u&(x.suspendedLanes|o))!==0?0:u,u!==0&&u!==H.retryLane))throw H.retryLane=u,bo(r,u),Hn(x,r,u),y_;I.data==="$?"||Tp(),s=ap(r,s,o)}else I.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=H.treeContext,xt=mr(I.nextSibling),Cn=s,Je=!0,xa=null,zr=!1,r!==null&&(er[tr++]=vi,er[tr++]=_i,er[tr++]=Ea,vi=r.id,_i=r.overflow,Ea=s),s=sp(s,u.children),s.flags|=4096);return s}return h?(os(),h=u.fallback,I=s.mode,H=r.child,J=H.sibling,u=yi(H,{mode:"hidden",children:u.children}),u.subtreeFlags=H.subtreeFlags&65011712,J!==null?h=yi(J,h):(h=ba(h,I,o,null),h.flags|=2),h.return=s,u.return=s,u.sibling=h,s.child=u,u=h,h=s.child,I=r.child.memoizedState,I===null?I=rp(o):(H=I.cachePool,H!==null?(J=$t._currentValue,H=H.parent!==J?{parent:J,pool:J}:H):H=f0(),I={baseLanes:I.baseLanes|o,cachePool:H}),h.memoizedState=I,h.childLanes=ip(r,x,o),s.memoizedState=np,u):(as(s),o=r.child,r=o.sibling,o=yi(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(x=s.deletions,x===null?(s.deletions=[r],s.flags|=16):x.push(r)),s.child=o,s.memoizedState=null,o)}function sp(r,s){return s=Ld({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Ld(r,s){return r=Ln(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function ap(r,s,o){return Do(s,r.child,null,o),r=sp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function R_(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Tm(r.return,s,o)}function op(r,s,o,u,h){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=h)}function C_(r,s,o){var u=s.pendingProps,h=u.revealOrder,g=u.tail;if(ln(r,s,u.children,o),u=Yt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&R_(r,o,s);else if(r.tag===19)R_(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(se(Yt,u),h){case"forwards":for(o=s.child,h=null;o!==null;)r=o.alternate,r!==null&&Md(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),op(s,!1,h,o,g);break;case"backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&Md(r)===null){s.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}op(s,!0,o,null,g);break;case"together":op(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ti(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),fs|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(fu(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=yi(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=yi(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function lp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&vd(r)))}function k2(r,s,o){switch(s.tag){case 3:Te(s,s.stateNode.containerInfo),ts(s,$t,r.memoizedState.cache),cu();break;case 27:case 5:Ve(s);break;case 4:Te(s,s.stateNode.containerInfo);break;case 10:ts(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(as(s),s.flags|=128,null):(o&s.child.childLanes)!==0?A_(r,s,o):(as(s),r=Ti(r,s,o),r!==null?r.sibling:null);as(s);break;case 19:var h=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(fu(r,s,o,!1),u=(o&s.childLanes)!==0),h){if(u)return C_(r,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Yt,Yt.current),u)break;return null;case 22:case 23:return s.lanes=0,E_(r,s,o);case 24:ts(s,$t,r.memoizedState.cache)}return Ti(r,s,o)}function I_(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)tn=!0;else{if(!lp(r,o)&&(s.flags&128)===0)return tn=!1,k2(r,s,o);tn=(r.flags&131072)!==0}else tn=!1,Je&&(s.flags&1048576)!==0&&s0(s,yd,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,h=u._init;if(u=h(u._payload),s.type=u,typeof u=="function")ym(u)?(r=Ia(u,r),s.tag=1,s=T_(null,s,u,r,o)):(s.tag=0,s=tp(null,s,u,r,o));else{if(u!=null){if(h=u.$$typeof,h===K){s.tag=11,s=v_(null,s,u,r,o);break e}else if(h===N){s.tag=14,s=__(null,s,u,r,o);break e}}throw s=Z(u)||u,Error(i(306,s,""))}}return s;case 0:return tp(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,h=Ia(u,s.pendingProps),T_(r,s,u,h,o);case 3:e:{if(Te(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var g=s.memoizedState;h=g.element,Dm(r,s),_u(s,u,null,o);var x=s.memoizedState;if(u=x.cache,ts(s,$t,u),u!==g.cache&&Sm(s,[$t],o,!0),vu(),u=x.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=S_(r,s,u,o);break e}else if(u!==h){h=Zn(Error(i(424)),s),du(h),s=S_(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(xt=mr(r.firstChild),Cn=s,Je=!0,xa=null,zr=!0,o=o_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(cu(),u===h){s=Ti(r,s,o);break e}ln(r,s,u,o)}s=s.child}return s;case 26:return Vd(r,s),r===null?(o=kb(s.type,null,s.pendingProps,null))?s.memoizedState=o:Je||(o=s.type,r=s.pendingProps,u=Zd(we.current).createElement(o),u[Ht]=s,u[Mt]=r,cn(u,o,r),It(u),s.stateNode=u):s.memoizedState=kb(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Ve(s),r===null&&Je&&(u=s.stateNode=Nb(s.type,s.pendingProps,we.current),Cn=s,zr=!0,h=xt,gs(s.type)?(Fp=h,xt=mr(u.firstChild)):xt=h),ln(r,s,s.pendingProps.children,o),Vd(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Je&&((h=u=xt)&&(u=oR(u,s.type,s.pendingProps,zr),u!==null?(s.stateNode=u,Cn=s,xt=mr(u.firstChild),zr=!1,h=!0):h=!1),h||Ta(s)),Ve(s),h=s.type,g=s.pendingProps,x=r!==null?r.memoizedProps:null,u=g.children,Lp(h,g)?u=null:x!==null&&Lp(h,x)&&(s.flags|=32),s.memoizedState!==null&&(h=Vm(r,s,S2,null,null,o),zu._currentValue=h),Vd(r,s),ln(r,s,u,o),s.child;case 6:return r===null&&Je&&((r=o=xt)&&(o=lR(o,s.pendingProps,zr),o!==null?(s.stateNode=o,Cn=s,xt=null,r=!0):r=!1),r||Ta(s)),null;case 13:return A_(r,s,o);case 4:return Te(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Do(s,null,u,o):ln(r,s,u,o),s.child;case 11:return v_(r,s,s.type,s.pendingProps,o);case 7:return ln(r,s,s.pendingProps,o),s.child;case 8:return ln(r,s,s.pendingProps.children,o),s.child;case 12:return ln(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,ts(s,s.type,u.value),ln(r,s,u.children,o),s.child;case 9:return h=s.type._context,u=s.pendingProps.children,Aa(s),h=yn(h),u=u(h),s.flags|=1,ln(r,s,u,o),s.child;case 14:return __(r,s,s.type,s.pendingProps,o);case 15:return b_(r,s,s.type,s.pendingProps,o);case 19:return C_(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=Ld(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=yi(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return E_(r,s,o);case 24:return Aa(s),u=yn($t),r===null?(h=Cm(),h===null&&(h=mt,g=Am(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=o),h=g),s.memoizedState={parent:u,cache:h},Nm(s),ts(s,$t,h)):((r.lanes&o)!==0&&(Dm(r,s),_u(s,null,null,o),vu()),h=r.memoizedState,g=s.memoizedState,h.parent!==u?(h={parent:u,cache:u},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),ts(s,$t,u)):(u=g.cache,ts(s,$t,u),u!==h.cache&&Sm(s,[$t],o,!0))),ln(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Si(r){r.flags|=4}function N_(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Lb(s)){if(s=nr.current,s!==null&&((Qe&4194048)===Qe?Fr!==null:(Qe&62914560)!==Qe&&(Qe&536870912)===0||s!==Fr))throw gu=Im,h0;r.flags|=8192}}function Ud(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Hl():536870912,r.lanes|=s,Po|=s)}function Au(r,s){if(!Je)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function bt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function M2(r,s,o){var u=s.pendingProps;switch(Em(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(s),null;case 1:return bt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ei($t),We(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(uu(s)?Si(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,l0())),bt(s),null;case 26:return o=s.memoizedState,r===null?(Si(s),o!==null?(bt(s),N_(s,o)):(bt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Si(s),bt(s),N_(s,o)):(bt(s),s.flags&=-16777217):(r.memoizedProps!==u&&Si(s),bt(s),s.flags&=-16777217),null;case 27:Me(s),o=we.current;var h=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Si(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return bt(s),null}r=pe.current,uu(s)?a0(s):(r=Nb(h,u,o),s.stateNode=r,Si(s))}return bt(s),null;case 5:if(Me(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Si(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return bt(s),null}if(r=pe.current,uu(s))a0(s);else{switch(h=Zd(we.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?h.createElement(o,{is:u.is}):h.createElement(o)}}r[Ht]=s,r[Mt]=u;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=r;e:switch(cn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Si(s)}}return bt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Si(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=we.current,uu(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,h=Cn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[Ht]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||xb(r.nodeValue,o)),r||Ta(s)}else r=Zd(r).createTextNode(u),r[Ht]=s,s.stateNode=r}return bt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=uu(s),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Ht]=s}else cu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;bt(s),h=!1}else h=l0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(xi(s),s):(xi(s),null)}if(xi(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Ud(s,s.updateQueue),bt(s),null;case 4:return We(),r===null&&kp(s.stateNode.containerInfo),bt(s),null;case 10:return Ei(s.type),bt(s),null;case 19:if(fe(Yt),h=s.memoizedState,h===null)return bt(s),null;if(u=(s.flags&128)!==0,g=h.rendering,g===null)if(u)Au(h,!1);else{if(Tt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=Md(r),g!==null){for(s.flags|=128,Au(h,!1),r=g.updateQueue,s.updateQueue=r,Ud(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)i0(o,r),o=o.sibling;return se(Yt,Yt.current&1|2),s.child}r=r.sibling}h.tail!==null&&Zt()>Fd&&(s.flags|=128,u=!0,Au(h,!1),s.lanes=4194304)}else{if(!u)if(r=Md(g),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Ud(s,r),Au(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!Je)return bt(s),null}else 2*Zt()-h.renderingStartTime>Fd&&o!==536870912&&(s.flags|=128,u=!0,Au(h,!1),s.lanes=4194304);h.isBackwards?(g.sibling=s.child,s.child=g):(r=h.last,r!==null?r.sibling=g:s.child=g,h.last=g)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=Zt(),s.sibling=null,r=Yt.current,se(Yt,u?r&1|2:r&1),s):(bt(s),null);case 22:case 23:return xi(s),Pm(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(bt(s),s.subtreeFlags&6&&(s.flags|=8192)):bt(s),o=s.updateQueue,o!==null&&Ud(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&fe(Ra),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ei($t),bt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function P2(r,s){switch(Em(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ei($t),We(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Me(s),null;case 13:if(xi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));cu()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return fe(Yt),null;case 4:return We(),null;case 10:return Ei(s.type),null;case 22:case 23:return xi(s),Pm(),r!==null&&fe(Ra),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ei($t),null;case 25:return null;default:return null}}function D_(r,s){switch(Em(s),s.tag){case 3:Ei($t),We();break;case 26:case 27:case 5:Me(s);break;case 4:We();break;case 13:xi(s);break;case 19:fe(Yt);break;case 10:Ei(s.type);break;case 22:case 23:xi(s),Pm(),r!==null&&fe(Ra);break;case 24:Ei($t)}}function Ru(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&r)===r){u=void 0;var g=o.create,x=o.inst;u=g(),x.destroy=u}o=o.next}while(o!==h)}}catch(I){ft(s,s.return,I)}}function ls(r,s,o){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&r)===r){var x=u.inst,I=x.destroy;if(I!==void 0){x.destroy=void 0,h=s;var H=o,J=I;try{J()}catch(ae){ft(h,H,ae)}}}u=u.next}while(u!==g)}}catch(ae){ft(s,s.return,ae)}}function O_(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{_0(s,o)}catch(u){ft(r,r.return,u)}}}function k_(r,s,o){o.props=Ia(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){ft(r,s,u)}}function Cu(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(h){ft(r,s,h)}}function Hr(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){ft(r,s,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){ft(r,s,h)}else o.current=null}function M_(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){ft(r,r.return,h)}}function up(r,s,o){try{var u=r.stateNode;nR(u,r.type,o,s),u[Mt]=s}catch(h){ft(r,r.return,h)}}function P_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&gs(r.type)||r.tag===4}function cp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||P_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&gs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function dp(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Wd));else if(u!==4&&(u===27&&gs(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(dp(r,s,o),r=r.sibling;r!==null;)dp(r,s,o),r=r.sibling}function Bd(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&gs(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Bd(r,s,o),r=r.sibling;r!==null;)Bd(r,s,o),r=r.sibling}function j_(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);cn(s,u,o),s[Ht]=r,s[Mt]=o}catch(g){ft(r,r.return,g)}}var Ai=!1,Dt=!1,fp=!1,V_=typeof WeakSet=="function"?WeakSet:Set,nn=null;function j2(r,s){if(r=r.containerInfo,jp=sf,r=Kv(r),cm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var x=0,I=-1,H=-1,J=0,ae=0,ue=r,ee=null;t:for(;;){for(var te;ue!==o||h!==0&&ue.nodeType!==3||(I=x+h),ue!==g||u!==0&&ue.nodeType!==3||(H=x+u),ue.nodeType===3&&(x+=ue.nodeValue.length),(te=ue.firstChild)!==null;)ee=ue,ue=te;for(;;){if(ue===r)break t;if(ee===o&&++J===h&&(I=x),ee===g&&++ae===u&&(H=x),(te=ue.nextSibling)!==null)break;ue=ee,ee=ue.parentNode}ue=te}o=I===-1||H===-1?null:{start:I,end:H}}else o=null}o=o||{start:0,end:0}}else o=null;for(Vp={focusedElem:r,selectionRange:o},sf=!1,nn=s;nn!==null;)if(s=nn,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,nn=r;else for(;nn!==null;){switch(s=nn,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,h=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var De=Ia(o.type,h,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(De,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(Re){ft(o,o.return,Re)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Bp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Bp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,nn=r;break}nn=s.return}}function L_(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:us(r,o),u&4&&Ru(5,o);break;case 1:if(us(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(x){ft(o,o.return,x)}else{var h=Ia(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(h,s,r.__reactInternalSnapshotBeforeUpdate)}catch(x){ft(o,o.return,x)}}u&64&&O_(o),u&512&&Cu(o,o.return);break;case 3:if(us(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{_0(r,s)}catch(x){ft(o,o.return,x)}}break;case 27:s===null&&u&4&&j_(o);case 26:case 5:us(r,o),s===null&&u&4&&M_(o),u&512&&Cu(o,o.return);break;case 12:us(r,o);break;case 13:us(r,o),u&4&&z_(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=G2.bind(null,o),uR(r,o))));break;case 22:if(u=o.memoizedState!==null||Ai,!u){s=s!==null&&s.memoizedState!==null||Dt,h=Ai;var g=Dt;Ai=u,(Dt=s)&&!g?cs(r,o,(o.subtreeFlags&8772)!==0):us(r,o),Ai=h,Dt=g}break;case 30:break;default:us(r,o)}}function U_(r){var s=r.alternate;s!==null&&(r.alternate=null,U_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Wi(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var vt=null,Dn=!1;function Ri(r,s,o){for(o=o.child;o!==null;)B_(r,s,o),o=o.sibling}function B_(r,s,o){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(wt,o)}catch{}switch(o.tag){case 26:Dt||Hr(o,s),Ri(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Dt||Hr(o,s);var u=vt,h=Dn;gs(o.type)&&(vt=o.stateNode,Dn=!1),Ri(r,s,o),Vu(o.stateNode),vt=u,Dn=h;break;case 5:Dt||Hr(o,s);case 6:if(u=vt,h=Dn,vt=null,Ri(r,s,o),vt=u,Dn=h,vt!==null)if(Dn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(o.stateNode)}catch(g){ft(o,s,g)}else try{vt.removeChild(o.stateNode)}catch(g){ft(o,s,g)}break;case 18:vt!==null&&(Dn?(r=vt,Cb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Gu(r)):Cb(vt,o.stateNode));break;case 4:u=vt,h=Dn,vt=o.stateNode.containerInfo,Dn=!0,Ri(r,s,o),vt=u,Dn=h;break;case 0:case 11:case 14:case 15:Dt||ls(2,o,s),Dt||ls(4,o,s),Ri(r,s,o);break;case 1:Dt||(Hr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&k_(o,s,u)),Ri(r,s,o);break;case 21:Ri(r,s,o);break;case 22:Dt=(u=Dt)||o.memoizedState!==null,Ri(r,s,o),Dt=u;break;default:Ri(r,s,o)}}function z_(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Gu(r)}catch(o){ft(s,s.return,o)}}function V2(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new V_),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new V_),s;default:throw Error(i(435,r.tag))}}function hp(r,s){var o=V2(r);s.forEach(function(u){var h=$2.bind(null,r,u);o.has(u)||(o.add(u),u.then(h,h))})}function Un(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],g=r,x=s,I=x;e:for(;I!==null;){switch(I.tag){case 27:if(gs(I.type)){vt=I.stateNode,Dn=!1;break e}break;case 5:vt=I.stateNode,Dn=!1;break e;case 3:case 4:vt=I.stateNode.containerInfo,Dn=!0;break e}I=I.return}if(vt===null)throw Error(i(160));B_(g,x,h),vt=null,Dn=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)F_(s,r),s=s.sibling}var hr=null;function F_(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Un(s,r),Bn(r),u&4&&(ls(3,r,r.return),Ru(3,r),ls(5,r,r.return));break;case 1:Un(s,r),Bn(r),u&512&&(Dt||o===null||Hr(o,o.return)),u&64&&Ai&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=hr;if(Un(s,r),Bn(r),u&512&&(Dt||o===null||Hr(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":g=h.getElementsByTagName("title")[0],(!g||g[ia]||g[Ht]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(u),h.head.insertBefore(g,h.querySelector("head > title"))),cn(g,u,o),g[Ht]=r,It(g),u=g;break e;case"link":var x=jb("link","href",h).get(u+(o.href||""));if(x){for(var I=0;I<x.length;I++)if(g=x[I],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){x.splice(I,1);break t}}g=h.createElement(u),cn(g,u,o),h.head.appendChild(g);break;case"meta":if(x=jb("meta","content",h).get(u+(o.content||""))){for(I=0;I<x.length;I++)if(g=x[I],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){x.splice(I,1);break t}}g=h.createElement(u),cn(g,u,o),h.head.appendChild(g);break;default:throw Error(i(468,u))}g[Ht]=r,It(g),u=g}r.stateNode=u}else Vb(h,r.type,r.stateNode);else r.stateNode=Pb(h,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?Vb(h,r.type,r.stateNode):Pb(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&up(r,r.memoizedProps,o.memoizedProps)}break;case 27:Un(s,r),Bn(r),u&512&&(Dt||o===null||Hr(o,o.return)),o!==null&&u&4&&up(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Un(s,r),Bn(r),u&512&&(Dt||o===null||Hr(o,o.return)),r.flags&32){h=r.stateNode;try{Kn(h,"")}catch(te){ft(r,r.return,te)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,up(r,h,o!==null?o.memoizedProps:h)),u&1024&&(fp=!0);break;case 6:if(Un(s,r),Bn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(te){ft(r,r.return,te)}}break;case 3:if(tf=null,h=hr,hr=Jd(s.containerInfo),Un(s,r),hr=h,Bn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Gu(s.containerInfo)}catch(te){ft(r,r.return,te)}fp&&(fp=!1,H_(r));break;case 4:u=hr,hr=Jd(r.stateNode.containerInfo),Un(s,r),Bn(r),hr=u;break;case 12:Un(s,r),Bn(r);break;case 13:Un(s,r),Bn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(_p=Zt()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,hp(r,u)));break;case 22:h=r.memoizedState!==null;var H=o!==null&&o.memoizedState!==null,J=Ai,ae=Dt;if(Ai=J||h,Dt=ae||H,Un(s,r),Dt=ae,Ai=J,Bn(r),u&8192)e:for(s=r.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(o===null||H||Ai||Dt||Na(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){H=o=s;try{if(g=H.stateNode,h)x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{I=H.stateNode;var ue=H.memoizedProps.style,ee=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;I.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){ft(H,H.return,te)}}}else if(s.tag===6){if(o===null){H=s;try{H.stateNode.nodeValue=h?"":H.memoizedProps}catch(te){ft(H,H.return,te)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,hp(r,o))));break;case 19:Un(s,r),Bn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,hp(r,u)));break;case 30:break;case 21:break;default:Un(s,r),Bn(r)}}function Bn(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(P_(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var h=o.stateNode,g=cp(r);Bd(r,g,h);break;case 5:var x=o.stateNode;o.flags&32&&(Kn(x,""),o.flags&=-33);var I=cp(r);Bd(r,I,x);break;case 3:case 4:var H=o.stateNode.containerInfo,J=cp(r);dp(r,J,H);break;default:throw Error(i(161))}}catch(ae){ft(r,r.return,ae)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function H_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;H_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function us(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)L_(r,s.alternate,s),s=s.sibling}function Na(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:ls(4,s,s.return),Na(s);break;case 1:Hr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&k_(s,s.return,o),Na(s);break;case 27:Vu(s.stateNode);case 26:case 5:Hr(s,s.return),Na(s);break;case 22:s.memoizedState===null&&Na(s);break;case 30:Na(s);break;default:Na(s)}r=r.sibling}}function cs(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,h=r,g=s,x=g.flags;switch(g.tag){case 0:case 11:case 15:cs(h,g,o),Ru(4,g);break;case 1:if(cs(h,g,o),u=g,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(J){ft(u,u.return,J)}if(u=g,h=u.updateQueue,h!==null){var I=u.stateNode;try{var H=h.shared.hiddenCallbacks;if(H!==null)for(h.shared.hiddenCallbacks=null,h=0;h<H.length;h++)v0(H[h],I)}catch(J){ft(u,u.return,J)}}o&&x&64&&O_(g),Cu(g,g.return);break;case 27:j_(g);case 26:case 5:cs(h,g,o),o&&u===null&&x&4&&M_(g),Cu(g,g.return);break;case 12:cs(h,g,o);break;case 13:cs(h,g,o),o&&x&4&&z_(h,g);break;case 22:g.memoizedState===null&&cs(h,g,o),Cu(g,g.return);break;case 30:break;default:cs(h,g,o)}s=s.sibling}}function mp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&hu(o))}function pp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&hu(r))}function qr(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)q_(r,s,o,u),s=s.sibling}function q_(r,s,o,u){var h=s.flags;switch(s.tag){case 0:case 11:case 15:qr(r,s,o,u),h&2048&&Ru(9,s);break;case 1:qr(r,s,o,u);break;case 3:qr(r,s,o,u),h&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&hu(r)));break;case 12:if(h&2048){qr(r,s,o,u),r=s.stateNode;try{var g=s.memoizedProps,x=g.id,I=g.onPostCommit;typeof I=="function"&&I(x,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(H){ft(s,s.return,H)}}else qr(r,s,o,u);break;case 13:qr(r,s,o,u);break;case 23:break;case 22:g=s.stateNode,x=s.alternate,s.memoizedState!==null?g._visibility&2?qr(r,s,o,u):Iu(r,s):g._visibility&2?qr(r,s,o,u):(g._visibility|=2,Oo(r,s,o,u,(s.subtreeFlags&10256)!==0)),h&2048&&mp(x,s);break;case 24:qr(r,s,o,u),h&2048&&pp(s.alternate,s);break;default:qr(r,s,o,u)}}function Oo(r,s,o,u,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,x=s,I=o,H=u,J=x.flags;switch(x.tag){case 0:case 11:case 15:Oo(g,x,I,H,h),Ru(8,x);break;case 23:break;case 22:var ae=x.stateNode;x.memoizedState!==null?ae._visibility&2?Oo(g,x,I,H,h):Iu(g,x):(ae._visibility|=2,Oo(g,x,I,H,h)),h&&J&2048&&mp(x.alternate,x);break;case 24:Oo(g,x,I,H,h),h&&J&2048&&pp(x.alternate,x);break;default:Oo(g,x,I,H,h)}s=s.sibling}}function Iu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,h=u.flags;switch(u.tag){case 22:Iu(o,u),h&2048&&mp(u.alternate,u);break;case 24:Iu(o,u),h&2048&&pp(u.alternate,u);break;default:Iu(o,u)}s=s.sibling}}var Nu=8192;function ko(r){if(r.subtreeFlags&Nu)for(r=r.child;r!==null;)G_(r),r=r.sibling}function G_(r){switch(r.tag){case 26:ko(r),r.flags&Nu&&r.memoizedState!==null&&wR(hr,r.memoizedState,r.memoizedProps);break;case 5:ko(r);break;case 3:case 4:var s=hr;hr=Jd(r.stateNode.containerInfo),ko(r),hr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Nu,Nu=16777216,ko(r),Nu=s):ko(r));break;default:ko(r)}}function $_(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Du(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];nn=u,K_(u,r)}$_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Y_(r),r=r.sibling}function Y_(r){switch(r.tag){case 0:case 11:case 15:Du(r),r.flags&2048&&ls(9,r,r.return);break;case 3:Du(r);break;case 12:Du(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,zd(r)):Du(r);break;default:Du(r)}}function zd(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];nn=u,K_(u,r)}$_(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:ls(8,s,s.return),zd(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,zd(s));break;default:zd(s)}r=r.sibling}}function K_(r,s){for(;nn!==null;){var o=nn;switch(o.tag){case 0:case 11:case 15:ls(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:hu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,nn=u;else e:for(o=r;nn!==null;){u=nn;var h=u.sibling,g=u.return;if(U_(u),u===o){nn=null;break e}if(h!==null){h.return=g,nn=h;break e}nn=g}}}var L2={getCacheForType:function(r){var s=yn($t),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},U2=typeof WeakMap=="function"?WeakMap:Map,it=0,mt=null,Fe=null,Qe=0,st=0,zn=null,ds=!1,Mo=!1,gp=!1,Ci=0,Tt=0,fs=0,Da=0,yp=0,rr=0,Po=0,Ou=null,On=null,vp=!1,_p=0,Fd=1/0,Hd=null,hs=null,un=0,ms=null,jo=null,Vo=0,bp=0,Ep=null,Q_=null,ku=0,wp=null;function Fn(){if((it&2)!==0&&Qe!==0)return Qe&-Qe;if(q.T!==null){var r=To;return r!==0?r:Ip()}return Qi()}function X_(){rr===0&&(rr=(Qe&536870912)===0||Je?Fl():536870912);var r=nr.current;return r!==null&&(r.flags|=32),rr}function Hn(r,s,o){(r===mt&&(st===2||st===9)||r.cancelPendingCommit!==null)&&(Lo(r,0),ps(r,Qe,rr,!1)),ai(r,o),((it&2)===0||r!==mt)&&(r===mt&&((it&2)===0&&(Da|=o),Tt===4&&ps(r,Qe,rr,!1)),Gr(r))}function W_(r,s,o){if((it&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||ra(r,s),h=u?F2(r,s):Sp(r,s,!0),g=u;do{if(h===0){Mo&&!u&&ps(r,s,0,!1);break}else{if(o=r.current.alternate,g&&!B2(o)){h=Sp(r,s,!1),g=!1;continue}if(h===2){if(g=s,r.errorRecoveryDisabledLanes&g)var x=0;else x=r.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var I=r;h=Ou;var H=I.current.memoizedState.isDehydrated;if(H&&(Lo(I,x).flags|=256),x=Sp(I,x,!1),x!==2){if(gp&&!H){I.errorRecoveryDisabledLanes|=g,Da|=g,h=4;break e}g=On,On=h,g!==null&&(On===null?On=g:On.push.apply(On,g))}h=x}if(g=!1,h!==2)continue}}if(h===1){Lo(r,0),ps(r,s,0,!0);break}e:{switch(u=r,g=h,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ps(u,s,rr,!ds);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(h=_p+300-Zt(),10<h)){if(ps(u,s,rr,!ds),eo(u,0,!0)!==0)break e;u.timeoutHandle=Ab(Z_.bind(null,u,o,On,Hd,vp,s,rr,Da,Po,ds,g,2,-0,0),h);break e}Z_(u,o,On,Hd,vp,s,rr,Da,Po,ds,g,0,-0,0)}}break}while(!0);Gr(r)}function Z_(r,s,o,u,h,g,x,I,H,J,ae,ue,ee,te){if(r.timeoutHandle=-1,ue=s.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(Bu={stylesheets:null,count:0,unsuspend:ER},G_(s),ue=xR(),ue!==null)){r.cancelPendingCommit=ue(sb.bind(null,r,s,g,o,u,h,x,I,H,ae,1,ee,te)),ps(r,g,x,!J);return}sb(r,s,g,o,u,h,x,I,H)}function B2(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],g=h.getSnapshot;h=h.value;try{if(!Vn(g(),h))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ps(r,s,o,u){s&=~yp,s&=~Da,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var h=s;0<h;){var g=31-gn(h),x=1<<g;u[g]=-1,h&=~x}o!==0&&Nr(r,o,s)}function qd(){return(it&6)===0?(Mu(0),!1):!0}function xp(){if(Fe!==null){if(st===0)var r=Fe.return;else r=Fe,bi=Sa=null,Bm(r),No=null,Tu=0,r=Fe;for(;r!==null;)D_(r.alternate,r),r=r.return;Fe=null}}function Lo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,iR(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),xp(),mt=r,Fe=o=yi(r.current,null),Qe=s,st=0,zn=null,ds=!1,Mo=ra(r,s),gp=!1,Po=rr=yp=Da=fs=Tt=0,On=Ou=null,vp=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var h=31-gn(u),g=1<<h;s|=r[h],u&=~g}return Ci=s,fd(),o}function J_(r,s){Le=null,q.H=Dd,s===pu||s===Ed?(s=g0(),st=3):s===h0?(s=g0(),st=4):st=s===y_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,zn=s,Fe===null&&(Tt=1,jd(r,Zn(s,r.current)))}function eb(){var r=q.H;return q.H=Dd,r===null?Dd:r}function tb(){var r=q.A;return q.A=L2,r}function Tp(){Tt=4,ds||(Qe&4194048)!==Qe&&nr.current!==null||(Mo=!0),(fs&134217727)===0&&(Da&134217727)===0||mt===null||ps(mt,Qe,rr,!1)}function Sp(r,s,o){var u=it;it|=2;var h=eb(),g=tb();(mt!==r||Qe!==s)&&(Hd=null,Lo(r,s)),s=!1;var x=Tt;e:do try{if(st!==0&&Fe!==null){var I=Fe,H=zn;switch(st){case 8:xp(),x=6;break e;case 3:case 2:case 9:case 6:nr.current===null&&(s=!0);var J=st;if(st=0,zn=null,Uo(r,I,H,J),o&&Mo){x=0;break e}break;default:J=st,st=0,zn=null,Uo(r,I,H,J)}}z2(),x=Tt;break}catch(ae){J_(r,ae)}while(!0);return s&&r.shellSuspendCounter++,bi=Sa=null,it=u,q.H=h,q.A=g,Fe===null&&(mt=null,Qe=0,fd()),x}function z2(){for(;Fe!==null;)nb(Fe)}function F2(r,s){var o=it;it|=2;var u=eb(),h=tb();mt!==r||Qe!==s?(Hd=null,Fd=Zt()+500,Lo(r,s)):Mo=ra(r,s);e:do try{if(st!==0&&Fe!==null){s=Fe;var g=zn;t:switch(st){case 1:st=0,zn=null,Uo(r,s,g,1);break;case 2:case 9:if(m0(g)){st=0,zn=null,rb(s);break}s=function(){st!==2&&st!==9||mt!==r||(st=7),Gr(r)},g.then(s,s);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:m0(g)?(st=0,zn=null,rb(s)):(st=0,zn=null,Uo(r,s,g,7));break;case 5:var x=null;switch(Fe.tag){case 26:x=Fe.memoizedState;case 5:case 27:var I=Fe;if(!x||Lb(x)){st=0,zn=null;var H=I.sibling;if(H!==null)Fe=H;else{var J=I.return;J!==null?(Fe=J,Gd(J)):Fe=null}break t}}st=0,zn=null,Uo(r,s,g,5);break;case 6:st=0,zn=null,Uo(r,s,g,6);break;case 8:xp(),Tt=6;break e;default:throw Error(i(462))}}H2();break}catch(ae){J_(r,ae)}while(!0);return bi=Sa=null,q.H=u,q.A=h,it=o,Fe!==null?0:(mt=null,Qe=0,fd(),Tt)}function H2(){for(;Fe!==null&&!lr();)nb(Fe)}function nb(r){var s=I_(r.alternate,r,Ci);r.memoizedProps=r.pendingProps,s===null?Gd(r):Fe=s}function rb(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=x_(o,s,s.pendingProps,s.type,void 0,Qe);break;case 11:s=x_(o,s,s.pendingProps,s.type.render,s.ref,Qe);break;case 5:Bm(s);default:D_(o,s),s=Fe=i0(s,Ci),s=I_(o,s,Ci)}r.memoizedProps=r.pendingProps,s===null?Gd(r):Fe=s}function Uo(r,s,o,u){bi=Sa=null,Bm(s),No=null,Tu=0;var h=s.return;try{if(O2(r,h,s,o,Qe)){Tt=1,jd(r,Zn(o,r.current)),Fe=null;return}}catch(g){if(h!==null)throw Fe=h,g;Tt=1,jd(r,Zn(o,r.current)),Fe=null;return}s.flags&32768?(Je||u===1?r=!0:Mo||(Qe&536870912)!==0?r=!1:(ds=r=!0,(u===2||u===9||u===3||u===6)&&(u=nr.current,u!==null&&u.tag===13&&(u.flags|=16384))),ib(s,r)):Gd(s)}function Gd(r){var s=r;do{if((s.flags&32768)!==0){ib(s,ds);return}r=s.return;var o=M2(s.alternate,s,Ci);if(o!==null){Fe=o;return}if(s=s.sibling,s!==null){Fe=s;return}Fe=s=r}while(s!==null);Tt===0&&(Tt=5)}function ib(r,s){do{var o=P2(r.alternate,r);if(o!==null){o.flags&=32767,Fe=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Fe=r;return}Fe=r=o}while(r!==null);Tt=6,Fe=null}function sb(r,s,o,u,h,g,x,I,H){r.cancelPendingCommit=null;do $d();while(un!==0);if((it&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=pm,ql(r,o,g,x,I,H),r===mt&&(Fe=mt=null,Qe=0),jo=s,ms=r,Vo=o,bp=g,Ep=h,Q_=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Y2(Js,function(){return cb(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=q.T,q.T=null,h=F.p,F.p=2,x=it,it|=4;try{j2(r,s,o)}finally{it=x,F.p=h,q.T=u}}un=1,ab(),ob(),lb()}}function ab(){if(un===1){un=0;var r=ms,s=jo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=q.T,q.T=null;var u=F.p;F.p=2;var h=it;it|=4;try{F_(s,r);var g=Vp,x=Kv(r.containerInfo),I=g.focusedElem,H=g.selectionRange;if(x!==I&&I&&I.ownerDocument&&Yv(I.ownerDocument.documentElement,I)){if(H!==null&&cm(I)){var J=H.start,ae=H.end;if(ae===void 0&&(ae=J),"selectionStart"in I)I.selectionStart=J,I.selectionEnd=Math.min(ae,I.value.length);else{var ue=I.ownerDocument||document,ee=ue&&ue.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),De=I.textContent.length,Re=Math.min(H.start,De),ct=H.end===void 0?Re:Math.min(H.end,De);!te.extend&&Re>ct&&(x=ct,ct=Re,Re=x);var Y=$v(I,Re),$=$v(I,ct);if(Y&&$&&(te.rangeCount!==1||te.anchorNode!==Y.node||te.anchorOffset!==Y.offset||te.focusNode!==$.node||te.focusOffset!==$.offset)){var W=ue.createRange();W.setStart(Y.node,Y.offset),te.removeAllRanges(),Re>ct?(te.addRange(W),te.extend($.node,$.offset)):(W.setEnd($.node,$.offset),te.addRange(W))}}}}for(ue=[],te=I;te=te.parentNode;)te.nodeType===1&&ue.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<ue.length;I++){var oe=ue[I];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}sf=!!jp,Vp=jp=null}finally{it=h,F.p=u,q.T=o}}r.current=s,un=2}}function ob(){if(un===2){un=0;var r=ms,s=jo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=q.T,q.T=null;var u=F.p;F.p=2;var h=it;it|=4;try{L_(r,s.alternate,s)}finally{it=h,F.p=u,q.T=o}}un=3}}function lb(){if(un===4||un===3){un=0,Cr();var r=ms,s=jo,o=Vo,u=Q_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?un=5:(un=0,jo=ms=null,ub(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(hs=null),to(o),s=s.stateNode,rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(wt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=q.T,h=F.p,F.p=2,q.T=null;try{for(var g=r.onRecoverableError,x=0;x<u.length;x++){var I=u[x];g(I.value,{componentStack:I.stack})}}finally{q.T=s,F.p=h}}(Vo&3)!==0&&$d(),Gr(r),h=r.pendingLanes,(o&4194090)!==0&&(h&42)!==0?r===wp?ku++:(ku=0,wp=r):ku=0,Mu(0)}}function ub(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,hu(s)))}function $d(r){return ab(),ob(),lb(),cb()}function cb(){if(un!==5)return!1;var r=ms,s=bp;bp=0;var o=to(Vo),u=q.T,h=F.p;try{F.p=32>o?32:o,q.T=null,o=Ep,Ep=null;var g=ms,x=Vo;if(un=0,jo=ms=null,Vo=0,(it&6)!==0)throw Error(i(331));var I=it;if(it|=4,Y_(g.current),q_(g,g.current,x,o),it=I,Mu(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(wt,g)}catch{}return!0}finally{F.p=h,q.T=u,ub(r,s)}}function db(r,s,o){s=Zn(o,s),s=ep(r.stateNode,s,2),r=is(r,s,2),r!==null&&(ai(r,2),Gr(r))}function ft(r,s,o){if(r.tag===3)db(r,r,o);else for(;s!==null;){if(s.tag===3){db(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(hs===null||!hs.has(u))){r=Zn(o,r),o=p_(2),u=is(s,o,2),u!==null&&(g_(o,u,s,r),ai(u,2),Gr(u));break}}s=s.return}}function Ap(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new U2;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(o)||(gp=!0,h.add(o),r=q2.bind(null,r,s,o),s.then(r,r))}function q2(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,mt===r&&(Qe&o)===o&&(Tt===4||Tt===3&&(Qe&62914560)===Qe&&300>Zt()-_p?(it&2)===0&&Lo(r,0):yp|=o,Po===Qe&&(Po=0)),Gr(r)}function fb(r,s){s===0&&(s=Hl()),r=bo(r,s),r!==null&&(ai(r,s),Gr(r))}function G2(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),fb(r,o)}function $2(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),fb(r,o)}function Y2(r,s){return Ct(r,s)}var Yd=null,Bo=null,Rp=!1,Kd=!1,Cp=!1,Oa=0;function Gr(r){r!==Bo&&r.next===null&&(Bo===null?Yd=Bo=r:Bo=Bo.next=r),Kd=!0,Rp||(Rp=!0,Q2())}function Mu(r,s){if(!Cp&&Kd){Cp=!0;do for(var o=!1,u=Yd;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var g=0;else{var x=u.suspendedLanes,I=u.pingedLanes;g=(1<<31-gn(42|r)+1)-1,g&=h&~(x&~I),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,gb(u,g))}else g=Qe,g=eo(u,u===mt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ra(u,g)||(o=!0,gb(u,g));u=u.next}while(o);Cp=!1}}function K2(){hb()}function hb(){Kd=Rp=!1;var r=0;Oa!==0&&(rR()&&(r=Oa),Oa=0);for(var s=Zt(),o=null,u=Yd;u!==null;){var h=u.next,g=mb(u,s);g===0?(u.next=null,o===null?Yd=h:o.next=h,h===null&&(Bo=o)):(o=u,(r!==0||(g&3)!==0)&&(Kd=!0)),u=h}Mu(r)}function mb(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var x=31-gn(g),I=1<<x,H=h[x];H===-1?((I&o)===0||(I&u)!==0)&&(h[x]=zl(I,s)):H<=s&&(r.expiredLanes|=I),g&=~I}if(s=mt,o=Qe,o=eo(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(st===2||st===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Wt(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||ra(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&Wt(u),to(o)){case 2:case 8:o=Za;break;case 32:o=Js;break;case 268435456:o=Ja;break;default:o=Js}return u=pb.bind(null,r),o=Ct(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&Wt(u),r.callbackPriority=2,r.callbackNode=null,2}function pb(r,s){if(un!==0&&un!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if($d()&&r.callbackNode!==o)return null;var u=Qe;return u=eo(r,r===mt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(W_(r,u,s),mb(r,Zt()),r.callbackNode!=null&&r.callbackNode===o?pb.bind(null,r):null)}function gb(r,s){if($d())return null;W_(r,s,!0)}function Q2(){sR(function(){(it&6)!==0?Ct(Ir,K2):hb()})}function Ip(){return Oa===0&&(Oa=Fl()),Oa}function yb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:oo(""+r)}function vb(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function X2(r,s,o,u,h){if(s==="submit"&&o&&o.stateNode===h){var g=yb((h[Mt]||null).action),x=u.submitter;x&&(s=(s=x[Mt]||null)?yb(s.formAction):x.getAttribute("formAction"),s!==null&&(g=s,x=null));var I=new lo("action","action",null,u,h);r.push({event:I,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Oa!==0){var H=x?vb(h,x):new FormData(h);Qm(o,{pending:!0,data:H,method:h.method,action:g},null,H)}}else typeof g=="function"&&(I.preventDefault(),H=x?vb(h,x):new FormData(h),Qm(o,{pending:!0,data:H,method:h.method,action:g},g,H))},currentTarget:h}]})}}for(var Np=0;Np<mm.length;Np++){var Dp=mm[Np],W2=Dp.toLowerCase(),Z2=Dp[0].toUpperCase()+Dp.slice(1);fr(W2,"on"+Z2)}fr(Wv,"onAnimationEnd"),fr(Zv,"onAnimationIteration"),fr(Jv,"onAnimationStart"),fr("dblclick","onDoubleClick"),fr("focusin","onFocus"),fr("focusout","onBlur"),fr(p2,"onTransitionRun"),fr(g2,"onTransitionStart"),fr(y2,"onTransitionCancel"),fr(e0,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cr("onBeforeInput",["compositionend","keypress","textInput","paste"]),cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pu));function _b(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],h=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var x=u.length-1;0<=x;x--){var I=u[x],H=I.instance,J=I.currentTarget;if(I=I.listener,H!==g&&h.isPropagationStopped())break e;g=I,h.currentTarget=J;try{g(h)}catch(ae){Pd(ae)}h.currentTarget=null,g=H}else for(x=0;x<u.length;x++){if(I=u[x],H=I.instance,J=I.currentTarget,I=I.listener,H!==g&&h.isPropagationStopped())break e;g=I,h.currentTarget=J;try{g(h)}catch(ae){Pd(ae)}h.currentTarget=null,g=H}}}}function He(r,s){var o=s[$l];o===void 0&&(o=s[$l]=new Set);var u=r+"__bubble";o.has(u)||(bb(s,r,2,!1),o.add(u))}function Op(r,s,o){var u=0;s&&(u|=4),bb(o,r,u,s)}var Qd="_reactListening"+Math.random().toString(36).slice(2);function kp(r){if(!r[Qd]){r[Qd]=!0,Yl.forEach(function(o){o!=="selectionchange"&&(J2.has(o)||Op(o,!1,r),Op(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Qd]||(s[Qd]=!0,Op("selectionchange",!1,s))}}function bb(r,s,o,u){switch(qb(s)){case 2:var h=AR;break;case 8:h=RR;break;default:h=Yp}o=h.bind(null,s,o,r),h=void 0,!Xn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(s,o,{capture:!0,passive:h}):r.addEventListener(s,o,!0):h!==void 0?r.addEventListener(s,o,{passive:h}):r.addEventListener(s,o,!1)}function Mp(r,s,o,u,h){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var I=u.stateNode.containerInfo;if(I===h)break;if(x===4)for(x=u.return;x!==null;){var H=x.tag;if((H===3||H===4)&&x.stateNode.containerInfo===h)return;x=x.return}for(;I!==null;){if(x=oi(I),x===null)return;if(H=x.tag,H===5||H===6||H===26||H===27){u=g=x;continue e}I=I.parentNode}}u=u.return}Wc(function(){var J=g,ae=Qn(o),ue=[];e:{var ee=t0.get(r);if(ee!==void 0){var te=lo,De=r;switch(r){case"keypress":if(jr(o)===0)break e;case"keydown":case"keyup":te=po;break;case"focusin":De="focus",te=fo;break;case"focusout":De="blur",te=fo;break;case"beforeblur":case"afterblur":te=fo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=am;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=sd;break;case Wv:case Zv:case Jv:te=ho;break;case e0:te=od;break;case"scroll":case"scrollend":te=Zc;break;case"wheel":te=go;break;case"copy":case"cut":case"paste":te=mo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=su;break;case"toggle":case"beforetoggle":te=ud}var Re=(s&4)!==0,ct=!Re&&(r==="scroll"||r==="scrollend"),Y=Re?ee!==null?ee+"Capture":null:ee;Re=[];for(var $=J,W;$!==null;){var oe=$;if(W=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||W===null||Y===null||(oe=da($,Y),oe!=null&&Re.push(ju($,oe,W))),ct)break;$=$.return}0<Re.length&&(ee=new te(ee,De,null,o,ae),ue.push({event:ee,listeners:Re}))}}if((s&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",te=r==="mouseout"||r==="pointerout",ee&&o!==di&&(De=o.relatedTarget||o.fromElement)&&(oi(De)||De[Yn]))break e;if((te||ee)&&(ee=ae.window===ae?ae:(ee=ae.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(De=o.relatedTarget||o.toElement,te=J,De=De?oi(De):null,De!==null&&(ct=l(De),Re=De.tag,De!==ct||Re!==5&&Re!==27&&Re!==6)&&(De=null)):(te=null,De=J),te!==De)){if(Re=Wn,oe="onMouseLeave",Y="onMouseEnter",$="mouse",(r==="pointerout"||r==="pointerover")&&(Re=su,oe="onPointerLeave",Y="onPointerEnter",$="pointer"),ct=te==null?ee:Or(te),W=De==null?ee:Or(De),ee=new Re(oe,$+"leave",te,o,ae),ee.target=ct,ee.relatedTarget=W,oe=null,oi(ae)===J&&(Re=new Re(Y,$+"enter",De,o,ae),Re.target=W,Re.relatedTarget=ct,oe=Re),ct=oe,te&&De)t:{for(Re=te,Y=De,$=0,W=Re;W;W=zo(W))$++;for(W=0,oe=Y;oe;oe=zo(oe))W++;for(;0<$-W;)Re=zo(Re),$--;for(;0<W-$;)Y=zo(Y),W--;for(;$--;){if(Re===Y||Y!==null&&Re===Y.alternate)break t;Re=zo(Re),Y=zo(Y)}Re=null}else Re=null;te!==null&&Eb(ue,ee,te,Re,!1),De!==null&&ct!==null&&Eb(ue,ct,De,Re,!0)}}e:{if(ee=J?Or(J):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var _e=Bv;else if(Gt(ee))if(zv)_e=f2;else{_e=c2;var ze=u2}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?J&&Zl(J.elementType)&&(_e=Bv):_e=d2;if(_e&&(_e=_e(r,J))){gi(ue,_e,o,ae);break e}ze&&ze(r,ee,J),r==="focusout"&&J&&ee.type==="number"&&J.memoizedProps.value!=null&&Ji(ee,"number",ee.value)}switch(ze=J?Or(J):window,r){case"focusin":(Gt(ze)||ze.contentEditable==="true")&&(yo=ze,dm=J,lu=null);break;case"focusout":lu=dm=yo=null;break;case"mousedown":fm=!0;break;case"contextmenu":case"mouseup":case"dragend":fm=!1,Qv(ue,o,ae);break;case"selectionchange":if(m2)break;case"keydown":case"keyup":Qv(ue,o,ae)}var xe;if(Ur)e:{switch(r){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Ye?re(r,o)&&(Ce="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ce="onCompositionStart");Ce&&(w&&o.locale!=="ko"&&(Ye||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Ye&&(xe=eu()):(Pr=ae,es="value"in Pr?Pr.value:Pr.textContent,Ye=!0)),ze=Xd(J,Ce),0<ze.length&&(Ce=new ru(Ce,r,null,o,ae),ue.push({event:Ce,listeners:ze}),xe?Ce.data=xe:(xe=ge(o),xe!==null&&(Ce.data=xe)))),(xe=_?qt(r,o):Ke(r,o))&&(Ce=Xd(J,"onBeforeInput"),0<Ce.length&&(ze=new ru("onBeforeInput","beforeinput",null,o,ae),ue.push({event:ze,listeners:Ce}),ze.data=xe)),X2(ue,r,J,o,ae)}_b(ue,s)})}function ju(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Xd(r,s){for(var o=s+"Capture",u=[];r!==null;){var h=r,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=da(r,o),h!=null&&u.unshift(ju(r,h,g)),h=da(r,s),h!=null&&u.push(ju(r,h,g))),r.tag===3)return u;r=r.return}return[]}function zo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Eb(r,s,o,u,h){for(var g=s._reactName,x=[];o!==null&&o!==u;){var I=o,H=I.alternate,J=I.stateNode;if(I=I.tag,H!==null&&H===u)break;I!==5&&I!==26&&I!==27||J===null||(H=J,h?(J=da(o,g),J!=null&&x.unshift(ju(o,J,H))):h||(J=da(o,g),J!=null&&x.push(ju(o,J,H)))),o=o.return}x.length!==0&&r.push({event:s,listeners:x})}var eR=/\r\n?/g,tR=/\u0000|\uFFFD/g;function wb(r){return(typeof r=="string"?r:""+r).replace(eR,`
`).replace(tR,"")}function xb(r,s){return s=wb(s),wb(r)===s}function Wd(){}function ut(r,s,o,u,h,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Kn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Kn(r,""+u);break;case"className":kr(r,"class",u);break;case"tabIndex":kr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":kr(r,o,u);break;case"style":Wl(r,u,g);break;case"data":if(s!=="object"){kr(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=oo(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&ut(r,s,"name",h.name,h,null),ut(r,s,"formEncType",h.formEncType,h,null),ut(r,s,"formMethod",h.formMethod,h,null),ut(r,s,"formTarget",h.formTarget,h,null)):(ut(r,s,"encType",h.encType,h,null),ut(r,s,"method",h.method,h,null),ut(r,s,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=oo(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Wd);break;case"onScroll":u!=null&&He("scroll",r);break;case"onScrollEnd":u!=null&&He("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=oo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":He("beforetoggle",r),He("toggle",r),Zi(r,"popover",u);break;case"xlinkActuate":an(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":an(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":an(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":an(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":an(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":an(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":an(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":an(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":an(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Zi(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=im.get(o)||o,Zi(r,o,u))}}function Pp(r,s,o,u,h,g){switch(o){case"style":Wl(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Kn(r,u):(typeof u=="number"||typeof u=="bigint")&&Kn(r,""+u);break;case"onScroll":u!=null&&He("scroll",r);break;case"onScrollEnd":u!=null&&He("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Wd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!no.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),s=o.slice(2,h?o.length-7:void 0),g=r[Mt]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,h),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,h);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Zi(r,o,u)}}}function cn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",r),He("load",r);var u=!1,h=!1,g;for(g in o)if(o.hasOwnProperty(g)){var x=o[g];if(x!=null)switch(g){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ut(r,s,g,x,o,null)}}h&&ut(r,s,"srcSet",o.srcSet,o,null),u&&ut(r,s,"src",o.src,o,null);return;case"input":He("invalid",r);var I=g=x=h=null,H=null,J=null;for(u in o)if(o.hasOwnProperty(u)){var ae=o[u];if(ae!=null)switch(u){case"name":h=ae;break;case"type":x=ae;break;case"checked":H=ae;break;case"defaultChecked":J=ae;break;case"value":g=ae;break;case"defaultValue":I=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,s));break;default:ut(r,s,u,ae,o,null)}}la(r,g,I,H,J,x,h,!1),ao(r);return;case"select":He("invalid",r),u=x=g=null;for(h in o)if(o.hasOwnProperty(h)&&(I=o[h],I!=null))switch(h){case"value":g=I;break;case"defaultValue":x=I;break;case"multiple":u=I;default:ut(r,s,h,I,o,null)}s=g,o=x,r.multiple=!!u,s!=null?ci(r,!!u,s,!1):o!=null&&ci(r,!!u,o,!0);return;case"textarea":He("invalid",r),g=h=u=null;for(x in o)if(o.hasOwnProperty(x)&&(I=o[x],I!=null))switch(x){case"value":u=I;break;case"defaultValue":h=I;break;case"children":g=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:ut(r,s,x,I,o,null)}ua(r,u,h,g),ao(r);return;case"option":for(H in o)if(o.hasOwnProperty(H)&&(u=o[H],u!=null))switch(H){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ut(r,s,H,u,o,null)}return;case"dialog":He("beforetoggle",r),He("toggle",r),He("cancel",r),He("close",r);break;case"iframe":case"object":He("load",r);break;case"video":case"audio":for(u=0;u<Pu.length;u++)He(Pu[u],r);break;case"image":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"embed":case"source":case"link":He("error",r),He("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in o)if(o.hasOwnProperty(J)&&(u=o[J],u!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ut(r,s,J,u,o,null)}return;default:if(Zl(s)){for(ae in o)o.hasOwnProperty(ae)&&(u=o[ae],u!==void 0&&Pp(r,s,ae,u,o,void 0));return}}for(I in o)o.hasOwnProperty(I)&&(u=o[I],u!=null&&ut(r,s,I,u,o,null))}function nR(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,x=null,I=null,H=null,J=null,ae=null;for(te in o){var ue=o[te];if(o.hasOwnProperty(te)&&ue!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":H=ue;default:u.hasOwnProperty(te)||ut(r,s,te,null,u,ue)}}for(var ee in u){var te=u[ee];if(ue=o[ee],u.hasOwnProperty(ee)&&(te!=null||ue!=null))switch(ee){case"type":g=te;break;case"name":h=te;break;case"checked":J=te;break;case"defaultChecked":ae=te;break;case"value":x=te;break;case"defaultValue":I=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:te!==ue&&ut(r,s,ee,te,u,ue)}}jn(r,x,I,H,J,ae,g,h);return;case"select":te=x=I=ee=null;for(g in o)if(H=o[g],o.hasOwnProperty(g)&&H!=null)switch(g){case"value":break;case"multiple":te=H;default:u.hasOwnProperty(g)||ut(r,s,g,null,u,H)}for(h in u)if(g=u[h],H=o[h],u.hasOwnProperty(h)&&(g!=null||H!=null))switch(h){case"value":ee=g;break;case"defaultValue":I=g;break;case"multiple":x=g;default:g!==H&&ut(r,s,h,g,u,H)}s=I,o=x,u=te,ee!=null?ci(r,!!o,ee,!1):!!u!=!!o&&(s!=null?ci(r,!!o,s,!0):ci(r,!!o,o?[]:"",!1));return;case"textarea":te=ee=null;for(I in o)if(h=o[I],o.hasOwnProperty(I)&&h!=null&&!u.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:ut(r,s,I,null,u,h)}for(x in u)if(h=u[x],g=o[x],u.hasOwnProperty(x)&&(h!=null||g!=null))switch(x){case"value":ee=h;break;case"defaultValue":te=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==g&&ut(r,s,x,h,u,g)}ot(r,ee,te);return;case"option":for(var De in o)if(ee=o[De],o.hasOwnProperty(De)&&ee!=null&&!u.hasOwnProperty(De))switch(De){case"selected":r.selected=!1;break;default:ut(r,s,De,null,u,ee)}for(H in u)if(ee=u[H],te=o[H],u.hasOwnProperty(H)&&ee!==te&&(ee!=null||te!=null))switch(H){case"selected":r.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:ut(r,s,H,ee,u,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in o)ee=o[Re],o.hasOwnProperty(Re)&&ee!=null&&!u.hasOwnProperty(Re)&&ut(r,s,Re,null,u,ee);for(J in u)if(ee=u[J],te=o[J],u.hasOwnProperty(J)&&ee!==te&&(ee!=null||te!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:ut(r,s,J,ee,u,te)}return;default:if(Zl(s)){for(var ct in o)ee=o[ct],o.hasOwnProperty(ct)&&ee!==void 0&&!u.hasOwnProperty(ct)&&Pp(r,s,ct,void 0,u,ee);for(ae in u)ee=u[ae],te=o[ae],!u.hasOwnProperty(ae)||ee===te||ee===void 0&&te===void 0||Pp(r,s,ae,ee,u,te);return}}for(var Y in o)ee=o[Y],o.hasOwnProperty(Y)&&ee!=null&&!u.hasOwnProperty(Y)&&ut(r,s,Y,null,u,ee);for(ue in u)ee=u[ue],te=o[ue],!u.hasOwnProperty(ue)||ee===te||ee==null&&te==null||ut(r,s,ue,ee,u,te)}var jp=null,Vp=null;function Zd(r){return r.nodeType===9?r:r.ownerDocument}function Tb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sb(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Lp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Up=null;function rR(){var r=window.event;return r&&r.type==="popstate"?r===Up?!1:(Up=r,!0):(Up=null,!1)}var Ab=typeof setTimeout=="function"?setTimeout:void 0,iR=typeof clearTimeout=="function"?clearTimeout:void 0,Rb=typeof Promise=="function"?Promise:void 0,sR=typeof queueMicrotask=="function"?queueMicrotask:typeof Rb<"u"?function(r){return Rb.resolve(null).then(r).catch(aR)}:Ab;function aR(r){setTimeout(function(){throw r})}function gs(r){return r==="head"}function Cb(r,s){var o=s,u=0,h=0;do{var g=o.nextSibling;if(r.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var x=r.ownerDocument;if(o&1&&Vu(x.documentElement),o&2&&Vu(x.body),o&4)for(o=x.head,Vu(o),x=o.firstChild;x;){var I=x.nextSibling,H=x.nodeName;x[ia]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&x.rel.toLowerCase()==="stylesheet"||o.removeChild(x),x=I}}if(h===0){r.removeChild(g),Gu(s);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Gu(s)}function Bp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Bp(o),Wi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function oR(r,s,o,u){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[ia])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=mr(r.nextSibling),r===null)break}return null}function lR(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=mr(r.nextSibling),r===null))return null;return r}function zp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function uR(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function mr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var Fp=null;function Ib(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function Nb(r,s,o){switch(s=Zd(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Vu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Wi(r)}var ir=new Map,Db=new Set;function Jd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ii=F.d;F.d={f:cR,r:dR,D:fR,C:hR,L:mR,m:pR,X:yR,S:gR,M:vR};function cR(){var r=Ii.f(),s=qd();return r||s}function dR(r){var s=Dr(r);s!==null&&s.tag===5&&s.type==="form"?W0(s):Ii.r(r)}var Fo=typeof document>"u"?null:document;function Ob(r,s,o){var u=Fo;if(u&&typeof s=="string"&&s){var h=Pt(s);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),Db.has(h)||(Db.add(h),r={rel:r,crossOrigin:o,href:s},u.querySelector(h)===null&&(s=u.createElement("link"),cn(s,"link",r),It(s),u.head.appendChild(s)))}}function fR(r){Ii.D(r),Ob("dns-prefetch",r,null)}function hR(r,s){Ii.C(r,s),Ob("preconnect",r,s)}function mR(r,s,o){Ii.L(r,s,o);var u=Fo;if(u&&r&&s){var h='link[rel="preload"][as="'+Pt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Pt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Pt(o.imageSizes)+'"]')):h+='[href="'+Pt(r)+'"]';var g=h;switch(s){case"style":g=Ho(r);break;case"script":g=qo(r)}ir.has(g)||(r=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),ir.set(g,r),u.querySelector(h)!==null||s==="style"&&u.querySelector(Lu(g))||s==="script"&&u.querySelector(Uu(g))||(s=u.createElement("link"),cn(s,"link",r),It(s),u.head.appendChild(s)))}}function pR(r,s){Ii.m(r,s);var o=Fo;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+Pt(u)+'"][href="'+Pt(r)+'"]',g=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=qo(r)}if(!ir.has(g)&&(r=v({rel:"modulepreload",href:r},s),ir.set(g,r),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Uu(g)))return}u=o.createElement("link"),cn(u,"link",r),It(u),o.head.appendChild(u)}}}function gR(r,s,o){Ii.S(r,s,o);var u=Fo;if(u&&r){var h=Sn(u).hoistableStyles,g=Ho(r);s=s||"default";var x=h.get(g);if(!x){var I={loading:0,preload:null};if(x=u.querySelector(Lu(g)))I.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},o),(o=ir.get(g))&&Hp(r,o);var H=x=u.createElement("link");It(H),cn(H,"link",r),H._p=new Promise(function(J,ae){H.onload=J,H.onerror=ae}),H.addEventListener("load",function(){I.loading|=1}),H.addEventListener("error",function(){I.loading|=2}),I.loading|=4,ef(x,s,u)}x={type:"stylesheet",instance:x,count:1,state:I},h.set(g,x)}}}function yR(r,s){Ii.X(r,s);var o=Fo;if(o&&r){var u=Sn(o).hoistableScripts,h=qo(r),g=u.get(h);g||(g=o.querySelector(Uu(h)),g||(r=v({src:r,async:!0},s),(s=ir.get(h))&&qp(r,s),g=o.createElement("script"),It(g),cn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function vR(r,s){Ii.M(r,s);var o=Fo;if(o&&r){var u=Sn(o).hoistableScripts,h=qo(r),g=u.get(h);g||(g=o.querySelector(Uu(h)),g||(r=v({src:r,async:!0,type:"module"},s),(s=ir.get(h))&&qp(r,s),g=o.createElement("script"),It(g),cn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function kb(r,s,o,u){var h=(h=we.current)?Jd(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Ho(o.href),o=Sn(h).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Ho(o.href);var g=Sn(h).hoistableStyles,x=g.get(r);if(x||(h=h.ownerDocument||h,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,x),(g=h.querySelector(Lu(r)))&&!g._p&&(x.instance=g,x.state.loading=5),ir.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ir.set(r,o),g||_R(h,r,o,x.state))),s&&u===null)throw Error(i(528,""));return x}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=qo(o),o=Sn(h).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Ho(r){return'href="'+Pt(r)+'"'}function Lu(r){return'link[rel="stylesheet"]['+r+"]"}function Mb(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function _R(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),cn(s,"link",o),It(s),r.head.appendChild(s))}function qo(r){return'[src="'+Pt(r)+'"]'}function Uu(r){return"script[async]"+r}function Pb(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Pt(o.href)+'"]');if(u)return s.instance=u,It(u),u;var h=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),It(u),cn(u,"style",h),ef(u,o.precedence,r),s.instance=u;case"stylesheet":h=Ho(o.href);var g=r.querySelector(Lu(h));if(g)return s.state.loading|=4,s.instance=g,It(g),g;u=Mb(o),(h=ir.get(h))&&Hp(u,h),g=(r.ownerDocument||r).createElement("link"),It(g);var x=g;return x._p=new Promise(function(I,H){x.onload=I,x.onerror=H}),cn(g,"link",u),s.state.loading|=4,ef(g,o.precedence,r),s.instance=g;case"script":return g=qo(o.src),(h=r.querySelector(Uu(g)))?(s.instance=h,It(h),h):(u=o,(h=ir.get(g))&&(u=v({},o),qp(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),It(h),cn(h,"link",u),r.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,ef(u,o.precedence,r));return s.instance}function ef(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,g=h,x=0;x<u.length;x++){var I=u[x];if(I.dataset.precedence===s)g=I;else if(g!==h)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Hp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function qp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var tf=null;function jb(r,s,o){if(tf===null){var u=new Map,h=tf=new Map;h.set(o,u)}else h=tf,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var g=o[h];if(!(g[ia]||g[Ht]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var x=g.getAttribute(s)||"";x=r+x;var I=u.get(x);I?I.push(g):u.set(x,[g])}}return u}function Vb(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function bR(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Lb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Bu=null;function ER(){}function wR(r,s,o){if(Bu===null)throw Error(i(475));var u=Bu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ho(o.href),g=r.querySelector(Lu(h));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=nf.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=g,It(g);return}g=r.ownerDocument||r,o=Mb(o),(h=ir.get(h))&&Hp(o,h),g=g.createElement("link"),It(g);var x=g;x._p=new Promise(function(I,H){x.onload=I,x.onerror=H}),cn(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=nf.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function xR(){if(Bu===null)throw Error(i(475));var r=Bu;return r.stylesheets&&r.count===0&&Gp(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Gp(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function nf(){if(this.count--,this.count===0){if(this.stylesheets)Gp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var rf=null;function Gp(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,rf=new Map,s.forEach(TR,r),rf=null,nf.call(r))}function TR(r,s){if(!(s.state.loading&4)){var o=rf.get(r);if(o)var u=o.get(null);else{o=new Map,rf.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var x=h[g];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(o.set(x.dataset.precedence,x),u=x)}u&&o.set(null,u)}h=s.instance,x=h.getAttribute("data-precedence"),g=o.get(x)||u,g===u&&o.set(null,h),o.set(x,h),this.count++,u=nf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),g?g.parentNode.insertBefore(h,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),s.state.loading|=4}}var zu={$$typeof:z,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function SR(r,s,o,u,h,g,x,I){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Ub(r,s,o,u,h,g,x,I,H,J,ae,ue){return r=new SR(r,s,o,x,I,H,J,ue),s=1,g===!0&&(s|=24),g=Ln(3,null,null,s),r.current=g,g.stateNode=r,s=Am(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},Nm(g),r}function Bb(r){return r?(r=Eo,r):Eo}function zb(r,s,o,u,h,g){h=Bb(h),u.context===null?u.context=h:u.pendingContext=h,u=rs(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=is(r,u,s),o!==null&&(Hn(o,r,s),yu(o,r,s))}function Fb(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function $p(r,s){Fb(r,s),(r=r.alternate)&&Fb(r,s)}function Hb(r){if(r.tag===13){var s=bo(r,67108864);s!==null&&Hn(s,r,67108864),$p(r,67108864)}}var sf=!0;function AR(r,s,o,u){var h=q.T;q.T=null;var g=F.p;try{F.p=2,Yp(r,s,o,u)}finally{F.p=g,q.T=h}}function RR(r,s,o,u){var h=q.T;q.T=null;var g=F.p;try{F.p=8,Yp(r,s,o,u)}finally{F.p=g,q.T=h}}function Yp(r,s,o,u){if(sf){var h=Kp(u);if(h===null)Mp(r,s,u,af,o),Gb(r,u);else if(IR(h,r,s,o,u))u.stopPropagation();else if(Gb(r,u),s&4&&-1<CR.indexOf(r)){for(;h!==null;){var g=Dr(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var x=ur(g.pendingLanes);if(x!==0){var I=g;for(I.pendingLanes|=2,I.entangledLanes|=2;x;){var H=1<<31-gn(x);I.entanglements[1]|=H,x&=~H}Gr(g),(it&6)===0&&(Fd=Zt()+500,Mu(0))}}break;case 13:I=bo(g,2),I!==null&&Hn(I,g,2),qd(),$p(g,2)}if(g=Kp(u),g===null&&Mp(r,s,u,af,o),g===h)break;h=g}h!==null&&u.stopPropagation()}else Mp(r,s,u,null,o)}}function Kp(r){return r=Qn(r),Qp(r)}var af=null;function Qp(r){if(af=null,r=oi(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return af=r,null}function qb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ul()){case Ir:return 2;case Za:return 8;case Js:case Jh:return 32;case Ja:return 268435456;default:return 32}default:return 32}}var Xp=!1,ys=null,vs=null,_s=null,Fu=new Map,Hu=new Map,bs=[],CR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gb(r,s){switch(r){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":Fu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hu.delete(s.pointerId)}}function qu(r,s,o,u,h,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[h]},s!==null&&(s=Dr(s),s!==null&&Hb(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function IR(r,s,o,u,h){switch(s){case"focusin":return ys=qu(ys,r,s,o,u,h),!0;case"dragenter":return vs=qu(vs,r,s,o,u,h),!0;case"mouseover":return _s=qu(_s,r,s,o,u,h),!0;case"pointerover":var g=h.pointerId;return Fu.set(g,qu(Fu.get(g)||null,r,s,o,u,h)),!0;case"gotpointercapture":return g=h.pointerId,Hu.set(g,qu(Hu.get(g)||null,r,s,o,u,h)),!0}return!1}function $b(r){var s=oi(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,qc(r.priority,function(){if(o.tag===13){var u=Fn();u=Ki(u);var h=bo(o,u);h!==null&&Hn(h,o,u),$p(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function of(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Kp(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);di=u,o.target.dispatchEvent(u),di=null}else return s=Dr(o),s!==null&&Hb(s),r.blockedOn=o,!1;s.shift()}return!0}function Yb(r,s,o){of(r)&&o.delete(s)}function NR(){Xp=!1,ys!==null&&of(ys)&&(ys=null),vs!==null&&of(vs)&&(vs=null),_s!==null&&of(_s)&&(_s=null),Fu.forEach(Yb),Hu.forEach(Yb)}function lf(r,s){r.blockedOn===s&&(r.blockedOn=null,Xp||(Xp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,NR)))}var uf=null;function Kb(r){uf!==r&&(uf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){uf===r&&(uf=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],h=r[s+2];if(typeof u!="function"){if(Qp(u||o)===null)continue;break}var g=Dr(o);g!==null&&(r.splice(s,3),s-=3,Qm(g,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function Gu(r){function s(H){return lf(H,r)}ys!==null&&lf(ys,r),vs!==null&&lf(vs,r),_s!==null&&lf(_s,r),Fu.forEach(s),Hu.forEach(s);for(var o=0;o<bs.length;o++){var u=bs[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<bs.length&&(o=bs[0],o.blockedOn===null);)$b(o),o.blockedOn===null&&bs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],g=o[u+1],x=h[Mt]||null;if(typeof g=="function")x||Kb(o);else if(x){var I=null;if(g&&g.hasAttribute("formAction")){if(h=g,x=g[Mt]||null)I=x.formAction;else if(Qp(h)!==null)continue}else I=x.action;typeof I=="function"?o[u+1]=I:(o.splice(u,3),u-=3),Kb(o)}}}function Wp(r){this._internalRoot=r}cf.prototype.render=Wp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Fn();zb(o,u,r,s,null,null)},cf.prototype.unmount=Wp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;zb(r.current,2,null,r,null,null),qd(),s[Yn]=null}};function cf(r){this._internalRoot=r}cf.prototype.unstable_scheduleHydration=function(r){if(r){var s=Qi();r={blockedOn:null,target:r,priority:s};for(var o=0;o<bs.length&&s!==0&&s<bs[o].priority;o++);bs.splice(o,0,r),o===0&&$b(r)}};var Qb=e.version;if(Qb!=="19.1.0")throw Error(i(527,Qb,"19.1.0"));F.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(s),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var DR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!df.isDisabled&&df.supportsFiber)try{wt=df.inject(DR),rt=df}catch{}}return Yu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",h=d_,g=f_,x=h_,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks)),s=Ub(r,1,!1,null,null,o,u,h,g,x,I,null),r[Yn]=s.current,kp(r),new Wp(s)},Yu.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,h="",g=d_,x=f_,I=h_,H=null,J=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(H=o.unstable_transitionCallbacks),o.formState!==void 0&&(J=o.formState)),s=Ub(r,1,!0,s,o??null,u,h,g,x,I,H,J),s.context=Bb(null),o=s.current,u=Fn(),u=Ki(u),h=rs(u),h.callback=null,is(o,h,u),o=u,s.current.lanes=o,ai(s,o),Gr(s),r[Yn]=s.current,kp(r),new cf(s)},Yu.version="19.1.0",Yu}var sE;function zR(){if(sE)return eg.exports;sE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),eg.exports=BR(),eg.exports}var FR=zR(),Ku={},aE;function HR(){if(aE)return Ku;aE=1,Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.parse=c,Ku.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,R){const C=new l,A=E.length;if(A<2)return C;const D=(R==null?void 0:R.decode)||v;let V=0;do{const U=E.indexOf("=",V);if(U===-1)break;const z=E.indexOf(";",V),K=z===-1?A:z;if(U>K){V=E.lastIndexOf(";",U-1)+1;continue}const Q=f(E,V,U),ie=m(E,U,Q),N=E.slice(Q,ie);if(C[N]===void 0){let S=f(E,U+1,K),k=m(E,K,S);const L=D(E.slice(S,k));C[N]=L}V=K+1}while(V<A);return C}function f(E,R,C){do{const A=E.charCodeAt(R);if(A!==32&&A!==9)return R}while(++R<C);return C}function m(E,R,C){for(;R>C;){const A=E.charCodeAt(--R);if(A!==32&&A!==9)return R+1}return C}function p(E,R,C){const A=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const D=A(R);if(!e.test(D))throw new TypeError(`argument val is invalid: ${R}`);let V=E+"="+D;if(!C)return V;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);V+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);V+="; Domain="+C.domain}if(C.path){if(!i.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);V+="; Path="+C.path}if(C.expires){if(!b(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);V+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(V+="; HttpOnly"),C.secure&&(V+="; Secure"),C.partitioned&&(V+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return V}function v(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function b(E){return a.call(E)==="[object Date]"}return Ku}HR();var oE="popstate";function qR(n={}){function e(i,a){let{pathname:l,search:c,hash:f}=i.location;return Cg("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:cc(a)}return $R(e,t,null,n)}function _t(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function _r(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GR(){return Math.random().toString(36).substring(2,10)}function lE(n,e){return{usr:n.state,key:n.key,idx:e}}function Cg(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?xl(e):e,state:t,key:e&&e.key||i||GR()}}function cc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function xl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function $R(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,f="POP",m=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function b(){f="POP";let D=v(),V=D==null?null:D-p;p=D,m&&m({action:f,location:A.location,delta:V})}function E(D,V){f="PUSH";let U=Cg(A.location,D,V);p=v()+1;let z=lE(U,p),K=A.createHref(U);try{c.pushState(z,"",K)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;a.location.assign(K)}l&&m&&m({action:f,location:A.location,delta:1})}function R(D,V){f="REPLACE";let U=Cg(A.location,D,V);p=v();let z=lE(U,p),K=A.createHref(U);c.replaceState(z,"",K),l&&m&&m({action:f,location:A.location,delta:0})}function C(D){return YR(D)}let A={get action(){return f},get location(){return n(a,c)},listen(D){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(oE,b),m=D,()=>{a.removeEventListener(oE,b),m=null}},createHref(D){return e(a,D)},createURL:C,encodeLocation(D){let V=C(D);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:E,replace:R,go(D){return c.go(D)}};return A}function YR(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),_t(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:cc(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function Rx(n,e,t="/"){return KR(n,e,t,!1)}function KR(n,e,t,i){let a=typeof e=="string"?xl(e):e,l=Li(a.pathname||"/",t);if(l==null)return null;let c=Cx(n);QR(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=aC(l);f=iC(c[m],p,i)}return f}function Cx(n,e=[],t=[],i=""){let a=(l,c,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(_t(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let p=ki([i,m.relativePath]),v=t.concat(m);l.children&&l.children.length>0&&(_t(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Cx(l.children,e,v,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:nC(p,l.index),routesMeta:v})};return n.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,c);else for(let m of Ix(l.path))a(l,c,m)}),e}function Ix(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=Ix(i.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>n.startsWith("/")&&m===""?"/":m)}function QR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:rC(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var XR=/^:[\w-]+$/,WR=3,ZR=2,JR=1,eC=10,tC=-2,uE=n=>n==="*";function nC(n,e){let t=n.split("/"),i=t.length;return t.some(uE)&&(i+=tC),e&&(i+=ZR),t.filter(a=>!uE(a)).reduce((a,l)=>a+(XR.test(l)?WR:l===""?JR:eC),i)}function rC(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function iC(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let f=0;f<i.length;++f){let m=i[f],p=f===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=Hf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),E=m.route;if(!b&&p&&t&&!i[i.length-1].route.index&&(b=Hf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:ki([l,b.pathname]),pathnameBase:cC(ki([l,b.pathnameBase])),route:E}),b.pathnameBase!=="/"&&(l=ki([l,b.pathnameBase]))}return c}function Hf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=sC(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:b},E)=>{if(v==="*"){let C=f[E]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const R=f[E];return b&&!R?p[v]=void 0:p[v]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:n}}function sC(n,e=!1,t=!0){_r(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(i.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function aC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _r(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Li(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function oC(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?xl(n):n;return{pathname:t?t.startsWith("/")?t:lC(t,e):e,search:dC(i),hash:fC(a)}}function lC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function ig(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ey(n){let e=uC(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function wy(n,e,t,i=!1){let a;typeof n=="string"?a=xl(n):(a={...n},_t(!a.pathname||!a.pathname.includes("?"),ig("?","pathname","search",a)),_t(!a.pathname||!a.pathname.includes("#"),ig("#","pathname","hash",a)),_t(!a.search||!a.search.includes("#"),ig("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=t;else{let b=e.length-1;if(!i&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),b-=1;a.pathname=E.join("/")}f=b>=0?e[b]:"/"}let m=oC(a,f),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var ki=n=>n.join("/").replace(/\/\/+/g,"/"),cC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),dC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,fC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function hC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Nx=["POST","PUT","PATCH","DELETE"];new Set(Nx);var mC=["GET",...Nx];new Set(mC);var Tl=T.createContext(null);Tl.displayName="DataRouter";var _h=T.createContext(null);_h.displayName="DataRouterState";var Dx=T.createContext({isTransitioning:!1});Dx.displayName="ViewTransition";var pC=T.createContext(new Map);pC.displayName="Fetchers";var gC=T.createContext(null);gC.displayName="Await";var Ar=T.createContext(null);Ar.displayName="Navigation";var Tc=T.createContext(null);Tc.displayName="Location";var ri=T.createContext({outlet:null,matches:[],isDataRoute:!1});ri.displayName="Route";var xy=T.createContext(null);xy.displayName="RouteError";function yC(n,{relative:e}={}){_t(Sl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=T.useContext(Ar),{hash:a,pathname:l,search:c}=Sc(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:ki([t,l])),i.createHref({pathname:f,search:c,hash:a})}function Sl(){return T.useContext(Tc)!=null}function Gi(){return _t(Sl(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Tc).location}var Ox="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kx(n){T.useContext(Ar).static||T.useLayoutEffect(n)}function bh(){let{isDataRoute:n}=T.useContext(ri);return n?NC():vC()}function vC(){_t(Sl(),"useNavigate() may be used only in the context of a <Router> component.");let n=T.useContext(Tl),{basename:e,navigator:t}=T.useContext(Ar),{matches:i}=T.useContext(ri),{pathname:a}=Gi(),l=JSON.stringify(Ey(i)),c=T.useRef(!1);return kx(()=>{c.current=!0}),T.useCallback((m,p={})=>{if(_r(c.current,Ox),!c.current)return;if(typeof m=="number"){t.go(m);return}let v=wy(m,JSON.parse(l),a,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ki([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,l,a,n])}T.createContext(null);function Sc(n,{relative:e}={}){let{matches:t}=T.useContext(ri),{pathname:i}=Gi(),a=JSON.stringify(Ey(t));return T.useMemo(()=>wy(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function _C(n,e){return Mx(n,e)}function Mx(n,e,t,i){var V;_t(Sl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=T.useContext(Ar),{matches:l}=T.useContext(ri),c=l[l.length-1],f=c?c.params:{},m=c?c.pathname:"/",p=c?c.pathnameBase:"/",v=c&&c.route;{let U=v&&v.path||"";Px(m,!v||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let b=Gi(),E;if(e){let U=typeof e=="string"?xl(e):e;_t(p==="/"||((V=U.pathname)==null?void 0:V.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${U.pathname}" was given in the \`location\` prop.`),E=U}else E=b;let R=E.pathname||"/",C=R;if(p!=="/"){let U=p.replace(/^\//,"").split("/");C="/"+R.replace(/^\//,"").split("/").slice(U.length).join("/")}let A=Rx(n,{pathname:C});_r(v||A!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),_r(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=TC(A&&A.map(U=>Object.assign({},U,{params:Object.assign({},f,U.params),pathname:ki([p,a.encodeLocation?a.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?p:ki([p,a.encodeLocation?a.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),l,t,i);return e&&D?T.createElement(Tc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},D):D}function bC(){let n=IC(),e=hC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=T.createElement(T.Fragment,null,T.createElement("p",null,"💿 Hey developer 👋"),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:l},"ErrorBoundary")," or"," ",T.createElement("code",{style:l},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:a},t):null,c)}var EC=T.createElement(bC,null),wC=class extends T.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?T.createElement(ri.Provider,{value:this.props.routeContext},T.createElement(xy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xC({routeContext:n,match:e,children:t}){let i=T.useContext(Tl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(ri.Provider,{value:n},t)}function TC(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);_t(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,f=-1;if(t)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:v,errors:b}=t,E=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||E){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,p,v)=>{let b,E=!1,R=null,C=null;t&&(b=l&&p.route.id?l[p.route.id]:void 0,R=p.route.errorElement||EC,c&&(f<0&&v===0?(Px("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,C=null):f===v&&(E=!0,C=p.route.hydrateFallbackElement||null)));let A=e.concat(a.slice(0,v+1)),D=()=>{let V;return b?V=R:E?V=C:p.route.Component?V=T.createElement(p.route.Component,null):p.route.element?V=p.route.element:V=m,T.createElement(xC,{match:p,routeContext:{outlet:m,matches:A,isDataRoute:t!=null},children:V})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?T.createElement(wC,{location:t.location,revalidation:t.revalidation,component:R,error:b,children:D(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):D()},null)}function Ty(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SC(n){let e=T.useContext(Tl);return _t(e,Ty(n)),e}function AC(n){let e=T.useContext(_h);return _t(e,Ty(n)),e}function RC(n){let e=T.useContext(ri);return _t(e,Ty(n)),e}function Sy(n){let e=RC(n),t=e.matches[e.matches.length-1];return _t(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function CC(){return Sy("useRouteId")}function IC(){var i;let n=T.useContext(xy),e=AC("useRouteError"),t=Sy("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function NC(){let{router:n}=SC("useNavigate"),e=Sy("useNavigate"),t=T.useRef(!1);return kx(()=>{t.current=!0}),T.useCallback(async(a,l={})=>{_r(t.current,Ox),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var cE={};function Px(n,e,t){!e&&!cE[n]&&(cE[n]=!0,_r(!1,t))}T.memo(DC);function DC({routes:n,future:e,state:t}){return Mx(n,void 0,t,e)}function Ig({to:n,replace:e,state:t,relative:i}){_t(Sl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=T.useContext(Ar);_r(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=T.useContext(ri),{pathname:c}=Gi(),f=bh(),m=wy(n,Ey(l),c,i==="path"),p=JSON.stringify(m);return T.useEffect(()=>{f(JSON.parse(p),{replace:e,state:t,relative:i})},[f,p,i,e,t]),null}function $r(n){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OC({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){_t(!Sl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=T.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=xl(t));let{pathname:m="/",search:p="",hash:v="",state:b=null,key:E="default"}=t,R=T.useMemo(()=>{let C=Li(m,c);return C==null?null:{location:{pathname:C,search:p,hash:v,state:b,key:E},navigationType:i}},[c,m,p,v,b,E,i]);return _r(R!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:T.createElement(Ar.Provider,{value:f},T.createElement(Tc.Provider,{children:e,value:R}))}function kC({children:n,location:e}){return _C(Ng(n),e)}function Ng(n,e=[]){let t=[];return T.Children.forEach(n,(i,a)=>{if(!T.isValidElement(i))return;let l=[...e,a];if(i.type===T.Fragment){t.push.apply(t,Ng(i.props.children,l));return}_t(i.type===$r,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Ng(i.props.children,l)),t.push(c)}),t}var Cf="get",If="application/x-www-form-urlencoded";function Eh(n){return n!=null&&typeof n.tagName=="string"}function MC(n){return Eh(n)&&n.tagName.toLowerCase()==="button"}function PC(n){return Eh(n)&&n.tagName.toLowerCase()==="form"}function jC(n){return Eh(n)&&n.tagName.toLowerCase()==="input"}function VC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function LC(n,e){return n.button===0&&(!e||e==="_self")&&!VC(n)}var ff=null;function UC(){if(ff===null)try{new FormData(document.createElement("form"),0),ff=!1}catch{ff=!0}return ff}var BC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sg(n){return n!=null&&!BC.has(n)?(_r(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${If}"`),null):n}function zC(n,e){let t,i,a,l,c;if(PC(n)){let f=n.getAttribute("action");i=f?Li(f,e):null,t=n.getAttribute("method")||Cf,a=sg(n.getAttribute("enctype"))||If,l=new FormData(n)}else if(MC(n)||jC(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||f.getAttribute("action");if(i=m?Li(m,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Cf,a=sg(n.getAttribute("formenctype"))||sg(f.getAttribute("enctype"))||If,l=new FormData(f,n),!UC()){let{name:p,type:v,value:b}=n;if(v==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,b)}}else{if(Eh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Cf,i=null,a=If,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}function Ay(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function FC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function qC(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await FC(l,t);return c.links?c.links():[]}return[]}));return KC(i.flat(1).filter(HC).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function dE(n,e,t,i,a,l){let c=(m,p)=>t[p]?m.route.id!==t[p].route.id:!0,f=(m,p)=>{var v;return t[p].pathname!==m.pathname||((v=t[p].route.path)==null?void 0:v.endsWith("*"))&&t[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{var b;let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function GC(n,e,{includeHydrateFallback:t}={}){return $C(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function $C(n){return[...new Set(n)]}function YC(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function KC(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(YC(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var QC=new Set([100,101,204,205]);function XC(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Li(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function jx(){let n=T.useContext(Tl);return Ay(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function WC(){let n=T.useContext(_h);return Ay(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ry=T.createContext(void 0);Ry.displayName="FrameworkContext";function Vx(){let n=T.useContext(Ry);return Ay(n,"You must render this element inside a <HydratedRouter> element"),n}function ZC(n,e){let t=T.useContext(Ry),[i,a]=T.useState(!1),[l,c]=T.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=e,E=T.useRef(null);T.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let A=V=>{V.forEach(U=>{c(U.isIntersecting)})},D=new IntersectionObserver(A,{threshold:.5});return E.current&&D.observe(E.current),()=>{D.disconnect()}}},[n]),T.useEffect(()=>{if(i){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[i]);let R=()=>{a(!0)},C=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,E,{}]:[l,E,{onFocus:Qu(f,R),onBlur:Qu(m,C),onMouseEnter:Qu(p,R),onMouseLeave:Qu(v,C),onTouchStart:Qu(b,R)}]:[!1,E,{}]}function Qu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function JC({page:n,...e}){let{router:t}=jx(),i=T.useMemo(()=>Rx(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?T.createElement(tI,{page:n,matches:i,...e}):null}function eI(n){let{manifest:e,routeModules:t}=Vx(),[i,a]=T.useState([]);return T.useEffect(()=>{let l=!1;return qC(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function tI({page:n,matches:e,...t}){let i=Gi(),{manifest:a,routeModules:l}=Vx(),{basename:c}=jx(),{loaderData:f,matches:m}=WC(),p=T.useMemo(()=>dE(n,e,m,a,i,"data"),[n,e,m,a,i]),v=T.useMemo(()=>dE(n,e,m,a,i,"assets"),[n,e,m,a,i]),b=T.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let C=new Set,A=!1;if(e.forEach(V=>{var z;let U=a.routes[V.route.id];!U||!U.hasLoader||(!p.some(K=>K.route.id===V.route.id)&&V.route.id in f&&((z=l[V.route.id])!=null&&z.shouldRevalidate)||U.hasClientLoader?A=!0:C.add(V.route.id))}),C.size===0)return[];let D=XC(n,c);return A&&C.size>0&&D.searchParams.set("_routes",e.filter(V=>C.has(V.route.id)).map(V=>V.route.id).join(",")),[D.pathname+D.search]},[c,f,i,a,p,e,n,l]),E=T.useMemo(()=>GC(v,a),[v,a]),R=eI(v);return T.createElement(T.Fragment,null,b.map(C=>T.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),E.map(C=>T.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),R.map(({key:C,link:A})=>T.createElement("link",{key:C,...A})))}function nI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Lx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Lx&&(window.__reactRouterVersion="7.6.1")}catch{}function rI({basename:n,children:e,window:t}){let i=T.useRef();i.current==null&&(i.current=qR({window:t,v5Compat:!0}));let a=i.current,[l,c]=T.useState({action:a.action,location:a.location}),f=T.useCallback(m=>{T.startTransition(()=>c(m))},[c]);return T.useLayoutEffect(()=>a.listen(f),[a,f]),T.createElement(OC,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var Ux=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cl=T.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:v,viewTransition:b,...E},R){let{basename:C}=T.useContext(Ar),A=typeof p=="string"&&Ux.test(p),D,V=!1;if(typeof p=="string"&&A&&(D=p,Lx))try{let k=new URL(window.location.href),L=p.startsWith("//")?new URL(k.protocol+p):new URL(p),P=Li(L.pathname,C);L.origin===k.origin&&P!=null?p=P+L.search+L.hash:V=!0}catch{_r(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=yC(p,{relative:a}),[z,K,Q]=ZC(i,E),ie=oI(p,{replace:c,state:f,target:m,preventScrollReset:v,relative:a,viewTransition:b});function N(k){e&&e(k),k.defaultPrevented||ie(k)}let S=T.createElement("a",{...E,...Q,href:D||U,onClick:V||l?e:N,ref:nI(R,K),target:m,"data-discover":!A&&t==="render"?"true":void 0});return z&&!A?T.createElement(T.Fragment,null,S,T.createElement(JC,{page:U})):S});cl.displayName="Link";var iI=T.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},v){let b=Sc(c,{relative:p.relative}),E=Gi(),R=T.useContext(_h),{navigator:C,basename:A}=T.useContext(Ar),D=R!=null&&fI(b)&&f===!0,V=C.encodeLocation?C.encodeLocation(b).pathname:b.pathname,U=E.pathname,z=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(U=U.toLowerCase(),z=z?z.toLowerCase():null,V=V.toLowerCase()),z&&A&&(z=Li(z,A)||z);const K=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let Q=U===V||!a&&U.startsWith(V)&&U.charAt(K)==="/",ie=z!=null&&(z===V||!a&&z.startsWith(V)&&z.charAt(V.length)==="/"),N={isActive:Q,isPending:ie,isTransitioning:D},S=Q?e:void 0,k;typeof i=="function"?k=i(N):k=[i,Q?"active":null,ie?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(N):l;return T.createElement(cl,{...p,"aria-current":S,className:k,ref:v,style:L,to:c,viewTransition:f},typeof m=="function"?m(N):m)});iI.displayName="NavLink";var sI=T.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=Cf,action:f,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:b,...E},R)=>{let C=cI(),A=dI(f,{relative:p}),D=c.toLowerCase()==="get"?"get":"post",V=typeof f=="string"&&Ux.test(f),U=z=>{if(m&&m(z),z.defaultPrevented)return;z.preventDefault();let K=z.nativeEvent.submitter,Q=(K==null?void 0:K.getAttribute("formmethod"))||c;C(K||z.currentTarget,{fetcherKey:e,method:Q,navigate:t,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:b})};return T.createElement("form",{ref:R,method:D,action:A,onSubmit:i?m:U,...E,"data-discover":!V&&n==="render"?"true":void 0})});sI.displayName="Form";function aI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bx(n){let e=T.useContext(Tl);return _t(e,aI(n)),e}function oI(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=bh(),m=Gi(),p=Sc(n,{relative:l});return T.useCallback(v=>{if(LC(v,e)){v.preventDefault();let b=t!==void 0?t:cc(m)===cc(p);f(n,{replace:b,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[m,f,p,t,i,e,n,a,l,c])}var lI=0,uI=()=>`__${String(++lI)}__`;function cI(){let{router:n}=Bx("useSubmit"),{basename:e}=T.useContext(Ar),t=CC();return T.useCallback(async(i,a={})=>{let{action:l,method:c,encType:f,formData:m,body:p}=zC(i,e);if(a.navigate===!1){let v=a.fetcherKey||uI();await n.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function dI(n,{relative:e}={}){let{basename:t}=T.useContext(Ar),i=T.useContext(ri);_t(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Sc(n||".",{relative:e})},c=Gi();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(v=>v==="")){f.delete("index"),m.filter(b=>b).forEach(b=>f.append("index",b));let v=f.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ki([t,l.pathname])),cc(l)}function fI(n,e={}){let t=T.useContext(Dx);_t(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Bx("useViewTransitionState"),a=Sc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Li(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Li(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Hf(a.pathname,c)!=null||Hf(a.pathname,l)!=null}[...QC];var Ac=Ax();const hI=Tx(Ac);function fE(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function mI(...n){return e=>{let t=!1;const i=n.map(a=>{const l=fE(a,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():fE(n[a],null)}}}}function kt(...n){return T.useCallback(mI(...n),n)}function dc(n){const e=pI(n),t=T.forwardRef((i,a)=>{const{children:l,...c}=i,f=T.Children.toArray(l),m=f.find(yI);if(m){const p=m.props.children,v=f.map(b=>b===m?T.Children.count(p)>1?T.Children.only(null):T.isValidElement(p)?p.props.children:null:b);return y.jsx(e,{...c,ref:a,children:T.isValidElement(p)?T.cloneElement(p,void 0,v):null})}return y.jsx(e,{...c,ref:a,children:l})});return t.displayName=`${n}.Slot`,t}var zx=dc("Slot");function pI(n){const e=T.forwardRef((t,i)=>{const{children:a,...l}=t,c=T.isValidElement(a)?_I(a):void 0,f=kt(c,i);if(T.isValidElement(a)){const m=vI(l,a.props);return a.type!==T.Fragment&&(m.ref=f),T.cloneElement(a,m)}return T.Children.count(a)>1?T.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var gI=Symbol("radix.slottable");function yI(n){return T.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===gI}function vI(n,e){const t={...e};for(const i in e){const a=n[i],l=e[i];/^on[A-Z]/.test(i)?a&&l?t[i]=(...f)=>{const m=l(...f);return a(...f),m}:a&&(t[i]=a):i==="style"?t[i]={...a,...l}:i==="className"&&(t[i]=[a,l].filter(Boolean).join(" "))}return{...n,...t}}function _I(n){var i,a;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Fx(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=Fx(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Hx(){for(var n,e,t=0,i="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=Fx(n))&&(i&&(i+=" "),i+=e);return i}const hE=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,mE=Hx,Cy=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return mE(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:a,defaultVariants:l}=e,c=Object.keys(a).map(p=>{const v=t==null?void 0:t[p],b=l==null?void 0:l[p];if(v===null)return null;const E=hE(v)||hE(b);return a[p][E]}),f=t&&Object.entries(t).reduce((p,v)=>{let[b,E]=v;return E===void 0||(p[b]=E),p},{}),m=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((p,v)=>{let{class:b,className:E,...R}=v;return Object.entries(R).every(C=>{let[A,D]=C;return Array.isArray(D)?D.includes({...l,...f}[A]):{...l,...f}[A]===D})?[...p,b,E]:p},[]);return mE(n,c,m,t==null?void 0:t.class,t==null?void 0:t.className)},Iy="-",bI=n=>{const e=wI(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:c=>{const f=c.split(Iy);return f[0]===""&&f.length!==1&&f.shift(),qx(f,e)||EI(c)},getConflictingClassGroupIds:(c,f)=>{const m=t[c]||[];return f&&i[c]?[...m,...i[c]]:m}}},qx=(n,e)=>{var c;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),a=i?qx(n.slice(1),i):void 0;if(a)return a;if(e.validators.length===0)return;const l=n.join(Iy);return(c=e.validators.find(({validator:f})=>f(l)))==null?void 0:c.classGroupId},pE=/^\[(.+)\]$/,EI=n=>{if(pE.test(n)){const e=pE.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},wI=n=>{const{theme:e,classGroups:t}=n,i={nextPart:new Map,validators:[]};for(const a in t)Dg(t[a],i,a,e);return i},Dg=(n,e,t,i)=>{n.forEach(a=>{if(typeof a=="string"){const l=a===""?e:gE(e,a);l.classGroupId=t;return}if(typeof a=="function"){if(xI(a)){Dg(a(i),e,t,i);return}e.validators.push({validator:a,classGroupId:t});return}Object.entries(a).forEach(([l,c])=>{Dg(c,gE(e,l),t,i)})})},gE=(n,e)=>{let t=n;return e.split(Iy).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},xI=n=>n.isThemeGetter,TI=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const a=(l,c)=>{t.set(l,c),e++,e>n&&(e=0,i=t,t=new Map)};return{get(l){let c=t.get(l);if(c!==void 0)return c;if((c=i.get(l))!==void 0)return a(l,c),c},set(l,c){t.has(l)?t.set(l,c):a(l,c)}}},Og="!",kg=":",SI=kg.length,AI=n=>{const{prefix:e,experimentalParseClassName:t}=n;let i=a=>{const l=[];let c=0,f=0,m=0,p;for(let C=0;C<a.length;C++){let A=a[C];if(c===0&&f===0){if(A===kg){l.push(a.slice(m,C)),m=C+SI;continue}if(A==="/"){p=C;continue}}A==="["?c++:A==="]"?c--:A==="("?f++:A===")"&&f--}const v=l.length===0?a:a.substring(m),b=RI(v),E=b!==v,R=p&&p>m?p-m:void 0;return{modifiers:l,hasImportantModifier:E,baseClassName:b,maybePostfixModifierPosition:R}};if(e){const a=e+kg,l=i;i=c=>c.startsWith(a)?l(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(t){const a=i;i=l=>t({className:l,parseClassName:a})}return i},RI=n=>n.endsWith(Og)?n.substring(0,n.length-1):n.startsWith(Og)?n.substring(1):n,CI=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const a=[];let l=[];return i.forEach(c=>{c[0]==="["||e[c]?(a.push(...l.sort(),c),l=[]):l.push(c)}),a.push(...l.sort()),a}},II=n=>({cache:TI(n.cacheSize),parseClassName:AI(n),sortModifiers:CI(n),...bI(n)}),NI=/\s+/,DI=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],f=n.trim().split(NI);let m="";for(let p=f.length-1;p>=0;p-=1){const v=f[p],{isExternal:b,modifiers:E,hasImportantModifier:R,baseClassName:C,maybePostfixModifierPosition:A}=t(v);if(b){m=v+(m.length>0?" "+m:m);continue}let D=!!A,V=i(D?C.substring(0,A):C);if(!V){if(!D){m=v+(m.length>0?" "+m:m);continue}if(V=i(C),!V){m=v+(m.length>0?" "+m:m);continue}D=!1}const U=l(E).join(":"),z=R?U+Og:U,K=z+V;if(c.includes(K))continue;c.push(K);const Q=a(V,D);for(let ie=0;ie<Q.length;++ie){const N=Q[ie];c.push(z+N)}m=v+(m.length>0?" "+m:m)}return m};function OI(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Gx(e))&&(i&&(i+=" "),i+=t);return i}const Gx=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=Gx(n[i]))&&(t&&(t+=" "),t+=e);return t};function kI(n,...e){let t,i,a,l=c;function c(m){const p=e.reduce((v,b)=>b(v),n());return t=II(p),i=t.cache.get,a=t.cache.set,l=f,f(m)}function f(m){const p=i(m);if(p)return p;const v=DI(m,t);return a(m,v),v}return function(){return l(OI.apply(null,arguments))}}const Kt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},$x=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Yx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,MI=/^\d+\/\d+$/,PI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,VI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,LI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,UI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Go=n=>MI.test(n),Ue=n=>!!n&&!Number.isNaN(Number(n)),ws=n=>!!n&&Number.isInteger(Number(n)),ag=n=>n.endsWith("%")&&Ue(n.slice(0,-1)),Ni=n=>PI.test(n),BI=()=>!0,zI=n=>jI.test(n)&&!VI.test(n),Kx=()=>!1,FI=n=>LI.test(n),HI=n=>UI.test(n),qI=n=>!be(n)&&!Ee(n),GI=n=>Al(n,Wx,Kx),be=n=>$x.test(n),ka=n=>Al(n,Zx,zI),og=n=>Al(n,XI,Ue),yE=n=>Al(n,Qx,Kx),$I=n=>Al(n,Xx,HI),hf=n=>Al(n,Jx,FI),Ee=n=>Yx.test(n),Xu=n=>Rl(n,Zx),YI=n=>Rl(n,WI),vE=n=>Rl(n,Qx),KI=n=>Rl(n,Wx),QI=n=>Rl(n,Xx),mf=n=>Rl(n,Jx,!0),Al=(n,e,t)=>{const i=$x.exec(n);return i?i[1]?e(i[1]):t(i[2]):!1},Rl=(n,e,t=!1)=>{const i=Yx.exec(n);return i?i[1]?e(i[1]):t:!1},Qx=n=>n==="position"||n==="percentage",Xx=n=>n==="image"||n==="url",Wx=n=>n==="length"||n==="size"||n==="bg-size",Zx=n=>n==="length",XI=n=>n==="number",WI=n=>n==="family-name",Jx=n=>n==="shadow",ZI=()=>{const n=Kt("color"),e=Kt("font"),t=Kt("text"),i=Kt("font-weight"),a=Kt("tracking"),l=Kt("leading"),c=Kt("breakpoint"),f=Kt("container"),m=Kt("spacing"),p=Kt("radius"),v=Kt("shadow"),b=Kt("inset-shadow"),E=Kt("text-shadow"),R=Kt("drop-shadow"),C=Kt("blur"),A=Kt("perspective"),D=Kt("aspect"),V=Kt("ease"),U=Kt("animate"),z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Q=()=>[...K(),Ee,be],ie=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],S=()=>[Ee,be,m],k=()=>[Go,"full","auto",...S()],L=()=>[ws,"none","subgrid",Ee,be],P=()=>["auto",{span:["full",ws,Ee,be]},ws,Ee,be],j=()=>[ws,"auto",Ee,be],M=()=>["auto","min","max","fr",Ee,be],Z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],le=()=>["start","end","center","stretch","center-safe","end-safe"],q=()=>["auto",...S()],F=()=>[Go,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],G=()=>[n,Ee,be],he=()=>[...K(),vE,yE,{position:[Ee,be]}],B=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ne=()=>["auto","cover","contain",KI,GI,{size:[Ee,be]}],fe=()=>[ag,Xu,ka],se=()=>["","none","full",p,Ee,be],pe=()=>["",Ue,Xu,ka],Se=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],me=()=>[Ue,ag,vE,yE],Te=()=>["","none",C,Ee,be],We=()=>["none",Ue,Ee,be],Ve=()=>["none",Ue,Ee,be],Me=()=>[Ue,Ee,be],Pe=()=>[Go,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ni],breakpoint:[Ni],color:[BI],container:[Ni],"drop-shadow":[Ni],ease:["in","out","in-out"],font:[qI],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ni],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ni],shadow:[Ni],spacing:["px",Ue],text:[Ni],"text-shadow":[Ni],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Go,be,Ee,D]}],container:["container"],columns:[{columns:[Ue,be,Ee,f]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Q()}],overflow:[{overflow:ie()}],"overflow-x":[{"overflow-x":ie()}],"overflow-y":[{"overflow-y":ie()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[ws,"auto",Ee,be]}],basis:[{basis:[Go,"full","auto",f,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ue,Go,"auto","initial","none",be]}],grow:[{grow:["",Ue,Ee,be]}],shrink:[{shrink:["",Ue,Ee,be]}],order:[{order:[ws,"first","last","none",Ee,be]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":M()}],"auto-rows":[{"auto-rows":M()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...Z(),"normal"]}],"justify-items":[{"justify-items":[...le(),"normal"]}],"justify-self":[{"justify-self":["auto",...le()]}],"align-content":[{content:["normal",...Z()]}],"align-items":[{items:[...le(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...le(),{baseline:["","last"]}]}],"place-content":[{"place-content":Z()}],"place-items":[{"place-items":[...le(),"baseline"]}],"place-self":[{"place-self":["auto",...le()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:q()}],mx:[{mx:q()}],my:[{my:q()}],ms:[{ms:q()}],me:[{me:q()}],mt:[{mt:q()}],mr:[{mr:q()}],mb:[{mb:q()}],ml:[{ml:q()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:F()}],w:[{w:[f,"screen",...F()]}],"min-w":[{"min-w":[f,"screen","none",...F()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[c]},...F()]}],h:[{h:["screen","lh",...F()]}],"min-h":[{"min-h":["screen","lh","none",...F()]}],"max-h":[{"max-h":["screen","lh",...F()]}],"font-size":[{text:["base",t,Xu,ka]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Ee,og]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ag,be]}],"font-family":[{font:[YI,be,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ee,be]}],"line-clamp":[{"line-clamp":[Ue,"none",Ee,og]}],leading:[{leading:[l,...S()]}],"list-image":[{"list-image":["none",Ee,be]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ee,be]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ue,"from-font","auto",Ee,ka]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[Ue,"auto",Ee,be]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee,be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee,be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:he()}],"bg-repeat":[{bg:B()}],"bg-size":[{bg:ne()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ws,Ee,be],radial:["",Ee,be],conic:[ws,Ee,be]},QI,$I]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:fe()}],"gradient-via-pos":[{via:fe()}],"gradient-to-pos":[{to:fe()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:se()}],"rounded-s":[{"rounded-s":se()}],"rounded-e":[{"rounded-e":se()}],"rounded-t":[{"rounded-t":se()}],"rounded-r":[{"rounded-r":se()}],"rounded-b":[{"rounded-b":se()}],"rounded-l":[{"rounded-l":se()}],"rounded-ss":[{"rounded-ss":se()}],"rounded-se":[{"rounded-se":se()}],"rounded-ee":[{"rounded-ee":se()}],"rounded-es":[{"rounded-es":se()}],"rounded-tl":[{"rounded-tl":se()}],"rounded-tr":[{"rounded-tr":se()}],"rounded-br":[{"rounded-br":se()}],"rounded-bl":[{"rounded-bl":se()}],"border-w":[{border:pe()}],"border-w-x":[{"border-x":pe()}],"border-w-y":[{"border-y":pe()}],"border-w-s":[{"border-s":pe()}],"border-w-e":[{"border-e":pe()}],"border-w-t":[{"border-t":pe()}],"border-w-r":[{"border-r":pe()}],"border-w-b":[{"border-b":pe()}],"border-w-l":[{"border-l":pe()}],"divide-x":[{"divide-x":pe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":pe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Se(),"hidden","none"]}],"divide-style":[{divide:[...Se(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...Se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ue,Ee,be]}],"outline-w":[{outline:["",Ue,Xu,ka]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",v,mf,hf]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",b,mf,hf]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[Ue,ka]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":pe()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",E,mf,hf]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[Ue,Ee,be]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ue]}],"mask-image-linear-from-pos":[{"mask-linear-from":me()}],"mask-image-linear-to-pos":[{"mask-linear-to":me()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":me()}],"mask-image-t-to-pos":[{"mask-t-to":me()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":me()}],"mask-image-r-to-pos":[{"mask-r-to":me()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":me()}],"mask-image-b-to-pos":[{"mask-b-to":me()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":me()}],"mask-image-l-to-pos":[{"mask-l-to":me()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":me()}],"mask-image-x-to-pos":[{"mask-x-to":me()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":me()}],"mask-image-y-to-pos":[{"mask-y-to":me()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[Ee,be]}],"mask-image-radial-from-pos":[{"mask-radial-from":me()}],"mask-image-radial-to-pos":[{"mask-radial-to":me()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":K()}],"mask-image-conic-pos":[{"mask-conic":[Ue]}],"mask-image-conic-from-pos":[{"mask-conic-from":me()}],"mask-image-conic-to-pos":[{"mask-conic-to":me()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:he()}],"mask-repeat":[{mask:B()}],"mask-size":[{mask:ne()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ee,be]}],filter:[{filter:["","none",Ee,be]}],blur:[{blur:Te()}],brightness:[{brightness:[Ue,Ee,be]}],contrast:[{contrast:[Ue,Ee,be]}],"drop-shadow":[{"drop-shadow":["","none",R,mf,hf]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",Ue,Ee,be]}],"hue-rotate":[{"hue-rotate":[Ue,Ee,be]}],invert:[{invert:["",Ue,Ee,be]}],saturate:[{saturate:[Ue,Ee,be]}],sepia:[{sepia:["",Ue,Ee,be]}],"backdrop-filter":[{"backdrop-filter":["","none",Ee,be]}],"backdrop-blur":[{"backdrop-blur":Te()}],"backdrop-brightness":[{"backdrop-brightness":[Ue,Ee,be]}],"backdrop-contrast":[{"backdrop-contrast":[Ue,Ee,be]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ue,Ee,be]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ue,Ee,be]}],"backdrop-invert":[{"backdrop-invert":["",Ue,Ee,be]}],"backdrop-opacity":[{"backdrop-opacity":[Ue,Ee,be]}],"backdrop-saturate":[{"backdrop-saturate":[Ue,Ee,be]}],"backdrop-sepia":[{"backdrop-sepia":["",Ue,Ee,be]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ee,be]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ue,"initial",Ee,be]}],ease:[{ease:["linear","initial",V,Ee,be]}],delay:[{delay:[Ue,Ee,be]}],animate:[{animate:["none",U,Ee,be]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[A,Ee,be]}],"perspective-origin":[{"perspective-origin":Q()}],rotate:[{rotate:We()}],"rotate-x":[{"rotate-x":We()}],"rotate-y":[{"rotate-y":We()}],"rotate-z":[{"rotate-z":We()}],scale:[{scale:Ve()}],"scale-x":[{"scale-x":Ve()}],"scale-y":[{"scale-y":Ve()}],"scale-z":[{"scale-z":Ve()}],"scale-3d":["scale-3d"],skew:[{skew:Me()}],"skew-x":[{"skew-x":Me()}],"skew-y":[{"skew-y":Me()}],transform:[{transform:[Ee,be,"","none","gpu","cpu"]}],"transform-origin":[{origin:Q()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Pe()}],"translate-x":[{"translate-x":Pe()}],"translate-y":[{"translate-y":Pe()}],"translate-z":[{"translate-z":Pe()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee,be]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee,be]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[Ue,Xu,ka,og]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},JI=kI(ZI);function Ft(...n){return JI(Hx(n))}const eN=Cy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function qe({className:n,variant:e,size:t,asChild:i=!1,...a}){const l=i?zx:"button";return y.jsx(l,{"data-slot":"button",className:Ft(eN({variant:e,size:t,className:n})),...a})}function At({className:n,...e}){return y.jsx("div",{"data-slot":"card",className:Ft("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...e})}function Bt({className:n,...e}){return y.jsx("div",{"data-slot":"card-header",className:Ft("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function zt({className:n,...e}){return y.jsx("div",{"data-slot":"card-title",className:Ft("leading-none font-semibold",n),...e})}function br({className:n,...e}){return y.jsx("div",{"data-slot":"card-description",className:Ft("text-muted-foreground text-sm",n),...e})}function Rt({className:n,...e}){return y.jsx("div",{"data-slot":"card-content",className:Ft("px-6",n),...e})}const tN=Cy("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Ls({className:n,variant:e,asChild:t=!1,...i}){const a=t?zx:"span";return y.jsx(a,{"data-slot":"badge",className:Ft(tN({variant:e}),n),...i})}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rN=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),_E=n=>{const e=rN(n);return e.charAt(0).toUpperCase()+e.slice(1)},eT=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),iN=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=T.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...f},m)=>T.createElement("svg",{ref:m,...sN,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:eT("lucide",a),...!l&&!iN(f)&&{"aria-hidden":"true"},...f},[...c.map(([p,v])=>T.createElement(p,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=(n,e)=>{const t=T.forwardRef(({className:i,...a},l)=>T.createElement(aN,{ref:l,iconNode:e,className:eT(`lucide-${nN(_E(n))}`,`lucide-${n}`,i),...a}));return t.displayName=_E(n),t};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],lN=et("bot",oN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],tT=et("calendar",uN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],dN=et("chart-pie",cN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],nT=et("check",fN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],rT=et("chevron-down",hN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],pN=et("chevron-up",mN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],bE=et("circle-alert",gN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vN=et("circle-check-big",yN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]],bN=et("cog",_N);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],iT=et("credit-card",EN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],dl=et("dollar-sign",wN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],TN=et("download",xN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Mg=et("eye-off",SN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Pg=et("eye",AN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],CN=et("file-text",RN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],NN=et("house",IN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],EE=et("log-out",DN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],kN=et("menu",ON);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],qf=et("plus",MN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],jN=et("save",PN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],LN=et("smartphone",VN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],BN=et("square-check-big",UN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],fc=et("square-pen",zN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],HN=et("square",FN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Ny=et("tag",qN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],$N=et("target",GN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Gf=et("trash-2",YN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],QN=et("trending-down",KN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],sT=et("upload",XN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ZN=et("users",WN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],aT=et("x",JN);/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=()=>{};var wE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},t3=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],f=n[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},lT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,f=c?n[a+1]:0,m=a+2<n.length,p=m?n[a+2]:0,v=l>>2,b=(l&3)<<4|f>>4;let E=(f&15)<<2|p>>6,R=p&63;m||(R=64,c||(E=64)),i.push(t[v],t[b],t[E],t[R])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(oT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):t3(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const b=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||f==null||p==null||b==null)throw new n3;const E=l<<2|f>>4;if(i.push(E),p!==64){const R=f<<4&240|p>>2;if(i.push(R),b!==64){const C=p<<6&192|b;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class n3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r3=function(n){const e=oT(n);return lT.encodeByteArray(e,!0)},$f=function(n){return r3(n).replace(/\./g,"")},uT=function(n){try{return lT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=()=>i3().__FIREBASE_DEFAULTS__,a3=()=>{if(typeof process>"u"||typeof wE>"u")return;const n=wE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},o3=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&uT(n[1]);return e&&JSON.parse(e)},wh=()=>{try{return e3()||s3()||a3()||o3()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},cT=n=>{var e,t;return(t=(e=wh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},l3=n=>{const e=cT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},dT=()=>{var n;return(n=wh())===null||n===void 0?void 0:n.config},fT=n=>{var e;return(e=wh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(n){return n.endsWith(".cloudworkstations.dev")}async function hT(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[$f(JSON.stringify(t)),$f(JSON.stringify(c)),""].join(".")}const ic={};function d3(){const n={prod:[],emulator:[]};for(const e of Object.keys(ic))ic[e]?n.emulator.push(e):n.prod.push(e);return n}function f3(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let xE=!1;function mT(n,e){if(typeof window>"u"||typeof document>"u"||!Cl(window.location.host)||ic[n]===e||ic[n]||xE)return;ic[n]=e;function t(E){return`__firebase__banner__${E}`}const i="__firebase__banner",l=d3().prod.length>0;function c(){const E=document.getElementById(i);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,R){E.setAttribute("width","24"),E.setAttribute("id",R),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{xE=!0,c()},E}function v(E,R){E.setAttribute("id",R),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function b(){const E=f3(i),R=t("text"),C=document.getElementById(R)||document.createElement("span"),A=t("learnmore"),D=document.getElementById(A)||document.createElement("a"),V=t("preprendIcon"),U=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const z=E.element;f(z),v(D,A);const K=p();m(U,V),z.append(U,C,D,K),document.body.appendChild(z)}l?(C.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function m3(){var n;const e=(n=wh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function p3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function g3(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function y3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function v3(){const n=xn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function _3(){return!m3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b3(){try{return typeof indexedDB=="object"}catch{return!1}}function E3(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3="FirebaseError";class $i extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=w3,Object.setPrototypeOf(this,$i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rc.prototype.create)}}class Rc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?x3(l,i):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new $i(a,f,i)}}function x3(n,e){return n.replace(T3,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const T3=/\{\$([^}]+)}/g;function S3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function La(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(TE(l)&&TE(c)){if(!La(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function TE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Wu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Zu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function A3(n,e){const t=new R3(n,e);return t.subscribe.bind(t)}class R3{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");C3(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=lg),a.error===void 0&&(a.error=lg),a.complete===void 0&&(a.complete=lg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function C3(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function lg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(n){return n&&n._delegate?n._delegate:n}class Ua{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new u3;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(D3(e))try{this.getOrInitializeService({instanceIdentifier:Pa})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pa){return this.instances.has(e)}getOptions(e=Pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:N3(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Pa){return this.component?this.component.multipleInstances?e:Pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function N3(n){return n===Pa?void 0:n}function D3(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new I3(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ge||(Ge={}));const k3={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},M3=Ge.INFO,P3={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},j3=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=P3[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dy{constructor(e){this.name=e,this._logLevel=M3,this._logHandler=j3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const V3=(n,e)=>e.some(t=>n instanceof t);let SE,AE;function L3(){return SE||(SE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U3(){return AE||(AE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pT=new WeakMap,jg=new WeakMap,gT=new WeakMap,ug=new WeakMap,Oy=new WeakMap;function B3(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Ds(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&pT.set(t,n)}).catch(()=>{}),Oy.set(e,n),e}function z3(n){if(jg.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});jg.set(n,e)}let Vg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return jg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||gT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ds(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function F3(n){Vg=n(Vg)}function H3(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(cg(this),e,...t);return gT.set(i,e.sort?e.sort():[e]),Ds(i)}:U3().includes(n)?function(...e){return n.apply(cg(this),e),Ds(pT.get(this))}:function(...e){return Ds(n.apply(cg(this),e))}}function q3(n){return typeof n=="function"?H3(n):(n instanceof IDBTransaction&&z3(n),V3(n,L3())?new Proxy(n,Vg):n)}function Ds(n){if(n instanceof IDBRequest)return B3(n);if(ug.has(n))return ug.get(n);const e=q3(n);return e!==n&&(ug.set(n,e),Oy.set(e,n)),e}const cg=n=>Oy.get(n);function G3(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),f=Ds(c);return i&&c.addEventListener("upgradeneeded",m=>{i(Ds(c.result),m.oldVersion,m.newVersion,Ds(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const $3=["get","getKey","getAll","getAllKeys","count"],Y3=["put","add","delete","clear"],dg=new Map;function RE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(dg.get(e))return dg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=Y3.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||$3.includes(t)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(f.shift())),(await Promise.all([p[t](...f),a&&m.done]))[0]};return dg.set(e,l),l}F3(n=>({...n,get:(e,t,i)=>RE(e,t)||n.get(e,t,i),has:(e,t)=>!!RE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Q3(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Q3(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lg="@firebase/app",CE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new Dy("@firebase/app"),X3="@firebase/app-compat",W3="@firebase/analytics-compat",Z3="@firebase/analytics",J3="@firebase/app-check-compat",eD="@firebase/app-check",tD="@firebase/auth",nD="@firebase/auth-compat",rD="@firebase/database",iD="@firebase/data-connect",sD="@firebase/database-compat",aD="@firebase/functions",oD="@firebase/functions-compat",lD="@firebase/installations",uD="@firebase/installations-compat",cD="@firebase/messaging",dD="@firebase/messaging-compat",fD="@firebase/performance",hD="@firebase/performance-compat",mD="@firebase/remote-config",pD="@firebase/remote-config-compat",gD="@firebase/storage",yD="@firebase/storage-compat",vD="@firebase/firestore",_D="@firebase/ai",bD="@firebase/firestore-compat",ED="firebase",wD="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="[DEFAULT]",xD={[Lg]:"fire-core",[X3]:"fire-core-compat",[Z3]:"fire-analytics",[W3]:"fire-analytics-compat",[eD]:"fire-app-check",[J3]:"fire-app-check-compat",[tD]:"fire-auth",[nD]:"fire-auth-compat",[rD]:"fire-rtdb",[iD]:"fire-data-connect",[sD]:"fire-rtdb-compat",[aD]:"fire-fn",[oD]:"fire-fn-compat",[lD]:"fire-iid",[uD]:"fire-iid-compat",[cD]:"fire-fcm",[dD]:"fire-fcm-compat",[fD]:"fire-perf",[hD]:"fire-perf-compat",[mD]:"fire-rc",[pD]:"fire-rc-compat",[gD]:"fire-gcs",[yD]:"fire-gcs-compat",[vD]:"fire-fst",[bD]:"fire-fst-compat",[_D]:"fire-vertex","fire-js":"fire-js",[ED]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=new Map,TD=new Map,Bg=new Map;function IE(n,e){try{n.container.addComponent(e)}catch(t){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function fl(n){const e=n.name;if(Bg.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;Bg.set(e,n);for(const t of Yf.values())IE(t,n);for(const t of TD.values())IE(t,n);return!0}function ky(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function sr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Os=new Rc("app","Firebase",SD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=wD;function yT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Ug,automaticDataCollectionEnabled:!0},e),a=i.name;if(typeof a!="string"||!a)throw Os.create("bad-app-name",{appName:String(a)});if(t||(t=dT()),!t)throw Os.create("no-options");const l=Yf.get(a);if(l){if(La(t,l.options)&&La(i,l.config))return l;throw Os.create("duplicate-app",{appName:a})}const c=new O3(a);for(const m of Bg.values())c.addComponent(m);const f=new AD(t,i,c);return Yf.set(a,f),f}function vT(n=Ug){const e=Yf.get(n);if(!e&&n===Ug&&dT())return yT();if(!e)throw Os.create("no-app",{appName:n});return e}function ks(n,e,t){var i;let a=(i=xD[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(f.join(" "));return}fl(new Ua(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="firebase-heartbeat-database",CD=1,hc="firebase-heartbeat-store";let fg=null;function _T(){return fg||(fg=G3(RD,CD,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(hc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Os.create("idb-open",{originalErrorMessage:n.message})})),fg}async function ID(n){try{const t=(await _T()).transaction(hc),i=await t.objectStore(hc).get(bT(n));return await t.done,i}catch(e){if(e instanceof $i)Ui.warn(e.message);else{const t=Os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ui.warn(t.message)}}}async function NE(n,e){try{const i=(await _T()).transaction(hc,"readwrite");await i.objectStore(hc).put(e,bT(n)),await i.done}catch(t){if(t instanceof $i)Ui.warn(t.message);else{const i=Os.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ui.warn(i.message)}}}function bT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=1024,DD=30;class OD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new MD(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=DE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>DD){const c=PD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ui.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=DE(),{heartbeatsToSend:i,unsentEntries:a}=kD(this._heartbeatsCache.heartbeats),l=$f(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ui.warn(t),""}}}function DE(){return new Date().toISOString().substring(0,10)}function kD(n,e=ND){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),OE(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),OE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class MD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return b3()?E3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ID(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return NE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return NE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function OE(n){return $f(JSON.stringify({version:2,heartbeats:n})).length}function PD(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(n){fl(new Ua("platform-logger",e=>new K3(e),"PRIVATE")),fl(new Ua("heartbeat",e=>new OD(e),"PRIVATE")),ks(Lg,CE,n),ks(Lg,CE,"esm2017"),ks("fire-js","")}jD("");var Kr=function(){return Kr=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},Kr.apply(this,arguments)};function Ic(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function VD(n,e,t){if(t||arguments.length===2)for(var i=0,a=e.length,l;i<a;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return n.concat(l||Array.prototype.slice.call(e))}function ET(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LD=ET,wT=new Rc("auth","Firebase",ET());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf=new Dy("@firebase/auth");function UD(n,...e){Kf.logLevel<=Ge.WARN&&Kf.warn(`Auth (${Il}): ${n}`,...e)}function Nf(n,...e){Kf.logLevel<=Ge.ERROR&&Kf.error(`Auth (${Il}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(n,...e){throw My(n,...e)}function Qr(n,...e){return My(n,...e)}function xT(n,e,t){const i=Object.assign(Object.assign({},LD()),{[e]:t});return new Rc("auth","Firebase",i).create(e,{appName:n.name})}function Mi(n){return xT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function My(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return wT.create(n,...e)}function Ie(n,e,...t){if(!n)throw My(e,...t)}function Di(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Nf(e),new Error(e)}function Bi(n,e){n||Di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function BD(){return kE()==="http:"||kE()==="https:"}function kE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BD()||g3()||"connection"in navigator)?navigator.onLine:!0}function FD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Bi(t>e,"Short delay should be less than long delay!"),this.isMobile=h3()||y3()}get(){return zD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(n,e){Bi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GD=new Nc(3e4,6e4);function Ys(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Yi(n,e,t,i,a={}){return ST(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=Cc(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:m},l);return p3()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Cl(n.emulatorConfig.host)&&(p.credentials="include"),TT.fetch()(await AT(n,n.config.apiHost,t,f),p)})}async function ST(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},HD),e);try{const a=new YD(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw pf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw pf(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw pf(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw pf(n,"user-disabled",c);const v=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw xT(n,v,p);Er(n,v)}}catch(a){if(a instanceof $i)throw a;Er(n,"network-request-failed",{message:String(a)})}}async function Dc(n,e,t,i,a={}){const l=await Yi(n,e,t,i,a);return"mfaPendingCredential"in l&&Er(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function AT(n,e,t,i){const a=`${e}${t}?${i}`,l=n,c=l.config.emulator?Py(n.config,a):`${n.config.apiScheme}://${a}`;return qD.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function $D(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Qr(this.auth,"network-request-failed")),GD.get())})}}function pf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=Qr(n,e,i);return a.customData._tokenResponse=t,a}function ME(n){return n!==void 0&&n.enterprise!==void 0}class KD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return $D(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QD(n,e){return Yi(n,"GET","/v2/recaptchaConfig",Ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XD(n,e){return Yi(n,"POST","/v1/accounts:delete",e)}async function Qf(n,e){return Yi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WD(n,e=!1){const t=Xt(n),i=await t.getIdToken(e),a=jy(i);Ie(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:sc(hg(a.auth_time)),issuedAtTime:sc(hg(a.iat)),expirationTime:sc(hg(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function hg(n){return Number(n)*1e3}function jy(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Nf("JWT malformed, contained fewer than 3 sections"),null;try{const a=uT(t);return a?JSON.parse(a):(Nf("Failed to decode base64 JWT payload"),null)}catch(a){return Nf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function PE(n){const e=jy(n);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof $i&&ZD(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function ZD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=sc(this.lastLoginAt),this.creationTime=sc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xf(n){var e;const t=n.auth,i=await n.getIdToken(),a=await hl(n,Qf(t,{idToken:i}));Ie(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?RT(l.providerUserInfo):[],f=tO(n.providerData,c),m=n.isAnonymous,p=!(n.email&&l.passwordHash)&&!(f!=null&&f.length),v=m?p:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Fg(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,b)}async function eO(n){const e=Xt(n);await Xf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tO(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function RT(n){return n.map(e=>{var{providerId:t}=e,i=Ic(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(n,e){const t=await ST(n,{},async()=>{const i=Cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await AT(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:i};return n.emulatorConfig&&Cl(n.emulatorConfig.host)&&(m.credentials="include"),TT.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function rO(n,e){return Yi(n,"POST","/v2/accounts:revokeToken",Ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=PE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await nO(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new il;return i&&(Ie(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ie(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ie(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(n,e){Ie(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class gr{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=Ic(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Fg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await hl(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return WD(this,e)}reload(){return eO(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Xf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sr(this.auth.app))return Promise.reject(Mi(this.auth));const e=await this.getIdToken();return await hl(this,XD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,c,f,m,p,v;const b=(i=t.displayName)!==null&&i!==void 0?i:void 0,E=(a=t.email)!==null&&a!==void 0?a:void 0,R=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,C=(c=t.photoURL)!==null&&c!==void 0?c:void 0,A=(f=t.tenantId)!==null&&f!==void 0?f:void 0,D=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,V=(p=t.createdAt)!==null&&p!==void 0?p:void 0,U=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:z,emailVerified:K,isAnonymous:Q,providerData:ie,stsTokenManager:N}=t;Ie(z&&N,e,"internal-error");const S=il.fromJSON(this.name,N);Ie(typeof z=="string",e,"internal-error"),xs(b,e.name),xs(E,e.name),Ie(typeof K=="boolean",e,"internal-error"),Ie(typeof Q=="boolean",e,"internal-error"),xs(R,e.name),xs(C,e.name),xs(A,e.name),xs(D,e.name),xs(V,e.name),xs(U,e.name);const k=new gr({uid:z,auth:e,email:E,emailVerified:K,displayName:b,isAnonymous:Q,photoURL:C,phoneNumber:R,tenantId:A,stsTokenManager:S,createdAt:V,lastLoginAt:U});return ie&&Array.isArray(ie)&&(k.providerData=ie.map(L=>Object.assign({},L))),D&&(k._redirectEventId=D),k}static async _fromIdTokenResponse(e,t,i=!1){const a=new il;a.updateFromServerResponse(t);const l=new gr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Xf(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Ie(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?RT(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new il;f.updateFromIdToken(i);const m=new gr({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Fg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=new Map;function Oi(n){Bi(n instanceof Function,"Expected a class definition");let e=jE.get(n);return e?(Bi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,jE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}CT.type="NONE";const VE=CT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(n,e,t){return`firebase:${n}:${e}:${t}`}class sl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Df(this.userKey,a.apiKey,l),this.fullPersistenceKey=Df("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Qf(this.auth,{idToken:e}).catch(()=>{});return t?gr._fromGetAccountInfoResponse(this.auth,t,e):null}return gr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new sl(Oi(VE),e,i);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Oi(VE);const c=Df(i,e.config.apiKey,e.name);let f=null;for(const p of t)try{const v=await p._get(c);if(v){let b;if(typeof v=="string"){const E=await Qf(e,{idToken:v}).catch(()=>{});if(!E)break;b=await gr._fromGetAccountInfoResponse(e,E,v)}else b=gr._fromJSON(e,v);p!==l&&(f=b),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new sl(l,e,i):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new sl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MT(e))return"Blackberry";if(PT(e))return"Webos";if(NT(e))return"Safari";if((e.includes("chrome/")||DT(e))&&!e.includes("edge/"))return"Chrome";if(kT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function IT(n=xn()){return/firefox\//i.test(n)}function NT(n=xn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DT(n=xn()){return/crios\//i.test(n)}function OT(n=xn()){return/iemobile/i.test(n)}function kT(n=xn()){return/android/i.test(n)}function MT(n=xn()){return/blackberry/i.test(n)}function PT(n=xn()){return/webos/i.test(n)}function Vy(n=xn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function iO(n=xn()){var e;return Vy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sO(){return v3()&&document.documentMode===10}function jT(n=xn()){return Vy(n)||kT(n)||PT(n)||MT(n)||/windows phone/i.test(n)||OT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(n,e=[]){let t;switch(n){case"Browser":t=LE(xn());break;case"Worker":t=`${LE(xn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Il}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(n,e={}){return Yi(n,"GET","/v2/passwordPolicy",Ys(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=6;class uO{constructor(e){var t,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:lO,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,c,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(i=m.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UE(this),this.idTokenSubscription=new UE(this),this.beforeStateQueue=new aO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Oi(t)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await sl.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Qf(this,{idToken:e}),i=await gr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(sr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Xf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sr(this.app))return Promise.reject(Mi(this));const t=e?Xt(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sr(this.app)?Promise.reject(Mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sr(this.app)?Promise.reject(Mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oO(this),t=new uO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await rO(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Oi(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await sl.create(this,[Oi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&UD(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ka(n){return Xt(n)}class UE{constructor(e){this.auth=e,this.observer=null,this.addObserver=A3(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dO(n){xh=n}function LT(n){return xh.loadJS(n)}function fO(){return xh.recaptchaEnterpriseScript}function hO(){return xh.gapiScript}function mO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class pO{constructor(){this.enterprise=new gO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class gO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const yO="recaptcha-enterprise",UT="NO_RECAPTCHA";class vO{constructor(e){this.type=yO,this.auth=Ka(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{QD(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new KD(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;ME(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(UT)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pO().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(f=>{if(!t&&ME(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=fO();m.length!==0&&(m+=f),LT(m).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function BE(n,e,t,i=!1,a=!1){const l=new vO(n);let c;if(a)c=UT;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Hg(n,e,t,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await BE(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await BE(n,e,t,t==="getOobCode");return i(n,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(n,e){const t=ky(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(La(l,e??{}))return a;Er(a,"already-initialized")}return t.initialize({options:e})}function bO(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Oi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function EO(n,e,t){const i=Ka(n);Ie(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=BT(e),{host:c,port:f}=wO(e),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ie(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ie(La(p,i.config.emulator)&&La(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,Cl(c)?(hT(`${l}//${c}${m}`),mT("Auth",!0)):xO()}function BT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function wO(n){const e=BT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:zE(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:zE(c)}}}function zE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function xO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Di("not implemented")}_getIdTokenResponse(e){return Di("not implemented")}_linkToIdToken(e,t){return Di("not implemented")}_getReauthenticationResolver(e){return Di("not implemented")}}async function TO(n,e){return Yi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SO(n,e){return Dc(n,"POST","/v1/accounts:signInWithPassword",Ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AO(n,e){return Dc(n,"POST","/v1/accounts:signInWithEmailLink",Ys(n,e))}async function RO(n,e){return Dc(n,"POST","/v1/accounts:signInWithEmailLink",Ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends Ly{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new mc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new mc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hg(e,t,"signInWithPassword",SO);case"emailLink":return AO(e,{email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hg(e,i,"signUpPassword",TO);case"emailLink":return RO(e,{idToken:t,email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(n,e){return Dc(n,"POST","/v1/accounts:signInWithIdp",Ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO="http://localhost";class Ba extends Ly{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Er("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=Ic(t,["providerId","signInMethod"]);if(!i||!a)return null;const c=new Ba(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return al(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,al(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,al(e,t)}buildRequest(){const e={requestUri:CO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Cc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NO(n){const e=Wu(Zu(n)).link,t=e?Wu(Zu(e)).deep_link_id:null,i=Wu(Zu(n)).deep_link_id;return(i?Wu(Zu(i)).link:null)||i||t||e||n}class Uy{constructor(e){var t,i,a,l,c,f;const m=Wu(Zu(e)),p=(t=m.apiKey)!==null&&t!==void 0?t:null,v=(i=m.oobCode)!==null&&i!==void 0?i:null,b=IO((a=m.mode)!==null&&a!==void 0?a:null);Ie(p&&v&&b,"argument-error"),this.apiKey=p,this.operation=b,this.code=v,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=NO(e);try{return new Uy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.providerId=Nl.PROVIDER_ID}static credential(e,t){return mc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Uy.parseLink(t);return Ie(i,"argument-error"),mc._fromEmailAndCode(e,i.code,i.tenantId)}}Nl.PROVIDER_ID="password";Nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends zT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Oc{constructor(){super("facebook.com")}static credential(e){return Ba._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.FACEBOOK_SIGN_IN_METHOD="facebook.com";As.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Oc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ba._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Rs.credential(t,i)}catch{return null}}}Rs.GOOGLE_SIGN_IN_METHOD="google.com";Rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Oc{constructor(){super("github.com")}static credential(e){return Ba._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.GITHUB_SIGN_IN_METHOD="github.com";Cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Oc{constructor(){super("twitter.com")}static credential(e,t){return Ba._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Is.credential(t,i)}catch{return null}}}Is.TWITTER_SIGN_IN_METHOD="twitter.com";Is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(n,e){return Dc(n,"POST","/v1/accounts:signUp",Ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await gr._fromIdTokenResponse(e,i,a),c=FE(i);return new za({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=FE(i);return new za({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function FE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf extends $i{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Wf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Wf(e,t,i,a)}}function FT(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Wf._fromErrorAndOperation(n,l,e,i):l})}async function OO(n,e,t=!1){const i=await hl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return za._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kO(n,e,t=!1){const{auth:i}=n;if(sr(i.app))return Promise.reject(Mi(i));const a="reauthenticate";try{const l=await hl(n,FT(i,a,e,n),t);Ie(l.idToken,i,"internal-error");const c=jy(l.idToken);Ie(c,i,"internal-error");const{sub:f}=c;return Ie(n.uid===f,i,"user-mismatch"),za._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Er(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HT(n,e,t=!1){if(sr(n.app))return Promise.reject(Mi(n));const i="signIn",a=await FT(n,i,e),l=await za._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function MO(n,e){return HT(Ka(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qT(n){const e=Ka(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function PO(n,e,t){if(sr(n.app))return Promise.reject(Mi(n));const i=Ka(n),c=await Hg(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DO).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&qT(n),m}),f=await za._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(f.user),f}function jO(n,e,t){return sr(n.app)?Promise.reject(Mi(n)):MO(Xt(n),Nl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&qT(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(n,e){return Yi(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Xt(n),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await hl(i,VO(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const f=i.providerData.find(({providerId:m})=>m==="password");f&&(f.displayName=i.displayName,f.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function UO(n,e,t,i){return Xt(n).onIdTokenChanged(e,t,i)}function BO(n,e,t){return Xt(n).beforeAuthStateChanged(e,t)}function zO(n,e,t,i){return Xt(n).onAuthStateChanged(e,t,i)}function FO(n){return Xt(n).signOut()}const Zf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zf,"1"),this.storage.removeItem(Zf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=1e3,qO=10;class $T extends GT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);sO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,qO):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},HO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}$T.type="LOCAL";const GO=$T;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT extends GT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}YT.type="SESSION";const KT=YT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Th(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(c).map(async p=>p(t.origin,l)),m=await $O(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Th.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=By("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(b){const E=b;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(){return window}function KO(n){Xr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(){return typeof Xr().WorkerGlobalScope<"u"&&typeof Xr().importScripts=="function"}async function QO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XO(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function WO(){return QT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="firebaseLocalStorageDb",ZO=1,Jf="firebaseLocalStorage",WT="fbase_key";class kc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Sh(n,e){return n.transaction([Jf],e?"readwrite":"readonly").objectStore(Jf)}function JO(){const n=indexedDB.deleteDatabase(XT);return new kc(n).toPromise()}function qg(){const n=indexedDB.open(XT,ZO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Jf,{keyPath:WT})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Jf)?e(i):(i.close(),await JO(),e(await qg()))})})}async function HE(n,e,t){const i=Sh(n,!0).put({[WT]:e,value:t});return new kc(i).toPromise()}async function e6(n,e){const t=Sh(n,!1).get(e),i=await new kc(t).toPromise();return i===void 0?null:i.value}function qE(n,e){const t=Sh(n,!0).delete(e);return new kc(t).toPromise()}const t6=800,n6=3;class ZT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>n6)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Th._getInstance(WO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await QO(),!this.activeServiceWorker)return;this.sender=new YO(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qg();return await HE(e,Zf,"1"),await qE(e,Zf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>HE(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>e6(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>qE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Sh(a,!1).getAll();return new kc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),t6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZT.type="LOCAL";const r6=ZT;new Nc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(n,e){return e?Oi(e):(Ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy extends Ly{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return al(e,this._buildIdpRequest())}_linkToIdToken(e,t){return al(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return al(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function s6(n){return HT(n.auth,new zy(n),n.bypassAuthState)}function a6(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),kO(t,new zy(n),n.bypassAuthState)}async function o6(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),OO(t,new zy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return s6;case"linkViaPopup":case"linkViaRedirect":return o6;case"reauthViaPopup":case"reauthViaRedirect":return a6;default:Er(this.auth,"internal-error")}}resolve(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=new Nc(2e3,1e4);class Jo extends JT{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Jo.currentPopupAction&&Jo.currentPopupAction.cancel(),Jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Bi(this.filter.length===1,"Popup operations only handle one event");const e=By();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,l6.get())};e()}}Jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6="pendingRedirect",Of=new Map;class c6 extends JT{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Of.get(this.auth._key());if(!e){try{const i=await d6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Of.set(this.auth._key(),e)}return this.bypassAuthState||Of.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function d6(n,e){const t=m6(e),i=h6(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function f6(n,e){Of.set(n._key(),e)}function h6(n){return Oi(n._redirectPersistence)}function m6(n){return Df(u6,n.config.apiKey,n.name)}async function p6(n,e,t=!1){if(sr(n.app))return Promise.reject(Mi(n));const i=Ka(n),a=i6(i,e),c=await new c6(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=10*60*1e3;class y6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!v6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!eS(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Qr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=g6&&this.cachedEventUids.clear(),this.cachedEventUids.has(GE(e))}saveEventToCache(e){this.cachedEventUids.add(GE(e)),this.lastProcessedEventTime=Date.now()}}function GE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function eS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function v6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _6(n,e={}){return Yi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E6=/^https?/;async function w6(n){if(n.config.emulator)return;const{authorizedDomains:e}=await _6(n);for(const t of e)try{if(x6(t))return}catch{}Er(n,"unauthorized-domain")}function x6(n){const e=zg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!E6.test(t))return!1;if(b6.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=new Nc(3e4,6e4);function $E(){const n=Xr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function S6(n){return new Promise((e,t)=>{var i,a,l;function c(){$E(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$E(),t(Qr(n,"network-request-failed"))},timeout:T6.get()})}if(!((a=(i=Xr().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Xr().gapi)===null||l===void 0)&&l.load)c();else{const f=mO("iframefcb");return Xr()[f]=()=>{gapi.load?c():t(Qr(n,"network-request-failed"))},LT(`${hO()}?onload=${f}`).catch(m=>t(m))}}).catch(e=>{throw kf=null,e})}let kf=null;function A6(n){return kf=kf||S6(n),kf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=new Nc(5e3,15e3),C6="__/auth/iframe",I6="emulator/auth/iframe",N6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},D6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O6(n){const e=n.config;Ie(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Py(e,I6):`https://${n.config.authDomain}/${C6}`,i={apiKey:e.apiKey,appName:n.name,v:Il},a=D6.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Cc(i).slice(1)}`}async function k6(n){const e=await A6(n),t=Xr().gapi;return Ie(t,n,"internal-error"),e.open({where:document.body,url:O6(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N6,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Qr(n,"network-request-failed"),f=Xr().setTimeout(()=>{l(c)},R6.get());function m(){Xr().clearTimeout(f),a(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},P6=500,j6=600,V6="_blank",L6="http://localhost";class YE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function U6(n,e,t,i=P6,a=j6){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const m=Object.assign(Object.assign({},M6),{width:i.toString(),height:a.toString(),top:l,left:c}),p=xn().toLowerCase();t&&(f=DT(p)?V6:t),IT(p)&&(e=e||L6,m.scrollbars="yes");const v=Object.entries(m).reduce((E,[R,C])=>`${E}${R}=${C},`,"");if(iO(p)&&f!=="_self")return B6(e||"",f),new YE(null);const b=window.open(e||"",f,v);Ie(b,n,"popup-blocked");try{b.focus()}catch{}return new YE(b)}function B6(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6="__/auth/handler",F6="emulator/auth/handler",H6=encodeURIComponent("fac");async function KE(n,e,t,i,a,l){Ie(n.config.authDomain,n,"auth-domain-config-required"),Ie(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Il,eventId:a};if(e instanceof zT){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",S3(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof Oc){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const m=await n._getAppCheckToken(),p=m?`#${H6}=${encodeURIComponent(m)}`:"";return`${q6(n)}?${Cc(f).slice(1)}${p}`}function q6({config:n}){return n.emulator?Py(n,F6):`https://${n.authDomain}/${z6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="webStorageSupport";class G6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KT,this._completeRedirectFn=p6,this._overrideRedirectResult=f6}async _openPopup(e,t,i,a){var l;Bi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await KE(e,t,i,zg(),a);return U6(e,c,By())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await KE(e,t,i,zg(),a);return KO(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Bi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await k6(e),i=new y6(e);return t.register("authEvent",a=>(Ie(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(mg,{type:mg},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[mg];c!==void 0&&t(!!c),Er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=w6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return jT()||NT()||Vy()}}const $6=G6;var QE="@firebase/auth",XE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Q6(n){fl(new Ua("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Ie(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VT(n)},p=new cO(i,a,l,m);return bO(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),fl(new Ua("auth-internal",e=>{const t=Ka(e.getProvider("auth").getImmediate());return(i=>new Y6(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ks(QE,XE,K6(n)),ks(QE,XE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6=5*60,W6=fT("authIdTokenMaxAge")||X6;let WE=null;const Z6=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>W6)return;const a=t==null?void 0:t.token;WE!==a&&(WE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function J6(n=vT()){const e=ky(n,"auth");if(e.isInitialized())return e.getImmediate();const t=_O(n,{popupRedirectResolver:$6,persistence:[r6,GO,KT]}),i=fT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=Z6(l.toString());BO(t,c,()=>c(t.currentUser)),UO(t,f=>c(f))}}const a=cT("auth");return a&&EO(t,`http://${a}`),t}function ek(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}dO({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=Qr("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",ek().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Q6("Browser");var ZE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ms,tS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function k(){}k.prototype=S.prototype,N.D=S.prototype,N.prototype=new k,N.prototype.constructor=N,N.C=function(L,P,j){for(var M=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)M[Z-2]=arguments[Z];return S.prototype[P].apply(L,M)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,S,k){k||(k=0);var L=Array(16);if(typeof S=="string")for(var P=0;16>P;++P)L[P]=S.charCodeAt(k++)|S.charCodeAt(k++)<<8|S.charCodeAt(k++)<<16|S.charCodeAt(k++)<<24;else for(P=0;16>P;++P)L[P]=S[k++]|S[k++]<<8|S[k++]<<16|S[k++]<<24;S=N.g[0],k=N.g[1],P=N.g[2];var j=N.g[3],M=S+(j^k&(P^j))+L[0]+3614090360&4294967295;S=k+(M<<7&4294967295|M>>>25),M=j+(P^S&(k^P))+L[1]+3905402710&4294967295,j=S+(M<<12&4294967295|M>>>20),M=P+(k^j&(S^k))+L[2]+606105819&4294967295,P=j+(M<<17&4294967295|M>>>15),M=k+(S^P&(j^S))+L[3]+3250441966&4294967295,k=P+(M<<22&4294967295|M>>>10),M=S+(j^k&(P^j))+L[4]+4118548399&4294967295,S=k+(M<<7&4294967295|M>>>25),M=j+(P^S&(k^P))+L[5]+1200080426&4294967295,j=S+(M<<12&4294967295|M>>>20),M=P+(k^j&(S^k))+L[6]+2821735955&4294967295,P=j+(M<<17&4294967295|M>>>15),M=k+(S^P&(j^S))+L[7]+4249261313&4294967295,k=P+(M<<22&4294967295|M>>>10),M=S+(j^k&(P^j))+L[8]+1770035416&4294967295,S=k+(M<<7&4294967295|M>>>25),M=j+(P^S&(k^P))+L[9]+2336552879&4294967295,j=S+(M<<12&4294967295|M>>>20),M=P+(k^j&(S^k))+L[10]+4294925233&4294967295,P=j+(M<<17&4294967295|M>>>15),M=k+(S^P&(j^S))+L[11]+2304563134&4294967295,k=P+(M<<22&4294967295|M>>>10),M=S+(j^k&(P^j))+L[12]+1804603682&4294967295,S=k+(M<<7&4294967295|M>>>25),M=j+(P^S&(k^P))+L[13]+4254626195&4294967295,j=S+(M<<12&4294967295|M>>>20),M=P+(k^j&(S^k))+L[14]+2792965006&4294967295,P=j+(M<<17&4294967295|M>>>15),M=k+(S^P&(j^S))+L[15]+1236535329&4294967295,k=P+(M<<22&4294967295|M>>>10),M=S+(P^j&(k^P))+L[1]+4129170786&4294967295,S=k+(M<<5&4294967295|M>>>27),M=j+(k^P&(S^k))+L[6]+3225465664&4294967295,j=S+(M<<9&4294967295|M>>>23),M=P+(S^k&(j^S))+L[11]+643717713&4294967295,P=j+(M<<14&4294967295|M>>>18),M=k+(j^S&(P^j))+L[0]+3921069994&4294967295,k=P+(M<<20&4294967295|M>>>12),M=S+(P^j&(k^P))+L[5]+3593408605&4294967295,S=k+(M<<5&4294967295|M>>>27),M=j+(k^P&(S^k))+L[10]+38016083&4294967295,j=S+(M<<9&4294967295|M>>>23),M=P+(S^k&(j^S))+L[15]+3634488961&4294967295,P=j+(M<<14&4294967295|M>>>18),M=k+(j^S&(P^j))+L[4]+3889429448&4294967295,k=P+(M<<20&4294967295|M>>>12),M=S+(P^j&(k^P))+L[9]+568446438&4294967295,S=k+(M<<5&4294967295|M>>>27),M=j+(k^P&(S^k))+L[14]+3275163606&4294967295,j=S+(M<<9&4294967295|M>>>23),M=P+(S^k&(j^S))+L[3]+4107603335&4294967295,P=j+(M<<14&4294967295|M>>>18),M=k+(j^S&(P^j))+L[8]+1163531501&4294967295,k=P+(M<<20&4294967295|M>>>12),M=S+(P^j&(k^P))+L[13]+2850285829&4294967295,S=k+(M<<5&4294967295|M>>>27),M=j+(k^P&(S^k))+L[2]+4243563512&4294967295,j=S+(M<<9&4294967295|M>>>23),M=P+(S^k&(j^S))+L[7]+1735328473&4294967295,P=j+(M<<14&4294967295|M>>>18),M=k+(j^S&(P^j))+L[12]+2368359562&4294967295,k=P+(M<<20&4294967295|M>>>12),M=S+(k^P^j)+L[5]+4294588738&4294967295,S=k+(M<<4&4294967295|M>>>28),M=j+(S^k^P)+L[8]+2272392833&4294967295,j=S+(M<<11&4294967295|M>>>21),M=P+(j^S^k)+L[11]+1839030562&4294967295,P=j+(M<<16&4294967295|M>>>16),M=k+(P^j^S)+L[14]+4259657740&4294967295,k=P+(M<<23&4294967295|M>>>9),M=S+(k^P^j)+L[1]+2763975236&4294967295,S=k+(M<<4&4294967295|M>>>28),M=j+(S^k^P)+L[4]+1272893353&4294967295,j=S+(M<<11&4294967295|M>>>21),M=P+(j^S^k)+L[7]+4139469664&4294967295,P=j+(M<<16&4294967295|M>>>16),M=k+(P^j^S)+L[10]+3200236656&4294967295,k=P+(M<<23&4294967295|M>>>9),M=S+(k^P^j)+L[13]+681279174&4294967295,S=k+(M<<4&4294967295|M>>>28),M=j+(S^k^P)+L[0]+3936430074&4294967295,j=S+(M<<11&4294967295|M>>>21),M=P+(j^S^k)+L[3]+3572445317&4294967295,P=j+(M<<16&4294967295|M>>>16),M=k+(P^j^S)+L[6]+76029189&4294967295,k=P+(M<<23&4294967295|M>>>9),M=S+(k^P^j)+L[9]+3654602809&4294967295,S=k+(M<<4&4294967295|M>>>28),M=j+(S^k^P)+L[12]+3873151461&4294967295,j=S+(M<<11&4294967295|M>>>21),M=P+(j^S^k)+L[15]+530742520&4294967295,P=j+(M<<16&4294967295|M>>>16),M=k+(P^j^S)+L[2]+3299628645&4294967295,k=P+(M<<23&4294967295|M>>>9),M=S+(P^(k|~j))+L[0]+4096336452&4294967295,S=k+(M<<6&4294967295|M>>>26),M=j+(k^(S|~P))+L[7]+1126891415&4294967295,j=S+(M<<10&4294967295|M>>>22),M=P+(S^(j|~k))+L[14]+2878612391&4294967295,P=j+(M<<15&4294967295|M>>>17),M=k+(j^(P|~S))+L[5]+4237533241&4294967295,k=P+(M<<21&4294967295|M>>>11),M=S+(P^(k|~j))+L[12]+1700485571&4294967295,S=k+(M<<6&4294967295|M>>>26),M=j+(k^(S|~P))+L[3]+2399980690&4294967295,j=S+(M<<10&4294967295|M>>>22),M=P+(S^(j|~k))+L[10]+4293915773&4294967295,P=j+(M<<15&4294967295|M>>>17),M=k+(j^(P|~S))+L[1]+2240044497&4294967295,k=P+(M<<21&4294967295|M>>>11),M=S+(P^(k|~j))+L[8]+1873313359&4294967295,S=k+(M<<6&4294967295|M>>>26),M=j+(k^(S|~P))+L[15]+4264355552&4294967295,j=S+(M<<10&4294967295|M>>>22),M=P+(S^(j|~k))+L[6]+2734768916&4294967295,P=j+(M<<15&4294967295|M>>>17),M=k+(j^(P|~S))+L[13]+1309151649&4294967295,k=P+(M<<21&4294967295|M>>>11),M=S+(P^(k|~j))+L[4]+4149444226&4294967295,S=k+(M<<6&4294967295|M>>>26),M=j+(k^(S|~P))+L[11]+3174756917&4294967295,j=S+(M<<10&4294967295|M>>>22),M=P+(S^(j|~k))+L[2]+718787259&4294967295,P=j+(M<<15&4294967295|M>>>17),M=k+(j^(P|~S))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(P+(M<<21&4294967295|M>>>11))&4294967295,N.g[2]=N.g[2]+P&4294967295,N.g[3]=N.g[3]+j&4294967295}i.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var k=S-this.blockSize,L=this.B,P=this.h,j=0;j<S;){if(P==0)for(;j<=k;)a(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<S;)if(L[P++]=N.charCodeAt(j++),P==this.blockSize){a(this,L),P=0;break}}else for(;j<S;)if(L[P++]=N[j++],P==this.blockSize){a(this,L),P=0;break}}this.h=P,this.o+=S},i.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var k=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=k&255,k/=256;for(this.u(N),N=Array(16),S=k=0;4>S;++S)for(var L=0;32>L;L+=8)N[k++]=this.g[S]>>>L&255;return N};function l(N,S){var k=f;return Object.prototype.hasOwnProperty.call(k,N)?k[N]:k[N]=S(N)}function c(N,S){this.h=S;for(var k=[],L=!0,P=N.length-1;0<=P;P--){var j=N[P]|0;L&&j==S||(k[P]=j,L=!1)}this.g=k}var f={};function m(N){return-128<=N&&128>N?l(N,function(S){return new c([S|0],0>S?-1:0)}):new c([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return b;if(0>N)return D(p(-N));for(var S=[],k=1,L=0;N>=k;L++)S[L]=N/k|0,k*=4294967296;return new c(S,0)}function v(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return D(v(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(S,8)),L=b,P=0;P<N.length;P+=8){var j=Math.min(8,N.length-P),M=parseInt(N.substring(P,P+j),S);8>j?(j=p(Math.pow(S,j)),L=L.j(j).add(p(M))):(L=L.j(k),L=L.add(p(M)))}return L}var b=m(0),E=m(1),R=m(16777216);n=c.prototype,n.m=function(){if(A(this))return-D(this).m();for(var N=0,S=1,k=0;k<this.g.length;k++){var L=this.i(k);N+=(0<=L?L:4294967296+L)*S,S*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(C(this))return"0";if(A(this))return"-"+D(this).toString(N);for(var S=p(Math.pow(N,6)),k=this,L="";;){var P=K(k,S).g;k=V(k,P.j(S));var j=((0<k.g.length?k.g[0]:k.h)>>>0).toString(N);if(k=P,C(k))return j+L;for(;6>j.length;)j="0"+j;L=j+L}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function C(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function A(N){return N.h==-1}n.l=function(N){return N=V(this,N),A(N)?-1:C(N)?0:1};function D(N){for(var S=N.g.length,k=[],L=0;L<S;L++)k[L]=~N.g[L];return new c(k,~N.h).add(E)}n.abs=function(){return A(this)?D(this):this},n.add=function(N){for(var S=Math.max(this.g.length,N.g.length),k=[],L=0,P=0;P<=S;P++){var j=L+(this.i(P)&65535)+(N.i(P)&65535),M=(j>>>16)+(this.i(P)>>>16)+(N.i(P)>>>16);L=M>>>16,j&=65535,M&=65535,k[P]=M<<16|j}return new c(k,k[k.length-1]&-2147483648?-1:0)};function V(N,S){return N.add(D(S))}n.j=function(N){if(C(this)||C(N))return b;if(A(this))return A(N)?D(this).j(D(N)):D(D(this).j(N));if(A(N))return D(this.j(D(N)));if(0>this.l(R)&&0>N.l(R))return p(this.m()*N.m());for(var S=this.g.length+N.g.length,k=[],L=0;L<2*S;L++)k[L]=0;for(L=0;L<this.g.length;L++)for(var P=0;P<N.g.length;P++){var j=this.i(L)>>>16,M=this.i(L)&65535,Z=N.i(P)>>>16,le=N.i(P)&65535;k[2*L+2*P]+=M*le,U(k,2*L+2*P),k[2*L+2*P+1]+=j*le,U(k,2*L+2*P+1),k[2*L+2*P+1]+=M*Z,U(k,2*L+2*P+1),k[2*L+2*P+2]+=j*Z,U(k,2*L+2*P+2)}for(L=0;L<S;L++)k[L]=k[2*L+1]<<16|k[2*L];for(L=S;L<2*S;L++)k[L]=0;return new c(k,0)};function U(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function z(N,S){this.g=N,this.h=S}function K(N,S){if(C(S))throw Error("division by zero");if(C(N))return new z(b,b);if(A(N))return S=K(D(N),S),new z(D(S.g),D(S.h));if(A(S))return S=K(N,D(S)),new z(D(S.g),S.h);if(30<N.g.length){if(A(N)||A(S))throw Error("slowDivide_ only works with positive integers.");for(var k=E,L=S;0>=L.l(N);)k=Q(k),L=Q(L);var P=ie(k,1),j=ie(L,1);for(L=ie(L,2),k=ie(k,2);!C(L);){var M=j.add(L);0>=M.l(N)&&(P=P.add(k),j=M),L=ie(L,1),k=ie(k,1)}return S=V(N,P.j(S)),new z(P,S)}for(P=b;0<=N.l(S);){for(k=Math.max(1,Math.floor(N.m()/S.m())),L=Math.ceil(Math.log(k)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),j=p(k),M=j.j(S);A(M)||0<M.l(N);)k-=L,j=p(k),M=j.j(S);C(j)&&(j=E),P=P.add(j),N=V(N,M)}return new z(P,N)}n.A=function(N){return K(this,N).h},n.and=function(N){for(var S=Math.max(this.g.length,N.g.length),k=[],L=0;L<S;L++)k[L]=this.i(L)&N.i(L);return new c(k,this.h&N.h)},n.or=function(N){for(var S=Math.max(this.g.length,N.g.length),k=[],L=0;L<S;L++)k[L]=this.i(L)|N.i(L);return new c(k,this.h|N.h)},n.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),k=[],L=0;L<S;L++)k[L]=this.i(L)^N.i(L);return new c(k,this.h^N.h)};function Q(N){for(var S=N.g.length+1,k=[],L=0;L<S;L++)k[L]=N.i(L)<<1|N.i(L-1)>>>31;return new c(k,N.h)}function ie(N,S){var k=S>>5;S%=32;for(var L=N.g.length-k,P=[],j=0;j<L;j++)P[j]=0<S?N.i(j+k)>>>S|N.i(j+k+1)<<32-S:N.i(j+k);return new c(P,N.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,tS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,Ms=c}).apply(typeof ZE<"u"?ZE:typeof self<"u"?self:typeof window<"u"?window:{});var gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nS,Ju,rS,Mf,Gg,iS,sS,aS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,w){return d==Array.prototype||d==Object.prototype||(d[_]=w.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof gf=="object"&&gf];for(var _=0;_<d.length;++_){var w=d[_];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function a(d,_){if(_)e:{var w=i;d=d.split(".");for(var O=0;O<d.length-1;O++){var X=d[O];if(!(X in w))break e;w=w[X]}d=d[d.length-1],O=w[d],_=_(O),_!=O&&_!=null&&e(w,d,{configurable:!0,writable:!0,value:_})}}function l(d,_){d instanceof String&&(d+="");var w=0,O=!1,X={next:function(){if(!O&&w<d.length){var re=w++;return{value:_(re,d[re]),done:!1}}return O=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}a("Array.prototype.values",function(d){return d||function(){return l(this,function(_,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function p(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function v(d,_,w){return d.call.apply(d.bind,arguments)}function b(d,_,w){if(!d)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,O),d.apply(_,X)}}return function(){return d.apply(_,arguments)}}function E(d,_,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,E.apply(null,arguments)}function R(d,_){var w=Array.prototype.slice.call(arguments,1);return function(){var O=w.slice();return O.push.apply(O,arguments),d.apply(this,O)}}function C(d,_){function w(){}w.prototype=_.prototype,d.aa=_.prototype,d.prototype=new w,d.prototype.constructor=d,d.Qb=function(O,X,re){for(var ge=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)ge[Ye-2]=arguments[Ye];return _.prototype[X].apply(O,ge)}}function A(d){const _=d.length;if(0<_){const w=Array(_);for(let O=0;O<_;O++)w[O]=d[O];return w}return[]}function D(d,_){for(let w=1;w<arguments.length;w++){const O=arguments[w];if(m(O)){const X=d.length||0,re=O.length||0;d.length=X+re;for(let ge=0;ge<re;ge++)d[X+ge]=O[ge]}else d.push(O)}}class V{constructor(_,w){this.i=_,this.j=w,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function U(d){return/^[\s\xa0]*$/.test(d)}function z(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function K(d){return K[" "](d),d}K[" "]=function(){};var Q=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function ie(d,_,w){for(const O in d)_.call(w,d[O],O,d)}function N(d,_){for(const w in d)_.call(void 0,d[w],w,d)}function S(d){const _={};for(const w in d)_[w]=d[w];return _}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(d,_){let w,O;for(let X=1;X<arguments.length;X++){O=arguments[X];for(w in O)d[w]=O[w];for(let re=0;re<k.length;re++)w=k[re],Object.prototype.hasOwnProperty.call(O,w)&&(d[w]=O[w])}}function P(d){var _=1;d=d.split(":");const w=[];for(;0<_&&d.length;)w.push(d.shift()),_--;return d.length&&w.push(d.join(":")),w}function j(d){f.setTimeout(()=>{throw d},0)}function M(){var d=he;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class Z{constructor(){this.h=this.g=null}add(_,w){const O=le.get();O.set(_,w),this.h?this.h.next=O:this.g=O,this.h=O}}var le=new V(()=>new q,d=>d.reset());class q{constructor(){this.next=this.g=this.h=null}set(_,w){this.h=_,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let F,G=!1,he=new Z,B=()=>{const d=f.Promise.resolve(void 0);F=()=>{d.then(ne)}};var ne=()=>{for(var d;d=M();){try{d.h.call(d.g)}catch(w){j(w)}var _=le;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}G=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};f.addEventListener("test",w,_),f.removeEventListener("test",w,_)}catch{}return d}();function Se(d,_){if(se.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var w=this.type=d.type,O=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(Q){e:{try{K(_.nodeName);var X=!0;break e}catch{}X=!1}X||(_=null)}}else w=="mouseover"?_=d.fromElement:w=="mouseout"&&(_=d.toElement);this.relatedTarget=_,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:we[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Se.aa.h.call(this)}}C(Se,se);var we={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),Te=0;function We(d,_,w,O,X){this.listener=d,this.proxy=null,this.src=_,this.type=w,this.capture=!!O,this.ha=X,this.key=++Te,this.da=this.fa=!1}function Ve(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Me(d){this.src=d,this.g={},this.h=0}Me.prototype.add=function(d,_,w,O,X){var re=d.toString();d=this.g[re],d||(d=this.g[re]=[],this.h++);var ge=Ct(d,_,O,X);return-1<ge?(_=d[ge],w||(_.fa=!1)):(_=new We(_,this.src,re,!!O,X),_.fa=w,d.push(_)),_};function Pe(d,_){var w=_.type;if(w in d.g){var O=d.g[w],X=Array.prototype.indexOf.call(O,_,void 0),re;(re=0<=X)&&Array.prototype.splice.call(O,X,1),re&&(Ve(_),d.g[w].length==0&&(delete d.g[w],d.h--))}}function Ct(d,_,w,O){for(var X=0;X<d.length;++X){var re=d[X];if(!re.da&&re.listener==_&&re.capture==!!w&&re.ha==O)return X}return-1}var Wt="closure_lm_"+(1e6*Math.random()|0),lr={};function Cr(d,_,w,O,X){if(Array.isArray(_)){for(var re=0;re<_.length;re++)Cr(d,_[re],w,O,X);return null}return w=Fc(w),d&&d[me]?d.K(_,w,p(O)?!!O.capture:!1,X):Zt(d,_,w,!1,O,X)}function Zt(d,_,w,O,X,re){if(!_)throw Error("Invalid event type");var ge=p(X)?!!X.capture:!!X,Ye=Ja(d);if(Ye||(d[Wt]=Ye=new Me(d)),w=Ye.add(_,w,O,ge,re),w.proxy)return w;if(O=Ul(),w.proxy=O,O.src=d,O.listener=w,d.addEventListener)pe||(X=ge),X===void 0&&(X=!1),d.addEventListener(_.toString(),O,X);else if(d.attachEvent)d.attachEvent(Js(_.toString()),O);else if(d.addListener&&d.removeListener)d.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ul(){function d(w){return _.call(d.src,d.listener,w)}const _=Jh;return d}function Ir(d,_,w,O,X){if(Array.isArray(_))for(var re=0;re<_.length;re++)Ir(d,_[re],w,O,X);else O=p(O)?!!O.capture:!!O,w=Fc(w),d&&d[me]?(d=d.i,_=String(_).toString(),_ in d.g&&(re=d.g[_],w=Ct(re,w,O,X),-1<w&&(Ve(re[w]),Array.prototype.splice.call(re,w,1),re.length==0&&(delete d.g[_],d.h--)))):d&&(d=Ja(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Ct(_,w,O,X)),(w=-1<d?_[d]:null)&&Za(w))}function Za(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[me])Pe(_.i,d);else{var w=d.type,O=d.proxy;_.removeEventListener?_.removeEventListener(w,O,d.capture):_.detachEvent?_.detachEvent(Js(w),O):_.addListener&&_.removeListener&&_.removeListener(O),(w=Ja(_))?(Pe(w,d),w.h==0&&(w.src=null,_[Wt]=null)):Ve(d)}}}function Js(d){return d in lr?lr[d]:lr[d]="on"+d}function Jh(d,_){if(d.da)d=!0;else{_=new Se(_,this);var w=d.listener,O=d.ha||d.src;d.fa&&Za(d),d=w.call(O,_)}return d}function Ja(d){return d=d[Wt],d instanceof Me?d:null}var Bl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fc(d){return typeof d=="function"?d:(d[Bl]||(d[Bl]=function(_){return d.handleEvent(_)}),d[Bl])}function wt(){fe.call(this),this.i=new Me(this),this.M=this,this.F=null}C(wt,fe),wt.prototype[me]=!0,wt.prototype.removeEventListener=function(d,_,w,O){Ir(this,d,_,w,O)};function rt(d,_){var w,O=d.F;if(O)for(w=[];O;O=O.F)w.push(O);if(d=d.M,O=_.type||_,typeof _=="string")_=new se(_,d);else if(_ instanceof se)_.target=_.target||d;else{var X=_;_=new se(O,d),L(_,X)}if(X=!0,w)for(var re=w.length-1;0<=re;re--){var ge=_.g=w[re];X=Pn(ge,O,!0,_)&&X}if(ge=_.g=d,X=Pn(ge,O,!0,_)&&X,X=Pn(ge,O,!1,_)&&X,w)for(re=0;re<w.length;re++)ge=_.g=w[re],X=Pn(ge,O,!1,_)&&X}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var w=d.g[_],O=0;O<w.length;O++)Ve(w[O]);delete d.g[_],d.h--}}this.F=null},wt.prototype.K=function(d,_,w,O){return this.i.add(String(d),_,!1,w,O)},wt.prototype.L=function(d,_,w,O){return this.i.add(String(d),_,!0,w,O)};function Pn(d,_,w,O){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var X=!0,re=0;re<_.length;++re){var ge=_[re];if(ge&&!ge.da&&ge.capture==w){var Ye=ge.listener,qt=ge.ha||ge.src;ge.fa&&Pe(d.i,ge),X=Ye.call(qt,O)!==!1&&X}}return X&&!O.defaultPrevented}function gn(d,_,w){if(typeof d=="function")w&&(d=E(d,w));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:f.setTimeout(d,_||0)}function Hc(d){d.g=gn(()=>{d.g=null,d.i&&(d.i=!1,Hc(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class em extends fe{constructor(_,w){super(),this.m=_,this.l=w,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Hc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ea(d){fe.call(this),this.h=d,this.g={}}C(ea,fe);var ta=[];function na(d){ie(d.g,function(_,w){this.g.hasOwnProperty(w)&&Za(_)},d),d.g={}}ea.prototype.N=function(){ea.aa.N.call(this),na(this)},ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=f.JSON.stringify,eo=f.JSON.parse,ra=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function zl(){}zl.prototype.h=null;function Fl(d){return d.h||(d.h=d.i())}function Hl(){}var si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ai(){se.call(this,"d")}C(ai,se);function ql(){se.call(this,"c")}C(ql,se);var Nr={},Gl=null;function Ki(){return Gl=Gl||new wt}Nr.La="serverreachability";function to(d){se.call(this,Nr.La,d)}C(to,se);function Qi(d){const _=Ki();rt(_,new to(_))}Nr.STAT_EVENT="statevent";function qc(d,_){se.call(this,Nr.STAT_EVENT,d),this.stat=_}C(qc,se);function yt(d){const _=Ki();rt(_,new qc(_,d))}Nr.Ma="timingevent";function Ht(d,_){se.call(this,Nr.Ma,d),this.size=_}C(Ht,se);function Mt(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},_)}function Yn(){this.g=!0}Yn.prototype.xa=function(){this.g=!1};function $l(d,_,w,O,X,re){d.info(function(){if(d.g)if(re)for(var ge="",Ye=re.split("&"),qt=0;qt<Ye.length;qt++){var Ke=Ye[qt].split("=");if(1<Ke.length){var en=Ke[0];Ke=Ke[1];var Gt=en.split("_");ge=2<=Gt.length&&Gt[1]=="type"?ge+(en+"="+Ke+"&"):ge+(en+"=redacted&")}}else ge=null;else ge=re;return"XMLHTTP REQ ("+O+") [attempt "+X+"]: "+_+`
`+w+`
`+ge})}function tm(d,_,w,O,X,re,ge){d.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+X+"]: "+_+`
`+w+`
`+re+" "+ge})}function Xi(d,_,w,O){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+ia(d,w)+(O?" "+O:"")})}function Gc(d,_){d.info(function(){return"TIMEOUT: "+_})}Yn.prototype.info=function(){};function ia(d,_){if(!d.g)return _;if(!_)return null;try{var w=JSON.parse(_);if(w){for(d=0;d<w.length;d++)if(Array.isArray(w[d])){var O=w[d];if(!(2>O.length)){var X=O[1];if(Array.isArray(X)&&!(1>X.length)){var re=X[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ge=1;ge<X.length;ge++)X[ge]=""}}}}return ur(w)}catch{return _}}var Wi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dr;function Or(){}C(Or,zl),Or.prototype.g=function(){return new XMLHttpRequest},Or.prototype.i=function(){return{}},Dr=new Or;function Sn(d,_,w,O){this.j=d,this.i=_,this.l=w,this.R=O||1,this.U=new ea(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new It}function It(){this.i=null,this.g="",this.h=!1}var Yl={},no={};function cr(d,_,w){d.L=1,d.v=ua(jn(_)),d.m=w,d.P=!0,li(d,null)}function li(d,_){d.F=Date.now(),sa(d),d.A=jn(d.v);var w=d.A,O=d.R;Array.isArray(O)||(O=[String(O)]),Jl(w.i,"t",O),d.C=0,w=d.j.J,d.h=new It,d.g=od(d.j,w?_:null,!d.m),0<d.O&&(d.M=new em(E(d.Y,d,d.g),d.O)),_=d.U,w=d.g,O=d.ca;var X="readystatechange";Array.isArray(X)||(X&&(ta[0]=X.toString()),X=ta);for(var re=0;re<X.length;re++){var ge=Cr(w,X[re],O||_.handleEvent,!1,_.h||_);if(!ge)break;_.g[ge.key]=ge}_=d.H?S(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Qi(),$l(d.i,d.u,d.A,d.l,d.R,d.m)}Sn.prototype.ca=function(d){d=d.target;const _=this.M;_&&Wn(d)==3?_.j():this.Y(d)},Sn.prototype.Y=function(d){try{if(d==this.g)e:{const Gt=Wn(this.g);var _=this.g.Ba();const gi=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||Jc(this.g)))){this.J||Gt!=4||_==7||(_==8||0>=gi?Qi(3):Qi(2)),Zi(this);var w=this.g.Z();this.X=w;t:if($c(this)){var O=Jc(this.g);d="";var X=O.length,re=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),kr(this);var ge="";break t}this.h.i=new f.TextDecoder}for(_=0;_<X;_++)this.h.h=!0,d+=this.h.i.decode(O[_],{stream:!(re&&_==X-1)});O.length=0,this.h.g+=d,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=w==200,tm(this.i,this.u,this.A,this.l,this.R,Gt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,qt=this.g;if((Ye=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Ye)){var Ke=Ye;break t}}Ke=null}if(w=Ke)Xi(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,aa(this,w);else{this.o=!1,this.s=3,yt(12),an(this),kr(this);break e}}if(this.P){w=!0;let on;for(;!this.J&&this.C<ge.length;)if(on=Yc(this,ge),on==no){Gt==4&&(this.s=4,yt(14),w=!1),Xi(this.i,this.l,null,"[Incomplete Response]");break}else if(on==Yl){this.s=4,yt(15),Xi(this.i,this.l,ge,"[Invalid Chunk]"),w=!1;break}else Xi(this.i,this.l,on,null),aa(this,on);if($c(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||ge.length!=0||this.h.h||(this.s=1,yt(16),w=!1),this.o=this.o&&w,!w)Xi(this.i,this.l,ge,"[Invalid Chunked Response]"),an(this),kr(this);else if(0<ge.length&&!this.W){this.W=!0;var en=this.j;en.g==this&&en.ba&&!en.M&&(en.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),ya(en),en.M=!0,yt(11))}}else Xi(this.i,this.l,ge,null),aa(this,ge);Gt==4&&an(this),this.o&&!this.J&&(Gt==4?id(this.j,this):(this.o=!1,sa(this)))}else am(this.g),w==400&&0<ge.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),an(this),kr(this)}}}catch{}finally{}};function $c(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Yc(d,_){var w=d.C,O=_.indexOf(`
`,w);return O==-1?no:(w=Number(_.substring(w,O)),isNaN(w)?Yl:(O+=1,O+w>_.length?no:(_=_.slice(O,O+w),d.C=O+w,_)))}Sn.prototype.cancel=function(){this.J=!0,an(this)};function sa(d){d.S=Date.now()+d.I,Kc(d,d.I)}function Kc(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Mt(E(d.ba,d),_)}function Zi(d){d.B&&(f.clearTimeout(d.B),d.B=null)}Sn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Gc(this.i,this.A),this.L!=2&&(Qi(),yt(17)),an(this),this.s=2,kr(this)):Kc(this,this.S-d)};function kr(d){d.j.G==0||d.J||id(d.j,d)}function an(d){Zi(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,na(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function aa(d,_){try{var w=d.j;if(w.G!=0&&(w.g==d||Kl(w.h,d))){if(!d.K&&Kl(w.h,d)&&w.G==3){try{var O=w.Da.g.parse(_)}catch{O=null}if(Array.isArray(O)&&O.length==3){var X=O;if(X[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<d.F)po(w),ho(w);else break e;iu(w),yt(18)}}else w.za=X[1],0<w.za-w.T&&37500>X[2]&&w.F&&w.v==0&&!w.C&&(w.C=Mt(E(w.Za,w),6e3));if(1>=io(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else pi(w,11)}else if((d.K||w.g==d)&&po(w),!U(_))for(X=w.Da.g.parse(_),_=0;_<X.length;_++){let Ke=X[_];if(w.T=Ke[0],Ke=Ke[1],w.G==2)if(Ke[0]=="c"){w.K=Ke[1],w.ia=Ke[2];const en=Ke[3];en!=null&&(w.la=en,w.j.info("VER="+w.la));const Gt=Ke[4];Gt!=null&&(w.Aa=Gt,w.j.info("SVER="+w.Aa));const gi=Ke[5];gi!=null&&typeof gi=="number"&&0<gi&&(O=1.5*gi,w.L=O,w.j.info("backChannelRequestTimeoutMs_="+O)),O=w;const on=d.g;if(on){const Br=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var re=O.h;re.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(so(re,re.h),re.h=null))}if(O.D){const au=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;au&&(O.ya=au,ot(O.I,O.D,au))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-d.F,w.j.info("Handshake RTT: "+w.R+"ms")),O=w;var ge=d;if(O.qa=ad(O,O.J?O.ia:null,O.W),ge.K){An(O.h,ge);var Ye=ge,qt=O.L;qt&&(Ye.I=qt),Ye.B&&(Zi(Ye),sa(Ye)),O.g=ge}else nd(O);0<w.i.length&&mo(w)}else Ke[0]!="stop"&&Ke[0]!="close"||pi(w,7);else w.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?pi(w,7):nu(w):Ke[0]!="noop"&&w.l&&w.l.ta(Ke),w.v=0)}}Qi(4)}catch{}}var Qc=class{constructor(d,_){this.g=d,this.map=_}};function ui(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ro(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function io(d){return d.h?1:d.g?d.g.size:0}function Kl(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function so(d,_){d.g?d.g.add(_):d.h=_}function An(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}ui.prototype.cancel=function(){if(this.i=Ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Ql(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const w of d.g.values())_=_.concat(w.D);return _}return A(d.i)}function nm(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(m(d)){for(var _=[],w=d.length,O=0;O<w;O++)_.push(d[O]);return _}_=[],w=0;for(O in d)_[w++]=d[O];return _}function ao(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(m(d)||typeof d=="string"){var _=[];d=d.length;for(var w=0;w<d;w++)_.push(w);return _}_=[],w=0;for(const O in d)_[w++]=O;return _}}}function Xl(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(m(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var w=ao(d),O=nm(d),X=O.length,re=0;re<X;re++)_.call(void 0,O[re],w&&w[re],d)}var oa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rm(d,_){if(d){d=d.split("&");for(var w=0;w<d.length;w++){var O=d[w].indexOf("="),X=null;if(0<=O){var re=d[w].substring(0,O);X=d[w].substring(O+1)}else re=d[w];_(re,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Pt(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Pt){this.h=d.h,la(this,d.j),this.o=d.o,this.g=d.g,Ji(this,d.s),this.l=d.l;var _=d.i,w=new di;w.i=_.i,_.g&&(w.g=new Map(_.g),w.h=_.h),ci(this,w),this.m=d.m}else d&&(_=String(d).match(oa))?(this.h=!1,la(this,_[1]||"",!0),this.o=Kn(_[2]||""),this.g=Kn(_[3]||"",!0),Ji(this,_[4]),this.l=Kn(_[5]||"",!0),ci(this,_[6]||"",!0),this.m=Kn(_[7]||"")):(this.h=!1,this.i=new di(null,this.h))}Pt.prototype.toString=function(){var d=[],_=this.j;_&&d.push(ca(_,Wl,!0),":");var w=this.g;return(w||_=="file")&&(d.push("//"),(_=this.o)&&d.push(ca(_,Wl,!0),"@"),d.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&d.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(ca(w,w.charAt(0)=="/"?im:Zl,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",ca(w,oo)),d.join("")};function jn(d){return new Pt(d)}function la(d,_,w){d.j=w?Kn(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Ji(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function ci(d,_,w){_ instanceof di?(d.i=_,Wc(d.i,d.h)):(w||(_=ca(_,sm)),d.i=new di(_,d.h))}function ot(d,_,w){d.i.set(_,w)}function ua(d){return ot(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Kn(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ca(d,_,w){return typeof d=="string"?(d=encodeURI(d).replace(_,Xc),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Xc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Wl=/[#\/\?@]/g,Zl=/[#\?:]/g,im=/[#\?]/g,sm=/[#\?@]/g,oo=/#/g;function di(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Qn(d){d.g||(d.g=new Map,d.h=0,d.i&&rm(d.i,function(_,w){d.add(decodeURIComponent(_.replace(/\+/g," ")),w)}))}n=di.prototype,n.add=function(d,_){Qn(this),this.i=null,d=Mr(this,d);var w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(_),this.h+=1,this};function fi(d,_){Qn(d),_=Mr(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function hi(d,_){return Qn(d),_=Mr(d,_),d.g.has(_)}n.forEach=function(d,_){Qn(this),this.g.forEach(function(w,O){w.forEach(function(X){d.call(_,X,O,this)},this)},this)},n.na=function(){Qn(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),w=[];for(let O=0;O<_.length;O++){const X=d[O];for(let re=0;re<X.length;re++)w.push(_[O])}return w},n.V=function(d){Qn(this);let _=[];if(typeof d=="string")hi(this,d)&&(_=_.concat(this.g.get(Mr(this,d))));else{d=Array.from(this.g.values());for(let w=0;w<d.length;w++)_=_.concat(d[w])}return _},n.set=function(d,_){return Qn(this),this.i=null,d=Mr(this,d),hi(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function Jl(d,_,w){fi(d,_),0<w.length&&(d.i=null,d.g.set(Mr(d,_),A(w)),d.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var w=0;w<_.length;w++){var O=_[w];const re=encodeURIComponent(String(O)),ge=this.V(O);for(O=0;O<ge.length;O++){var X=re;ge[O]!==""&&(X+="="+encodeURIComponent(String(ge[O]))),d.push(X)}}return this.i=d.join("&")};function Mr(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function Wc(d,_){_&&!d.j&&(Qn(d),d.i=null,d.g.forEach(function(w,O){var X=O.toLowerCase();O!=X&&(fi(this,O),Jl(this,X,w))},d)),d.j=_}function da(d,_){const w=new Yn;if(f.Image){const O=new Image;O.onload=R(Xn,w,"TestLoadImage: loaded",!0,_,O),O.onerror=R(Xn,w,"TestLoadImage: error",!1,_,O),O.onabort=R(Xn,w,"TestLoadImage: abort",!1,_,O),O.ontimeout=R(Xn,w,"TestLoadImage: timeout",!1,_,O),f.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=d}else _(!1)}function dr(d,_){const w=new Yn,O=new AbortController,X=setTimeout(()=>{O.abort(),Xn(w,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:O.signal}).then(re=>{clearTimeout(X),re.ok?Xn(w,"TestPingServer: ok",!0,_):Xn(w,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(X),Xn(w,"TestPingServer: error",!1,_)})}function Xn(d,_,w,O,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),O(w)}catch{}}function fa(){this.g=new ra}function Pr(d,_,w){const O=w||"";try{Xl(d,function(X,re){let ge=X;p(X)&&(ge=ur(X)),_.push(O+re+"="+encodeURIComponent(ge))})}catch(X){throw _.push(O+"type="+encodeURIComponent("_badmap")),X}}function es(d){this.l=d.Ub||null,this.j=d.eb||!1}C(es,zl),es.prototype.g=function(){return new mi(this.l,this.j)},es.prototype.i=function(d){return function(){return d}}({});function mi(d,_){wt.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(mi,wt),n=mi.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,Vr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||f).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Vr(this)),this.g&&(this.readyState=3,Vr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eu(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function eu(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?jr(this):Vr(this),this.readyState==3&&eu(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,jr(this))},n.Qa=function(d){this.g&&(this.response=d,jr(this))},n.ga=function(){this.g&&jr(this)};function jr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Vr(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var w=_.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=_.next();return d.join(`\r
`)};function Vr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function tu(d){let _="";return ie(d,function(w,O){_+=O,_+=":",_+=w,_+=`\r
`}),_}function Jt(d,_,w){e:{for(O in w){var O=!1;break e}O=!0}O||(w=tu(w),typeof d=="string"?w!=null&&encodeURIComponent(String(w)):ot(d,_,w))}function tt(d){wt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(tt,wt);var lo=/^https?$/i,ha=["POST","PUT"];n=tt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,w,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dr.g(),this.v=this.o?Fl(this.o):Fl(Dr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(re){Zc(this,re);return}if(d=w||"",w=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var X in O)w.set(X,O[X]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const re of O.keys())w.set(re,O.get(re));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(w.keys()).find(re=>re.toLowerCase()=="content-type"),X=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ha,_,void 0))||O||X||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ge]of w)this.g.setRequestHeader(re,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ma(this),this.u=!0,this.g.send(d),this.u=!1}catch(re){Zc(this,re)}};function Zc(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,uo(d),Lr(d)}function uo(d){d.A||(d.A=!0,rt(d,"complete"),rt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,rt(this,"complete"),rt(this,"abort"),Lr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lr(this,!0)),tt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?co(this):this.bb())},n.bb=function(){co(this)};function co(d){if(d.h&&typeof c<"u"&&(!d.v[1]||Wn(d)!=4||d.Z()!=2)){if(d.u&&Wn(d)==4)gn(d.Ea,0,d);else if(rt(d,"readystatechange"),Wn(d)==4){d.h=!1;try{const ge=d.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var w;if(!(w=_)){var O;if(O=ge===0){var X=String(d.D).match(oa)[1]||null;!X&&f.self&&f.self.location&&(X=f.self.location.protocol.slice(0,-1)),O=!lo.test(X?X.toLowerCase():"")}w=O}if(w)rt(d,"complete"),rt(d,"success");else{d.m=6;try{var re=2<Wn(d)?d.g.statusText:""}catch{re=""}d.l=re+" ["+d.Z()+"]",uo(d)}}finally{Lr(d)}}}}function Lr(d,_){if(d.g){ma(d);const w=d.g,O=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||rt(d,"ready");try{w.onreadystatechange=O}catch{}}}function ma(d){d.I&&(f.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Wn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),eo(_)}};function Jc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function am(d){const _={};d=(d.g&&2<=Wn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<d.length;O++){if(U(d[O]))continue;var w=P(d[O]);const X=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const re=_[X]||[];_[X]=re,re.push(w)}N(_,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pa(d,_,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||_}function fo(d){this.Aa=0,this.i=[],this.j=new Yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pa("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pa("baseRetryDelayMs",5e3,d),this.cb=pa("retryDelaySeedMs",1e4,d),this.Wa=pa("forwardChannelMaxRetries",2,d),this.wa=pa("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ui(d&&d.concurrentRequestLimit),this.Da=new fa,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=fo.prototype,n.la=8,n.G=1,n.connect=function(d,_,w,O){yt(0),this.W=d,this.H=_||{},w&&O!==void 0&&(this.H.OSID=w,this.H.OAID=O),this.F=this.X,this.I=ad(this,null,this.W),mo(this)};function nu(d){if(ed(d),d.G==3){var _=d.U++,w=jn(d.I);if(ot(w,"SID",d.K),ot(w,"RID",_),ot(w,"TYPE","terminate"),ga(d,w),_=new Sn(d,d.j,_),_.L=2,_.v=ua(jn(w)),w=!1,f.navigator&&f.navigator.sendBeacon)try{w=f.navigator.sendBeacon(_.v.toString(),"")}catch{}!w&&f.Image&&(new Image().src=_.v,w=!0),w||(_.g=od(_.j,null),_.g.ea(_.v)),_.F=Date.now(),sa(_)}sd(d)}function ho(d){d.g&&(ya(d),d.g.cancel(),d.g=null)}function ed(d){ho(d),d.u&&(f.clearTimeout(d.u),d.u=null),po(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function mo(d){if(!ro(d.h)&&!d.s){d.s=!0;var _=d.Ga;F||B(),G||(F(),G=!0),he.add(_,d),d.B=0}}function om(d,_){return io(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Mt(E(d.Ga,d,_),su(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const X=new Sn(this,this.j,d);let re=this.o;if(this.S&&(re?(re=S(re),L(re,this.S)):re=this.S),this.m!==null||this.O||(X.H=re,re=null),this.P)e:{for(var _=0,w=0;w<this.i.length;w++){t:{var O=this.i[w];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(_+=O,4096<_){_=w;break e}if(_===4096||w===this.i.length-1){_=w+1;break e}}_=1e3}else _=1e3;_=td(this,X,_),w=jn(this.I),ot(w,"RID",d),ot(w,"CVER",22),this.D&&ot(w,"X-HTTP-Session-Id",this.D),ga(this,w),re&&(this.O?_="headers="+encodeURIComponent(String(tu(re)))+"&"+_:this.m&&Jt(w,this.m,re)),so(this.h,X),this.Ua&&ot(w,"TYPE","init"),this.P?(ot(w,"$req",_),ot(w,"SID","null"),X.T=!0,cr(X,w,null)):cr(X,w,_),this.G=2}}else this.G==3&&(d?ru(this,d):this.i.length==0||ro(this.h)||ru(this))};function ru(d,_){var w;_?w=_.l:w=d.U++;const O=jn(d.I);ot(O,"SID",d.K),ot(O,"RID",w),ot(O,"AID",d.T),ga(d,O),d.m&&d.o&&Jt(O,d.m,d.o),w=new Sn(d,d.j,w,d.B+1),d.m===null&&(w.H=d.o),_&&(d.i=_.D.concat(d.i)),_=td(d,w,1e3),w.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),so(d.h,w),cr(w,O,_)}function ga(d,_){d.H&&ie(d.H,function(w,O){ot(_,O,w)}),d.l&&Xl({},function(w,O){ot(_,O,w)})}function td(d,_,w){w=Math.min(d.i.length,w);var O=d.l?E(d.l.Na,d.l,d):null;e:{var X=d.i;let re=-1;for(;;){const ge=["count="+w];re==-1?0<w?(re=X[0].g,ge.push("ofs="+re)):re=0:ge.push("ofs="+re);let Ye=!0;for(let qt=0;qt<w;qt++){let Ke=X[qt].g;const en=X[qt].map;if(Ke-=re,0>Ke)re=Math.max(0,X[qt].g-100),Ye=!1;else try{Pr(en,ge,"req"+Ke+"_")}catch{O&&O(en)}}if(Ye){O=ge.join("&");break e}}}return d=d.i.splice(0,w),_.D=d,O}function nd(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;F||B(),G||(F(),G=!0),he.add(_,d),d.v=0}}function iu(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Mt(E(d.Fa,d),su(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,rd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Mt(E(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),ho(this),rd(this))};function ya(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function rd(d){d.g=new Sn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=jn(d.qa);ot(_,"RID","rpc"),ot(_,"SID",d.K),ot(_,"AID",d.T),ot(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&ot(_,"TO",d.ja),ot(_,"TYPE","xmlhttp"),ga(d,_),d.m&&d.o&&Jt(_,d.m,d.o),d.L&&(d.g.I=d.L);var w=d.g;d=d.ia,w.L=1,w.v=ua(jn(_)),w.m=null,w.P=!0,li(w,d)}n.Za=function(){this.C!=null&&(this.C=null,ho(this),iu(this),yt(19))};function po(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function id(d,_){var w=null;if(d.g==_){po(d),ya(d),d.g=null;var O=2}else if(Kl(d.h,_))w=_.D,An(d.h,_),O=1;else return;if(d.G!=0){if(_.o)if(O==1){w=_.m?_.m.length:0,_=Date.now()-_.F;var X=d.B;O=Ki(),rt(O,new Ht(O,w)),mo(d)}else nd(d);else if(X=_.s,X==3||X==0&&0<_.X||!(O==1&&om(d,_)||O==2&&iu(d)))switch(w&&0<w.length&&(_=d.h,_.i=_.i.concat(w)),X){case 1:pi(d,5);break;case 4:pi(d,10);break;case 3:pi(d,6);break;default:pi(d,2)}}}function su(d,_){let w=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(w*=2),w*_}function pi(d,_){if(d.j.info("Error code "+_),_==2){var w=E(d.fb,d),O=d.Xa;const X=!O;O=new Pt(O||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||la(O,"https"),ua(O),X?da(O.toString(),w):dr(O.toString(),w)}else yt(2);d.G=0,d.l&&d.l.sa(_),sd(d),ed(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function sd(d){if(d.G=0,d.ka=[],d.l){const _=Ql(d.h);(_.length!=0||d.i.length!=0)&&(D(d.ka,_),D(d.ka,d.i),d.h.i.length=0,A(d.i),d.i.length=0),d.l.ra()}}function ad(d,_,w){var O=w instanceof Pt?jn(w):new Pt(w);if(O.g!="")_&&(O.g=_+"."+O.g),Ji(O,O.s);else{var X=f.location;O=X.protocol,_=_?_+"."+X.hostname:X.hostname,X=+X.port;var re=new Pt(null);O&&la(re,O),_&&(re.g=_),X&&Ji(re,X),w&&(re.l=w),O=re}return w=d.D,_=d.ya,w&&_&&ot(O,w,_),ot(O,"VER",d.la),ga(d,O),O}function od(d,_,w){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new tt(new es({eb:w})):new tt(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ld(){}n=ld.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function go(){}go.prototype.g=function(d,_){return new Rn(d,_)};function Rn(d,_){wt.call(this),this.g=new fo(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!U(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!U(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Ur(this)}C(Rn,wt),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){nu(this.g)},Rn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.u&&(w={},w.__data__=ur(d),d=w);_.i.push(new Qc(_.Ya++,d)),_.G==3&&mo(_)},Rn.prototype.N=function(){this.g.l=null,delete this.j,nu(this.g),delete this.g,Rn.aa.N.call(this)};function ud(d){ai.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const w in _){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}C(ud,ai);function cd(){ql.call(this),this.status=1}C(cd,ql);function Ur(d){this.g=d}C(Ur,ld),Ur.prototype.ua=function(){rt(this.g,"a")},Ur.prototype.ta=function(d){rt(this.g,new ud(d))},Ur.prototype.sa=function(d){rt(this.g,new cd)},Ur.prototype.ra=function(){rt(this.g,"b")},go.prototype.createWebChannel=go.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,aS=function(){return new go},sS=function(){return Ki()},iS=Nr,Gg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wi.NO_ERROR=0,Wi.TIMEOUT=8,Wi.HTTP_ERROR=6,Mf=Wi,oi.COMPLETE="complete",rS=oi,Hl.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Ju=Hl,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,nS=tt}).apply(typeof gf<"u"?gf:typeof self<"u"?self:typeof window<"u"?window:{});const JE="@firebase/firestore",ew="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new Dy("@firebase/firestore");function Qo(){return Fa.logLevel}function ye(n,...e){if(Fa.logLevel<=Ge.DEBUG){const t=e.map(Fy);Fa.debug(`Firestore (${Dl}): ${n}`,...t)}}function zi(n,...e){if(Fa.logLevel<=Ge.ERROR){const t=e.map(Fy);Fa.error(`Firestore (${Dl}): ${n}`,...t)}}function ml(n,...e){if(Fa.logLevel<=Ge.WARN){const t=e.map(Fy);Fa.warn(`Firestore (${Dl}): ${n}`,...t)}}function Fy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,oS(n,i,t)}function oS(n,e,t){let i=`FIRESTORE (${Dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw zi(i),new Error(i)}function nt(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||oS(e,a,i)}function ke(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends $i{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(En.UNAUTHENTICATED))}shutdown(){}}class nk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rk{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){nt(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new Pi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Pi,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},f=m=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Pi)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(nt(typeof i.accessToken=="string",31837,{l:i}),new lS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class ik{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sk{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new ik(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ak{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){nt(this.o===void 0,3512);const i=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new tw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(nt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new tw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=ok(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Be(n,e){return n<e?-1:n>e?1:0}function $g(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return Be(i,a);{const l=uS(),c=lk(l.encode(nw(n,t)),l.encode(nw(e,t)));return c!==0?c:Be(i,a)}}t+=i>65535?2:1}return Be(n.length,e.length)}function nw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function lk(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Be(n[t],e[t]);return Be(n.length,e.length)}function pl(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=-62135596800,iw=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*iw);return new dt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<rw)throw new ve(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iw}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-rw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new dt(0,0))}static max(){return new Oe(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="__name__";class Yr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ne(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ne(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Yr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Yr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Be(e.length,t.length)}static compareSegments(e,t){const i=Yr.isNumericId(e),a=Yr.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Yr.extractNumericId(e).compare(Yr.extractNumericId(t)):$g(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ms.fromString(e.substring(4,e.length-2))}}class gt extends Yr{construct(e,t,i){return new gt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new gt(t)}static emptyPath(){return new gt([])}}const uk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends Yr{construct(e,t,i){return new fn(e,t,i)}static isValidIdentifier(e){return uk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sw}static keyField(){return new fn([sw])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ve(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ve(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ve(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(i+=f,a++):(l(),a++)}if(l(),c)throw new ve(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(t)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(gt.fromString(e))}static fromName(e){return new Ae(gt.fromString(e).popFirst(5))}static empty(){return new Ae(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new gt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=-1;function ck(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Oe.fromTimestamp(i===1e9?new dt(t+1,0):new dt(t,i));return new Us(a,Ae.empty(),e)}function dk(n){return new Us(n.readTime,n.key,pc)}class Us{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Us(Oe.min(),Ae.empty(),pc)}static max(){return new Us(Oe.max(),Ae.empty(),pc)}}function fk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(n.documentKey,e.documentKey),t!==0?t:Be(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==hk)throw n;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,i)=>{t(e)})}static reject(e){return new de((t,i)=>{i(e)})}static waitFor(e){return new de((t,i)=>{let a=0,l=0,c=!1;e.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&t()},m=>i(m))}),c=!0,l===a&&t()})}static or(e){let t=de.resolve(!1);for(const i of e)t=t.next(a=>a?de.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new de((i,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;t(e[p]).next(v=>{c[p]=v,++f,f===l&&i(c)},v=>a(v))}})}static doWhile(e,t){return new de((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function pk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function kl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ah.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=-1;function Rh(n){return n==null}function eh(n){return n===0&&1/n==-1/0}function gk(n){return typeof n=="number"&&Number.isInteger(n)&&!eh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="";function yk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=aw(e)),e=vk(n.get(t),e);return aw(e)}function vk(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case dS:t+="";break;default:t+=l}}return t}function aw(n){return n+dS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ks(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function fS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,t){this.comparator=e,this.root=t||dn.EMPTY}insert(e,t){return new Et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yf(this.root,e,this.comparator,!1)}getReverseIterator(){return new yf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yf(this.root,e,this.comparator,!0)}}class yf{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??dn.RED,this.left=a??dn.EMPTY,this.right=l??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new dn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return dn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new dn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lw(this.data.getIterator())}getIteratorFrom(e){return new lw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qt(this.comparator);return t.data=e,t}}class lw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new Gn([])}unionWith(e){let t=new Qt(fn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Gn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new hS("Invalid base64 string: "+l):l}}(e);return new pn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new pn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const _k=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bs(n){if(nt(!!n,39018),typeof n=="string"){let e=0;const t=_k.exec(n);if(nt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ot(n.seconds),nanos:Ot(n.nanos)}}function Ot(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function zs(n){return typeof n=="string"?pn.fromBase64String(n):pn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="server_timestamp",pS="__type__",gS="__previous_value__",yS="__local_write_time__";function qy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[pS])===null||t===void 0?void 0:t.stringValue)===mS}function Ch(n){const e=n.mapValue.fields[gS];return qy(e)?Ch(e):e}function gc(n){const e=Bs(n.mapValue.fields[yS].timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,t,i,a,l,c,f,m,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v}}const th="(default)";class yc{constructor(e,t){this.projectId=e,this.database=t||th}static empty(){return new yc("","")}get isDefaultDatabase(){return this.database===th}isEqual(e){return e instanceof yc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="__type__",Ek="__max__",vf={mapValue:{}},_S="__vector__",nh="value";function Fs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qy(n)?4:xk(n)?9007199254740991:wk(n)?10:11:Ne(28295,{value:n})}function ti(n,e){if(n===e)return!0;const t=Fs(n);if(t!==Fs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return gc(n).isEqual(gc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Bs(a.timestampValue),f=Bs(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return zs(a.bytesValue).isEqual(zs(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return Ot(a.geoPointValue.latitude)===Ot(l.geoPointValue.latitude)&&Ot(a.geoPointValue.longitude)===Ot(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Ot(a.integerValue)===Ot(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ot(a.doubleValue),f=Ot(l.doubleValue);return c===f?eh(c)===eh(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return pl(n.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(ow(c)!==ow(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!ti(c[m],f[m])))return!1;return!0}(n,e);default:return Ne(52216,{left:n})}}function vc(n,e){return(n.values||[]).find(t=>ti(t,e))!==void 0}function gl(n,e){if(n===e)return 0;const t=Fs(n),i=Fs(e);if(t!==i)return Be(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(n.booleanValue,e.booleanValue);case 2:return function(l,c){const f=Ot(l.integerValue||l.doubleValue),m=Ot(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(n,e);case 3:return uw(n.timestampValue,e.timestampValue);case 4:return uw(gc(n),gc(e));case 5:return $g(n.stringValue,e.stringValue);case 6:return function(l,c){const f=zs(l),m=zs(c);return f.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const v=Be(f[p],m[p]);if(v!==0)return v}return Be(f.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const f=Be(Ot(l.latitude),Ot(c.latitude));return f!==0?f:Be(Ot(l.longitude),Ot(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return cw(n.arrayValue,e.arrayValue);case 10:return function(l,c){var f,m,p,v;const b=l.fields||{},E=c.fields||{},R=(f=b[nh])===null||f===void 0?void 0:f.arrayValue,C=(m=E[nh])===null||m===void 0?void 0:m.arrayValue,A=Be(((p=R==null?void 0:R.values)===null||p===void 0?void 0:p.length)||0,((v=C==null?void 0:C.values)===null||v===void 0?void 0:v.length)||0);return A!==0?A:cw(R,C)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===vf.mapValue&&c===vf.mapValue)return 0;if(l===vf.mapValue)return 1;if(c===vf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let b=0;b<m.length&&b<v.length;++b){const E=$g(m[b],v[b]);if(E!==0)return E;const R=gl(f[m[b]],p[v[b]]);if(R!==0)return R}return Be(m.length,v.length)}(n.mapValue,e.mapValue);default:throw Ne(23264,{Pe:t})}}function uw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Be(n,e);const t=Bs(n),i=Bs(e),a=Be(t.seconds,i.seconds);return a!==0?a:Be(t.nanos,i.nanos)}function cw(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=gl(t[a],i[a]);if(l)return l}return Be(t.length,i.length)}function yl(n){return Yg(n)}function Yg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Bs(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return zs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ae.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Yg(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Yg(t.fields[c])}`;return a+"}"}(n.mapValue):Ne(61005,{value:n})}function Pf(n){switch(Fs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ch(n);return e?16+Pf(e):16;case 5:return 2*n.stringValue.length;case 6:return zs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+Pf(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return Ks(i.fields,(l,c)=>{a+=l.length+Pf(c)}),a}(n.mapValue);default:throw Ne(13486,{value:n})}}function dw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Kg(n){return!!n&&"integerValue"in n}function Gy(n){return!!n&&"arrayValue"in n}function fw(n){return!!n&&"nullValue"in n}function hw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jf(n){return!!n&&"mapValue"in n}function wk(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[vS])===null||t===void 0?void 0:t.stringValue)===_S}function ac(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ks(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ac(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ac(n.arrayValue.values[t]);return e}return Object.assign({},n)}function xk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Ek}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!jf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ac(t)}setAll(e){let t=fn.emptyPath(),i={},a=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,i,a),i={},a=[],t=f.popLast()}c?i[f.lastSegment()]=ac(c):a.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());jf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];jf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Ks(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new Mn(ac(this.value))}}function bS(n){const e=[];return Ks(n.fields,(t,i)=>{const a=new fn([t]);if(jf(i)){const l=bS(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,t,i,a,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new wn(e,0,Oe.min(),Oe.min(),Oe.min(),Mn.empty(),0)}static newFoundDocument(e,t,i,a){return new wn(e,1,t,Oe.min(),i,a,0)}static newNoDocument(e,t){return new wn(e,2,t,Oe.min(),Oe.min(),Mn.empty(),0)}static newUnknownDocument(e,t){return new wn(e,3,t,Oe.min(),Oe.min(),Mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,t){this.position=e,this.inclusive=t}}function mw(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=Ae.comparator(Ae.fromName(c.referenceValue),t.key):i=gl(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function pw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ti(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,t="asc"){this.field=e,this.dir=t}}function Tk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{}class Ut extends ES{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Ak(e,t,i):t==="array-contains"?new Ik(e,i):t==="in"?new Nk(e,i):t==="not-in"?new Dk(e,i):t==="array-contains-any"?new Ok(e,i):new Ut(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Rk(e,i):new Ck(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(gl(t,this.value)):t!==null&&Fs(this.value)===Fs(t)&&this.matchesComparison(gl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends ES{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new wr(e,t)}matches(e){return wS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function wS(n){return n.op==="and"}function xS(n){return Sk(n)&&wS(n)}function Sk(n){for(const e of n.filters)if(e instanceof wr)return!1;return!0}function Qg(n){if(n instanceof Ut)return n.field.canonicalString()+n.op.toString()+yl(n.value);if(xS(n))return n.filters.map(e=>Qg(e)).join(",");{const e=n.filters.map(t=>Qg(t)).join(",");return`${n.op}(${e})`}}function TS(n,e){return n instanceof Ut?function(i,a){return a instanceof Ut&&i.op===a.op&&i.field.isEqual(a.field)&&ti(i.value,a.value)}(n,e):n instanceof wr?function(i,a){return a instanceof wr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,f)=>l&&TS(c,a.filters[f]),!0):!1}(n,e):void Ne(19439)}function SS(n){return n instanceof Ut?function(t){return`${t.field.canonicalString()} ${t.op} ${yl(t.value)}`}(n):n instanceof wr?function(t){return t.op.toString()+" {"+t.getFilters().map(SS).join(" ,")+"}"}(n):"Filter"}class Ak extends Ut{constructor(e,t,i){super(e,t,i),this.key=Ae.fromName(i.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class Rk extends Ut{constructor(e,t){super(e,"in",t),this.keys=AS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ck extends Ut{constructor(e,t){super(e,"not-in",t),this.keys=AS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function AS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ae.fromName(i.referenceValue))}class Ik extends Ut{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Gy(t)&&vc(t.arrayValue,this.value)}}class Nk extends Ut{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&vc(this.value.arrayValue,t)}}class Dk extends Ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!vc(this.value.arrayValue,t)}}class Ok extends Ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Gy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>vc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,t=null,i=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Ie=null}}function gw(n,e=null,t=[],i=[],a=null,l=null,c=null){return new kk(n,e,t,i,a,l,c)}function $y(n){const e=ke(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Qg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Rh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>yl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>yl(i)).join(",")),e.Ie=t}return e.Ie}function Yy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Tk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!TS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!pw(n.startAt,e.startAt)&&pw(n.endAt,e.endAt)}function Xg(n){return Ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,t=null,i=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Mk(n,e,t,i,a,l,c,f){return new Ml(n,e,t,i,a,l,c,f)}function Ky(n){return new Ml(n)}function yw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function RS(n){return n.collectionGroup!==null}function oc(n){const e=ke(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Qt(fn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new _c(l,i))}),t.has(fn.keyField().canonicalString())||e.Ee.push(new _c(fn.keyField(),i))}return e.Ee}function Wr(n){const e=ke(n);return e.de||(e.de=Pk(e,oc(n))),e.de}function Pk(n,e){if(n.limitType==="F")return gw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new _c(a.field,l)});const t=n.endAt?new rh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new rh(n.startAt.position,n.startAt.inclusive):null;return gw(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Wg(n,e){const t=n.filters.concat([e]);return new Ml(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ih(n,e,t){return new Ml(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ih(n,e){return Yy(Wr(n),Wr(e))&&n.limitType===e.limitType}function CS(n){return`${$y(Wr(n))}|lt:${n.limitType}`}function Xo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>SS(a)).join(", ")}]`),Rh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>yl(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>yl(a)).join(",")),`Target(${i})`}(Wr(n))}; limitType=${n.limitType})`}function Nh(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ae.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of oc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,f,m){const p=mw(c,f,m);return c.inclusive?p<=0:p<0}(i.startAt,oc(i),a)||i.endAt&&!function(c,f,m){const p=mw(c,f,m);return c.inclusive?p>=0:p>0}(i.endAt,oc(i),a))}(n,e)}function jk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function IS(n){return(e,t)=>{let i=!1;for(const a of oc(n)){const l=Vk(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function Vk(n,e,t){const i=n.field.isKeyField()?Ae.comparator(e.key,t.key):function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?gl(m,p):Ne(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ne(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return fS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=new Et(Ae.comparator);function Fi(){return Lk}const NS=new Et(Ae.comparator);function ec(...n){let e=NS;for(const t of n)e=e.insert(t.key,t);return e}function DS(n){let e=NS;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ja(){return lc()}function OS(){return lc()}function lc(){return new Qa(n=>n.toString(),(n,e)=>n.isEqual(e))}const Uk=new Et(Ae.comparator),Bk=new Qt(Ae.comparator);function $e(...n){let e=Bk;for(const t of n)e=e.add(t);return e}const zk=new Qt(Be);function Fk(){return zk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(e)?"-0":e}}function kS(n){return{integerValue:""+n}}function Hk(n,e){return gk(e)?kS(e):Qy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(){this._=void 0}}function qk(n,e,t){return n instanceof sh?function(a,l){const c={fields:{[pS]:{stringValue:mS},[yS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&qy(l)&&(l=Ch(l)),l&&(c.fields[gS]=l),{mapValue:c}}(t,e):n instanceof bc?PS(n,e):n instanceof Ec?jS(n,e):function(a,l){const c=MS(a,l),f=vw(c)+vw(a.Re);return Kg(c)&&Kg(a.Re)?kS(f):Qy(a.serializer,f)}(n,e)}function Gk(n,e,t){return n instanceof bc?PS(n,e):n instanceof Ec?jS(n,e):t}function MS(n,e){return n instanceof ah?function(i){return Kg(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class sh extends Dh{}class bc extends Dh{constructor(e){super(),this.elements=e}}function PS(n,e){const t=VS(e);for(const i of n.elements)t.some(a=>ti(a,i))||t.push(i);return{arrayValue:{values:t}}}class Ec extends Dh{constructor(e){super(),this.elements=e}}function jS(n,e){let t=VS(e);for(const i of n.elements)t=t.filter(a=>!ti(a,i));return{arrayValue:{values:t}}}class ah extends Dh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function vw(n){return Ot(n.integerValue||n.doubleValue)}function VS(n){return Gy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function $k(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof bc&&a instanceof bc||i instanceof Ec&&a instanceof Ec?pl(i.elements,a.elements,ti):i instanceof ah&&a instanceof ah?ti(i.Re,a.Re):i instanceof sh&&a instanceof sh}(n.transform,e.transform)}class Yk{constructor(e,t){this.version=e,this.transformResults=t}}class ar{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Oh{}function LS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Xy(n.key,ar.none()):new Mc(n.key,n.data,ar.none());{const t=n.data,i=Mn.empty();let a=new Qt(fn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Qs(n.key,i,new Gn(a.toArray()),ar.none())}}function Kk(n,e,t){n instanceof Mc?function(a,l,c){const f=a.value.clone(),m=bw(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Qs?function(a,l,c){if(!Vf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=bw(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(US(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function uc(n,e,t,i){return n instanceof Mc?function(l,c,f,m){if(!Vf(l.precondition,c))return f;const p=l.value.clone(),v=Ew(l.fieldTransforms,m,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof Qs?function(l,c,f,m){if(!Vf(l.precondition,c))return f;const p=Ew(l.fieldTransforms,m,c),v=c.data;return v.setAll(US(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(n,e,t,i):function(l,c,f){return Vf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,e,t)}function Qk(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=MS(i.transform,a||null);l!=null&&(t===null&&(t=Mn.empty()),t.set(i.field,l))}return t||null}function _w(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&pl(i,a,(l,c)=>$k(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Mc extends Oh{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Qs extends Oh{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function US(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function bw(n,e,t){const i=new Map;nt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,f=e.data.field(l.field);i.set(l.field,Gk(c,f,t[a]))}return i}function Ew(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,qk(l,c,e))}return i}class Xy extends Oh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xk extends Oh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Kk(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=uc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=uc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=OS();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(a.key)?null:f;const m=LS(c,f);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Oe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$e())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,(t,i)=>_w(t,i))&&pl(this.baseMutations,e.baseMutations,(t,i)=>_w(t,i))}}class Wy{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){nt(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let a=function(){return Uk}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Wy(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,Xe;function e4(n){switch(n){case ce.OK:return Ne(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Ne(15467,{code:n})}}function BS(n){if(n===void 0)return zi("GRPC error has no .code"),ce.UNKNOWN;switch(n){case Lt.OK:return ce.OK;case Lt.CANCELLED:return ce.CANCELLED;case Lt.UNKNOWN:return ce.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return ce.INTERNAL;case Lt.UNAVAILABLE:return ce.UNAVAILABLE;case Lt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Lt.NOT_FOUND:return ce.NOT_FOUND;case Lt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Lt.ABORTED:return ce.ABORTED;case Lt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Lt.DATA_LOSS:return ce.DATA_LOSS;default:return Ne(39323,{code:n})}}(Xe=Lt||(Lt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=new Ms([4294967295,4294967295],0);function ww(n){const e=uS().encode(n),t=new tS;return t.update(e),new Uint8Array(t.digest())}function xw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ms([t,i],0),new Ms([a,l],0)]}class Zy{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new tc(`Invalid padding: ${t}`);if(i<0)throw new tc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new tc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new tc(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ms.fromNumber(this.pe)}we(e,t,i){let a=e.add(t.multiply(Ms.fromNumber(i)));return a.compare(t4)===1&&(a=new Ms([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=ww(e),[i,a]=xw(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);if(!this.be(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Zy(l,a,t);return i.forEach(f=>c.insert(f)),c}insert(e){if(this.pe===0)return;const t=ww(e),[i,a]=xw(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class tc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Pc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new kh(Oe.min(),a,new Et(Be),Fi(),$e())}}class Pc{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Pc(i,t,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,t,i,a){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=a}}class zS{constructor(e,t){this.targetId=e,this.Ce=t}}class FS{constructor(e,t,i=pn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class Tw{constructor(){this.Fe=0,this.Me=Sw(),this.xe=pn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=$e(),t=$e(),i=$e();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Ne(38017,{changeType:l})}}),new Pc(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=Sw()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,nt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class n4{constructor(e){this.ze=e,this.je=new Map,this.He=Fi(),this.Je=_f(),this.Ye=_f(),this.Ze=new Et(Be)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:Ne(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,i=e.Ce.count,a=this._t(t);if(a){const l=a.target;if(Xg(l))if(i===0){const c=new Ae(l.path);this.tt(t,c,wn.newNoDocument(c,Oe.min()))}else nt(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const f=this.ct(e),m=f?this.lt(f,e,c):1;if(m!==0){this.st(t);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,f;try{c=zs(i).toUint8Array()}catch(m){if(m instanceof hS)return ml("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Zy(c,a,l)}catch(m){return ml(m instanceof tc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.pe===0?null:f}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.ze.Pt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.tt(t,l,null),a++)}),a}It(e){const t=new Map;this.je.forEach((l,c)=>{const f=this._t(c);if(f){if(l.current&&Xg(f.target)){const m=new Ae(f.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,wn.newNoDocument(m,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let i=$e();this.Ye.forEach((l,c)=>{let f=!0;c.forEachWhile(m=>{const p=this._t(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const a=new kh(e,t,this.Ze,this.He,i);return this.He=Fi(),this.Je=_f(),this.Ye=_f(),this.Ze=new Et(Be),a}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Tw,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Qt(Be),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Qt(Be),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Tw),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function _f(){return new Et(Ae.comparator)}function Sw(){return new Et(Ae.comparator)}const r4={asc:"ASCENDING",desc:"DESCENDING"},i4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s4={and:"AND",or:"OR"};class a4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zg(n,e){return n.useProto3Json||Rh(e)?e:{value:e}}function oh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function o4(n,e){return oh(n,e.toTimestamp())}function Zr(n){return nt(!!n,49232),Oe.fromTimestamp(function(t){const i=Bs(t);return new dt(i.seconds,i.nanos)}(n))}function Jy(n,e){return Jg(n,e).canonicalString()}function Jg(n,e){const t=function(a){return new gt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function qS(n){const e=gt.fromString(n);return nt(QS(e),10190,{key:e.toString()}),e}function ey(n,e){return Jy(n.databaseId,e.path)}function pg(n,e){const t=qS(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ae($S(t))}function GS(n,e){return Jy(n.databaseId,e)}function l4(n){const e=qS(n);return e.length===4?gt.emptyPath():$S(e)}function ty(n){return new gt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $S(n){return nt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Aw(n,e,t){return{name:ey(n,e),fields:t.value.mapValue.fields}}function u4(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ne(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,v){return p.useProto3Json?(nt(v===void 0||typeof v=="string",58123),pn.fromBase64String(v||"")):(nt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),pn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(p){const v=p.code===void 0?ce.UNKNOWN:BS(p.code);return new ve(v,p.message||"")}(c);t=new FS(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=pg(n,i.document.name),l=Zr(i.document.updateTime),c=i.document.createTime?Zr(i.document.createTime):Oe.min(),f=new Mn({mapValue:{fields:i.document.fields}}),m=wn.newFoundDocument(a,l,c,f),p=i.targetIds||[],v=i.removedTargetIds||[];t=new Lf(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=pg(n,i.document),l=i.readTime?Zr(i.readTime):Oe.min(),c=wn.newNoDocument(a,l),f=i.removedTargetIds||[];t=new Lf([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=pg(n,i.document),l=i.removedTargetIds||[];t=new Lf([],l,a,null)}else{if(!("filter"in e))return Ne(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new Jk(a,l),f=i.targetId;t=new zS(f,c)}}return t}function c4(n,e){let t;if(e instanceof Mc)t={update:Aw(n,e.key,e.value)};else if(e instanceof Xy)t={delete:ey(n,e.key)};else if(e instanceof Qs)t={update:Aw(n,e.key,e.data),updateMask:_4(e.fieldMask)};else{if(!(e instanceof Xk))return Ne(16599,{ft:e.type});t={verify:ey(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const f=c.transform;if(f instanceof sh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof bc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ec)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof ah)return{fieldPath:c.field.canonicalString(),increment:f.Re};throw Ne(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:o4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ne(27497)}(n,e.precondition)),t}function d4(n,e){return n&&n.length>0?(nt(e!==void 0,14353),n.map(t=>function(a,l){let c=a.updateTime?Zr(a.updateTime):Zr(l);return c.isEqual(Oe.min())&&(c=Zr(l)),new Yk(c,a.transformResults||[])}(t,e))):[]}function f4(n,e){return{documents:[GS(n,e.path)]}}function h4(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=GS(n,a);const l=function(p){if(p.length!==0)return KS(wr.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(v=>function(E){return{field:Wo(E.field),direction:g4(E.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=Zg(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:a}}function m4(n){let e=l4(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){nt(i===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(b){const E=YS(b);return E instanceof wr&&xS(E)?E.getFilters():[E]}(t.where));let c=[];t.orderBy&&(c=function(b){return b.map(E=>function(C){return new _c(Zo(C.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(E))}(t.orderBy));let f=null;t.limit&&(f=function(b){let E;return E=typeof b=="object"?b.value:b,Rh(E)?null:E}(t.limit));let m=null;t.startAt&&(m=function(b){const E=!!b.before,R=b.values||[];return new rh(R,E)}(t.startAt));let p=null;return t.endAt&&(p=function(b){const E=!b.before,R=b.values||[];return new rh(R,E)}(t.endAt)),Mk(e,a,c,l,f,"F",m,p)}function p4(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function YS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Zo(t.unaryFilter.field);return Ut.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Zo(t.unaryFilter.field);return Ut.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Zo(t.unaryFilter.field);return Ut.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Zo(t.unaryFilter.field);return Ut.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ut.create(Zo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return wr.create(t.compositeFilter.filters.map(i=>YS(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}}(t.compositeFilter.op))}(n):Ne(30097,{filter:n})}function g4(n){return r4[n]}function y4(n){return i4[n]}function v4(n){return s4[n]}function Wo(n){return{fieldPath:n.canonicalString()}}function Zo(n){return fn.fromServerFormat(n.fieldPath)}function KS(n){return n instanceof Ut?function(t){if(t.op==="=="){if(hw(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NAN"}};if(fw(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(hw(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NOT_NAN"}};if(fw(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wo(t.field),op:y4(t.op),value:t.value}}}(n):n instanceof wr?function(t){const i=t.getFilters().map(a=>KS(a));return i.length===1?i[0]:{compositeFilter:{op:v4(t.op),filters:i}}}(n):Ne(54877,{filter:n})}function _4(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function QS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,t,i,a,l=Oe.min(),c=Oe.min(),f=pn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.wt=e}}function E4(n){const e=m4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ih(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(){this.Cn=new x4}addToCollectionParentIndex(e,t){return this.Cn.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(Us.min())}getMinOffsetFromCollectionGroup(e,t){return de.resolve(Us.min())}updateCollectionGroup(e,t,i){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class x4{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Qt(gt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Qt(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XS=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(XS,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new vl(0)}static lr(){return new vl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="LruGarbageCollector",T4=1048576;function Iw([n,e],[t,i]){const a=Be(n,t);return a===0?Be(e,i):a}class S4{constructor(e){this.Er=e,this.buffer=new Qt(Iw),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Iw(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class A4{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ye(Cw,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){kl(t)?ye(Cw,"Ignoring IndexedDB error during garbage collection: ",t):await Ol(t)}await this.mr(3e5)})}}class R4{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return de.resolve(Ah.le);const i=new S4(t);return this.gr.forEachTarget(e,a=>i.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>i.Rr(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(Rw)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rw):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,a,l,c,f,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a))).next(b=>(i=b,f=Date.now(),this.removeTargets(e,i,t))).next(b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(b=>(p=Date.now(),Qo()<=Ge.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${b} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b})))}}function C4(n,e){return new R4(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.changes=new Qa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?de.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&uc(i.mutation,a,Gn.empty(),dt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,$e()).next(()=>i))}getLocalViewOfDocuments(e,t,i=$e()){const a=ja();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=ec();return l.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=ja();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,$e()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,i,a){let l=Fi();const c=lc(),f=function(){return lc()}();return t.forEach((m,p)=>{const v=i.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Qs)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),uc(v.mutation,p,v.mutation.getFieldMask(),dt.now())):c.set(p.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((p,v)=>c.set(p,v)),t.forEach((p,v)=>{var b;return f.set(p,new N4(v,(b=c.get(p))!==null&&b!==void 0?b:null))}),f))}recalculateAndSaveOverlays(e,t){const i=lc();let a=new Et((c,f)=>c-f),l=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(m=>{const p=t.get(m);if(p===null)return;let v=i.get(m)||Gn.empty();v=f.applyToLocalView(p,v),i.set(m,v);const b=(a.get(f.batchId)||$e()).add(m);a=a.insert(f.batchId,b)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,v=m.value,b=OS();v.forEach(E=>{if(!l.has(E)){const R=LS(t.get(E),i.get(E));R!==null&&b.set(E,R),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,b))}return de.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return Ae.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):RS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):de.resolve(ja());let f=pc,m=l;return c.next(p=>de.forEach(p,(v,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),l.get(v)?de.resolve():this.remoteDocumentCache.getEntry(e,v).next(E=>{m=m.insert(v,E)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,m,p,$e())).next(v=>({batchId:f,changes:DS(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next(i=>{let a=ec();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=ec();return this.indexManager.getCollectionParents(e,l).next(f=>de.forEach(f,m=>{const p=function(b,E){return new Ml(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next(v=>{v.forEach((b,E)=>{c=c.insert(b,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((m,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,wn.newInvalidDocument(v)))});let f=ec();return c.forEach((m,p)=>{const v=l.get(m);v!==void 0&&uc(v.mutation,p,Gn.empty(),dt.now()),Nh(t,p)&&(f=f.insert(m,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return de.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Zr(a.createTime)}}(t)),de.resolve()}getNamedQuery(e,t){return de.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(a){return{name:a.name,query:E4(a.bundledQuery),readTime:Zr(a.readTime)}}(t)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this.overlays=new Et(Ae.comparator),this.Qr=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ja();return de.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.St(e,t,l)}),de.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Qr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(i)),de.resolve()}getOverlaysForCollection(e,t,i){const a=ja(),l=t.length+1,c=new Ae(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return de.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new Et((p,v)=>p-v);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let v=l.get(p.largestBatchId);v===null&&(v=ja(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const f=ja(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,v)=>f.set(p,v)),!(f.size()>=a)););return de.resolve(f)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(i.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Zk(t,i));let l=this.Qr.get(t);l===void 0&&(l=$e(),this.Qr.set(t,l)),this.Qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(){this.$r=new Qt(sn.Ur),this.Kr=new Qt(sn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new sn(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new sn(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new Ae(new gt([])),i=new sn(t,e),a=new sn(t,e+1),l=[];return this.Kr.forEachInRange([i,a],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Ae(new gt([])),i=new sn(t,e),a=new sn(t,e+1);let l=$e();return this.Kr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new sn(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class sn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Ae.comparator(e.key,t.key)||Be(e.Zr,t.Zr)}static Wr(e,t){return Be(e.Zr,t.Zr)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Qt(sn.Ur)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Wk(l,t,i,a);this.mutationQueue.push(c);for(const f of a)this.Xr=this.Xr.add(new sn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return de.resolve(c)}lookupMutationBatch(e,t){return de.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ti(i),l=a<0?0:a;return de.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?Hy:this.nr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new sn(t,0),a=new sn(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([i,a],c=>{const f=this.ei(c.Zr);l.push(f)}),de.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Qt(Be);return t.forEach(a=>{const l=new sn(a,0),c=new sn(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],f=>{i=i.add(f.Zr)})}),de.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Ae.isDocumentKey(l)||(l=l.child(""));const c=new sn(new Ae(l),0);let f=new Qt(Be);return this.Xr.forEachWhile(m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Zr)),!0)},c),de.resolve(this.ni(f))}ni(e){const t=[];return e.forEach(i=>{const a=this.ei(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){nt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return de.forEach(t.mutations,a=>{const l=new sn(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new sn(t,0),a=this.Xr.firstAfterOrEqual(i);return de.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e){this.ii=e,this.docs=function(){return new Et(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return de.resolve(i?i.document.mutableCopy():wn.newInvalidDocument(t))}getEntries(e,t){let i=Fi();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():wn.newInvalidDocument(a))}),de.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=Fi();const c=t.path,f=new Ae(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||fk(dk(v),i)<=0||(a.has(v.key)||Nh(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return de.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Ne(9500)}si(e,t){return de.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new V4(this)}getSize(e){return de.resolve(this.size)}}class V4 extends I4{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Br.addEntry(e,a)):this.Br.removeEntry(i)}),de.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.persistence=e,this.oi=new Qa(t=>$y(t),Yy),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this._i=0,this.ai=new ev,this.targetCount=0,this.ui=vl.cr()}forEachTarget(e,t){return this.oi.forEach((i,a)=>t(a)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),de.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new vl(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.Tr(t),de.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.oi.forEach((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),de.waitFor(l).next(()=>a)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return de.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),de.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),de.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),de.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return de.resolve(i)}containsKey(e,t){return de.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,t){this.ci={},this.overlays={},this.li=new Ah(0),this.hi=!1,this.hi=!0,this.Pi=new M4,this.referenceDelegate=e(this),this.Ti=new L4(this),this.indexManager=new w4,this.remoteDocumentCache=function(a){return new j4(a)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new b4(t),this.Ei=new O4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new k4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new P4(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){ye("MemoryPersistence","Starting transaction:",e);const a=new U4(this.li.next());return this.referenceDelegate.di(),i(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(e,t){return de.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class U4 extends mk{constructor(e){super(),this.currentSequenceNumber=e}}class tv{constructor(e){this.persistence=e,this.Vi=new ev,this.mi=null}static fi(e){return new tv(e)}get gi(){if(this.mi)return this.mi;throw Ne(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),de.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),de.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(a=>this.gi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.gi,i=>{const a=Ae.fromPath(i);return this.pi(e,a).next(l=>{l||t.removeEntry(a,Oe.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return de.or([()=>de.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class lh{constructor(e,t){this.persistence=e,this.yi=new Qa(i=>yk(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=C4(this,t)}static fi(e,t){return new lh(e,t)}di(){}Ai(e){return de.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return de.forEach(this.yi,(i,a)=>this.Dr(e,i,a).next(l=>l?de.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(e,c=>this.Dr(e,c,t).next(f=>{f||(i++,l.removeEntry(c,Oe.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),de.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),de.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),de.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Pf(e.data.value)),t}Dr(e,t,i){return de.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.yi.get(t);return de.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.ds=i,this.As=a}static Rs(e,t){let i=$e(),a=$e();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new nv(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return _3()?8:pk(xn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ws(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.bs(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new B4;return this.Ss(e,t,c).next(f=>{if(l.result=f,this.fs)return this.Ds(e,t,c,f.size)})}).next(()=>l.result)}Ds(e,t,i,a){return i.documentReadCount<this.gs?(Qo()<=Ge.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Xo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),de.resolve()):(Qo()<=Ge.DEBUG&&ye("QueryEngine","Query:",Xo(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ps*a?(Qo()<=Ge.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Xo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wr(t))):de.resolve())}ws(e,t){if(yw(t))return de.resolve(null);let i=Wr(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=ih(t,null,"F"),i=Wr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=$e(...l);return this.ys.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(m=>{const p=this.vs(t,f);return this.Cs(t,p,c,m.readTime)?this.ws(e,ih(t,null,"F")):this.Fs(e,p,t,m)}))})))}bs(e,t,i,a){return yw(t)||a.isEqual(Oe.min())?de.resolve(null):this.ys.getDocuments(e,i).next(l=>{const c=this.vs(t,l);return this.Cs(t,c,i,a)?de.resolve(null):(Qo()<=Ge.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Xo(t)),this.Fs(e,c,t,ck(a,pc)).next(f=>f))})}vs(e,t){let i=new Qt(IS(e));return t.forEach((a,l)=>{Nh(e,l)&&(i=i.add(l))}),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return Qo()<=Ge.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Xo(t)),this.ys.getDocumentsMatchingQuery(e,t,Us.min(),i)}Fs(e,t,i,a){return this.ys.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="LocalStore",F4=3e8;class H4{constructor(e,t,i,a){this.persistence=e,this.Ms=t,this.serializer=a,this.xs=new Et(Be),this.Os=new Qa(l=>$y(l),Yy),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D4(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function q4(n,e,t,i){return new H4(n,e,t,i)}async function ZS(n,e){const t=ke(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],f=[];let m=$e();for(const p of a){c.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of l){f.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(i,m).next(p=>({ks:p,removedBatchIds:c,addedBatchIds:f}))})})}function G4(n,e){const t=ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(f,m,p,v){const b=p.batch,E=b.keys();let R=de.resolve();return E.forEach(C=>{R=R.next(()=>v.getEntry(m,C)).next(A=>{const D=p.docVersions.get(C);nt(D!==null,48541),A.version.compareTo(D)<0&&(b.applyToRemoteDocument(A,p),A.isValidDocument()&&(A.setReadTime(p.commitVersion),v.addEntry(A)))})}),R.next(()=>f.mutationQueue.removeMutationBatch(m,b))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let m=$e();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function JS(n){const e=ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function $4(n,e){const t=ke(n),i=e.snapshotVersion;let a=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});a=t.xs;const f=[];e.targetChanges.forEach((v,b)=>{const E=a.get(b);if(!E)return;f.push(t.Ti.removeMatchingKeys(l,v.removedDocuments,b).next(()=>t.Ti.addMatchingKeys(l,v.addedDocuments,b)));let R=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?R=R.withResumeToken(pn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,i)),a=a.insert(b,R),function(A,D,V){return A.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=F4?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(E,R,v)&&f.push(t.Ti.updateTargetData(l,R))});let m=Fi(),p=$e();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),f.push(Y4(l,c,e.documentUpdates).next(v=>{m=v.qs,p=v.Qs})),!i.isEqual(Oe.min())){const v=t.Ti.getLastRemoteSnapshotVersion(l).next(b=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(v)}return de.waitFor(f).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(t.xs=a,l))}function Y4(n,e,t){let i=$e(),a=$e();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Fi();return t.forEach((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Oe.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):ye(rv,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)}),{qs:c,Qs:a}})}function K4(n,e){const t=ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Hy),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Q4(n,e){const t=ke(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Ti.getTargetData(i,e).next(l=>l?(a=l,de.resolve(a)):t.Ti.allocateTargetId(i).next(c=>(a=new Ns(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.xs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function ny(n,e,t){const i=ke(n),a=i.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!kl(c))throw c;ye(rv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.xs=i.xs.remove(e),i.Os.delete(a.target)}function Nw(n,e,t){const i=ke(n);let a=Oe.min(),l=$e();return i.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,v){const b=ke(m),E=b.Os.get(v);return E!==void 0?de.resolve(b.xs.get(E)):b.Ti.getTargetData(p,v)}(i,c,Wr(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(c,f.targetId).next(m=>{l=m})}).next(()=>i.Ms.getDocumentsMatchingQuery(c,e,t?a:Oe.min(),t?l:$e())).next(f=>(X4(i,jk(e),f),{documents:f,$s:l})))}function X4(n,e,t){let i=n.Ns.get(e)||Oe.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Ns.set(e,i)}class Dw{constructor(){this.activeTargetIds=Fk()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class W4{constructor(){this.xo=new Dw,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Dw,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="ConnectivityMonitor";class kw{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ye(Ow,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ye(Ow,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf=null;function ry(){return bf===null?bf=function(){return 268435456+Math.round(2147483648*Math.random())}():bf++,"0x"+bf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="RestConnection",J4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eM{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${a}`,this.Go=this.databaseId.database===th?`project_id=${i}`:`project_id=${i}&database_id=${a}`}zo(e,t,i,a,l){const c=ry(),f=this.jo(e,t.toUriEncodedString());ye(gg,`Sending RPC '${e}' ${c}:`,f,i);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,a,l);const{host:p}=new URL(f),v=Cl(p);return this.Jo(e,f,m,i,v).then(b=>(ye(gg,`Received RPC '${e}' ${c}: `,b),b),b=>{throw ml(gg,`RPC '${e}' ${c} failed with error: `,b,"url: ",f,"request:",i),b})}Yo(e,t,i,a,l,c){return this.zo(e,t,i,a,l)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Dl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}jo(e,t){const i=J4[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class nM extends eM{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const c=ry();return new Promise((f,m)=>{const p=new nS;p.setWithCredentials(!0),p.listenOnce(rS.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Mf.NO_ERROR:const b=p.getResponseJson();ye(_n,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),f(b);break;case Mf.TIMEOUT:ye(_n,`RPC '${e}' ${c} timed out`),m(new ve(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Mf.HTTP_ERROR:const E=p.getStatus();if(ye(_n,`RPC '${e}' ${c} failed with status:`,E,"response text:",p.getResponseText()),E>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const C=R==null?void 0:R.error;if(C&&C.status&&C.message){const A=function(V){const U=V.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(U)>=0?U:ce.UNKNOWN}(C.status);m(new ve(A,C.message))}else m(new ve(ce.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ve(ce.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{h_:e,streamId:c,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{ye(_n,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(a);ye(_n,`RPC '${e}' ${c} sending request:`,a),p.send(t,"POST",v,i,15)})}I_(e,t,i){const a=ry(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=aS(),f=sS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const v=l.join("");ye(_n,`Creating RPC '${e}' stream ${a}: ${v}`,m);const b=c.createWebChannel(v,m);this.E_(b);let E=!1,R=!1;const C=new tM({Zo:D=>{R?ye(_n,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(E||(ye(_n,`Opening RPC '${e}' stream ${a} transport.`),b.open(),E=!0),ye(_n,`RPC '${e}' stream ${a} sending:`,D),b.send(D))},Xo:()=>b.close()}),A=(D,V,U)=>{D.listen(V,z=>{try{U(z)}catch(K){setTimeout(()=>{throw K},0)}})};return A(b,Ju.EventType.OPEN,()=>{R||(ye(_n,`RPC '${e}' stream ${a} transport opened.`),C.__())}),A(b,Ju.EventType.CLOSE,()=>{R||(R=!0,ye(_n,`RPC '${e}' stream ${a} transport closed`),C.u_(),this.d_(b))}),A(b,Ju.EventType.ERROR,D=>{R||(R=!0,ml(_n,`RPC '${e}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),C.u_(new ve(ce.UNAVAILABLE,"The operation could not be completed")))}),A(b,Ju.EventType.MESSAGE,D=>{var V;if(!R){const U=D.data[0];nt(!!U,16349);const z=U,K=(z==null?void 0:z.error)||((V=z[0])===null||V===void 0?void 0:V.error);if(K){ye(_n,`RPC '${e}' stream ${a} received error:`,K);const Q=K.status;let ie=function(k){const L=Lt[k];if(L!==void 0)return BS(L)}(Q),N=K.message;ie===void 0&&(ie=ce.INTERNAL,N="Unknown error status: "+Q+" with message "+K.message),R=!0,C.u_(new ve(ie,N)),b.close()}else ye(_n,`RPC '${e}' stream ${a} received:`,U),C.c_(U)}}),A(f,iS.STAT_EVENT,D=>{D.stat===Gg.PROXY?ye(_n,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===Gg.NOPROXY&&ye(_n,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function yg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(n){return new a4(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,t,i=1e3,a=1.5,l=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=a,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),a=Math.max(0,t-i);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="PersistentStream";class t1{constructor(e,t,i,a,l,c,f,m){this.xi=e,this.S_=i,this.D_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new e1(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(zi(t.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.v_===t&&this.z_(i,a)},i=>{e(()=>{const a=new ve(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(a)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{i(()=>this.j_(a))}),this.stream.onMessage(a=>{i(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ye(Mw,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(ye(Mw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rM extends t1{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=u4(this.serializer,e),i=function(l){if(!("targetChange"in l))return Oe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Oe.min():c.readTime?Zr(c.readTime):Oe.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=ty(this.serializer),t.addTarget=function(l,c){let f;const m=c.target;if(f=Xg(m)?{documents:f4(l,m)}:{query:h4(l,m).gt},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=HS(l,c.resumeToken);const p=Zg(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Oe.min())>0){f.readTime=oh(l,c.snapshotVersion.toTimestamp());const p=Zg(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,e);const i=p4(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=ty(this.serializer),t.removeTarget=e,this.Q_(t)}}class iM extends t1{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=d4(e.writeResults,e.commitTime),i=Zr(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=ty(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>c4(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{}class aM extends sM{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new ve(ce.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(e,Jg(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(ce.UNKNOWN,l.toString())})}Yo(e,t,i,a,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Yo(e,Jg(t,i),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(ce.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class oM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(zi(t),this.ua=!1):ye("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="RemoteStore";class lM{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(c=>{i.enqueueAndForget(async()=>{Xa(this)&&(ye(Ha,"Restarting streams for network reachability change."),await async function(m){const p=ke(m);p.da.add(4),await jc(p),p.Va.set("Unknown"),p.da.delete(4),await Ph(p)}(this))})}),this.Va=new oM(i,a)}}async function Ph(n){if(Xa(n))for(const e of n.Aa)await e(!0)}async function jc(n){for(const e of n.Aa)await e(!1)}function n1(n,e){const t=ke(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),ov(t)?av(t):Pl(t).N_()&&sv(t,e))}function iv(n,e){const t=ke(n),i=Pl(t);t.Ea.delete(e),i.N_()&&r1(t,e),t.Ea.size===0&&(i.N_()?i.k_():Xa(t)&&t.Va.set("Unknown"))}function sv(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Pl(n).Z_(e)}function r1(n,e){n.ma.Ke(e),Pl(n).X_(e)}function av(n){n.ma=new n4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Pl(n).start(),n.Va.ca()}function ov(n){return Xa(n)&&!Pl(n).O_()&&n.Ea.size>0}function Xa(n){return ke(n).da.size===0}function i1(n){n.ma=void 0}async function uM(n){n.Va.set("Online")}async function cM(n){n.Ea.forEach((e,t)=>{sv(n,e)})}async function dM(n,e){i1(n),ov(n)?(n.Va.Pa(e),av(n)):n.Va.set("Unknown")}async function fM(n,e,t){if(n.Va.set("Online"),e instanceof FS&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ea.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ea.delete(f),a.ma.removeTarget(f))}(n,e)}catch(i){ye(Ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await uh(n,i)}else if(e instanceof Lf?n.ma.Xe(e):e instanceof zS?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Oe.min()))try{const i=await JS(n.localStore);t.compareTo(i)>=0&&await function(l,c){const f=l.ma.It(c);return f.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ea.get(p);v&&l.Ea.set(p,v.withResumeToken(m.resumeToken,c))}}),f.targetMismatches.forEach((m,p)=>{const v=l.Ea.get(m);if(!v)return;l.Ea.set(m,v.withResumeToken(pn.EMPTY_BYTE_STRING,v.snapshotVersion)),r1(l,m);const b=new Ns(v.target,m,p,v.sequenceNumber);sv(l,b)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){ye(Ha,"Failed to raise snapshot:",i),await uh(n,i)}}async function uh(n,e,t){if(!kl(e))throw e;n.da.add(1),await jc(n),n.Va.set("Offline"),t||(t=()=>JS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ye(Ha,"Retrying IndexedDB access"),await t(),n.da.delete(1),await Ph(n)})}function s1(n,e){return e().catch(t=>uh(n,t,e))}async function jh(n){const e=ke(n),t=Hs(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Hy;for(;hM(e);)try{const a=await K4(e.localStore,i);if(a===null){e.Ia.length===0&&t.k_();break}i=a.batchId,mM(e,a)}catch(a){await uh(e,a)}a1(e)&&o1(e)}function hM(n){return Xa(n)&&n.Ia.length<10}function mM(n,e){n.Ia.push(e);const t=Hs(n);t.N_()&&t.ea&&t.ta(e.mutations)}function a1(n){return Xa(n)&&!Hs(n).O_()&&n.Ia.length>0}function o1(n){Hs(n).start()}async function pM(n){Hs(n).ia()}async function gM(n){const e=Hs(n);for(const t of n.Ia)e.ta(t.mutations)}async function yM(n,e,t){const i=n.Ia.shift(),a=Wy.from(i,e,t);await s1(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await jh(n)}async function vM(n,e){e&&Hs(n).ea&&await async function(i,a){if(function(c){return e4(c)&&c!==ce.ABORTED}(a.code)){const l=i.Ia.shift();Hs(i).L_(),await s1(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await jh(i)}}(n,e),a1(n)&&o1(n)}async function Pw(n,e){const t=ke(n);t.asyncQueue.verifyOperationInProgress(),ye(Ha,"RemoteStore received new credentials");const i=Xa(t);t.da.add(3),await jc(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Ph(t)}async function _M(n,e){const t=ke(n);e?(t.da.delete(2),await Ph(t)):e||(t.da.add(2),await jc(t),t.Va.set("Unknown"))}function Pl(n){return n.fa||(n.fa=function(t,i,a){const l=ke(t);return l.oa(),new rM(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:uM.bind(null,n),n_:cM.bind(null,n),i_:dM.bind(null,n),Y_:fM.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),ov(n)?av(n):n.Va.set("Unknown")):(await n.fa.stop(),i1(n))})),n.fa}function Hs(n){return n.ga||(n.ga=function(t,i,a){const l=ke(t);return l.oa(),new iM(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:pM.bind(null,n),i_:vM.bind(null,n),na:gM.bind(null,n),ra:yM.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await jh(n)):(await n.ga.stop(),n.Ia.length>0&&(ye(Ha,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,f=new lv(e,t,c,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uv(n,e){if(zi("AsyncQueue",`${e}: ${n}`),kl(n))return new ve(ce.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{static emptySet(e){return new ol(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ae.comparator(t.key,i.key):(t,i)=>Ae.comparator(t.key,i.key),this.keyedMap=ec(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ol)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ol;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.pa=new Et(Ae.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Ne(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class _l{constructor(e,t,i,a,l,c,f,m,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new _l(e,t,ol.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class EM{constructor(){this.queries=Vw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=ke(t),l=a.queries;a.queries=Vw(),l.forEach((c,f)=>{for(const m of f.Sa)m.onError(i)})})(this,new ve(ce.ABORTED,"Firestore shutting down"))}}function Vw(){return new Qa(n=>CS(n),Ih)}async function l1(n,e){const t=ke(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.Da()&&e.va()&&(i=2):(l=new bM,i=e.va()?0:1);try{switch(i){case 0:l.ba=await t.onListen(a,!0);break;case 1:l.ba=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const f=uv(c,`Initialization of query '${Xo(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.Sa.push(e),e.Fa(t.onlineState),l.ba&&e.Ma(l.ba)&&cv(t)}async function u1(n,e){const t=ke(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.va()?0:1:!l.Da()&&e.va()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function wM(n,e){const t=ke(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const f of c.Sa)f.Ma(a)&&(i=!0);c.ba=a}}i&&cv(t)}function xM(n,e,t){const i=ke(n),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function cv(n){n.Ca.forEach(e=>{e.next()})}var iy,Lw;(Lw=iy||(iy={})).xa="default",Lw.Cache="cache";class c1{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new _l(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=_l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==iy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e){this.key=e}}class f1{constructor(e){this.key=e}}class TM{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=$e(),this.mutatedKeys=$e(),this.Za=IS(e),this.Xa=new ol(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new jw,a=t?t.Xa:this.Xa;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,b)=>{const E=a.get(v),R=Nh(this.query,b)?b:null,C=!!E&&this.mutatedKeys.has(E.key),A=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let D=!1;E&&R?E.data.isEqual(R.data)?C!==A&&(i.track({type:3,doc:R}),D=!0):this.ru(E,R)||(i.track({type:2,doc:R}),D=!0,(m&&this.Za(R,m)>0||p&&this.Za(R,p)<0)&&(f=!0)):!E&&R?(i.track({type:0,doc:R}),D=!0):E&&!R&&(i.track({type:1,doc:E}),D=!0,(m||p)&&(f=!0)),D&&(R?(c=c.add(R),l=A?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{Xa:c,nu:i,Cs:f,mutatedKeys:l}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const c=e.nu.wa();c.sort((v,b)=>function(R,C){const A=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Vt:D})}};return A(R)-A(C)}(v.type,b.type)||this.Za(v.doc,b.doc)),this.iu(i),a=a!=null&&a;const f=t&&!a?this.su():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Ja;return this.Ja=m,c.length!==0||p?{snapshot:new _l(this.query,e.Xa,l,c,e.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:f}:{ou:f}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new jw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=$e(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new f1(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new d1(i))}),t}au(e){this.Ha=e.$s,this.Ya=$e();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return _l.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const dv="SyncEngine";class SM{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class AM{constructor(e){this.key=e,this.cu=!1}}class RM{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new Qa(f=>CS(f),Ih),this.Pu=new Map,this.Tu=new Set,this.Iu=new Et(Ae.comparator),this.Eu=new Map,this.du=new ev,this.Au={},this.Ru=new Map,this.Vu=vl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function CM(n,e,t=!0){const i=v1(n);let a;const l=i.hu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.uu()):a=await h1(i,e,t,!0),a}async function IM(n,e){const t=v1(n);await h1(t,e,!0,!1)}async function h1(n,e,t,i){const a=await Q4(n.localStore,Wr(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await NM(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&n1(n.remoteStore,a),f}async function NM(n,e,t,i,a){n.fu=(b,E,R)=>async function(A,D,V,U){let z=D.view.tu(V);z.Cs&&(z=await Nw(A.localStore,D.query,!1).then(({documents:N})=>D.view.tu(N,z)));const K=U&&U.targetChanges.get(D.targetId),Q=U&&U.targetMismatches.get(D.targetId)!=null,ie=D.view.applyChanges(z,A.isPrimaryClient,K,Q);return Bw(A,D.targetId,ie.ou),ie.snapshot}(n,b,E,R);const l=await Nw(n.localStore,e,!0),c=new TM(e,l.$s),f=c.tu(l.documents),m=Pc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),p=c.applyChanges(f,n.isPrimaryClient,m);Bw(n,t,p.ou);const v=new SM(e,t,c);return n.hu.set(e,v),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),p.snapshot}async function DM(n,e,t){const i=ke(n),a=i.hu.get(e),l=i.Pu.get(a.targetId);if(l.length>1)return i.Pu.set(a.targetId,l.filter(c=>!Ih(c,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await ny(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&iv(i.remoteStore,a.targetId),sy(i,a.targetId)}).catch(Ol)):(sy(i,a.targetId),await ny(i.localStore,a.targetId,!0))}async function OM(n,e){const t=ke(n),i=t.hu.get(e),a=t.Pu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),iv(t.remoteStore,i.targetId))}async function kM(n,e,t){const i=BM(n);try{const a=await function(c,f){const m=ke(c),p=dt.now(),v=f.reduce((R,C)=>R.add(C.key),$e());let b,E;return m.persistence.runTransaction("Locally write mutations","readwrite",R=>{let C=Fi(),A=$e();return m.Bs.getEntries(R,v).next(D=>{C=D,C.forEach((V,U)=>{U.isValidDocument()||(A=A.add(V))})}).next(()=>m.localDocuments.getOverlayedDocuments(R,C)).next(D=>{b=D;const V=[];for(const U of f){const z=Qk(U,b.get(U.key).overlayedDocument);z!=null&&V.push(new Qs(U.key,z,bS(z.value.mapValue),ar.exists(!0)))}return m.mutationQueue.addMutationBatch(R,p,V,f)}).next(D=>{E=D;const V=D.applyToLocalDocumentSet(b,A);return m.documentOverlayCache.saveOverlays(R,D.batchId,V)})}).then(()=>({batchId:E.batchId,changes:DS(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,f,m){let p=c.Au[c.currentUser.toKey()];p||(p=new Et(Be)),p=p.insert(f,m),c.Au[c.currentUser.toKey()]=p}(i,a.batchId,t),await Vc(i,a.changes),await jh(i.remoteStore)}catch(a){const l=uv(a,"Failed to persist write");t.reject(l)}}async function m1(n,e){const t=ke(n);try{const i=await $4(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Eu.get(l);c&&(nt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.cu=!0:a.modifiedDocuments.size>0?nt(c.cu,14607):a.removedDocuments.size>0&&(nt(c.cu,42227),c.cu=!1))}),await Vc(t,i,e)}catch(i){await Ol(i)}}function Uw(n,e,t){const i=ke(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.hu.forEach((l,c)=>{const f=c.view.Fa(e);f.snapshot&&a.push(f.snapshot)}),function(c,f){const m=ke(c);m.onlineState=f;let p=!1;m.queries.forEach((v,b)=>{for(const E of b.Sa)E.Fa(f)&&(p=!0)}),p&&cv(m)}(i.eventManager,e),a.length&&i.lu.Y_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function MM(n,e,t){const i=ke(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Eu.get(e),l=a&&a.key;if(l){let c=new Et(Ae.comparator);c=c.insert(l,wn.newNoDocument(l,Oe.min()));const f=$e().add(l),m=new kh(Oe.min(),new Map,new Et(Be),c,f);await m1(i,m),i.Iu=i.Iu.remove(l),i.Eu.delete(e),fv(i)}else await ny(i.localStore,e,!1).then(()=>sy(i,e,t)).catch(Ol)}async function PM(n,e){const t=ke(n),i=e.batch.batchId;try{const a=await G4(t.localStore,e);g1(t,i,null),p1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Vc(t,a)}catch(a){await Ol(a)}}async function jM(n,e,t){const i=ke(n);try{const a=await function(c,f){const m=ke(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return m.mutationQueue.lookupMutationBatch(p,f).next(b=>(nt(b!==null,37113),v=b.keys(),m.mutationQueue.removeMutationBatch(p,b))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>m.localDocuments.getDocuments(p,v))})}(i.localStore,e);g1(i,e,t),p1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Vc(i,a)}catch(a){await Ol(a)}}function p1(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function g1(n,e,t){const i=ke(n);let a=i.Au[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Au[i.currentUser.toKey()]=a}}function sy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||y1(n,i)})}function y1(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(iv(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),fv(n))}function Bw(n,e,t){for(const i of t)i instanceof d1?(n.du.addReference(i.key,e),VM(n,i)):i instanceof f1?(ye(dv,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||y1(n,i.key)):Ne(19791,{pu:i})}function VM(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(ye(dv,"New document in limbo: "+t),n.Tu.add(i),fv(n))}function fv(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new Ae(gt.fromString(e)),i=n.Vu.next();n.Eu.set(i,new AM(t)),n.Iu=n.Iu.insert(t,i),n1(n.remoteStore,new Ns(Wr(Ky(t.path)),i,"TargetPurposeLimboResolution",Ah.le))}}async function Vc(n,e,t){const i=ke(n),a=[],l=[],c=[];i.hu.isEmpty()||(i.hu.forEach((f,m)=>{c.push(i.fu(m,e,t).then(p=>{var v;if((p||t)&&i.isPrimaryClient){const b=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(m.targetId,b?"current":"not-current")}if(p){a.push(p);const b=nv.Rs(m.targetId,p);l.push(b)}}))}),await Promise.all(c),i.lu.Y_(a),await async function(m,p){const v=ke(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>de.forEach(p,E=>de.forEach(E.ds,R=>v.persistence.referenceDelegate.addReference(b,E.targetId,R)).next(()=>de.forEach(E.As,R=>v.persistence.referenceDelegate.removeReference(b,E.targetId,R)))))}catch(b){if(!kl(b))throw b;ye(rv,"Failed to update sequence numbers: "+b)}for(const b of p){const E=b.targetId;if(!b.fromCache){const R=v.xs.get(E),C=R.snapshotVersion,A=R.withLastLimboFreeSnapshotVersion(C);v.xs=v.xs.insert(E,A)}}}(i.localStore,l))}async function LM(n,e){const t=ke(n);if(!t.currentUser.isEqual(e)){ye(dv,"User change. New user:",e.toKey());const i=await ZS(t.localStore,e);t.currentUser=e,function(l,c){l.Ru.forEach(f=>{f.forEach(m=>{m.reject(new ve(ce.CANCELLED,c))})}),l.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Vc(t,i.ks)}}function UM(n,e){const t=ke(n),i=t.Eu.get(e);if(i&&i.cu)return $e().add(i.key);{let a=$e();const l=t.Pu.get(e);if(!l)return a;for(const c of l){const f=t.hu.get(c);a=a.unionWith(f.view.eu)}return a}}function v1(n){const e=ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=m1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MM.bind(null,e),e.lu.Y_=wM.bind(null,e.eventManager),e.lu.gu=xM.bind(null,e.eventManager),e}function BM(n){const e=ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jM.bind(null,e),e}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return q4(this.persistence,new z4,e.initialUser,this.serializer)}Su(e){return new WS(tv.fi,this.serializer)}bu(e){return new W4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class zM extends ch{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){nt(this.persistence.referenceDelegate instanceof lh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new A4(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new WS(i=>lh.fi(i,t),this.serializer)}}class ay{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Uw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=LM.bind(null,this.syncEngine),await _M(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new EM}()}createDatastore(e){const t=Mh(e.databaseInfo.databaseId),i=function(l){return new nM(l)}(e.databaseInfo);return function(l,c,f,m){return new aM(l,c,f,m)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,f){return new lM(i,a,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Uw(this.syncEngine,t,0),function(){return kw.C()?new kw:new Z4}())}createSyncEngine(e,t){return function(a,l,c,f,m,p,v){const b=new RM(a,l,c,f,m,p);return v&&(b.mu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=ke(a);ye(Ha,"RemoteStore shutting down."),l.da.add(5),await jc(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ay.provider={build:()=>new ay};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):zi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="FirestoreClient";class FM{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=En.UNAUTHENTICATED,this.clientId=cS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{ye(qs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ye(qs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=uv(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function vg(n,e){n.asyncQueue.verifyOperationInProgress(),ye(qs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await ZS(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function zw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await HM(n);ye(qs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Pw(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>Pw(e.remoteStore,a)),n._onlineComponents=e}async function HM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(qs,"Using user provided OfflineComponentProvider");try{await vg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ce.FAILED_PRECONDITION||a.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;ml("Error using user provided cache. Falling back to memory cache: "+t),await vg(n,new ch)}}else ye(qs,"Using default OfflineComponentProvider"),await vg(n,new zM(void 0));return n._offlineComponents}async function b1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(qs,"Using user provided OnlineComponentProvider"),await zw(n,n._uninitializedComponentsProvider._online)):(ye(qs,"Using default OnlineComponentProvider"),await zw(n,new ay))),n._onlineComponents}function qM(n){return b1(n).then(e=>e.syncEngine)}async function E1(n){const e=await b1(n),t=e.eventManager;return t.onListen=CM.bind(null,e.syncEngine),t.onUnlisten=DM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=IM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=OM.bind(null,e.syncEngine),t}function GM(n,e,t={}){const i=new Pi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,p){const v=new _1({next:E=>{v.xu(),c.enqueueAndForget(()=>u1(l,b));const R=E.docs.has(f);!R&&E.fromCache?p.reject(new ve(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&E.fromCache&&m&&m.source==="server"?p.reject(new ve(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),b=new c1(Ky(f.path),v,{includeMetadataChanges:!0,Qa:!0});return l1(l,b)}(await E1(n),n.asyncQueue,e,t,i)),i.promise}function $M(n,e,t={}){const i=new Pi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,p){const v=new _1({next:E=>{v.xu(),c.enqueueAndForget(()=>u1(l,b)),E.fromCache&&m.source==="server"?p.reject(new ve(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),b=new c1(f,v,{includeMetadataChanges:!0,Qa:!0});return l1(l,b)}(await E1(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(n,e,t){if(!t)throw new ve(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function YM(n,e,t,i){if(e===!0&&i===!0)throw new ve(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Hw(n){if(!Ae.isDocumentKey(n))throw new ve(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qw(n){if(Ae.isDocumentKey(n))throw new ve(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Vh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ne(12329,{type:typeof n})}function xr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Vh(n);throw new ve(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="firestore.googleapis.com",Gw=!0;class $w{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=T1,this.ssl=Gw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Gw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<T4)throw new ve(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=w1((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ve(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ve(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ve(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lh{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $w({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $w(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new tk;switch(i.type){case"firstParty":return new sk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Fw.get(t);i&&(ye("ComponentProvider","Removing Datastore"),Fw.delete(t),i.terminate())}(this),Promise.resolve()}}function KM(n,e,t,i={}){var a;n=xr(n,Lh);const l=Cl(e),c=n._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),m=`${e}:${t}`;l&&(hT(`https://${m}`),mT("Firestore",!0)),c.host!==T1&&c.host!==m&&ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:i});if(!La(p,f)&&(n._setSettings(p),i.mockUserToken)){let v,b;if(typeof i.mockUserToken=="string")v=i.mockUserToken,b=En.MOCK_USER;else{v=c3(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new ve(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new En(E)}n._authCredentials=new nk(new lS(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Xs(this.firestore,e,this._query)}}class In{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}}class Ps extends Xs{constructor(e,t,i){super(e,t,Ky(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new Ae(e))}withConverter(e){return new Ps(this.firestore,e,this._path)}}function mn(n,e,...t){if(n=Xt(n),x1("collection","path",e),n instanceof Lh){const i=gt.fromString(e,...t);return qw(i),new Ps(n,null,i)}{if(!(n instanceof In||n instanceof Ps))throw new ve(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(gt.fromString(e,...t));return qw(i),new Ps(n.firestore,null,i)}}function Jr(n,e,...t){if(n=Xt(n),arguments.length===1&&(e=cS.newId()),x1("doc","path",e),n instanceof Lh){const i=gt.fromString(e,...t);return Hw(i),new In(n,null,new Ae(i))}{if(!(n instanceof In||n instanceof Ps))throw new ve(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(gt.fromString(e,...t));return Hw(i),new In(n.firestore,n instanceof Ps?n.converter:null,new Ae(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="AsyncQueue";class Kw{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new e1(this,"async_queue_retry"),this.rc=()=>{const i=yg();i&&ye(Yw,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=yg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=yg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Pi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!kl(e))throw e;ye(Yw,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,zi("INTERNAL UNHANDLED ERROR: ",Qw(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const a=lv.createAndSchedule(this,e,t,i,l=>this.uc(l));return this.Zu.push(a),a}oc(){this.Xu&&Ne(47125,{cc:Qw(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function Qw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Wa extends Lh{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new Kw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Kw(e),this._firestoreClient=void 0,await e}}}function QM(n,e){const t=typeof n=="object"?n:vT(),i=typeof n=="string"?n:th,a=ky(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=l3("firestore");l&&KM(a,...l)}return a}function hv(n){if(n._terminated)throw new ve(ce.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||XM(n),n._firestoreClient}function XM(n){var e,t,i;const a=n._freezeSettings(),l=function(f,m,p,v){return new bk(f,m,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,w1(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new FM(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bl(pn.fromBase64String(e))}catch(t){throw new ve(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new bl(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=/^__.*__$/;class ZM{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Qs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mc(e,this.data,t,this.fieldTransforms)}}class S1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Qs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function A1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ic:n})}}class yv{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new yv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Vc(e),a}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return dh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(A1(this.Ic)&&WM.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class JM{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Mh(e)}bc(e,t,i,a=!1){return new yv({Ic:e,methodName:t,wc:i,path:fn.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bh(n){const e=n._freezeSettings(),t=Mh(n._databaseId);return new JM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function R1(n,e,t,i,a,l={}){const c=n.bc(l.merge||l.mergeFields?2:0,e,t,a);vv("Data must be an object, but it was:",c,i);const f=C1(i,c);let m,p;if(l.merge)m=new Gn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const E=oy(e,b,t);if(!c.contains(E))throw new ve(ce.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);N1(v,E)||v.push(E)}m=new Gn(v),p=c.fieldTransforms.filter(b=>m.covers(b.field))}else m=null,p=c.fieldTransforms;return new ZM(new Mn(f),m,p)}class zh extends mv{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zh}}function eP(n,e,t,i){const a=n.bc(1,e,t);vv("Data must be an object, but it was:",a,i);const l=[],c=Mn.empty();Ks(i,(m,p)=>{const v=_v(e,m,t);p=Xt(p);const b=a.mc(v);if(p instanceof zh)l.push(v);else{const E=Lc(p,b);E!=null&&(l.push(v),c.set(v,E))}});const f=new Gn(l);return new S1(c,f,a.fieldTransforms)}function tP(n,e,t,i,a,l){const c=n.bc(1,e,t),f=[oy(e,i,t)],m=[a];if(l.length%2!=0)throw new ve(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)f.push(oy(e,l[E])),m.push(l[E+1]);const p=[],v=Mn.empty();for(let E=f.length-1;E>=0;--E)if(!N1(p,f[E])){const R=f[E];let C=m[E];C=Xt(C);const A=c.mc(R);if(C instanceof zh)p.push(R);else{const D=Lc(C,A);D!=null&&(p.push(R),v.set(R,D))}}const b=new Gn(p);return new S1(v,b,c.fieldTransforms)}function nP(n,e,t,i=!1){return Lc(t,n.bc(i?4:3,e))}function Lc(n,e){if(I1(n=Xt(n)))return vv("Unsupported field value:",e,n),C1(n,e);if(n instanceof mv)return function(i,a){if(!A1(a.Ic))throw a.gc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const f of i){let m=Lc(f,a.fc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=Xt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Hk(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=dt.fromDate(i);return{timestampValue:oh(a.serializer,l)}}if(i instanceof dt){const l=new dt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:oh(a.serializer,l)}}if(i instanceof pv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof bl)return{bytesValue:HS(a.serializer,i._byteString)};if(i instanceof In){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Jy(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof gv)return function(c,f){return{mapValue:{fields:{[vS]:{stringValue:_S},[nh]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw f.gc("VectorValues must only contain numeric values.");return Qy(f.serializer,p)})}}}}}}(i,a);throw a.gc(`Unsupported field value: ${Vh(i)}`)}(n,e)}function C1(n,e){const t={};return fS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(n,(i,a)=>{const l=Lc(a,e.Ac(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function I1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof dt||n instanceof pv||n instanceof bl||n instanceof In||n instanceof mv||n instanceof gv)}function vv(n,e,t){if(!I1(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=Vh(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function oy(n,e,t){if((e=Xt(e))instanceof Uh)return e._internalPath;if(typeof e=="string")return _v(n,e);throw dh("Field path arguments must be of type string or ",n,!1,void 0,t)}const rP=new RegExp("[~\\*/\\[\\]]");function _v(n,e,t){if(e.search(rP)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Uh(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dh(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new ve(ce.INVALID_ARGUMENT,f+n+m)}function N1(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Fh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class iP extends D1{data(){return super.data()}}function Fh(n,e){return typeof e=="string"?_v(n,e):e instanceof Uh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bv{}class Ev extends bv{}function ji(n,e,...t){let i=[];e instanceof bv&&i.push(e),i=i.concat(t),function(l){const c=l.filter(m=>m instanceof wv).length,f=l.filter(m=>m instanceof Hh).length;if(c>1||c>0&&f>0)throw new ve(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class Hh extends Ev{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Hh(e,t,i)}_apply(e){const t=this._parse(e);return O1(e._query,t),new Xs(e.firestore,e.converter,Wg(e._query,t))}_parse(e){const t=Bh(e.firestore);return function(l,c,f,m,p,v,b){let E;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ve(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Ww(b,v);const C=[];for(const A of b)C.push(Xw(m,l,A));E={arrayValue:{values:C}}}else E=Xw(m,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Ww(b,v),E=nP(f,c,b,v==="in"||v==="not-in");return Ut.create(p,v,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Va(n,e,t){const i=e,a=Fh("where",n);return Hh._create(a,i,t)}class wv extends bv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new wv(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:wr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)O1(c,m),c=Wg(c,m)}(e._query,t),new Xs(e.firestore,e.converter,Wg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xv extends Ev{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new xv(e,t)}_apply(e){const t=function(a,l,c){if(a.startAt!==null)throw new ve(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ve(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _c(l,c)}(e._query,this._field,this._direction);return new Xs(e.firestore,e.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new Ml(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function El(n,e="asc"){const t=e,i=Fh("orderBy",n);return xv._create(i,t)}class Tv extends Ev{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Tv(e,t,i)}_apply(e){return new Xs(e.firestore,e.converter,ih(e._query,this._limit,this._limitType))}}function aP(n){return Tv._create("limit",n,"F")}function Xw(n,e,t){if(typeof(t=Xt(t))=="string"){if(t==="")throw new ve(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RS(e)&&t.indexOf("/")!==-1)throw new ve(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(gt.fromString(t));if(!Ae.isDocumentKey(i))throw new ve(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return dw(n,new Ae(i))}if(t instanceof In)return dw(n,t._key);throw new ve(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vh(t)}.`)}function Ww(n,e){if(!Array.isArray(n)||n.length===0)throw new ve(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function O1(n,e){const t=function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ve(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class oP{convertValue(e,t="none"){switch(Fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ks(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[nh].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>Ot(c.doubleValue));return new gv(l)}convertGeoPoint(e){return new pv(Ot(e.latitude),Ot(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Ch(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(gc(e));default:return null}}convertTimestamp(e){const t=Bs(e);return new dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=gt.fromString(e);nt(QS(i),9688,{name:e});const a=new yc(i.get(1),i.get(3)),l=new Ae(i.popFirst(5));return a.isEqual(t)||zi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class M1 extends D1{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Fh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Uf extends M1{data(e={}){return super.data(e)}}class lP{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new nc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Uf(this._firestore,this._userDataWriter,i.key,i,new nc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const m=new Uf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new nc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const m=new Uf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new nc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:uP(f.type),doc:m,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function uP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(n){n=xr(n,In);const e=xr(n.firestore,Wa);return GM(hv(e),n._key).then(t=>fP(e,n,t))}class P1 extends oP{constructor(e){super(),this.firestore=e}convertBytes(e){return new bl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,t)}}function or(n){n=xr(n,Xs);const e=xr(n.firestore,Wa),t=hv(e),i=new P1(e);return sP(n._query),$M(t,n._query).then(a=>new lP(e,i,n,a))}function dP(n,e,t){n=xr(n,In);const i=xr(n.firestore,Wa),a=k1(n.converter,e);return qh(i,[R1(Bh(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,ar.none())])}function fh(n,e,t,...i){n=xr(n,In);const a=xr(n.firestore,Wa),l=Bh(a);let c;return c=typeof(e=Xt(e))=="string"||e instanceof Uh?tP(l,"updateDoc",n._key,e,t,i):eP(l,"updateDoc",n._key,e),qh(a,[c.toMutation(n._key,ar.exists(!0))])}function Sv(n){return qh(xr(n.firestore,Wa),[new Xy(n._key,ar.none())])}function js(n,e){const t=xr(n.firestore,Wa),i=Jr(n),a=k1(n.converter,e);return qh(t,[R1(Bh(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,ar.exists(!1))]).then(()=>i)}function qh(n,e){return function(i,a){const l=new Pi;return i.asyncQueue.enqueueAndForget(async()=>kM(await qM(i),a,l)),l.promise}(hv(n),e)}function fP(n,e,t){const i=t.docs.get(e._key),a=new P1(n);return new M1(n,a,e._key,i,new nc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Dl=a})(Il),fl(new Ua("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new Wa(new rk(i.getProvider("auth-internal")),new ak(c,i.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ve(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yc(p.options.projectId,v)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),ks(JE,ew,e),ks(JE,ew,"esm2017")})();var hP="firebase",mP="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks(hP,mP,"app");const pP={apiKey:"AIzaSyBWOaRM6RgB2B63wqHfawl7dMBU2uTMPbI",authDomain:"billybilly-8f5a5.firebaseapp.com",projectId:"billybilly-8f5a5",storageBucket:"billybilly-8f5a5.firebasestorage.app",messagingSenderId:"667395219625",appId:"1:667395219625:web:da57f0bb7b1319838349b8"},j1=yT(pP),Ef=J6(j1),pt=QM(j1),V1=T.createContext();function Rr(){return T.useContext(V1)}function gP({children:n}){const[e,t]=T.useState(null),[i,a]=T.useState(!0),[l,c]=T.useState(null);function f(E,R,C){return PO(Ef,E,R).then(async A=>{await LO(A.user,{displayName:C}),await dP(Jr(pt,"users",A.user.uid),{email:A.user.email,displayName:C,createdAt:new Date,preferences:{currency:"USD",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}});const D=await js(mn(pt,"ledgers"),{name:"Personal Expenses",ownerId:A.user.uid,createdAt:new Date,members:{[A.user.uid]:"owner"},currency:"USD"});return c(D.id),A})}function m(E,R){return jO(Ef,E,R)}function p(){return c(null),FO(Ef)}function v(E){c(E)}T.useEffect(()=>zO(Ef,async R=>{R?t(R):(t(null),c(null)),a(!1)}),[l]);const b={currentUser:e,currentLedger:l,signup:f,login:m,logout:p,switchLedger:v};return y.jsx(V1.Provider,{value:b,children:!i&&n})}const L1=T.createContext();function Uc(){return T.useContext(L1)}function yP({children:n}){const{currentUser:e}=Rr(),[t,i]=T.useState([]),[a,l]=T.useState(null),[c,f]=T.useState(!0),m=async()=>{if(!e){i([]),l(null),f(!1);return}try{const C=mn(pt,"ledgers"),A=ji(C,Va(`members.${e.uid}`,"in",["owner","member"])),D=await or(A),V=[];D.forEach(U=>{V.push({id:U.id,...U.data()})}),i(V),V.length>0&&!a&&l(V[0])}catch(C){console.error("Error fetching ledgers:",C)}finally{f(!1)}},p=async C=>{try{const A=await cP(Jr(pt,"ledgers",C));if(A.exists()){const D={id:A.id,...A.data()};l(D)}}catch(A){console.error("Error switching ledger:",A)}},v=()=>!a||!e?null:a.members[e.uid]||null,b=()=>v()==="owner",E=()=>{const C=v();return C==="owner"||C==="member"};T.useEffect(()=>{m()},[e]);const R={ledgers:t,currentLedger:a,loading:c,switchLedger:p,fetchLedgers:m,getUserRole:v,isOwner:b,canEdit:E};return y.jsx(L1.Provider,{value:R,children:n})}function Ma({children:n}){const{currentUser:e}=Rr();return e?n:y.jsx(Ig,{to:"/login"})}function hn({className:n,type:e,...t}){return y.jsx("input",{type:e,"data-slot":"input",className:Ft("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var vP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ht=vP.reduce((n,e)=>{const t=dc(`Primitive.${e}`),i=T.forwardRef((a,l)=>{const{asChild:c,...f}=a,m=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(m,{...f,ref:l})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function _P(n,e){n&&Ac.flushSync(()=>n.dispatchEvent(e))}var bP="Label",U1=T.forwardRef((n,e)=>y.jsx(ht.label,{...n,ref:e,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||((a=n.onMouseDown)==null||a.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));U1.displayName=bP;var EP=U1;function at({className:n,...e}){return y.jsx(EP,{"data-slot":"label",className:Ft("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}const wP=Cy("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function yr({className:n,variant:e,...t}){return y.jsx("div",{"data-slot":"alert",role:"alert",className:Ft(wP({variant:e}),n),...t})}function vr({className:n,...e}){return y.jsx("div",{"data-slot":"alert-description",className:Ft("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}function xP(){const[n,e]=T.useState(""),[t,i]=T.useState(""),[a,l]=T.useState(!1),[c,f]=T.useState(""),[m,p]=T.useState(!1),{login:v}=Rr(),b=bh();async function E(R){R.preventDefault();try{f(""),p(!0),await v(n,t),b("/")}catch(C){f("Failed to log in: "+C.message)}p(!1)}return y.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"max-w-md w-full space-y-8",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"flex justify-center",children:y.jsx(dl,{className:"h-12 w-12 text-blue-600"})}),y.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Sign in to ExpenseTracker"}),y.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",y.jsx(cl,{to:"/signup",className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]}),y.jsxs(At,{children:[y.jsxs(Bt,{children:[y.jsx(zt,{children:"Welcome back"}),y.jsx(br,{children:"Enter your credentials to access your account"})]}),y.jsxs(Rt,{children:[c&&y.jsx(yr,{className:"mb-4",variant:"destructive",children:y.jsx(vr,{children:c})}),y.jsxs("form",{onSubmit:E,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx(at,{htmlFor:"email",children:"Email address"}),y.jsx(hn,{id:"email",type:"email",value:n,onChange:R=>e(R.target.value),required:!0,className:"mt-1",placeholder:"Enter your email"})]}),y.jsxs("div",{children:[y.jsx(at,{htmlFor:"password",children:"Password"}),y.jsxs("div",{className:"relative mt-1",children:[y.jsx(hn,{id:"password",type:a?"text":"password",value:t,onChange:R=>i(R.target.value),required:!0,placeholder:"Enter your password"}),y.jsx(qe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!a),children:a?y.jsx(Mg,{className:"h-4 w-4"}):y.jsx(Pg,{className:"h-4 w-4"})})]})]}),y.jsx(qe,{type:"submit",className:"w-full",disabled:m,children:m?"Signing in...":"Sign in"})]})]})]})]})})}function TP(){const[n,e]=T.useState(""),[t,i]=T.useState(""),[a,l]=T.useState(""),[c,f]=T.useState(""),[m,p]=T.useState(!1),[v,b]=T.useState(!1),[E,R]=T.useState(""),[C,A]=T.useState(!1),{signup:D}=Rr(),V=bh();async function U(z){if(z.preventDefault(),t!==a)return R("Passwords do not match");if(t.length<6)return R("Password must be at least 6 characters");try{R(""),A(!0),await D(n,t,c),V("/")}catch(K){R("Failed to create an account: "+K.message)}A(!1)}return y.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"max-w-md w-full space-y-8",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"flex justify-center",children:y.jsx(dl,{className:"h-12 w-12 text-blue-600"})}),y.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Create your account"}),y.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",y.jsx(cl,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"sign in to your existing account"})]})]}),y.jsxs(At,{children:[y.jsxs(Bt,{children:[y.jsx(zt,{children:"Get started"}),y.jsx(br,{children:"Create your account to start tracking expenses"})]}),y.jsxs(Rt,{children:[E&&y.jsx(yr,{className:"mb-4",variant:"destructive",children:y.jsx(vr,{children:E})}),y.jsxs("form",{onSubmit:U,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx(at,{htmlFor:"displayName",children:"Full Name"}),y.jsx(hn,{id:"displayName",type:"text",value:c,onChange:z=>f(z.target.value),required:!0,className:"mt-1",placeholder:"Enter your full name"})]}),y.jsxs("div",{children:[y.jsx(at,{htmlFor:"email",children:"Email address"}),y.jsx(hn,{id:"email",type:"email",value:n,onChange:z=>e(z.target.value),required:!0,className:"mt-1",placeholder:"Enter your email"})]}),y.jsxs("div",{children:[y.jsx(at,{htmlFor:"password",children:"Password"}),y.jsxs("div",{className:"relative mt-1",children:[y.jsx(hn,{id:"password",type:m?"text":"password",value:t,onChange:z=>i(z.target.value),required:!0,placeholder:"Create a password"}),y.jsx(qe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>p(!m),children:m?y.jsx(Mg,{className:"h-4 w-4"}):y.jsx(Pg,{className:"h-4 w-4"})})]})]}),y.jsxs("div",{children:[y.jsx(at,{htmlFor:"confirmPassword",children:"Confirm Password"}),y.jsxs("div",{className:"relative mt-1",children:[y.jsx(hn,{id:"confirmPassword",type:v?"text":"password",value:a,onChange:z=>l(z.target.value),required:!0,placeholder:"Confirm your password"}),y.jsx(qe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>b(!v),children:v?y.jsx(Mg,{className:"h-4 w-4"}):y.jsx(Pg,{className:"h-4 w-4"})})]})]}),y.jsx(qe,{type:"submit",className:"w-full",disabled:C,children:C?"Creating account...":"Create account"})]})]})]})]})})}function SP(){var f;const{currentUser:n}=Rr(),{currentLedger:e}=Uc(),[t,i]=T.useState({totalBalance:0,monthlySpending:0,budgetRemaining:0,recentTransactions:[],loading:!0}),a=async()=>{if(!e){i(m=>({...m,loading:!1}));return}try{const m=new Date,p=new Date(m.getFullYear(),m.getMonth(),1),v=new Date(m.getFullYear(),m.getMonth()+1,0),b=mn(pt,"ledgers",e.id,"transactions"),E=ji(b,El("date","desc"),aP(5)),R=await or(E),C=[];R.forEach(S=>{var L;const k=S.data();C.push({id:S.id,...k,date:((L=k.date)==null?void 0:L.toDate())||new Date})});const A=ji(b,El("date","desc")),D=await or(A);let V=0,U=0;D.forEach(S=>{var j;const k=S.data(),L=((j=k.date)==null?void 0:j.toDate())||new Date,P=k.amount||0;k.type==="income"?V+=P:(V-=P,L>=p&&L<=v&&(U+=P))});const z=mn(pt,"ledgers",e.id,"budgets"),K=ji(z,Va("startDate","<=",dt.fromDate(m)),Va("endDate",">=",dt.fromDate(m))),Q=await or(K);let ie=0;Q.forEach(S=>{const k=S.data();ie+=k.totalAmount||0});const N=ie-U;i({totalBalance:V,monthlySpending:U,budgetRemaining:N,recentTransactions:C,loading:!1})}catch(m){console.error("Error calculating dashboard stats:",m),i(p=>({...p,loading:!1}))}};T.useEffect(()=>{a()},[e]);const l=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(m),c=m=>{const v=Math.abs(new Date-m),b=Math.ceil(v/(1e3*60*60*24));return b===1?"Today":b===2?"Yesterday":b<=7?`${b-1} days ago`:m.toLocaleDateString()};return t.loading?y.jsx("div",{className:"p-6",children:y.jsxs("div",{className:"animate-pulse space-y-6",children:[y.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(m=>y.jsx("div",{className:"h-32 bg-gray-200 rounded"},m))}),y.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),y.jsxs(Ls,{variant:"secondary",className:"text-sm",children:["Welcome back, ",(n==null?void 0:n.displayName)||((f=n==null?void 0:n.email)==null?void 0:f.split("@")[0])||"User","!"]})]}),e&&y.jsxs("div",{className:"text-sm text-gray-600",children:["Current Ledger: ",y.jsx("span",{className:"font-medium",children:e.name})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsxs(At,{children:[y.jsxs(Bt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[y.jsx(zt,{className:"text-sm font-medium",children:"Total Balance"}),y.jsx(dl,{className:"h-4 w-4 text-muted-foreground"})]}),y.jsxs(Rt,{children:[y.jsx("div",{className:`text-2xl font-bold ${t.totalBalance>=0?"text-green-600":"text-red-600"}`,children:l(t.totalBalance)}),y.jsx("p",{className:"text-xs text-muted-foreground",children:"All time balance"})]})]}),y.jsxs(At,{children:[y.jsxs(Bt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[y.jsx(zt,{className:"text-sm font-medium",children:"Monthly Spending"}),y.jsx(QN,{className:"h-4 w-4 text-muted-foreground"})]}),y.jsxs(Rt,{children:[y.jsx("div",{className:"text-2xl font-bold text-red-600",children:l(t.monthlySpending)}),y.jsx("p",{className:"text-xs text-muted-foreground",children:"This month's expenses"})]})]}),y.jsxs(At,{children:[y.jsxs(Bt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[y.jsx(zt,{className:"text-sm font-medium",children:"Budget Remaining"}),y.jsx(tT,{className:"h-4 w-4 text-muted-foreground"})]}),y.jsxs(Rt,{children:[y.jsx("div",{className:`text-2xl font-bold ${t.budgetRemaining>=0?"text-green-600":"text-red-600"}`,children:l(t.budgetRemaining)}),y.jsx("p",{className:"text-xs text-muted-foreground",children:t.budgetRemaining>=0?"Remaining this month":"Over budget"})]})]})]}),y.jsxs(At,{children:[y.jsxs(Bt,{children:[y.jsx(zt,{children:"Recent Transactions"}),y.jsx(br,{children:"Your latest financial activity"})]}),y.jsx(Rt,{children:t.recentTransactions.length===0?y.jsxs("div",{className:"text-center py-8 text-gray-500",children:[y.jsx(dl,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),y.jsx("p",{children:"No transactions yet"}),y.jsx("p",{className:"text-sm",children:"Add your first transaction to get started"})]}):y.jsx("div",{className:"space-y-4",children:t.recentTransactions.map(m=>y.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"font-medium text-gray-900",children:m.description}),y.jsxs("p",{className:"text-sm text-gray-500",children:[m.paymentMethod," • ",c(m.date)]})]}),y.jsxs("div",{className:`font-semibold ${m.type==="income"?"text-green-600":"text-red-600"}`,children:[m.type==="income"?"+":"-",l(m.amount)]})]},m.id))})})]})]})}function Zw(n,[e,t]){return Math.min(t,Math.max(e,n))}function St(n,e,{checkForDefaultPrevented:t=!0}={}){return function(a){if(n==null||n(a),t===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function Bc(n,e=[]){let t=[];function i(l,c){const f=T.createContext(c),m=t.length;t=[...t,c];const p=b=>{var V;const{scope:E,children:R,...C}=b,A=((V=E==null?void 0:E[n])==null?void 0:V[m])||f,D=T.useMemo(()=>C,Object.values(C));return y.jsx(A.Provider,{value:D,children:R})};p.displayName=l+"Provider";function v(b,E){var A;const R=((A=E==null?void 0:E[n])==null?void 0:A[m])||f,C=T.useContext(R);if(C)return C;if(c!==void 0)return c;throw new Error(`\`${b}\` must be used within \`${l}\``)}return[p,v]}const a=()=>{const l=t.map(c=>T.createContext(c));return function(f){const m=(f==null?void 0:f[n])||l;return T.useMemo(()=>({[`__scope${n}`]:{...f,[n]:m}}),[f,m])}};return a.scopeName=n,[i,AP(a,...e)]}function AP(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const c=i.reduce((f,{useScope:m,scopeName:p})=>{const b=m(l)[`__scope${p}`];return{...f,...b}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}function RP(n){const e=n+"CollectionProvider",[t,i]=Bc(e),[a,l]=t(e,{collectionRef:{current:null},itemMap:new Map}),c=A=>{const{scope:D,children:V}=A,U=Ts.useRef(null),z=Ts.useRef(new Map).current;return y.jsx(a,{scope:D,itemMap:z,collectionRef:U,children:V})};c.displayName=e;const f=n+"CollectionSlot",m=dc(f),p=Ts.forwardRef((A,D)=>{const{scope:V,children:U}=A,z=l(f,V),K=kt(D,z.collectionRef);return y.jsx(m,{ref:K,children:U})});p.displayName=f;const v=n+"CollectionItemSlot",b="data-radix-collection-item",E=dc(v),R=Ts.forwardRef((A,D)=>{const{scope:V,children:U,...z}=A,K=Ts.useRef(null),Q=kt(D,K),ie=l(v,V);return Ts.useEffect(()=>(ie.itemMap.set(K,{ref:K,...z}),()=>void ie.itemMap.delete(K))),y.jsx(E,{[b]:"",ref:Q,children:U})});R.displayName=v;function C(A){const D=l(n+"CollectionConsumer",A);return Ts.useCallback(()=>{const U=D.collectionRef.current;if(!U)return[];const z=Array.from(U.querySelectorAll(`[${b}]`));return Array.from(D.itemMap.values()).sort((ie,N)=>z.indexOf(ie.ref.current)-z.indexOf(N.ref.current))},[D.collectionRef,D.itemMap])}return[{Provider:c,Slot:p,ItemSlot:R},C,i]}var CP=T.createContext(void 0);function IP(n){const e=T.useContext(CP);return n||e||"ltr"}function qa(n){const e=T.useRef(n);return T.useEffect(()=>{e.current=n}),T.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function NP(n,e=globalThis==null?void 0:globalThis.document){const t=qa(n);T.useEffect(()=>{const i=a=>{a.key==="Escape"&&t(a)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var DP="DismissableLayer",ly="dismissableLayer.update",OP="dismissableLayer.pointerDownOutside",kP="dismissableLayer.focusOutside",Jw,B1=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),z1=T.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:c,onDismiss:f,...m}=n,p=T.useContext(B1),[v,b]=T.useState(null),E=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,R]=T.useState({}),C=kt(e,N=>b(N)),A=Array.from(p.layers),[D]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),V=A.indexOf(D),U=v?A.indexOf(v):-1,z=p.layersWithOutsidePointerEventsDisabled.size>0,K=U>=V,Q=jP(N=>{const S=N.target,k=[...p.branches].some(L=>L.contains(S));!K||k||(a==null||a(N),c==null||c(N),N.defaultPrevented||f==null||f())},E),ie=VP(N=>{const S=N.target;[...p.branches].some(L=>L.contains(S))||(l==null||l(N),c==null||c(N),N.defaultPrevented||f==null||f())},E);return NP(N=>{U===p.layers.size-1&&(i==null||i(N),!N.defaultPrevented&&f&&(N.preventDefault(),f()))},E),T.useEffect(()=>{if(v)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Jw=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),ex(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=Jw)}},[v,E,t,p]),T.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),ex())},[v,p]),T.useEffect(()=>{const N=()=>R({});return document.addEventListener(ly,N),()=>document.removeEventListener(ly,N)},[]),y.jsx(ht.div,{...m,ref:C,style:{pointerEvents:z?K?"auto":"none":void 0,...n.style},onFocusCapture:St(n.onFocusCapture,ie.onFocusCapture),onBlurCapture:St(n.onBlurCapture,ie.onBlurCapture),onPointerDownCapture:St(n.onPointerDownCapture,Q.onPointerDownCapture)})});z1.displayName=DP;var MP="DismissableLayerBranch",PP=T.forwardRef((n,e)=>{const t=T.useContext(B1),i=T.useRef(null),a=kt(e,i);return T.useEffect(()=>{const l=i.current;if(l)return t.branches.add(l),()=>{t.branches.delete(l)}},[t.branches]),y.jsx(ht.div,{...n,ref:a})});PP.displayName=MP;function jP(n,e=globalThis==null?void 0:globalThis.document){const t=qa(n),i=T.useRef(!1),a=T.useRef(()=>{});return T.useEffect(()=>{const l=f=>{if(f.target&&!i.current){let m=function(){F1(OP,t,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=m,e.addEventListener("click",a.current,{once:!0})):m()}else e.removeEventListener("click",a.current);i.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",a.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function VP(n,e=globalThis==null?void 0:globalThis.document){const t=qa(n),i=T.useRef(!1);return T.useEffect(()=>{const a=l=>{l.target&&!i.current&&F1(kP,t,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function ex(){const n=new CustomEvent(ly);document.dispatchEvent(n)}function F1(n,e,t,{discrete:i}){const a=t.originalEvent.target,l=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&a.addEventListener(n,e,{once:!0}),i?_P(a,l):a.dispatchEvent(l)}var _g=0;function LP(){T.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??tx()),document.body.insertAdjacentElement("beforeend",n[1]??tx()),_g++,()=>{_g===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),_g--}},[])}function tx(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var bg="focusScope.autoFocusOnMount",Eg="focusScope.autoFocusOnUnmount",nx={bubbles:!1,cancelable:!0},UP="FocusScope",H1=T.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...c}=n,[f,m]=T.useState(null),p=qa(a),v=qa(l),b=T.useRef(null),E=kt(e,A=>m(A)),R=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(i){let A=function(z){if(R.paused||!f)return;const K=z.target;f.contains(K)?b.current=K:Ss(b.current,{select:!0})},D=function(z){if(R.paused||!f)return;const K=z.relatedTarget;K!==null&&(f.contains(K)||Ss(b.current,{select:!0}))},V=function(z){if(document.activeElement===document.body)for(const Q of z)Q.removedNodes.length>0&&Ss(f)};document.addEventListener("focusin",A),document.addEventListener("focusout",D);const U=new MutationObserver(V);return f&&U.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",D),U.disconnect()}}},[i,f,R.paused]),T.useEffect(()=>{if(f){ix.add(R);const A=document.activeElement;if(!f.contains(A)){const V=new CustomEvent(bg,nx);f.addEventListener(bg,p),f.dispatchEvent(V),V.defaultPrevented||(BP(GP(q1(f)),{select:!0}),document.activeElement===A&&Ss(f))}return()=>{f.removeEventListener(bg,p),setTimeout(()=>{const V=new CustomEvent(Eg,nx);f.addEventListener(Eg,v),f.dispatchEvent(V),V.defaultPrevented||Ss(A??document.body,{select:!0}),f.removeEventListener(Eg,v),ix.remove(R)},0)}}},[f,p,v,R]);const C=T.useCallback(A=>{if(!t&&!i||R.paused)return;const D=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,V=document.activeElement;if(D&&V){const U=A.currentTarget,[z,K]=zP(U);z&&K?!A.shiftKey&&V===K?(A.preventDefault(),t&&Ss(z,{select:!0})):A.shiftKey&&V===z&&(A.preventDefault(),t&&Ss(K,{select:!0})):V===U&&A.preventDefault()}},[t,i,R.paused]);return y.jsx(ht.div,{tabIndex:-1,...c,ref:E,onKeyDown:C})});H1.displayName=UP;function BP(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(Ss(i,{select:e}),document.activeElement!==t)return}function zP(n){const e=q1(n),t=rx(e,n),i=rx(e.reverse(),n);return[t,i]}function q1(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const a=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||a?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function rx(n,e){for(const t of n)if(!FP(t,{upTo:e}))return t}function FP(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function HP(n){return n instanceof HTMLInputElement&&"select"in n}function Ss(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&HP(n)&&e&&n.select()}}var ix=qP();function qP(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=sx(n,e),n.unshift(e)},remove(e){var t;n=sx(n,e),(t=n[0])==null||t.resume()}}}function sx(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function GP(n){return n.filter(e=>e.tagName!=="A")}var Tn=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},$P=Sx[" useId ".trim().toString()]||(()=>{}),YP=0;function Av(n){const[e,t]=T.useState($P());return Tn(()=>{t(i=>i??String(YP++))},[n]),n||(e?`radix-${e}`:"")}const KP=["top","right","bottom","left"],Gs=Math.min,qn=Math.max,hh=Math.round,wf=Math.floor,ei=n=>({x:n,y:n}),QP={left:"right",right:"left",bottom:"top",top:"bottom"},XP={start:"end",end:"start"};function uy(n,e,t){return qn(n,Gs(e,t))}function Hi(n,e){return typeof n=="function"?n(e):n}function qi(n){return n.split("-")[0]}function jl(n){return n.split("-")[1]}function Rv(n){return n==="x"?"y":"x"}function Cv(n){return n==="y"?"height":"width"}function Vi(n){return["top","bottom"].includes(qi(n))?"y":"x"}function Iv(n){return Rv(Vi(n))}function WP(n,e,t){t===void 0&&(t=!1);const i=jl(n),a=Iv(n),l=Cv(a);let c=a==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=mh(c)),[c,mh(c)]}function ZP(n){const e=mh(n);return[cy(n),e,cy(e)]}function cy(n){return n.replace(/start|end/g,e=>XP[e])}function JP(n,e,t){const i=["left","right"],a=["right","left"],l=["top","bottom"],c=["bottom","top"];switch(n){case"top":case"bottom":return t?e?a:i:e?i:a;case"left":case"right":return e?l:c;default:return[]}}function e8(n,e,t,i){const a=jl(n);let l=JP(qi(n),t==="start",i);return a&&(l=l.map(c=>c+"-"+a),e&&(l=l.concat(l.map(cy)))),l}function mh(n){return n.replace(/left|right|bottom|top/g,e=>QP[e])}function t8(n){return{top:0,right:0,bottom:0,left:0,...n}}function G1(n){return typeof n!="number"?t8(n):{top:n,right:n,bottom:n,left:n}}function ph(n){const{x:e,y:t,width:i,height:a}=n;return{width:i,height:a,top:t,left:e,right:e+i,bottom:t+a,x:e,y:t}}function ax(n,e,t){let{reference:i,floating:a}=n;const l=Vi(e),c=Iv(e),f=Cv(c),m=qi(e),p=l==="y",v=i.x+i.width/2-a.width/2,b=i.y+i.height/2-a.height/2,E=i[f]/2-a[f]/2;let R;switch(m){case"top":R={x:v,y:i.y-a.height};break;case"bottom":R={x:v,y:i.y+i.height};break;case"right":R={x:i.x+i.width,y:b};break;case"left":R={x:i.x-a.width,y:b};break;default:R={x:i.x,y:i.y}}switch(jl(e)){case"start":R[c]-=E*(t&&p?-1:1);break;case"end":R[c]+=E*(t&&p?-1:1);break}return R}const n8=async(n,e,t)=>{const{placement:i="bottom",strategy:a="absolute",middleware:l=[],platform:c}=t,f=l.filter(Boolean),m=await(c.isRTL==null?void 0:c.isRTL(e));let p=await c.getElementRects({reference:n,floating:e,strategy:a}),{x:v,y:b}=ax(p,i,m),E=i,R={},C=0;for(let A=0;A<f.length;A++){const{name:D,fn:V}=f[A],{x:U,y:z,data:K,reset:Q}=await V({x:v,y:b,initialPlacement:i,placement:E,strategy:a,middlewareData:R,rects:p,platform:c,elements:{reference:n,floating:e}});v=U??v,b=z??b,R={...R,[D]:{...R[D],...K}},Q&&C<=50&&(C++,typeof Q=="object"&&(Q.placement&&(E=Q.placement),Q.rects&&(p=Q.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:a}):Q.rects),{x:v,y:b}=ax(p,E,m)),A=-1)}return{x:v,y:b,placement:E,strategy:a,middlewareData:R}};async function wc(n,e){var t;e===void 0&&(e={});const{x:i,y:a,platform:l,rects:c,elements:f,strategy:m}=n,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:b="floating",altBoundary:E=!1,padding:R=0}=Hi(e,n),C=G1(R),D=f[E?b==="floating"?"reference":"floating":b],V=ph(await l.getClippingRect({element:(t=await(l.isElement==null?void 0:l.isElement(D)))==null||t?D:D.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:p,rootBoundary:v,strategy:m})),U=b==="floating"?{x:i,y:a,width:c.floating.width,height:c.floating.height}:c.reference,z=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),K=await(l.isElement==null?void 0:l.isElement(z))?await(l.getScale==null?void 0:l.getScale(z))||{x:1,y:1}:{x:1,y:1},Q=ph(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:U,offsetParent:z,strategy:m}):U);return{top:(V.top-Q.top+C.top)/K.y,bottom:(Q.bottom-V.bottom+C.bottom)/K.y,left:(V.left-Q.left+C.left)/K.x,right:(Q.right-V.right+C.right)/K.x}}const r8=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:a,rects:l,platform:c,elements:f,middlewareData:m}=e,{element:p,padding:v=0}=Hi(n,e)||{};if(p==null)return{};const b=G1(v),E={x:t,y:i},R=Iv(a),C=Cv(R),A=await c.getDimensions(p),D=R==="y",V=D?"top":"left",U=D?"bottom":"right",z=D?"clientHeight":"clientWidth",K=l.reference[C]+l.reference[R]-E[R]-l.floating[C],Q=E[R]-l.reference[R],ie=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let N=ie?ie[z]:0;(!N||!await(c.isElement==null?void 0:c.isElement(ie)))&&(N=f.floating[z]||l.floating[C]);const S=K/2-Q/2,k=N/2-A[C]/2-1,L=Gs(b[V],k),P=Gs(b[U],k),j=L,M=N-A[C]-P,Z=N/2-A[C]/2+S,le=uy(j,Z,M),q=!m.arrow&&jl(a)!=null&&Z!==le&&l.reference[C]/2-(Z<j?L:P)-A[C]/2<0,F=q?Z<j?Z-j:Z-M:0;return{[R]:E[R]+F,data:{[R]:le,centerOffset:Z-le-F,...q&&{alignmentOffset:F}},reset:q}}}),i8=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:a,middlewareData:l,rects:c,initialPlacement:f,platform:m,elements:p}=e,{mainAxis:v=!0,crossAxis:b=!0,fallbackPlacements:E,fallbackStrategy:R="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:A=!0,...D}=Hi(n,e);if((t=l.arrow)!=null&&t.alignmentOffset)return{};const V=qi(a),U=Vi(f),z=qi(f)===f,K=await(m.isRTL==null?void 0:m.isRTL(p.floating)),Q=E||(z||!A?[mh(f)]:ZP(f)),ie=C!=="none";!E&&ie&&Q.push(...e8(f,A,C,K));const N=[f,...Q],S=await wc(e,D),k=[];let L=((i=l.flip)==null?void 0:i.overflows)||[];if(v&&k.push(S[V]),b){const le=WP(a,c,K);k.push(S[le[0]],S[le[1]])}if(L=[...L,{placement:a,overflows:k}],!k.every(le=>le<=0)){var P,j;const le=(((P=l.flip)==null?void 0:P.index)||0)+1,q=N[le];if(q){var M;const G=b==="alignment"?U!==Vi(q):!1,he=((M=L[0])==null?void 0:M.overflows[0])>0;if(!G||he)return{data:{index:le,overflows:L},reset:{placement:q}}}let F=(j=L.filter(G=>G.overflows[0]<=0).sort((G,he)=>G.overflows[1]-he.overflows[1])[0])==null?void 0:j.placement;if(!F)switch(R){case"bestFit":{var Z;const G=(Z=L.filter(he=>{if(ie){const B=Vi(he.placement);return B===U||B==="y"}return!0}).map(he=>[he.placement,he.overflows.filter(B=>B>0).reduce((B,ne)=>B+ne,0)]).sort((he,B)=>he[1]-B[1])[0])==null?void 0:Z[0];G&&(F=G);break}case"initialPlacement":F=f;break}if(a!==F)return{reset:{placement:F}}}return{}}}};function ox(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function lx(n){return KP.some(e=>n[e]>=0)}const s8=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...a}=Hi(n,e);switch(i){case"referenceHidden":{const l=await wc(e,{...a,elementContext:"reference"}),c=ox(l,t.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:lx(c)}}}case"escaped":{const l=await wc(e,{...a,altBoundary:!0}),c=ox(l,t.floating);return{data:{escapedOffsets:c,escaped:lx(c)}}}default:return{}}}}};async function a8(n,e){const{placement:t,platform:i,elements:a}=n,l=await(i.isRTL==null?void 0:i.isRTL(a.floating)),c=qi(t),f=jl(t),m=Vi(t)==="y",p=["left","top"].includes(c)?-1:1,v=l&&m?-1:1,b=Hi(e,n);let{mainAxis:E,crossAxis:R,alignmentAxis:C}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return f&&typeof C=="number"&&(R=f==="end"?C*-1:C),m?{x:R*v,y:E*p}:{x:E*p,y:R*v}}const o8=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:a,y:l,placement:c,middlewareData:f}=e,m=await a8(e,n);return c===((t=f.offset)==null?void 0:t.placement)&&(i=f.arrow)!=null&&i.alignmentOffset?{}:{x:a+m.x,y:l+m.y,data:{...m,placement:c}}}}},l8=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:a}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:f={fn:D=>{let{x:V,y:U}=D;return{x:V,y:U}}},...m}=Hi(n,e),p={x:t,y:i},v=await wc(e,m),b=Vi(qi(a)),E=Rv(b);let R=p[E],C=p[b];if(l){const D=E==="y"?"top":"left",V=E==="y"?"bottom":"right",U=R+v[D],z=R-v[V];R=uy(U,R,z)}if(c){const D=b==="y"?"top":"left",V=b==="y"?"bottom":"right",U=C+v[D],z=C-v[V];C=uy(U,C,z)}const A=f.fn({...e,[E]:R,[b]:C});return{...A,data:{x:A.x-t,y:A.y-i,enabled:{[E]:l,[b]:c}}}}}},u8=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:a,rects:l,middlewareData:c}=e,{offset:f=0,mainAxis:m=!0,crossAxis:p=!0}=Hi(n,e),v={x:t,y:i},b=Vi(a),E=Rv(b);let R=v[E],C=v[b];const A=Hi(f,e),D=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(m){const z=E==="y"?"height":"width",K=l.reference[E]-l.floating[z]+D.mainAxis,Q=l.reference[E]+l.reference[z]-D.mainAxis;R<K?R=K:R>Q&&(R=Q)}if(p){var V,U;const z=E==="y"?"width":"height",K=["top","left"].includes(qi(a)),Q=l.reference[b]-l.floating[z]+(K&&((V=c.offset)==null?void 0:V[b])||0)+(K?0:D.crossAxis),ie=l.reference[b]+l.reference[z]+(K?0:((U=c.offset)==null?void 0:U[b])||0)-(K?D.crossAxis:0);C<Q?C=Q:C>ie&&(C=ie)}return{[E]:R,[b]:C}}}},c8=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:a,rects:l,platform:c,elements:f}=e,{apply:m=()=>{},...p}=Hi(n,e),v=await wc(e,p),b=qi(a),E=jl(a),R=Vi(a)==="y",{width:C,height:A}=l.floating;let D,V;b==="top"||b==="bottom"?(D=b,V=E===(await(c.isRTL==null?void 0:c.isRTL(f.floating))?"start":"end")?"left":"right"):(V=b,D=E==="end"?"top":"bottom");const U=A-v.top-v.bottom,z=C-v.left-v.right,K=Gs(A-v[D],U),Q=Gs(C-v[V],z),ie=!e.middlewareData.shift;let N=K,S=Q;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(S=z),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(N=U),ie&&!E){const L=qn(v.left,0),P=qn(v.right,0),j=qn(v.top,0),M=qn(v.bottom,0);R?S=C-2*(L!==0||P!==0?L+P:qn(v.left,v.right)):N=A-2*(j!==0||M!==0?j+M:qn(v.top,v.bottom))}await m({...e,availableWidth:S,availableHeight:N});const k=await c.getDimensions(f.floating);return C!==k.width||A!==k.height?{reset:{rects:!0}}:{}}}};function Gh(){return typeof window<"u"}function Vl(n){return $1(n)?(n.nodeName||"").toLowerCase():"#document"}function $n(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function ii(n){var e;return(e=($1(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function $1(n){return Gh()?n instanceof Node||n instanceof $n(n).Node:!1}function Tr(n){return Gh()?n instanceof Element||n instanceof $n(n).Element:!1}function ni(n){return Gh()?n instanceof HTMLElement||n instanceof $n(n).HTMLElement:!1}function ux(n){return!Gh()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof $n(n).ShadowRoot}function zc(n){const{overflow:e,overflowX:t,overflowY:i,display:a}=Sr(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(a)}function d8(n){return["table","td","th"].includes(Vl(n))}function $h(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Nv(n){const e=Dv(),t=Tr(n)?Sr(n):n;return["transform","translate","scale","rotate","perspective"].some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function f8(n){let e=$s(n);for(;ni(e)&&!wl(e);){if(Nv(e))return e;if($h(e))return null;e=$s(e)}return null}function Dv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function wl(n){return["html","body","#document"].includes(Vl(n))}function Sr(n){return $n(n).getComputedStyle(n)}function Yh(n){return Tr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function $s(n){if(Vl(n)==="html")return n;const e=n.assignedSlot||n.parentNode||ux(n)&&n.host||ii(n);return ux(e)?e.host:e}function Y1(n){const e=$s(n);return wl(e)?n.ownerDocument?n.ownerDocument.body:n.body:ni(e)&&zc(e)?e:Y1(e)}function xc(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=Y1(n),l=a===((i=n.ownerDocument)==null?void 0:i.body),c=$n(a);if(l){const f=dy(c);return e.concat(c,c.visualViewport||[],zc(a)?a:[],f&&t?xc(f):[])}return e.concat(a,xc(a,[],t))}function dy(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function K1(n){const e=Sr(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const a=ni(n),l=a?n.offsetWidth:t,c=a?n.offsetHeight:i,f=hh(t)!==l||hh(i)!==c;return f&&(t=l,i=c),{width:t,height:i,$:f}}function Ov(n){return Tr(n)?n:n.contextElement}function ll(n){const e=Ov(n);if(!ni(e))return ei(1);const t=e.getBoundingClientRect(),{width:i,height:a,$:l}=K1(e);let c=(l?hh(t.width):t.width)/i,f=(l?hh(t.height):t.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!f||!Number.isFinite(f))&&(f=1),{x:c,y:f}}const h8=ei(0);function Q1(n){const e=$n(n);return!Dv()||!e.visualViewport?h8:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function m8(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==$n(n)?!1:e}function Ga(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),l=Ov(n);let c=ei(1);e&&(i?Tr(i)&&(c=ll(i)):c=ll(n));const f=m8(l,t,i)?Q1(l):ei(0);let m=(a.left+f.x)/c.x,p=(a.top+f.y)/c.y,v=a.width/c.x,b=a.height/c.y;if(l){const E=$n(l),R=i&&Tr(i)?$n(i):i;let C=E,A=dy(C);for(;A&&i&&R!==C;){const D=ll(A),V=A.getBoundingClientRect(),U=Sr(A),z=V.left+(A.clientLeft+parseFloat(U.paddingLeft))*D.x,K=V.top+(A.clientTop+parseFloat(U.paddingTop))*D.y;m*=D.x,p*=D.y,v*=D.x,b*=D.y,m+=z,p+=K,C=$n(A),A=dy(C)}}return ph({width:v,height:b,x:m,y:p})}function kv(n,e){const t=Yh(n).scrollLeft;return e?e.left+t:Ga(ii(n)).left+t}function X1(n,e,t){t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=i.left+e.scrollLeft-(t?0:kv(n,i)),l=i.top+e.scrollTop;return{x:a,y:l}}function p8(n){let{elements:e,rect:t,offsetParent:i,strategy:a}=n;const l=a==="fixed",c=ii(i),f=e?$h(e.floating):!1;if(i===c||f&&l)return t;let m={scrollLeft:0,scrollTop:0},p=ei(1);const v=ei(0),b=ni(i);if((b||!b&&!l)&&((Vl(i)!=="body"||zc(c))&&(m=Yh(i)),ni(i))){const R=Ga(i);p=ll(i),v.x=R.x+i.clientLeft,v.y=R.y+i.clientTop}const E=c&&!b&&!l?X1(c,m,!0):ei(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-m.scrollLeft*p.x+v.x+E.x,y:t.y*p.y-m.scrollTop*p.y+v.y+E.y}}function g8(n){return Array.from(n.getClientRects())}function y8(n){const e=ii(n),t=Yh(n),i=n.ownerDocument.body,a=qn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),l=qn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let c=-t.scrollLeft+kv(n);const f=-t.scrollTop;return Sr(i).direction==="rtl"&&(c+=qn(e.clientWidth,i.clientWidth)-a),{width:a,height:l,x:c,y:f}}function v8(n,e){const t=$n(n),i=ii(n),a=t.visualViewport;let l=i.clientWidth,c=i.clientHeight,f=0,m=0;if(a){l=a.width,c=a.height;const p=Dv();(!p||p&&e==="fixed")&&(f=a.offsetLeft,m=a.offsetTop)}return{width:l,height:c,x:f,y:m}}function _8(n,e){const t=Ga(n,!0,e==="fixed"),i=t.top+n.clientTop,a=t.left+n.clientLeft,l=ni(n)?ll(n):ei(1),c=n.clientWidth*l.x,f=n.clientHeight*l.y,m=a*l.x,p=i*l.y;return{width:c,height:f,x:m,y:p}}function cx(n,e,t){let i;if(e==="viewport")i=v8(n,t);else if(e==="document")i=y8(ii(n));else if(Tr(e))i=_8(e,t);else{const a=Q1(n);i={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return ph(i)}function W1(n,e){const t=$s(n);return t===e||!Tr(t)||wl(t)?!1:Sr(t).position==="fixed"||W1(t,e)}function b8(n,e){const t=e.get(n);if(t)return t;let i=xc(n,[],!1).filter(f=>Tr(f)&&Vl(f)!=="body"),a=null;const l=Sr(n).position==="fixed";let c=l?$s(n):n;for(;Tr(c)&&!wl(c);){const f=Sr(c),m=Nv(c);!m&&f.position==="fixed"&&(a=null),(l?!m&&!a:!m&&f.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||zc(c)&&!m&&W1(n,c))?i=i.filter(v=>v!==c):a=f,c=$s(c)}return e.set(n,i),i}function E8(n){let{element:e,boundary:t,rootBoundary:i,strategy:a}=n;const c=[...t==="clippingAncestors"?$h(e)?[]:b8(e,this._c):[].concat(t),i],f=c[0],m=c.reduce((p,v)=>{const b=cx(e,v,a);return p.top=qn(b.top,p.top),p.right=Gs(b.right,p.right),p.bottom=Gs(b.bottom,p.bottom),p.left=qn(b.left,p.left),p},cx(e,f,a));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function w8(n){const{width:e,height:t}=K1(n);return{width:e,height:t}}function x8(n,e,t){const i=ni(e),a=ii(e),l=t==="fixed",c=Ga(n,!0,l,e);let f={scrollLeft:0,scrollTop:0};const m=ei(0);function p(){m.x=kv(a)}if(i||!i&&!l)if((Vl(e)!=="body"||zc(a))&&(f=Yh(e)),i){const R=Ga(e,!0,l,e);m.x=R.x+e.clientLeft,m.y=R.y+e.clientTop}else a&&p();l&&!i&&a&&p();const v=a&&!i&&!l?X1(a,f):ei(0),b=c.left+f.scrollLeft-m.x-v.x,E=c.top+f.scrollTop-m.y-v.y;return{x:b,y:E,width:c.width,height:c.height}}function wg(n){return Sr(n).position==="static"}function dx(n,e){if(!ni(n)||Sr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return ii(n)===t&&(t=t.ownerDocument.body),t}function Z1(n,e){const t=$n(n);if($h(n))return t;if(!ni(n)){let a=$s(n);for(;a&&!wl(a);){if(Tr(a)&&!wg(a))return a;a=$s(a)}return t}let i=dx(n,e);for(;i&&d8(i)&&wg(i);)i=dx(i,e);return i&&wl(i)&&wg(i)&&!Nv(i)?t:i||f8(n)||t}const T8=async function(n){const e=this.getOffsetParent||Z1,t=this.getDimensions,i=await t(n.floating);return{reference:x8(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function S8(n){return Sr(n).direction==="rtl"}const A8={convertOffsetParentRelativeRectToViewportRelativeRect:p8,getDocumentElement:ii,getClippingRect:E8,getOffsetParent:Z1,getElementRects:T8,getClientRects:g8,getDimensions:w8,getScale:ll,isElement:Tr,isRTL:S8};function J1(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function R8(n,e){let t=null,i;const a=ii(n);function l(){var f;clearTimeout(i),(f=t)==null||f.disconnect(),t=null}function c(f,m){f===void 0&&(f=!1),m===void 0&&(m=1),l();const p=n.getBoundingClientRect(),{left:v,top:b,width:E,height:R}=p;if(f||e(),!E||!R)return;const C=wf(b),A=wf(a.clientWidth-(v+E)),D=wf(a.clientHeight-(b+R)),V=wf(v),z={rootMargin:-C+"px "+-A+"px "+-D+"px "+-V+"px",threshold:qn(0,Gs(1,m))||1};let K=!0;function Q(ie){const N=ie[0].intersectionRatio;if(N!==m){if(!K)return c();N?c(!1,N):i=setTimeout(()=>{c(!1,1e-7)},1e3)}N===1&&!J1(p,n.getBoundingClientRect())&&c(),K=!1}try{t=new IntersectionObserver(Q,{...z,root:a.ownerDocument})}catch{t=new IntersectionObserver(Q,z)}t.observe(n)}return c(!0),l}function C8(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:m=!1}=i,p=Ov(n),v=a||l?[...p?xc(p):[],...xc(e)]:[];v.forEach(V=>{a&&V.addEventListener("scroll",t,{passive:!0}),l&&V.addEventListener("resize",t)});const b=p&&f?R8(p,t):null;let E=-1,R=null;c&&(R=new ResizeObserver(V=>{let[U]=V;U&&U.target===p&&R&&(R.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var z;(z=R)==null||z.observe(e)})),t()}),p&&!m&&R.observe(p),R.observe(e));let C,A=m?Ga(n):null;m&&D();function D(){const V=Ga(n);A&&!J1(A,V)&&t(),A=V,C=requestAnimationFrame(D)}return t(),()=>{var V;v.forEach(U=>{a&&U.removeEventListener("scroll",t),l&&U.removeEventListener("resize",t)}),b==null||b(),(V=R)==null||V.disconnect(),R=null,m&&cancelAnimationFrame(C)}}const I8=o8,N8=l8,D8=i8,O8=c8,k8=s8,fx=r8,M8=u8,P8=(n,e,t)=>{const i=new Map,a={platform:A8,...t},l={...a.platform,_c:i};return n8(n,e,{...a,platform:l})};var Bf=typeof document<"u"?T.useLayoutEffect:T.useEffect;function gh(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!gh(n[i],e[i]))return!1;return!0}if(a=Object.keys(n),t=a.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,a[i]))return!1;for(i=t;i--!==0;){const l=a[i];if(!(l==="_owner"&&n.$$typeof)&&!gh(n[l],e[l]))return!1}return!0}return n!==n&&e!==e}function eA(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function hx(n,e){const t=eA(n);return Math.round(e*t)/t}function xg(n){const e=T.useRef(n);return Bf(()=>{e.current=n}),e}function j8(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:a,elements:{reference:l,floating:c}={},transform:f=!0,whileElementsMounted:m,open:p}=n,[v,b]=T.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[E,R]=T.useState(i);gh(E,i)||R(i);const[C,A]=T.useState(null),[D,V]=T.useState(null),U=T.useCallback(G=>{G!==ie.current&&(ie.current=G,A(G))},[]),z=T.useCallback(G=>{G!==N.current&&(N.current=G,V(G))},[]),K=l||C,Q=c||D,ie=T.useRef(null),N=T.useRef(null),S=T.useRef(v),k=m!=null,L=xg(m),P=xg(a),j=xg(p),M=T.useCallback(()=>{if(!ie.current||!N.current)return;const G={placement:e,strategy:t,middleware:E};P.current&&(G.platform=P.current),P8(ie.current,N.current,G).then(he=>{const B={...he,isPositioned:j.current!==!1};Z.current&&!gh(S.current,B)&&(S.current=B,Ac.flushSync(()=>{b(B)}))})},[E,e,t,P,j]);Bf(()=>{p===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,b(G=>({...G,isPositioned:!1})))},[p]);const Z=T.useRef(!1);Bf(()=>(Z.current=!0,()=>{Z.current=!1}),[]),Bf(()=>{if(K&&(ie.current=K),Q&&(N.current=Q),K&&Q){if(L.current)return L.current(K,Q,M);M()}},[K,Q,M,L,k]);const le=T.useMemo(()=>({reference:ie,floating:N,setReference:U,setFloating:z}),[U,z]),q=T.useMemo(()=>({reference:K,floating:Q}),[K,Q]),F=T.useMemo(()=>{const G={position:t,left:0,top:0};if(!q.floating)return G;const he=hx(q.floating,v.x),B=hx(q.floating,v.y);return f?{...G,transform:"translate("+he+"px, "+B+"px)",...eA(q.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:he,top:B}},[t,f,q.floating,v.x,v.y]);return T.useMemo(()=>({...v,update:M,refs:le,elements:q,floatingStyles:F}),[v,M,le,q,F])}const V8=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:a}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?fx({element:i.current,padding:a}).fn(t):{}:i?fx({element:i,padding:a}).fn(t):{}}}},L8=(n,e)=>({...I8(n),options:[n,e]}),U8=(n,e)=>({...N8(n),options:[n,e]}),B8=(n,e)=>({...M8(n),options:[n,e]}),z8=(n,e)=>({...D8(n),options:[n,e]}),F8=(n,e)=>({...O8(n),options:[n,e]}),H8=(n,e)=>({...k8(n),options:[n,e]}),q8=(n,e)=>({...V8(n),options:[n,e]});var G8="Arrow",tA=T.forwardRef((n,e)=>{const{children:t,width:i=10,height:a=5,...l}=n;return y.jsx(ht.svg,{...l,ref:e,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});tA.displayName=G8;var $8=tA;function nA(n){const[e,t]=T.useState(void 0);return Tn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let c,f;if("borderBoxSize"in l){const m=l.borderBoxSize,p=Array.isArray(m)?m[0]:m;c=p.inlineSize,f=p.blockSize}else c=n.offsetWidth,f=n.offsetHeight;t({width:c,height:f})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var Mv="Popper",[rA,iA]=Bc(Mv),[Y8,sA]=rA(Mv),aA=n=>{const{__scopePopper:e,children:t}=n,[i,a]=T.useState(null);return y.jsx(Y8,{scope:e,anchor:i,onAnchorChange:a,children:t})};aA.displayName=Mv;var oA="PopperAnchor",lA=T.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...a}=n,l=sA(oA,t),c=T.useRef(null),f=kt(e,c);return T.useEffect(()=>{l.onAnchorChange((i==null?void 0:i.current)||c.current)}),i?null:y.jsx(ht.div,{...a,ref:f})});lA.displayName=oA;var Pv="PopperContent",[K8,Q8]=rA(Pv),uA=T.forwardRef((n,e)=>{var me,Te,We,Ve,Me,Pe;const{__scopePopper:t,side:i="bottom",sideOffset:a=0,align:l="center",alignOffset:c=0,arrowPadding:f=0,avoidCollisions:m=!0,collisionBoundary:p=[],collisionPadding:v=0,sticky:b="partial",hideWhenDetached:E=!1,updatePositionStrategy:R="optimized",onPlaced:C,...A}=n,D=sA(Pv,t),[V,U]=T.useState(null),z=kt(e,Ct=>U(Ct)),[K,Q]=T.useState(null),ie=nA(K),N=(ie==null?void 0:ie.width)??0,S=(ie==null?void 0:ie.height)??0,k=i+(l!=="center"?"-"+l:""),L=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},P=Array.isArray(p)?p:[p],j=P.length>0,M={padding:L,boundary:P.filter(W8),altBoundary:j},{refs:Z,floatingStyles:le,placement:q,isPositioned:F,middlewareData:G}=j8({strategy:"fixed",placement:k,whileElementsMounted:(...Ct)=>C8(...Ct,{animationFrame:R==="always"}),elements:{reference:D.anchor},middleware:[L8({mainAxis:a+S,alignmentAxis:c}),m&&U8({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?B8():void 0,...M}),m&&z8({...M}),F8({...M,apply:({elements:Ct,rects:Wt,availableWidth:lr,availableHeight:Cr})=>{const{width:Zt,height:Ul}=Wt.reference,Ir=Ct.floating.style;Ir.setProperty("--radix-popper-available-width",`${lr}px`),Ir.setProperty("--radix-popper-available-height",`${Cr}px`),Ir.setProperty("--radix-popper-anchor-width",`${Zt}px`),Ir.setProperty("--radix-popper-anchor-height",`${Ul}px`)}}),K&&q8({element:K,padding:f}),Z8({arrowWidth:N,arrowHeight:S}),E&&H8({strategy:"referenceHidden",...M})]}),[he,B]=fA(q),ne=qa(C);Tn(()=>{F&&(ne==null||ne())},[F,ne]);const fe=(me=G.arrow)==null?void 0:me.x,se=(Te=G.arrow)==null?void 0:Te.y,pe=((We=G.arrow)==null?void 0:We.centerOffset)!==0,[Se,we]=T.useState();return Tn(()=>{V&&we(window.getComputedStyle(V).zIndex)},[V]),y.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...le,transform:F?le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[(Ve=G.transformOrigin)==null?void 0:Ve.x,(Me=G.transformOrigin)==null?void 0:Me.y].join(" "),...((Pe=G.hide)==null?void 0:Pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:y.jsx(K8,{scope:t,placedSide:he,onArrowChange:Q,arrowX:fe,arrowY:se,shouldHideArrow:pe,children:y.jsx(ht.div,{"data-side":he,"data-align":B,...A,ref:z,style:{...A.style,animation:F?void 0:"none"}})})})});uA.displayName=Pv;var cA="PopperArrow",X8={top:"bottom",right:"left",bottom:"top",left:"right"},dA=T.forwardRef(function(e,t){const{__scopePopper:i,...a}=e,l=Q8(cA,i),c=X8[l.placedSide];return y.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:y.jsx($8,{...a,ref:t,style:{...a.style,display:"block"}})})});dA.displayName=cA;function W8(n){return n!==null}var Z8=n=>({name:"transformOrigin",options:n,fn(e){var D,V,U;const{placement:t,rects:i,middlewareData:a}=e,c=((D=a.arrow)==null?void 0:D.centerOffset)!==0,f=c?0:n.arrowWidth,m=c?0:n.arrowHeight,[p,v]=fA(t),b={start:"0%",center:"50%",end:"100%"}[v],E=(((V=a.arrow)==null?void 0:V.x)??0)+f/2,R=(((U=a.arrow)==null?void 0:U.y)??0)+m/2;let C="",A="";return p==="bottom"?(C=c?b:`${E}px`,A=`${-m}px`):p==="top"?(C=c?b:`${E}px`,A=`${i.floating.height+m}px`):p==="right"?(C=`${-m}px`,A=c?b:`${R}px`):p==="left"&&(C=`${i.floating.width+m}px`,A=c?b:`${R}px`),{data:{x:C,y:A}}}});function fA(n){const[e,t="center"]=n.split("-");return[e,t]}var J8=aA,ej=lA,tj=uA,nj=dA,rj="Portal",hA=T.forwardRef((n,e)=>{var f;const{container:t,...i}=n,[a,l]=T.useState(!1);Tn(()=>l(!0),[]);const c=t||a&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return c?hI.createPortal(y.jsx(ht.div,{...i,ref:e}),c):null});hA.displayName=rj;var ij=Sx[" useInsertionEffect ".trim().toString()]||Tn;function fy({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[a,l,c]=sj({defaultProp:e,onChange:t}),f=n!==void 0,m=f?n:a;{const v=T.useRef(n!==void 0);T.useEffect(()=>{const b=v.current;b!==f&&console.warn(`${i} is changing from ${b?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=f},[f,i])}const p=T.useCallback(v=>{var b;if(f){const E=aj(v)?v(n):v;E!==n&&((b=c.current)==null||b.call(c,E))}else l(v)},[f,n,l,c]);return[m,p]}function sj({defaultProp:n,onChange:e}){const[t,i]=T.useState(n),a=T.useRef(t),l=T.useRef(e);return ij(()=>{l.current=e},[e]),T.useEffect(()=>{var c;a.current!==t&&((c=l.current)==null||c.call(l,t),a.current=t)},[t,a]),[t,i,l]}function aj(n){return typeof n=="function"}function mA(n){const e=T.useRef({value:n,previous:n});return T.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var pA=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),oj="VisuallyHidden",lj=T.forwardRef((n,e)=>y.jsx(ht.span,{...n,ref:e,style:{...pA,...n.style}}));lj.displayName=oj;var uj=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},$o=new WeakMap,xf=new WeakMap,Tf={},Tg=0,gA=function(n){return n&&(n.host||gA(n.parentNode))},cj=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=gA(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},dj=function(n,e,t,i){var a=cj(e,Array.isArray(n)?n:[n]);Tf[t]||(Tf[t]=new WeakMap);var l=Tf[t],c=[],f=new Set,m=new Set(a),p=function(b){!b||f.has(b)||(f.add(b),p(b.parentNode))};a.forEach(p);var v=function(b){!b||m.has(b)||Array.prototype.forEach.call(b.children,function(E){if(f.has(E))v(E);else try{var R=E.getAttribute(i),C=R!==null&&R!=="false",A=($o.get(E)||0)+1,D=(l.get(E)||0)+1;$o.set(E,A),l.set(E,D),c.push(E),A===1&&C&&xf.set(E,!0),D===1&&E.setAttribute(t,"true"),C||E.setAttribute(i,"true")}catch(V){console.error("aria-hidden: cannot operate on ",E,V)}})};return v(e),f.clear(),Tg++,function(){c.forEach(function(b){var E=$o.get(b)-1,R=l.get(b)-1;$o.set(b,E),l.set(b,R),E||(xf.has(b)||b.removeAttribute(i),xf.delete(b)),R||b.removeAttribute(t)}),Tg--,Tg||($o=new WeakMap,$o=new WeakMap,xf=new WeakMap,Tf={})}},fj=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),a=uj(n);return a?(i.push.apply(i,Array.from(a.querySelectorAll("[aria-live]"))),dj(i,a,t,"aria-hidden")):function(){return null}},zf="right-scroll-bar-position",Ff="width-before-scroll-bar",hj="with-scroll-bars-hidden",mj="--removed-body-scroll-bar-size";function Sg(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function pj(n,e){var t=T.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var a=t.value;a!==i&&(t.value=i,t.callback(i,a))}}}})[0];return t.callback=e,t.facade}var gj=typeof window<"u"?T.useLayoutEffect:T.useEffect,mx=new WeakMap;function yj(n,e){var t=pj(null,function(i){return n.forEach(function(a){return Sg(a,i)})});return gj(function(){var i=mx.get(t);if(i){var a=new Set(i),l=new Set(n),c=t.current;a.forEach(function(f){l.has(f)||Sg(f,null)}),l.forEach(function(f){a.has(f)||Sg(f,c)})}mx.set(t,n)},[n]),t}function vj(n){return n}function _j(n,e){e===void 0&&(e=vj);var t=[],i=!1,a={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(l){var c=e(l,i);return t.push(c),function(){t=t.filter(function(f){return f!==c})}},assignSyncMedium:function(l){for(i=!0;t.length;){var c=t;t=[],c.forEach(l)}t={push:function(f){return l(f)},filter:function(){return t}}},assignMedium:function(l){i=!0;var c=[];if(t.length){var f=t;t=[],f.forEach(l),c=t}var m=function(){var v=c;c=[],v.forEach(l)},p=function(){return Promise.resolve().then(m)};p(),t={push:function(v){c.push(v),p()},filter:function(v){return c=c.filter(v),t}}}};return a}function bj(n){n===void 0&&(n={});var e=_j(null);return e.options=Kr({async:!0,ssr:!1},n),e}var yA=function(n){var e=n.sideCar,t=Ic(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return T.createElement(i,Kr({},t))};yA.isSideCarExport=!0;function Ej(n,e){return n.useMedium(e),yA}var vA=bj(),Ag=function(){},Kh=T.forwardRef(function(n,e){var t=T.useRef(null),i=T.useState({onScrollCapture:Ag,onWheelCapture:Ag,onTouchMoveCapture:Ag}),a=i[0],l=i[1],c=n.forwardProps,f=n.children,m=n.className,p=n.removeScrollBar,v=n.enabled,b=n.shards,E=n.sideCar,R=n.noIsolation,C=n.inert,A=n.allowPinchZoom,D=n.as,V=D===void 0?"div":D,U=n.gapMode,z=Ic(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),K=E,Q=yj([t,e]),ie=Kr(Kr({},z),a);return T.createElement(T.Fragment,null,v&&T.createElement(K,{sideCar:vA,removeScrollBar:p,shards:b,noIsolation:R,inert:C,setCallbacks:l,allowPinchZoom:!!A,lockRef:t,gapMode:U}),c?T.cloneElement(T.Children.only(f),Kr(Kr({},ie),{ref:Q})):T.createElement(V,Kr({},ie,{className:m,ref:Q}),f))});Kh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kh.classNames={fullWidth:Ff,zeroRight:zf};var wj=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xj(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=wj();return e&&n.setAttribute("nonce",e),n}function Tj(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function Sj(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var Aj=function(){var n=0,e=null;return{add:function(t){n==0&&(e=xj())&&(Tj(e,t),Sj(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Rj=function(){var n=Aj();return function(e,t){T.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},_A=function(){var n=Rj(),e=function(t){var i=t.styles,a=t.dynamic;return n(i,a),null};return e},Cj={left:0,top:0,right:0,gap:0},Rg=function(n){return parseInt(n||"",10)||0},Ij=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],a=e[n==="padding"?"paddingRight":"marginRight"];return[Rg(t),Rg(i),Rg(a)]},Nj=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return Cj;var e=Ij(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},Dj=_A(),ul="data-scroll-locked",Oj=function(n,e,t,i){var a=n.left,l=n.top,c=n.right,f=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(hj,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(f,"px ").concat(i,`;
  }
  body[`).concat(ul,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(f,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zf,` {
    right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(Ff,` {
    margin-right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(zf," .").concat(zf,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Ff," .").concat(Ff,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(ul,`] {
    `).concat(mj,": ").concat(f,`px;
  }
`)},px=function(){var n=parseInt(document.body.getAttribute(ul)||"0",10);return isFinite(n)?n:0},kj=function(){T.useEffect(function(){return document.body.setAttribute(ul,(px()+1).toString()),function(){var n=px()-1;n<=0?document.body.removeAttribute(ul):document.body.setAttribute(ul,n.toString())}},[])},Mj=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,a=i===void 0?"margin":i;kj();var l=T.useMemo(function(){return Nj(a)},[a]);return T.createElement(Dj,{styles:Oj(l,!e,a,t?"":"!important")})},hy=!1;if(typeof window<"u")try{var Sf=Object.defineProperty({},"passive",{get:function(){return hy=!0,!0}});window.addEventListener("test",Sf,Sf),window.removeEventListener("test",Sf,Sf)}catch{hy=!1}var Yo=hy?{passive:!1}:!1,Pj=function(n){return n.tagName==="TEXTAREA"},bA=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Pj(n)&&t[e]==="visible")},jj=function(n){return bA(n,"overflowY")},Vj=function(n){return bA(n,"overflowX")},gx=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var a=EA(n,i);if(a){var l=wA(n,i),c=l[1],f=l[2];if(c>f)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},Lj=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},Uj=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},EA=function(n,e){return n==="v"?jj(e):Vj(e)},wA=function(n,e){return n==="v"?Lj(e):Uj(e)},Bj=function(n,e){return n==="h"&&e==="rtl"?-1:1},zj=function(n,e,t,i,a){var l=Bj(n,window.getComputedStyle(e).direction),c=l*i,f=t.target,m=e.contains(f),p=!1,v=c>0,b=0,E=0;do{var R=wA(n,f),C=R[0],A=R[1],D=R[2],V=A-D-l*C;(C||V)&&EA(n,f)&&(b+=V,E+=C),f instanceof ShadowRoot?f=f.host:f=f.parentNode}while(!m&&f!==document.body||m&&(e.contains(f)||e===f));return(v&&Math.abs(b)<1||!v&&Math.abs(E)<1)&&(p=!0),p},Af=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},yx=function(n){return[n.deltaX,n.deltaY]},vx=function(n){return n&&"current"in n?n.current:n},Fj=function(n,e){return n[0]===e[0]&&n[1]===e[1]},Hj=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},qj=0,Ko=[];function Gj(n){var e=T.useRef([]),t=T.useRef([0,0]),i=T.useRef(),a=T.useState(qj++)[0],l=T.useState(_A)[0],c=T.useRef(n);T.useEffect(function(){c.current=n},[n]),T.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(a));var A=VD([n.lockRef.current],(n.shards||[]).map(vx),!0).filter(Boolean);return A.forEach(function(D){return D.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),A.forEach(function(D){return D.classList.remove("allow-interactivity-".concat(a))})}}},[n.inert,n.lockRef.current,n.shards]);var f=T.useCallback(function(A,D){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!c.current.allowPinchZoom;var V=Af(A),U=t.current,z="deltaX"in A?A.deltaX:U[0]-V[0],K="deltaY"in A?A.deltaY:U[1]-V[1],Q,ie=A.target,N=Math.abs(z)>Math.abs(K)?"h":"v";if("touches"in A&&N==="h"&&ie.type==="range")return!1;var S=gx(N,ie);if(!S)return!0;if(S?Q=N:(Q=N==="v"?"h":"v",S=gx(N,ie)),!S)return!1;if(!i.current&&"changedTouches"in A&&(z||K)&&(i.current=Q),!Q)return!0;var k=i.current||Q;return zj(k,D,A,k==="h"?z:K)},[]),m=T.useCallback(function(A){var D=A;if(!(!Ko.length||Ko[Ko.length-1]!==l)){var V="deltaY"in D?yx(D):Af(D),U=e.current.filter(function(Q){return Q.name===D.type&&(Q.target===D.target||D.target===Q.shadowParent)&&Fj(Q.delta,V)})[0];if(U&&U.should){D.cancelable&&D.preventDefault();return}if(!U){var z=(c.current.shards||[]).map(vx).filter(Boolean).filter(function(Q){return Q.contains(D.target)}),K=z.length>0?f(D,z[0]):!c.current.noIsolation;K&&D.cancelable&&D.preventDefault()}}},[]),p=T.useCallback(function(A,D,V,U){var z={name:A,delta:D,target:V,should:U,shadowParent:$j(V)};e.current.push(z),setTimeout(function(){e.current=e.current.filter(function(K){return K!==z})},1)},[]),v=T.useCallback(function(A){t.current=Af(A),i.current=void 0},[]),b=T.useCallback(function(A){p(A.type,yx(A),A.target,f(A,n.lockRef.current))},[]),E=T.useCallback(function(A){p(A.type,Af(A),A.target,f(A,n.lockRef.current))},[]);T.useEffect(function(){return Ko.push(l),n.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:E}),document.addEventListener("wheel",m,Yo),document.addEventListener("touchmove",m,Yo),document.addEventListener("touchstart",v,Yo),function(){Ko=Ko.filter(function(A){return A!==l}),document.removeEventListener("wheel",m,Yo),document.removeEventListener("touchmove",m,Yo),document.removeEventListener("touchstart",v,Yo)}},[]);var R=n.removeScrollBar,C=n.inert;return T.createElement(T.Fragment,null,C?T.createElement(l,{styles:Hj(a)}):null,R?T.createElement(Mj,{gapMode:n.gapMode}):null)}function $j(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const Yj=Ej(vA,Gj);var xA=T.forwardRef(function(n,e){return T.createElement(Kh,Kr({},n,{ref:e,sideCar:Yj}))});xA.classNames=Kh.classNames;var Kj=[" ","Enter","ArrowUp","ArrowDown"],Qj=[" ","Enter"],$a="Select",[Qh,Xh,Xj]=RP($a),[Ll,dL]=Bc($a,[Xj,iA]),Wh=iA(),[Wj,Ws]=Ll($a),[Zj,Jj]=Ll($a),TA=n=>{const{__scopeSelect:e,children:t,open:i,defaultOpen:a,onOpenChange:l,value:c,defaultValue:f,onValueChange:m,dir:p,name:v,autoComplete:b,disabled:E,required:R,form:C}=n,A=Wh(e),[D,V]=T.useState(null),[U,z]=T.useState(null),[K,Q]=T.useState(!1),ie=IP(p),[N,S]=fy({prop:i,defaultProp:a??!1,onChange:l,caller:$a}),[k,L]=fy({prop:c,defaultProp:f,onChange:m,caller:$a}),P=T.useRef(null),j=D?C||!!D.closest("form"):!0,[M,Z]=T.useState(new Set),le=Array.from(M).map(q=>q.props.value).join(";");return y.jsx(J8,{...A,children:y.jsxs(Wj,{required:R,scope:e,trigger:D,onTriggerChange:V,valueNode:U,onValueNodeChange:z,valueNodeHasChildren:K,onValueNodeHasChildrenChange:Q,contentId:Av(),value:k,onValueChange:L,open:N,onOpenChange:S,dir:ie,triggerPointerDownPosRef:P,disabled:E,children:[y.jsx(Qh.Provider,{scope:e,children:y.jsx(Zj,{scope:n.__scopeSelect,onNativeOptionAdd:T.useCallback(q=>{Z(F=>new Set(F).add(q))},[]),onNativeOptionRemove:T.useCallback(q=>{Z(F=>{const G=new Set(F);return G.delete(q),G})},[]),children:t})}),j?y.jsxs($A,{"aria-hidden":!0,required:R,tabIndex:-1,name:v,autoComplete:b,value:k,onChange:q=>L(q.target.value),disabled:E,form:C,children:[k===void 0?y.jsx("option",{value:""}):null,Array.from(M)]},le):null]})})};TA.displayName=$a;var SA="SelectTrigger",AA=T.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:i=!1,...a}=n,l=Wh(t),c=Ws(SA,t),f=c.disabled||i,m=kt(e,c.onTriggerChange),p=Xh(t),v=T.useRef("touch"),[b,E,R]=KA(A=>{const D=p().filter(z=>!z.disabled),V=D.find(z=>z.value===c.value),U=QA(D,A,V);U!==void 0&&c.onValueChange(U.value)}),C=A=>{f||(c.onOpenChange(!0),R()),A&&(c.triggerPointerDownPosRef.current={x:Math.round(A.pageX),y:Math.round(A.pageY)})};return y.jsx(ej,{asChild:!0,...l,children:y.jsx(ht.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":YA(c.value)?"":void 0,...a,ref:m,onClick:St(a.onClick,A=>{A.currentTarget.focus(),v.current!=="mouse"&&C(A)}),onPointerDown:St(a.onPointerDown,A=>{v.current=A.pointerType;const D=A.target;D.hasPointerCapture(A.pointerId)&&D.releasePointerCapture(A.pointerId),A.button===0&&A.ctrlKey===!1&&A.pointerType==="mouse"&&(C(A),A.preventDefault())}),onKeyDown:St(a.onKeyDown,A=>{const D=b.current!=="";!(A.ctrlKey||A.altKey||A.metaKey)&&A.key.length===1&&E(A.key),!(D&&A.key===" ")&&Kj.includes(A.key)&&(C(),A.preventDefault())})})})});AA.displayName=SA;var RA="SelectValue",CA=T.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:a,children:l,placeholder:c="",...f}=n,m=Ws(RA,t),{onValueNodeHasChildrenChange:p}=m,v=l!==void 0,b=kt(e,m.onValueNodeChange);return Tn(()=>{p(v)},[p,v]),y.jsx(ht.span,{...f,ref:b,style:{pointerEvents:"none"},children:YA(m.value)?y.jsx(y.Fragment,{children:c}):l})});CA.displayName=RA;var eV="SelectIcon",IA=T.forwardRef((n,e)=>{const{__scopeSelect:t,children:i,...a}=n;return y.jsx(ht.span,{"aria-hidden":!0,...a,ref:e,children:i||"▼"})});IA.displayName=eV;var tV="SelectPortal",NA=n=>y.jsx(hA,{asChild:!0,...n});NA.displayName=tV;var Ya="SelectContent",DA=T.forwardRef((n,e)=>{const t=Ws(Ya,n.__scopeSelect),[i,a]=T.useState();if(Tn(()=>{a(new DocumentFragment)},[]),!t.open){const l=i;return l?Ac.createPortal(y.jsx(OA,{scope:n.__scopeSelect,children:y.jsx(Qh.Slot,{scope:n.__scopeSelect,children:y.jsx("div",{children:n.children})})}),l):null}return y.jsx(kA,{...n,ref:e})});DA.displayName=Ya;var pr=10,[OA,Zs]=Ll(Ya),nV="SelectContentImpl",rV=dc("SelectContent.RemoveScroll"),kA=T.forwardRef((n,e)=>{const{__scopeSelect:t,position:i="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:c,side:f,sideOffset:m,align:p,alignOffset:v,arrowPadding:b,collisionBoundary:E,collisionPadding:R,sticky:C,hideWhenDetached:A,avoidCollisions:D,...V}=n,U=Ws(Ya,t),[z,K]=T.useState(null),[Q,ie]=T.useState(null),N=kt(e,me=>K(me)),[S,k]=T.useState(null),[L,P]=T.useState(null),j=Xh(t),[M,Z]=T.useState(!1),le=T.useRef(!1);T.useEffect(()=>{if(z)return fj(z)},[z]),LP();const q=T.useCallback(me=>{const[Te,...We]=j().map(Pe=>Pe.ref.current),[Ve]=We.slice(-1),Me=document.activeElement;for(const Pe of me)if(Pe===Me||(Pe==null||Pe.scrollIntoView({block:"nearest"}),Pe===Te&&Q&&(Q.scrollTop=0),Pe===Ve&&Q&&(Q.scrollTop=Q.scrollHeight),Pe==null||Pe.focus(),document.activeElement!==Me))return},[j,Q]),F=T.useCallback(()=>q([S,z]),[q,S,z]);T.useEffect(()=>{M&&F()},[M,F]);const{onOpenChange:G,triggerPointerDownPosRef:he}=U;T.useEffect(()=>{if(z){let me={x:0,y:0};const Te=Ve=>{var Me,Pe;me={x:Math.abs(Math.round(Ve.pageX)-(((Me=he.current)==null?void 0:Me.x)??0)),y:Math.abs(Math.round(Ve.pageY)-(((Pe=he.current)==null?void 0:Pe.y)??0))}},We=Ve=>{me.x<=10&&me.y<=10?Ve.preventDefault():z.contains(Ve.target)||G(!1),document.removeEventListener("pointermove",Te),he.current=null};return he.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",We,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",We,{capture:!0})}}},[z,G,he]),T.useEffect(()=>{const me=()=>G(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[G]);const[B,ne]=KA(me=>{const Te=j().filter(Me=>!Me.disabled),We=Te.find(Me=>Me.ref.current===document.activeElement),Ve=QA(Te,me,We);Ve&&setTimeout(()=>Ve.ref.current.focus())}),fe=T.useCallback((me,Te,We)=>{const Ve=!le.current&&!We;(U.value!==void 0&&U.value===Te||Ve)&&(k(me),Ve&&(le.current=!0))},[U.value]),se=T.useCallback(()=>z==null?void 0:z.focus(),[z]),pe=T.useCallback((me,Te,We)=>{const Ve=!le.current&&!We;(U.value!==void 0&&U.value===Te||Ve)&&P(me)},[U.value]),Se=i==="popper"?my:MA,we=Se===my?{side:f,sideOffset:m,align:p,alignOffset:v,arrowPadding:b,collisionBoundary:E,collisionPadding:R,sticky:C,hideWhenDetached:A,avoidCollisions:D}:{};return y.jsx(OA,{scope:t,content:z,viewport:Q,onViewportChange:ie,itemRefCallback:fe,selectedItem:S,onItemLeave:se,itemTextRefCallback:pe,focusSelectedItem:F,selectedItemText:L,position:i,isPositioned:M,searchRef:B,children:y.jsx(xA,{as:rV,allowPinchZoom:!0,children:y.jsx(H1,{asChild:!0,trapped:U.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:St(a,me=>{var Te;(Te=U.trigger)==null||Te.focus({preventScroll:!0}),me.preventDefault()}),children:y.jsx(z1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>U.onOpenChange(!1),children:y.jsx(Se,{role:"listbox",id:U.contentId,"data-state":U.open?"open":"closed",dir:U.dir,onContextMenu:me=>me.preventDefault(),...V,...we,onPlaced:()=>Z(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...V.style},onKeyDown:St(V.onKeyDown,me=>{const Te=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!Te&&me.key.length===1&&ne(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let Ve=j().filter(Me=>!Me.disabled).map(Me=>Me.ref.current);if(["ArrowUp","End"].includes(me.key)&&(Ve=Ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const Me=me.target,Pe=Ve.indexOf(Me);Ve=Ve.slice(Pe+1)}setTimeout(()=>q(Ve)),me.preventDefault()}})})})})})})});kA.displayName=nV;var iV="SelectItemAlignedPosition",MA=T.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:i,...a}=n,l=Ws(Ya,t),c=Zs(Ya,t),[f,m]=T.useState(null),[p,v]=T.useState(null),b=kt(e,N=>v(N)),E=Xh(t),R=T.useRef(!1),C=T.useRef(!0),{viewport:A,selectedItem:D,selectedItemText:V,focusSelectedItem:U}=c,z=T.useCallback(()=>{if(l.trigger&&l.valueNode&&f&&p&&A&&D&&V){const N=l.trigger.getBoundingClientRect(),S=p.getBoundingClientRect(),k=l.valueNode.getBoundingClientRect(),L=V.getBoundingClientRect();if(l.dir!=="rtl"){const Me=L.left-S.left,Pe=k.left-Me,Ct=N.left-Pe,Wt=N.width+Ct,lr=Math.max(Wt,S.width),Cr=window.innerWidth-pr,Zt=Zw(Pe,[pr,Math.max(pr,Cr-lr)]);f.style.minWidth=Wt+"px",f.style.left=Zt+"px"}else{const Me=S.right-L.right,Pe=window.innerWidth-k.right-Me,Ct=window.innerWidth-N.right-Pe,Wt=N.width+Ct,lr=Math.max(Wt,S.width),Cr=window.innerWidth-pr,Zt=Zw(Pe,[pr,Math.max(pr,Cr-lr)]);f.style.minWidth=Wt+"px",f.style.right=Zt+"px"}const P=E(),j=window.innerHeight-pr*2,M=A.scrollHeight,Z=window.getComputedStyle(p),le=parseInt(Z.borderTopWidth,10),q=parseInt(Z.paddingTop,10),F=parseInt(Z.borderBottomWidth,10),G=parseInt(Z.paddingBottom,10),he=le+q+M+G+F,B=Math.min(D.offsetHeight*5,he),ne=window.getComputedStyle(A),fe=parseInt(ne.paddingTop,10),se=parseInt(ne.paddingBottom,10),pe=N.top+N.height/2-pr,Se=j-pe,we=D.offsetHeight/2,me=D.offsetTop+we,Te=le+q+me,We=he-Te;if(Te<=pe){const Me=P.length>0&&D===P[P.length-1].ref.current;f.style.bottom="0px";const Pe=p.clientHeight-A.offsetTop-A.offsetHeight,Ct=Math.max(Se,we+(Me?se:0)+Pe+F),Wt=Te+Ct;f.style.height=Wt+"px"}else{const Me=P.length>0&&D===P[0].ref.current;f.style.top="0px";const Ct=Math.max(pe,le+A.offsetTop+(Me?fe:0)+we)+We;f.style.height=Ct+"px",A.scrollTop=Te-pe+A.offsetTop}f.style.margin=`${pr}px 0`,f.style.minHeight=B+"px",f.style.maxHeight=j+"px",i==null||i(),requestAnimationFrame(()=>R.current=!0)}},[E,l.trigger,l.valueNode,f,p,A,D,V,l.dir,i]);Tn(()=>z(),[z]);const[K,Q]=T.useState();Tn(()=>{p&&Q(window.getComputedStyle(p).zIndex)},[p]);const ie=T.useCallback(N=>{N&&C.current===!0&&(z(),U==null||U(),C.current=!1)},[z,U]);return y.jsx(aV,{scope:t,contentWrapper:f,shouldExpandOnScrollRef:R,onScrollButtonChange:ie,children:y.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:K},children:y.jsx(ht.div,{...a,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});MA.displayName=iV;var sV="SelectPopperPosition",my=T.forwardRef((n,e)=>{const{__scopeSelect:t,align:i="start",collisionPadding:a=pr,...l}=n,c=Wh(t);return y.jsx(tj,{...c,...l,ref:e,align:i,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});my.displayName=sV;var[aV,jv]=Ll(Ya,{}),py="SelectViewport",PA=T.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:i,...a}=n,l=Zs(py,t),c=jv(py,t),f=kt(e,l.onViewportChange),m=T.useRef(0);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),y.jsx(Qh.Slot,{scope:t,children:y.jsx(ht.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:St(a.onScroll,p=>{const v=p.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:E}=c;if(E!=null&&E.current&&b){const R=Math.abs(m.current-v.scrollTop);if(R>0){const C=window.innerHeight-pr*2,A=parseFloat(b.style.minHeight),D=parseFloat(b.style.height),V=Math.max(A,D);if(V<C){const U=V+R,z=Math.min(C,U),K=U-z;b.style.height=z+"px",b.style.bottom==="0px"&&(v.scrollTop=K>0?K:0,b.style.justifyContent="flex-end")}}}m.current=v.scrollTop})})})]})});PA.displayName=py;var jA="SelectGroup",[oV,lV]=Ll(jA),uV=T.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,a=Av();return y.jsx(oV,{scope:t,id:a,children:y.jsx(ht.div,{role:"group","aria-labelledby":a,...i,ref:e})})});uV.displayName=jA;var VA="SelectLabel",cV=T.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,a=lV(VA,t);return y.jsx(ht.div,{id:a.id,...i,ref:e})});cV.displayName=VA;var yh="SelectItem",[dV,LA]=Ll(yh),UA=T.forwardRef((n,e)=>{const{__scopeSelect:t,value:i,disabled:a=!1,textValue:l,...c}=n,f=Ws(yh,t),m=Zs(yh,t),p=f.value===i,[v,b]=T.useState(l??""),[E,R]=T.useState(!1),C=kt(e,U=>{var z;return(z=m.itemRefCallback)==null?void 0:z.call(m,U,i,a)}),A=Av(),D=T.useRef("touch"),V=()=>{a||(f.onValueChange(i),f.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return y.jsx(dV,{scope:t,value:i,disabled:a,textId:A,isSelected:p,onItemTextChange:T.useCallback(U=>{b(z=>z||((U==null?void 0:U.textContent)??"").trim())},[]),children:y.jsx(Qh.ItemSlot,{scope:t,value:i,disabled:a,textValue:v,children:y.jsx(ht.div,{role:"option","aria-labelledby":A,"data-highlighted":E?"":void 0,"aria-selected":p&&E,"data-state":p?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...c,ref:C,onFocus:St(c.onFocus,()=>R(!0)),onBlur:St(c.onBlur,()=>R(!1)),onClick:St(c.onClick,()=>{D.current!=="mouse"&&V()}),onPointerUp:St(c.onPointerUp,()=>{D.current==="mouse"&&V()}),onPointerDown:St(c.onPointerDown,U=>{D.current=U.pointerType}),onPointerMove:St(c.onPointerMove,U=>{var z;D.current=U.pointerType,a?(z=m.onItemLeave)==null||z.call(m):D.current==="mouse"&&U.currentTarget.focus({preventScroll:!0})}),onPointerLeave:St(c.onPointerLeave,U=>{var z;U.currentTarget===document.activeElement&&((z=m.onItemLeave)==null||z.call(m))}),onKeyDown:St(c.onKeyDown,U=>{var K;((K=m.searchRef)==null?void 0:K.current)!==""&&U.key===" "||(Qj.includes(U.key)&&V(),U.key===" "&&U.preventDefault())})})})})});UA.displayName=yh;var rc="SelectItemText",BA=T.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:a,...l}=n,c=Ws(rc,t),f=Zs(rc,t),m=LA(rc,t),p=Jj(rc,t),[v,b]=T.useState(null),E=kt(e,V=>b(V),m.onItemTextChange,V=>{var U;return(U=f.itemTextRefCallback)==null?void 0:U.call(f,V,m.value,m.disabled)}),R=v==null?void 0:v.textContent,C=T.useMemo(()=>y.jsx("option",{value:m.value,disabled:m.disabled,children:R},m.value),[m.disabled,m.value,R]),{onNativeOptionAdd:A,onNativeOptionRemove:D}=p;return Tn(()=>(A(C),()=>D(C)),[A,D,C]),y.jsxs(y.Fragment,{children:[y.jsx(ht.span,{id:m.textId,...l,ref:E}),m.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Ac.createPortal(l.children,c.valueNode):null]})});BA.displayName=rc;var zA="SelectItemIndicator",FA=T.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return LA(zA,t).isSelected?y.jsx(ht.span,{"aria-hidden":!0,...i,ref:e}):null});FA.displayName=zA;var gy="SelectScrollUpButton",HA=T.forwardRef((n,e)=>{const t=Zs(gy,n.__scopeSelect),i=jv(gy,n.__scopeSelect),[a,l]=T.useState(!1),c=kt(e,i.onScrollButtonChange);return Tn(()=>{if(t.viewport&&t.isPositioned){let f=function(){const p=m.scrollTop>0;l(p)};const m=t.viewport;return f(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[t.viewport,t.isPositioned]),a?y.jsx(GA,{...n,ref:c,onAutoScroll:()=>{const{viewport:f,selectedItem:m}=t;f&&m&&(f.scrollTop=f.scrollTop-m.offsetHeight)}}):null});HA.displayName=gy;var yy="SelectScrollDownButton",qA=T.forwardRef((n,e)=>{const t=Zs(yy,n.__scopeSelect),i=jv(yy,n.__scopeSelect),[a,l]=T.useState(!1),c=kt(e,i.onScrollButtonChange);return Tn(()=>{if(t.viewport&&t.isPositioned){let f=function(){const p=m.scrollHeight-m.clientHeight,v=Math.ceil(m.scrollTop)<p;l(v)};const m=t.viewport;return f(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[t.viewport,t.isPositioned]),a?y.jsx(GA,{...n,ref:c,onAutoScroll:()=>{const{viewport:f,selectedItem:m}=t;f&&m&&(f.scrollTop=f.scrollTop+m.offsetHeight)}}):null});qA.displayName=yy;var GA=T.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:i,...a}=n,l=Zs("SelectScrollButton",t),c=T.useRef(null),f=Xh(t),m=T.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return T.useEffect(()=>()=>m(),[m]),Tn(()=>{var v;const p=f().find(b=>b.ref.current===document.activeElement);(v=p==null?void 0:p.ref.current)==null||v.scrollIntoView({block:"nearest"})},[f]),y.jsx(ht.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:St(a.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(i,50))}),onPointerMove:St(a.onPointerMove,()=>{var p;(p=l.onItemLeave)==null||p.call(l),c.current===null&&(c.current=window.setInterval(i,50))}),onPointerLeave:St(a.onPointerLeave,()=>{m()})})}),fV="SelectSeparator",hV=T.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return y.jsx(ht.div,{"aria-hidden":!0,...i,ref:e})});hV.displayName=fV;var vy="SelectArrow",mV=T.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,a=Wh(t),l=Ws(vy,t),c=Zs(vy,t);return l.open&&c.position==="popper"?y.jsx(nj,{...a,...i,ref:e}):null});mV.displayName=vy;var pV="SelectBubbleInput",$A=T.forwardRef(({__scopeSelect:n,value:e,...t},i)=>{const a=T.useRef(null),l=kt(i,a),c=mA(e);return T.useEffect(()=>{const f=a.current;if(!f)return;const m=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(m,"value").set;if(c!==e&&v){const b=new Event("change",{bubbles:!0});v.call(f,e),f.dispatchEvent(b)}},[c,e]),y.jsx(ht.select,{...t,style:{...pA,...t.style},ref:l,defaultValue:e})});$A.displayName=pV;function YA(n){return n===""||n===void 0}function KA(n){const e=qa(n),t=T.useRef(""),i=T.useRef(0),a=T.useCallback(c=>{const f=t.current+c;e(f),function m(p){t.current=p,window.clearTimeout(i.current),p!==""&&(i.current=window.setTimeout(()=>m(""),1e3))}(f)},[e]),l=T.useCallback(()=>{t.current="",window.clearTimeout(i.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(i.current),[]),[t,a,l]}function QA(n,e,t){const a=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,l=t?n.indexOf(t):-1;let c=gV(n,Math.max(l,0));a.length===1&&(c=c.filter(p=>p!==t));const m=c.find(p=>p.textValue.toLowerCase().startsWith(a.toLowerCase()));return m!==t?m:void 0}function gV(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var yV=TA,vV=AA,_V=CA,bV=IA,EV=NA,wV=DA,xV=PA,TV=UA,SV=BA,AV=FA,RV=HA,CV=qA;function el({...n}){return y.jsx(yV,{"data-slot":"select",...n})}function tl({...n}){return y.jsx(_V,{"data-slot":"select-value",...n})}function nl({className:n,size:e="default",children:t,...i}){return y.jsxs(vV,{"data-slot":"select-trigger","data-size":e,className:Ft("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...i,children:[t,y.jsx(bV,{asChild:!0,children:y.jsx(rT,{className:"size-4 opacity-50"})})]})}function rl({className:n,children:e,position:t="popper",...i}){return y.jsx(EV,{children:y.jsxs(wV,{"data-slot":"select-content",className:Ft("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...i,children:[y.jsx(IV,{}),y.jsx(xV,{className:Ft("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),y.jsx(NV,{})]})})}function bn({className:n,children:e,...t}){return y.jsxs(TV,{"data-slot":"select-item",className:Ft("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[y.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:y.jsx(AV,{children:y.jsx(nT,{className:"size-4"})})}),y.jsx(SV,{children:e})]})}function IV({className:n,...e}){return y.jsx(RV,{"data-slot":"select-scroll-up-button",className:Ft("flex cursor-default items-center justify-center py-1",n),...e,children:y.jsx(pN,{className:"size-4"})})}function NV({className:n,...e}){return y.jsx(CV,{"data-slot":"select-scroll-down-button",className:Ft("flex cursor-default items-center justify-center py-1",n),...e,children:y.jsx(rT,{className:"size-4"})})}function DV({className:n,...e}){return y.jsx("textarea",{"data-slot":"textarea",className:Ft("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}function OV(n,e){return T.useReducer((t,i)=>e[t][i]??t,n)}var XA=n=>{const{present:e,children:t}=n,i=kV(e),a=typeof t=="function"?t({present:i.isPresent}):T.Children.only(t),l=kt(i.ref,MV(a));return typeof t=="function"||i.isPresent?T.cloneElement(a,{ref:l}):null};XA.displayName="Presence";function kV(n){const[e,t]=T.useState(),i=T.useRef(null),a=T.useRef(n),l=T.useRef("none"),c=n?"mounted":"unmounted",[f,m]=OV(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const p=Rf(i.current);l.current=f==="mounted"?p:"none"},[f]),Tn(()=>{const p=i.current,v=a.current;if(v!==n){const E=l.current,R=Rf(p);n?m("MOUNT"):R==="none"||(p==null?void 0:p.display)==="none"?m("UNMOUNT"):m(v&&E!==R?"ANIMATION_OUT":"UNMOUNT"),a.current=n}},[n,m]),Tn(()=>{if(e){let p;const v=e.ownerDocument.defaultView??window,b=R=>{const A=Rf(i.current).includes(R.animationName);if(R.target===e&&A&&(m("ANIMATION_END"),!a.current)){const D=e.style.animationFillMode;e.style.animationFillMode="forwards",p=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=D)})}},E=R=>{R.target===e&&(l.current=Rf(i.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",b),e.addEventListener("animationend",b),()=>{v.clearTimeout(p),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",b),e.removeEventListener("animationend",b)}}else m("ANIMATION_END")},[e,m]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:T.useCallback(p=>{i.current=p?getComputedStyle(p):null,t(p)},[])}}function Rf(n){return(n==null?void 0:n.animationName)||"none"}function MV(n){var i,a;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Zh="Checkbox",[PV,fL]=Bc(Zh),[jV,Vv]=PV(Zh);function VV(n){const{__scopeCheckbox:e,checked:t,children:i,defaultChecked:a,disabled:l,form:c,name:f,onCheckedChange:m,required:p,value:v="on",internal_do_not_use_render:b}=n,[E,R]=fy({prop:t,defaultProp:a??!1,onChange:m,caller:Zh}),[C,A]=T.useState(null),[D,V]=T.useState(null),U=T.useRef(!1),z=C?!!c||!!C.closest("form"):!0,K={checked:E,disabled:l,setChecked:R,control:C,setControl:A,name:f,form:c,value:v,hasConsumerStoppedPropagationRef:U,required:p,defaultChecked:Vs(a)?!1:a,isFormControl:z,bubbleInput:D,setBubbleInput:V};return y.jsx(jV,{scope:e,...K,children:LV(b)?b(K):i})}var WA="CheckboxTrigger",ZA=T.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...i},a)=>{const{control:l,value:c,disabled:f,checked:m,required:p,setControl:v,setChecked:b,hasConsumerStoppedPropagationRef:E,isFormControl:R,bubbleInput:C}=Vv(WA,n),A=kt(a,v),D=T.useRef(m);return T.useEffect(()=>{const V=l==null?void 0:l.form;if(V){const U=()=>b(D.current);return V.addEventListener("reset",U),()=>V.removeEventListener("reset",U)}},[l,b]),y.jsx(ht.button,{type:"button",role:"checkbox","aria-checked":Vs(m)?"mixed":m,"aria-required":p,"data-state":i2(m),"data-disabled":f?"":void 0,disabled:f,value:c,...i,ref:A,onKeyDown:St(e,V=>{V.key==="Enter"&&V.preventDefault()}),onClick:St(t,V=>{b(U=>Vs(U)?!0:!U),C&&R&&(E.current=V.isPropagationStopped(),E.current||V.stopPropagation())})})});ZA.displayName=WA;var JA=T.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:i,checked:a,defaultChecked:l,required:c,disabled:f,value:m,onCheckedChange:p,form:v,...b}=n;return y.jsx(VV,{__scopeCheckbox:t,checked:a,defaultChecked:l,disabled:f,required:c,onCheckedChange:p,name:i,form:v,value:m,internal_do_not_use_render:({isFormControl:E})=>y.jsxs(y.Fragment,{children:[y.jsx(ZA,{...b,ref:e,__scopeCheckbox:t}),E&&y.jsx(r2,{__scopeCheckbox:t})]})})});JA.displayName=Zh;var e2="CheckboxIndicator",t2=T.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:i,...a}=n,l=Vv(e2,t);return y.jsx(XA,{present:i||Vs(l.checked)||l.checked===!0,children:y.jsx(ht.span,{"data-state":i2(l.checked),"data-disabled":l.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...n.style}})})});t2.displayName=e2;var n2="CheckboxBubbleInput",r2=T.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:i,hasConsumerStoppedPropagationRef:a,checked:l,defaultChecked:c,required:f,disabled:m,name:p,value:v,form:b,bubbleInput:E,setBubbleInput:R}=Vv(n2,n),C=kt(t,R),A=mA(l),D=nA(i);T.useEffect(()=>{const U=E;if(!U)return;const z=window.HTMLInputElement.prototype,Q=Object.getOwnPropertyDescriptor(z,"checked").set,ie=!a.current;if(A!==l&&Q){const N=new Event("click",{bubbles:ie});U.indeterminate=Vs(l),Q.call(U,Vs(l)?!1:l),U.dispatchEvent(N)}},[E,A,l,a]);const V=T.useRef(Vs(l)?!1:l);return y.jsx(ht.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??V.current,required:f,disabled:m,name:p,value:v,form:b,...e,tabIndex:-1,ref:C,style:{...e.style,...D,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});r2.displayName=n2;function LV(n){return typeof n=="function"}function Vs(n){return n==="indeterminate"}function i2(n){return Vs(n)?"indeterminate":n?"checked":"unchecked"}function _x({className:n,...e}){return y.jsx(JA,{"data-slot":"checkbox",className:Ft("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:y.jsx(t2,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:y.jsx(nT,{className:"size-3.5"})})})}function UV(){const{currentUser:n}=Rr(),{currentLedger:e,canEdit:t}=Uc(),[i,a]=T.useState([]),[l,c]=T.useState([]),[f,m]=T.useState(!0),[p,v]=T.useState(!1),[b,E]=T.useState(null),[R,C]=T.useState([]),[A,D]=T.useState(!1),[V,U]=T.useState(""),[z,K]=T.useState(""),[Q,ie]=T.useState({amount:"",type:"expense",description:"",categoryId:"",paymentMethod:"credit card",notes:"",includeInBudget:!0,date:new Date().toISOString().split("T")[0]}),[N,S]=T.useState({categoryId:"",includeInBudget:null}),k=async()=>{if(e)try{const F=mn(pt,"ledgers",e.id,"transactions"),G=ji(F,El("date","desc")),he=await or(G),B=[];he.forEach(ne=>{var se;const fe=ne.data();B.push({id:ne.id,...fe,date:((se=fe.date)==null?void 0:se.toDate())||new Date})}),a(B)}catch(F){console.error("Error fetching transactions:",F),U("Failed to fetch transactions")}},L=async()=>{if(e)try{const F=mn(pt,"ledgers",e.id,"categories"),G=await or(F),he=[];G.forEach(B=>{he.push({id:B.id,...B.data()})}),c(he),he.length===0&&await P()}catch(F){console.error("Error fetching categories:",F)}},P=async()=>{const F=[{name:"Food & Dining",type:"expense"},{name:"Transportation",type:"expense"},{name:"Shopping",type:"expense"},{name:"Entertainment",type:"expense"},{name:"Bills & Utilities",type:"expense"},{name:"Healthcare",type:"expense"},{name:"Salary",type:"income"},{name:"Freelance",type:"income"},{name:"Investment",type:"income"}];try{const G=mn(pt,"ledgers",e.id,"categories");for(const he of F)await js(G,he);await L()}catch(G){console.error("Error creating default categories:",G)}},j=async F=>{if(F.preventDefault(),!t()){U("You do not have permission to add transactions");return}try{U("");const G={...Q,amount:parseFloat(Q.amount),date:dt.fromDate(new Date(Q.date)),createdAt:dt.now(),userId:n.uid};b?(await fh(Jr(pt,"ledgers",e.id,"transactions",b.id),G),K("Transaction updated successfully")):(await js(mn(pt,"ledgers",e.id,"transactions"),G),K("Transaction added successfully")),ie({amount:"",type:"expense",description:"",categoryId:"",paymentMethod:"credit card",notes:"",includeInBudget:!0,date:new Date().toISOString().split("T")[0]}),v(!1),E(null),await k()}catch(G){console.error("Error saving transaction:",G),U("Failed to save transaction")}},M=async F=>{if(!t()){U("You do not have permission to delete transactions");return}try{await Sv(Jr(pt,"ledgers",e.id,"transactions",F)),K("Transaction deleted successfully"),await k()}catch(G){console.error("Error deleting transaction:",G),U("Failed to delete transaction")}},Z=async()=>{if(!(!t()||R.length===0))try{U("");const F={};N.categoryId&&(F.categoryId=N.categoryId),N.includeInBudget!==null&&(F.includeInBudget=N.includeInBudget);for(const G of R)await fh(Jr(pt,"ledgers",e.id,"transactions",G),F);K(`Updated ${R.length} transactions`),C([]),D(!1),S({categoryId:"",includeInBudget:null}),await k()}catch(F){console.error("Error batch updating transactions:",F),U("Failed to update transactions")}},le=F=>{C(G=>G.includes(F)?G.filter(he=>he!==F):[...G,F])},q=()=>{R.length===i.length?C([]):C(i.map(F=>F.id))};return T.useEffect(()=>{e&&Promise.all([k(),L()]).finally(()=>m(!1))},[e]),f?y.jsx("div",{className:"p-6",children:"Loading transactions..."}):e?y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Transactions"}),y.jsxs("div",{className:"flex space-x-2",children:[R.length>0&&y.jsxs(qe,{variant:"outline",onClick:()=>D(!0),className:"flex items-center space-x-2",children:[y.jsx(fc,{className:"h-4 w-4"}),y.jsxs("span",{children:["Batch Edit (",R.length,")"]})]}),t()&&y.jsxs(qe,{onClick:()=>v(!0),className:"flex items-center space-x-2",children:[y.jsx(qf,{className:"h-4 w-4"}),y.jsx("span",{children:"Add Transaction"})]})]})]}),V&&y.jsx(yr,{variant:"destructive",children:y.jsx(vr,{children:V})}),z&&y.jsx(yr,{children:y.jsx(vr,{children:z})}),(p||b)&&y.jsxs(At,{children:[y.jsx(Bt,{children:y.jsx(zt,{children:b?"Edit Transaction":"Add New Transaction"})}),y.jsx(Rt,{children:y.jsxs("form",{onSubmit:j,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx(at,{htmlFor:"amount",children:"Amount"}),y.jsx(hn,{id:"amount",type:"number",step:"0.01",value:Q.amount,onChange:F=>ie({...Q,amount:F.target.value}),required:!0})]}),y.jsxs("div",{children:[y.jsx(at,{htmlFor:"type",children:"Type"}),y.jsxs(el,{value:Q.type,onValueChange:F=>ie({...Q,type:F}),children:[y.jsx(nl,{children:y.jsx(tl,{})}),y.jsxs(rl,{children:[y.jsx(bn,{value:"expense",children:"Expense"}),y.jsx(bn,{value:"income",children:"Income"})]})]})]}),y.jsxs("div",{children:[y.jsx(at,{htmlFor:"description",children:"Description"}),y.jsx(hn,{id:"description",value:Q.description,onChange:F=>ie({...Q,description:F.target.value}),required:!0})]}),y.jsxs("div",{children:[y.jsx(at,{htmlFor:"category",children:"Category"}),y.jsxs(el,{value:Q.categoryId,onValueChange:F=>ie({...Q,categoryId:F}),children:[y.jsx(nl,{children:y.jsx(tl,{placeholder:"Select category"})}),y.jsx(rl,{children:l.filter(F=>F.type===Q.type).map(F=>y.jsx(bn,{value:F.id,children:F.name},F.id))})]})]}),y.jsxs("div",{children:[y.jsx(at,{htmlFor:"paymentMethod",children:"Payment Method"}),y.jsxs(el,{value:Q.paymentMethod,onValueChange:F=>ie({...Q,paymentMethod:F}),children:[y.jsx(nl,{children:y.jsx(tl,{})}),y.jsxs(rl,{children:[y.jsx(bn,{value:"credit card",children:"Credit Card"}),y.jsx(bn,{value:"debit card",children:"Debit Card"}),y.jsx(bn,{value:"cash",children:"Cash"}),y.jsx(bn,{value:"bank transfer",children:"Bank Transfer"}),y.jsx(bn,{value:"check",children:"Check"})]})]})]}),y.jsxs("div",{children:[y.jsx(at,{htmlFor:"date",children:"Date"}),y.jsx(hn,{id:"date",type:"date",value:Q.date,onChange:F=>ie({...Q,date:F.target.value}),required:!0})]})]}),y.jsxs("div",{children:[y.jsx(at,{htmlFor:"notes",children:"Notes"}),y.jsx(DV,{id:"notes",value:Q.notes,onChange:F=>ie({...Q,notes:F.target.value}),rows:3})]}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(_x,{id:"includeInBudget",checked:Q.includeInBudget,onCheckedChange:F=>ie({...Q,includeInBudget:F})}),y.jsx(at,{htmlFor:"includeInBudget",children:"Include in budget calculations"})]}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx(qe,{type:"submit",children:b?"Update Transaction":"Add Transaction"}),y.jsx(qe,{type:"button",variant:"outline",onClick:()=>{v(!1),E(null),ie({amount:"",type:"expense",description:"",categoryId:"",paymentMethod:"credit card",notes:"",includeInBudget:!0,date:new Date().toISOString().split("T")[0]})},children:"Cancel"})]})]})})]}),A&&y.jsxs(At,{children:[y.jsxs(Bt,{children:[y.jsx(zt,{children:"Batch Edit Transactions"}),y.jsxs(br,{children:["Update ",R.length," selected transactions"]})]}),y.jsx(Rt,{children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx(at,{htmlFor:"batchCategory",children:"Change Category"}),y.jsxs(el,{value:N.categoryId,onValueChange:F=>S({...N,categoryId:F}),children:[y.jsx(nl,{children:y.jsx(tl,{placeholder:"Select new category (optional)"})}),y.jsx(rl,{children:l.map(F=>y.jsxs(bn,{value:F.id,children:[F.name," (",F.type,")"]},F.id))})]})]}),y.jsxs("div",{children:[y.jsx(at,{children:"Include in Budget"}),y.jsxs("div",{className:"flex space-x-4 mt-2",children:[y.jsx(qe,{type:"button",variant:N.includeInBudget===!0?"default":"outline",onClick:()=>S({...N,includeInBudget:!0}),children:"Include"}),y.jsx(qe,{type:"button",variant:N.includeInBudget===!1?"default":"outline",onClick:()=>S({...N,includeInBudget:!1}),children:"Exclude"}),y.jsx(qe,{type:"button",variant:N.includeInBudget===null?"default":"outline",onClick:()=>S({...N,includeInBudget:null}),children:"No Change"})]})]}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx(qe,{onClick:Z,children:"Update Transactions"}),y.jsx(qe,{variant:"outline",onClick:()=>{D(!1),S({categoryId:"",includeInBudget:null})},children:"Cancel"})]})]})})]}),y.jsxs(At,{children:[y.jsx(Bt,{children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx(zt,{children:"Transaction History"}),y.jsxs(br,{children:[i.length," transactions in ",e.name]})]}),i.length>0&&y.jsxs(qe,{variant:"outline",onClick:q,className:"flex items-center space-x-2",children:[R.length===i.length?y.jsx(BN,{className:"h-4 w-4"}):y.jsx(HN,{className:"h-4 w-4"}),y.jsx("span",{children:"Select All"})]})]})}),y.jsx(Rt,{children:i.length===0?y.jsx("div",{className:"text-center py-8 text-gray-500",children:"No transactions found. Add your first transaction to get started."}):y.jsx("div",{className:"space-y-2",children:i.map(F=>{const G=l.find(he=>he.id===F.categoryId);return y.jsxs("div",{className:`flex items-center justify-between p-4 border rounded-lg ${R.includes(F.id)?"bg-blue-50 border-blue-200":"bg-white"}`,children:[y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx(_x,{checked:R.includes(F.id),onCheckedChange:()=>le(F.id)}),y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("h3",{className:"font-medium",children:F.description}),G&&y.jsx(Ls,{variant:"secondary",children:G.name}),!F.includeInBudget&&y.jsx(Ls,{variant:"outline",children:"Excluded from Budget"})]}),y.jsxs("div",{className:"text-sm text-gray-500 flex items-center space-x-4",children:[y.jsxs("span",{className:"flex items-center space-x-1",children:[y.jsx(tT,{className:"h-3 w-3"}),y.jsx("span",{children:F.date.toLocaleDateString()})]}),y.jsxs("span",{className:"flex items-center space-x-1",children:[y.jsx(Ny,{className:"h-3 w-3"}),y.jsx("span",{children:F.paymentMethod})]})]}),F.notes&&y.jsx("p",{className:"text-sm text-gray-600 mt-1",children:F.notes})]})]}),y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsxs("div",{className:`text-lg font-semibold ${F.type==="income"?"text-green-600":"text-red-600"}`,children:[F.type==="income"?"+":"-","$",F.amount.toFixed(2)]}),t()&&y.jsxs("div",{className:"flex space-x-2",children:[y.jsx(qe,{variant:"ghost",size:"sm",onClick:()=>{E(F),ie({amount:F.amount.toString(),type:F.type,description:F.description,categoryId:F.categoryId||"",paymentMethod:F.paymentMethod||"credit card",notes:F.notes||"",includeInBudget:F.includeInBudget!==!1,date:F.date.toISOString().split("T")[0]})},children:y.jsx(fc,{className:"h-4 w-4"})}),y.jsx(qe,{variant:"ghost",size:"sm",onClick:()=>M(F.id),children:y.jsx(Gf,{className:"h-4 w-4"})})]})]})]},F.id)})})})]})]}):y.jsx("div",{className:"p-6",children:"Please select a ledger to view transactions."})}var Lv="Progress",Uv=100,[BV,hL]=Bc(Lv),[zV,FV]=BV(Lv),s2=T.forwardRef((n,e)=>{const{__scopeProgress:t,value:i=null,max:a,getValueLabel:l=HV,...c}=n;(a||a===0)&&!bx(a)&&console.error(qV(`${a}`,"Progress"));const f=bx(a)?a:Uv;i!==null&&!Ex(i,f)&&console.error(GV(`${i}`,"Progress"));const m=Ex(i,f)?i:null,p=vh(m)?l(m,f):void 0;return y.jsx(zV,{scope:t,value:m,max:f,children:y.jsx(ht.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":vh(m)?m:void 0,"aria-valuetext":p,role:"progressbar","data-state":l2(m,f),"data-value":m??void 0,"data-max":f,...c,ref:e})})});s2.displayName=Lv;var a2="ProgressIndicator",o2=T.forwardRef((n,e)=>{const{__scopeProgress:t,...i}=n,a=FV(a2,t);return y.jsx(ht.div,{"data-state":l2(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...i,ref:e})});o2.displayName=a2;function HV(n,e){return`${Math.round(n/e*100)}%`}function l2(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function vh(n){return typeof n=="number"}function bx(n){return vh(n)&&!isNaN(n)&&n>0}function Ex(n,e){return vh(n)&&!isNaN(n)&&n<=e&&n>=0}function qV(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Uv}\`.`}function GV(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Uv} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var $V=s2,YV=o2;function _y({className:n,value:e,...t}){return y.jsx($V,{"data-slot":"progress",className:Ft("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",n),...t,children:y.jsx(YV,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}function KV(){const{currentUser:n}=Rr(),{currentLedger:e,canEdit:t}=Uc(),[i,a]=T.useState([]),[l,c]=T.useState([]),[f,m]=T.useState([]),[p,v]=T.useState(!0),[b,E]=T.useState(!1),[R,C]=T.useState(null),[A,D]=T.useState(""),[V,U]=T.useState(""),[z,K]=T.useState({name:"",startDate:new Date().toISOString().split("T")[0],endDate:"",totalAmount:"",timeSpan:"monthly",categories:{}}),Q=(Z,le)=>{const q=new Date(Z);let F=new Date(q);switch(le){case"weekly":F.setDate(q.getDate()+6);break;case"monthly":F.setMonth(q.getMonth()+1),F.setDate(q.getDate()-1);break;case"quarterly":F.setMonth(q.getMonth()+3),F.setDate(q.getDate()-1);break;case"yearly":F.setFullYear(q.getFullYear()+1),F.setDate(q.getDate()-1);break;default:F.setMonth(q.getMonth()+1),F.setDate(q.getDate()-1)}return F.toISOString().split("T")[0]},ie=async()=>{if(e)try{const Z=mn(pt,"ledgers",e.id,"budgets"),le=ji(Z,El("startDate","desc")),q=await or(le),F=[];q.forEach(G=>{var B,ne;const he=G.data();F.push({id:G.id,...he,startDate:((B=he.startDate)==null?void 0:B.toDate())||new Date,endDate:((ne=he.endDate)==null?void 0:ne.toDate())||new Date})}),a(F)}catch(Z){console.error("Error fetching budgets:",Z),D("Failed to fetch budgets")}},N=async()=>{if(e)try{const Z=mn(pt,"ledgers",e.id,"categories"),le=await or(Z),q=[];le.forEach(F=>{q.push({id:F.id,...F.data()})}),c(q)}catch(Z){console.error("Error fetching categories:",Z)}},S=async()=>{if(e)try{const Z=mn(pt,"ledgers",e.id,"transactions"),le=ji(Z,Va("includeInBudget","==",!0)),q=await or(le),F=[];q.forEach(G=>{var B;const he=G.data();F.push({id:G.id,...he,date:((B=he.date)==null?void 0:B.toDate())||new Date})}),m(F)}catch(Z){console.error("Error fetching transactions:",Z)}},k=Z=>{const le=f.filter(G=>{const he=G.date;return he>=Z.startDate&&he<=Z.endDate&&G.type==="expense"}),q=le.reduce((G,he)=>G+he.amount,0),F={};return le.forEach(G=>{G.categoryId&&(F[G.categoryId]=(F[G.categoryId]||0)+G.amount)}),{totalSpent:q,categorySpending:F,transactionCount:le.length}},L=async Z=>{if(Z.preventDefault(),!t()){D("You do not have permission to manage budgets");return}try{D("");const le={...z,totalAmount:parseFloat(z.totalAmount),startDate:dt.fromDate(new Date(z.startDate)),endDate:dt.fromDate(new Date(z.endDate)),createdAt:dt.now(),userId:n.uid};R?(await fh(Jr(pt,"ledgers",e.id,"budgets",R.id),le),U("Budget updated successfully")):(await js(mn(pt,"ledgers",e.id,"budgets"),le),U("Budget created successfully")),K({name:"",startDate:new Date().toISOString().split("T")[0],endDate:"",totalAmount:"",timeSpan:"monthly",categories:{}}),E(!1),C(null),await ie()}catch(le){console.error("Error saving budget:",le),D("Failed to save budget")}},P=async Z=>{if(!t()){D("You do not have permission to delete budgets");return}try{await Sv(Jr(pt,"ledgers",e.id,"budgets",Z)),U("Budget deleted successfully"),await ie()}catch(le){console.error("Error deleting budget:",le),D("Failed to delete budget")}},j=(Z,le)=>{K(q=>({...q,categories:{...q.categories,[Z]:parseFloat(le)||0}}))},M=()=>{const Z=Object.values(z.categories).reduce((le,q)=>le+(q||0),0);return(parseFloat(z.totalAmount)||0)-Z};return T.useEffect(()=>{e&&Promise.all([ie(),N(),S()]).finally(()=>v(!1))},[e]),T.useEffect(()=>{if(z.startDate&&z.timeSpan){const Z=Q(z.startDate,z.timeSpan);K(le=>({...le,endDate:Z}))}},[z.startDate,z.timeSpan]),p?y.jsx("div",{className:"p-6",children:"Loading budgets..."}):e?y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Budget Management"}),t()&&y.jsxs(qe,{onClick:()=>E(!0),className:"flex items-center space-x-2",children:[y.jsx(qf,{className:"h-4 w-4"}),y.jsx("span",{children:"Create Budget"})]})]}),A&&y.jsx(yr,{variant:"destructive",children:y.jsx(vr,{children:A})}),V&&y.jsx(yr,{children:y.jsx(vr,{children:V})}),(b||R)&&y.jsxs(At,{children:[y.jsx(Bt,{children:y.jsx(zt,{children:R?"Edit Budget":"Create New Budget"})}),y.jsx(Rt,{children:y.jsxs("form",{onSubmit:L,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx(at,{htmlFor:"name",children:"Budget Name"}),y.jsx(hn,{id:"name",value:z.name,onChange:Z=>K({...z,name:Z.target.value}),placeholder:"e.g., Monthly Budget - June 2025",required:!0})]}),y.jsxs("div",{children:[y.jsx(at,{htmlFor:"timeSpan",children:"Time Span"}),y.jsxs(el,{value:z.timeSpan,onValueChange:Z=>K({...z,timeSpan:Z}),children:[y.jsx(nl,{children:y.jsx(tl,{})}),y.jsxs(rl,{children:[y.jsx(bn,{value:"weekly",children:"Weekly"}),y.jsx(bn,{value:"monthly",children:"Monthly"}),y.jsx(bn,{value:"quarterly",children:"Quarterly"}),y.jsx(bn,{value:"yearly",children:"Yearly"}),y.jsx(bn,{value:"custom",children:"Custom"})]})]})]}),y.jsxs("div",{children:[y.jsx(at,{htmlFor:"startDate",children:"Start Date"}),y.jsx(hn,{id:"startDate",type:"date",value:z.startDate,onChange:Z=>K({...z,startDate:Z.target.value}),required:!0})]}),y.jsxs("div",{children:[y.jsx(at,{htmlFor:"endDate",children:"End Date"}),y.jsx(hn,{id:"endDate",type:"date",value:z.endDate,onChange:Z=>K({...z,endDate:Z.target.value}),disabled:z.timeSpan!=="custom",required:!0})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx(at,{htmlFor:"totalAmount",children:"Total Budget Amount"}),y.jsx(hn,{id:"totalAmount",type:"number",step:"0.01",value:z.totalAmount,onChange:Z=>K({...z,totalAmount:Z.target.value}),required:!0})]})]}),y.jsxs("div",{children:[y.jsx(at,{children:"Category Budget Allocation"}),y.jsxs("div",{className:"mt-2 space-y-2",children:[l.filter(Z=>Z.type==="expense").map(Z=>y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(at,{className:"w-32 text-sm",children:Z.name}),y.jsx(hn,{type:"number",step:"0.01",value:z.categories[Z.id]||"",onChange:le=>j(Z.id,le.target.value),placeholder:"0.00",className:"w-32"})]},Z.id)),y.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[y.jsx(at,{className:"w-32 text-sm font-medium",children:"Remaining:"}),y.jsxs("span",{className:`text-sm font-medium ${M()<0?"text-red-600":"text-green-600"}`,children:["$",M().toFixed(2)]})]})]})]}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx(qe,{type:"submit",children:R?"Update Budget":"Create Budget"}),y.jsx(qe,{type:"button",variant:"outline",onClick:()=>{E(!1),C(null),K({name:"",startDate:new Date().toISOString().split("T")[0],endDate:"",totalAmount:"",timeSpan:"monthly",categories:{}})},children:"Cancel"})]})]})})]}),y.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:i.length===0?y.jsx(At,{className:"lg:col-span-2",children:y.jsxs(Rt,{className:"text-center py-8",children:[y.jsx($N,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),y.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No budgets created yet"}),y.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first budget to start tracking your spending goals."}),t()&&y.jsx(qe,{onClick:()=>E(!0),children:"Create Your First Budget"})]})}):i.map(Z=>{const le=k(Z),q=le.totalSpent/Z.totalAmount*100,F=le.totalSpent>Z.totalAmount,G=Math.ceil((Z.endDate-new Date)/(1e3*60*60*24));return y.jsxs(At,{children:[y.jsx(Bt,{children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx(zt,{className:"text-lg",children:Z.name}),y.jsxs(br,{children:[Z.startDate.toLocaleDateString()," - ",Z.endDate.toLocaleDateString()]})]}),t()&&y.jsxs("div",{className:"flex space-x-2",children:[y.jsx(qe,{variant:"ghost",size:"sm",onClick:()=>{C(Z),K({name:Z.name,startDate:Z.startDate.toISOString().split("T")[0],endDate:Z.endDate.toISOString().split("T")[0],totalAmount:Z.totalAmount.toString(),timeSpan:Z.timeSpan||"custom",categories:Z.categories||{}})},children:y.jsx(fc,{className:"h-4 w-4"})}),y.jsx(qe,{variant:"ghost",size:"sm",onClick:()=>P(Z.id),children:y.jsx(Gf,{className:"h-4 w-4"})})]})]})}),y.jsxs(Rt,{className:"space-y-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:"text-sm font-medium",children:"Budget Progress"}),y.jsxs(Ls,{variant:F?"destructive":q>80?"secondary":"default",children:[q.toFixed(1),"%"]})]}),y.jsx(_y,{value:Math.min(q,100),className:"h-2"}),y.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[y.jsxs("span",{children:["$",le.totalSpent.toFixed(2)," spent"]}),y.jsxs("span",{children:["$",Z.totalAmount.toFixed(2)," budget"]})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[y.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",(Z.totalAmount-le.totalSpent).toFixed(2)]}),y.jsx("div",{className:"text-sm text-gray-600",children:"Remaining"})]}),y.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[y.jsx("div",{className:"text-lg font-semibold text-gray-900",children:G>0?G:0}),y.jsx("div",{className:"text-sm text-gray-600",children:"Days Left"})]})]}),Z.categories&&Object.keys(Z.categories).length>0&&y.jsxs("div",{children:[y.jsx("h4",{className:"text-sm font-medium mb-2",children:"Category Breakdown"}),y.jsx("div",{className:"space-y-2",children:Object.entries(Z.categories).map(([he,B])=>{const ne=l.find(pe=>pe.id===he),fe=le.categorySpending[he]||0,se=fe/B*100;return ne?y.jsxs("div",{className:"space-y-1",children:[y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{children:ne.name}),y.jsxs("span",{children:["$",fe.toFixed(2)," / $",B.toFixed(2)]})]}),y.jsx(_y,{value:Math.min(se,100),className:"h-1"})]},he):null})})]}),y.jsxs("div",{className:"text-sm text-gray-600",children:[le.transactionCount," transactions in this period"]})]})]},Z.id)})})]}):y.jsx("div",{className:"p-6",children:"Please select a ledger to view budgets."})}/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */var QV=function(){var n={base:"https://twemoji.maxcdn.com/v/14.0.2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:U,toCodePoint:ie},onerror:function(){this.parentNode&&this.parentNode.replaceChild(m(this.alt,!1),this)},parse:z,replace:K,test:Q},e={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},t=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[©®\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd\udec3-\udec5\udef0-\udef6]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedd-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec2\uded0-\uded9\udee0-\udee7]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,i=/\uFE0F/g,a="‍",l=/[&<>'"]/g,c=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,f=String.fromCharCode;return n;function m(N,S){return document.createTextNode(S?N.replace(i,""):N)}function p(N){return N.replace(l,A)}function v(N,S){return"".concat(S.base,S.size,"/",N,S.ext)}function b(N,S){for(var k=N.childNodes,L=k.length,P,j;L--;)P=k[L],j=P.nodeType,j===3?S.push(P):j===1&&!("ownerSVGElement"in P)&&!c.test(P.nodeName.toLowerCase())&&b(P,S);return S}function E(N){return ie(N.indexOf(a)<0?N.replace(i,""):N)}function R(N,S){for(var k=b(N,[]),L=k.length,P,j,M,Z,le,q,F,G,he,B,ne,fe,se;L--;){for(M=!1,Z=document.createDocumentFragment(),le=k[L],q=le.nodeValue,G=0;F=t.exec(q);){if(he=F.index,he!==G&&Z.appendChild(m(q.slice(G,he),!0)),ne=F[0],fe=E(ne),G=he+ne.length,se=S.callback(fe,S),fe&&se){B=new Image,B.onerror=S.onerror,B.setAttribute("draggable","false"),P=S.attributes(ne,fe);for(j in P)P.hasOwnProperty(j)&&j.indexOf("on")!==0&&!B.hasAttribute(j)&&B.setAttribute(j,P[j]);B.className=S.className,B.alt=ne,B.src=se,M=!0,Z.appendChild(B)}B||Z.appendChild(m(ne,!1)),B=null}M&&(G<q.length&&Z.appendChild(m(q.slice(G),!0)),le.parentNode.replaceChild(Z,le))}return N}function C(N,S){return K(N,function(k){var L=k,P=E(k),j=S.callback(P,S),M,Z;if(P&&j){L="<img ".concat('class="',S.className,'" ','draggable="false" ','alt="',k,'"',' src="',j,'"'),M=S.attributes(k,P);for(Z in M)M.hasOwnProperty(Z)&&Z.indexOf("on")!==0&&L.indexOf(" "+Z+"=")===-1&&(L=L.concat(" ",Z,'="',p(M[Z]),'"'));L=L.concat("/>")}return L})}function A(N){return e[N]}function D(){return null}function V(N){return typeof N=="number"?N+"x"+N:N}function U(N){var S=typeof N=="string"?parseInt(N,16):N;return S<65536?f(S):(S-=65536,f(55296+(S>>10),56320+(S&1023)))}function z(N,S){return(!S||typeof S=="function")&&(S={callback:S}),(typeof N=="string"?C:R)(N,{callback:S.callback||v,attributes:typeof S.attributes=="function"?S.attributes:D,base:typeof S.base=="string"?S.base:n.base,ext:S.ext||n.ext,size:S.folder||V(S.size||n.size),className:S.className||n.className,onerror:S.onerror||n.onerror})}function K(N,S){return String(N).replace(t,S)}function Q(N){t.lastIndex=0;var S=t.test(N);return t.lastIndex=0,S}function ie(N,S){for(var k=[],L=0,P=0,j=0;j<N.length;)L=N.charCodeAt(j++),P?(k.push((65536+(P-55296<<10)+(L-56320)).toString(16)),P=0):55296<=L&&L<=56319?P=L:k.push(L.toString(16));return k.join(S||"-")}}();const XV=[{name:"Food & Dining",emoji:"🍽️",type:"expense"},{name:"Transportation",emoji:"🚗",type:"expense"},{name:"Shopping",emoji:"🛍️",type:"expense"},{name:"Entertainment",emoji:"🎬",type:"expense"},{name:"Bills & Utilities",emoji:"💡",type:"expense"},{name:"Healthcare",emoji:"🏥",type:"expense"},{name:"Education",emoji:"📚",type:"expense"},{name:"Travel",emoji:"✈️",type:"expense"},{name:"Fitness",emoji:"💪",type:"expense"},{name:"Personal Care",emoji:"💄",type:"expense"}],WV=[{name:"Salary",emoji:"💰",type:"income"},{name:"Freelance",emoji:"💻",type:"income"},{name:"Investment",emoji:"📈",type:"income"},{name:"Business",emoji:"🏢",type:"income"},{name:"Rental",emoji:"🏠",type:"income"},{name:"Gift",emoji:"🎁",type:"income"}],ZV=["🍽️","🚗","🛍️","🎬","💡","🏥","📚","✈️","💪","💄","💰","💻","📈","🏢","🏠","🎁","☕","🍕","🎵","🎮","📱","👕","⛽","🚌","🚇","🏪","🍺","🎪","🎨","📖","💊","🏋️","🧘","🎯","🎲","🎸","📺","🎤","🎭","🎪"];function JV(){const{currentUser:n}=Rr(),{currentLedger:e,canEdit:t}=Uc(),[i,a]=T.useState([]),[l,c]=T.useState(!0),[f,m]=T.useState(!1),[p,v]=T.useState(null),[b,E]=T.useState(""),[R,C]=T.useState(""),[A,D]=T.useState({name:"",emoji:"📝",type:"expense"}),V=async()=>{if(e)try{const P=mn(pt,"ledgers",e.id,"categories"),j=ji(P,El("type"),El("name")),M=await or(j),Z=[];M.forEach(le=>{Z.push({id:le.id,...le.data()})}),a(Z),c(!1)}catch(P){console.error("Error fetching categories:",P),E("Failed to fetch categories"),c(!1)}},U=async()=>{if(!(!e||!t))try{const P=mn(pt,"ledgers",e.id,"categories");for(const j of XV)await js(P,{...j,createdAt:new Date,createdBy:n.uid});for(const j of WV)await js(P,{...j,createdAt:new Date,createdBy:n.uid});await V(),C("Default categories created successfully!")}catch(P){console.error("Error creating default categories:",P),E("Failed to create default categories")}},z=async P=>{if(P.preventDefault(),!(!e||!t))try{const j=mn(pt,"ledgers",e.id,"categories");await js(j,{...A,createdAt:new Date,createdBy:n.uid}),D({name:"",emoji:"📝",type:"expense"}),m(!1),await V(),C("Category added successfully!")}catch(j){console.error("Error adding category:",j),E("Failed to add category")}},K=async P=>{if(P.preventDefault(),!(!p||!t))try{const j=Jr(pt,"ledgers",e.id,"categories",p.id);await fh(j,{name:A.name,emoji:A.emoji,type:A.type,updatedAt:new Date,updatedBy:n.uid}),v(null),D({name:"",emoji:"📝",type:"expense"}),await V(),C("Category updated successfully!")}catch(j){console.error("Error updating category:",j),E("Failed to update category")}},Q=async P=>{if(!(!t||!confirm("Are you sure you want to delete this category?")))try{const j=Jr(pt,"ledgers",e.id,"categories",P);await Sv(j),await V(),C("Category deleted successfully!")}catch(j){console.error("Error deleting category:",j),E("Failed to delete category")}},ie=P=>{v(P),D({name:P.name,emoji:P.emoji,type:P.type}),m(!1)},N=()=>{v(null),D({name:"",emoji:"📝",type:"expense"})},S=P=>y.jsx("span",{dangerouslySetInnerHTML:{__html:QV.parse(P,{folder:"svg",ext:".svg"})},style:{width:"20px",height:"20px",display:"inline-block"}});if(T.useEffect(()=>{V()},[e]),T.useEffect(()=>{if(R||b){const P=setTimeout(()=>{C(""),E("")},3e3);return()=>clearTimeout(P)}},[R,b]),l)return y.jsx("div",{className:"p-6",children:y.jsxs("div",{className:"animate-pulse space-y-6",children:[y.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2,3,4].map(P=>y.jsx("div",{className:"h-32 bg-gray-200 rounded"},P))})]})});const k=i.filter(P=>P.type==="expense"),L=i.filter(P=>P.type==="income");return y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Category Management"}),t&&y.jsxs(qe,{onClick:()=>m(!0),className:"flex items-center space-x-2",children:[y.jsx(qf,{className:"h-4 w-4"}),y.jsx("span",{children:"Add Category"})]})]}),b&&y.jsx(yr,{variant:"destructive",children:y.jsx(vr,{children:b})}),R&&y.jsx(yr,{children:y.jsx(vr,{children:R})}),(f||p)&&y.jsxs(At,{children:[y.jsxs(Bt,{children:[y.jsx(zt,{children:p?"Edit Category":"Add New Category"}),y.jsx(br,{children:p?"Update category details":"Create a new category with emoji"})]}),y.jsx(Rt,{children:y.jsxs("form",{onSubmit:p?K:z,className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{children:[y.jsx(at,{htmlFor:"name",children:"Category Name"}),y.jsx(hn,{id:"name",value:A.name,onChange:P=>D({...A,name:P.target.value}),placeholder:"Enter category name",required:!0})]}),y.jsxs("div",{children:[y.jsx(at,{htmlFor:"type",children:"Type"}),y.jsxs(el,{value:A.type,onValueChange:P=>D({...A,type:P}),children:[y.jsx(nl,{children:y.jsx(tl,{})}),y.jsxs(rl,{children:[y.jsx(bn,{value:"expense",children:"Expense"}),y.jsx(bn,{value:"income",children:"Income"})]})]})]}),y.jsxs("div",{children:[y.jsx(at,{htmlFor:"emoji",children:"Emoji"}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(hn,{id:"emoji",value:A.emoji,onChange:P=>D({...A,emoji:P.target.value}),placeholder:"📝",className:"w-20"}),y.jsx("div",{className:"flex items-center space-x-1",children:S(A.emoji)})]})]})]}),y.jsxs("div",{children:[y.jsx(at,{children:"Popular Emojis"}),y.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:ZV.map((P,j)=>y.jsx("button",{type:"button",onClick:()=>D({...A,emoji:P}),className:"p-2 border rounded hover:bg-gray-100 transition-colors",children:S(P)},j))})]}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsxs(qe,{type:"submit",className:"flex items-center space-x-2",children:[y.jsx(jN,{className:"h-4 w-4"}),y.jsxs("span",{children:[p?"Update":"Add"," Category"]})]}),y.jsxs(qe,{type:"button",variant:"outline",onClick:()=>{m(!1),N()},className:"flex items-center space-x-2",children:[y.jsx(aT,{className:"h-4 w-4"}),y.jsx("span",{children:"Cancel"})]})]})]})})]}),i.length===0?y.jsx(At,{children:y.jsxs(Rt,{className:"text-center py-8",children:[y.jsx(Ny,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),y.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Categories Found"}),y.jsx("p",{className:"text-gray-600 mb-4",children:"Create categories to organize your transactions"}),t&&y.jsxs(qe,{onClick:U,className:"flex items-center space-x-2 mx-auto",children:[y.jsx(qf,{className:"h-4 w-4"}),y.jsx("span",{children:"Create Default Categories"})]})]})}):y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs(At,{children:[y.jsx(Bt,{children:y.jsxs(zt,{className:"flex items-center space-x-2",children:[y.jsx("span",{children:"💸"}),y.jsx("span",{children:"Expense Categories"}),y.jsx(Ls,{variant:"secondary",children:k.length})]})}),y.jsx(Rt,{children:y.jsx("div",{className:"space-y-2",children:k.map(P=>y.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[S(P.emoji),y.jsx("span",{className:"font-medium",children:P.name})]}),t&&y.jsxs("div",{className:"flex space-x-2",children:[y.jsx(qe,{size:"sm",variant:"ghost",onClick:()=>ie(P),className:"h-8 w-8 p-0",children:y.jsx(fc,{className:"h-4 w-4"})}),y.jsx(qe,{size:"sm",variant:"ghost",onClick:()=>Q(P.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:y.jsx(Gf,{className:"h-4 w-4"})})]})]},P.id))})})]}),y.jsxs(At,{children:[y.jsx(Bt,{children:y.jsxs(zt,{className:"flex items-center space-x-2",children:[y.jsx("span",{children:"💰"}),y.jsx("span",{children:"Income Categories"}),y.jsx(Ls,{variant:"secondary",children:L.length})]})}),y.jsx(Rt,{children:y.jsx("div",{className:"space-y-2",children:L.map(P=>y.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[S(P.emoji),y.jsx("span",{className:"font-medium",children:P.name})]}),t&&y.jsxs("div",{className:"flex space-x-2",children:[y.jsx(qe,{size:"sm",variant:"ghost",onClick:()=>ie(P),className:"h-8 w-8 p-0",children:y.jsx(fc,{className:"h-4 w-4"})}),y.jsx(qe,{size:"sm",variant:"ghost",onClick:()=>Q(P.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:y.jsx(Gf,{className:"h-4 w-4"})})]})]},P.id))})})]})]})]})}const wx=[{id:"alipay",name:"Alipay (支付宝)",icon:iT,description:"Import transactions from Alipay CSV export",fileFormat:"CSV",encoding:"GB2312",currency:"CNY",sampleFields:["交易时间","交易分类","交易对方","商品说明","收/支","金额","收/付款方式","交易状态"]},{id:"wechat",name:"WeChat Pay (微信支付)",icon:LN,description:"Import transactions from WeChat Pay CSV export",fileFormat:"CSV",encoding:"UTF-8",currency:"CNY",sampleFields:["交易时间","交易类型","交易对方","商品","收/支","金额(元)","支付方式","当前状态"]},{id:"generic",name:"Generic LLM Parser",icon:lN,description:"AI-powered parser for any transaction format",fileFormat:"CSV, TXT, PDF",encoding:"Auto-detect",currency:"Auto-detect",sampleFields:["AI will automatically detect and map fields"]}],xx={alipay:{日用百货:"Shopping",交通出行:"Transportation",文化休闲:"Entertainment",充值缴费:"Bills & Utilities",餐饮美食:"Food & Dining",医疗健康:"Healthcare",教育培训:"Education",旅游度假:"Travel",运动健身:"Fitness",美容美发:"Personal Care"},wechat:{商户消费:"Shopping",转账:"Transfer",红包:"Gift",充值:"Bills & Utilities",提现:"Transfer",理财:"Investment"}};function eL(){var P;const{currentUser:n}=Rr(),{currentLedger:e,canEdit:t}=Uc(),[i,a]=T.useState(""),[l,c]=T.useState(null),[f,m]=T.useState(!1),[p,v]=T.useState(0),[b,E]=T.useState(null),[R,C]=T.useState([]),[A,D]=T.useState(""),[V,U]=T.useState(""),z=async()=>{if(e)try{const j=mn(pt,"ledgers",e.id,"categories"),M=await or(j),Z=[];M.forEach(le=>{Z.push({id:le.id,...le.data()})}),C(Z)}catch(j){console.error("Error fetching categories:",j)}},K=j=>{const M=j.split(`
`);let Z=-1;for(let q=0;q<M.length;q++)if(M[q].includes("交易时间,交易分类")){Z=q+1;break}if(Z===-1)throw new Error("Invalid Alipay CSV format: Header not found");const le=[];for(let q=Z;q<M.length;q++){const F=M[q].trim();if(!F)continue;const G=F.split(",");if(G.length<8)continue;const[he,B,ne,fe,se,pe,Se,we,me]=G;pe!=="支出"&&pe!=="收入"||le.push({date:new Date(he),type:pe==="支出"?"expense":"income",amount:Math.abs(parseFloat(Se)),description:se||ne,category:xx.alipay[B]||"Other",paymentMethod:we,platform:"alipay",originalData:{category:B,counterparty:ne,account:fe,status:me}})}return le},Q=j=>{const M=j.split(`
`);let Z=-1;for(let q=0;q<M.length;q++)if(M[q].includes("交易时间,交易类型")){Z=q+1;break}if(Z===-1)throw new Error("Invalid WeChat Pay CSV format: Header not found");const le=[];for(let q=Z;q<M.length;q++){const F=M[q].trim();if(!F)continue;const G=F.split(",");if(G.length<8)continue;const[he,B,ne,fe,se,pe,Se,we]=G;if(se!=="支出"&&se!=="收入")continue;const me=Math.abs(parseFloat(pe.replace("¥","")));le.push({date:new Date(he),type:se==="支出"?"expense":"income",amount:me,description:fe||ne,category:xx.wechat[B]||"Other",paymentMethod:Se,platform:"wechat",originalData:{transactionType:B,counterparty:ne,status:we}})}return le},ie=j=>{const M=R.find(Z=>Z.name.toLowerCase()===j.toLowerCase());return M?M.id:null},N=async j=>{if(!e||!t)return;const M=mn(pt,"ledgers",e.id,"transactions");let Z=0,le=0;for(let q=0;q<j.length;q++){const F=j[q];try{const G=ji(M,Va("date","==",dt.fromDate(F.date)),Va("amount","==",F.amount),Va("description","==",F.description));if(!(await or(G)).empty){le++;continue}const B=ie(F.category);await js(M,{date:dt.fromDate(F.date),type:F.type,amount:F.amount,description:F.description,categoryId:B,paymentMethod:F.paymentMethod,includeInBudget:!0,platform:F.platform,originalData:F.originalData,createdAt:new Date,createdBy:n.uid}),Z++,v(Math.round((q+1)/j.length*100))}catch(G){console.error("Error importing transaction:",G),le++}}return{imported:Z,skipped:le,total:j.length}},S=async()=>{if(!(!l||!i||!t)){m(!0),v(0),D(""),U("");try{const j=await l.text();let M=[];if(i==="alipay")M=K(j);else if(i==="wechat")M=Q(j);else if(i==="generic")throw new Error("Generic LLM parser not yet implemented");if(M.length===0)throw new Error("No valid transactions found in the file");const Z=await N(M);E(Z),Z.imported>0?U(`Successfully imported ${Z.imported} transactions. ${Z.skipped} duplicates were skipped.`):D("No new transactions were imported. All transactions may be duplicates.")}catch(j){console.error("Import error:",j),D(j.message||"Failed to import transactions")}finally{m(!1),v(0)}}},k=j=>{const M=j.target.files[0];M&&(c(M),E(null),D(""),U(""))},L=j=>{let M="",Z="";j==="alipay"?(M=`交易时间,交易分类,交易对方,对方账号,商品说明,收/支,金额,收/付款方式,交易状态,交易订单号,商家订单号,备注
2025-06-22 00:08:11,日用百货,商家名称,152******49,商品描述,支出,380.00,工商银行储蓄卡(6164),交易成功,订单号,商家订单号,`,Z="alipay_sample.csv"):j==="wechat"&&(M=`交易时间,交易类型,交易对方,商品,收/支,金额(元),支付方式,当前状态,交易单号,商户单号,备注
2025-06-22 17:34:44,转账,朋友姓名,转账备注:微信转账,收入,¥380.00,/,已存入零钱,交易单号,/,/
2025-06-20 20:32:31,商户消费,美团,先骑后付,支出,¥1.50,零钱,支付成功,交易单号,商户单号,/`,Z="wechat_sample.csv");const le=new Blob([M],{type:"text/csv;charset=utf-8;"}),q=document.createElement("a");q.href=URL.createObjectURL(le),q.download=Z,q.click()};return T.useEffect(()=>{z()},[e]),T.useEffect(()=>{if(V||A){const j=setTimeout(()=>{U(""),D("")},5e3);return()=>clearTimeout(j)}},[V,A]),t?y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Import Transactions"}),y.jsxs(Ls,{variant:"secondary",className:"text-sm",children:["Current Ledger: ",e==null?void 0:e.name]})]}),A&&y.jsxs(yr,{variant:"destructive",children:[y.jsx(bE,{className:"h-4 w-4"}),y.jsx(vr,{children:A})]}),V&&y.jsxs(yr,{children:[y.jsx(vN,{className:"h-4 w-4"}),y.jsx(vr,{children:V})]}),y.jsxs(At,{children:[y.jsxs(Bt,{children:[y.jsx(zt,{children:"Select Import Platform"}),y.jsx(br,{children:"Choose the platform you want to import transactions from"})]}),y.jsx(Rt,{children:y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:wx.map(j=>{const M=j.icon;return y.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${i===j.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>a(j.id),children:[y.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[y.jsx(M,{className:"h-6 w-6 text-blue-600"}),y.jsx("h3",{className:"font-medium",children:j.name})]}),y.jsx("p",{className:"text-sm text-gray-600 mb-3",children:j.description}),y.jsxs("div",{className:"space-y-1 text-xs text-gray-500",children:[y.jsxs("div",{children:["Format: ",j.fileFormat]}),y.jsxs("div",{children:["Encoding: ",j.encoding]}),y.jsxs("div",{children:["Currency: ",j.currency]})]}),y.jsxs(qe,{variant:"outline",size:"sm",className:"mt-3 w-full",onClick:Z=>{Z.stopPropagation(),L(j.id)},children:[y.jsx(TN,{className:"h-4 w-4 mr-2"}),"Download Sample"]})]},j.id)})})})]}),i&&y.jsxs(At,{children:[y.jsxs(Bt,{children:[y.jsx(zt,{children:"Upload Transaction File"}),y.jsxs(br,{children:["Upload your ",(P=wx.find(j=>j.id===i))==null?void 0:P.name," export file"]})]}),y.jsx(Rt,{children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx(at,{htmlFor:"file-upload",children:"Select File"}),y.jsx(hn,{id:"file-upload",type:"file",accept:".csv,.txt,.pdf",onChange:k,disabled:f})]}),l&&y.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(CN,{className:"h-4 w-4 text-gray-500"}),y.jsx("span",{className:"text-sm font-medium",children:l.name}),y.jsxs(Ls,{variant:"secondary",className:"text-xs",children:[(l.size/1024).toFixed(1)," KB"]})]})}),f&&y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-center justify-between text-sm",children:[y.jsx("span",{children:"Importing transactions..."}),y.jsxs("span",{children:[p,"%"]})]}),y.jsx(_y,{value:p,className:"w-full"})]}),y.jsxs(qe,{onClick:S,disabled:!l||f,className:"w-full",children:[y.jsx(sT,{className:"h-4 w-4 mr-2"}),f?"Importing...":"Import Transactions"]})]})})]}),b&&y.jsxs(At,{children:[y.jsx(Bt,{children:y.jsx(zt,{children:"Import Results"})}),y.jsx(Rt,{children:y.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-2xl font-bold text-green-600",children:b.imported}),y.jsx("div",{className:"text-sm text-gray-600",children:"Imported"})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:b.skipped}),y.jsx("div",{className:"text-sm text-gray-600",children:"Skipped (Duplicates)"})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-2xl font-bold text-blue-600",children:b.total}),y.jsx("div",{className:"text-sm text-gray-600",children:"Total Processed"})]})]})})]}),y.jsxs(At,{children:[y.jsx(Bt,{children:y.jsx(zt,{children:"Import Instructions"})}),y.jsx(Rt,{children:y.jsxs("div",{className:"space-y-4 text-sm",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"font-medium mb-2",children:"Alipay (支付宝)"}),y.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-gray-600",children:[y.jsx("li",{children:"Open Alipay app → Me → Bill → Export Bill"}),y.jsx("li",{children:"Select date range and export as CSV"}),y.jsx("li",{children:"Upload the downloaded CSV file"})]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-medium mb-2",children:"WeChat Pay (微信支付)"}),y.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-gray-600",children:[y.jsx("li",{children:"Open WeChat → Me → Pay → Wallet → Bill"}),y.jsx("li",{children:"Select date range and export as CSV"}),y.jsx("li",{children:"Upload the downloaded CSV file"})]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-medium mb-2",children:"Generic LLM Parser"}),y.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-gray-600",children:[y.jsx("li",{children:"Upload any transaction file (CSV, TXT, PDF)"}),y.jsx("li",{children:"AI will automatically detect and parse the format"}),y.jsx("li",{children:"Review and confirm the parsed transactions"})]})]})]})})]})]}):y.jsx("div",{className:"p-6",children:y.jsxs(yr,{children:[y.jsx(bE,{className:"h-4 w-4"}),y.jsx(vr,{children:"You don't have permission to import data to this ledger."})]})})}function tL({isMobileMenuOpen:n,setIsMobileMenuOpen:e}){const t=Gi(),{currentUser:i,logout:a}=Rr(),l=[{path:"/",label:"Dashboard",icon:NN},{path:"/transactions",label:"Transactions",icon:iT},{path:"/budgets",label:"Budgets",icon:dN},{path:"/categories",label:"Categories",icon:Ny},{path:"/splits",label:"Expense Splits",icon:ZN},{path:"/import",label:"Import",icon:sT},{path:"/settings",label:"Settings",icon:bN}],c=async()=>{try{await a()}catch(f){console.error("Failed to log out:",f)}};return y.jsxs(y.Fragment,{children:[y.jsx("nav",{className:"hidden md:flex bg-white border-b border-gray-200 px-6 py-4",children:y.jsxs("div",{className:"flex items-center justify-between w-full",children:[y.jsxs("div",{className:"flex items-center space-x-8",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(dl,{className:"h-8 w-8 text-blue-600"}),y.jsx("span",{className:"text-xl font-bold text-gray-900",children:"ExpenseTracker"})]}),y.jsx("div",{className:"flex space-x-6",children:l.map(f=>{const m=f.icon,p=t.pathname===f.path;return y.jsxs(cl,{to:f.path,className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${p?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[y.jsx(m,{className:"h-4 w-4"}),y.jsx("span",{children:f.label})]},f.path)})})]}),i&&y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsxs("span",{className:"text-sm text-gray-600",children:["Welcome, ",i.displayName||i.email]}),y.jsxs(qe,{variant:"ghost",size:"sm",onClick:c,className:"flex items-center space-x-2",children:[y.jsx(EE,{className:"h-4 w-4"}),y.jsx("span",{children:"Logout"})]})]})]})}),y.jsxs("nav",{className:"md:hidden bg-white border-b border-gray-200",children:[y.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(dl,{className:"h-6 w-6 text-blue-600"}),y.jsx("span",{className:"text-lg font-bold text-gray-900",children:"ExpenseTracker"})]}),y.jsx(qe,{variant:"ghost",size:"sm",onClick:()=>e(!n),children:n?y.jsx(aT,{className:"h-6 w-6"}):y.jsx(kN,{className:"h-6 w-6"})})]}),n&&y.jsxs("div",{className:"border-t border-gray-200 px-4 py-4 space-y-2",children:[l.map(f=>{const m=f.icon,p=t.pathname===f.path;return y.jsxs(cl,{to:f.path,onClick:()=>e(!1),className:`flex items-center space-x-3 px-3 py-2 rounded-md text-sm font-medium transition-colors ${p?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[y.jsx(m,{className:"h-4 w-4"}),y.jsx("span",{children:f.label})]},f.path)}),i&&y.jsxs(qe,{variant:"ghost",size:"sm",onClick:c,className:"flex items-center space-x-3 px-3 py-2 w-full justify-start",children:[y.jsx(EE,{className:"h-4 w-4"}),y.jsx("span",{children:"Logout"})]})]})]})]})}function nL(){return y.jsx(UV,{})}function rL(){return y.jsx(KV,{})}function iL(){return y.jsx(JV,{})}function sL(){return y.jsxs("div",{className:"p-6",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Expense Splits"}),y.jsxs(At,{children:[y.jsxs(Bt,{children:[y.jsx(zt,{children:"Split Expenses"}),y.jsx(br,{children:"Share expenses with friends and track balances"})]}),y.jsx(Rt,{children:y.jsx("p",{className:"text-gray-600",children:"Expense splitting interface will be implemented here."})})]})]})}function aL(){return y.jsx(eL,{})}function oL(){return y.jsxs("div",{className:"p-6",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Settings"}),y.jsxs(At,{children:[y.jsxs(Bt,{children:[y.jsx(zt,{children:"Application Settings"}),y.jsx(br,{children:"Manage your preferences and account settings"})]}),y.jsx(Rt,{children:y.jsx("p",{className:"text-gray-600",children:"Settings interface will be implemented here."})})]})]})}function lL(){const[n,e]=T.useState(!1),{currentUser:t}=Rr();return y.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t&&y.jsx(tL,{isMobileMenuOpen:n,setIsMobileMenuOpen:e}),y.jsx("main",{className:t?"max-w-7xl mx-auto":"",children:y.jsxs(kC,{children:[y.jsx($r,{path:"/login",element:t?y.jsx(Ig,{to:"/"}):y.jsx(xP,{})}),y.jsx($r,{path:"/signup",element:t?y.jsx(Ig,{to:"/"}):y.jsx(TP,{})}),y.jsx($r,{path:"/",element:y.jsx(Ma,{children:y.jsx(SP,{})})}),y.jsx($r,{path:"/transactions",element:y.jsx(Ma,{children:y.jsx(nL,{})})}),y.jsx($r,{path:"/budgets",element:y.jsx(Ma,{children:y.jsx(rL,{})})}),y.jsx($r,{path:"/categories",element:y.jsx(Ma,{children:y.jsx(iL,{})})}),y.jsx($r,{path:"/splits",element:y.jsx(Ma,{children:y.jsx(sL,{})})}),y.jsx($r,{path:"/import",element:y.jsx(Ma,{children:y.jsx(aL,{})})}),y.jsx($r,{path:"/settings",element:y.jsx(Ma,{children:y.jsx(oL,{})})})]})})]})}function uL(){return y.jsx(rI,{children:y.jsx(gP,{children:y.jsx(yP,{children:y.jsx(lL,{})})})})}FR.createRoot(document.getElementById("root")).render(y.jsx(T.StrictMode,{children:y.jsx(uL,{})}));
