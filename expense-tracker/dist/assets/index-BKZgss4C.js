function HN(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in n)){const o=Object.getOwnPropertyDescriptor(i,a);o&&Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function yS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ey={exports:{}},qu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lw;function qN(){if(Lw)return qu;Lw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:n,type:i,key:u,ref:a!==void 0?a:null,props:o}}return qu.Fragment=e,qu.jsx=t,qu.jsxs=t,qu}var Vw;function $N(){return Vw||(Vw=1,Ey.exports=qN()),Ey.exports}var g=$N(),Ty={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uw;function GN(){if(Uw)return rt;Uw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function _(z){return z===null||typeof z!="object"?null:(z=b&&z[b]||z["@@iterator"],typeof z=="function"?z:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,R={};function N(z,ae,me){this.props=z,this.context=ae,this.refs=R,this.updater=me||S}N.prototype.isReactComponent={},N.prototype.setState=function(z,ae){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ae,"setState")},N.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function M(){}M.prototype=N.prototype;function U(z,ae,me){this.props=z,this.context=ae,this.refs=R,this.updater=me||S}var V=U.prototype=new M;V.constructor=U,C(V,N.prototype),V.isPureReactComponent=!0;var $=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function I(z,ae,me,oe,we,Pe){return me=Pe.ref,{$$typeof:n,type:z,key:ae,ref:me!==void 0?me:null,props:Pe}}function A(z,ae){return I(z.type,ae,void 0,void 0,void 0,z.props)}function j(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function B(z){var ae={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(me){return ae[me]})}var D=/\/+/g;function L(z,ae){return typeof z=="object"&&z!==null&&z.key!=null?B(""+z.key):ae.toString(36)}function P(){}function G(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(P,P):(z.status="pending",z.then(function(ae){z.status==="pending"&&(z.status="fulfilled",z.value=ae)},function(ae){z.status==="pending"&&(z.status="rejected",z.reason=ae)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function ie(z,ae,me,oe,we){var Pe=typeof z;(Pe==="undefined"||Pe==="boolean")&&(z=null);var ke=!1;if(z===null)ke=!0;else switch(Pe){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(z.$$typeof){case n:case e:ke=!0;break;case v:return ke=z._init,ie(ke(z._payload),ae,me,oe,we)}}if(ke)return we=we(z),ke=oe===""?"."+L(z,0):oe,$(we)?(me="",ke!=null&&(me=ke.replace(D,"$&/")+"/"),ie(we,ae,me,"",function(ut){return ut})):we!=null&&(j(we)&&(we=A(we,me+(we.key==null||z&&z.key===we.key?"":(""+we.key).replace(D,"$&/")+"/")+ke)),ae.push(we)),1;ke=0;var be=oe===""?".":oe+":";if($(z))for(var De=0;De<z.length;De++)oe=z[De],Pe=be+L(oe,De),ke+=ie(oe,ae,me,Pe,we);else if(De=_(z),typeof De=="function")for(z=De.call(z),De=0;!(oe=z.next()).done;)oe=oe.value,Pe=be+L(oe,De++),ke+=ie(oe,ae,me,Pe,we);else if(Pe==="object"){if(typeof z.then=="function")return ie(G(z),ae,me,oe,we);throw ae=String(z),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return ke}function q(z,ae,me){if(z==null)return z;var oe=[],we=0;return ie(z,oe,"","",function(Pe){return ae.call(me,Pe,we++)}),oe}function te(z){if(z._status===-1){var ae=z._result;ae=ae(),ae.then(function(me){(z._status===0||z._status===-1)&&(z._status=1,z._result=me)},function(me){(z._status===0||z._status===-1)&&(z._status=2,z._result=me)}),z._status===-1&&(z._status=0,z._result=ae)}if(z._status===1)return z._result.default;throw z._result}var K=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function ve(){}return rt.Children={map:q,forEach:function(z,ae,me){q(z,function(){ae.apply(this,arguments)},me)},count:function(z){var ae=0;return q(z,function(){ae++}),ae},toArray:function(z){return q(z,function(ae){return ae})||[]},only:function(z){if(!j(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},rt.Component=N,rt.Fragment=t,rt.Profiler=a,rt.PureComponent=U,rt.StrictMode=i,rt.Suspense=h,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,rt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return H.H.useMemoCache(z)}},rt.cache=function(z){return function(){return z.apply(null,arguments)}},rt.cloneElement=function(z,ae,me){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var oe=C({},z.props),we=z.key,Pe=void 0;if(ae!=null)for(ke in ae.ref!==void 0&&(Pe=void 0),ae.key!==void 0&&(we=""+ae.key),ae)!W.call(ae,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&ae.ref===void 0||(oe[ke]=ae[ke]);var ke=arguments.length-2;if(ke===1)oe.children=me;else if(1<ke){for(var be=Array(ke),De=0;De<ke;De++)be[De]=arguments[De+2];oe.children=be}return I(z.type,we,void 0,void 0,Pe,oe)},rt.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},rt.createElement=function(z,ae,me){var oe,we={},Pe=null;if(ae!=null)for(oe in ae.key!==void 0&&(Pe=""+ae.key),ae)W.call(ae,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(we[oe]=ae[oe]);var ke=arguments.length-2;if(ke===1)we.children=me;else if(1<ke){for(var be=Array(ke),De=0;De<ke;De++)be[De]=arguments[De+2];we.children=be}if(z&&z.defaultProps)for(oe in ke=z.defaultProps,ke)we[oe]===void 0&&(we[oe]=ke[oe]);return I(z,Pe,void 0,void 0,null,we)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(z){return{$$typeof:d,render:z}},rt.isValidElement=j,rt.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:te}},rt.memo=function(z,ae){return{$$typeof:m,type:z,compare:ae===void 0?null:ae}},rt.startTransition=function(z){var ae=H.T,me={};H.T=me;try{var oe=z(),we=H.S;we!==null&&we(me,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ve,K)}catch(Pe){K(Pe)}finally{H.T=ae}},rt.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},rt.use=function(z){return H.H.use(z)},rt.useActionState=function(z,ae,me){return H.H.useActionState(z,ae,me)},rt.useCallback=function(z,ae){return H.H.useCallback(z,ae)},rt.useContext=function(z){return H.H.useContext(z)},rt.useDebugValue=function(){},rt.useDeferredValue=function(z,ae){return H.H.useDeferredValue(z,ae)},rt.useEffect=function(z,ae,me){var oe=H.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(z,ae)},rt.useId=function(){return H.H.useId()},rt.useImperativeHandle=function(z,ae,me){return H.H.useImperativeHandle(z,ae,me)},rt.useInsertionEffect=function(z,ae){return H.H.useInsertionEffect(z,ae)},rt.useLayoutEffect=function(z,ae){return H.H.useLayoutEffect(z,ae)},rt.useMemo=function(z,ae){return H.H.useMemo(z,ae)},rt.useOptimistic=function(z,ae){return H.H.useOptimistic(z,ae)},rt.useReducer=function(z,ae,me){return H.H.useReducer(z,ae,me)},rt.useRef=function(z){return H.H.useRef(z)},rt.useState=function(z){return H.H.useState(z)},rt.useSyncExternalStore=function(z,ae,me){return H.H.useSyncExternalStore(z,ae,me)},rt.useTransition=function(){return H.H.useTransition()},rt.version="19.1.0",rt}var Bw;function e0(){return Bw||(Bw=1,Ty.exports=GN()),Ty.exports}var w=e0();const ga=yS(w),vS=HN({__proto__:null,default:ga},[w]);var Sy={exports:{}},$u={},Ay={exports:{}},Cy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zw;function YN(){return zw||(zw=1,function(n){function e(q,te){var K=q.length;q.push(te);e:for(;0<K;){var ve=K-1>>>1,z=q[ve];if(0<a(z,te))q[ve]=te,q[K]=z,K=ve;else break e}}function t(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var te=q[0],K=q.pop();if(K!==te){q[0]=K;e:for(var ve=0,z=q.length,ae=z>>>1;ve<ae;){var me=2*(ve+1)-1,oe=q[me],we=me+1,Pe=q[we];if(0>a(oe,K))we<z&&0>a(Pe,oe)?(q[ve]=Pe,q[we]=K,ve=we):(q[ve]=oe,q[me]=K,ve=me);else if(we<z&&0>a(Pe,K))q[ve]=Pe,q[we]=K,ve=we;else break e}}return te}function a(q,te){var K=q.sortIndex-te.sortIndex;return K!==0?K:q.id-te.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var h=[],m=[],v=1,b=null,_=3,S=!1,C=!1,R=!1,N=!1,M=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function $(q){for(var te=t(m);te!==null;){if(te.callback===null)i(m);else if(te.startTime<=q)i(m),te.sortIndex=te.expirationTime,e(h,te);else break;te=t(m)}}function H(q){if(R=!1,$(q),!C)if(t(h)!==null)C=!0,W||(W=!0,L());else{var te=t(m);te!==null&&ie(H,te.startTime-q)}}var W=!1,I=-1,A=5,j=-1;function B(){return N?!0:!(n.unstable_now()-j<A)}function D(){if(N=!1,W){var q=n.unstable_now();j=q;var te=!0;try{e:{C=!1,R&&(R=!1,U(I),I=-1),S=!0;var K=_;try{t:{for($(q),b=t(h);b!==null&&!(b.expirationTime>q&&B());){var ve=b.callback;if(typeof ve=="function"){b.callback=null,_=b.priorityLevel;var z=ve(b.expirationTime<=q);if(q=n.unstable_now(),typeof z=="function"){b.callback=z,$(q),te=!0;break t}b===t(h)&&i(h),$(q)}else i(h);b=t(h)}if(b!==null)te=!0;else{var ae=t(m);ae!==null&&ie(H,ae.startTime-q),te=!1}}break e}finally{b=null,_=K,S=!1}te=void 0}}finally{te?L():W=!1}}}var L;if(typeof V=="function")L=function(){V(D)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,G=P.port2;P.port1.onmessage=D,L=function(){G.postMessage(null)}}else L=function(){M(D,0)};function ie(q,te){I=M(function(){q(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(q){switch(_){case 1:case 2:case 3:var te=3;break;default:te=_}var K=_;_=te;try{return q()}finally{_=K}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(q,te){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var K=_;_=q;try{return te()}finally{_=K}},n.unstable_scheduleCallback=function(q,te,K){var ve=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ve+K:ve):K=ve,q){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=K+z,q={id:v++,callback:te,priorityLevel:q,startTime:K,expirationTime:z,sortIndex:-1},K>ve?(q.sortIndex=K,e(m,q),t(h)===null&&q===t(m)&&(R?(U(I),I=-1):R=!0,ie(H,K-ve))):(q.sortIndex=z,e(h,q),C||S||(C=!0,W||(W=!0,L()))),q},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(q){var te=_;return function(){var K=_;_=te;try{return q.apply(this,arguments)}finally{_=K}}}}(Cy)),Cy}var Fw;function KN(){return Fw||(Fw=1,Ay.exports=YN()),Ay.exports}var Ry={exports:{}},qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw;function ZN(){if(Hw)return qn;Hw=1;var n=e0();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,m,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:h,containerInfo:m,implementation:v}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,qn.createPortal=function(h,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(h,m,null,v)},qn.flushSync=function(h){var m=u.T,v=i.p;try{if(u.T=null,i.p=2,h)return h()}finally{u.T=m,i.p=v,i.d.f()}},qn.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(h,m))},qn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},qn.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var v=m.as,b=d(v,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?i.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:S}):v==="script"&&i.d.X(h,{crossOrigin:b,integrity:_,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},qn.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);i.d.M(h,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(h)},qn.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,b=d(v,m.crossOrigin);i.d.L(h,v,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},qn.preloadModule=function(h,m){if(typeof h=="string")if(m){var v=d(m.as,m.crossOrigin);i.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(h)},qn.requestFormReset=function(h){i.d.r(h)},qn.unstable_batchedUpdates=function(h,m){return h(m)},qn.useFormState=function(h,m,v){return u.H.useFormState(h,m,v)},qn.useFormStatus=function(){return u.H.useHostTransitionStatus()},qn.version="19.1.0",qn}var qw;function _S(){if(qw)return Ry.exports;qw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ry.exports=ZN(),Ry.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $w;function QN(){if($w)return $u;$w=1;var n=KN(),e=e0(),t=_S();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(i(188))}function h(r){var s=r.alternate;if(!s){if(s=o(r),s===null)throw Error(i(188));return s!==r?null:r}for(var l=r,c=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return d(p),r;if(y===c)return d(p),s;y=y.sibling}throw Error(i(188))}if(l.return!==c.return)l=p,c=y;else{for(var T=!1,k=p.child;k;){if(k===l){T=!0,l=p,c=y;break}if(k===c){T=!0,c=p,l=y;break}k=k.sibling}if(!T){for(k=y.child;k;){if(k===l){T=!0,l=y,c=p;break}if(k===c){T=!0,c=y,l=p;break}k=k.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:s}function m(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=m(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),V=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function G(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case N:return"Profiler";case R:return"StrictMode";case H:return"Suspense";case W:return"SuspenseList";case j:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case V:return(r.displayName||"Context")+".Provider";case U:return(r._context.displayName||"Context")+".Consumer";case $:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case I:return s=r.displayName||null,s!==null?s:G(r.type)||"Memo";case A:s=r._payload,r=r._init;try{return G(r(s))}catch{}}return null}var ie=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ve=[],z=-1;function ae(r){return{current:r}}function me(r){0>z||(r.current=ve[z],ve[z]=null,z--)}function oe(r,s){z++,ve[z]=r.current,r.current=s}var we=ae(null),Pe=ae(null),ke=ae(null),be=ae(null);function De(r,s){switch(oe(ke,s),oe(Pe,r),oe(we,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?dw(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=dw(s),r=fw(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}me(we),oe(we,r)}function ut(){me(we),me(Pe),me(ke)}function Ze(r){r.memoizedState!==null&&oe(be,r);var s=we.current,l=fw(s,r.type);s!==l&&(oe(Pe,r),oe(we,l))}function Qe(r){Pe.current===r&&(me(we),me(Pe)),be.current===r&&(me(be),Uu._currentValue=K)}var ye=Object.prototype.hasOwnProperty,Z=n.unstable_scheduleCallback,he=n.unstable_cancelCallback,_e=n.unstable_shouldYield,pe=n.unstable_requestPaint,Ae=n.unstable_now,Ue=n.unstable_getCurrentPriorityLevel,We=n.unstable_ImmediatePriority,Oe=n.unstable_UserBlockingPriority,Ge=n.unstable_NormalPriority,Lt=n.unstable_LowPriority,Kt=n.unstable_IdlePriority,xt=n.log,bn=n.unstable_setDisableYieldValue,Je=null,lt=null;function fn(r){if(typeof xt=="function"&&bn(r),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(Je,r)}catch{}}var qt=Math.clz32?Math.clz32:Sr,Br=Math.log,oi=Math.LN2;function Sr(r){return r>>>=0,r===0?32:31-(Br(r)/oi|0)|0}var Ya=256,Ka=4194304;function zr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ko(r,s,l){var c=r.pendingLanes;if(c===0)return 0;var p=0,y=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var k=c&134217727;return k!==0?(c=k&~y,c!==0?p=zr(c):(T&=k,T!==0?p=zr(T):l||(l=k&~r,l!==0&&(p=zr(l))))):(k=c&~y,k!==0?p=zr(k):T!==0?p=zr(T):l||(l=c&~r,l!==0&&(p=zr(l)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,l=s&-s,y>=l||y===32&&(l&4194048)!==0)?s:p}function Za(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Uc(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bc(){var r=Ya;return Ya<<=1,(Ya&4194048)===0&&(Ya=256),r}function zc(){var r=Ka;return Ka<<=1,(Ka&62914560)===0&&(Ka=4194304),r}function zi(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Fi(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Fc(r,s,l,c,p,y){var T=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var k=r.entanglements,F=r.expirationTimes,ee=r.hiddenUpdates;for(l=T&~l;0<l;){var le=31-qt(l),de=1<<le;k[le]=0,F[le]=-1;var ne=ee[le];if(ne!==null)for(ee[le]=null,le=0;le<ne.length;le++){var re=ne[le];re!==null&&(re.lane&=-536870913)}l&=~de}c!==0&&li(r,c,0),y!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=y&~(T&~s))}function li(r,s,l){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-qt(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|l&4194090}function Hc(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var c=31-qt(l),p=1<<c;p&s|r[c]&s&&(r[c]|=s),l&=~p}}function Us(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Zo(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Bs(){var r=te.p;return r!==0?r:(r=window.event,r===void 0?32:kw(r.type))}function of(r,s){var l=te.p;try{return te.p=r,s()}finally{te.p=l}}var $t=Math.random().toString(36).slice(2),xn="__reactFiber$"+$t,hn="__reactProps$"+$t,Ar="__reactContainer$"+$t,qc="__reactEvents$"+$t,Ap="__reactListeners$"+$t,zs="__reactHandles$"+$t,lf="__reactResources$"+$t,Qa="__reactMarker$"+$t;function Fs(r){delete r[xn],delete r[hn],delete r[qc],delete r[Ap],delete r[zs]}function Hi(r){var s=r[xn];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Ar]||l[xn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=gw(r);r!==null;){if(l=r[xn])return l;r=gw(r)}return s}r=l,l=r.parentNode}return null}function ci(r){if(r=r[xn]||r[Ar]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function ui(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function er(r){var s=r[lf];return s||(s=r[lf]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ln(r){r[Qa]=!0}var $c=new Set,Qo={};function Fr(r,s){qi(r,s),qi(r+"Capture",s)}function qi(r,s){for(Qo[r]=s,r=0;r<s.length;r++)$c.add(s[r])}var cf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uf={},Wa={};function df(r){return ye.call(Wa,r)?!0:ye.call(uf,r)?!1:cf.test(r)?Wa[r]=!0:(uf[r]=!0,!1)}function Hs(r,s,l){if(df(s))if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+l)}}function di(r,s,l){if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+l)}}function jn(r,s,l,c){if(c===null)r.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(s,l,""+c)}}var Xa,ff;function $i(r){if(Xa===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Xa=s&&s[1]||"",ff=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xa+r+ff}var Wo=!1;function Xo(r,s){if(!r||Wo)return"";Wo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(re){var ne=re}Reflect.construct(r,[],de)}else{try{de.call()}catch(re){ne=re}r.call(de.prototype)}}else{try{throw Error()}catch(re){ne=re}(de=r())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(re){if(re&&ne&&typeof re.stack=="string")return[re.stack,ne.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),T=y[0],k=y[1];if(T&&k){var F=T.split(`
`),ee=k.split(`
`);for(p=c=0;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;for(;p<ee.length&&!ee[p].includes("DetermineComponentFrameRoot");)p++;if(c===F.length||p===ee.length)for(c=F.length-1,p=ee.length-1;1<=c&&0<=p&&F[c]!==ee[p];)p--;for(;1<=c&&0<=p;c--,p--)if(F[c]!==ee[p]){if(c!==1||p!==1)do if(c--,p--,0>p||F[c]!==ee[p]){var le=`
`+F[c].replace(" at new "," at ");return r.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",r.displayName)),le}while(1<=c&&0<=p);break}}}finally{Wo=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?$i(l):""}function Gc(r){switch(r.tag){case 26:case 27:case 5:return $i(r.type);case 16:return $i("Lazy");case 13:return $i("Suspense");case 19:return $i("SuspenseList");case 0:case 15:return Xo(r.type,!1);case 11:return Xo(r.type.render,!1);case 1:return Xo(r.type,!0);case 31:return $i("Activity");default:return""}}function Jo(r){try{var s="";do s+=Gc(r),r=r.return;while(r);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function tr(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Yc(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Cp(r){var s=Yc(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(T){c=""+T,y.call(this,T)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function el(r){r._valueTracker||(r._valueTracker=Cp(r))}function Kc(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return r&&(c=Yc(r)?r.checked?"true":"false":r.value),r=c,r!==l?(s.setValue(r),!0):!1}function Ja(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Rp=/[\n"\\]/g;function mn(r){return r.replace(Rp,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function hr(r,s,l,c,p,y,T,k){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+tr(s)):r.value!==""+tr(s)&&(r.value=""+tr(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?qs(r,T,tr(s)):l!=null?qs(r,T,tr(l)):c!=null&&r.removeAttribute("value"),p==null&&y!=null&&(r.defaultChecked=!!y),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?r.name=""+tr(k):r.removeAttribute("name")}function eo(r,s,l,c,p,y,T,k){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),s!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;l=l!=null?""+tr(l):"",s=s!=null?""+tr(s):l,k||s===r.value||(r.value=s),r.defaultValue=s}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=k?r.checked:!!c,r.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function qs(r,s,l){s==="number"&&Ja(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function Gi(r,s,l,c){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&c&&(r[l].defaultSelected=!0)}else{for(l=""+tr(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,c&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function Ot(r,s,l){if(s!=null&&(s=""+tr(s),s!==r.value&&(r.value=s),l==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=l!=null?""+tr(l):""}function to(r,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(i(92));if(ie(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=tr(s),r.defaultValue=l,c=r.textContent,c===l&&c!==""&&c!==null&&(r.value=c)}function Cr(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var no=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hf(r,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,l):typeof l!="number"||l===0||no.has(s)?s==="float"?r.cssFloat=l:r[s]=(""+l).trim():r[s]=l+"px"}function Zc(r,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var p in s)c=s[p],s.hasOwnProperty(p)&&l[p]!==c&&hf(r,p,c)}else for(var y in s)s.hasOwnProperty(y)&&hf(r,y,s[y])}function Qc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Np=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ip=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tl(r){return Ip.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Yi=null;function Rr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ki=null,Zi=null;function Wc(r){var s=ci(r);if(s&&(r=s.stateNode)){var l=r[hn]||null;e:switch(r=s.stateNode,s.type){case"input":if(hr(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+mn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==r&&c.form===r.form){var p=c[hn]||null;if(!p)throw Error(i(90));hr(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===r.form&&Kc(c)}break e;case"textarea":Ot(r,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Gi(r,!!l.multiple,s,!1)}}}var fi=!1;function mf(r,s,l){if(fi)return r(s,l);fi=!0;try{var c=r(s);return c}finally{if(fi=!1,(Ki!==null||Zi!==null)&&(oh(),Ki&&(s=Ki,r=Zi,Zi=Ki=null,Wc(s),r)))for(s=0;s<r.length;s++)Wc(r[s])}}function ro(r,s){var l=r.stateNode;if(l===null)return null;var c=l[hn]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var Hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nr=!1;if(Hr)try{var io={};Object.defineProperty(io,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{Nr=!1}var hi=null,$s=null,Qi=null;function Xc(){if(Qi)return Qi;var r,s=$s,l=s.length,c,p="value"in hi?hi.value:hi.textContent,y=p.length;for(r=0;r<l&&s[r]===p[r];r++);var T=l-r;for(c=1;c<=T&&s[l-c]===p[y-c];c++);return Qi=p.slice(r,1<c?1-c:void 0)}function mi(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function pi(){return!0}function Jc(){return!1}function Rn(r){function s(l,c,p,y,T){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(l=r[k],this[k]=l?l(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?pi:Jc,this.isPropagationStopped=Jc,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),s}var At={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nl=Rn(At),so=v({},At,{view:0,detail:0}),pf=Rn(so),rl,il,gi,ao=v({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:co,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==gi&&(gi&&r.type==="mousemove"?(rl=r.screenX-gi.screenX,il=r.screenY-gi.screenY):il=rl=0,gi=r),rl)},movementY:function(r){return"movementY"in r?r.movementY:il}}),Ir=Rn(ao),gf=v({},ao,{dataTransfer:0}),kp=Rn(gf),oo=v({},so,{relatedTarget:0}),sl=Rn(oo),eu=v({},At,{animationName:0,elapsedTime:0,pseudoElement:0}),al=Rn(eu),yf=v({},At,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ol=Rn(yf),Dp=v({},At,{data:0}),tu=Rn(Dp),lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_f={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=_f[r])?!!s[r]:!1}function co(){return nu}var bf=v({},so,{key:function(r){if(r.key){var s=lo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=mi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?vf[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:co,charCode:function(r){return r.type==="keypress"?mi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?mi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ll=Rn(bf),xf=v({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ru=Rn(xf),Wi=v({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:co}),wf=Rn(Wi),Ef=v({},At,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tf=Rn(Ef),Sf=v({},ao,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),cl=Rn(Sf),nr=v({},At,{newState:0,oldState:0}),Af=Rn(nr),Cf=[9,13,27,32],yi=Hr&&"CompositionEvent"in window,f=null;Hr&&"documentMode"in document&&(f=document.documentMode);var x=Hr&&"TextEvent"in window&&!f,E=Hr&&(!yi||f&&8<f&&11>=f),O=" ",X=!1;function se(r,s){switch(r){case"keyup":return Cf.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xe(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var gt=!1;function wn(r,s){switch(r){case"compositionend":return xe(s);case"keypress":return s.which!==32?null:(X=!0,O);case"textInput":return r=s.data,r===O&&X?null:r;default:return null}}function yt(r,s){if(gt)return r==="compositionend"||!yi&&se(r,s)?(r=Xc(),Qi=$s=hi=null,gt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var Nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function En(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Nn[r.type]:s==="textarea"}function Xi(r,s,l,c){Ki?Zi?Zi.push(c):Zi=[c]:Ki=c,s=hh(s,"onChange"),0<s.length&&(l=new nl("onChange","change",null,l,c),r.push({event:l,listeners:s}))}var Mn=null,vi=null;function iu(r){aw(r,0)}function Rf(r){var s=ui(r);if(Kc(s))return r}function C_(r,s){if(r==="change")return s}var R_=!1;if(Hr){var Op;if(Hr){var jp="oninput"in document;if(!jp){var N_=document.createElement("div");N_.setAttribute("oninput","return;"),jp=typeof N_.oninput=="function"}Op=jp}else Op=!1;R_=Op&&(!document.documentMode||9<document.documentMode)}function I_(){Mn&&(Mn.detachEvent("onpropertychange",k_),vi=Mn=null)}function k_(r){if(r.propertyName==="value"&&Rf(vi)){var s=[];Xi(s,vi,r,Rr(r)),mf(iu,s)}}function _R(r,s,l){r==="focusin"?(I_(),Mn=s,vi=l,Mn.attachEvent("onpropertychange",k_)):r==="focusout"&&I_()}function bR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Rf(vi)}function xR(r,s){if(r==="click")return Rf(s)}function wR(r,s){if(r==="input"||r==="change")return Rf(s)}function ER(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var mr=typeof Object.is=="function"?Object.is:ER;function su(r,s){if(mr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!ye.call(s,p)||!mr(r[p],s[p]))return!1}return!0}function D_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function O_(r,s){var l=D_(r);r=0;for(var c;l;){if(l.nodeType===3){if(c=r+l.textContent.length,r<=s&&c>=s)return{node:l,offset:s-r};r=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=D_(l)}}function j_(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?j_(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function M_(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Ja(r.document);s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Ja(r.document)}return s}function Mp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var TR=Hr&&"documentMode"in document&&11>=document.documentMode,ul=null,Pp=null,au=null,Lp=!1;function P_(r,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Lp||ul==null||ul!==Ja(c)||(c=ul,"selectionStart"in c&&Mp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),au&&su(au,c)||(au=c,c=hh(Pp,"onSelect"),0<c.length&&(s=new nl("onSelect","select",null,s,l),r.push({event:s,listeners:c}),s.target=ul)))}function uo(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var dl={animationend:uo("Animation","AnimationEnd"),animationiteration:uo("Animation","AnimationIteration"),animationstart:uo("Animation","AnimationStart"),transitionrun:uo("Transition","TransitionRun"),transitionstart:uo("Transition","TransitionStart"),transitioncancel:uo("Transition","TransitionCancel"),transitionend:uo("Transition","TransitionEnd")},Vp={},L_={};Hr&&(L_=document.createElement("div").style,"AnimationEvent"in window||(delete dl.animationend.animation,delete dl.animationiteration.animation,delete dl.animationstart.animation),"TransitionEvent"in window||delete dl.transitionend.transition);function fo(r){if(Vp[r])return Vp[r];if(!dl[r])return r;var s=dl[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in L_)return Vp[r]=s[l];return r}var V_=fo("animationend"),U_=fo("animationiteration"),B_=fo("animationstart"),SR=fo("transitionrun"),AR=fo("transitionstart"),CR=fo("transitioncancel"),z_=fo("transitionend"),F_=new Map,Up="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Up.push("scrollEnd");function qr(r,s){F_.set(r,s),Fr(s,[r])}var H_=new WeakMap;function kr(r,s){if(typeof r=="object"&&r!==null){var l=H_.get(r);return l!==void 0?l:(s={value:r,source:s,stack:Jo(s)},H_.set(r,s),s)}return{value:r,source:s,stack:Jo(s)}}var Dr=[],fl=0,Bp=0;function Nf(){for(var r=fl,s=Bp=fl=0;s<r;){var l=Dr[s];Dr[s++]=null;var c=Dr[s];Dr[s++]=null;var p=Dr[s];Dr[s++]=null;var y=Dr[s];if(Dr[s++]=null,c!==null&&p!==null){var T=c.pending;T===null?p.next=p:(p.next=T.next,T.next=p),c.pending=p}y!==0&&q_(l,p,y)}}function If(r,s,l,c){Dr[fl++]=r,Dr[fl++]=s,Dr[fl++]=l,Dr[fl++]=c,Bp|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function zp(r,s,l,c){return If(r,s,l,c),kf(r)}function hl(r,s){return If(r,null,null,s),kf(r)}function q_(r,s,l){r.lanes|=l;var c=r.alternate;c!==null&&(c.lanes|=l);for(var p=!1,y=r.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(p=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,p&&s!==null&&(p=31-qt(l),r=y.hiddenUpdates,c=r[p],c===null?r[p]=[s]:c.push(s),s.lane=l|536870912),y):null}function kf(r){if(50<ku)throw ku=0,Yg=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var ml={};function RR(r,s,l,c){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(r,s,l,c){return new RR(r,s,l,c)}function Fp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ji(r,s){var l=r.alternate;return l===null?(l=pr(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function $_(r,s){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,s=l.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Df(r,s,l,c,p,y){var T=0;if(c=r,typeof r=="function")Fp(r)&&(T=1);else if(typeof r=="string")T=IN(r,l,we.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case j:return r=pr(31,l,s,p),r.elementType=j,r.lanes=y,r;case C:return ho(l.children,p,y,s);case R:T=8,p|=24;break;case N:return r=pr(12,l,s,p|2),r.elementType=N,r.lanes=y,r;case H:return r=pr(13,l,s,p),r.elementType=H,r.lanes=y,r;case W:return r=pr(19,l,s,p),r.elementType=W,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:case V:T=10;break e;case U:T=9;break e;case $:T=11;break e;case I:T=14;break e;case A:T=16,c=null;break e}T=29,l=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=pr(T,l,s,p),s.elementType=r,s.type=c,s.lanes=y,s}function ho(r,s,l,c){return r=pr(7,r,c,s),r.lanes=l,r}function Hp(r,s,l){return r=pr(6,r,null,s),r.lanes=l,r}function qp(r,s,l){return s=pr(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var pl=[],gl=0,Of=null,jf=0,Or=[],jr=0,mo=null,es=1,ts="";function po(r,s){pl[gl++]=jf,pl[gl++]=Of,Of=r,jf=s}function G_(r,s,l){Or[jr++]=es,Or[jr++]=ts,Or[jr++]=mo,mo=r;var c=es;r=ts;var p=32-qt(c)-1;c&=~(1<<p),l+=1;var y=32-qt(s)+p;if(30<y){var T=p-p%5;y=(c&(1<<T)-1).toString(32),c>>=T,p-=T,es=1<<32-qt(s)+p|l<<p|c,ts=y+r}else es=1<<y|l<<p|c,ts=r}function $p(r){r.return!==null&&(po(r,1),G_(r,1,0))}function Gp(r){for(;r===Of;)Of=pl[--gl],pl[gl]=null,jf=pl[--gl],pl[gl]=null;for(;r===mo;)mo=Or[--jr],Or[jr]=null,ts=Or[--jr],Or[jr]=null,es=Or[--jr],Or[jr]=null}var rr=null,rn=null,St=!1,go=null,_i=!1,Yp=Error(i(519));function yo(r){var s=Error(i(418,""));throw cu(kr(s,r)),Yp}function Y_(r){var s=r.stateNode,l=r.type,c=r.memoizedProps;switch(s[xn]=r,s[hn]=c,l){case"dialog":ft("cancel",s),ft("close",s);break;case"iframe":case"object":case"embed":ft("load",s);break;case"video":case"audio":for(l=0;l<Ou.length;l++)ft(Ou[l],s);break;case"source":ft("error",s);break;case"img":case"image":case"link":ft("error",s),ft("load",s);break;case"details":ft("toggle",s);break;case"input":ft("invalid",s),eo(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),el(s);break;case"select":ft("invalid",s);break;case"textarea":ft("invalid",s),to(s,c.value,c.defaultValue,c.children),el(s)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||uw(s.textContent,l)?(c.popover!=null&&(ft("beforetoggle",s),ft("toggle",s)),c.onScroll!=null&&ft("scroll",s),c.onScrollEnd!=null&&ft("scrollend",s),c.onClick!=null&&(s.onclick=mh),s=!0):s=!1,s||yo(r)}function K_(r){for(rr=r.return;rr;)switch(rr.tag){case 5:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:rr=rr.return}}function ou(r){if(r!==rr)return!1;if(!St)return K_(r),St=!0,!1;var s=r.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||cy(r.type,r.memoizedProps)),l=!l),l&&rn&&yo(r),K_(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(s===0){rn=Gr(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;r=r.nextSibling}rn=null}}else s===27?(s=rn,oa(r.type)?(r=hy,hy=null,rn=r):rn=s):rn=rr?Gr(r.stateNode.nextSibling):null;return!0}function lu(){rn=rr=null,St=!1}function Z_(){var r=go;return r!==null&&(cr===null?cr=r:cr.push.apply(cr,r),go=null),r}function cu(r){go===null?go=[r]:go.push(r)}var Kp=ae(null),vo=null,ns=null;function Gs(r,s,l){oe(Kp,s._currentValue),s._currentValue=l}function rs(r){r._currentValue=Kp.current,me(Kp)}function Zp(r,s,l){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===l)break;r=r.return}}function Qp(r,s,l,c){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var y=p.dependencies;if(y!==null){var T=p.child;y=y.firstContext;e:for(;y!==null;){var k=y;y=p;for(var F=0;F<s.length;F++)if(k.context===s[F]){y.lanes|=l,k=y.alternate,k!==null&&(k.lanes|=l),Zp(y.return,l,r),c||(T=null);break e}y=k.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(i(341));T.lanes|=l,y=T.alternate,y!==null&&(y.lanes|=l),Zp(T,l,r),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===r){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function uu(r,s,l,c){r=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var k=p.type;mr(p.pendingProps.value,T.value)||(r!==null?r.push(k):r=[k])}}else if(p===be.current){if(T=p.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(Uu):r=[Uu])}p=p.return}r!==null&&Qp(s,r,l,c),s.flags|=262144}function Mf(r){for(r=r.firstContext;r!==null;){if(!mr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function _o(r){vo=r,ns=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Hn(r){return Q_(vo,r)}function Pf(r,s){return vo===null&&_o(r),Q_(r,s)}function Q_(r,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},ns===null){if(r===null)throw Error(i(308));ns=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else ns=ns.next=s;return l}var NR=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(l,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(l){return l()})}},IR=n.unstable_scheduleCallback,kR=n.unstable_NormalPriority,Tn={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wp(){return{controller:new NR,data:new Map,refCount:0}}function du(r){r.refCount--,r.refCount===0&&IR(kR,function(){r.controller.abort()})}var fu=null,Xp=0,yl=0,vl=null;function DR(r,s){if(fu===null){var l=fu=[];Xp=0,yl=ey(),vl={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Xp++,s.then(W_,W_),s}function W_(){if(--Xp===0&&fu!==null){vl!==null&&(vl.status="fulfilled");var r=fu;fu=null,yl=0,vl=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function OR(r,s){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var X_=q.S;q.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&DR(r,s),X_!==null&&X_(r,s)};var bo=ae(null);function Jp(){var r=bo.current;return r!==null?r:Bt.pooledCache}function Lf(r,s){s===null?oe(bo,bo.current):oe(bo,s.pool)}function J_(){var r=Jp();return r===null?null:{parent:Tn._currentValue,pool:r}}var hu=Error(i(460)),eb=Error(i(474)),Vf=Error(i(542)),eg={then:function(){}};function tb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Uf(){}function nb(r,s,l){switch(l=r[l],l===void 0?r.push(s):l!==s&&(s.then(Uf,Uf),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,ib(r),r;default:if(typeof s.status=="string")s.then(Uf,Uf);else{if(r=Bt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=c}},function(c){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,ib(r),r}throw mu=s,hu}}var mu=null;function rb(){if(mu===null)throw Error(i(459));var r=mu;return mu=null,r}function ib(r){if(r===hu||r===Vf)throw Error(i(483))}var Ys=!1;function tg(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ng(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ks(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Zs(r,s,l){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Rt&2)!==0){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,s=kf(r),q_(r,null,l),s}return If(r,c,s,l),kf(r)}function pu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,l|=c,s.lanes=l,Hc(r,l)}}function rg(r,s){var l=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}var ig=!1;function gu(){if(ig){var r=vl;if(r!==null)throw r}}function yu(r,s,l,c){ig=!1;var p=r.updateQueue;Ys=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var F=k,ee=F.next;F.next=null,T===null?y=ee:T.next=ee,T=F;var le=r.alternate;le!==null&&(le=le.updateQueue,k=le.lastBaseUpdate,k!==T&&(k===null?le.firstBaseUpdate=ee:k.next=ee,le.lastBaseUpdate=F))}if(y!==null){var de=p.baseState;T=0,le=ee=F=null,k=y;do{var ne=k.lane&-536870913,re=ne!==k.lane;if(re?(vt&ne)===ne:(c&ne)===ne){ne!==0&&ne===yl&&(ig=!0),le!==null&&(le=le.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Ye=r,Be=k;ne=s;var Pt=l;switch(Be.tag){case 1:if(Ye=Be.payload,typeof Ye=="function"){de=Ye.call(Pt,de,ne);break e}de=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=Be.payload,ne=typeof Ye=="function"?Ye.call(Pt,de,ne):Ye,ne==null)break e;de=v({},de,ne);break e;case 2:Ys=!0}}ne=k.callback,ne!==null&&(r.flags|=64,re&&(r.flags|=8192),re=p.callbacks,re===null?p.callbacks=[ne]:re.push(ne))}else re={lane:ne,tag:k.tag,payload:k.payload,callback:k.callback,next:null},le===null?(ee=le=re,F=de):le=le.next=re,T|=ne;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;re=k,k=re.next,re.next=null,p.lastBaseUpdate=re,p.shared.pending=null}}while(!0);le===null&&(F=de),p.baseState=F,p.firstBaseUpdate=ee,p.lastBaseUpdate=le,y===null&&(p.shared.lanes=0),ra|=T,r.lanes=T,r.memoizedState=de}}function sb(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function ab(r,s){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)sb(l[r],s)}var _l=ae(null),Bf=ae(0);function ob(r,s){r=us,oe(Bf,r),oe(_l,s),us=r|s.baseLanes}function sg(){oe(Bf,us),oe(_l,_l.current)}function ag(){us=Bf.current,me(_l),me(Bf)}var Qs=0,st=null,jt=null,pn=null,zf=!1,bl=!1,xo=!1,Ff=0,vu=0,xl=null,jR=0;function cn(){throw Error(i(321))}function og(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!mr(r[l],s[l]))return!1;return!0}function lg(r,s,l,c,p,y){return Qs=y,st=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,q.H=r===null||r.memoizedState===null?qb:$b,xo=!1,y=l(c,p),xo=!1,bl&&(y=cb(s,l,c,p)),lb(r),y}function lb(r){q.H=Kf;var s=jt!==null&&jt.next!==null;if(Qs=0,pn=jt=st=null,zf=!1,vu=0,xl=null,s)throw Error(i(300));r===null||In||(r=r.dependencies,r!==null&&Mf(r)&&(In=!0))}function cb(r,s,l,c){st=r;var p=0;do{if(bl&&(xl=null),vu=0,bl=!1,25<=p)throw Error(i(301));if(p+=1,pn=jt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}q.H=zR,y=s(l,c)}while(bl);return y}function MR(){var r=q.H,s=r.useState()[0];return s=typeof s.then=="function"?_u(s):s,r=r.useState()[0],(jt!==null?jt.memoizedState:null)!==r&&(st.flags|=1024),s}function cg(){var r=Ff!==0;return Ff=0,r}function ug(r,s,l){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~l}function dg(r){if(zf){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}zf=!1}Qs=0,pn=jt=st=null,bl=!1,vu=Ff=0,xl=null}function or(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?st.memoizedState=pn=r:pn=pn.next=r,pn}function gn(){if(jt===null){var r=st.alternate;r=r!==null?r.memoizedState:null}else r=jt.next;var s=pn===null?st.memoizedState:pn.next;if(s!==null)pn=s,jt=r;else{if(r===null)throw st.alternate===null?Error(i(467)):Error(i(310));jt=r,r={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},pn===null?st.memoizedState=pn=r:pn=pn.next=r}return pn}function fg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _u(r){var s=vu;return vu+=1,xl===null&&(xl=[]),r=nb(xl,r,s),s=st,(pn===null?s.memoizedState:pn.next)===null&&(s=s.alternate,q.H=s===null||s.memoizedState===null?qb:$b),r}function Hf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return _u(r);if(r.$$typeof===V)return Hn(r)}throw Error(i(438,String(r)))}function hg(r){var s=null,l=st.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=st.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=fg(),st.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(r),c=0;c<r;c++)l[c]=B;return s.index++,l}function is(r,s){return typeof s=="function"?s(r):s}function qf(r){var s=gn();return mg(s,jt,r)}function mg(r,s,l){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var p=r.baseQueue,y=c.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}s.baseQueue=p=y,c.pending=null}if(y=r.baseState,p===null)r.memoizedState=y;else{s=p.next;var k=T=null,F=null,ee=s,le=!1;do{var de=ee.lane&-536870913;if(de!==ee.lane?(vt&de)===de:(Qs&de)===de){var ne=ee.revertLane;if(ne===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),de===yl&&(le=!0);else if((Qs&ne)===ne){ee=ee.next,ne===yl&&(le=!0);continue}else de={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},F===null?(k=F=de,T=y):F=F.next=de,st.lanes|=ne,ra|=ne;de=ee.action,xo&&l(y,de),y=ee.hasEagerState?ee.eagerState:l(y,de)}else ne={lane:de,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},F===null?(k=F=ne,T=y):F=F.next=ne,st.lanes|=de,ra|=de;ee=ee.next}while(ee!==null&&ee!==s);if(F===null?T=y:F.next=k,!mr(y,r.memoizedState)&&(In=!0,le&&(l=vl,l!==null)))throw l;r.memoizedState=y,r.baseState=T,r.baseQueue=F,c.lastRenderedState=y}return p===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function pg(r){var s=gn(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var c=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do y=r(y,T.action),T=T.next;while(T!==p);mr(y,s.memoizedState)||(In=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,c]}function ub(r,s,l){var c=st,p=gn(),y=St;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=s();var T=!mr((jt||p).memoizedState,l);T&&(p.memoizedState=l,In=!0),p=p.queue;var k=hb.bind(null,c,p,r);if(bu(2048,8,k,[r]),p.getSnapshot!==s||T||pn!==null&&pn.memoizedState.tag&1){if(c.flags|=2048,wl(9,$f(),fb.bind(null,c,p,l,s),null),Bt===null)throw Error(i(349));y||(Qs&124)!==0||db(c,s,l)}return l}function db(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=st.updateQueue,s===null?(s=fg(),st.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function fb(r,s,l,c){s.value=l,s.getSnapshot=c,mb(s)&&pb(r)}function hb(r,s,l){return l(function(){mb(s)&&pb(r)})}function mb(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!mr(r,l)}catch{return!0}}function pb(r){var s=hl(r,2);s!==null&&br(s,r,2)}function gg(r){var s=or();if(typeof r=="function"){var l=r;if(r=l(),xo){fn(!0);try{l()}finally{fn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:r},s}function gb(r,s,l,c){return r.baseState=l,mg(r,jt,typeof c=="function"?c:is)}function PR(r,s,l,c,p){if(Yf(r))throw Error(i(485));if(r=s.action,r!==null){var y={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};q.T!==null?l(!0):y.isTransition=!1,c(y),l=s.pending,l===null?(y.next=s.pending=y,yb(s,y)):(y.next=l.next,s.pending=l.next=y)}}function yb(r,s){var l=s.action,c=s.payload,p=r.state;if(s.isTransition){var y=q.T,T={};q.T=T;try{var k=l(p,c),F=q.S;F!==null&&F(T,k),vb(r,s,k)}catch(ee){yg(r,s,ee)}finally{q.T=y}}else try{y=l(p,c),vb(r,s,y)}catch(ee){yg(r,s,ee)}}function vb(r,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){_b(r,s,c)},function(c){return yg(r,s,c)}):_b(r,s,l)}function _b(r,s,l){s.status="fulfilled",s.value=l,bb(s),r.state=l,s=r.pending,s!==null&&(l=s.next,l===s?r.pending=null:(l=l.next,s.next=l,yb(r,l)))}function yg(r,s,l){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,bb(s),s=s.next;while(s!==c)}r.action=null}function bb(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function xb(r,s){return s}function wb(r,s){if(St){var l=Bt.formState;if(l!==null){e:{var c=st;if(St){if(rn){t:{for(var p=rn,y=_i;p.nodeType!==8;){if(!y){p=null;break t}if(p=Gr(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){rn=Gr(p.nextSibling),c=p.data==="F!";break e}}yo(c)}c=!1}c&&(s=l[0])}}return l=or(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xb,lastRenderedState:s},l.queue=c,l=zb.bind(null,st,c),c.dispatch=l,c=gg(!1),y=wg.bind(null,st,!1,c.queue),c=or(),p={state:s,dispatch:null,action:r,pending:null},c.queue=p,l=PR.bind(null,st,p,y,l),p.dispatch=l,c.memoizedState=r,[s,l,!1]}function Eb(r){var s=gn();return Tb(s,jt,r)}function Tb(r,s,l){if(s=mg(r,s,xb)[0],r=qf(is)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=_u(s)}catch(T){throw T===hu?Vf:T}else c=s;s=gn();var p=s.queue,y=p.dispatch;return l!==s.memoizedState&&(st.flags|=2048,wl(9,$f(),LR.bind(null,p,l),null)),[c,y,r]}function LR(r,s){r.action=s}function Sb(r){var s=gn(),l=jt;if(l!==null)return Tb(s,l,r);gn(),s=s.memoizedState,l=gn();var c=l.queue.dispatch;return l.memoizedState=r,[s,c,!1]}function wl(r,s,l,c){return r={tag:r,create:l,deps:c,inst:s,next:null},s=st.updateQueue,s===null&&(s=fg(),st.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=r.next=r:(c=l.next,l.next=r,r.next=c,s.lastEffect=r),r}function $f(){return{destroy:void 0,resource:void 0}}function Ab(){return gn().memoizedState}function Gf(r,s,l,c){var p=or();c=c===void 0?null:c,st.flags|=r,p.memoizedState=wl(1|s,$f(),l,c)}function bu(r,s,l,c){var p=gn();c=c===void 0?null:c;var y=p.memoizedState.inst;jt!==null&&c!==null&&og(c,jt.memoizedState.deps)?p.memoizedState=wl(s,y,l,c):(st.flags|=r,p.memoizedState=wl(1|s,y,l,c))}function Cb(r,s){Gf(8390656,8,r,s)}function Rb(r,s){bu(2048,8,r,s)}function Nb(r,s){return bu(4,2,r,s)}function Ib(r,s){return bu(4,4,r,s)}function kb(r,s){if(typeof s=="function"){r=r();var l=s(r);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Db(r,s,l){l=l!=null?l.concat([r]):null,bu(4,4,kb.bind(null,s,r),l)}function vg(){}function Ob(r,s){var l=gn();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&og(s,c[1])?c[0]:(l.memoizedState=[r,s],r)}function jb(r,s){var l=gn();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&og(s,c[1]))return c[0];if(c=r(),xo){fn(!0);try{r()}finally{fn(!1)}}return l.memoizedState=[c,s],c}function _g(r,s,l){return l===void 0||(Qs&1073741824)!==0?r.memoizedState=s:(r.memoizedState=l,r=Lx(),st.lanes|=r,ra|=r,l)}function Mb(r,s,l,c){return mr(l,s)?l:_l.current!==null?(r=_g(r,l,c),mr(r,s)||(In=!0),r):(Qs&42)===0?(In=!0,r.memoizedState=l):(r=Lx(),st.lanes|=r,ra|=r,s)}function Pb(r,s,l,c,p){var y=te.p;te.p=y!==0&&8>y?y:8;var T=q.T,k={};q.T=k,wg(r,!1,s,l);try{var F=p(),ee=q.S;if(ee!==null&&ee(k,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var le=OR(F,c);xu(r,s,le,_r(r))}else xu(r,s,c,_r(r))}catch(de){xu(r,s,{then:function(){},status:"rejected",reason:de},_r())}finally{te.p=y,q.T=T}}function VR(){}function bg(r,s,l,c){if(r.tag!==5)throw Error(i(476));var p=Lb(r).queue;Pb(r,p,s,K,l===null?VR:function(){return Vb(r),l(c)})}function Lb(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:K},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:l},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Vb(r){var s=Lb(r).next.queue;xu(r,s,{},_r())}function xg(){return Hn(Uu)}function Ub(){return gn().memoizedState}function Bb(){return gn().memoizedState}function UR(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var l=_r();r=Ks(l);var c=Zs(s,r,l);c!==null&&(br(c,s,l),pu(c,s,l)),s={cache:Wp()},r.payload=s;return}s=s.return}}function BR(r,s,l){var c=_r();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Yf(r)?Fb(s,l):(l=zp(r,s,l,c),l!==null&&(br(l,r,c),Hb(l,s,c)))}function zb(r,s,l){var c=_r();xu(r,s,l,c)}function xu(r,s,l,c){var p={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Yf(r))Fb(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var T=s.lastRenderedState,k=y(T,l);if(p.hasEagerState=!0,p.eagerState=k,mr(k,T))return If(r,s,p,0),Bt===null&&Nf(),!1}catch{}finally{}if(l=zp(r,s,p,c),l!==null)return br(l,r,c),Hb(l,s,c),!0}return!1}function wg(r,s,l,c){if(c={lane:2,revertLane:ey(),action:c,hasEagerState:!1,eagerState:null,next:null},Yf(r)){if(s)throw Error(i(479))}else s=zp(r,l,c,2),s!==null&&br(s,r,2)}function Yf(r){var s=r.alternate;return r===st||s!==null&&s===st}function Fb(r,s){bl=zf=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Hb(r,s,l){if((l&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,l|=c,s.lanes=l,Hc(r,l)}}var Kf={readContext:Hn,use:Hf,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn,useHostTransitionStatus:cn,useFormState:cn,useActionState:cn,useOptimistic:cn,useMemoCache:cn,useCacheRefresh:cn},qb={readContext:Hn,use:Hf,useCallback:function(r,s){return or().memoizedState=[r,s===void 0?null:s],r},useContext:Hn,useEffect:Cb,useImperativeHandle:function(r,s,l){l=l!=null?l.concat([r]):null,Gf(4194308,4,kb.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Gf(4194308,4,r,s)},useInsertionEffect:function(r,s){Gf(4,2,r,s)},useMemo:function(r,s){var l=or();s=s===void 0?null:s;var c=r();if(xo){fn(!0);try{r()}finally{fn(!1)}}return l.memoizedState=[c,s],c},useReducer:function(r,s,l){var c=or();if(l!==void 0){var p=l(s);if(xo){fn(!0);try{l(s)}finally{fn(!1)}}}else p=s;return c.memoizedState=c.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},c.queue=r,r=r.dispatch=BR.bind(null,st,r),[c.memoizedState,r]},useRef:function(r){var s=or();return r={current:r},s.memoizedState=r},useState:function(r){r=gg(r);var s=r.queue,l=zb.bind(null,st,s);return s.dispatch=l,[r.memoizedState,l]},useDebugValue:vg,useDeferredValue:function(r,s){var l=or();return _g(l,r,s)},useTransition:function(){var r=gg(!1);return r=Pb.bind(null,st,r.queue,!0,!1),or().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,l){var c=st,p=or();if(St){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),Bt===null)throw Error(i(349));(vt&124)!==0||db(c,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,Cb(hb.bind(null,c,y,r),[r]),c.flags|=2048,wl(9,$f(),fb.bind(null,c,y,l,s),null),l},useId:function(){var r=or(),s=Bt.identifierPrefix;if(St){var l=ts,c=es;l=(c&~(1<<32-qt(c)-1)).toString(32)+l,s=""+s+"R"+l,l=Ff++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=jR++,s=""+s+"r"+l.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:xg,useFormState:wb,useActionState:wb,useOptimistic:function(r){var s=or();s.memoizedState=s.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=wg.bind(null,st,!0,l),l.dispatch=s,[r,s]},useMemoCache:hg,useCacheRefresh:function(){return or().memoizedState=UR.bind(null,st)}},$b={readContext:Hn,use:Hf,useCallback:Ob,useContext:Hn,useEffect:Rb,useImperativeHandle:Db,useInsertionEffect:Nb,useLayoutEffect:Ib,useMemo:jb,useReducer:qf,useRef:Ab,useState:function(){return qf(is)},useDebugValue:vg,useDeferredValue:function(r,s){var l=gn();return Mb(l,jt.memoizedState,r,s)},useTransition:function(){var r=qf(is)[0],s=gn().memoizedState;return[typeof r=="boolean"?r:_u(r),s]},useSyncExternalStore:ub,useId:Ub,useHostTransitionStatus:xg,useFormState:Eb,useActionState:Eb,useOptimistic:function(r,s){var l=gn();return gb(l,jt,r,s)},useMemoCache:hg,useCacheRefresh:Bb},zR={readContext:Hn,use:Hf,useCallback:Ob,useContext:Hn,useEffect:Rb,useImperativeHandle:Db,useInsertionEffect:Nb,useLayoutEffect:Ib,useMemo:jb,useReducer:pg,useRef:Ab,useState:function(){return pg(is)},useDebugValue:vg,useDeferredValue:function(r,s){var l=gn();return jt===null?_g(l,r,s):Mb(l,jt.memoizedState,r,s)},useTransition:function(){var r=pg(is)[0],s=gn().memoizedState;return[typeof r=="boolean"?r:_u(r),s]},useSyncExternalStore:ub,useId:Ub,useHostTransitionStatus:xg,useFormState:Sb,useActionState:Sb,useOptimistic:function(r,s){var l=gn();return jt!==null?gb(l,jt,r,s):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:hg,useCacheRefresh:Bb},El=null,wu=0;function Zf(r){var s=wu;return wu+=1,El===null&&(El=[]),nb(El,r,s)}function Eu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Qf(r,s){throw s.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Gb(r){var s=r._init;return s(r._payload)}function Yb(r){function s(Q,Y){if(r){var J=Q.deletions;J===null?(Q.deletions=[Y],Q.flags|=16):J.push(Y)}}function l(Q,Y){if(!r)return null;for(;Y!==null;)s(Q,Y),Y=Y.sibling;return null}function c(Q){for(var Y=new Map;Q!==null;)Q.key!==null?Y.set(Q.key,Q):Y.set(Q.index,Q),Q=Q.sibling;return Y}function p(Q,Y){return Q=Ji(Q,Y),Q.index=0,Q.sibling=null,Q}function y(Q,Y,J){return Q.index=J,r?(J=Q.alternate,J!==null?(J=J.index,J<Y?(Q.flags|=67108866,Y):J):(Q.flags|=67108866,Y)):(Q.flags|=1048576,Y)}function T(Q){return r&&Q.alternate===null&&(Q.flags|=67108866),Q}function k(Q,Y,J,ce){return Y===null||Y.tag!==6?(Y=Hp(J,Q.mode,ce),Y.return=Q,Y):(Y=p(Y,J),Y.return=Q,Y)}function F(Q,Y,J,ce){var Re=J.type;return Re===C?le(Q,Y,J.props.children,ce,J.key):Y!==null&&(Y.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===A&&Gb(Re)===Y.type)?(Y=p(Y,J.props),Eu(Y,J),Y.return=Q,Y):(Y=Df(J.type,J.key,J.props,null,Q.mode,ce),Eu(Y,J),Y.return=Q,Y)}function ee(Q,Y,J,ce){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==J.containerInfo||Y.stateNode.implementation!==J.implementation?(Y=qp(J,Q.mode,ce),Y.return=Q,Y):(Y=p(Y,J.children||[]),Y.return=Q,Y)}function le(Q,Y,J,ce,Re){return Y===null||Y.tag!==7?(Y=ho(J,Q.mode,ce,Re),Y.return=Q,Y):(Y=p(Y,J),Y.return=Q,Y)}function de(Q,Y,J){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Hp(""+Y,Q.mode,J),Y.return=Q,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case _:return J=Df(Y.type,Y.key,Y.props,null,Q.mode,J),Eu(J,Y),J.return=Q,J;case S:return Y=qp(Y,Q.mode,J),Y.return=Q,Y;case A:var ce=Y._init;return Y=ce(Y._payload),de(Q,Y,J)}if(ie(Y)||L(Y))return Y=ho(Y,Q.mode,J,null),Y.return=Q,Y;if(typeof Y.then=="function")return de(Q,Zf(Y),J);if(Y.$$typeof===V)return de(Q,Pf(Q,Y),J);Qf(Q,Y)}return null}function ne(Q,Y,J,ce){var Re=Y!==null?Y.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Re!==null?null:k(Q,Y,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case _:return J.key===Re?F(Q,Y,J,ce):null;case S:return J.key===Re?ee(Q,Y,J,ce):null;case A:return Re=J._init,J=Re(J._payload),ne(Q,Y,J,ce)}if(ie(J)||L(J))return Re!==null?null:le(Q,Y,J,ce,null);if(typeof J.then=="function")return ne(Q,Y,Zf(J),ce);if(J.$$typeof===V)return ne(Q,Y,Pf(Q,J),ce);Qf(Q,J)}return null}function re(Q,Y,J,ce,Re){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Q=Q.get(J)||null,k(Y,Q,""+ce,Re);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case _:return Q=Q.get(ce.key===null?J:ce.key)||null,F(Y,Q,ce,Re);case S:return Q=Q.get(ce.key===null?J:ce.key)||null,ee(Y,Q,ce,Re);case A:var ct=ce._init;return ce=ct(ce._payload),re(Q,Y,J,ce,Re)}if(ie(ce)||L(ce))return Q=Q.get(J)||null,le(Y,Q,ce,Re,null);if(typeof ce.then=="function")return re(Q,Y,J,Zf(ce),Re);if(ce.$$typeof===V)return re(Q,Y,J,Pf(Y,ce),Re);Qf(Y,ce)}return null}function Ye(Q,Y,J,ce){for(var Re=null,ct=null,Me=Y,Fe=Y=0,Dn=null;Me!==null&&Fe<J.length;Fe++){Me.index>Fe?(Dn=Me,Me=null):Dn=Me.sibling;var wt=ne(Q,Me,J[Fe],ce);if(wt===null){Me===null&&(Me=Dn);break}r&&Me&&wt.alternate===null&&s(Q,Me),Y=y(wt,Y,Fe),ct===null?Re=wt:ct.sibling=wt,ct=wt,Me=Dn}if(Fe===J.length)return l(Q,Me),St&&po(Q,Fe),Re;if(Me===null){for(;Fe<J.length;Fe++)Me=de(Q,J[Fe],ce),Me!==null&&(Y=y(Me,Y,Fe),ct===null?Re=Me:ct.sibling=Me,ct=Me);return St&&po(Q,Fe),Re}for(Me=c(Me);Fe<J.length;Fe++)Dn=re(Me,Q,Fe,J[Fe],ce),Dn!==null&&(r&&Dn.alternate!==null&&Me.delete(Dn.key===null?Fe:Dn.key),Y=y(Dn,Y,Fe),ct===null?Re=Dn:ct.sibling=Dn,ct=Dn);return r&&Me.forEach(function(fa){return s(Q,fa)}),St&&po(Q,Fe),Re}function Be(Q,Y,J,ce){if(J==null)throw Error(i(151));for(var Re=null,ct=null,Me=Y,Fe=Y=0,Dn=null,wt=J.next();Me!==null&&!wt.done;Fe++,wt=J.next()){Me.index>Fe?(Dn=Me,Me=null):Dn=Me.sibling;var fa=ne(Q,Me,wt.value,ce);if(fa===null){Me===null&&(Me=Dn);break}r&&Me&&fa.alternate===null&&s(Q,Me),Y=y(fa,Y,Fe),ct===null?Re=fa:ct.sibling=fa,ct=fa,Me=Dn}if(wt.done)return l(Q,Me),St&&po(Q,Fe),Re;if(Me===null){for(;!wt.done;Fe++,wt=J.next())wt=de(Q,wt.value,ce),wt!==null&&(Y=y(wt,Y,Fe),ct===null?Re=wt:ct.sibling=wt,ct=wt);return St&&po(Q,Fe),Re}for(Me=c(Me);!wt.done;Fe++,wt=J.next())wt=re(Me,Q,Fe,wt.value,ce),wt!==null&&(r&&wt.alternate!==null&&Me.delete(wt.key===null?Fe:wt.key),Y=y(wt,Y,Fe),ct===null?Re=wt:ct.sibling=wt,ct=wt);return r&&Me.forEach(function(FN){return s(Q,FN)}),St&&po(Q,Fe),Re}function Pt(Q,Y,J,ce){if(typeof J=="object"&&J!==null&&J.type===C&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case _:e:{for(var Re=J.key;Y!==null;){if(Y.key===Re){if(Re=J.type,Re===C){if(Y.tag===7){l(Q,Y.sibling),ce=p(Y,J.props.children),ce.return=Q,Q=ce;break e}}else if(Y.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===A&&Gb(Re)===Y.type){l(Q,Y.sibling),ce=p(Y,J.props),Eu(ce,J),ce.return=Q,Q=ce;break e}l(Q,Y);break}else s(Q,Y);Y=Y.sibling}J.type===C?(ce=ho(J.props.children,Q.mode,ce,J.key),ce.return=Q,Q=ce):(ce=Df(J.type,J.key,J.props,null,Q.mode,ce),Eu(ce,J),ce.return=Q,Q=ce)}return T(Q);case S:e:{for(Re=J.key;Y!==null;){if(Y.key===Re)if(Y.tag===4&&Y.stateNode.containerInfo===J.containerInfo&&Y.stateNode.implementation===J.implementation){l(Q,Y.sibling),ce=p(Y,J.children||[]),ce.return=Q,Q=ce;break e}else{l(Q,Y);break}else s(Q,Y);Y=Y.sibling}ce=qp(J,Q.mode,ce),ce.return=Q,Q=ce}return T(Q);case A:return Re=J._init,J=Re(J._payload),Pt(Q,Y,J,ce)}if(ie(J))return Ye(Q,Y,J,ce);if(L(J)){if(Re=L(J),typeof Re!="function")throw Error(i(150));return J=Re.call(J),Be(Q,Y,J,ce)}if(typeof J.then=="function")return Pt(Q,Y,Zf(J),ce);if(J.$$typeof===V)return Pt(Q,Y,Pf(Q,J),ce);Qf(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,Y!==null&&Y.tag===6?(l(Q,Y.sibling),ce=p(Y,J),ce.return=Q,Q=ce):(l(Q,Y),ce=Hp(J,Q.mode,ce),ce.return=Q,Q=ce),T(Q)):l(Q,Y)}return function(Q,Y,J,ce){try{wu=0;var Re=Pt(Q,Y,J,ce);return El=null,Re}catch(Me){if(Me===hu||Me===Vf)throw Me;var ct=pr(29,Me,null,Q.mode);return ct.lanes=ce,ct.return=Q,ct}finally{}}}var Tl=Yb(!0),Kb=Yb(!1),Mr=ae(null),bi=null;function Ws(r){var s=r.alternate;oe(Sn,Sn.current&1),oe(Mr,r),bi===null&&(s===null||_l.current!==null||s.memoizedState!==null)&&(bi=r)}function Zb(r){if(r.tag===22){if(oe(Sn,Sn.current),oe(Mr,r),bi===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(bi=r)}}else Xs()}function Xs(){oe(Sn,Sn.current),oe(Mr,Mr.current)}function ss(r){me(Mr),bi===r&&(bi=null),me(Sn)}var Sn=ae(0);function Wf(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||fy(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Eg(r,s,l,c){s=r.memoizedState,l=l(c,s),l=l==null?s:v({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Tg={enqueueSetState:function(r,s,l){r=r._reactInternals;var c=_r(),p=Ks(c);p.payload=s,l!=null&&(p.callback=l),s=Zs(r,p,c),s!==null&&(br(s,r,c),pu(s,r,c))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var c=_r(),p=Ks(c);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=Zs(r,p,c),s!==null&&(br(s,r,c),pu(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=_r(),c=Ks(l);c.tag=2,s!=null&&(c.callback=s),s=Zs(r,c,l),s!==null&&(br(s,r,l),pu(s,r,l))}};function Qb(r,s,l,c,p,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,T):s.prototype&&s.prototype.isPureReactComponent?!su(l,c)||!su(p,y):!0}function Wb(r,s,l,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==r&&Tg.enqueueReplaceState(s,s.state,null)}function wo(r,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(r=r.defaultProps){l===s&&(l=v({},l));for(var p in r)l[p]===void 0&&(l[p]=r[p])}return l}var Xf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Xb(r){Xf(r)}function Jb(r){console.error(r)}function ex(r){Xf(r)}function Jf(r,s){try{var l=r.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function tx(r,s,l){try{var c=r.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Sg(r,s,l){return l=Ks(l),l.tag=3,l.payload={element:null},l.callback=function(){Jf(r,s)},l}function nx(r){return r=Ks(r),r.tag=3,r}function rx(r,s,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=c.value;r.payload=function(){return p(y)},r.callback=function(){tx(s,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){tx(s,l,c),typeof p!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var k=c.stack;this.componentDidCatch(c.value,{componentStack:k!==null?k:""})})}function FR(r,s,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&uu(s,l,p,!0),l=Mr.current,l!==null){switch(l.tag){case 13:return bi===null?Zg():l.alternate===null&&sn===0&&(sn=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===eg?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),Wg(r,c,p)),!1;case 22:return l.flags|=65536,c===eg?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),Wg(r,c,p)),!1}throw Error(i(435,l.tag))}return Wg(r,c,p),Zg(),!1}if(St)return s=Mr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,c!==Yp&&(r=Error(i(422),{cause:c}),cu(kr(r,l)))):(c!==Yp&&(s=Error(i(423),{cause:c}),cu(kr(s,l))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,c=kr(c,l),p=Sg(r.stateNode,c,p),rg(r,p),sn!==4&&(sn=2)),!1;var y=Error(i(520),{cause:c});if(y=kr(y,l),Iu===null?Iu=[y]:Iu.push(y),sn!==4&&(sn=2),s===null)return!0;c=kr(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,r=p&-p,l.lanes|=r,r=Sg(l.stateNode,c,r),rg(l,r),!1;case 1:if(s=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ia===null||!ia.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=nx(p),rx(p,r,l,c),rg(l,p),!1}l=l.return}while(l!==null);return!1}var ix=Error(i(461)),In=!1;function Pn(r,s,l,c){s.child=r===null?Kb(s,null,l,c):Tl(s,r.child,l,c)}function sx(r,s,l,c,p){l=l.render;var y=s.ref;if("ref"in c){var T={};for(var k in c)k!=="ref"&&(T[k]=c[k])}else T=c;return _o(s),c=lg(r,s,l,T,y,p),k=cg(),r!==null&&!In?(ug(r,s,p),as(r,s,p)):(St&&k&&$p(s),s.flags|=1,Pn(r,s,c,p),s.child)}function ax(r,s,l,c,p){if(r===null){var y=l.type;return typeof y=="function"&&!Fp(y)&&y.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=y,ox(r,s,y,c,p)):(r=Df(l.type,null,c,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!Og(r,p)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:su,l(T,c)&&r.ref===s.ref)return as(r,s,p)}return s.flags|=1,r=Ji(y,c),r.ref=s.ref,r.return=s,s.child=r}function ox(r,s,l,c,p){if(r!==null){var y=r.memoizedProps;if(su(y,c)&&r.ref===s.ref)if(In=!1,s.pendingProps=c=y,Og(r,p))(r.flags&131072)!==0&&(In=!0);else return s.lanes=r.lanes,as(r,s,p)}return Ag(r,s,l,c,p)}function lx(r,s,l){var c=s.pendingProps,p=c.children,y=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,r!==null){for(p=s.child=r.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;s.childLanes=y&~c}else s.childLanes=0,s.child=null;return cx(r,s,c,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Lf(s,y!==null?y.cachePool:null),y!==null?ob(s,y):sg(),Zb(s);else return s.lanes=s.childLanes=536870912,cx(r,s,y!==null?y.baseLanes|l:l,l)}else y!==null?(Lf(s,y.cachePool),ob(s,y),Xs(),s.memoizedState=null):(r!==null&&Lf(s,null),sg(),Xs());return Pn(r,s,p,l),s.child}function cx(r,s,l,c){var p=Jp();return p=p===null?null:{parent:Tn._currentValue,pool:p},s.memoizedState={baseLanes:l,cachePool:p},r!==null&&Lf(s,null),sg(),Zb(s),r!==null&&uu(r,s,c,!0),null}function eh(r,s){var l=s.ref;if(l===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(s.flags|=4194816)}}function Ag(r,s,l,c,p){return _o(s),l=lg(r,s,l,c,void 0,p),c=cg(),r!==null&&!In?(ug(r,s,p),as(r,s,p)):(St&&c&&$p(s),s.flags|=1,Pn(r,s,l,p),s.child)}function ux(r,s,l,c,p,y){return _o(s),s.updateQueue=null,l=cb(s,c,l,p),lb(r),c=cg(),r!==null&&!In?(ug(r,s,y),as(r,s,y)):(St&&c&&$p(s),s.flags|=1,Pn(r,s,l,y),s.child)}function dx(r,s,l,c,p){if(_o(s),s.stateNode===null){var y=ml,T=l.contextType;typeof T=="object"&&T!==null&&(y=Hn(T)),y=new l(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Tg,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},tg(s),T=l.contextType,y.context=typeof T=="object"&&T!==null?Hn(T):ml,y.state=s.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Eg(s,l,T,c),y.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&Tg.enqueueReplaceState(y,y.state,null),yu(s,c,y,p),gu(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){y=s.stateNode;var k=s.memoizedProps,F=wo(l,k);y.props=F;var ee=y.context,le=l.contextType;T=ml,typeof le=="object"&&le!==null&&(T=Hn(le));var de=l.getDerivedStateFromProps;le=typeof de=="function"||typeof y.getSnapshotBeforeUpdate=="function",k=s.pendingProps!==k,le||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k||ee!==T)&&Wb(s,y,c,T),Ys=!1;var ne=s.memoizedState;y.state=ne,yu(s,c,y,p),gu(),ee=s.memoizedState,k||ne!==ee||Ys?(typeof de=="function"&&(Eg(s,l,de,c),ee=s.memoizedState),(F=Ys||Qb(s,l,F,c,ne,ee,T))?(le||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=ee),y.props=c,y.state=ee,y.context=T,c=F):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,ng(r,s),T=s.memoizedProps,le=wo(l,T),y.props=le,de=s.pendingProps,ne=y.context,ee=l.contextType,F=ml,typeof ee=="object"&&ee!==null&&(F=Hn(ee)),k=l.getDerivedStateFromProps,(ee=typeof k=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==de||ne!==F)&&Wb(s,y,c,F),Ys=!1,ne=s.memoizedState,y.state=ne,yu(s,c,y,p),gu();var re=s.memoizedState;T!==de||ne!==re||Ys||r!==null&&r.dependencies!==null&&Mf(r.dependencies)?(typeof k=="function"&&(Eg(s,l,k,c),re=s.memoizedState),(le=Ys||Qb(s,l,le,c,ne,re,F)||r!==null&&r.dependencies!==null&&Mf(r.dependencies))?(ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,re,F),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,re,F)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=re),y.props=c,y.state=re,y.context=F,c=le):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),c=!1)}return y=c,eh(r,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,r!==null&&c?(s.child=Tl(s,r.child,null,p),s.child=Tl(s,null,l,p)):Pn(r,s,l,p),s.memoizedState=y.state,r=s.child):r=as(r,s,p),r}function fx(r,s,l,c){return lu(),s.flags|=256,Pn(r,s,l,c),s.child}var Cg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rg(r){return{baseLanes:r,cachePool:J_()}}function Ng(r,s,l){return r=r!==null?r.childLanes&~l:0,s&&(r|=Pr),r}function hx(r,s,l){var c=s.pendingProps,p=!1,y=(s.flags&128)!==0,T;if((T=y)||(T=r!==null&&r.memoizedState===null?!1:(Sn.current&2)!==0),T&&(p=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(St){if(p?Ws(s):Xs(),St){var k=rn,F;if(F=k){e:{for(F=k,k=_i;F.nodeType!==8;){if(!k){k=null;break e}if(F=Gr(F.nextSibling),F===null){k=null;break e}}k=F}k!==null?(s.memoizedState={dehydrated:k,treeContext:mo!==null?{id:es,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},F=pr(18,null,null,0),F.stateNode=k,F.return=s,s.child=F,rr=s,rn=null,F=!0):F=!1}F||yo(s)}if(k=s.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return fy(k)?s.lanes=32:s.lanes=536870912,null;ss(s)}return k=c.children,c=c.fallback,p?(Xs(),p=s.mode,k=th({mode:"hidden",children:k},p),c=ho(c,p,l,null),k.return=s,c.return=s,k.sibling=c,s.child=k,p=s.child,p.memoizedState=Rg(l),p.childLanes=Ng(r,T,l),s.memoizedState=Cg,c):(Ws(s),Ig(s,k))}if(F=r.memoizedState,F!==null&&(k=F.dehydrated,k!==null)){if(y)s.flags&256?(Ws(s),s.flags&=-257,s=kg(r,s,l)):s.memoizedState!==null?(Xs(),s.child=r.child,s.flags|=128,s=null):(Xs(),p=c.fallback,k=s.mode,c=th({mode:"visible",children:c.children},k),p=ho(p,k,l,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,Tl(s,r.child,null,l),c=s.child,c.memoizedState=Rg(l),c.childLanes=Ng(r,T,l),s.memoizedState=Cg,s=p);else if(Ws(s),fy(k)){if(T=k.nextSibling&&k.nextSibling.dataset,T)var ee=T.dgst;T=ee,c=Error(i(419)),c.stack="",c.digest=T,cu({value:c,source:null,stack:null}),s=kg(r,s,l)}else if(In||uu(r,s,l,!1),T=(l&r.childLanes)!==0,In||T){if(T=Bt,T!==null&&(c=l&-l,c=(c&42)!==0?1:Us(c),c=(c&(T.suspendedLanes|l))!==0?0:c,c!==0&&c!==F.retryLane))throw F.retryLane=c,hl(r,c),br(T,r,c),ix;k.data==="$?"||Zg(),s=kg(r,s,l)}else k.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=F.treeContext,rn=Gr(k.nextSibling),rr=s,St=!0,go=null,_i=!1,r!==null&&(Or[jr++]=es,Or[jr++]=ts,Or[jr++]=mo,es=r.id,ts=r.overflow,mo=s),s=Ig(s,c.children),s.flags|=4096);return s}return p?(Xs(),p=c.fallback,k=s.mode,F=r.child,ee=F.sibling,c=Ji(F,{mode:"hidden",children:c.children}),c.subtreeFlags=F.subtreeFlags&65011712,ee!==null?p=Ji(ee,p):(p=ho(p,k,l,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,k=r.child.memoizedState,k===null?k=Rg(l):(F=k.cachePool,F!==null?(ee=Tn._currentValue,F=F.parent!==ee?{parent:ee,pool:ee}:F):F=J_(),k={baseLanes:k.baseLanes|l,cachePool:F}),p.memoizedState=k,p.childLanes=Ng(r,T,l),s.memoizedState=Cg,c):(Ws(s),l=r.child,r=l.sibling,l=Ji(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=l,s.memoizedState=null,l)}function Ig(r,s){return s=th({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function th(r,s){return r=pr(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function kg(r,s,l){return Tl(s,r.child,null,l),r=Ig(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function mx(r,s,l){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Zp(r.return,s,l)}function Dg(r,s,l,c,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=p)}function px(r,s,l){var c=s.pendingProps,p=c.revealOrder,y=c.tail;if(Pn(r,s,c.children,l),c=Sn.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&mx(r,l,s);else if(r.tag===19)mx(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(oe(Sn,c),p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&Wf(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Dg(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Wf(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}Dg(s,!0,l,null,y);break;case"together":Dg(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function as(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),ra|=s.lanes,(l&s.childLanes)===0)if(r!==null){if(uu(r,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,l=Ji(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Ji(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function Og(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Mf(r)))}function HR(r,s,l){switch(s.tag){case 3:De(s,s.stateNode.containerInfo),Gs(s,Tn,r.memoizedState.cache),lu();break;case 27:case 5:Ze(s);break;case 4:De(s,s.stateNode.containerInfo);break;case 10:Gs(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Ws(s),s.flags|=128,null):(l&s.child.childLanes)!==0?hx(r,s,l):(Ws(s),r=as(r,s,l),r!==null?r.sibling:null);Ws(s);break;case 19:var p=(r.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(uu(r,s,l,!1),c=(l&s.childLanes)!==0),p){if(c)return px(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),oe(Sn,Sn.current),c)break;return null;case 22:case 23:return s.lanes=0,lx(r,s,l);case 24:Gs(s,Tn,r.memoizedState.cache)}return as(r,s,l)}function gx(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps)In=!0;else{if(!Og(r,l)&&(s.flags&128)===0)return In=!1,HR(r,s,l);In=(r.flags&131072)!==0}else In=!1,St&&(s.flags&1048576)!==0&&G_(s,jf,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,p=c._init;if(c=p(c._payload),s.type=c,typeof c=="function")Fp(c)?(r=wo(c,r),s.tag=1,s=dx(null,s,c,r,l)):(s.tag=0,s=Ag(null,s,c,r,l));else{if(c!=null){if(p=c.$$typeof,p===$){s.tag=11,s=sx(null,s,c,r,l);break e}else if(p===I){s.tag=14,s=ax(null,s,c,r,l);break e}}throw s=G(c)||c,Error(i(306,s,""))}}return s;case 0:return Ag(r,s,s.type,s.pendingProps,l);case 1:return c=s.type,p=wo(c,s.pendingProps),dx(r,s,c,p,l);case 3:e:{if(De(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var y=s.memoizedState;p=y.element,ng(r,s),yu(s,c,null,l);var T=s.memoizedState;if(c=T.cache,Gs(s,Tn,c),c!==y.cache&&Qp(s,[Tn],l,!0),gu(),c=T.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=fx(r,s,c,l);break e}else if(c!==p){p=kr(Error(i(424)),s),cu(p),s=fx(r,s,c,l);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(rn=Gr(r.firstChild),rr=s,St=!0,go=null,_i=!0,l=Kb(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(lu(),c===p){s=as(r,s,l);break e}Pn(r,s,c,l)}s=s.child}return s;case 26:return eh(r,s),r===null?(l=bw(s.type,null,s.pendingProps,null))?s.memoizedState=l:St||(l=s.type,r=s.pendingProps,c=ph(ke.current).createElement(l),c[xn]=s,c[hn]=r,Vn(c,l,r),ln(c),s.stateNode=c):s.memoizedState=bw(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Ze(s),r===null&&St&&(c=s.stateNode=yw(s.type,s.pendingProps,ke.current),rr=s,_i=!0,p=rn,oa(s.type)?(hy=p,rn=Gr(c.firstChild)):rn=p),Pn(r,s,s.pendingProps.children,l),eh(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&St&&((p=c=rn)&&(c=yN(c,s.type,s.pendingProps,_i),c!==null?(s.stateNode=c,rr=s,rn=Gr(c.firstChild),_i=!1,p=!0):p=!1),p||yo(s)),Ze(s),p=s.type,y=s.pendingProps,T=r!==null?r.memoizedProps:null,c=y.children,cy(p,y)?c=null:T!==null&&cy(p,T)&&(s.flags|=32),s.memoizedState!==null&&(p=lg(r,s,MR,null,null,l),Uu._currentValue=p),eh(r,s),Pn(r,s,c,l),s.child;case 6:return r===null&&St&&((r=l=rn)&&(l=vN(l,s.pendingProps,_i),l!==null?(s.stateNode=l,rr=s,rn=null,r=!0):r=!1),r||yo(s)),null;case 13:return hx(r,s,l);case 4:return De(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Tl(s,null,c,l):Pn(r,s,c,l),s.child;case 11:return sx(r,s,s.type,s.pendingProps,l);case 7:return Pn(r,s,s.pendingProps,l),s.child;case 8:return Pn(r,s,s.pendingProps.children,l),s.child;case 12:return Pn(r,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,Gs(s,s.type,c.value),Pn(r,s,c.children,l),s.child;case 9:return p=s.type._context,c=s.pendingProps.children,_o(s),p=Hn(p),c=c(p),s.flags|=1,Pn(r,s,c,l),s.child;case 14:return ax(r,s,s.type,s.pendingProps,l);case 15:return ox(r,s,s.type,s.pendingProps,l);case 19:return px(r,s,l);case 31:return c=s.pendingProps,l=s.mode,c={mode:c.mode,children:c.children},r===null?(l=th(c,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=Ji(r.child,c),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return lx(r,s,l);case 24:return _o(s),c=Hn(Tn),r===null?(p=Jp(),p===null&&(p=Bt,y=Wp(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),s.memoizedState={parent:c,cache:p},tg(s),Gs(s,Tn,p)):((r.lanes&l)!==0&&(ng(r,s),yu(s,null,null,l),gu()),p=r.memoizedState,y=s.memoizedState,p.parent!==c?(p={parent:c,cache:c},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Gs(s,Tn,c)):(c=y.cache,Gs(s,Tn,c),c!==p.cache&&Qp(s,[Tn],l,!0))),Pn(r,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function os(r){r.flags|=4}function yx(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Sw(s)){if(s=Mr.current,s!==null&&((vt&4194048)===vt?bi!==null:(vt&62914560)!==vt&&(vt&536870912)===0||s!==bi))throw mu=eg,eb;r.flags|=8192}}function nh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?zc():536870912,r.lanes|=s,Rl|=s)}function Tu(r,s){if(!St)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Zt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,c=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=c,r.childLanes=l,s}function qR(r,s,l){var c=s.pendingProps;switch(Gp(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(s),null;case 1:return Zt(s),null;case 3:return l=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),rs(Tn),ut(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(ou(s)?os(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Z_())),Zt(s),null;case 26:return l=s.memoizedState,r===null?(os(s),l!==null?(Zt(s),yx(s,l)):(Zt(s),s.flags&=-16777217)):l?l!==r.memoizedState?(os(s),Zt(s),yx(s,l)):(Zt(s),s.flags&=-16777217):(r.memoizedProps!==c&&os(s),Zt(s),s.flags&=-16777217),null;case 27:Qe(s),l=ke.current;var p=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&os(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Zt(s),null}r=we.current,ou(s)?Y_(s):(r=yw(p,c,l),s.stateNode=r,os(s))}return Zt(s),null;case 5:if(Qe(s),l=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&os(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Zt(s),null}if(r=we.current,ou(s))Y_(s);else{switch(p=ph(ke.current),r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?p.createElement(l,{is:c.is}):p.createElement(l)}}r[xn]=s,r[hn]=c;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=r;e:switch(Vn(r,l,c),l){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&os(s)}}return Zt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&os(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=ke.current,ou(s)){if(r=s.stateNode,l=s.memoizedProps,c=null,p=rr,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}r[xn]=s,r=!!(r.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||uw(r.nodeValue,l)),r||yo(s)}else r=ph(r).createTextNode(c),r[xn]=s,s.stateNode=r}return Zt(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=ou(s),c!==null&&c.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[xn]=s}else lu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Zt(s),p=!1}else p=Z_(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(ss(s),s):(ss(s),null)}if(ss(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=c!==null,r=r!==null&&r.memoizedState!==null,l){c=s.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048)}return l!==r&&l&&(s.child.flags|=8192),nh(s,s.updateQueue),Zt(s),null;case 4:return ut(),r===null&&iy(s.stateNode.containerInfo),Zt(s),null;case 10:return rs(s.type),Zt(s),null;case 19:if(me(Sn),p=s.memoizedState,p===null)return Zt(s),null;if(c=(s.flags&128)!==0,y=p.rendering,y===null)if(c)Tu(p,!1);else{if(sn!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=Wf(r),y!==null){for(s.flags|=128,Tu(p,!1),r=y.updateQueue,s.updateQueue=r,nh(s,r),s.subtreeFlags=0,r=l,l=s.child;l!==null;)$_(l,r),l=l.sibling;return oe(Sn,Sn.current&1|2),s.child}r=r.sibling}p.tail!==null&&Ae()>sh&&(s.flags|=128,c=!0,Tu(p,!1),s.lanes=4194304)}else{if(!c)if(r=Wf(y),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,nh(s,r),Tu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!St)return Zt(s),null}else 2*Ae()-p.renderingStartTime>sh&&l!==536870912&&(s.flags|=128,c=!0,Tu(p,!1),s.lanes=4194304);p.isBackwards?(y.sibling=s.child,s.child=y):(r=p.last,r!==null?r.sibling=y:s.child=y,p.last=y)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Ae(),s.sibling=null,r=Sn.current,oe(Sn,c?r&1|2:r&1),s):(Zt(s),null);case 22:case 23:return ss(s),ag(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(Zt(s),s.subtreeFlags&6&&(s.flags|=8192)):Zt(s),l=s.updateQueue,l!==null&&nh(s,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),r!==null&&me(bo),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),rs(Tn),Zt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function $R(r,s){switch(Gp(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return rs(Tn),ut(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Qe(s),null;case 13:if(ss(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));lu()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return me(Sn),null;case 4:return ut(),null;case 10:return rs(s.type),null;case 22:case 23:return ss(s),ag(),r!==null&&me(bo),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return rs(Tn),null;case 25:return null;default:return null}}function vx(r,s){switch(Gp(s),s.tag){case 3:rs(Tn),ut();break;case 26:case 27:case 5:Qe(s);break;case 4:ut();break;case 13:ss(s);break;case 19:me(Sn);break;case 10:rs(s.type);break;case 22:case 23:ss(s),ag(),r!==null&&me(bo);break;case 24:rs(Tn)}}function Su(r,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&r)===r){c=void 0;var y=l.create,T=l.inst;c=y(),T.destroy=c}l=l.next}while(l!==p)}}catch(k){Vt(s,s.return,k)}}function Js(r,s,l){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var y=p.next;c=y;do{if((c.tag&r)===r){var T=c.inst,k=T.destroy;if(k!==void 0){T.destroy=void 0,p=s;var F=l,ee=k;try{ee()}catch(le){Vt(p,F,le)}}}c=c.next}while(c!==y)}}catch(le){Vt(s,s.return,le)}}function _x(r){var s=r.updateQueue;if(s!==null){var l=r.stateNode;try{ab(s,l)}catch(c){Vt(r,r.return,c)}}}function bx(r,s,l){l.props=wo(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(c){Vt(r,s,c)}}function Au(r,s){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof l=="function"?r.refCleanup=l(c):l.current=c}}catch(p){Vt(r,s,p)}}function xi(r,s){var l=r.ref,c=r.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){Vt(r,s,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Vt(r,s,p)}else l.current=null}function xx(r){var s=r.type,l=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){Vt(r,r.return,p)}}function jg(r,s,l){try{var c=r.stateNode;fN(c,r.type,l,s),c[hn]=s}catch(p){Vt(r,r.return,p)}}function wx(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&oa(r.type)||r.tag===4}function Mg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||wx(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&oa(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Pg(r,s,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(r),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=mh));else if(c!==4&&(c===27&&oa(r.type)&&(l=r.stateNode,s=null),r=r.child,r!==null))for(Pg(r,s,l),r=r.sibling;r!==null;)Pg(r,s,l),r=r.sibling}function rh(r,s,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(c!==4&&(c===27&&oa(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(rh(r,s,l),r=r.sibling;r!==null;)rh(r,s,l),r=r.sibling}function Ex(r){var s=r.stateNode,l=r.memoizedProps;try{for(var c=r.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Vn(s,c,l),s[xn]=r,s[hn]=l}catch(y){Vt(r,r.return,y)}}var ls=!1,un=!1,Lg=!1,Tx=typeof WeakSet=="function"?WeakSet:Set,kn=null;function GR(r,s){if(r=r.containerInfo,oy=xh,r=M_(r),Mp(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,k=-1,F=-1,ee=0,le=0,de=r,ne=null;t:for(;;){for(var re;de!==l||p!==0&&de.nodeType!==3||(k=T+p),de!==y||c!==0&&de.nodeType!==3||(F=T+c),de.nodeType===3&&(T+=de.nodeValue.length),(re=de.firstChild)!==null;)ne=de,de=re;for(;;){if(de===r)break t;if(ne===l&&++ee===p&&(k=T),ne===y&&++le===c&&(F=T),(re=de.nextSibling)!==null)break;de=ne,ne=de.parentNode}de=re}l=k===-1||F===-1?null:{start:k,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(ly={focusedElem:r,selectionRange:l},xh=!1,kn=s;kn!==null;)if(s=kn,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,kn=r;else for(;kn!==null;){switch(s=kn,y=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,l=s,p=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Ye=wo(l.type,p,l.elementType===l.type);r=c.getSnapshotBeforeUpdate(Ye,y),c.__reactInternalSnapshotBeforeUpdate=r}catch(Be){Vt(l,l.return,Be)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,l=r.nodeType,l===9)dy(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":dy(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,kn=r;break}kn=s.return}}function Sx(r,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:ea(r,l),c&4&&Su(5,l);break;case 1:if(ea(r,l),c&4)if(r=l.stateNode,s===null)try{r.componentDidMount()}catch(T){Vt(l,l.return,T)}else{var p=wo(l.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(p,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){Vt(l,l.return,T)}}c&64&&_x(l),c&512&&Au(l,l.return);break;case 3:if(ea(r,l),c&64&&(r=l.updateQueue,r!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{ab(r,s)}catch(T){Vt(l,l.return,T)}}break;case 27:s===null&&c&4&&Ex(l);case 26:case 5:ea(r,l),s===null&&c&4&&xx(l),c&512&&Au(l,l.return);break;case 12:ea(r,l);break;case 13:ea(r,l),c&4&&Rx(r,l),c&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=tN.bind(null,l),_N(r,l))));break;case 22:if(c=l.memoizedState!==null||ls,!c){s=s!==null&&s.memoizedState!==null||un,p=ls;var y=un;ls=c,(un=s)&&!y?ta(r,l,(l.subtreeFlags&8772)!==0):ea(r,l),ls=p,un=y}break;case 30:break;default:ea(r,l)}}function Ax(r){var s=r.alternate;s!==null&&(r.alternate=null,Ax(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Fs(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Gt=null,lr=!1;function cs(r,s,l){for(l=l.child;l!==null;)Cx(r,s,l),l=l.sibling}function Cx(r,s,l){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Je,l)}catch{}switch(l.tag){case 26:un||xi(l,s),cs(r,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:un||xi(l,s);var c=Gt,p=lr;oa(l.type)&&(Gt=l.stateNode,lr=!1),cs(r,s,l),Mu(l.stateNode),Gt=c,lr=p;break;case 5:un||xi(l,s);case 6:if(c=Gt,p=lr,Gt=null,cs(r,s,l),Gt=c,lr=p,Gt!==null)if(lr)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(l.stateNode)}catch(y){Vt(l,s,y)}else try{Gt.removeChild(l.stateNode)}catch(y){Vt(l,s,y)}break;case 18:Gt!==null&&(lr?(r=Gt,pw(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),Hu(r)):pw(Gt,l.stateNode));break;case 4:c=Gt,p=lr,Gt=l.stateNode.containerInfo,lr=!0,cs(r,s,l),Gt=c,lr=p;break;case 0:case 11:case 14:case 15:un||Js(2,l,s),un||Js(4,l,s),cs(r,s,l);break;case 1:un||(xi(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&bx(l,s,c)),cs(r,s,l);break;case 21:cs(r,s,l);break;case 22:un=(c=un)||l.memoizedState!==null,cs(r,s,l),un=c;break;default:cs(r,s,l)}}function Rx(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Hu(r)}catch(l){Vt(s,s.return,l)}}function YR(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new Tx),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new Tx),s;default:throw Error(i(435,r.tag))}}function Vg(r,s){var l=YR(r);s.forEach(function(c){var p=nN.bind(null,r,c);l.has(c)||(l.add(c),c.then(p,p))})}function gr(r,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],y=r,T=s,k=T;e:for(;k!==null;){switch(k.tag){case 27:if(oa(k.type)){Gt=k.stateNode,lr=!1;break e}break;case 5:Gt=k.stateNode,lr=!1;break e;case 3:case 4:Gt=k.stateNode.containerInfo,lr=!0;break e}k=k.return}if(Gt===null)throw Error(i(160));Cx(y,T,p),Gt=null,lr=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Nx(s,r),s=s.sibling}var $r=null;function Nx(r,s){var l=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:gr(s,r),yr(r),c&4&&(Js(3,r,r.return),Su(3,r),Js(5,r,r.return));break;case 1:gr(s,r),yr(r),c&512&&(un||l===null||xi(l,l.return)),c&64&&ls&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=$r;if(gr(s,r),yr(r),c&512&&(un||l===null||xi(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=r.memoizedState,l===null)if(c===null)if(r.stateNode===null){e:{c=r.type,l=r.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Qa]||y[xn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(c),p.head.insertBefore(y,p.querySelector("head > title"))),Vn(y,c,l),y[xn]=r,ln(y),c=y;break e;case"link":var T=Ew("link","href",p).get(c+(l.href||""));if(T){for(var k=0;k<T.length;k++)if(y=T[k],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(k,1);break t}}y=p.createElement(c),Vn(y,c,l),p.head.appendChild(y);break;case"meta":if(T=Ew("meta","content",p).get(c+(l.content||""))){for(k=0;k<T.length;k++)if(y=T[k],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(k,1);break t}}y=p.createElement(c),Vn(y,c,l),p.head.appendChild(y);break;default:throw Error(i(468,c))}y[xn]=r,ln(y),c=y}r.stateNode=c}else Tw(p,r.type,r.stateNode);else r.stateNode=ww(p,c,r.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?Tw(p,r.type,r.stateNode):ww(p,c,r.memoizedProps)):c===null&&r.stateNode!==null&&jg(r,r.memoizedProps,l.memoizedProps)}break;case 27:gr(s,r),yr(r),c&512&&(un||l===null||xi(l,l.return)),l!==null&&c&4&&jg(r,r.memoizedProps,l.memoizedProps);break;case 5:if(gr(s,r),yr(r),c&512&&(un||l===null||xi(l,l.return)),r.flags&32){p=r.stateNode;try{Cr(p,"")}catch(re){Vt(r,r.return,re)}}c&4&&r.stateNode!=null&&(p=r.memoizedProps,jg(r,p,l!==null?l.memoizedProps:p)),c&1024&&(Lg=!0);break;case 6:if(gr(s,r),yr(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,l=r.stateNode;try{l.nodeValue=c}catch(re){Vt(r,r.return,re)}}break;case 3:if(vh=null,p=$r,$r=gh(s.containerInfo),gr(s,r),$r=p,yr(r),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Hu(s.containerInfo)}catch(re){Vt(r,r.return,re)}Lg&&(Lg=!1,Ix(r));break;case 4:c=$r,$r=gh(r.stateNode.containerInfo),gr(s,r),yr(r),$r=c;break;case 12:gr(s,r),yr(r);break;case 13:gr(s,r),yr(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(qg=Ae()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Vg(r,c)));break;case 22:p=r.memoizedState!==null;var F=l!==null&&l.memoizedState!==null,ee=ls,le=un;if(ls=ee||p,un=le||F,gr(s,r),un=le,ls=ee,yr(r),c&8192)e:for(s=r.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(l===null||F||ls||un||Eo(r)),l=null,s=r;;){if(s.tag===5||s.tag===26){if(l===null){F=l=s;try{if(y=F.stateNode,p)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{k=F.stateNode;var de=F.memoizedProps.style,ne=de!=null&&de.hasOwnProperty("display")?de.display:null;k.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(re){Vt(F,F.return,re)}}}else if(s.tag===6){if(l===null){F=s;try{F.stateNode.nodeValue=p?"":F.memoizedProps}catch(re){Vt(F,F.return,re)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Vg(r,l))));break;case 19:gr(s,r),yr(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Vg(r,c)));break;case 30:break;case 21:break;default:gr(s,r),yr(r)}}function yr(r){var s=r.flags;if(s&2){try{for(var l,c=r.return;c!==null;){if(wx(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,y=Mg(r);rh(r,y,p);break;case 5:var T=l.stateNode;l.flags&32&&(Cr(T,""),l.flags&=-33);var k=Mg(r);rh(r,k,T);break;case 3:case 4:var F=l.stateNode.containerInfo,ee=Mg(r);Pg(r,ee,F);break;default:throw Error(i(161))}}catch(le){Vt(r,r.return,le)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Ix(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Ix(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function ea(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Sx(r,s.alternate,s),s=s.sibling}function Eo(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Js(4,s,s.return),Eo(s);break;case 1:xi(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&bx(s,s.return,l),Eo(s);break;case 27:Mu(s.stateNode);case 26:case 5:xi(s,s.return),Eo(s);break;case 22:s.memoizedState===null&&Eo(s);break;case 30:Eo(s);break;default:Eo(s)}r=r.sibling}}function ta(r,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,p=r,y=s,T=y.flags;switch(y.tag){case 0:case 11:case 15:ta(p,y,l),Su(4,y);break;case 1:if(ta(p,y,l),c=y,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(ee){Vt(c,c.return,ee)}if(c=y,p=c.updateQueue,p!==null){var k=c.stateNode;try{var F=p.shared.hiddenCallbacks;if(F!==null)for(p.shared.hiddenCallbacks=null,p=0;p<F.length;p++)sb(F[p],k)}catch(ee){Vt(c,c.return,ee)}}l&&T&64&&_x(y),Au(y,y.return);break;case 27:Ex(y);case 26:case 5:ta(p,y,l),l&&c===null&&T&4&&xx(y),Au(y,y.return);break;case 12:ta(p,y,l);break;case 13:ta(p,y,l),l&&T&4&&Rx(p,y);break;case 22:y.memoizedState===null&&ta(p,y,l),Au(y,y.return);break;case 30:break;default:ta(p,y,l)}s=s.sibling}}function Ug(r,s){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&du(l))}function Bg(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&du(r))}function wi(r,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)kx(r,s,l,c),s=s.sibling}function kx(r,s,l,c){var p=s.flags;switch(s.tag){case 0:case 11:case 15:wi(r,s,l,c),p&2048&&Su(9,s);break;case 1:wi(r,s,l,c);break;case 3:wi(r,s,l,c),p&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&du(r)));break;case 12:if(p&2048){wi(r,s,l,c),r=s.stateNode;try{var y=s.memoizedProps,T=y.id,k=y.onPostCommit;typeof k=="function"&&k(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(F){Vt(s,s.return,F)}}else wi(r,s,l,c);break;case 13:wi(r,s,l,c);break;case 23:break;case 22:y=s.stateNode,T=s.alternate,s.memoizedState!==null?y._visibility&2?wi(r,s,l,c):Cu(r,s):y._visibility&2?wi(r,s,l,c):(y._visibility|=2,Sl(r,s,l,c,(s.subtreeFlags&10256)!==0)),p&2048&&Ug(T,s);break;case 24:wi(r,s,l,c),p&2048&&Bg(s.alternate,s);break;default:wi(r,s,l,c)}}function Sl(r,s,l,c,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=r,T=s,k=l,F=c,ee=T.flags;switch(T.tag){case 0:case 11:case 15:Sl(y,T,k,F,p),Su(8,T);break;case 23:break;case 22:var le=T.stateNode;T.memoizedState!==null?le._visibility&2?Sl(y,T,k,F,p):Cu(y,T):(le._visibility|=2,Sl(y,T,k,F,p)),p&&ee&2048&&Ug(T.alternate,T);break;case 24:Sl(y,T,k,F,p),p&&ee&2048&&Bg(T.alternate,T);break;default:Sl(y,T,k,F,p)}s=s.sibling}}function Cu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=r,c=s,p=c.flags;switch(c.tag){case 22:Cu(l,c),p&2048&&Ug(c.alternate,c);break;case 24:Cu(l,c),p&2048&&Bg(c.alternate,c);break;default:Cu(l,c)}s=s.sibling}}var Ru=8192;function Al(r){if(r.subtreeFlags&Ru)for(r=r.child;r!==null;)Dx(r),r=r.sibling}function Dx(r){switch(r.tag){case 26:Al(r),r.flags&Ru&&r.memoizedState!==null&&DN($r,r.memoizedState,r.memoizedProps);break;case 5:Al(r);break;case 3:case 4:var s=$r;$r=gh(r.stateNode.containerInfo),Al(r),$r=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Ru,Ru=16777216,Al(r),Ru=s):Al(r));break;default:Al(r)}}function Ox(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Nu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];kn=c,Mx(c,r)}Ox(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)jx(r),r=r.sibling}function jx(r){switch(r.tag){case 0:case 11:case 15:Nu(r),r.flags&2048&&Js(9,r,r.return);break;case 3:Nu(r);break;case 12:Nu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,ih(r)):Nu(r);break;default:Nu(r)}}function ih(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];kn=c,Mx(c,r)}Ox(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Js(8,s,s.return),ih(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,ih(s));break;default:ih(s)}r=r.sibling}}function Mx(r,s){for(;kn!==null;){var l=kn;switch(l.tag){case 0:case 11:case 15:Js(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:du(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,kn=c;else e:for(l=r;kn!==null;){c=kn;var p=c.sibling,y=c.return;if(Ax(c),c===l){kn=null;break e}if(p!==null){p.return=y,kn=p;break e}kn=y}}}var KR={getCacheForType:function(r){var s=Hn(Tn),l=s.data.get(r);return l===void 0&&(l=r(),s.data.set(r,l)),l}},ZR=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Bt=null,dt=null,vt=0,Nt=0,vr=null,na=!1,Cl=!1,zg=!1,us=0,sn=0,ra=0,To=0,Fg=0,Pr=0,Rl=0,Iu=null,cr=null,Hg=!1,qg=0,sh=1/0,ah=null,ia=null,Ln=0,sa=null,Nl=null,Il=0,$g=0,Gg=null,Px=null,ku=0,Yg=null;function _r(){if((Rt&2)!==0&&vt!==0)return vt&-vt;if(q.T!==null){var r=yl;return r!==0?r:ey()}return Bs()}function Lx(){Pr===0&&(Pr=(vt&536870912)===0||St?Bc():536870912);var r=Mr.current;return r!==null&&(r.flags|=32),Pr}function br(r,s,l){(r===Bt&&(Nt===2||Nt===9)||r.cancelPendingCommit!==null)&&(kl(r,0),aa(r,vt,Pr,!1)),Fi(r,l),((Rt&2)===0||r!==Bt)&&(r===Bt&&((Rt&2)===0&&(To|=l),sn===4&&aa(r,vt,Pr,!1)),Ei(r))}function Vx(r,s,l){if((Rt&6)!==0)throw Error(i(327));var c=!l&&(s&124)===0&&(s&r.expiredLanes)===0||Za(r,s),p=c?XR(r,s):Qg(r,s,!0),y=c;do{if(p===0){Cl&&!c&&aa(r,s,0,!1);break}else{if(l=r.current.alternate,y&&!QR(l)){p=Qg(r,s,!1),y=!1;continue}if(p===2){if(y=s,r.errorRecoveryDisabledLanes&y)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var k=r;p=Iu;var F=k.current.memoizedState.isDehydrated;if(F&&(kl(k,T).flags|=256),T=Qg(k,T,!1),T!==2){if(zg&&!F){k.errorRecoveryDisabledLanes|=y,To|=y,p=4;break e}y=cr,cr=p,y!==null&&(cr===null?cr=y:cr.push.apply(cr,y))}p=T}if(y=!1,p!==2)continue}}if(p===1){kl(r,0),aa(r,s,0,!0);break}e:{switch(c=r,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:aa(c,s,Pr,!na);break e;case 2:cr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(p=qg+300-Ae(),10<p)){if(aa(c,s,Pr,!na),Ko(c,0,!0)!==0)break e;c.timeoutHandle=hw(Ux.bind(null,c,l,cr,ah,Hg,s,Pr,To,Rl,na,y,2,-0,0),p);break e}Ux(c,l,cr,ah,Hg,s,Pr,To,Rl,na,y,0,-0,0)}}break}while(!0);Ei(r)}function Ux(r,s,l,c,p,y,T,k,F,ee,le,de,ne,re){if(r.timeoutHandle=-1,de=s.subtreeFlags,(de&8192||(de&16785408)===16785408)&&(Vu={stylesheets:null,count:0,unsuspend:kN},Dx(s),de=ON(),de!==null)){r.cancelPendingCommit=de(Gx.bind(null,r,s,y,l,c,p,T,k,F,le,1,ne,re)),aa(r,y,T,!ee);return}Gx(r,s,y,l,c,p,T,k,F)}function QR(r){for(var s=r;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],y=p.getSnapshot;p=p.value;try{if(!mr(y(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function aa(r,s,l,c){s&=~Fg,s&=~To,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var p=s;0<p;){var y=31-qt(p),T=1<<y;c[y]=-1,p&=~T}l!==0&&li(r,l,s)}function oh(){return(Rt&6)===0?(Du(0),!1):!0}function Kg(){if(dt!==null){if(Nt===0)var r=dt.return;else r=dt,ns=vo=null,dg(r),El=null,wu=0,r=dt;for(;r!==null;)vx(r.alternate,r),r=r.return;dt=null}}function kl(r,s){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,mN(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Kg(),Bt=r,dt=l=Ji(r.current,null),vt=s,Nt=0,vr=null,na=!1,Cl=Za(r,s),zg=!1,Rl=Pr=Fg=To=ra=sn=0,cr=Iu=null,Hg=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var p=31-qt(c),y=1<<p;s|=r[p],c&=~y}return us=s,Nf(),l}function Bx(r,s){st=null,q.H=Kf,s===hu||s===Vf?(s=rb(),Nt=3):s===eb?(s=rb(),Nt=4):Nt=s===ix?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,vr=s,dt===null&&(sn=1,Jf(r,kr(s,r.current)))}function zx(){var r=q.H;return q.H=Kf,r===null?Kf:r}function Fx(){var r=q.A;return q.A=KR,r}function Zg(){sn=4,na||(vt&4194048)!==vt&&Mr.current!==null||(Cl=!0),(ra&134217727)===0&&(To&134217727)===0||Bt===null||aa(Bt,vt,Pr,!1)}function Qg(r,s,l){var c=Rt;Rt|=2;var p=zx(),y=Fx();(Bt!==r||vt!==s)&&(ah=null,kl(r,s)),s=!1;var T=sn;e:do try{if(Nt!==0&&dt!==null){var k=dt,F=vr;switch(Nt){case 8:Kg(),T=6;break e;case 3:case 2:case 9:case 6:Mr.current===null&&(s=!0);var ee=Nt;if(Nt=0,vr=null,Dl(r,k,F,ee),l&&Cl){T=0;break e}break;default:ee=Nt,Nt=0,vr=null,Dl(r,k,F,ee)}}WR(),T=sn;break}catch(le){Bx(r,le)}while(!0);return s&&r.shellSuspendCounter++,ns=vo=null,Rt=c,q.H=p,q.A=y,dt===null&&(Bt=null,vt=0,Nf()),T}function WR(){for(;dt!==null;)Hx(dt)}function XR(r,s){var l=Rt;Rt|=2;var c=zx(),p=Fx();Bt!==r||vt!==s?(ah=null,sh=Ae()+500,kl(r,s)):Cl=Za(r,s);e:do try{if(Nt!==0&&dt!==null){s=dt;var y=vr;t:switch(Nt){case 1:Nt=0,vr=null,Dl(r,s,y,1);break;case 2:case 9:if(tb(y)){Nt=0,vr=null,qx(s);break}s=function(){Nt!==2&&Nt!==9||Bt!==r||(Nt=7),Ei(r)},y.then(s,s);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:tb(y)?(Nt=0,vr=null,qx(s)):(Nt=0,vr=null,Dl(r,s,y,7));break;case 5:var T=null;switch(dt.tag){case 26:T=dt.memoizedState;case 5:case 27:var k=dt;if(!T||Sw(T)){Nt=0,vr=null;var F=k.sibling;if(F!==null)dt=F;else{var ee=k.return;ee!==null?(dt=ee,lh(ee)):dt=null}break t}}Nt=0,vr=null,Dl(r,s,y,5);break;case 6:Nt=0,vr=null,Dl(r,s,y,6);break;case 8:Kg(),sn=6;break e;default:throw Error(i(462))}}JR();break}catch(le){Bx(r,le)}while(!0);return ns=vo=null,q.H=c,q.A=p,Rt=l,dt!==null?0:(Bt=null,vt=0,Nf(),sn)}function JR(){for(;dt!==null&&!_e();)Hx(dt)}function Hx(r){var s=gx(r.alternate,r,us);r.memoizedProps=r.pendingProps,s===null?lh(r):dt=s}function qx(r){var s=r,l=s.alternate;switch(s.tag){case 15:case 0:s=ux(l,s,s.pendingProps,s.type,void 0,vt);break;case 11:s=ux(l,s,s.pendingProps,s.type.render,s.ref,vt);break;case 5:dg(s);default:vx(l,s),s=dt=$_(s,us),s=gx(l,s,us)}r.memoizedProps=r.pendingProps,s===null?lh(r):dt=s}function Dl(r,s,l,c){ns=vo=null,dg(s),El=null,wu=0;var p=s.return;try{if(FR(r,p,s,l,vt)){sn=1,Jf(r,kr(l,r.current)),dt=null;return}}catch(y){if(p!==null)throw dt=p,y;sn=1,Jf(r,kr(l,r.current)),dt=null;return}s.flags&32768?(St||c===1?r=!0:Cl||(vt&536870912)!==0?r=!1:(na=r=!0,(c===2||c===9||c===3||c===6)&&(c=Mr.current,c!==null&&c.tag===13&&(c.flags|=16384))),$x(s,r)):lh(s)}function lh(r){var s=r;do{if((s.flags&32768)!==0){$x(s,na);return}r=s.return;var l=qR(s.alternate,s,us);if(l!==null){dt=l;return}if(s=s.sibling,s!==null){dt=s;return}dt=s=r}while(s!==null);sn===0&&(sn=5)}function $x(r,s){do{var l=$R(r.alternate,r);if(l!==null){l.flags&=32767,dt=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(r=r.sibling,r!==null)){dt=r;return}dt=r=l}while(r!==null);sn=6,dt=null}function Gx(r,s,l,c,p,y,T,k,F){r.cancelPendingCommit=null;do ch();while(Ln!==0);if((Rt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=Bp,Fc(r,l,y,T,k,F),r===Bt&&(dt=Bt=null,vt=0),Nl=s,sa=r,Il=l,$g=y,Gg=p,Px=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,rN(Ge,function(){return Wx(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=q.T,q.T=null,p=te.p,te.p=2,T=Rt,Rt|=4;try{GR(r,s,l)}finally{Rt=T,te.p=p,q.T=c}}Ln=1,Yx(),Kx(),Zx()}}function Yx(){if(Ln===1){Ln=0;var r=sa,s=Nl,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=q.T,q.T=null;var c=te.p;te.p=2;var p=Rt;Rt|=4;try{Nx(s,r);var y=ly,T=M_(r.containerInfo),k=y.focusedElem,F=y.selectionRange;if(T!==k&&k&&k.ownerDocument&&j_(k.ownerDocument.documentElement,k)){if(F!==null&&Mp(k)){var ee=F.start,le=F.end;if(le===void 0&&(le=ee),"selectionStart"in k)k.selectionStart=ee,k.selectionEnd=Math.min(le,k.value.length);else{var de=k.ownerDocument||document,ne=de&&de.defaultView||window;if(ne.getSelection){var re=ne.getSelection(),Ye=k.textContent.length,Be=Math.min(F.start,Ye),Pt=F.end===void 0?Be:Math.min(F.end,Ye);!re.extend&&Be>Pt&&(T=Pt,Pt=Be,Be=T);var Q=O_(k,Be),Y=O_(k,Pt);if(Q&&Y&&(re.rangeCount!==1||re.anchorNode!==Q.node||re.anchorOffset!==Q.offset||re.focusNode!==Y.node||re.focusOffset!==Y.offset)){var J=de.createRange();J.setStart(Q.node,Q.offset),re.removeAllRanges(),Be>Pt?(re.addRange(J),re.extend(Y.node,Y.offset)):(J.setEnd(Y.node,Y.offset),re.addRange(J))}}}}for(de=[],re=k;re=re.parentNode;)re.nodeType===1&&de.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<de.length;k++){var ce=de[k];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}xh=!!oy,ly=oy=null}finally{Rt=p,te.p=c,q.T=l}}r.current=s,Ln=2}}function Kx(){if(Ln===2){Ln=0;var r=sa,s=Nl,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=q.T,q.T=null;var c=te.p;te.p=2;var p=Rt;Rt|=4;try{Sx(r,s.alternate,s)}finally{Rt=p,te.p=c,q.T=l}}Ln=3}}function Zx(){if(Ln===4||Ln===3){Ln=0,pe();var r=sa,s=Nl,l=Il,c=Px;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ln=5:(Ln=0,Nl=sa=null,Qx(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(ia=null),Zo(l),s=s.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Je,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=q.T,p=te.p,te.p=2,q.T=null;try{for(var y=r.onRecoverableError,T=0;T<c.length;T++){var k=c[T];y(k.value,{componentStack:k.stack})}}finally{q.T=s,te.p=p}}(Il&3)!==0&&ch(),Ei(r),p=r.pendingLanes,(l&4194090)!==0&&(p&42)!==0?r===Yg?ku++:(ku=0,Yg=r):ku=0,Du(0)}}function Qx(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,du(s)))}function ch(r){return Yx(),Kx(),Zx(),Wx()}function Wx(){if(Ln!==5)return!1;var r=sa,s=$g;$g=0;var l=Zo(Il),c=q.T,p=te.p;try{te.p=32>l?32:l,q.T=null,l=Gg,Gg=null;var y=sa,T=Il;if(Ln=0,Nl=sa=null,Il=0,(Rt&6)!==0)throw Error(i(331));var k=Rt;if(Rt|=4,jx(y.current),kx(y,y.current,T,l),Rt=k,Du(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Je,y)}catch{}return!0}finally{te.p=p,q.T=c,Qx(r,s)}}function Xx(r,s,l){s=kr(l,s),s=Sg(r.stateNode,s,2),r=Zs(r,s,2),r!==null&&(Fi(r,2),Ei(r))}function Vt(r,s,l){if(r.tag===3)Xx(r,r,l);else for(;s!==null;){if(s.tag===3){Xx(s,r,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ia===null||!ia.has(c))){r=kr(l,r),l=nx(2),c=Zs(s,l,2),c!==null&&(rx(l,c,s,r),Fi(c,2),Ei(c));break}}s=s.return}}function Wg(r,s,l){var c=r.pingCache;if(c===null){c=r.pingCache=new ZR;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(l)||(zg=!0,p.add(l),r=eN.bind(null,r,s,l),s.then(r,r))}function eN(r,s,l){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,Bt===r&&(vt&l)===l&&(sn===4||sn===3&&(vt&62914560)===vt&&300>Ae()-qg?(Rt&2)===0&&kl(r,0):Fg|=l,Rl===vt&&(Rl=0)),Ei(r)}function Jx(r,s){s===0&&(s=zc()),r=hl(r,s),r!==null&&(Fi(r,s),Ei(r))}function tN(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),Jx(r,l)}function nN(r,s){var l=0;switch(r.tag){case 13:var c=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),Jx(r,l)}function rN(r,s){return Z(r,s)}var uh=null,Ol=null,Xg=!1,dh=!1,Jg=!1,So=0;function Ei(r){r!==Ol&&r.next===null&&(Ol===null?uh=Ol=r:Ol=Ol.next=r),dh=!0,Xg||(Xg=!0,sN())}function Du(r,s){if(!Jg&&dh){Jg=!0;do for(var l=!1,c=uh;c!==null;){if(r!==0){var p=c.pendingLanes;if(p===0)var y=0;else{var T=c.suspendedLanes,k=c.pingedLanes;y=(1<<31-qt(42|r)+1)-1,y&=p&~(T&~k),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,rw(c,y))}else y=vt,y=Ko(c,c===Bt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Za(c,y)||(l=!0,rw(c,y));c=c.next}while(l);Jg=!1}}function iN(){ew()}function ew(){dh=Xg=!1;var r=0;So!==0&&(hN()&&(r=So),So=0);for(var s=Ae(),l=null,c=uh;c!==null;){var p=c.next,y=tw(c,s);y===0?(c.next=null,l===null?uh=p:l.next=p,p===null&&(Ol=l)):(l=c,(r!==0||(y&3)!==0)&&(dh=!0)),c=p}Du(r)}function tw(r,s){for(var l=r.suspendedLanes,c=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var T=31-qt(y),k=1<<T,F=p[T];F===-1?((k&l)===0||(k&c)!==0)&&(p[T]=Uc(k,s)):F<=s&&(r.expiredLanes|=k),y&=~k}if(s=Bt,l=vt,l=Ko(r,r===s?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,l===0||r===s&&(Nt===2||Nt===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&he(c),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||Za(r,l)){if(s=l&-l,s===r.callbackPriority)return s;switch(c!==null&&he(c),Zo(l)){case 2:case 8:l=Oe;break;case 32:l=Ge;break;case 268435456:l=Kt;break;default:l=Ge}return c=nw.bind(null,r),l=Z(l,c),r.callbackPriority=s,r.callbackNode=l,s}return c!==null&&c!==null&&he(c),r.callbackPriority=2,r.callbackNode=null,2}function nw(r,s){if(Ln!==0&&Ln!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(ch()&&r.callbackNode!==l)return null;var c=vt;return c=Ko(r,r===Bt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(Vx(r,c,s),tw(r,Ae()),r.callbackNode!=null&&r.callbackNode===l?nw.bind(null,r):null)}function rw(r,s){if(ch())return null;Vx(r,s,!0)}function sN(){pN(function(){(Rt&6)!==0?Z(We,iN):ew()})}function ey(){return So===0&&(So=Bc()),So}function iw(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:tl(""+r)}function sw(r,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,r.id&&l.setAttribute("form",r.id),s.parentNode.insertBefore(l,s),r=new FormData(r),l.parentNode.removeChild(l),r}function aN(r,s,l,c,p){if(s==="submit"&&l&&l.stateNode===p){var y=iw((p[hn]||null).action),T=c.submitter;T&&(s=(s=T[hn]||null)?iw(s.formAction):T.getAttribute("formAction"),s!==null&&(y=s,T=null));var k=new nl("action","action",null,c,p);r.push({event:k,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(So!==0){var F=T?sw(p,T):new FormData(p);bg(l,{pending:!0,data:F,method:p.method,action:y},null,F)}}else typeof y=="function"&&(k.preventDefault(),F=T?sw(p,T):new FormData(p),bg(l,{pending:!0,data:F,method:p.method,action:y},y,F))},currentTarget:p}]})}}for(var ty=0;ty<Up.length;ty++){var ny=Up[ty],oN=ny.toLowerCase(),lN=ny[0].toUpperCase()+ny.slice(1);qr(oN,"on"+lN)}qr(V_,"onAnimationEnd"),qr(U_,"onAnimationIteration"),qr(B_,"onAnimationStart"),qr("dblclick","onDoubleClick"),qr("focusin","onFocus"),qr("focusout","onBlur"),qr(SR,"onTransitionRun"),qr(AR,"onTransitionStart"),qr(CR,"onTransitionCancel"),qr(z_,"onTransitionEnd"),qi("onMouseEnter",["mouseout","mouseover"]),qi("onMouseLeave",["mouseout","mouseover"]),qi("onPointerEnter",["pointerout","pointerover"]),qi("onPointerLeave",["pointerout","pointerover"]),Fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function aw(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var c=r[l],p=c.event;c=c.listeners;e:{var y=void 0;if(s)for(var T=c.length-1;0<=T;T--){var k=c[T],F=k.instance,ee=k.currentTarget;if(k=k.listener,F!==y&&p.isPropagationStopped())break e;y=k,p.currentTarget=ee;try{y(p)}catch(le){Xf(le)}p.currentTarget=null,y=F}else for(T=0;T<c.length;T++){if(k=c[T],F=k.instance,ee=k.currentTarget,k=k.listener,F!==y&&p.isPropagationStopped())break e;y=k,p.currentTarget=ee;try{y(p)}catch(le){Xf(le)}p.currentTarget=null,y=F}}}}function ft(r,s){var l=s[qc];l===void 0&&(l=s[qc]=new Set);var c=r+"__bubble";l.has(c)||(ow(s,r,2,!1),l.add(c))}function ry(r,s,l){var c=0;s&&(c|=4),ow(l,r,c,s)}var fh="_reactListening"+Math.random().toString(36).slice(2);function iy(r){if(!r[fh]){r[fh]=!0,$c.forEach(function(l){l!=="selectionchange"&&(cN.has(l)||ry(l,!1,r),ry(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[fh]||(s[fh]=!0,ry("selectionchange",!1,s))}}function ow(r,s,l,c){switch(kw(s)){case 2:var p=PN;break;case 8:p=LN;break;default:p=vy}l=p.bind(null,s,l,r),p=void 0,!Nr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function sy(r,s,l,c,p){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var k=c.stateNode.containerInfo;if(k===p)break;if(T===4)for(T=c.return;T!==null;){var F=T.tag;if((F===3||F===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;k!==null;){if(T=Hi(k),T===null)return;if(F=T.tag,F===5||F===6||F===26||F===27){c=y=T;continue e}k=k.parentNode}}c=c.return}mf(function(){var ee=y,le=Rr(l),de=[];e:{var ne=F_.get(r);if(ne!==void 0){var re=nl,Ye=r;switch(r){case"keypress":if(mi(l)===0)break e;case"keydown":case"keyup":re=ll;break;case"focusin":Ye="focus",re=sl;break;case"focusout":Ye="blur",re=sl;break;case"beforeblur":case"afterblur":re=sl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Ir;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=kp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=wf;break;case V_:case U_:case B_:re=al;break;case z_:re=Tf;break;case"scroll":case"scrollend":re=pf;break;case"wheel":re=cl;break;case"copy":case"cut":case"paste":re=ol;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=ru;break;case"toggle":case"beforetoggle":re=Af}var Be=(s&4)!==0,Pt=!Be&&(r==="scroll"||r==="scrollend"),Q=Be?ne!==null?ne+"Capture":null:ne;Be=[];for(var Y=ee,J;Y!==null;){var ce=Y;if(J=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||J===null||Q===null||(ce=ro(Y,Q),ce!=null&&Be.push(ju(Y,ce,J))),Pt)break;Y=Y.return}0<Be.length&&(ne=new re(ne,Ye,null,l,le),de.push({event:ne,listeners:Be}))}}if((s&7)===0){e:{if(ne=r==="mouseover"||r==="pointerover",re=r==="mouseout"||r==="pointerout",ne&&l!==Yi&&(Ye=l.relatedTarget||l.fromElement)&&(Hi(Ye)||Ye[Ar]))break e;if((re||ne)&&(ne=le.window===le?le:(ne=le.ownerDocument)?ne.defaultView||ne.parentWindow:window,re?(Ye=l.relatedTarget||l.toElement,re=ee,Ye=Ye?Hi(Ye):null,Ye!==null&&(Pt=o(Ye),Be=Ye.tag,Ye!==Pt||Be!==5&&Be!==27&&Be!==6)&&(Ye=null)):(re=null,Ye=ee),re!==Ye)){if(Be=Ir,ce="onMouseLeave",Q="onMouseEnter",Y="mouse",(r==="pointerout"||r==="pointerover")&&(Be=ru,ce="onPointerLeave",Q="onPointerEnter",Y="pointer"),Pt=re==null?ne:ui(re),J=Ye==null?ne:ui(Ye),ne=new Be(ce,Y+"leave",re,l,le),ne.target=Pt,ne.relatedTarget=J,ce=null,Hi(le)===ee&&(Be=new Be(Q,Y+"enter",Ye,l,le),Be.target=J,Be.relatedTarget=Pt,ce=Be),Pt=ce,re&&Ye)t:{for(Be=re,Q=Ye,Y=0,J=Be;J;J=jl(J))Y++;for(J=0,ce=Q;ce;ce=jl(ce))J++;for(;0<Y-J;)Be=jl(Be),Y--;for(;0<J-Y;)Q=jl(Q),J--;for(;Y--;){if(Be===Q||Q!==null&&Be===Q.alternate)break t;Be=jl(Be),Q=jl(Q)}Be=null}else Be=null;re!==null&&lw(de,ne,re,Be,!1),Ye!==null&&Pt!==null&&lw(de,Pt,Ye,Be,!0)}}e:{if(ne=ee?ui(ee):window,re=ne.nodeName&&ne.nodeName.toLowerCase(),re==="select"||re==="input"&&ne.type==="file")var Re=C_;else if(En(ne))if(R_)Re=wR;else{Re=bR;var ct=_R}else re=ne.nodeName,!re||re.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&Qc(ee.elementType)&&(Re=C_):Re=xR;if(Re&&(Re=Re(r,ee))){Xi(de,Re,l,le);break e}ct&&ct(r,ne,ee),r==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&qs(ne,"number",ne.value)}switch(ct=ee?ui(ee):window,r){case"focusin":(En(ct)||ct.contentEditable==="true")&&(ul=ct,Pp=ee,au=null);break;case"focusout":au=Pp=ul=null;break;case"mousedown":Lp=!0;break;case"contextmenu":case"mouseup":case"dragend":Lp=!1,P_(de,l,le);break;case"selectionchange":if(TR)break;case"keydown":case"keyup":P_(de,l,le)}var Me;if(yi)e:{switch(r){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else gt?se(r,l)&&(Fe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Fe="onCompositionStart");Fe&&(E&&l.locale!=="ko"&&(gt||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&gt&&(Me=Xc()):(hi=le,$s="value"in hi?hi.value:hi.textContent,gt=!0)),ct=hh(ee,Fe),0<ct.length&&(Fe=new tu(Fe,r,null,l,le),de.push({event:Fe,listeners:ct}),Me?Fe.data=Me:(Me=xe(l),Me!==null&&(Fe.data=Me)))),(Me=x?wn(r,l):yt(r,l))&&(Fe=hh(ee,"onBeforeInput"),0<Fe.length&&(ct=new tu("onBeforeInput","beforeinput",null,l,le),de.push({event:ct,listeners:Fe}),ct.data=Me)),aN(de,r,ee,l,le)}aw(de,s)})}function ju(r,s,l){return{instance:r,listener:s,currentTarget:l}}function hh(r,s){for(var l=s+"Capture",c=[];r!==null;){var p=r,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=ro(r,l),p!=null&&c.unshift(ju(r,p,y)),p=ro(r,s),p!=null&&c.push(ju(r,p,y))),r.tag===3)return c;r=r.return}return[]}function jl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function lw(r,s,l,c,p){for(var y=s._reactName,T=[];l!==null&&l!==c;){var k=l,F=k.alternate,ee=k.stateNode;if(k=k.tag,F!==null&&F===c)break;k!==5&&k!==26&&k!==27||ee===null||(F=ee,p?(ee=ro(l,y),ee!=null&&T.unshift(ju(l,ee,F))):p||(ee=ro(l,y),ee!=null&&T.push(ju(l,ee,F)))),l=l.return}T.length!==0&&r.push({event:s,listeners:T})}var uN=/\r\n?/g,dN=/\u0000|\uFFFD/g;function cw(r){return(typeof r=="string"?r:""+r).replace(uN,`
`).replace(dN,"")}function uw(r,s){return s=cw(s),cw(r)===s}function mh(){}function Mt(r,s,l,c,p,y){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Cr(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Cr(r,""+c);break;case"className":di(r,"class",c);break;case"tabIndex":di(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":di(r,l,c);break;case"style":Zc(r,c,y);break;case"data":if(s!=="object"){di(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){r.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=tl(""+c),r.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(s!=="input"&&Mt(r,s,"name",p.name,p,null),Mt(r,s,"formEncType",p.formEncType,p,null),Mt(r,s,"formMethod",p.formMethod,p,null),Mt(r,s,"formTarget",p.formTarget,p,null)):(Mt(r,s,"encType",p.encType,p,null),Mt(r,s,"method",p.method,p,null),Mt(r,s,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=tl(""+c),r.setAttribute(l,c);break;case"onClick":c!=null&&(r.onclick=mh);break;case"onScroll":c!=null&&ft("scroll",r);break;case"onScrollEnd":c!=null&&ft("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}l=tl(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""+c):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":c===!0?r.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,c):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(l,c):r.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(l):r.setAttribute(l,c);break;case"popover":ft("beforetoggle",r),ft("toggle",r),Hs(r,"popover",c);break;case"xlinkActuate":jn(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":jn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":jn(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":jn(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":jn(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":jn(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":jn(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":jn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":jn(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Hs(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Np.get(l)||l,Hs(r,l,c))}}function ay(r,s,l,c,p,y){switch(l){case"style":Zc(r,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof c=="string"?Cr(r,c):(typeof c=="number"||typeof c=="bigint")&&Cr(r,""+c);break;case"onScroll":c!=null&&ft("scroll",r);break;case"onScrollEnd":c!=null&&ft("scrollend",r);break;case"onClick":c!=null&&(r.onclick=mh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qo.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),y=r[hn]||null,y=y!=null?y[l]:null,typeof y=="function"&&r.removeEventListener(s,y,p),typeof c=="function")){typeof y!="function"&&y!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(s,c,p);break e}l in r?r[l]=c:c===!0?r.setAttribute(l,""):Hs(r,l,c)}}}function Vn(r,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",r),ft("load",r);var c=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var T=l[y];if(T!=null)switch(y){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Mt(r,s,y,T,l,null)}}p&&Mt(r,s,"srcSet",l.srcSet,l,null),c&&Mt(r,s,"src",l.src,l,null);return;case"input":ft("invalid",r);var k=y=T=p=null,F=null,ee=null;for(c in l)if(l.hasOwnProperty(c)){var le=l[c];if(le!=null)switch(c){case"name":p=le;break;case"type":T=le;break;case"checked":F=le;break;case"defaultChecked":ee=le;break;case"value":y=le;break;case"defaultValue":k=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,s));break;default:Mt(r,s,c,le,l,null)}}eo(r,y,k,F,ee,T,p,!1),el(r);return;case"select":ft("invalid",r),c=T=y=null;for(p in l)if(l.hasOwnProperty(p)&&(k=l[p],k!=null))switch(p){case"value":y=k;break;case"defaultValue":T=k;break;case"multiple":c=k;default:Mt(r,s,p,k,l,null)}s=y,l=T,r.multiple=!!c,s!=null?Gi(r,!!c,s,!1):l!=null&&Gi(r,!!c,l,!0);return;case"textarea":ft("invalid",r),y=p=c=null;for(T in l)if(l.hasOwnProperty(T)&&(k=l[T],k!=null))switch(T){case"value":c=k;break;case"defaultValue":p=k;break;case"children":y=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:Mt(r,s,T,k,l,null)}to(r,c,p,y),el(r);return;case"option":for(F in l)if(l.hasOwnProperty(F)&&(c=l[F],c!=null))switch(F){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Mt(r,s,F,c,l,null)}return;case"dialog":ft("beforetoggle",r),ft("toggle",r),ft("cancel",r),ft("close",r);break;case"iframe":case"object":ft("load",r);break;case"video":case"audio":for(c=0;c<Ou.length;c++)ft(Ou[c],r);break;case"image":ft("error",r),ft("load",r);break;case"details":ft("toggle",r);break;case"embed":case"source":case"link":ft("error",r),ft("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in l)if(l.hasOwnProperty(ee)&&(c=l[ee],c!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Mt(r,s,ee,c,l,null)}return;default:if(Qc(s)){for(le in l)l.hasOwnProperty(le)&&(c=l[le],c!==void 0&&ay(r,s,le,c,l,void 0));return}}for(k in l)l.hasOwnProperty(k)&&(c=l[k],c!=null&&Mt(r,s,k,c,l,null))}function fN(r,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,T=null,k=null,F=null,ee=null,le=null;for(re in l){var de=l[re];if(l.hasOwnProperty(re)&&de!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":F=de;default:c.hasOwnProperty(re)||Mt(r,s,re,null,c,de)}}for(var ne in c){var re=c[ne];if(de=l[ne],c.hasOwnProperty(ne)&&(re!=null||de!=null))switch(ne){case"type":y=re;break;case"name":p=re;break;case"checked":ee=re;break;case"defaultChecked":le=re;break;case"value":T=re;break;case"defaultValue":k=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,s));break;default:re!==de&&Mt(r,s,ne,re,c,de)}}hr(r,T,k,F,ee,le,y,p);return;case"select":re=T=k=ne=null;for(y in l)if(F=l[y],l.hasOwnProperty(y)&&F!=null)switch(y){case"value":break;case"multiple":re=F;default:c.hasOwnProperty(y)||Mt(r,s,y,null,c,F)}for(p in c)if(y=c[p],F=l[p],c.hasOwnProperty(p)&&(y!=null||F!=null))switch(p){case"value":ne=y;break;case"defaultValue":k=y;break;case"multiple":T=y;default:y!==F&&Mt(r,s,p,y,c,F)}s=k,l=T,c=re,ne!=null?Gi(r,!!l,ne,!1):!!c!=!!l&&(s!=null?Gi(r,!!l,s,!0):Gi(r,!!l,l?[]:"",!1));return;case"textarea":re=ne=null;for(k in l)if(p=l[k],l.hasOwnProperty(k)&&p!=null&&!c.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Mt(r,s,k,null,c,p)}for(T in c)if(p=c[T],y=l[T],c.hasOwnProperty(T)&&(p!=null||y!=null))switch(T){case"value":ne=p;break;case"defaultValue":re=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&Mt(r,s,T,p,c,y)}Ot(r,ne,re);return;case"option":for(var Ye in l)if(ne=l[Ye],l.hasOwnProperty(Ye)&&ne!=null&&!c.hasOwnProperty(Ye))switch(Ye){case"selected":r.selected=!1;break;default:Mt(r,s,Ye,null,c,ne)}for(F in c)if(ne=c[F],re=l[F],c.hasOwnProperty(F)&&ne!==re&&(ne!=null||re!=null))switch(F){case"selected":r.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:Mt(r,s,F,ne,c,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in l)ne=l[Be],l.hasOwnProperty(Be)&&ne!=null&&!c.hasOwnProperty(Be)&&Mt(r,s,Be,null,c,ne);for(ee in c)if(ne=c[ee],re=l[ee],c.hasOwnProperty(ee)&&ne!==re&&(ne!=null||re!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:Mt(r,s,ee,ne,c,re)}return;default:if(Qc(s)){for(var Pt in l)ne=l[Pt],l.hasOwnProperty(Pt)&&ne!==void 0&&!c.hasOwnProperty(Pt)&&ay(r,s,Pt,void 0,c,ne);for(le in c)ne=c[le],re=l[le],!c.hasOwnProperty(le)||ne===re||ne===void 0&&re===void 0||ay(r,s,le,ne,c,re);return}}for(var Q in l)ne=l[Q],l.hasOwnProperty(Q)&&ne!=null&&!c.hasOwnProperty(Q)&&Mt(r,s,Q,null,c,ne);for(de in c)ne=c[de],re=l[de],!c.hasOwnProperty(de)||ne===re||ne==null&&re==null||Mt(r,s,de,ne,c,re)}var oy=null,ly=null;function ph(r){return r.nodeType===9?r:r.ownerDocument}function dw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fw(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function cy(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var uy=null;function hN(){var r=window.event;return r&&r.type==="popstate"?r===uy?!1:(uy=r,!0):(uy=null,!1)}var hw=typeof setTimeout=="function"?setTimeout:void 0,mN=typeof clearTimeout=="function"?clearTimeout:void 0,mw=typeof Promise=="function"?Promise:void 0,pN=typeof queueMicrotask=="function"?queueMicrotask:typeof mw<"u"?function(r){return mw.resolve(null).then(r).catch(gN)}:hw;function gN(r){setTimeout(function(){throw r})}function oa(r){return r==="head"}function pw(r,s){var l=s,c=0,p=0;do{var y=l.nextSibling;if(r.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var T=r.ownerDocument;if(l&1&&Mu(T.documentElement),l&2&&Mu(T.body),l&4)for(l=T.head,Mu(l),T=l.firstChild;T;){var k=T.nextSibling,F=T.nodeName;T[Qa]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=k}}if(p===0){r.removeChild(y),Hu(s);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);Hu(s)}function dy(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":dy(l),Fs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function yN(r,s,l,c){for(;r.nodeType===1;){var p=l;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Qa])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Gr(r.nextSibling),r===null)break}return null}function vN(r,s,l){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Gr(r.nextSibling),r===null))return null;return r}function fy(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function _N(r,s){var l=r.ownerDocument;if(r.data!=="$?"||l.readyState==="complete")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function Gr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var hy=null;function gw(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}function yw(r,s,l){switch(s=ph(l),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Mu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Fs(r)}var Lr=new Map,vw=new Set;function gh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ds=te.d;te.d={f:bN,r:xN,D:wN,C:EN,L:TN,m:SN,X:CN,S:AN,M:RN};function bN(){var r=ds.f(),s=oh();return r||s}function xN(r){var s=ci(r);s!==null&&s.tag===5&&s.type==="form"?Vb(s):ds.r(r)}var Ml=typeof document>"u"?null:document;function _w(r,s,l){var c=Ml;if(c&&typeof s=="string"&&s){var p=mn(s);p='link[rel="'+r+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),vw.has(p)||(vw.add(p),r={rel:r,crossOrigin:l,href:s},c.querySelector(p)===null&&(s=c.createElement("link"),Vn(s,"link",r),ln(s),c.head.appendChild(s)))}}function wN(r){ds.D(r),_w("dns-prefetch",r,null)}function EN(r,s){ds.C(r,s),_w("preconnect",r,s)}function TN(r,s,l){ds.L(r,s,l);var c=Ml;if(c&&r&&s){var p='link[rel="preload"][as="'+mn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+mn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+mn(l.imageSizes)+'"]')):p+='[href="'+mn(r)+'"]';var y=p;switch(s){case"style":y=Pl(r);break;case"script":y=Ll(r)}Lr.has(y)||(r=v({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:r,as:s},l),Lr.set(y,r),c.querySelector(p)!==null||s==="style"&&c.querySelector(Pu(y))||s==="script"&&c.querySelector(Lu(y))||(s=c.createElement("link"),Vn(s,"link",r),ln(s),c.head.appendChild(s)))}}function SN(r,s){ds.m(r,s);var l=Ml;if(l&&r){var c=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+mn(c)+'"][href="'+mn(r)+'"]',y=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ll(r)}if(!Lr.has(y)&&(r=v({rel:"modulepreload",href:r},s),Lr.set(y,r),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Lu(y)))return}c=l.createElement("link"),Vn(c,"link",r),ln(c),l.head.appendChild(c)}}}function AN(r,s,l){ds.S(r,s,l);var c=Ml;if(c&&r){var p=er(c).hoistableStyles,y=Pl(r);s=s||"default";var T=p.get(y);if(!T){var k={loading:0,preload:null};if(T=c.querySelector(Pu(y)))k.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},l),(l=Lr.get(y))&&my(r,l);var F=T=c.createElement("link");ln(F),Vn(F,"link",r),F._p=new Promise(function(ee,le){F.onload=ee,F.onerror=le}),F.addEventListener("load",function(){k.loading|=1}),F.addEventListener("error",function(){k.loading|=2}),k.loading|=4,yh(T,s,c)}T={type:"stylesheet",instance:T,count:1,state:k},p.set(y,T)}}}function CN(r,s){ds.X(r,s);var l=Ml;if(l&&r){var c=er(l).hoistableScripts,p=Ll(r),y=c.get(p);y||(y=l.querySelector(Lu(p)),y||(r=v({src:r,async:!0},s),(s=Lr.get(p))&&py(r,s),y=l.createElement("script"),ln(y),Vn(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function RN(r,s){ds.M(r,s);var l=Ml;if(l&&r){var c=er(l).hoistableScripts,p=Ll(r),y=c.get(p);y||(y=l.querySelector(Lu(p)),y||(r=v({src:r,async:!0,type:"module"},s),(s=Lr.get(p))&&py(r,s),y=l.createElement("script"),ln(y),Vn(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function bw(r,s,l,c){var p=(p=ke.current)?gh(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Pl(l.href),l=er(p).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=Pl(l.href);var y=er(p).hoistableStyles,T=y.get(r);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,T),(y=p.querySelector(Pu(r)))&&!y._p&&(T.instance=y,T.state.loading=5),Lr.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Lr.set(r,l),y||NN(p,r,l,T.state))),s&&c===null)throw Error(i(528,""));return T}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ll(l),l=er(p).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Pl(r){return'href="'+mn(r)+'"'}function Pu(r){return'link[rel="stylesheet"]['+r+"]"}function xw(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function NN(r,s,l,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Vn(s,"link",l),ln(s),r.head.appendChild(s))}function Ll(r){return'[src="'+mn(r)+'"]'}function Lu(r){return"script[async]"+r}function ww(r,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+mn(l.href)+'"]');if(c)return s.instance=c,ln(c),c;var p=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),ln(c),Vn(c,"style",p),yh(c,l.precedence,r),s.instance=c;case"stylesheet":p=Pl(l.href);var y=r.querySelector(Pu(p));if(y)return s.state.loading|=4,s.instance=y,ln(y),y;c=xw(l),(p=Lr.get(p))&&my(c,p),y=(r.ownerDocument||r).createElement("link"),ln(y);var T=y;return T._p=new Promise(function(k,F){T.onload=k,T.onerror=F}),Vn(y,"link",c),s.state.loading|=4,yh(y,l.precedence,r),s.instance=y;case"script":return y=Ll(l.src),(p=r.querySelector(Lu(y)))?(s.instance=p,ln(p),p):(c=l,(p=Lr.get(y))&&(c=v({},l),py(c,p)),r=r.ownerDocument||r,p=r.createElement("script"),ln(p),Vn(p,"link",c),r.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,yh(c,l.precedence,r));return s.instance}function yh(r,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,y=p,T=0;T<c.length;T++){var k=c[T];if(k.dataset.precedence===s)y=k;else if(y!==p)break}y?y.parentNode.insertBefore(r,y.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(r,s.firstChild))}function my(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function py(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var vh=null;function Ew(r,s,l){if(vh===null){var c=new Map,p=vh=new Map;p.set(l,c)}else p=vh,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(r))return c;for(c.set(r,null),l=l.getElementsByTagName(r),p=0;p<l.length;p++){var y=l[p];if(!(y[Qa]||y[xn]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(s)||"";T=r+T;var k=c.get(T);k?k.push(y):c.set(T,[y])}}return c}function Tw(r,s,l){r=r.ownerDocument||r,r.head.insertBefore(l,s==="title"?r.querySelector("head > title"):null)}function IN(r,s,l){if(l===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Sw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Vu=null;function kN(){}function DN(r,s,l){if(Vu===null)throw Error(i(475));var c=Vu;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=Pl(l.href),y=r.querySelector(Pu(p));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=_h.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=y,ln(y);return}y=r.ownerDocument||r,l=xw(l),(p=Lr.get(p))&&my(l,p),y=y.createElement("link"),ln(y);var T=y;T._p=new Promise(function(k,F){T.onload=k,T.onerror=F}),Vn(y,"link",l),s.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=_h.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function ON(){if(Vu===null)throw Error(i(475));var r=Vu;return r.stylesheets&&r.count===0&&gy(r,r.stylesheets),0<r.count?function(s){var l=setTimeout(function(){if(r.stylesheets&&gy(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(l)}}:null}function _h(){if(this.count--,this.count===0){if(this.stylesheets)gy(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var bh=null;function gy(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,bh=new Map,s.forEach(jN,r),bh=null,_h.call(r))}function jN(r,s){if(!(s.state.loading&4)){var l=bh.get(r);if(l)var c=l.get(null);else{l=new Map,bh.set(r,l);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var T=p[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}p=s.instance,T=p.getAttribute("data-precedence"),y=l.get(T)||c,y===c&&l.set(null,p),l.set(T,p),this.count++,c=_h.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),y?y.parentNode.insertBefore(p,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),s.state.loading|=4}}var Uu={$$typeof:V,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function MN(r,s,l,c,p,y,T,k){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.hiddenUpdates=zi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Aw(r,s,l,c,p,y,T,k,F,ee,le,de){return r=new MN(r,s,l,T,k,F,ee,de),s=1,y===!0&&(s|=24),y=pr(3,null,null,s),r.current=y,y.stateNode=r,s=Wp(),s.refCount++,r.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:s},tg(y),r}function Cw(r){return r?(r=ml,r):ml}function Rw(r,s,l,c,p,y){p=Cw(p),c.context===null?c.context=p:c.pendingContext=p,c=Ks(s),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=Zs(r,c,s),l!==null&&(br(l,r,s),pu(l,r,s))}function Nw(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function yy(r,s){Nw(r,s),(r=r.alternate)&&Nw(r,s)}function Iw(r){if(r.tag===13){var s=hl(r,67108864);s!==null&&br(s,r,67108864),yy(r,67108864)}}var xh=!0;function PN(r,s,l,c){var p=q.T;q.T=null;var y=te.p;try{te.p=2,vy(r,s,l,c)}finally{te.p=y,q.T=p}}function LN(r,s,l,c){var p=q.T;q.T=null;var y=te.p;try{te.p=8,vy(r,s,l,c)}finally{te.p=y,q.T=p}}function vy(r,s,l,c){if(xh){var p=_y(c);if(p===null)sy(r,s,c,wh,l),Dw(r,c);else if(UN(p,r,s,l,c))c.stopPropagation();else if(Dw(r,c),s&4&&-1<VN.indexOf(r)){for(;p!==null;){var y=ci(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=zr(y.pendingLanes);if(T!==0){var k=y;for(k.pendingLanes|=2,k.entangledLanes|=2;T;){var F=1<<31-qt(T);k.entanglements[1]|=F,T&=~F}Ei(y),(Rt&6)===0&&(sh=Ae()+500,Du(0))}}break;case 13:k=hl(y,2),k!==null&&br(k,y,2),oh(),yy(y,2)}if(y=_y(c),y===null&&sy(r,s,c,wh,l),y===p)break;p=y}p!==null&&c.stopPropagation()}else sy(r,s,c,null,l)}}function _y(r){return r=Rr(r),by(r)}var wh=null;function by(r){if(wh=null,r=Hi(r),r!==null){var s=o(r);if(s===null)r=null;else{var l=s.tag;if(l===13){if(r=u(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return wh=r,null}function kw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ue()){case We:return 2;case Oe:return 8;case Ge:case Lt:return 32;case Kt:return 268435456;default:return 32}default:return 32}}var xy=!1,la=null,ca=null,ua=null,Bu=new Map,zu=new Map,da=[],VN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dw(r,s){switch(r){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":ua=null;break;case"pointerover":case"pointerout":Bu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":zu.delete(s.pointerId)}}function Fu(r,s,l,c,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[p]},s!==null&&(s=ci(s),s!==null&&Iw(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function UN(r,s,l,c,p){switch(s){case"focusin":return la=Fu(la,r,s,l,c,p),!0;case"dragenter":return ca=Fu(ca,r,s,l,c,p),!0;case"mouseover":return ua=Fu(ua,r,s,l,c,p),!0;case"pointerover":var y=p.pointerId;return Bu.set(y,Fu(Bu.get(y)||null,r,s,l,c,p)),!0;case"gotpointercapture":return y=p.pointerId,zu.set(y,Fu(zu.get(y)||null,r,s,l,c,p)),!0}return!1}function Ow(r){var s=Hi(r.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){r.blockedOn=s,of(r.priority,function(){if(l.tag===13){var c=_r();c=Us(c);var p=hl(l,c);p!==null&&br(p,l,c),yy(l,c)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Eh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=_y(r.nativeEvent);if(l===null){l=r.nativeEvent;var c=new l.constructor(l.type,l);Yi=c,l.target.dispatchEvent(c),Yi=null}else return s=ci(l),s!==null&&Iw(s),r.blockedOn=l,!1;s.shift()}return!0}function jw(r,s,l){Eh(r)&&l.delete(s)}function BN(){xy=!1,la!==null&&Eh(la)&&(la=null),ca!==null&&Eh(ca)&&(ca=null),ua!==null&&Eh(ua)&&(ua=null),Bu.forEach(jw),zu.forEach(jw)}function Th(r,s){r.blockedOn===s&&(r.blockedOn=null,xy||(xy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,BN)))}var Sh=null;function Mw(r){Sh!==r&&(Sh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Sh===r&&(Sh=null);for(var s=0;s<r.length;s+=3){var l=r[s],c=r[s+1],p=r[s+2];if(typeof c!="function"){if(by(c||l)===null)continue;break}var y=ci(l);y!==null&&(r.splice(s,3),s-=3,bg(y,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function Hu(r){function s(F){return Th(F,r)}la!==null&&Th(la,r),ca!==null&&Th(ca,r),ua!==null&&Th(ua,r),Bu.forEach(s),zu.forEach(s);for(var l=0;l<da.length;l++){var c=da[l];c.blockedOn===r&&(c.blockedOn=null)}for(;0<da.length&&(l=da[0],l.blockedOn===null);)Ow(l),l.blockedOn===null&&da.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],y=l[c+1],T=p[hn]||null;if(typeof y=="function")T||Mw(l);else if(T){var k=null;if(y&&y.hasAttribute("formAction")){if(p=y,T=y[hn]||null)k=T.formAction;else if(by(p)!==null)continue}else k=T.action;typeof k=="function"?l[c+1]=k:(l.splice(c,3),c-=3),Mw(l)}}}function wy(r){this._internalRoot=r}Ah.prototype.render=wy.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,c=_r();Rw(l,c,r,s,null,null)},Ah.prototype.unmount=wy.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Rw(r.current,2,null,r,null,null),oh(),s[Ar]=null}};function Ah(r){this._internalRoot=r}Ah.prototype.unstable_scheduleHydration=function(r){if(r){var s=Bs();r={blockedOn:null,target:r,priority:s};for(var l=0;l<da.length&&s!==0&&s<da[l].priority;l++);da.splice(l,0,r),l===0&&Ow(r)}};var Pw=e.version;if(Pw!=="19.1.0")throw Error(i(527,Pw,"19.1.0"));te.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(s),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var zN={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ch.isDisabled&&Ch.supportsFiber)try{Je=Ch.inject(zN),lt=Ch}catch{}}return $u.createRoot=function(r,s){if(!a(r))throw Error(i(299));var l=!1,c="",p=Xb,y=Jb,T=ex,k=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(k=s.unstable_transitionCallbacks)),s=Aw(r,1,!1,null,null,l,c,p,y,T,k,null),r[Ar]=s.current,iy(r),new wy(s)},$u.hydrateRoot=function(r,s,l){if(!a(r))throw Error(i(299));var c=!1,p="",y=Xb,T=Jb,k=ex,F=null,ee=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(F=l.unstable_transitionCallbacks),l.formState!==void 0&&(ee=l.formState)),s=Aw(r,1,!0,s,l??null,c,p,y,T,k,F,ee),s.context=Cw(null),l=s.current,c=_r(),c=Us(c),p=Ks(c),p.callback=null,Zs(l,p,c),l=c,s.current.lanes=l,Fi(s,l),Ei(s),r[Ar]=s.current,iy(r),new Ah(s)},$u.version="19.1.0",$u}var Gw;function WN(){if(Gw)return Sy.exports;Gw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Sy.exports=QN(),Sy.exports}var XN=WN(),Gu={},Yw;function JN(){if(Yw)return Gu;Yw=1,Object.defineProperty(Gu,"__esModule",{value:!0}),Gu.parse=u,Gu.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function u(_,S){const C=new o,R=_.length;if(R<2)return C;const N=(S==null?void 0:S.decode)||v;let M=0;do{const U=_.indexOf("=",M);if(U===-1)break;const V=_.indexOf(";",M),$=V===-1?R:V;if(U>$){M=_.lastIndexOf(";",U-1)+1;continue}const H=d(_,M,U),W=h(_,U,H),I=_.slice(H,W);if(C[I]===void 0){let A=d(_,U+1,$),j=h(_,$,A);const B=N(_.slice(A,j));C[I]=B}M=$+1}while(M<R);return C}function d(_,S,C){do{const R=_.charCodeAt(S);if(R!==32&&R!==9)return S}while(++S<C);return C}function h(_,S,C){for(;S>C;){const R=_.charCodeAt(--S);if(R!==32&&R!==9)return S+1}return C}function m(_,S,C){const R=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const N=R(S);if(!e.test(N))throw new TypeError(`argument val is invalid: ${S}`);let M=_+"="+N;if(!C)return M;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);M+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);M+="; Domain="+C.domain}if(C.path){if(!i.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);M+="; Path="+C.path}if(C.expires){if(!b(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);M+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(M+="; HttpOnly"),C.secure&&(M+="; Secure"),C.partitioned&&(M+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return M}function v(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function b(_){return a.call(_)==="[object Date]"}return Gu}JN();var Kw="popstate";function eI(n={}){function e(i,a){let{pathname:o,search:u,hash:d}=i.location;return nv("",{pathname:o,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:fd(a)}return nI(e,t,null,n)}function Yt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ei(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tI(){return Math.random().toString(36).substring(2,10)}function Zw(n,e){return{usr:n.state,key:n.key,idx:e}}function nv(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?wc(e):e,state:t,key:e&&e.key||i||tI()}}function fd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function wc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function nI(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:o=!1}=i,u=a.history,d="POP",h=null,m=v();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function v(){return(u.state||{idx:null}).idx}function b(){d="POP";let N=v(),M=N==null?null:N-m;m=N,h&&h({action:d,location:R.location,delta:M})}function _(N,M){d="PUSH";let U=nv(R.location,N,M);m=v()+1;let V=Zw(U,m),$=R.createHref(U);try{u.pushState(V,"",$)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;a.location.assign($)}o&&h&&h({action:d,location:R.location,delta:1})}function S(N,M){d="REPLACE";let U=nv(R.location,N,M);m=v();let V=Zw(U,m),$=R.createHref(U);u.replaceState(V,"",$),o&&h&&h({action:d,location:R.location,delta:0})}function C(N){return rI(N)}let R={get action(){return d},get location(){return n(a,u)},listen(N){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(Kw,b),h=N,()=>{a.removeEventListener(Kw,b),h=null}},createHref(N){return e(a,N)},createURL:C,encodeLocation(N){let M=C(N);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:_,replace:S,go(N){return u.go(N)}};return R}function rI(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Yt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:fd(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function bS(n,e,t="/"){return iI(n,e,t,!1)}function iI(n,e,t,i){let a=typeof e=="string"?wc(e):e,o=As(a.pathname||"/",t);if(o==null)return null;let u=xS(n);sI(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let m=gI(o);d=mI(u[h],m,i)}return d}function xS(n,e=[],t=[],i=""){let a=(o,u,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};h.relativePath.startsWith("/")&&(Yt(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let m=xs([i,h.relativePath]),v=t.concat(h);o.children&&o.children.length>0&&(Yt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),xS(o.children,e,v,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:fI(m,o.index),routesMeta:v})};return n.forEach((o,u)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,u);else for(let h of wS(o.path))a(o,u,h)}),e}function wS(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let u=wS(i.join("/")),d=[];return d.push(...u.map(h=>h===""?o:[o,h].join("/"))),a&&d.push(...u),d.map(h=>n.startsWith("/")&&h===""?"/":h)}function sI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:hI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var aI=/^:[\w-]+$/,oI=3,lI=2,cI=1,uI=10,dI=-2,Qw=n=>n==="*";function fI(n,e){let t=n.split("/"),i=t.length;return t.some(Qw)&&(i+=dI),e&&(i+=lI),t.filter(a=>!Qw(a)).reduce((a,o)=>a+(aI.test(o)?oI:o===""?cI:uI),i)}function hI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function mI(n,e,t=!1){let{routesMeta:i}=n,a={},o="/",u=[];for(let d=0;d<i.length;++d){let h=i[d],m=d===i.length-1,v=o==="/"?e:e.slice(o.length)||"/",b=om({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},v),_=h.route;if(!b&&m&&t&&!i[i.length-1].route.index&&(b=om({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),u.push({params:a,pathname:xs([o,b.pathname]),pathnameBase:bI(xs([o,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(o=xs([o,b.pathnameBase]))}return u}function om(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=pI(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((m,{paramName:v,isOptional:b},_)=>{if(v==="*"){let C=d[_]||"";u=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const S=d[_];return b&&!S?m[v]=void 0:m[v]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:n}}function pI(n,e=!1,t=!0){ei(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(i.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function gI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ei(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function As(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function yI(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?wc(n):n;return{pathname:t?t.startsWith("/")?t:vI(t,e):e,search:xI(i),hash:wI(a)}}function vI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Ny(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _I(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function t0(n){let e=_I(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function n0(n,e,t,i=!1){let a;typeof n=="string"?a=wc(n):(a={...n},Yt(!a.pathname||!a.pathname.includes("?"),Ny("?","pathname","search",a)),Yt(!a.pathname||!a.pathname.includes("#"),Ny("#","pathname","hash",a)),Yt(!a.search||!a.search.includes("#"),Ny("#","search","hash",a)));let o=n===""||a.pathname==="",u=o?"/":a.pathname,d;if(u==null)d=t;else{let b=e.length-1;if(!i&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),b-=1;a.pathname=_.join("/")}d=b>=0?e[b]:"/"}let h=yI(a,d),m=u&&u!=="/"&&u.endsWith("/"),v=(o||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(m||v)&&(h.pathname+="/"),h}var xs=n=>n.join("/").replace(/\/\/+/g,"/"),bI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),xI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,wI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function EI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var ES=["POST","PUT","PATCH","DELETE"];new Set(ES);var TI=["GET",...ES];new Set(TI);var Ec=w.createContext(null);Ec.displayName="DataRouter";var qm=w.createContext(null);qm.displayName="DataRouterState";var TS=w.createContext({isTransitioning:!1});TS.displayName="ViewTransition";var SI=w.createContext(new Map);SI.displayName="Fetchers";var AI=w.createContext(null);AI.displayName="Await";var ai=w.createContext(null);ai.displayName="Navigation";var Vd=w.createContext(null);Vd.displayName="Location";var Vi=w.createContext({outlet:null,matches:[],isDataRoute:!1});Vi.displayName="Route";var r0=w.createContext(null);r0.displayName="RouteError";function CI(n,{relative:e}={}){Yt(Tc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=w.useContext(ai),{hash:a,pathname:o,search:u}=Ud(n,{relative:e}),d=o;return t!=="/"&&(d=o==="/"?t:xs([t,o])),i.createHref({pathname:d,search:u,hash:a})}function Tc(){return w.useContext(Vd)!=null}function Ms(){return Yt(Tc(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Vd).location}var SS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AS(n){w.useContext(ai).static||w.useLayoutEffect(n)}function $m(){let{isDataRoute:n}=w.useContext(Vi);return n?BI():RI()}function RI(){Yt(Tc(),"useNavigate() may be used only in the context of a <Router> component.");let n=w.useContext(Ec),{basename:e,navigator:t}=w.useContext(ai),{matches:i}=w.useContext(Vi),{pathname:a}=Ms(),o=JSON.stringify(t0(i)),u=w.useRef(!1);return AS(()=>{u.current=!0}),w.useCallback((h,m={})=>{if(ei(u.current,SS),!u.current)return;if(typeof h=="number"){t.go(h);return}let v=n0(h,JSON.parse(o),a,m.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:xs([e,v.pathname])),(m.replace?t.replace:t.push)(v,m.state,m)},[e,t,o,a,n])}w.createContext(null);function Ud(n,{relative:e}={}){let{matches:t}=w.useContext(Vi),{pathname:i}=Ms(),a=JSON.stringify(t0(t));return w.useMemo(()=>n0(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function NI(n,e){return CS(n,e)}function CS(n,e,t,i){var M;Yt(Tc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=w.useContext(ai),{matches:o}=w.useContext(Vi),u=o[o.length-1],d=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",v=u&&u.route;{let U=v&&v.path||"";RS(h,!v||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let b=Ms(),_;if(e){let U=typeof e=="string"?wc(e):e;Yt(m==="/"||((M=U.pathname)==null?void 0:M.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${U.pathname}" was given in the \`location\` prop.`),_=U}else _=b;let S=_.pathname||"/",C=S;if(m!=="/"){let U=m.replace(/^\//,"").split("/");C="/"+S.replace(/^\//,"").split("/").slice(U.length).join("/")}let R=bS(n,{pathname:C});ei(v||R!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),ei(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=jI(R&&R.map(U=>Object.assign({},U,{params:Object.assign({},d,U.params),pathname:xs([m,a.encodeLocation?a.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?m:xs([m,a.encodeLocation?a.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),o,t,i);return e&&N?w.createElement(Vd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},N):N}function II(){let n=UI(),e=EI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:o},"ErrorBoundary")," or"," ",w.createElement("code",{style:o},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:a},t):null,u)}var kI=w.createElement(II,null),DI=class extends w.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?w.createElement(Vi.Provider,{value:this.props.routeContext},w.createElement(r0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OI({routeContext:n,match:e,children:t}){let i=w.useContext(Ec);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Vi.Provider,{value:n},t)}function jI(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let h=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);Yt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,d=-1;if(t)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:v,errors:b}=t,_=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||_){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,m,v)=>{let b,_=!1,S=null,C=null;t&&(b=o&&m.route.id?o[m.route.id]:void 0,S=m.route.errorElement||kI,u&&(d<0&&v===0?(RS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,C=null):d===v&&(_=!0,C=m.route.hydrateFallbackElement||null)));let R=e.concat(a.slice(0,v+1)),N=()=>{let M;return b?M=S:_?M=C:m.route.Component?M=w.createElement(m.route.Component,null):m.route.element?M=m.route.element:M=h,w.createElement(OI,{match:m,routeContext:{outlet:h,matches:R,isDataRoute:t!=null},children:M})};return t&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?w.createElement(DI,{location:t.location,revalidation:t.revalidation,component:S,error:b,children:N(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):N()},null)}function i0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MI(n){let e=w.useContext(Ec);return Yt(e,i0(n)),e}function PI(n){let e=w.useContext(qm);return Yt(e,i0(n)),e}function LI(n){let e=w.useContext(Vi);return Yt(e,i0(n)),e}function s0(n){let e=LI(n),t=e.matches[e.matches.length-1];return Yt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function VI(){return s0("useRouteId")}function UI(){var i;let n=w.useContext(r0),e=PI("useRouteError"),t=s0("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function BI(){let{router:n}=MI("useNavigate"),e=s0("useNavigate"),t=w.useRef(!1);return AS(()=>{t.current=!0}),w.useCallback(async(a,o={})=>{ei(t.current,SS),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var Ww={};function RS(n,e,t){!e&&!Ww[n]&&(Ww[n]=!0,ei(!1,t))}w.memo(zI);function zI({routes:n,future:e,state:t}){return CS(n,void 0,t,e)}function rv({to:n,replace:e,state:t,relative:i}){Yt(Tc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=w.useContext(ai);ei(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=w.useContext(Vi),{pathname:u}=Ms(),d=$m(),h=n0(n,t0(o),u,i==="path"),m=JSON.stringify(h);return w.useEffect(()=>{d(JSON.parse(m),{replace:e,state:t,relative:i})},[d,m,i,e,t]),null}function Yr(n){Yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FI({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:o=!1}){Yt(!Tc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof t=="string"&&(t=wc(t));let{pathname:h="/",search:m="",hash:v="",state:b=null,key:_="default"}=t,S=w.useMemo(()=>{let C=As(h,u);return C==null?null:{location:{pathname:C,search:m,hash:v,state:b,key:_},navigationType:i}},[u,h,m,v,b,_,i]);return ei(S!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:w.createElement(ai.Provider,{value:d},w.createElement(Vd.Provider,{children:e,value:S}))}function HI({children:n,location:e}){return NI(iv(n),e)}function iv(n,e=[]){let t=[];return w.Children.forEach(n,(i,a)=>{if(!w.isValidElement(i))return;let o=[...e,a];if(i.type===w.Fragment){t.push.apply(t,iv(i.props.children,o));return}Yt(i.type===Yr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Yt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=iv(i.props.children,o)),t.push(u)}),t}var $h="get",Gh="application/x-www-form-urlencoded";function Gm(n){return n!=null&&typeof n.tagName=="string"}function qI(n){return Gm(n)&&n.tagName.toLowerCase()==="button"}function $I(n){return Gm(n)&&n.tagName.toLowerCase()==="form"}function GI(n){return Gm(n)&&n.tagName.toLowerCase()==="input"}function YI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function KI(n,e){return n.button===0&&(!e||e==="_self")&&!YI(n)}var Rh=null;function ZI(){if(Rh===null)try{new FormData(document.createElement("form"),0),Rh=!1}catch{Rh=!0}return Rh}var QI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Iy(n){return n!=null&&!QI.has(n)?(ei(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gh}"`),null):n}function WI(n,e){let t,i,a,o,u;if($I(n)){let d=n.getAttribute("action");i=d?As(d,e):null,t=n.getAttribute("method")||$h,a=Iy(n.getAttribute("enctype"))||Gh,o=new FormData(n)}else if(qI(n)||GI(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||d.getAttribute("action");if(i=h?As(h,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||$h,a=Iy(n.getAttribute("formenctype"))||Iy(d.getAttribute("enctype"))||Gh,o=new FormData(d,n),!ZI()){let{name:m,type:v,value:b}=n;if(v==="image"){let _=m?`${m}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else m&&o.append(m,b)}}else{if(Gm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=$h,i=null,a=Gh,u=n}return o&&a==="text/plain"&&(u=o,o=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:o,body:u}}function a0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function XI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function ek(n,e,t){let i=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await XI(o,t);return u.links?u.links():[]}return[]}));return ik(i.flat(1).filter(JI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Xw(n,e,t,i,a,o){let u=(h,m)=>t[m]?h.route.id!==t[m].route.id:!0,d=(h,m)=>{var v;return t[m].pathname!==h.pathname||((v=t[m].route.path)==null?void 0:v.endsWith("*"))&&t[m].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,m)=>u(h,m)||d(h,m)):o==="data"?e.filter((h,m)=>{var b;let v=i.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(u(h,m)||d(h,m))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function tk(n,e,{includeHydrateFallback:t}={}){return nk(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function nk(n){return[...new Set(n)]}function rk(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function ik(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let o=JSON.stringify(rk(a));return t.has(o)||(t.add(o),i.push({key:o,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sk=new Set([100,101,204,205]);function ak(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&As(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function NS(){let n=w.useContext(Ec);return a0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function ok(){let n=w.useContext(qm);return a0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var o0=w.createContext(void 0);o0.displayName="FrameworkContext";function IS(){let n=w.useContext(o0);return a0(n,"You must render this element inside a <HydratedRouter> element"),n}function lk(n,e){let t=w.useContext(o0),[i,a]=w.useState(!1),[o,u]=w.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:m,onMouseLeave:v,onTouchStart:b}=e,_=w.useRef(null);w.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let R=M=>{M.forEach(U=>{u(U.isIntersecting)})},N=new IntersectionObserver(R,{threshold:.5});return _.current&&N.observe(_.current),()=>{N.disconnect()}}},[n]),w.useEffect(()=>{if(i){let R=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(R)}}},[i]);let S=()=>{a(!0)},C=()=>{a(!1),u(!1)};return t?n!=="intent"?[o,_,{}]:[o,_,{onFocus:Yu(d,S),onBlur:Yu(h,C),onMouseEnter:Yu(m,S),onMouseLeave:Yu(v,C),onTouchStart:Yu(b,S)}]:[!1,_,{}]}function Yu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function ck({page:n,...e}){let{router:t}=NS(),i=w.useMemo(()=>bS(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?w.createElement(dk,{page:n,matches:i,...e}):null}function uk(n){let{manifest:e,routeModules:t}=IS(),[i,a]=w.useState([]);return w.useEffect(()=>{let o=!1;return ek(n,e,t).then(u=>{o||a(u)}),()=>{o=!0}},[n,e,t]),i}function dk({page:n,matches:e,...t}){let i=Ms(),{manifest:a,routeModules:o}=IS(),{basename:u}=NS(),{loaderData:d,matches:h}=ok(),m=w.useMemo(()=>Xw(n,e,h,a,i,"data"),[n,e,h,a,i]),v=w.useMemo(()=>Xw(n,e,h,a,i,"assets"),[n,e,h,a,i]),b=w.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let C=new Set,R=!1;if(e.forEach(M=>{var V;let U=a.routes[M.route.id];!U||!U.hasLoader||(!m.some($=>$.route.id===M.route.id)&&M.route.id in d&&((V=o[M.route.id])!=null&&V.shouldRevalidate)||U.hasClientLoader?R=!0:C.add(M.route.id))}),C.size===0)return[];let N=ak(n,u);return R&&C.size>0&&N.searchParams.set("_routes",e.filter(M=>C.has(M.route.id)).map(M=>M.route.id).join(",")),[N.pathname+N.search]},[u,d,i,a,m,e,n,o]),_=w.useMemo(()=>tk(v,a),[v,a]),S=uk(v);return w.createElement(w.Fragment,null,b.map(C=>w.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),_.map(C=>w.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),S.map(({key:C,link:R})=>w.createElement("link",{key:C,...R})))}function fk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var kS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kS&&(window.__reactRouterVersion="7.6.1")}catch{}function hk({basename:n,children:e,window:t}){let i=w.useRef();i.current==null&&(i.current=eI({window:t,v5Compat:!0}));let a=i.current,[o,u]=w.useState({action:a.action,location:a.location}),d=w.useCallback(h=>{w.startTransition(()=>u(h))},[u]);return w.useLayoutEffect(()=>a.listen(d),[a,d]),w.createElement(FI,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:a})}var DS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nc=w.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:o,replace:u,state:d,target:h,to:m,preventScrollReset:v,viewTransition:b,..._},S){let{basename:C}=w.useContext(ai),R=typeof m=="string"&&DS.test(m),N,M=!1;if(typeof m=="string"&&R&&(N=m,kS))try{let j=new URL(window.location.href),B=m.startsWith("//")?new URL(j.protocol+m):new URL(m),D=As(B.pathname,C);B.origin===j.origin&&D!=null?m=D+B.search+B.hash:M=!0}catch{ei(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=CI(m,{relative:a}),[V,$,H]=lk(i,_),W=yk(m,{replace:u,state:d,target:h,preventScrollReset:v,relative:a,viewTransition:b});function I(j){e&&e(j),j.defaultPrevented||W(j)}let A=w.createElement("a",{..._,...H,href:N||U,onClick:M||o?e:I,ref:fk(S,$),target:h,"data-discover":!R&&t==="render"?"true":void 0});return V&&!R?w.createElement(w.Fragment,null,A,w.createElement(ck,{page:U})):A});nc.displayName="Link";var mk=w.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:o,to:u,viewTransition:d,children:h,...m},v){let b=Ud(u,{relative:m.relative}),_=Ms(),S=w.useContext(qm),{navigator:C,basename:R}=w.useContext(ai),N=S!=null&&wk(b)&&d===!0,M=C.encodeLocation?C.encodeLocation(b).pathname:b.pathname,U=_.pathname,V=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(U=U.toLowerCase(),V=V?V.toLowerCase():null,M=M.toLowerCase()),V&&R&&(V=As(V,R)||V);const $=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let H=U===M||!a&&U.startsWith(M)&&U.charAt($)==="/",W=V!=null&&(V===M||!a&&V.startsWith(M)&&V.charAt(M.length)==="/"),I={isActive:H,isPending:W,isTransitioning:N},A=H?e:void 0,j;typeof i=="function"?j=i(I):j=[i,H?"active":null,W?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(I):o;return w.createElement(nc,{...m,"aria-current":A,className:j,ref:v,style:B,to:u,viewTransition:d},typeof h=="function"?h(I):h)});mk.displayName="NavLink";var pk=w.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:o,method:u=$h,action:d,onSubmit:h,relative:m,preventScrollReset:v,viewTransition:b,..._},S)=>{let C=bk(),R=xk(d,{relative:m}),N=u.toLowerCase()==="get"?"get":"post",M=typeof d=="string"&&DS.test(d),U=V=>{if(h&&h(V),V.defaultPrevented)return;V.preventDefault();let $=V.nativeEvent.submitter,H=($==null?void 0:$.getAttribute("formmethod"))||u;C($||V.currentTarget,{fetcherKey:e,method:H,navigate:t,replace:a,state:o,relative:m,preventScrollReset:v,viewTransition:b})};return w.createElement("form",{ref:S,method:N,action:R,onSubmit:i?h:U,..._,"data-discover":!M&&n==="render"?"true":void 0})});pk.displayName="Form";function gk(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OS(n){let e=w.useContext(Ec);return Yt(e,gk(n)),e}function yk(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:o,viewTransition:u}={}){let d=$m(),h=Ms(),m=Ud(n,{relative:o});return w.useCallback(v=>{if(KI(v,e)){v.preventDefault();let b=t!==void 0?t:fd(h)===fd(m);d(n,{replace:b,state:i,preventScrollReset:a,relative:o,viewTransition:u})}},[h,d,m,t,i,e,n,a,o,u])}var vk=0,_k=()=>`__${String(++vk)}__`;function bk(){let{router:n}=OS("useSubmit"),{basename:e}=w.useContext(ai),t=VI();return w.useCallback(async(i,a={})=>{let{action:o,method:u,encType:d,formData:h,body:m}=WI(i,e);if(a.navigate===!1){let v=a.fetcherKey||_k();await n.fetch(v,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:m,formMethod:a.method||u,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:m,formMethod:a.method||u,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function xk(n,{relative:e}={}){let{basename:t}=w.useContext(ai),i=w.useContext(Vi);Yt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...Ud(n||".",{relative:e})},u=Ms();if(n==null){o.search=u.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(v=>v==="")){d.delete("index"),h.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();o.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:xs([t,o.pathname])),fd(o)}function wk(n,e={}){let t=w.useContext(TS);Yt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=OS("useViewTransitionState"),a=Ud(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=As(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=As(t.nextLocation.pathname,i)||t.nextLocation.pathname;return om(a.pathname,u)!=null||om(a.pathname,o)!=null}[...sk];var Bd=_S();const Ek=yS(Bd);function Jw(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Tk(...n){return e=>{let t=!1;const i=n.map(a=>{const o=Jw(a,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let a=0;a<i.length;a++){const o=i[a];typeof o=="function"?o():Jw(n[a],null)}}}}function tn(...n){return w.useCallback(Tk(...n),n)}function hd(n){const e=Sk(n),t=w.forwardRef((i,a)=>{const{children:o,...u}=i,d=w.Children.toArray(o),h=d.find(Ck);if(h){const m=h.props.children,v=d.map(b=>b===h?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:b);return g.jsx(e,{...u,ref:a,children:w.isValidElement(m)?w.cloneElement(m,void 0,v):null})}return g.jsx(e,{...u,ref:a,children:o})});return t.displayName=`${n}.Slot`,t}var jS=hd("Slot");function Sk(n){const e=w.forwardRef((t,i)=>{const{children:a,...o}=t,u=w.isValidElement(a)?Nk(a):void 0,d=tn(u,i);if(w.isValidElement(a)){const h=Rk(o,a.props);return a.type!==w.Fragment&&(h.ref=d),w.cloneElement(a,h)}return w.Children.count(a)>1?w.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var Ak=Symbol("radix.slottable");function Ck(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===Ak}function Rk(n,e){const t={...e};for(const i in e){const a=n[i],o=e[i];/^on[A-Z]/.test(i)?a&&o?t[i]=(...d)=>{const h=o(...d);return a(...d),h}:a&&(t[i]=a):i==="style"?t[i]={...a,...o}:i==="className"&&(t[i]=[a,o].filter(Boolean).join(" "))}return{...n,...t}}function Nk(n){var i,a;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function MS(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=MS(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function PS(){for(var n,e,t=0,i="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=MS(n))&&(i&&(i+=" "),i+=e);return i}const eE=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,tE=PS,l0=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return tE(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:a,defaultVariants:o}=e,u=Object.keys(a).map(m=>{const v=t==null?void 0:t[m],b=o==null?void 0:o[m];if(v===null)return null;const _=eE(v)||eE(b);return a[m][_]}),d=t&&Object.entries(t).reduce((m,v)=>{let[b,_]=v;return _===void 0||(m[b]=_),m},{}),h=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((m,v)=>{let{class:b,className:_,...S}=v;return Object.entries(S).every(C=>{let[R,N]=C;return Array.isArray(N)?N.includes({...o,...d}[R]):{...o,...d}[R]===N})?[...m,b,_]:m},[]);return tE(n,u,h,t==null?void 0:t.class,t==null?void 0:t.className)},c0="-",Ik=n=>{const e=Dk(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:u=>{const d=u.split(c0);return d[0]===""&&d.length!==1&&d.shift(),LS(d,e)||kk(u)},getConflictingClassGroupIds:(u,d)=>{const h=t[u]||[];return d&&i[u]?[...h,...i[u]]:h}}},LS=(n,e)=>{var u;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),a=i?LS(n.slice(1),i):void 0;if(a)return a;if(e.validators.length===0)return;const o=n.join(c0);return(u=e.validators.find(({validator:d})=>d(o)))==null?void 0:u.classGroupId},nE=/^\[(.+)\]$/,kk=n=>{if(nE.test(n)){const e=nE.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},Dk=n=>{const{theme:e,classGroups:t}=n,i={nextPart:new Map,validators:[]};for(const a in t)sv(t[a],i,a,e);return i},sv=(n,e,t,i)=>{n.forEach(a=>{if(typeof a=="string"){const o=a===""?e:rE(e,a);o.classGroupId=t;return}if(typeof a=="function"){if(Ok(a)){sv(a(i),e,t,i);return}e.validators.push({validator:a,classGroupId:t});return}Object.entries(a).forEach(([o,u])=>{sv(u,rE(e,o),t,i)})})},rE=(n,e)=>{let t=n;return e.split(c0).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},Ok=n=>n.isThemeGetter,jk=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const a=(o,u)=>{t.set(o,u),e++,e>n&&(e=0,i=t,t=new Map)};return{get(o){let u=t.get(o);if(u!==void 0)return u;if((u=i.get(o))!==void 0)return a(o,u),u},set(o,u){t.has(o)?t.set(o,u):a(o,u)}}},av="!",ov=":",Mk=ov.length,Pk=n=>{const{prefix:e,experimentalParseClassName:t}=n;let i=a=>{const o=[];let u=0,d=0,h=0,m;for(let C=0;C<a.length;C++){let R=a[C];if(u===0&&d===0){if(R===ov){o.push(a.slice(h,C)),h=C+Mk;continue}if(R==="/"){m=C;continue}}R==="["?u++:R==="]"?u--:R==="("?d++:R===")"&&d--}const v=o.length===0?a:a.substring(h),b=Lk(v),_=b!==v,S=m&&m>h?m-h:void 0;return{modifiers:o,hasImportantModifier:_,baseClassName:b,maybePostfixModifierPosition:S}};if(e){const a=e+ov,o=i;i=u=>u.startsWith(a)?o(u.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(t){const a=i;i=o=>t({className:o,parseClassName:a})}return i},Lk=n=>n.endsWith(av)?n.substring(0,n.length-1):n.startsWith(av)?n.substring(1):n,Vk=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const a=[];let o=[];return i.forEach(u=>{u[0]==="["||e[u]?(a.push(...o.sort(),u),o=[]):o.push(u)}),a.push(...o.sort()),a}},Uk=n=>({cache:jk(n.cacheSize),parseClassName:Pk(n),sortModifiers:Vk(n),...Ik(n)}),Bk=/\s+/,zk=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:o}=e,u=[],d=n.trim().split(Bk);let h="";for(let m=d.length-1;m>=0;m-=1){const v=d[m],{isExternal:b,modifiers:_,hasImportantModifier:S,baseClassName:C,maybePostfixModifierPosition:R}=t(v);if(b){h=v+(h.length>0?" "+h:h);continue}let N=!!R,M=i(N?C.substring(0,R):C);if(!M){if(!N){h=v+(h.length>0?" "+h:h);continue}if(M=i(C),!M){h=v+(h.length>0?" "+h:h);continue}N=!1}const U=o(_).join(":"),V=S?U+av:U,$=V+M;if(u.includes($))continue;u.push($);const H=a(M,N);for(let W=0;W<H.length;++W){const I=H[W];u.push(V+I)}h=v+(h.length>0?" "+h:h)}return h};function Fk(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=VS(e))&&(i&&(i+=" "),i+=t);return i}const VS=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=VS(n[i]))&&(t&&(t+=" "),t+=e);return t};function Hk(n,...e){let t,i,a,o=u;function u(h){const m=e.reduce((v,b)=>b(v),n());return t=Uk(m),i=t.cache.get,a=t.cache.set,o=d,d(h)}function d(h){const m=i(h);if(m)return m;const v=zk(h,t);return a(h,v),v}return function(){return o(Fk.apply(null,arguments))}}const An=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},US=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,BS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,qk=/^\d+\/\d+$/,$k=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Gk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Yk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Kk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Zk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vl=n=>qk.test(n),at=n=>!!n&&!Number.isNaN(Number(n)),ha=n=>!!n&&Number.isInteger(Number(n)),ky=n=>n.endsWith("%")&&at(n.slice(0,-1)),fs=n=>$k.test(n),Qk=()=>!0,Wk=n=>Gk.test(n)&&!Yk.test(n),zS=()=>!1,Xk=n=>Kk.test(n),Jk=n=>Zk.test(n),eD=n=>!Ne(n)&&!Ie(n),tD=n=>Sc(n,qS,zS),Ne=n=>US.test(n),Ao=n=>Sc(n,$S,Wk),Dy=n=>Sc(n,aD,at),iE=n=>Sc(n,FS,zS),nD=n=>Sc(n,HS,Jk),Nh=n=>Sc(n,GS,Xk),Ie=n=>BS.test(n),Ku=n=>Ac(n,$S),rD=n=>Ac(n,oD),sE=n=>Ac(n,FS),iD=n=>Ac(n,qS),sD=n=>Ac(n,HS),Ih=n=>Ac(n,GS,!0),Sc=(n,e,t)=>{const i=US.exec(n);return i?i[1]?e(i[1]):t(i[2]):!1},Ac=(n,e,t=!1)=>{const i=BS.exec(n);return i?i[1]?e(i[1]):t:!1},FS=n=>n==="position"||n==="percentage",HS=n=>n==="image"||n==="url",qS=n=>n==="length"||n==="size"||n==="bg-size",$S=n=>n==="length",aD=n=>n==="number",oD=n=>n==="family-name",GS=n=>n==="shadow",lD=()=>{const n=An("color"),e=An("font"),t=An("text"),i=An("font-weight"),a=An("tracking"),o=An("leading"),u=An("breakpoint"),d=An("container"),h=An("spacing"),m=An("radius"),v=An("shadow"),b=An("inset-shadow"),_=An("text-shadow"),S=An("drop-shadow"),C=An("blur"),R=An("perspective"),N=An("aspect"),M=An("ease"),U=An("animate"),V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],H=()=>[...$(),Ie,Ne],W=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],A=()=>[Ie,Ne,h],j=()=>[Vl,"full","auto",...A()],B=()=>[ha,"none","subgrid",Ie,Ne],D=()=>["auto",{span:["full",ha,Ie,Ne]},ha,Ie,Ne],L=()=>[ha,"auto",Ie,Ne],P=()=>["auto","min","max","fr",Ie,Ne],G=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ie=()=>["start","end","center","stretch","center-safe","end-safe"],q=()=>["auto",...A()],te=()=>[Vl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],K=()=>[n,Ie,Ne],ve=()=>[...$(),sE,iE,{position:[Ie,Ne]}],z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ae=()=>["auto","cover","contain",iD,tD,{size:[Ie,Ne]}],me=()=>[ky,Ku,Ao],oe=()=>["","none","full",m,Ie,Ne],we=()=>["",at,Ku,Ao],Pe=()=>["solid","dashed","dotted","double"],ke=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],be=()=>[at,ky,sE,iE],De=()=>["","none",C,Ie,Ne],ut=()=>["none",at,Ie,Ne],Ze=()=>["none",at,Ie,Ne],Qe=()=>[at,Ie,Ne],ye=()=>[Vl,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[fs],breakpoint:[fs],color:[Qk],container:[fs],"drop-shadow":[fs],ease:["in","out","in-out"],font:[eD],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[fs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[fs],shadow:[fs],spacing:["px",at],text:[fs],"text-shadow":[fs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Vl,Ne,Ie,N]}],container:["container"],columns:[{columns:[at,Ne,Ie,d]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:H()}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[ha,"auto",Ie,Ne]}],basis:[{basis:[Vl,"full","auto",d,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[at,Vl,"auto","initial","none",Ne]}],grow:[{grow:["",at,Ie,Ne]}],shrink:[{shrink:["",at,Ie,Ne]}],order:[{order:[ha,"first","last","none",Ie,Ne]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...G(),"normal"]}],"justify-items":[{"justify-items":[...ie(),"normal"]}],"justify-self":[{"justify-self":["auto",...ie()]}],"align-content":[{content:["normal",...G()]}],"align-items":[{items:[...ie(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ie(),{baseline:["","last"]}]}],"place-content":[{"place-content":G()}],"place-items":[{"place-items":[...ie(),"baseline"]}],"place-self":[{"place-self":["auto",...ie()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:q()}],mx:[{mx:q()}],my:[{my:q()}],ms:[{ms:q()}],me:[{me:q()}],mt:[{mt:q()}],mr:[{mr:q()}],mb:[{mb:q()}],ml:[{ml:q()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[d,"screen",...te()]}],"min-w":[{"min-w":[d,"screen","none",...te()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...te()]}],h:[{h:["screen","lh",...te()]}],"min-h":[{"min-h":["screen","lh","none",...te()]}],"max-h":[{"max-h":["screen","lh",...te()]}],"font-size":[{text:["base",t,Ku,Ao]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Ie,Dy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ky,Ne]}],"font-family":[{font:[rD,Ne,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ie,Ne]}],"line-clamp":[{"line-clamp":[at,"none",Ie,Dy]}],leading:[{leading:[o,...A()]}],"list-image":[{"list-image":["none",Ie,Ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ie,Ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[at,"from-font","auto",Ie,Ao]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[at,"auto",Ie,Ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie,Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie,Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ve()}],"bg-repeat":[{bg:z()}],"bg-size":[{bg:ae()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ha,Ie,Ne],radial:["",Ie,Ne],conic:[ha,Ie,Ne]},sD,nD]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:me()}],"gradient-via-pos":[{via:me()}],"gradient-to-pos":[{to:me()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:we()}],"border-w-x":[{"border-x":we()}],"border-w-y":[{"border-y":we()}],"border-w-s":[{"border-s":we()}],"border-w-e":[{"border-e":we()}],"border-w-t":[{"border-t":we()}],"border-w-r":[{"border-r":we()}],"border-w-b":[{"border-b":we()}],"border-w-l":[{"border-l":we()}],"divide-x":[{"divide-x":we()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":we()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Pe(),"hidden","none"]}],"divide-style":[{divide:[...Pe(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...Pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[at,Ie,Ne]}],"outline-w":[{outline:["",at,Ku,Ao]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",v,Ih,Nh]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",b,Ih,Nh]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:we()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[at,Ao]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":we()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",_,Ih,Nh]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[at,Ie,Ne]}],"mix-blend":[{"mix-blend":[...ke(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ke()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[at]}],"mask-image-linear-from-pos":[{"mask-linear-from":be()}],"mask-image-linear-to-pos":[{"mask-linear-to":be()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":be()}],"mask-image-t-to-pos":[{"mask-t-to":be()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":be()}],"mask-image-r-to-pos":[{"mask-r-to":be()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":be()}],"mask-image-b-to-pos":[{"mask-b-to":be()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":be()}],"mask-image-l-to-pos":[{"mask-l-to":be()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":be()}],"mask-image-x-to-pos":[{"mask-x-to":be()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":be()}],"mask-image-y-to-pos":[{"mask-y-to":be()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[Ie,Ne]}],"mask-image-radial-from-pos":[{"mask-radial-from":be()}],"mask-image-radial-to-pos":[{"mask-radial-to":be()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":$()}],"mask-image-conic-pos":[{"mask-conic":[at]}],"mask-image-conic-from-pos":[{"mask-conic-from":be()}],"mask-image-conic-to-pos":[{"mask-conic-to":be()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ve()}],"mask-repeat":[{mask:z()}],"mask-size":[{mask:ae()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ie,Ne]}],filter:[{filter:["","none",Ie,Ne]}],blur:[{blur:De()}],brightness:[{brightness:[at,Ie,Ne]}],contrast:[{contrast:[at,Ie,Ne]}],"drop-shadow":[{"drop-shadow":["","none",S,Ih,Nh]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",at,Ie,Ne]}],"hue-rotate":[{"hue-rotate":[at,Ie,Ne]}],invert:[{invert:["",at,Ie,Ne]}],saturate:[{saturate:[at,Ie,Ne]}],sepia:[{sepia:["",at,Ie,Ne]}],"backdrop-filter":[{"backdrop-filter":["","none",Ie,Ne]}],"backdrop-blur":[{"backdrop-blur":De()}],"backdrop-brightness":[{"backdrop-brightness":[at,Ie,Ne]}],"backdrop-contrast":[{"backdrop-contrast":[at,Ie,Ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",at,Ie,Ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[at,Ie,Ne]}],"backdrop-invert":[{"backdrop-invert":["",at,Ie,Ne]}],"backdrop-opacity":[{"backdrop-opacity":[at,Ie,Ne]}],"backdrop-saturate":[{"backdrop-saturate":[at,Ie,Ne]}],"backdrop-sepia":[{"backdrop-sepia":["",at,Ie,Ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ie,Ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[at,"initial",Ie,Ne]}],ease:[{ease:["linear","initial",M,Ie,Ne]}],delay:[{delay:[at,Ie,Ne]}],animate:[{animate:["none",U,Ie,Ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[R,Ie,Ne]}],"perspective-origin":[{"perspective-origin":H()}],rotate:[{rotate:ut()}],"rotate-x":[{"rotate-x":ut()}],"rotate-y":[{"rotate-y":ut()}],"rotate-z":[{"rotate-z":ut()}],scale:[{scale:Ze()}],"scale-x":[{"scale-x":Ze()}],"scale-y":[{"scale-y":Ze()}],"scale-z":[{"scale-z":Ze()}],"scale-3d":["scale-3d"],skew:[{skew:Qe()}],"skew-x":[{"skew-x":Qe()}],"skew-y":[{"skew-y":Qe()}],transform:[{transform:[Ie,Ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:H()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ye()}],"translate-x":[{"translate-x":ye()}],"translate-y":[{"translate-y":ye()}],"translate-z":[{"translate-z":ye()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie,Ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie,Ne]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[at,Ku,Ao,Dy]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},cD=Hk(lD);function an(...n){return cD(PS(n))}const uD=l0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Le({className:n,variant:e,size:t,asChild:i=!1,...a}){const o=i?jS:"button";return g.jsx(o,{"data-slot":"button",className:an(uD({variant:e,size:t,className:n})),...a})}function Et({className:n,...e}){return g.jsx("div",{"data-slot":"card",className:an("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...e})}function It({className:n,...e}){return g.jsx("div",{"data-slot":"card-header",className:an("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function kt({className:n,...e}){return g.jsx("div",{"data-slot":"card-title",className:an("leading-none font-semibold",n),...e})}function _n({className:n,...e}){return g.jsx("div",{"data-slot":"card-description",className:an("text-muted-foreground text-sm",n),...e})}function Tt({className:n,...e}){return g.jsx("div",{"data-slot":"card-content",className:an("px-6",n),...e})}const dD=l0("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Ur({className:n,variant:e,asChild:t=!1,...i}){const a=t?jS:"span";return g.jsx(a,{"data-slot":"badge",className:an(dD({variant:e}),n),...i})}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hD=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),aE=n=>{const e=hD(n);return e.charAt(0).toUpperCase()+e.slice(1)},YS=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),mD=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=w.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:u,...d},h)=>w.createElement("svg",{ref:h,...pD,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:YS("lucide",a),...!o&&!mD(d)&&{"aria-hidden":"true"},...d},[...u.map(([m,v])=>w.createElement(m,v)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=(n,e)=>{const t=w.forwardRef(({className:i,...a},o)=>w.createElement(gD,{ref:o,iconNode:e,className:YS(`lucide-${fD(aE(n))}`,`lucide-${n}`,i),...a}));return t.displayName=aE(n),t};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],lm=pt("book-open",yD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],KS=pt("bot",vD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],bD=pt("calendar",_D);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],wD=pt("chart-pie",xD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],u0=pt("check",ED);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ZS=pt("chevron-down",TD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],AD=pt("chevron-up",SD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],lv=pt("circle-alert",CD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],sd=pt("circle-check-big",RD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ID=pt("circle-x",ND);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],cv=pt("clock",kD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]],OD=pt("cog",DD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],QS=pt("credit-card",jD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],PD=pt("crown",MD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],rc=pt("dollar-sign",LD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],uv=pt("eye-off",VD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dv=pt("eye",UD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],zD=pt("house",BD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],oE=pt("log-out",FD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],WS=pt("mail",HD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],$D=pt("menu",qD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ic=pt("plus",GD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],KD=pt("refresh-cw",YD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],d0=pt("save",ZD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],WD=pt("send",QD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],JD=pt("smartphone",XD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],sc=pt("square-pen",eO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],XS=pt("tag",tO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],rO=pt("target",nO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ac=pt("trash-2",iO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],aO=pt("trending-down",sO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],JS=pt("upload",oO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],e1=pt("user-plus",lO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],t1=pt("user",cO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],n1=pt("users",uO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],oc=pt("x",dO);/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=()=>{};var lE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},hO=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],u=n[t++],d=n[t++],h=((a&7)<<18|(o&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],u=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},i1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,d=u?n[a+1]:0,h=a+2<n.length,m=h?n[a+2]:0,v=o>>2,b=(o&3)<<4|d>>4;let _=(d&15)<<2|m>>6,S=m&63;h||(S=64,u||(_=64)),i.push(t[v],t[b],t[_],t[S])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(r1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):hO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const b=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||d==null||m==null||b==null)throw new mO;const _=o<<2|d>>4;if(i.push(_),m!==64){const S=d<<4&240|m>>2;if(i.push(S),b!==64){const C=m<<6&192|b;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class mO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pO=function(n){const e=r1(n);return i1.encodeByteArray(e,!0)},cm=function(n){return pO(n).replace(/\./g,"")},s1=function(n){try{return i1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=()=>gO().__FIREBASE_DEFAULTS__,vO=()=>{if(typeof process>"u"||typeof lE>"u")return;const n=lE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},_O=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&s1(n[1]);return e&&JSON.parse(e)},Ym=()=>{try{return fO()||yO()||vO()||_O()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},a1=n=>{var e,t;return(t=(e=Ym())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},bO=n=>{const e=a1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},o1=()=>{var n;return(n=Ym())===null||n===void 0?void 0:n.config},l1=n=>{var e;return(e=Ym())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(n){return n.endsWith(".cloudworkstations.dev")}async function c1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[cm(JSON.stringify(t)),cm(JSON.stringify(u)),""].join(".")}const ad={};function EO(){const n={prod:[],emulator:[]};for(const e of Object.keys(ad))ad[e]?n.emulator.push(e):n.prod.push(e);return n}function TO(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let cE=!1;function u1(n,e){if(typeof window>"u"||typeof document>"u"||!Cc(window.location.host)||ad[n]===e||ad[n]||cE)return;ad[n]=e;function t(_){return`__firebase__banner__${_}`}const i="__firebase__banner",o=EO().prod.length>0;function u(){const _=document.getElementById(i);_&&_.remove()}function d(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function h(_,S){_.setAttribute("width","24"),_.setAttribute("id",S),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function m(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{cE=!0,u()},_}function v(_,S){_.setAttribute("id",S),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function b(){const _=TO(i),S=t("text"),C=document.getElementById(S)||document.createElement("span"),R=t("learnmore"),N=document.getElementById(R)||document.createElement("a"),M=t("preprendIcon"),U=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const V=_.element;d(V),v(N,R);const $=m();h(U,M),V.append(U,C,N,$),document.body.appendChild(V)}o?(C.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qn())}function AO(){var n;const e=(n=Ym())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function NO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IO(){const n=Qn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function kO(){return!AO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DO(){try{return typeof indexedDB=="object"}catch{return!1}}function OO(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="FirebaseError";class Ps extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=jO,Object.setPrototypeOf(this,Ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zd.prototype.create)}}class zd{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?MO(o,i):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new Ps(a,d,i)}}function MO(n,e){return n.replace(PO,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const PO=/\{\$([^}]+)}/g;function LO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Do(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const o=n[a],u=e[a];if(uE(o)&&uE(u)){if(!Do(o,u))return!1}else if(o!==u)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function uE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Qu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,o]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Wu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function VO(n,e){const t=new UO(n,e);return t.subscribe.bind(t)}class UO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");BO(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Oy),a.error===void 0&&(a.error=Oy),a.complete===void 0&&(a.complete=Oy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BO(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Oy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(n){return n&&n._delegate?n._delegate:n}class Oo{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new xO;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HO(e))try{this.getOrInitializeService({instanceIdentifier:No})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(e=No){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=No){return this.instances.has(e)}getOptions(e=No){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);i===d&&u.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:FO(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=No){return this.component?this.component.multipleInstances?e:No:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FO(n){return n===No?void 0:n}function HO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new zO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ht||(ht={}));const $O={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},GO=ht.INFO,YO={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},KO=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=YO[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class f0{constructor(e){this.name=e,this._logLevel=GO,this._logHandler=KO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$O[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const ZO=(n,e)=>e.some(t=>n instanceof t);let dE,fE;function QO(){return dE||(dE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WO(){return fE||(fE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d1=new WeakMap,fv=new WeakMap,f1=new WeakMap,jy=new WeakMap,h0=new WeakMap;function XO(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Ta(n.result)),a()},u=()=>{i(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&d1.set(t,n)}).catch(()=>{}),h0.set(e,n),e}function JO(n){if(fv.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),a()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});fv.set(n,e)}let hv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return fv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||f1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ta(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function e3(n){hv=n(hv)}function t3(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(My(this),e,...t);return f1.set(i,e.sort?e.sort():[e]),Ta(i)}:WO().includes(n)?function(...e){return n.apply(My(this),e),Ta(d1.get(this))}:function(...e){return Ta(n.apply(My(this),e))}}function n3(n){return typeof n=="function"?t3(n):(n instanceof IDBTransaction&&JO(n),ZO(n,QO())?new Proxy(n,hv):n)}function Ta(n){if(n instanceof IDBRequest)return XO(n);if(jy.has(n))return jy.get(n);const e=n3(n);return e!==n&&(jy.set(n,e),h0.set(e,n)),e}const My=n=>h0.get(n);function r3(n,e,{blocked:t,upgrade:i,blocking:a,terminated:o}={}){const u=indexedDB.open(n,e),d=Ta(u);return i&&u.addEventListener("upgradeneeded",h=>{i(Ta(u.result),h.oldVersion,h.newVersion,Ta(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),d.then(h=>{o&&h.addEventListener("close",()=>o()),a&&h.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const i3=["get","getKey","getAll","getAllKeys","count"],s3=["put","add","delete","clear"],Py=new Map;function hE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Py.get(e))return Py.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=s3.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||i3.includes(t)))return;const o=async function(u,...d){const h=this.transaction(u,a?"readwrite":"readonly");let m=h.store;return i&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),a&&h.done]))[0]};return Py.set(e,o),o}e3(n=>({...n,get:(e,t,i)=>hE(e,t)||n.get(e,t,i),has:(e,t)=>!!hE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(o3(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function o3(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mv="@firebase/app",mE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new f0("@firebase/app"),l3="@firebase/app-compat",c3="@firebase/analytics-compat",u3="@firebase/analytics",d3="@firebase/app-check-compat",f3="@firebase/app-check",h3="@firebase/auth",m3="@firebase/auth-compat",p3="@firebase/database",g3="@firebase/data-connect",y3="@firebase/database-compat",v3="@firebase/functions",_3="@firebase/functions-compat",b3="@firebase/installations",x3="@firebase/installations-compat",w3="@firebase/messaging",E3="@firebase/messaging-compat",T3="@firebase/performance",S3="@firebase/performance-compat",A3="@firebase/remote-config",C3="@firebase/remote-config-compat",R3="@firebase/storage",N3="@firebase/storage-compat",I3="@firebase/firestore",k3="@firebase/ai",D3="@firebase/firestore-compat",O3="firebase",j3="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="[DEFAULT]",M3={[mv]:"fire-core",[l3]:"fire-core-compat",[u3]:"fire-analytics",[c3]:"fire-analytics-compat",[f3]:"fire-app-check",[d3]:"fire-app-check-compat",[h3]:"fire-auth",[m3]:"fire-auth-compat",[p3]:"fire-rtdb",[g3]:"fire-data-connect",[y3]:"fire-rtdb-compat",[v3]:"fire-fn",[_3]:"fire-fn-compat",[b3]:"fire-iid",[x3]:"fire-iid-compat",[w3]:"fire-fcm",[E3]:"fire-fcm-compat",[T3]:"fire-perf",[S3]:"fire-perf-compat",[A3]:"fire-rc",[C3]:"fire-rc-compat",[R3]:"fire-gcs",[N3]:"fire-gcs-compat",[I3]:"fire-fst",[D3]:"fire-fst-compat",[k3]:"fire-vertex","fire-js":"fire-js",[O3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um=new Map,P3=new Map,gv=new Map;function pE(n,e){try{n.container.addComponent(e)}catch(t){Cs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function lc(n){const e=n.name;if(gv.has(e))return Cs.debug(`There were multiple attempts to register component ${e}.`),!1;gv.set(e,n);for(const t of um.values())pE(t,n);for(const t of P3.values())pE(t,n);return!0}function m0(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Vr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sa=new zd("app","Firebase",L3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=j3;function h1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:pv,automaticDataCollectionEnabled:!0},e),a=i.name;if(typeof a!="string"||!a)throw Sa.create("bad-app-name",{appName:String(a)});if(t||(t=o1()),!t)throw Sa.create("no-options");const o=um.get(a);if(o){if(Do(t,o.options)&&Do(i,o.config))return o;throw Sa.create("duplicate-app",{appName:a})}const u=new qO(a);for(const h of gv.values())u.addComponent(h);const d=new V3(t,i,u);return um.set(a,d),d}function m1(n=pv){const e=um.get(n);if(!e&&n===pv&&o1())return h1();if(!e)throw Sa.create("no-app",{appName:n});return e}function Aa(n,e,t){var i;let a=(i=M3[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cs.warn(d.join(" "));return}lc(new Oo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3="firebase-heartbeat-database",B3=1,md="firebase-heartbeat-store";let Ly=null;function p1(){return Ly||(Ly=r3(U3,B3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(md)}catch(t){console.warn(t)}}}}).catch(n=>{throw Sa.create("idb-open",{originalErrorMessage:n.message})})),Ly}async function z3(n){try{const t=(await p1()).transaction(md),i=await t.objectStore(md).get(g1(n));return await t.done,i}catch(e){if(e instanceof Ps)Cs.warn(e.message);else{const t=Sa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cs.warn(t.message)}}}async function gE(n,e){try{const i=(await p1()).transaction(md,"readwrite");await i.objectStore(md).put(e,g1(n)),await i.done}catch(t){if(t instanceof Ps)Cs.warn(t.message);else{const i=Sa.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Cs.warn(i.message)}}}function g1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=1024,H3=30;class q3{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new G3(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=yE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>H3){const u=Y3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Cs.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=yE(),{heartbeatsToSend:i,unsentEntries:a}=$3(this._heartbeatsCache.heartbeats),o=cm(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Cs.warn(t),""}}}function yE(){return new Date().toISOString().substring(0,10)}function $3(n,e=F3){const t=[];let i=n.slice();for(const a of n){const o=t.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),vE(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),vE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class G3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DO()?OO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await z3(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return gE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return gE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function vE(n){return cm(JSON.stringify({version:2,heartbeats:n})).length}function Y3(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(n){lc(new Oo("platform-logger",e=>new a3(e),"PRIVATE")),lc(new Oo("heartbeat",e=>new q3(e),"PRIVATE")),Aa(mv,mE,n),Aa(mv,mE,"esm2017"),Aa("fire-js","")}K3("");var Si=function(){return Si=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Si.apply(this,arguments)};function Hd(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function Z3(n,e,t){if(t||arguments.length===2)for(var i=0,a=e.length,o;i<a;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return n.concat(o||Array.prototype.slice.call(e))}function y1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Q3=y1,v1=new zd("auth","Firebase",y1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm=new f0("@firebase/auth");function W3(n,...e){dm.logLevel<=ht.WARN&&dm.warn(`Auth (${Rc}): ${n}`,...e)}function Yh(n,...e){dm.logLevel<=ht.ERROR&&dm.error(`Auth (${Rc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(n,...e){throw p0(n,...e)}function Ai(n,...e){return p0(n,...e)}function _1(n,e,t){const i=Object.assign(Object.assign({},Q3()),{[e]:t});return new zd("auth","Firebase",i).create(e,{appName:n.name})}function ws(n){return _1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function p0(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return v1.create(n,...e)}function He(n,e,...t){if(!n)throw p0(e,...t)}function ps(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Yh(e),new Error(e)}function Rs(n,e){n||ps(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function X3(){return _E()==="http:"||_E()==="https:"}function _E(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X3()||RO()||"connection"in navigator)?navigator.onLine:!0}function e4(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Rs(t>e,"Short delay should be less than long delay!"),this.isMobile=SO()||NO()}get(){return J3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(n,e){Rs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],r4=new qd(3e4,6e4);function Fa(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ls(n,e,t,i,a={}){return x1(n,a,async()=>{let o={},u={};i&&(e==="GET"?u=i:o={body:JSON.stringify(i)});const d=Fd(Object.assign({key:n.config.apiKey},u)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:h},o);return CO()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Cc(n.emulatorConfig.host)&&(m.credentials="include"),b1.fetch()(await w1(n,n.config.apiHost,t,d),m)})}async function x1(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},t4),e);try{const a=new s4(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw kh(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const d=o.ok?u.errorMessage:u.error.message,[h,m]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw kh(n,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw kh(n,"email-already-in-use",u);if(h==="USER_DISABLED")throw kh(n,"user-disabled",u);const v=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw _1(n,v,m);ti(n,v)}}catch(a){if(a instanceof Ps)throw a;ti(n,"network-request-failed",{message:String(a)})}}async function $d(n,e,t,i,a={}){const o=await Ls(n,e,t,i,a);return"mfaPendingCredential"in o&&ti(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function w1(n,e,t,i){const a=`${e}${t}?${i}`,o=n,u=o.config.emulator?g0(n.config,a):`${n.config.apiScheme}://${a}`;return n4.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function i4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class s4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ai(this.auth,"network-request-failed")),r4.get())})}}function kh(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=Ai(n,e,i);return a.customData._tokenResponse=t,a}function bE(n){return n!==void 0&&n.enterprise!==void 0}class a4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return i4(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function o4(n,e){return Ls(n,"GET","/v2/recaptchaConfig",Fa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l4(n,e){return Ls(n,"POST","/v1/accounts:delete",e)}async function fm(n,e){return Ls(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function c4(n,e=!1){const t=on(n),i=await t.getIdToken(e),a=y0(i);He(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:a,token:i,authTime:od(Vy(a.auth_time)),issuedAtTime:od(Vy(a.iat)),expirationTime:od(Vy(a.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Vy(n){return Number(n)*1e3}function y0(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Yh("JWT malformed, contained fewer than 3 sections"),null;try{const a=s1(t);return a?JSON.parse(a):(Yh("Failed to decode base64 JWT payload"),null)}catch(a){return Yh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function xE(n){const e=y0(n);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ps&&u4(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function u4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=od(this.lastLoginAt),this.creationTime=od(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hm(n){var e;const t=n.auth,i=await n.getIdToken(),a=await cc(n,fm(t,{idToken:i}));He(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?E1(o.providerUserInfo):[],d=h4(n.providerData,u),h=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!(d!=null&&d.length),v=h?m:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new vv(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(n,b)}async function f4(n){const e=on(n);await hm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function h4(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function E1(n){return n.map(e=>{var{providerId:t}=e,i=Hd(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m4(n,e){const t=await x1(n,{},async()=>{const i=Fd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,u=await w1(n,a,"/v1/token",`key=${o}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:d,body:i};return n.emulatorConfig&&Cc(n.emulatorConfig.host)&&(h.credentials="include"),b1.fetch()(u,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function p4(n,e){return Ls(n,"POST","/v2/accounts:revokeToken",Fa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){He(e.length!==0,"internal-error");const t=xE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:o}=await m4(e,t);this.updateTokensAndExpiration(i,a,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:o}=t,u=new Zl;return i&&(He(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(He(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(He(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zl,this.toJSON())}_performRefresh(){return ps("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(n,e){He(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Qr{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,o=Hd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new d4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await cc(this,this.stsTokenManager.getToken(this.auth,e));return He(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return c4(this,e)}reload(){return f4(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Qr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await hm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vr(this.auth.app))return Promise.reject(ws(this.auth));const e=await this.getIdToken();return await cc(this,l4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,o,u,d,h,m,v;const b=(i=t.displayName)!==null&&i!==void 0?i:void 0,_=(a=t.email)!==null&&a!==void 0?a:void 0,S=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,C=(u=t.photoURL)!==null&&u!==void 0?u:void 0,R=(d=t.tenantId)!==null&&d!==void 0?d:void 0,N=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,M=(m=t.createdAt)!==null&&m!==void 0?m:void 0,U=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:V,emailVerified:$,isAnonymous:H,providerData:W,stsTokenManager:I}=t;He(V&&I,e,"internal-error");const A=Zl.fromJSON(this.name,I);He(typeof V=="string",e,"internal-error"),ma(b,e.name),ma(_,e.name),He(typeof $=="boolean",e,"internal-error"),He(typeof H=="boolean",e,"internal-error"),ma(S,e.name),ma(C,e.name),ma(R,e.name),ma(N,e.name),ma(M,e.name),ma(U,e.name);const j=new Qr({uid:V,auth:e,email:_,emailVerified:$,displayName:b,isAnonymous:H,photoURL:C,phoneNumber:S,tenantId:R,stsTokenManager:A,createdAt:M,lastLoginAt:U});return W&&Array.isArray(W)&&(j.providerData=W.map(B=>Object.assign({},B))),N&&(j._redirectEventId=N),j}static async _fromIdTokenResponse(e,t,i=!1){const a=new Zl;a.updateFromServerResponse(t);const o=new Qr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await hm(o),o}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];He(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?E1(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),d=new Zl;d.updateFromIdToken(i);const h=new Qr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new vv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=new Map;function gs(n){Rs(n instanceof Function,"Expected a class definition");let e=wE.get(n);return e?(Rs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,wE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}T1.type="NONE";const EE=T1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(n,e,t){return`firebase:${n}:${e}:${t}`}class Ql{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:o}=this.auth;this.fullUserKey=Kh(this.userKey,a.apiKey,o),this.fullPersistenceKey=Kh("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await fm(this.auth,{idToken:e}).catch(()=>{});return t?Qr._fromGetAccountInfoResponse(this.auth,t,e):null}return Qr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ql(gs(EE),e,i);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=a[0]||gs(EE);const u=Kh(i,e.config.apiKey,e.name);let d=null;for(const m of t)try{const v=await m._get(u);if(v){let b;if(typeof v=="string"){const _=await fm(e,{idToken:v}).catch(()=>{});if(!_)break;b=await Qr._fromGetAccountInfoResponse(e,_,v)}else b=Qr._fromJSON(e,v);m!==o&&(d=b),o=m;break}}catch{}const h=a.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Ql(o,e,i):(o=h[0],d&&await o._set(u,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==o)try{await m._remove(u)}catch{}})),new Ql(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(R1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(S1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(I1(e))return"Blackberry";if(k1(e))return"Webos";if(A1(e))return"Safari";if((e.includes("chrome/")||C1(e))&&!e.includes("edge/"))return"Chrome";if(N1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function S1(n=Qn()){return/firefox\//i.test(n)}function A1(n=Qn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function C1(n=Qn()){return/crios\//i.test(n)}function R1(n=Qn()){return/iemobile/i.test(n)}function N1(n=Qn()){return/android/i.test(n)}function I1(n=Qn()){return/blackberry/i.test(n)}function k1(n=Qn()){return/webos/i.test(n)}function v0(n=Qn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function g4(n=Qn()){var e;return v0(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function y4(){return IO()&&document.documentMode===10}function D1(n=Qn()){return v0(n)||N1(n)||k1(n)||I1(n)||/windows phone/i.test(n)||R1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(n,e=[]){let t;switch(n){case"Browser":t=TE(Qn());break;case"Worker":t=`${TE(Qn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Rc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((u,d)=>{try{const h=e(o);u(h)}catch(h){d(h)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _4(n,e={}){return Ls(n,"GET","/v2/passwordPolicy",Fa(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=6;class x4{constructor(e){var t,i,a,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:b4,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,o,u,d;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(a=h.containsLowercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(d=h.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),h}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SE(this),this.idTokenSubscription=new SE(this),this.beforeStateQueue=new v4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gs(t)),this._initializationPromise=this.queue(async()=>{var i,a,o;if(!this._deleted&&(this.persistenceManager=await Ql.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await fm(this,{idToken:e}),i=await Qr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Vr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===d)&&(h!=null&&h.user)&&(a=h.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await hm(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=e4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vr(this.app))return Promise.reject(ws(this));const t=e?on(e):null;return t&&He(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vr(this.app)?Promise.reject(ws(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vr(this.app)?Promise.reject(ws(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _4(this),t=new x4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zd("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await p4(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&gs(e)||this._popupRedirectResolver;He(t,this,"argument-error"),this.redirectPersistenceManager=await Ql.create(this,[gs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(d,this,"internal-error"),d.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,a);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=O1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Vr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&W3(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function $o(n){return on(n)}class SE{constructor(e){this.auth=e,this.observer=null,this.addObserver=VO(t=>this.observer=t)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function E4(n){Km=n}function j1(n){return Km.loadJS(n)}function T4(){return Km.recaptchaEnterpriseScript}function S4(){return Km.gapiScript}function A4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class C4{constructor(){this.enterprise=new R4}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class R4{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const N4="recaptcha-enterprise",M1="NO_RECAPTCHA";class I4{constructor(e){this.type=N4,this.auth=$o(e)}async verify(e="verify",t=!1){async function i(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,d)=>{o4(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new a4(h);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,u(m.siteKey)}}).catch(h=>{d(h)})})}function a(o,u,d){const h=window.grecaptcha;bE(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(m=>{u(m)}).catch(()=>{u(M1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new C4().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{i(this.auth).then(d=>{if(!t&&bE(window.grecaptcha))a(d,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=T4();h.length!==0&&(h+=d),j1(h).then(()=>{a(d,o,u)}).catch(m=>{u(m)})}}).catch(d=>{u(d)})})}}async function AE(n,e,t,i=!1,a=!1){const o=new I4(n);let u;if(a)u=M1;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function _v(n,e,t,i,a){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await AE(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await AE(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(n,e){const t=m0(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Do(o,e??{}))return a;ti(a,"already-initialized")}return t.initialize({options:e})}function D4(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(gs);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function O4(n,e,t){const i=$o(n);He(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,o=P1(e),{host:u,port:d}=j4(e),h=d===null?"":`:${d}`,m={url:`${o}//${u}${h}/`},v=Object.freeze({host:u,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){He(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),He(Do(m,i.config.emulator)&&Do(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,Cc(u)?(c1(`${o}//${u}${h}`),u1("Auth",!0)):M4()}function P1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function j4(n){const e=P1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const o=a[1];return{host:o,port:CE(i.substr(o.length+1))}}else{const[o,u]=i.split(":");return{host:o,port:CE(u)}}}function CE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function M4(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ps("not implemented")}_getIdTokenResponse(e){return ps("not implemented")}_linkToIdToken(e,t){return ps("not implemented")}_getReauthenticationResolver(e){return ps("not implemented")}}async function P4(n,e){return Ls(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L4(n,e){return $d(n,"POST","/v1/accounts:signInWithPassword",Fa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V4(n,e){return $d(n,"POST","/v1/accounts:signInWithEmailLink",Fa(n,e))}async function U4(n,e){return $d(n,"POST","/v1/accounts:signInWithEmailLink",Fa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd extends _0{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new pd(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new pd(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _v(e,t,"signInWithPassword",L4);case"emailLink":return V4(e,{email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _v(e,i,"signUpPassword",P4);case"emailLink":return U4(e,{idToken:t,email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(n,e){return $d(n,"POST","/v1/accounts:signInWithIdp",Fa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4="http://localhost";class jo extends _0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new jo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ti("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,o=Hd(t,["providerId","signInMethod"]);if(!i||!a)return null;const u=new jo(i,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Wl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Wl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Wl(e,t)}buildRequest(){const e={requestUri:B4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Fd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function F4(n){const e=Qu(Wu(n)).link,t=e?Qu(Wu(e)).deep_link_id:null,i=Qu(Wu(n)).deep_link_id;return(i?Qu(Wu(i)).link:null)||i||t||e||n}class b0{constructor(e){var t,i,a,o,u,d;const h=Qu(Wu(e)),m=(t=h.apiKey)!==null&&t!==void 0?t:null,v=(i=h.oobCode)!==null&&i!==void 0?i:null,b=z4((a=h.mode)!==null&&a!==void 0?a:null);He(m&&v&&b,"argument-error"),this.apiKey=m,this.operation=b,this.code=v,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=h.lang)!==null&&u!==void 0?u:null,this.tenantId=(d=h.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=F4(e);try{return new b0(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this.providerId=Nc.PROVIDER_ID}static credential(e,t){return pd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=b0.parseLink(t);return He(i,"argument-error"),pd._fromEmailAndCode(e,i.code,i.tenantId)}}Nc.PROVIDER_ID="password";Nc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd extends L1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends Gd{constructor(){super("facebook.com")}static credential(e){return jo._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return va.credential(e.oauthAccessToken)}catch{return null}}}va.FACEBOOK_SIGN_IN_METHOD="facebook.com";va.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends Gd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return jo._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return _a.credential(t,i)}catch{return null}}}_a.GOOGLE_SIGN_IN_METHOD="google.com";_a.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba extends Gd{constructor(){super("github.com")}static credential(e){return jo._fromParams({providerId:ba.PROVIDER_ID,signInMethod:ba.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ba.credentialFromTaggedObject(e)}static credentialFromError(e){return ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ba.credential(e.oauthAccessToken)}catch{return null}}}ba.GITHUB_SIGN_IN_METHOD="github.com";ba.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends Gd{constructor(){super("twitter.com")}static credential(e,t){return jo._fromParams({providerId:xa.PROVIDER_ID,signInMethod:xa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return xa.credentialFromTaggedObject(e)}static credentialFromError(e){return xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return xa.credential(t,i)}catch{return null}}}xa.TWITTER_SIGN_IN_METHOD="twitter.com";xa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H4(n,e){return $d(n,"POST","/v1/accounts:signUp",Fa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const o=await Qr._fromIdTokenResponse(e,i,a),u=RE(i);return new Mo({user:o,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=RE(i);return new Mo({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function RE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm extends Ps{constructor(e,t,i,a){var o;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,mm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new mm(e,t,i,a)}}function V1(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?mm._fromErrorAndOperation(n,o,e,i):o})}async function q4(n,e,t=!1){const i=await cc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Mo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $4(n,e,t=!1){const{auth:i}=n;if(Vr(i.app))return Promise.reject(ws(i));const a="reauthenticate";try{const o=await cc(n,V1(i,a,e,n),t);He(o.idToken,i,"internal-error");const u=y0(o.idToken);He(u,i,"internal-error");const{sub:d}=u;return He(n.uid===d,i,"user-mismatch"),Mo._forOperation(n,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ti(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U1(n,e,t=!1){if(Vr(n.app))return Promise.reject(ws(n));const i="signIn",a=await V1(n,i,e),o=await Mo._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(o.user),o}async function G4(n,e){return U1($o(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B1(n){const e=$o(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Y4(n,e,t){if(Vr(n.app))return Promise.reject(ws(n));const i=$o(n),u=await _v(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",H4).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&B1(n),h}),d=await Mo._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(d.user),d}function K4(n,e,t){return Vr(n.app)?Promise.reject(ws(n)):G4(on(n),Nc.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&B1(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z4(n,e){return Ls(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z1(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=on(n),o={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await cc(i,Z4(i.auth,o));i.displayName=u.displayName||null,i.photoURL=u.photoUrl||null;const d=i.providerData.find(({providerId:h})=>h==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(u)}function Q4(n,e,t,i){return on(n).onIdTokenChanged(e,t,i)}function W4(n,e,t){return on(n).beforeAuthStateChanged(e,t)}function X4(n,e,t,i){return on(n).onAuthStateChanged(e,t,i)}function J4(n){return on(n).signOut()}const pm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(pm,"1"),this.storage.removeItem(pm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=1e3,tj=10;class H1 extends F1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=D1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,h)=>{this.notifyListeners(u,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);y4()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,tj):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},ej)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}H1.type="LOCAL";const nj=H1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1 extends F1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}q1.type="SESSION";const $1=q1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Zm(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:o}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(u).map(async m=>m(t.origin,o)),h=await rj(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((d,h)=>{const m=x0("",20);a.port1.start();const v=setTimeout(()=>{h(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(b){const _=b;if(_.data.eventId===m)switch(_.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(_.data.response);break;default:clearTimeout(v),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(){return window}function sj(n){Ci().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function aj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oj(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function lj(){return G1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="firebaseLocalStorageDb",cj=1,gm="firebaseLocalStorage",K1="fbase_key";class Yd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Qm(n,e){return n.transaction([gm],e?"readwrite":"readonly").objectStore(gm)}function uj(){const n=indexedDB.deleteDatabase(Y1);return new Yd(n).toPromise()}function bv(){const n=indexedDB.open(Y1,cj);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(gm,{keyPath:K1})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(gm)?e(i):(i.close(),await uj(),e(await bv()))})})}async function NE(n,e,t){const i=Qm(n,!0).put({[K1]:e,value:t});return new Yd(i).toPromise()}async function dj(n,e){const t=Qm(n,!1).get(e),i=await new Yd(t).toPromise();return i===void 0?null:i.value}function IE(n,e){const t=Qm(n,!0).delete(e);return new Yd(t).toPromise()}const fj=800,hj=3;class Z1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>hj)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return G1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zm._getInstance(lj()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await aj(),!this.activeServiceWorker)return;this.sender=new ij(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bv();return await NE(e,pm,"1"),await IE(e,pm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>NE(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>dj(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>IE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Qm(a,!1).getAll();return new Yd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Z1.type="LOCAL";const mj=Z1;new qd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(n,e){return e?gs(e):(He(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0 extends _0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Wl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Wl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function gj(n){return U1(n.auth,new w0(n),n.bypassAuthState)}function yj(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),$4(t,new w0(n),n.bypassAuthState)}async function vj(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),q4(t,new w0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,t,i,a,o=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:o,error:u,type:d}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gj;case"linkViaPopup":case"linkViaRedirect":return vj;case"reauthViaPopup":case"reauthViaRedirect":return yj;default:ti(this.auth,"internal-error")}}resolve(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=new qd(2e3,1e4);class Yl extends Q1{constructor(e,t,i,a,o){super(e,t,a,o),this.provider=i,this.authWindow=null,this.pollId=null,Yl.currentPopupAction&&Yl.currentPopupAction.cancel(),Yl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Rs(this.filter.length===1,"Popup operations only handle one event");const e=x0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_j.get())};e()}}Yl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj="pendingRedirect",Zh=new Map;class xj extends Q1{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Zh.get(this.auth._key());if(!e){try{const i=await wj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Zh.set(this.auth._key(),e)}return this.bypassAuthState||Zh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wj(n,e){const t=Sj(e),i=Tj(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function Ej(n,e){Zh.set(n._key(),e)}function Tj(n){return gs(n._redirectPersistence)}function Sj(n){return Kh(bj,n.config.apiKey,n.name)}async function Aj(n,e,t=!1){if(Vr(n.app))return Promise.reject(ws(n));const i=$o(n),a=pj(i,e),u=await new xj(i,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=10*60*1e3;class Rj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Nj(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!W1(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Ai(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Cj&&this.cachedEventUids.clear(),this.cachedEventUids.has(kE(e))}saveEventToCache(e){this.cachedEventUids.add(kE(e)),this.lastProcessedEventTime=Date.now()}}function kE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function W1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Nj(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ij(n,e={}){return Ls(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dj=/^https?/;async function Oj(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Ij(n);for(const t of e)try{if(jj(t))return}catch{}ti(n,"unauthorized-domain")}function jj(n){const e=yv(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!Dj.test(t))return!1;if(kj.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=new qd(3e4,6e4);function DE(){const n=Ci().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Pj(n){return new Promise((e,t)=>{var i,a,o;function u(){DE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DE(),t(Ai(n,"network-request-failed"))},timeout:Mj.get()})}if(!((a=(i=Ci().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=Ci().gapi)===null||o===void 0)&&o.load)u();else{const d=A4("iframefcb");return Ci()[d]=()=>{gapi.load?u():t(Ai(n,"network-request-failed"))},j1(`${S4()}?onload=${d}`).catch(h=>t(h))}}).catch(e=>{throw Qh=null,e})}let Qh=null;function Lj(n){return Qh=Qh||Pj(n),Qh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=new qd(5e3,15e3),Uj="__/auth/iframe",Bj="emulator/auth/iframe",zj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hj(n){const e=n.config;He(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?g0(e,Bj):`https://${n.config.authDomain}/${Uj}`,i={apiKey:e.apiKey,appName:n.name,v:Rc},a=Fj.get(n.config.apiHost);a&&(i.eid=a);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Fd(i).slice(1)}`}async function qj(n){const e=await Lj(n),t=Ci().gapi;return He(t,n,"internal-error"),e.open({where:document.body,url:Hj(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zj,dontclear:!0},i=>new Promise(async(a,o)=>{await i.restyle({setHideOnLeave:!1});const u=Ai(n,"network-request-failed"),d=Ci().setTimeout(()=>{o(u)},Vj.get());function h(){Ci().clearTimeout(d),a(i)}i.ping(h).then(h,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gj=500,Yj=600,Kj="_blank",Zj="http://localhost";class OE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Qj(n,e,t,i=Gj,a=Yj){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const h=Object.assign(Object.assign({},$j),{width:i.toString(),height:a.toString(),top:o,left:u}),m=Qn().toLowerCase();t&&(d=C1(m)?Kj:t),S1(m)&&(e=e||Zj,h.scrollbars="yes");const v=Object.entries(h).reduce((_,[S,C])=>`${_}${S}=${C},`,"");if(g4(m)&&d!=="_self")return Wj(e||"",d),new OE(null);const b=window.open(e||"",d,v);He(b,n,"popup-blocked");try{b.focus()}catch{}return new OE(b)}function Wj(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj="__/auth/handler",Jj="emulator/auth/handler",eM=encodeURIComponent("fac");async function jE(n,e,t,i,a,o){He(n.config.authDomain,n,"auth-domain-config-required"),He(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Rc,eventId:a};if(e instanceof L1){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",LO(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))u[v]=b}if(e instanceof Gd){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const h=await n._getAppCheckToken(),m=h?`#${eM}=${encodeURIComponent(h)}`:"";return`${tM(n)}?${Fd(d).slice(1)}${m}`}function tM({config:n}){return n.emulator?g0(n,Jj):`https://${n.authDomain}/${Xj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="webStorageSupport";class nM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$1,this._completeRedirectFn=Aj,this._overrideRedirectResult=Ej}async _openPopup(e,t,i,a){var o;Rs((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await jE(e,t,i,yv(),a);return Qj(e,u,x0())}async _openRedirect(e,t,i,a){await this._originValidation(e);const o=await jE(e,t,i,yv(),a);return sj(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Rs(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await qj(e),i=new Rj(e);return t.register("authEvent",a=>(He(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Uy,{type:Uy},a=>{var o;const u=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[Uy];u!==void 0&&t(!!u),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Oj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return D1()||A1()||v0()}}const rM=nM;var ME="@firebase/auth",PE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aM(n){lc(new Oo("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;He(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O1(n)},m=new w4(i,a,o,h);return D4(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),lc(new Oo("auth-internal",e=>{const t=$o(e.getProvider("auth").getImmediate());return(i=>new iM(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Aa(ME,PE,sM(n)),Aa(ME,PE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=5*60,lM=l1("authIdTokenMaxAge")||oM;let LE=null;const cM=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>lM)return;const a=t==null?void 0:t.token;LE!==a&&(LE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function uM(n=m1()){const e=m0(n,"auth");if(e.isInitialized())return e.getImmediate();const t=k4(n,{popupRedirectResolver:rM,persistence:[mj,nj,$1]}),i=l1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const u=cM(o.toString());W4(t,u,()=>u(t.currentUser)),Q4(t,d=>u(d))}}const a=a1("auth");return a&&O4(t,`http://${a}`),t}function dM(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}E4({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const o=Ai("internal-error");o.customData=a,t(o)},i.type="text/javascript",i.charset="UTF-8",dM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aM("Browser");var VE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ca,X1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,A){function j(){}j.prototype=A.prototype,I.D=A.prototype,I.prototype=new j,I.prototype.constructor=I,I.C=function(B,D,L){for(var P=Array(arguments.length-2),G=2;G<arguments.length;G++)P[G-2]=arguments[G];return A.prototype[D].apply(B,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,A,j){j||(j=0);var B=Array(16);if(typeof A=="string")for(var D=0;16>D;++D)B[D]=A.charCodeAt(j++)|A.charCodeAt(j++)<<8|A.charCodeAt(j++)<<16|A.charCodeAt(j++)<<24;else for(D=0;16>D;++D)B[D]=A[j++]|A[j++]<<8|A[j++]<<16|A[j++]<<24;A=I.g[0],j=I.g[1],D=I.g[2];var L=I.g[3],P=A+(L^j&(D^L))+B[0]+3614090360&4294967295;A=j+(P<<7&4294967295|P>>>25),P=L+(D^A&(j^D))+B[1]+3905402710&4294967295,L=A+(P<<12&4294967295|P>>>20),P=D+(j^L&(A^j))+B[2]+606105819&4294967295,D=L+(P<<17&4294967295|P>>>15),P=j+(A^D&(L^A))+B[3]+3250441966&4294967295,j=D+(P<<22&4294967295|P>>>10),P=A+(L^j&(D^L))+B[4]+4118548399&4294967295,A=j+(P<<7&4294967295|P>>>25),P=L+(D^A&(j^D))+B[5]+1200080426&4294967295,L=A+(P<<12&4294967295|P>>>20),P=D+(j^L&(A^j))+B[6]+2821735955&4294967295,D=L+(P<<17&4294967295|P>>>15),P=j+(A^D&(L^A))+B[7]+4249261313&4294967295,j=D+(P<<22&4294967295|P>>>10),P=A+(L^j&(D^L))+B[8]+1770035416&4294967295,A=j+(P<<7&4294967295|P>>>25),P=L+(D^A&(j^D))+B[9]+2336552879&4294967295,L=A+(P<<12&4294967295|P>>>20),P=D+(j^L&(A^j))+B[10]+4294925233&4294967295,D=L+(P<<17&4294967295|P>>>15),P=j+(A^D&(L^A))+B[11]+2304563134&4294967295,j=D+(P<<22&4294967295|P>>>10),P=A+(L^j&(D^L))+B[12]+1804603682&4294967295,A=j+(P<<7&4294967295|P>>>25),P=L+(D^A&(j^D))+B[13]+4254626195&4294967295,L=A+(P<<12&4294967295|P>>>20),P=D+(j^L&(A^j))+B[14]+2792965006&4294967295,D=L+(P<<17&4294967295|P>>>15),P=j+(A^D&(L^A))+B[15]+1236535329&4294967295,j=D+(P<<22&4294967295|P>>>10),P=A+(D^L&(j^D))+B[1]+4129170786&4294967295,A=j+(P<<5&4294967295|P>>>27),P=L+(j^D&(A^j))+B[6]+3225465664&4294967295,L=A+(P<<9&4294967295|P>>>23),P=D+(A^j&(L^A))+B[11]+643717713&4294967295,D=L+(P<<14&4294967295|P>>>18),P=j+(L^A&(D^L))+B[0]+3921069994&4294967295,j=D+(P<<20&4294967295|P>>>12),P=A+(D^L&(j^D))+B[5]+3593408605&4294967295,A=j+(P<<5&4294967295|P>>>27),P=L+(j^D&(A^j))+B[10]+38016083&4294967295,L=A+(P<<9&4294967295|P>>>23),P=D+(A^j&(L^A))+B[15]+3634488961&4294967295,D=L+(P<<14&4294967295|P>>>18),P=j+(L^A&(D^L))+B[4]+3889429448&4294967295,j=D+(P<<20&4294967295|P>>>12),P=A+(D^L&(j^D))+B[9]+568446438&4294967295,A=j+(P<<5&4294967295|P>>>27),P=L+(j^D&(A^j))+B[14]+3275163606&4294967295,L=A+(P<<9&4294967295|P>>>23),P=D+(A^j&(L^A))+B[3]+4107603335&4294967295,D=L+(P<<14&4294967295|P>>>18),P=j+(L^A&(D^L))+B[8]+1163531501&4294967295,j=D+(P<<20&4294967295|P>>>12),P=A+(D^L&(j^D))+B[13]+2850285829&4294967295,A=j+(P<<5&4294967295|P>>>27),P=L+(j^D&(A^j))+B[2]+4243563512&4294967295,L=A+(P<<9&4294967295|P>>>23),P=D+(A^j&(L^A))+B[7]+1735328473&4294967295,D=L+(P<<14&4294967295|P>>>18),P=j+(L^A&(D^L))+B[12]+2368359562&4294967295,j=D+(P<<20&4294967295|P>>>12),P=A+(j^D^L)+B[5]+4294588738&4294967295,A=j+(P<<4&4294967295|P>>>28),P=L+(A^j^D)+B[8]+2272392833&4294967295,L=A+(P<<11&4294967295|P>>>21),P=D+(L^A^j)+B[11]+1839030562&4294967295,D=L+(P<<16&4294967295|P>>>16),P=j+(D^L^A)+B[14]+4259657740&4294967295,j=D+(P<<23&4294967295|P>>>9),P=A+(j^D^L)+B[1]+2763975236&4294967295,A=j+(P<<4&4294967295|P>>>28),P=L+(A^j^D)+B[4]+1272893353&4294967295,L=A+(P<<11&4294967295|P>>>21),P=D+(L^A^j)+B[7]+4139469664&4294967295,D=L+(P<<16&4294967295|P>>>16),P=j+(D^L^A)+B[10]+3200236656&4294967295,j=D+(P<<23&4294967295|P>>>9),P=A+(j^D^L)+B[13]+681279174&4294967295,A=j+(P<<4&4294967295|P>>>28),P=L+(A^j^D)+B[0]+3936430074&4294967295,L=A+(P<<11&4294967295|P>>>21),P=D+(L^A^j)+B[3]+3572445317&4294967295,D=L+(P<<16&4294967295|P>>>16),P=j+(D^L^A)+B[6]+76029189&4294967295,j=D+(P<<23&4294967295|P>>>9),P=A+(j^D^L)+B[9]+3654602809&4294967295,A=j+(P<<4&4294967295|P>>>28),P=L+(A^j^D)+B[12]+3873151461&4294967295,L=A+(P<<11&4294967295|P>>>21),P=D+(L^A^j)+B[15]+530742520&4294967295,D=L+(P<<16&4294967295|P>>>16),P=j+(D^L^A)+B[2]+3299628645&4294967295,j=D+(P<<23&4294967295|P>>>9),P=A+(D^(j|~L))+B[0]+4096336452&4294967295,A=j+(P<<6&4294967295|P>>>26),P=L+(j^(A|~D))+B[7]+1126891415&4294967295,L=A+(P<<10&4294967295|P>>>22),P=D+(A^(L|~j))+B[14]+2878612391&4294967295,D=L+(P<<15&4294967295|P>>>17),P=j+(L^(D|~A))+B[5]+4237533241&4294967295,j=D+(P<<21&4294967295|P>>>11),P=A+(D^(j|~L))+B[12]+1700485571&4294967295,A=j+(P<<6&4294967295|P>>>26),P=L+(j^(A|~D))+B[3]+2399980690&4294967295,L=A+(P<<10&4294967295|P>>>22),P=D+(A^(L|~j))+B[10]+4293915773&4294967295,D=L+(P<<15&4294967295|P>>>17),P=j+(L^(D|~A))+B[1]+2240044497&4294967295,j=D+(P<<21&4294967295|P>>>11),P=A+(D^(j|~L))+B[8]+1873313359&4294967295,A=j+(P<<6&4294967295|P>>>26),P=L+(j^(A|~D))+B[15]+4264355552&4294967295,L=A+(P<<10&4294967295|P>>>22),P=D+(A^(L|~j))+B[6]+2734768916&4294967295,D=L+(P<<15&4294967295|P>>>17),P=j+(L^(D|~A))+B[13]+1309151649&4294967295,j=D+(P<<21&4294967295|P>>>11),P=A+(D^(j|~L))+B[4]+4149444226&4294967295,A=j+(P<<6&4294967295|P>>>26),P=L+(j^(A|~D))+B[11]+3174756917&4294967295,L=A+(P<<10&4294967295|P>>>22),P=D+(A^(L|~j))+B[2]+718787259&4294967295,D=L+(P<<15&4294967295|P>>>17),P=j+(L^(D|~A))+B[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(D+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+L&4294967295}i.prototype.u=function(I,A){A===void 0&&(A=I.length);for(var j=A-this.blockSize,B=this.B,D=this.h,L=0;L<A;){if(D==0)for(;L<=j;)a(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<A;)if(B[D++]=I.charCodeAt(L++),D==this.blockSize){a(this,B),D=0;break}}else for(;L<A;)if(B[D++]=I[L++],D==this.blockSize){a(this,B),D=0;break}}this.h=D,this.o+=A},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;var j=8*this.o;for(A=I.length-8;A<I.length;++A)I[A]=j&255,j/=256;for(this.u(I),I=Array(16),A=j=0;4>A;++A)for(var B=0;32>B;B+=8)I[j++]=this.g[A]>>>B&255;return I};function o(I,A){var j=d;return Object.prototype.hasOwnProperty.call(j,I)?j[I]:j[I]=A(I)}function u(I,A){this.h=A;for(var j=[],B=!0,D=I.length-1;0<=D;D--){var L=I[D]|0;B&&L==A||(j[D]=L,B=!1)}this.g=j}var d={};function h(I){return-128<=I&&128>I?o(I,function(A){return new u([A|0],0>A?-1:0)}):new u([I|0],0>I?-1:0)}function m(I){if(isNaN(I)||!isFinite(I))return b;if(0>I)return N(m(-I));for(var A=[],j=1,B=0;I>=j;B++)A[B]=I/j|0,j*=4294967296;return new u(A,0)}function v(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return N(v(I.substring(1),A));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=m(Math.pow(A,8)),B=b,D=0;D<I.length;D+=8){var L=Math.min(8,I.length-D),P=parseInt(I.substring(D,D+L),A);8>L?(L=m(Math.pow(A,L)),B=B.j(L).add(m(P))):(B=B.j(j),B=B.add(m(P)))}return B}var b=h(0),_=h(1),S=h(16777216);n=u.prototype,n.m=function(){if(R(this))return-N(this).m();for(var I=0,A=1,j=0;j<this.g.length;j++){var B=this.i(j);I+=(0<=B?B:4294967296+B)*A,A*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C(this))return"0";if(R(this))return"-"+N(this).toString(I);for(var A=m(Math.pow(I,6)),j=this,B="";;){var D=$(j,A).g;j=M(j,D.j(A));var L=((0<j.g.length?j.g[0]:j.h)>>>0).toString(I);if(j=D,C(j))return L+B;for(;6>L.length;)L="0"+L;B=L+B}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function C(I){if(I.h!=0)return!1;for(var A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function R(I){return I.h==-1}n.l=function(I){return I=M(this,I),R(I)?-1:C(I)?0:1};function N(I){for(var A=I.g.length,j=[],B=0;B<A;B++)j[B]=~I.g[B];return new u(j,~I.h).add(_)}n.abs=function(){return R(this)?N(this):this},n.add=function(I){for(var A=Math.max(this.g.length,I.g.length),j=[],B=0,D=0;D<=A;D++){var L=B+(this.i(D)&65535)+(I.i(D)&65535),P=(L>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);B=P>>>16,L&=65535,P&=65535,j[D]=P<<16|L}return new u(j,j[j.length-1]&-2147483648?-1:0)};function M(I,A){return I.add(N(A))}n.j=function(I){if(C(this)||C(I))return b;if(R(this))return R(I)?N(this).j(N(I)):N(N(this).j(I));if(R(I))return N(this.j(N(I)));if(0>this.l(S)&&0>I.l(S))return m(this.m()*I.m());for(var A=this.g.length+I.g.length,j=[],B=0;B<2*A;B++)j[B]=0;for(B=0;B<this.g.length;B++)for(var D=0;D<I.g.length;D++){var L=this.i(B)>>>16,P=this.i(B)&65535,G=I.i(D)>>>16,ie=I.i(D)&65535;j[2*B+2*D]+=P*ie,U(j,2*B+2*D),j[2*B+2*D+1]+=L*ie,U(j,2*B+2*D+1),j[2*B+2*D+1]+=P*G,U(j,2*B+2*D+1),j[2*B+2*D+2]+=L*G,U(j,2*B+2*D+2)}for(B=0;B<A;B++)j[B]=j[2*B+1]<<16|j[2*B];for(B=A;B<2*A;B++)j[B]=0;return new u(j,0)};function U(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function V(I,A){this.g=I,this.h=A}function $(I,A){if(C(A))throw Error("division by zero");if(C(I))return new V(b,b);if(R(I))return A=$(N(I),A),new V(N(A.g),N(A.h));if(R(A))return A=$(I,N(A)),new V(N(A.g),A.h);if(30<I.g.length){if(R(I)||R(A))throw Error("slowDivide_ only works with positive integers.");for(var j=_,B=A;0>=B.l(I);)j=H(j),B=H(B);var D=W(j,1),L=W(B,1);for(B=W(B,2),j=W(j,2);!C(B);){var P=L.add(B);0>=P.l(I)&&(D=D.add(j),L=P),B=W(B,1),j=W(j,1)}return A=M(I,D.j(A)),new V(D,A)}for(D=b;0<=I.l(A);){for(j=Math.max(1,Math.floor(I.m()/A.m())),B=Math.ceil(Math.log(j)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),L=m(j),P=L.j(A);R(P)||0<P.l(I);)j-=B,L=m(j),P=L.j(A);C(L)&&(L=_),D=D.add(L),I=M(I,P)}return new V(D,I)}n.A=function(I){return $(this,I).h},n.and=function(I){for(var A=Math.max(this.g.length,I.g.length),j=[],B=0;B<A;B++)j[B]=this.i(B)&I.i(B);return new u(j,this.h&I.h)},n.or=function(I){for(var A=Math.max(this.g.length,I.g.length),j=[],B=0;B<A;B++)j[B]=this.i(B)|I.i(B);return new u(j,this.h|I.h)},n.xor=function(I){for(var A=Math.max(this.g.length,I.g.length),j=[],B=0;B<A;B++)j[B]=this.i(B)^I.i(B);return new u(j,this.h^I.h)};function H(I){for(var A=I.g.length+1,j=[],B=0;B<A;B++)j[B]=I.i(B)<<1|I.i(B-1)>>>31;return new u(j,I.h)}function W(I,A){var j=A>>5;A%=32;for(var B=I.g.length-j,D=[],L=0;L<B;L++)D[L]=0<A?I.i(L+j)>>>A|I.i(L+j+1)<<32-A:I.i(L+j);return new u(D,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,X1=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Ca=u}).apply(typeof VE<"u"?VE:typeof self<"u"?self:typeof window<"u"?window:{});var Dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var J1,Xu,eA,Wh,xv,tA,nA,rA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,x,E){return f==Array.prototype||f==Object.prototype||(f[x]=E.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dh=="object"&&Dh];for(var x=0;x<f.length;++x){var E=f[x];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=t(this);function a(f,x){if(x)e:{var E=i;f=f.split(".");for(var O=0;O<f.length-1;O++){var X=f[O];if(!(X in E))break e;E=E[X]}f=f[f.length-1],O=E[f],x=x(O),x!=O&&x!=null&&e(E,f,{configurable:!0,writable:!0,value:x})}}function o(f,x){f instanceof String&&(f+="");var E=0,O=!1,X={next:function(){if(!O&&E<f.length){var se=E++;return{value:x(se,f[se]),done:!1}}return O=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}a("Array.prototype.values",function(f){return f||function(){return o(this,function(x,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function h(f){var x=typeof f;return x=x!="object"?x:f?Array.isArray(f)?"array":x:"null",x=="array"||x=="object"&&typeof f.length=="number"}function m(f){var x=typeof f;return x=="object"&&f!=null||x=="function"}function v(f,x,E){return f.call.apply(f.bind,arguments)}function b(f,x,E){if(!f)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,O),f.apply(x,X)}}return function(){return f.apply(x,arguments)}}function _(f,x,E){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,_.apply(null,arguments)}function S(f,x){var E=Array.prototype.slice.call(arguments,1);return function(){var O=E.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function C(f,x){function E(){}E.prototype=x.prototype,f.aa=x.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(O,X,se){for(var xe=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)xe[gt-2]=arguments[gt];return x.prototype[X].apply(O,xe)}}function R(f){const x=f.length;if(0<x){const E=Array(x);for(let O=0;O<x;O++)E[O]=f[O];return E}return[]}function N(f,x){for(let E=1;E<arguments.length;E++){const O=arguments[E];if(h(O)){const X=f.length||0,se=O.length||0;f.length=X+se;for(let xe=0;xe<se;xe++)f[X+xe]=O[xe]}else f.push(O)}}class M{constructor(x,E){this.i=x,this.j=E,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function U(f){return/^[\s\xa0]*$/.test(f)}function V(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function $(f){return $[" "](f),f}$[" "]=function(){};var H=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function W(f,x,E){for(const O in f)x.call(E,f[O],O,f)}function I(f,x){for(const E in f)x.call(void 0,f[E],E,f)}function A(f){const x={};for(const E in f)x[E]=f[E];return x}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(f,x){let E,O;for(let X=1;X<arguments.length;X++){O=arguments[X];for(E in O)f[E]=O[E];for(let se=0;se<j.length;se++)E=j[se],Object.prototype.hasOwnProperty.call(O,E)&&(f[E]=O[E])}}function D(f){var x=1;f=f.split(":");const E=[];for(;0<x&&f.length;)E.push(f.shift()),x--;return f.length&&E.push(f.join(":")),E}function L(f){d.setTimeout(()=>{throw f},0)}function P(){var f=ve;let x=null;return f.g&&(x=f.g,f.g=f.g.next,f.g||(f.h=null),x.next=null),x}class G{constructor(){this.h=this.g=null}add(x,E){const O=ie.get();O.set(x,E),this.h?this.h.next=O:this.g=O,this.h=O}}var ie=new M(()=>new q,f=>f.reset());class q{constructor(){this.next=this.g=this.h=null}set(x,E){this.h=x,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let te,K=!1,ve=new G,z=()=>{const f=d.Promise.resolve(void 0);te=()=>{f.then(ae)}};var ae=()=>{for(var f;f=P();){try{f.h.call(f.g)}catch(E){L(E)}var x=ie;x.j(f),100>x.h&&(x.h++,f.next=x.g,x.g=f)}K=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(f,x){this.type=f,this.g=this.target=x,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,x=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};d.addEventListener("test",E,x),d.removeEventListener("test",E,x)}catch{}return f}();function Pe(f,x){if(oe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=x,x=f.relatedTarget){if(H){e:{try{$(x.nodeName);var X=!0;break e}catch{}X=!1}X||(x=null)}}else E=="mouseover"?x=f.fromElement:E=="mouseout"&&(x=f.toElement);this.relatedTarget=x,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ke[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Pe.aa.h.call(this)}}C(Pe,oe);var ke={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),De=0;function ut(f,x,E,O,X){this.listener=f,this.proxy=null,this.src=x,this.type=E,this.capture=!!O,this.ha=X,this.key=++De,this.da=this.fa=!1}function Ze(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Qe(f){this.src=f,this.g={},this.h=0}Qe.prototype.add=function(f,x,E,O,X){var se=f.toString();f=this.g[se],f||(f=this.g[se]=[],this.h++);var xe=Z(f,x,O,X);return-1<xe?(x=f[xe],E||(x.fa=!1)):(x=new ut(x,this.src,se,!!O,X),x.fa=E,f.push(x)),x};function ye(f,x){var E=x.type;if(E in f.g){var O=f.g[E],X=Array.prototype.indexOf.call(O,x,void 0),se;(se=0<=X)&&Array.prototype.splice.call(O,X,1),se&&(Ze(x),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Z(f,x,E,O){for(var X=0;X<f.length;++X){var se=f[X];if(!se.da&&se.listener==x&&se.capture==!!E&&se.ha==O)return X}return-1}var he="closure_lm_"+(1e6*Math.random()|0),_e={};function pe(f,x,E,O,X){if(Array.isArray(x)){for(var se=0;se<x.length;se++)pe(f,x[se],E,O,X);return null}return E=bn(E),f&&f[be]?f.K(x,E,m(O)?!!O.capture:!1,X):Ae(f,x,E,!1,O,X)}function Ae(f,x,E,O,X,se){if(!x)throw Error("Invalid event type");var xe=m(X)?!!X.capture:!!X,gt=Kt(f);if(gt||(f[he]=gt=new Qe(f)),E=gt.add(x,E,O,xe,se),E.proxy)return E;if(O=Ue(),E.proxy=O,O.src=f,O.listener=E,f.addEventListener)we||(X=xe),X===void 0&&(X=!1),f.addEventListener(x.toString(),O,X);else if(f.attachEvent)f.attachEvent(Ge(x.toString()),O);else if(f.addListener&&f.removeListener)f.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ue(){function f(E){return x.call(f.src,f.listener,E)}const x=Lt;return f}function We(f,x,E,O,X){if(Array.isArray(x))for(var se=0;se<x.length;se++)We(f,x[se],E,O,X);else O=m(O)?!!O.capture:!!O,E=bn(E),f&&f[be]?(f=f.i,x=String(x).toString(),x in f.g&&(se=f.g[x],E=Z(se,E,O,X),-1<E&&(Ze(se[E]),Array.prototype.splice.call(se,E,1),se.length==0&&(delete f.g[x],f.h--)))):f&&(f=Kt(f))&&(x=f.g[x.toString()],f=-1,x&&(f=Z(x,E,O,X)),(E=-1<f?x[f]:null)&&Oe(E))}function Oe(f){if(typeof f!="number"&&f&&!f.da){var x=f.src;if(x&&x[be])ye(x.i,f);else{var E=f.type,O=f.proxy;x.removeEventListener?x.removeEventListener(E,O,f.capture):x.detachEvent?x.detachEvent(Ge(E),O):x.addListener&&x.removeListener&&x.removeListener(O),(E=Kt(x))?(ye(E,f),E.h==0&&(E.src=null,x[he]=null)):Ze(f)}}}function Ge(f){return f in _e?_e[f]:_e[f]="on"+f}function Lt(f,x){if(f.da)f=!0;else{x=new Pe(x,this);var E=f.listener,O=f.ha||f.src;f.fa&&Oe(f),f=E.call(O,x)}return f}function Kt(f){return f=f[he],f instanceof Qe?f:null}var xt="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(f){return typeof f=="function"?f:(f[xt]||(f[xt]=function(x){return f.handleEvent(x)}),f[xt])}function Je(){me.call(this),this.i=new Qe(this),this.M=this,this.F=null}C(Je,me),Je.prototype[be]=!0,Je.prototype.removeEventListener=function(f,x,E,O){We(this,f,x,E,O)};function lt(f,x){var E,O=f.F;if(O)for(E=[];O;O=O.F)E.push(O);if(f=f.M,O=x.type||x,typeof x=="string")x=new oe(x,f);else if(x instanceof oe)x.target=x.target||f;else{var X=x;x=new oe(O,f),B(x,X)}if(X=!0,E)for(var se=E.length-1;0<=se;se--){var xe=x.g=E[se];X=fn(xe,O,!0,x)&&X}if(xe=x.g=f,X=fn(xe,O,!0,x)&&X,X=fn(xe,O,!1,x)&&X,E)for(se=0;se<E.length;se++)xe=x.g=E[se],X=fn(xe,O,!1,x)&&X}Je.prototype.N=function(){if(Je.aa.N.call(this),this.i){var f=this.i,x;for(x in f.g){for(var E=f.g[x],O=0;O<E.length;O++)Ze(E[O]);delete f.g[x],f.h--}}this.F=null},Je.prototype.K=function(f,x,E,O){return this.i.add(String(f),x,!1,E,O)},Je.prototype.L=function(f,x,E,O){return this.i.add(String(f),x,!0,E,O)};function fn(f,x,E,O){if(x=f.i.g[String(x)],!x)return!0;x=x.concat();for(var X=!0,se=0;se<x.length;++se){var xe=x[se];if(xe&&!xe.da&&xe.capture==E){var gt=xe.listener,wn=xe.ha||xe.src;xe.fa&&ye(f.i,xe),X=gt.call(wn,O)!==!1&&X}}return X&&!O.defaultPrevented}function qt(f,x,E){if(typeof f=="function")E&&(f=_(f,E));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:d.setTimeout(f,x||0)}function Br(f){f.g=qt(()=>{f.g=null,f.i&&(f.i=!1,Br(f))},f.l);const x=f.h;f.h=null,f.m.apply(null,x)}class oi extends me{constructor(x,E){super(),this.m=x,this.l=E,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Br(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(f){me.call(this),this.h=f,this.g={}}C(Sr,me);var Ya=[];function Ka(f){W(f.g,function(x,E){this.g.hasOwnProperty(E)&&Oe(x)},f),f.g={}}Sr.prototype.N=function(){Sr.aa.N.call(this),Ka(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zr=d.JSON.stringify,Ko=d.JSON.parse,Za=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function Uc(){}Uc.prototype.h=null;function Bc(f){return f.h||(f.h=f.i())}function zc(){}var zi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fi(){oe.call(this,"d")}C(Fi,oe);function Fc(){oe.call(this,"c")}C(Fc,oe);var li={},Hc=null;function Us(){return Hc=Hc||new Je}li.La="serverreachability";function Zo(f){oe.call(this,li.La,f)}C(Zo,oe);function Bs(f){const x=Us();lt(x,new Zo(x))}li.STAT_EVENT="statevent";function of(f,x){oe.call(this,li.STAT_EVENT,f),this.stat=x}C(of,oe);function $t(f){const x=Us();lt(x,new of(x,f))}li.Ma="timingevent";function xn(f,x){oe.call(this,li.Ma,f),this.size=x}C(xn,oe);function hn(f,x){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},x)}function Ar(){this.g=!0}Ar.prototype.xa=function(){this.g=!1};function qc(f,x,E,O,X,se){f.info(function(){if(f.g)if(se)for(var xe="",gt=se.split("&"),wn=0;wn<gt.length;wn++){var yt=gt[wn].split("=");if(1<yt.length){var Nn=yt[0];yt=yt[1];var En=Nn.split("_");xe=2<=En.length&&En[1]=="type"?xe+(Nn+"="+yt+"&"):xe+(Nn+"=redacted&")}}else xe=null;else xe=se;return"XMLHTTP REQ ("+O+") [attempt "+X+"]: "+x+`
`+E+`
`+xe})}function Ap(f,x,E,O,X,se,xe){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+X+"]: "+x+`
`+E+`
`+se+" "+xe})}function zs(f,x,E,O){f.info(function(){return"XMLHTTP TEXT ("+x+"): "+Qa(f,E)+(O?" "+O:"")})}function lf(f,x){f.info(function(){return"TIMEOUT: "+x})}Ar.prototype.info=function(){};function Qa(f,x){if(!f.g)return x;if(!x)return null;try{var E=JSON.parse(x);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var O=E[f];if(!(2>O.length)){var X=O[1];if(Array.isArray(X)&&!(1>X.length)){var se=X[0];if(se!="noop"&&se!="stop"&&se!="close")for(var xe=1;xe<X.length;xe++)X[xe]=""}}}}return zr(E)}catch{return x}}var Fs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ci;function ui(){}C(ui,Uc),ui.prototype.g=function(){return new XMLHttpRequest},ui.prototype.i=function(){return{}},ci=new ui;function er(f,x,E,O){this.j=f,this.i=x,this.l=E,this.R=O||1,this.U=new Sr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ln}function ln(){this.i=null,this.g="",this.h=!1}var $c={},Qo={};function Fr(f,x,E){f.L=1,f.v=to(hr(x)),f.m=E,f.P=!0,qi(f,null)}function qi(f,x){f.F=Date.now(),Wa(f),f.A=hr(f.v);var E=f.A,O=f.R;Array.isArray(O)||(O=[String(O)]),Wc(E.i,"t",O),f.C=0,E=f.j.J,f.h=new ln,f.g=Tf(f.j,E?x:null,!f.m),0<f.O&&(f.M=new oi(_(f.Y,f,f.g),f.O)),x=f.U,E=f.g,O=f.ca;var X="readystatechange";Array.isArray(X)||(X&&(Ya[0]=X.toString()),X=Ya);for(var se=0;se<X.length;se++){var xe=pe(E,X[se],O||x.handleEvent,!1,x.h||x);if(!xe)break;x.g[xe.key]=xe}x=f.H?A(f.H):{},f.m?(f.u||(f.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,x)):(f.u="GET",f.g.ea(f.A,f.u,null,x)),Bs(),qc(f.i,f.u,f.A,f.l,f.R,f.m)}er.prototype.ca=function(f){f=f.target;const x=this.M;x&&Ir(f)==3?x.j():this.Y(f)},er.prototype.Y=function(f){try{if(f==this.g)e:{const En=Ir(this.g);var x=this.g.Ba();const Xi=this.g.Z();if(!(3>En)&&(En!=3||this.g&&(this.h.h||this.g.oa()||gf(this.g)))){this.J||En!=4||x==7||(x==8||0>=Xi?Bs(3):Bs(2)),Hs(this);var E=this.g.Z();this.X=E;t:if(cf(this)){var O=gf(this.g);f="";var X=O.length,se=Ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jn(this),di(this);var xe="";break t}this.h.i=new d.TextDecoder}for(x=0;x<X;x++)this.h.h=!0,f+=this.h.i.decode(O[x],{stream:!(se&&x==X-1)});O.length=0,this.h.g+=f,this.C=0,xe=this.h.g}else xe=this.g.oa();if(this.o=E==200,Ap(this.i,this.u,this.A,this.l,this.R,En,E),this.o){if(this.T&&!this.K){t:{if(this.g){var gt,wn=this.g;if((gt=wn.g?wn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(gt)){var yt=gt;break t}}yt=null}if(E=yt)zs(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xa(this,E);else{this.o=!1,this.s=3,$t(12),jn(this),di(this);break e}}if(this.P){E=!0;let Mn;for(;!this.J&&this.C<xe.length;)if(Mn=uf(this,xe),Mn==Qo){En==4&&(this.s=4,$t(14),E=!1),zs(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==$c){this.s=4,$t(15),zs(this.i,this.l,xe,"[Invalid Chunk]"),E=!1;break}else zs(this.i,this.l,Mn,null),Xa(this,Mn);if(cf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),En!=4||xe.length!=0||this.h.h||(this.s=1,$t(16),E=!1),this.o=this.o&&E,!E)zs(this.i,this.l,xe,"[Invalid Chunked Response]"),jn(this),di(this);else if(0<xe.length&&!this.W){this.W=!0;var Nn=this.j;Nn.g==this&&Nn.ba&&!Nn.M&&(Nn.j.info("Great, no buffering proxy detected. Bytes received: "+xe.length),co(Nn),Nn.M=!0,$t(11))}}else zs(this.i,this.l,xe,null),Xa(this,xe);En==4&&jn(this),this.o&&!this.J&&(En==4?xf(this.j,this):(this.o=!1,Wa(this)))}else kp(this.g),E==400&&0<xe.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),jn(this),di(this)}}}catch{}finally{}};function cf(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function uf(f,x){var E=f.C,O=x.indexOf(`
`,E);return O==-1?Qo:(E=Number(x.substring(E,O)),isNaN(E)?$c:(O+=1,O+E>x.length?Qo:(x=x.slice(O,O+E),f.C=O+E,x)))}er.prototype.cancel=function(){this.J=!0,jn(this)};function Wa(f){f.S=Date.now()+f.I,df(f,f.I)}function df(f,x){if(f.B!=null)throw Error("WatchDog timer not null");f.B=hn(_(f.ba,f),x)}function Hs(f){f.B&&(d.clearTimeout(f.B),f.B=null)}er.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(lf(this.i,this.A),this.L!=2&&(Bs(),$t(17)),jn(this),this.s=2,di(this)):df(this,this.S-f)};function di(f){f.j.G==0||f.J||xf(f.j,f)}function jn(f){Hs(f);var x=f.M;x&&typeof x.ma=="function"&&x.ma(),f.M=null,Ka(f.U),f.g&&(x=f.g,f.g=null,x.abort(),x.ma())}function Xa(f,x){try{var E=f.j;if(E.G!=0&&(E.g==f||Gc(E.h,f))){if(!f.K&&Gc(E.h,f)&&E.G==3){try{var O=E.Da.g.parse(x)}catch{O=null}if(Array.isArray(O)&&O.length==3){var X=O;if(X[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)ll(E),al(E);else break e;nu(E),$t(18)}}else E.za=X[1],0<E.za-E.T&&37500>X[2]&&E.F&&E.v==0&&!E.C&&(E.C=hn(_(E.Za,E),6e3));if(1>=Xo(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Wi(E,11)}else if((f.K||E.g==f)&&ll(E),!U(x))for(X=E.Da.g.parse(x),x=0;x<X.length;x++){let yt=X[x];if(E.T=yt[0],yt=yt[1],E.G==2)if(yt[0]=="c"){E.K=yt[1],E.ia=yt[2];const Nn=yt[3];Nn!=null&&(E.la=Nn,E.j.info("VER="+E.la));const En=yt[4];En!=null&&(E.Aa=En,E.j.info("SVER="+E.Aa));const Xi=yt[5];Xi!=null&&typeof Xi=="number"&&0<Xi&&(O=1.5*Xi,E.L=O,E.j.info("backChannelRequestTimeoutMs_="+O)),O=E;const Mn=f.g;if(Mn){const vi=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vi){var se=O.h;se.g||vi.indexOf("spdy")==-1&&vi.indexOf("quic")==-1&&vi.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Jo(se,se.h),se.h=null))}if(O.D){const iu=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;iu&&(O.ya=iu,Ot(O.I,O.D,iu))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),O=E;var xe=f;if(O.qa=Ef(O,O.J?O.ia:null,O.W),xe.K){tr(O.h,xe);var gt=xe,wn=O.L;wn&&(gt.I=wn),gt.B&&(Hs(gt),Wa(gt)),O.g=xe}else _f(O);0<E.i.length&&ol(E)}else yt[0]!="stop"&&yt[0]!="close"||Wi(E,7);else E.G==3&&(yt[0]=="stop"||yt[0]=="close"?yt[0]=="stop"?Wi(E,7):eu(E):yt[0]!="noop"&&E.l&&E.l.ta(yt),E.v=0)}}Bs(4)}catch{}}var ff=class{constructor(f,x){this.g=f,this.map=x}};function $i(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Xo(f){return f.h?1:f.g?f.g.size:0}function Gc(f,x){return f.h?f.h==x:f.g?f.g.has(x):!1}function Jo(f,x){f.g?f.g.add(x):f.h=x}function tr(f,x){f.h&&f.h==x?f.h=null:f.g&&f.g.has(x)&&f.g.delete(x)}$i.prototype.cancel=function(){if(this.i=Yc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Yc(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let x=f.i;for(const E of f.g.values())x=x.concat(E.D);return x}return R(f.i)}function Cp(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var x=[],E=f.length,O=0;O<E;O++)x.push(f[O]);return x}x=[],E=0;for(O in f)x[E++]=f[O];return x}function el(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var x=[];f=f.length;for(var E=0;E<f;E++)x.push(E);return x}x=[],E=0;for(const O in f)x[E++]=O;return x}}}function Kc(f,x){if(f.forEach&&typeof f.forEach=="function")f.forEach(x,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,x,void 0);else for(var E=el(f),O=Cp(f),X=O.length,se=0;se<X;se++)x.call(void 0,O[se],E&&E[se],f)}var Ja=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rp(f,x){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var O=f[E].indexOf("="),X=null;if(0<=O){var se=f[E].substring(0,O);X=f[E].substring(O+1)}else se=f[E];x(se,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function mn(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof mn){this.h=f.h,eo(this,f.j),this.o=f.o,this.g=f.g,qs(this,f.s),this.l=f.l;var x=f.i,E=new Yi;E.i=x.i,x.g&&(E.g=new Map(x.g),E.h=x.h),Gi(this,E),this.m=f.m}else f&&(x=String(f).match(Ja))?(this.h=!1,eo(this,x[1]||"",!0),this.o=Cr(x[2]||""),this.g=Cr(x[3]||"",!0),qs(this,x[4]),this.l=Cr(x[5]||"",!0),Gi(this,x[6]||"",!0),this.m=Cr(x[7]||"")):(this.h=!1,this.i=new Yi(null,this.h))}mn.prototype.toString=function(){var f=[],x=this.j;x&&f.push(no(x,Zc,!0),":");var E=this.g;return(E||x=="file")&&(f.push("//"),(x=this.o)&&f.push(no(x,Zc,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(no(E,E.charAt(0)=="/"?Np:Qc,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",no(E,tl)),f.join("")};function hr(f){return new mn(f)}function eo(f,x,E){f.j=E?Cr(x,!0):x,f.j&&(f.j=f.j.replace(/:$/,""))}function qs(f,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);f.s=x}else f.s=null}function Gi(f,x,E){x instanceof Yi?(f.i=x,mf(f.i,f.h)):(E||(x=no(x,Ip)),f.i=new Yi(x,f.h))}function Ot(f,x,E){f.i.set(x,E)}function to(f){return Ot(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Cr(f,x){return f?x?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function no(f,x,E){return typeof f=="string"?(f=encodeURI(f).replace(x,hf),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function hf(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Zc=/[#\/\?@]/g,Qc=/[#\?:]/g,Np=/[#\?]/g,Ip=/[#\?@]/g,tl=/#/g;function Yi(f,x){this.h=this.g=null,this.i=f||null,this.j=!!x}function Rr(f){f.g||(f.g=new Map,f.h=0,f.i&&Rp(f.i,function(x,E){f.add(decodeURIComponent(x.replace(/\+/g," ")),E)}))}n=Yi.prototype,n.add=function(f,x){Rr(this),this.i=null,f=fi(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(x),this.h+=1,this};function Ki(f,x){Rr(f),x=fi(f,x),f.g.has(x)&&(f.i=null,f.h-=f.g.get(x).length,f.g.delete(x))}function Zi(f,x){return Rr(f),x=fi(f,x),f.g.has(x)}n.forEach=function(f,x){Rr(this),this.g.forEach(function(E,O){E.forEach(function(X){f.call(x,X,O,this)},this)},this)},n.na=function(){Rr(this);const f=Array.from(this.g.values()),x=Array.from(this.g.keys()),E=[];for(let O=0;O<x.length;O++){const X=f[O];for(let se=0;se<X.length;se++)E.push(x[O])}return E},n.V=function(f){Rr(this);let x=[];if(typeof f=="string")Zi(this,f)&&(x=x.concat(this.g.get(fi(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)x=x.concat(f[E])}return x},n.set=function(f,x){return Rr(this),this.i=null,f=fi(this,f),Zi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[x]),this.h+=1,this},n.get=function(f,x){return f?(f=this.V(f),0<f.length?String(f[0]):x):x};function Wc(f,x,E){Ki(f,x),0<E.length&&(f.i=null,f.g.set(fi(f,x),R(E)),f.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],x=Array.from(this.g.keys());for(var E=0;E<x.length;E++){var O=x[E];const se=encodeURIComponent(String(O)),xe=this.V(O);for(O=0;O<xe.length;O++){var X=se;xe[O]!==""&&(X+="="+encodeURIComponent(String(xe[O]))),f.push(X)}}return this.i=f.join("&")};function fi(f,x){return x=String(x),f.j&&(x=x.toLowerCase()),x}function mf(f,x){x&&!f.j&&(Rr(f),f.i=null,f.g.forEach(function(E,O){var X=O.toLowerCase();O!=X&&(Ki(this,O),Wc(this,X,E))},f)),f.j=x}function ro(f,x){const E=new Ar;if(d.Image){const O=new Image;O.onload=S(Nr,E,"TestLoadImage: loaded",!0,x,O),O.onerror=S(Nr,E,"TestLoadImage: error",!1,x,O),O.onabort=S(Nr,E,"TestLoadImage: abort",!1,x,O),O.ontimeout=S(Nr,E,"TestLoadImage: timeout",!1,x,O),d.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else x(!1)}function Hr(f,x){const E=new Ar,O=new AbortController,X=setTimeout(()=>{O.abort(),Nr(E,"TestPingServer: timeout",!1,x)},1e4);fetch(f,{signal:O.signal}).then(se=>{clearTimeout(X),se.ok?Nr(E,"TestPingServer: ok",!0,x):Nr(E,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(X),Nr(E,"TestPingServer: error",!1,x)})}function Nr(f,x,E,O,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),O(E)}catch{}}function io(){this.g=new Za}function hi(f,x,E){const O=E||"";try{Kc(f,function(X,se){let xe=X;m(X)&&(xe=zr(X)),x.push(O+se+"="+encodeURIComponent(xe))})}catch(X){throw x.push(O+"type="+encodeURIComponent("_badmap")),X}}function $s(f){this.l=f.Ub||null,this.j=f.eb||!1}C($s,Uc),$s.prototype.g=function(){return new Qi(this.l,this.j)},$s.prototype.i=function(f){return function(){return f}}({});function Qi(f,x){Je.call(this),this.D=f,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Qi,Je),n=Qi.prototype,n.open=function(f,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=x,this.readyState=1,pi(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(x.body=f),(this.D||d).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xc(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xc(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var x=f.value?f.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!f.done}))&&(this.response=this.responseText+=x)}f.done?mi(this):pi(this),this.readyState==3&&Xc(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,mi(this))},n.Qa=function(f){this.g&&(this.response=f,mi(this))},n.ga=function(){this.g&&mi(this)};function mi(f){f.readyState=4,f.l=null,f.j=null,f.v=null,pi(f)}n.setRequestHeader=function(f,x){this.u.append(f,x)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],x=this.h.entries();for(var E=x.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=x.next();return f.join(`\r
`)};function pi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Jc(f){let x="";return W(f,function(E,O){x+=O,x+=":",x+=E,x+=`\r
`}),x}function Rn(f,x,E){e:{for(O in E){var O=!1;break e}O=!0}O||(E=Jc(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):Ot(f,x,E))}function At(f){Je.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(At,Je);var nl=/^https?$/i,so=["POST","PUT"];n=At.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,x,E,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);x=x?x.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ci.g(),this.v=this.o?Bc(this.o):Bc(ci),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(x,String(f),!0),this.B=!1}catch(se){pf(this,se);return}if(f=E||"",E=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var X in O)E.set(X,O[X]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const se of O.keys())E.set(se,O.get(se));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(E.keys()).find(se=>se.toLowerCase()=="content-type"),X=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(so,x,void 0))||O||X||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,xe]of E)this.g.setRequestHeader(se,xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ao(this),this.u=!0,this.g.send(f),this.u=!1}catch(se){pf(this,se)}};function pf(f,x){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=x,f.m=5,rl(f),gi(f)}function rl(f){f.A||(f.A=!0,lt(f,"complete"),lt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,lt(this,"complete"),lt(this,"abort"),gi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gi(this,!0)),At.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?il(this):this.bb())},n.bb=function(){il(this)};function il(f){if(f.h&&typeof u<"u"&&(!f.v[1]||Ir(f)!=4||f.Z()!=2)){if(f.u&&Ir(f)==4)qt(f.Ea,0,f);else if(lt(f,"readystatechange"),Ir(f)==4){f.h=!1;try{const xe=f.Z();e:switch(xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var E;if(!(E=x)){var O;if(O=xe===0){var X=String(f.D).match(Ja)[1]||null;!X&&d.self&&d.self.location&&(X=d.self.location.protocol.slice(0,-1)),O=!nl.test(X?X.toLowerCase():"")}E=O}if(E)lt(f,"complete"),lt(f,"success");else{f.m=6;try{var se=2<Ir(f)?f.g.statusText:""}catch{se=""}f.l=se+" ["+f.Z()+"]",rl(f)}}finally{gi(f)}}}}function gi(f,x){if(f.g){ao(f);const E=f.g,O=f.v[0]?()=>{}:null;f.g=null,f.v=null,x||lt(f,"ready");try{E.onreadystatechange=O}catch{}}}function ao(f){f.I&&(d.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Ir(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Ir(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var x=this.g.responseText;return f&&x.indexOf(f)==0&&(x=x.substring(f.length)),Ko(x)}};function gf(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function kp(f){const x={};f=(f.g&&2<=Ir(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<f.length;O++){if(U(f[O]))continue;var E=D(f[O]);const X=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const se=x[X]||[];x[X]=se,se.push(E)}I(x,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oo(f,x,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||x}function sl(f){this.Aa=0,this.i=[],this.j=new Ar,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oo("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oo("baseRetryDelayMs",5e3,f),this.cb=oo("retryDelaySeedMs",1e4,f),this.Wa=oo("forwardChannelMaxRetries",2,f),this.wa=oo("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new $i(f&&f.concurrentRequestLimit),this.Da=new io,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=sl.prototype,n.la=8,n.G=1,n.connect=function(f,x,E,O){$t(0),this.W=f,this.H=x||{},E&&O!==void 0&&(this.H.OSID=E,this.H.OAID=O),this.F=this.X,this.I=Ef(this,null,this.W),ol(this)};function eu(f){if(yf(f),f.G==3){var x=f.U++,E=hr(f.I);if(Ot(E,"SID",f.K),Ot(E,"RID",x),Ot(E,"TYPE","terminate"),lo(f,E),x=new er(f,f.j,x),x.L=2,x.v=to(hr(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(x.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=x.v,E=!0),E||(x.g=Tf(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Wa(x)}wf(f)}function al(f){f.g&&(co(f),f.g.cancel(),f.g=null)}function yf(f){al(f),f.u&&(d.clearTimeout(f.u),f.u=null),ll(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function ol(f){if(!Wo(f.h)&&!f.s){f.s=!0;var x=f.Ga;te||z(),K||(te(),K=!0),ve.add(x,f),f.B=0}}function Dp(f,x){return Xo(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=x.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=hn(_(f.Ga,f,x),ru(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const X=new er(this,this.j,f);let se=this.o;if(this.S&&(se?(se=A(se),B(se,this.S)):se=this.S),this.m!==null||this.O||(X.H=se,se=null),this.P)e:{for(var x=0,E=0;E<this.i.length;E++){t:{var O=this.i[E];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(x+=O,4096<x){x=E;break e}if(x===4096||E===this.i.length-1){x=E+1;break e}}x=1e3}else x=1e3;x=vf(this,X,x),E=hr(this.I),Ot(E,"RID",f),Ot(E,"CVER",22),this.D&&Ot(E,"X-HTTP-Session-Id",this.D),lo(this,E),se&&(this.O?x="headers="+encodeURIComponent(String(Jc(se)))+"&"+x:this.m&&Rn(E,this.m,se)),Jo(this.h,X),this.Ua&&Ot(E,"TYPE","init"),this.P?(Ot(E,"$req",x),Ot(E,"SID","null"),X.T=!0,Fr(X,E,null)):Fr(X,E,x),this.G=2}}else this.G==3&&(f?tu(this,f):this.i.length==0||Wo(this.h)||tu(this))};function tu(f,x){var E;x?E=x.l:E=f.U++;const O=hr(f.I);Ot(O,"SID",f.K),Ot(O,"RID",E),Ot(O,"AID",f.T),lo(f,O),f.m&&f.o&&Rn(O,f.m,f.o),E=new er(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),x&&(f.i=x.D.concat(f.i)),x=vf(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Jo(f.h,E),Fr(E,O,x)}function lo(f,x){f.H&&W(f.H,function(E,O){Ot(x,O,E)}),f.l&&Kc({},function(E,O){Ot(x,O,E)})}function vf(f,x,E){E=Math.min(f.i.length,E);var O=f.l?_(f.l.Na,f.l,f):null;e:{var X=f.i;let se=-1;for(;;){const xe=["count="+E];se==-1?0<E?(se=X[0].g,xe.push("ofs="+se)):se=0:xe.push("ofs="+se);let gt=!0;for(let wn=0;wn<E;wn++){let yt=X[wn].g;const Nn=X[wn].map;if(yt-=se,0>yt)se=Math.max(0,X[wn].g-100),gt=!1;else try{hi(Nn,xe,"req"+yt+"_")}catch{O&&O(Nn)}}if(gt){O=xe.join("&");break e}}}return f=f.i.splice(0,E),x.D=f,O}function _f(f){if(!f.g&&!f.u){f.Y=1;var x=f.Fa;te||z(),K||(te(),K=!0),ve.add(x,f),f.v=0}}function nu(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=hn(_(f.Fa,f),ru(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,bf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=hn(_(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),al(this),bf(this))};function co(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function bf(f){f.g=new er(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var x=hr(f.qa);Ot(x,"RID","rpc"),Ot(x,"SID",f.K),Ot(x,"AID",f.T),Ot(x,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ot(x,"TO",f.ja),Ot(x,"TYPE","xmlhttp"),lo(f,x),f.m&&f.o&&Rn(x,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=to(hr(x)),E.m=null,E.P=!0,qi(E,f)}n.Za=function(){this.C!=null&&(this.C=null,al(this),nu(this),$t(19))};function ll(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function xf(f,x){var E=null;if(f.g==x){ll(f),co(f),f.g=null;var O=2}else if(Gc(f.h,x))E=x.D,tr(f.h,x),O=1;else return;if(f.G!=0){if(x.o)if(O==1){E=x.m?x.m.length:0,x=Date.now()-x.F;var X=f.B;O=Us(),lt(O,new xn(O,E)),ol(f)}else _f(f);else if(X=x.s,X==3||X==0&&0<x.X||!(O==1&&Dp(f,x)||O==2&&nu(f)))switch(E&&0<E.length&&(x=f.h,x.i=x.i.concat(E)),X){case 1:Wi(f,5);break;case 4:Wi(f,10);break;case 3:Wi(f,6);break;default:Wi(f,2)}}}function ru(f,x){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*x}function Wi(f,x){if(f.j.info("Error code "+x),x==2){var E=_(f.fb,f),O=f.Xa;const X=!O;O=new mn(O||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||eo(O,"https"),to(O),X?ro(O.toString(),E):Hr(O.toString(),E)}else $t(2);f.G=0,f.l&&f.l.sa(x),wf(f),yf(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function wf(f){if(f.G=0,f.ka=[],f.l){const x=Yc(f.h);(x.length!=0||f.i.length!=0)&&(N(f.ka,x),N(f.ka,f.i),f.h.i.length=0,R(f.i),f.i.length=0),f.l.ra()}}function Ef(f,x,E){var O=E instanceof mn?hr(E):new mn(E);if(O.g!="")x&&(O.g=x+"."+O.g),qs(O,O.s);else{var X=d.location;O=X.protocol,x=x?x+"."+X.hostname:X.hostname,X=+X.port;var se=new mn(null);O&&eo(se,O),x&&(se.g=x),X&&qs(se,X),E&&(se.l=E),O=se}return E=f.D,x=f.ya,E&&x&&Ot(O,E,x),Ot(O,"VER",f.la),lo(f,O),O}function Tf(f,x,E){if(x&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=f.Ca&&!f.pa?new At(new $s({eb:E})):new At(f.pa),x.Ha(f.J),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sf(){}n=Sf.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function cl(){}cl.prototype.g=function(f,x){return new nr(f,x)};function nr(f,x){Je.call(this),this.g=new sl(x),this.l=f,this.h=x&&x.messageUrlParams||null,f=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(f?f["X-WebChannel-Content-Type"]=x.messageContentType:f={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(f?f["X-WebChannel-Client-Profile"]=x.va:f={"X-WebChannel-Client-Profile":x.va}),this.g.S=f,(f=x&&x.Sb)&&!U(f)&&(this.g.m=f),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!U(x)&&(this.g.D=x,f=this.h,f!==null&&x in f&&(f=this.h,x in f&&delete f[x])),this.j=new yi(this)}C(nr,Je),nr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nr.prototype.close=function(){eu(this.g)},nr.prototype.o=function(f){var x=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=zr(f),f=E);x.i.push(new ff(x.Ya++,f)),x.G==3&&ol(x)},nr.prototype.N=function(){this.g.l=null,delete this.j,eu(this.g),delete this.g,nr.aa.N.call(this)};function Af(f){Fi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var x=f.__sm__;if(x){e:{for(const E in x){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,x=x!==null&&f in x?x[f]:void 0),this.data=x}else this.data=f}C(Af,Fi);function Cf(){Fc.call(this),this.status=1}C(Cf,Fc);function yi(f){this.g=f}C(yi,Sf),yi.prototype.ua=function(){lt(this.g,"a")},yi.prototype.ta=function(f){lt(this.g,new Af(f))},yi.prototype.sa=function(f){lt(this.g,new Cf)},yi.prototype.ra=function(){lt(this.g,"b")},cl.prototype.createWebChannel=cl.prototype.g,nr.prototype.send=nr.prototype.o,nr.prototype.open=nr.prototype.m,nr.prototype.close=nr.prototype.close,rA=function(){return new cl},nA=function(){return Us()},tA=li,xv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fs.NO_ERROR=0,Fs.TIMEOUT=8,Fs.HTTP_ERROR=6,Wh=Fs,Hi.COMPLETE="complete",eA=Hi,zc.EventType=zi,zi.OPEN="a",zi.CLOSE="b",zi.ERROR="c",zi.MESSAGE="d",Je.prototype.listen=Je.prototype.K,Xu=zc,At.prototype.listenOnce=At.prototype.L,At.prototype.getLastError=At.prototype.Ka,At.prototype.getLastErrorCode=At.prototype.Ba,At.prototype.getStatus=At.prototype.Z,At.prototype.getResponseJson=At.prototype.Oa,At.prototype.getResponseText=At.prototype.oa,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Ha,J1=At}).apply(typeof Dh<"u"?Dh:typeof self<"u"?self:typeof window<"u"?window:{});const UE="@firebase/firestore",BE="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gn.UNAUTHENTICATED=new Gn(null),Gn.GOOGLE_CREDENTIALS=new Gn("google-credentials-uid"),Gn.FIRST_PARTY=new Gn("first-party-uid"),Gn.MOCK_USER=new Gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new f0("@firebase/firestore");function Fl(){return Po.logLevel}function Ce(n,...e){if(Po.logLevel<=ht.DEBUG){const t=e.map(E0);Po.debug(`Firestore (${Ic}): ${n}`,...t)}}function Ns(n,...e){if(Po.logLevel<=ht.ERROR){const t=e.map(E0);Po.error(`Firestore (${Ic}): ${n}`,...t)}}function uc(n,...e){if(Po.logLevel<=ht.WARN){const t=e.map(E0);Po.warn(`Firestore (${Ic}): ${n}`,...t)}}function E0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,iA(n,i,t)}function iA(n,e,t){let i=`FIRESTORE (${Ic}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ns(i),new Error(i)}function Ct(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||iA(e,a,i)}function et(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Ps{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gn.UNAUTHENTICATED))}shutdown(){}}class hM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class mM{constructor(e){this.t=e,this.currentUser=Gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ct(this.o===void 0,42304);let i=this.i;const a=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let o=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Es,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await a(this.currentUser)})},d=h=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>d(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Es)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ct(typeof i.accessToken=="string",31837,{l:i}),new sA(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ct(e===null||typeof e=="string",2055,{h:e}),new Gn(e)}}class pM{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gM{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new pM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ct(this.o===void 0,3512);const i=o=>{o.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const a=o=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new zE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ct(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new zE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=vM(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<t&&(i+=e.charAt(a[o]%62))}return i}}function ot(n,e){return n<e?-1:n>e?1:0}function wv(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return ot(i,a);{const o=aA(),u=_M(o.encode(FE(n,t)),o.encode(FE(e,t)));return u!==0?u:ot(i,a)}}t+=i>65535?2:1}return ot(n.length,e.length)}function FE(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function _M(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ot(n[t],e[t]);return ot(n.length,e.length)}function dc(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=-62135596800,qE=1e6;class Ut{static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*qE);return new Ut(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<HE)throw new Te(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qE}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-HE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new Ut(0,0))}static max(){return new Xe(new Ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="__name__";class Ti{constructor(e,t,i){t===void 0?t=0:t>e.length&&qe(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&qe(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ti.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ti?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const o=Ti.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return ot(e.length,t.length)}static compareSegments(e,t){const i=Ti.isNumericId(e),a=Ti.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Ti.extractNumericId(e).compare(Ti.extractNumericId(t)):wv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ca.fromString(e.substring(4,e.length-2))}}class zt extends Ti{construct(e,t,i){return new zt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Te(ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new zt(t)}static emptyPath(){return new zt([])}}const bM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends Ti{construct(e,t,i){return new Bn(e,t,i)}static isValidIdentifier(e){return bM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$E}static keyField(){return new Bn([$E])}static fromServerFormat(e){const t=[];let i="",a=0;const o=()=>{if(i.length===0)throw new Te(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new Te(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Te(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(i+=d,a++):(o(),a++)}if(o(),u)throw new Te(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bn(t)}static emptyPath(){return new Bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(zt.fromString(e))}static fromName(e){return new Ve(zt.fromString(e).popFirst(5))}static empty(){return new Ve(zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return zt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new zt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=-1;function xM(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Xe.fromTimestamp(i===1e9?new Ut(t+1,0):new Ut(t,i));return new Ia(a,Ve.empty(),e)}function wM(n){return new Ia(n.readTime,n.key,gd)}class Ia{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ia(Xe.min(),Ve.empty(),gd)}static max(){return new Ia(Xe.max(),Ve.empty(),gd)}}function EM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ve.comparator(n.documentKey,e.documentKey),t!==0?t:ot(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==TM)throw n;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,i)=>{t(e)})}static reject(e){return new fe((t,i)=>{i(e)})}static waitFor(e){return new fe((t,i)=>{let a=0,o=0,u=!1;e.forEach(d=>{++a,d.next(()=>{++o,u&&o===a&&t()},h=>i(h))}),u=!0,o===a&&t()})}static or(e){let t=fe.resolve(!1);for(const i of e)t=t.next(a=>a?fe.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,o)=>{i.push(t.call(this,a,o))}),this.waitFor(i)}static mapArray(e,t){return new fe((i,a)=>{const o=e.length,u=new Array(o);let d=0;for(let h=0;h<o;h++){const m=h;t(e[m]).next(v=>{u[m]=v,++d,d===o&&i(u)},v=>a(v))}})}static doWhile(e,t){return new fe((i,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):i()};o()})}}function AM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Dc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Wm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=-1;function Xm(n){return n==null}function ym(n){return n===0&&1/n==-1/0}function CM(n){return typeof n=="number"&&Number.isInteger(n)&&!ym(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="";function RM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=GE(e)),e=NM(n.get(t),e);return GE(e)}function NM(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case lA:t+="";break;default:t+=o}}return t}function GE(n){return n+lA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ha(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function cA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,t){this.comparator=e,this.root=t||Un.EMPTY}insert(e,t){return new nn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(e){return new nn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Un.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oh(this.root,e,this.comparator,!0)}}class Oh{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Un{constructor(e,t,i,a,o){this.key=e,this.value=t,this.color=i??Un.RED,this.left=a??Un.EMPTY,this.right=o??Un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,o){return new Un(e??this.key,t??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const o=i(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,i),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Un.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qe(27949);return e+(this.isRed()?0:1)}}Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1;Un.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(e,t,i,a,o){return this}insert(e,t,i){return new Un(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.comparator=e,this.data=new nn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new KE(this.data.getIterator())}getIteratorFrom(e){return new KE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Cn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Cn(this.comparator);return t.data=e,t}}class KE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.fields=e,e.sort(Bn.comparator)}static empty(){return new wr([])}unionWith(e){let t=new Cn(Bn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new wr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return dc(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new uA("Invalid base64 string: "+o):o}}(e);return new Fn(t)}static fromUint8Array(e){const t=function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(e);return new Fn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const IM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ka(n){if(Ct(!!n,39018),typeof n=="string"){let e=0;const t=IM.exec(n);if(Ct(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:dn(n.seconds),nanos:dn(n.nanos)}}function dn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Da(n){return typeof n=="string"?Fn.fromBase64String(n):Fn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="server_timestamp",fA="__type__",hA="__previous_value__",mA="__local_write_time__";function S0(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[fA])===null||t===void 0?void 0:t.stringValue)===dA}function Jm(n){const e=n.mapValue.fields[hA];return S0(e)?Jm(e):e}function yd(n){const e=ka(n.mapValue.fields[mA].timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,t,i,a,o,u,d,h,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=m,this.isUsingEmulator=v}}const vm="(default)";class vd{constructor(e,t){this.projectId=e,this.database=t||vm}static empty(){return new vd("","")}get isDefaultDatabase(){return this.database===vm}isEqual(e){return e instanceof vd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="__type__",DM="__max__",jh={mapValue:{}},gA="__vector__",_m="value";function Oa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?S0(n)?4:jM(n)?9007199254740991:OM(n)?10:11:qe(28295,{value:n})}function Oi(n,e){if(n===e)return!0;const t=Oa(n);if(t!==Oa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return yd(n).isEqual(yd(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=ka(a.timestampValue),d=ka(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,o){return Da(a.bytesValue).isEqual(Da(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,o){return dn(a.geoPointValue.latitude)===dn(o.geoPointValue.latitude)&&dn(a.geoPointValue.longitude)===dn(o.geoPointValue.longitude)}(n,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return dn(a.integerValue)===dn(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=dn(a.doubleValue),d=dn(o.doubleValue);return u===d?ym(u)===ym(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return dc(n.arrayValue.values||[],e.arrayValue.values||[],Oi);case 10:case 11:return function(a,o){const u=a.mapValue.fields||{},d=o.mapValue.fields||{};if(YE(u)!==YE(d))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(d[h]===void 0||!Oi(u[h],d[h])))return!1;return!0}(n,e);default:return qe(52216,{left:n})}}function _d(n,e){return(n.values||[]).find(t=>Oi(t,e))!==void 0}function fc(n,e){if(n===e)return 0;const t=Oa(n),i=Oa(e);if(t!==i)return ot(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ot(n.booleanValue,e.booleanValue);case 2:return function(o,u){const d=dn(o.integerValue||o.doubleValue),h=dn(u.integerValue||u.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1}(n,e);case 3:return ZE(n.timestampValue,e.timestampValue);case 4:return ZE(yd(n),yd(e));case 5:return wv(n.stringValue,e.stringValue);case 6:return function(o,u){const d=Da(o),h=Da(u);return d.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),h=u.split("/");for(let m=0;m<d.length&&m<h.length;m++){const v=ot(d[m],h[m]);if(v!==0)return v}return ot(d.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const d=ot(dn(o.latitude),dn(u.latitude));return d!==0?d:ot(dn(o.longitude),dn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return QE(n.arrayValue,e.arrayValue);case 10:return function(o,u){var d,h,m,v;const b=o.fields||{},_=u.fields||{},S=(d=b[_m])===null||d===void 0?void 0:d.arrayValue,C=(h=_[_m])===null||h===void 0?void 0:h.arrayValue,R=ot(((m=S==null?void 0:S.values)===null||m===void 0?void 0:m.length)||0,((v=C==null?void 0:C.values)===null||v===void 0?void 0:v.length)||0);return R!==0?R:QE(S,C)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===jh.mapValue&&u===jh.mapValue)return 0;if(o===jh.mapValue)return 1;if(u===jh.mapValue)return-1;const d=o.fields||{},h=Object.keys(d),m=u.fields||{},v=Object.keys(m);h.sort(),v.sort();for(let b=0;b<h.length&&b<v.length;++b){const _=wv(h[b],v[b]);if(_!==0)return _;const S=fc(d[h[b]],m[v[b]]);if(S!==0)return S}return ot(h.length,v.length)}(n.mapValue,e.mapValue);default:throw qe(23264,{Pe:t})}}function ZE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ot(n,e);const t=ka(n),i=ka(e),a=ot(t.seconds,i.seconds);return a!==0?a:ot(t.nanos,i.nanos)}function QE(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const o=fc(t[a],i[a]);if(o)return o}return ot(t.length,i.length)}function hc(n){return Ev(n)}function Ev(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ka(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Da(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const o of t.values||[])a?a=!1:i+=",",i+=Ev(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const u of i)o?o=!1:a+=",",a+=`${u}:${Ev(t.fields[u])}`;return a+"}"}(n.mapValue):qe(61005,{value:n})}function Xh(n){switch(Oa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jm(n);return e?16+Xh(e):16;case 5:return 2*n.stringValue.length;case 6:return Da(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,o)=>a+Xh(o),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return Ha(i.fields,(o,u)=>{a+=o.length+Xh(u)}),a}(n.mapValue);default:throw qe(13486,{value:n})}}function WE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Tv(n){return!!n&&"integerValue"in n}function A0(n){return!!n&&"arrayValue"in n}function XE(n){return!!n&&"nullValue"in n}function JE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Jh(n){return!!n&&"mapValue"in n}function OM(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[pA])===null||t===void 0?void 0:t.stringValue)===gA}function ld(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ha(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ld(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ld(n.arrayValue.values[t]);return e}return Object.assign({},n)}function jM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===DM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.value=e}static empty(){return new dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Jh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ld(t)}setAll(e){let t=Bn.emptyPath(),i={},a=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const h=this.getFieldsMap(t);this.applyChanges(h,i,a),i={},a=[],t=d.popLast()}u?i[d.lastSegment()]=ld(u):a.push(d.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,a)}delete(e){const t=this.field(e.popLast());Jh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Oi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Jh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Ha(t,(a,o)=>e[a]=o);for(const a of i)delete e[a]}clone(){return new dr(ld(this.value))}}function yA(n){const e=[];return Ha(n.fields,(t,i)=>{const a=new Bn([t]);if(Jh(i)){const o=yA(i.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)}),new wr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,t,i,a,o,u,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=o,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Yn(e,0,Xe.min(),Xe.min(),Xe.min(),dr.empty(),0)}static newFoundDocument(e,t,i,a){return new Yn(e,1,t,Xe.min(),i,a,0)}static newNoDocument(e,t){return new Yn(e,2,t,Xe.min(),Xe.min(),dr.empty(),0)}static newUnknownDocument(e,t){return new Yn(e,3,t,Xe.min(),Xe.min(),dr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,t){this.position=e,this.inclusive=t}}function eT(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const o=e[a],u=n.position[a];if(o.field.isKeyField()?i=Ve.comparator(Ve.fromName(u.referenceValue),t.key):i=fc(u,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function tT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Oi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,t="asc"){this.field=e,this.dir=t}}function MM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{}class vn extends vA{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new LM(e,t,i):t==="array-contains"?new BM(e,i):t==="in"?new zM(e,i):t==="not-in"?new FM(e,i):t==="array-contains-any"?new HM(e,i):new vn(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new VM(e,i):new UM(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(fc(t,this.value)):t!==null&&Oa(this.value)===Oa(t)&&this.matchesComparison(fc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends vA{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ni(e,t)}matches(e){return _A(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function _A(n){return n.op==="and"}function bA(n){return PM(n)&&_A(n)}function PM(n){for(const e of n.filters)if(e instanceof ni)return!1;return!0}function Sv(n){if(n instanceof vn)return n.field.canonicalString()+n.op.toString()+hc(n.value);if(bA(n))return n.filters.map(e=>Sv(e)).join(",");{const e=n.filters.map(t=>Sv(t)).join(",");return`${n.op}(${e})`}}function xA(n,e){return n instanceof vn?function(i,a){return a instanceof vn&&i.op===a.op&&i.field.isEqual(a.field)&&Oi(i.value,a.value)}(n,e):n instanceof ni?function(i,a){return a instanceof ni&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((o,u,d)=>o&&xA(u,a.filters[d]),!0):!1}(n,e):void qe(19439)}function wA(n){return n instanceof vn?function(t){return`${t.field.canonicalString()} ${t.op} ${hc(t.value)}`}(n):n instanceof ni?function(t){return t.op.toString()+" {"+t.getFilters().map(wA).join(" ,")+"}"}(n):"Filter"}class LM extends vn{constructor(e,t,i){super(e,t,i),this.key=Ve.fromName(i.referenceValue)}matches(e){const t=Ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class VM extends vn{constructor(e,t){super(e,"in",t),this.keys=EA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class UM extends vn{constructor(e,t){super(e,"not-in",t),this.keys=EA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function EA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ve.fromName(i.referenceValue))}class BM extends vn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return A0(t)&&_d(t.arrayValue,this.value)}}class zM extends vn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_d(this.value.arrayValue,t)}}class FM extends vn{constructor(e,t){super(e,"not-in",t)}matches(e){if(_d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!_d(this.value.arrayValue,t)}}class HM extends vn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!A0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>_d(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,t=null,i=[],a=[],o=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=u,this.endAt=d,this.Ie=null}}function nT(n,e=null,t=[],i=[],a=null,o=null,u=null){return new qM(n,e,t,i,a,o,u)}function C0(n){const e=et(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Sv(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Xm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>hc(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>hc(i)).join(",")),e.Ie=t}return e.Ie}function R0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!MM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!xA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!tT(n.startAt,e.startAt)&&tT(n.endAt,e.endAt)}function Av(n){return Ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t=null,i=[],a=[],o=null,u="F",d=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=u,this.startAt=d,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function $M(n,e,t,i,a,o,u,d){return new Oc(n,e,t,i,a,o,u,d)}function ep(n){return new Oc(n)}function rT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function TA(n){return n.collectionGroup!==null}function cd(n){const e=et(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Cn(Bn.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new bd(o,i))}),t.has(Bn.keyField().canonicalString())||e.Ee.push(new bd(Bn.keyField(),i))}return e.Ee}function Ri(n){const e=et(n);return e.de||(e.de=GM(e,cd(n))),e.de}function GM(n,e){if(n.limitType==="F")return nT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new bd(a.field,o)});const t=n.endAt?new bm(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new bm(n.startAt.position,n.startAt.inclusive):null;return nT(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Cv(n,e){const t=n.filters.concat([e]);return new Oc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function xm(n,e,t){return new Oc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function tp(n,e){return R0(Ri(n),Ri(e))&&n.limitType===e.limitType}function SA(n){return`${C0(Ri(n))}|lt:${n.limitType}`}function Hl(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>wA(a)).join(", ")}]`),Xm(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>hc(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>hc(a)).join(",")),`Target(${i})`}(Ri(n))}; limitType=${n.limitType})`}function np(n,e){return e.isFoundDocument()&&function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Ve.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,a){for(const o of cd(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(u,d,h){const m=eT(u,d,h);return u.inclusive?m<=0:m<0}(i.startAt,cd(i),a)||i.endAt&&!function(u,d,h){const m=eT(u,d,h);return u.inclusive?m>=0:m>0}(i.endAt,cd(i),a))}(n,e)}function YM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function AA(n){return(e,t)=>{let i=!1;for(const a of cd(n)){const o=KM(a,e,t);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function KM(n,e,t){const i=n.field.isKeyField()?Ve.comparator(e.key,t.key):function(o,u,d){const h=u.data.field(o),m=d.data.field(o);return h!==null&&m!==null?fc(h,m):qe(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return qe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ha(this.inner,(t,i)=>{for(const[a,o]of i)e(a,o)})}isEmpty(){return cA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=new nn(Ve.comparator);function Is(){return ZM}const CA=new nn(Ve.comparator);function Ju(...n){let e=CA;for(const t of n)e=e.insert(t.key,t);return e}function RA(n){let e=CA;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Io(){return ud()}function NA(){return ud()}function ud(){return new Go(n=>n.toString(),(n,e)=>n.isEqual(e))}const QM=new nn(Ve.comparator),WM=new Cn(Ve.comparator);function mt(...n){let e=WM;for(const t of n)e=e.add(t);return e}const XM=new Cn(ot);function JM(){return XM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ym(e)?"-0":e}}function IA(n){return{integerValue:""+n}}function e6(n,e){return CM(e)?IA(e):N0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(){this._=void 0}}function t6(n,e,t){return n instanceof wm?function(a,o){const u={fields:{[fA]:{stringValue:dA},[mA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&S0(o)&&(o=Jm(o)),o&&(u.fields[hA]=o),{mapValue:u}}(t,e):n instanceof xd?DA(n,e):n instanceof wd?OA(n,e):function(a,o){const u=kA(a,o),d=iT(u)+iT(a.Re);return Tv(u)&&Tv(a.Re)?IA(d):N0(a.serializer,d)}(n,e)}function n6(n,e,t){return n instanceof xd?DA(n,e):n instanceof wd?OA(n,e):t}function kA(n,e){return n instanceof Em?function(i){return Tv(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class wm extends rp{}class xd extends rp{constructor(e){super(),this.elements=e}}function DA(n,e){const t=jA(e);for(const i of n.elements)t.some(a=>Oi(a,i))||t.push(i);return{arrayValue:{values:t}}}class wd extends rp{constructor(e){super(),this.elements=e}}function OA(n,e){let t=jA(e);for(const i of n.elements)t=t.filter(a=>!Oi(a,i));return{arrayValue:{values:t}}}class Em extends rp{constructor(e,t){super(),this.serializer=e,this.Re=t}}function iT(n){return dn(n.integerValue||n.doubleValue)}function jA(n){return A0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function r6(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof xd&&a instanceof xd||i instanceof wd&&a instanceof wd?dc(i.elements,a.elements,Oi):i instanceof Em&&a instanceof Em?Oi(i.Re,a.Re):i instanceof wm&&a instanceof wm}(n.transform,e.transform)}class i6{constructor(e,t){this.version=e,this.transformResults=t}}class ir{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function em(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ip{}function MA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new sp(n.key,ir.none()):new Kd(n.key,n.data,ir.none());{const t=n.data,i=dr.empty();let a=new Cn(Bn.comparator);for(let o of e.fields)if(!a.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?i.delete(o):i.set(o,u),a=a.add(o)}return new qa(n.key,i,new wr(a.toArray()),ir.none())}}function s6(n,e,t){n instanceof Kd?function(a,o,u){const d=a.value.clone(),h=aT(a.fieldTransforms,o,u.transformResults);d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof qa?function(a,o,u){if(!em(a.precondition,o))return void o.convertToUnknownDocument(u.version);const d=aT(a.fieldTransforms,o,u.transformResults),h=o.data;h.setAll(PA(a)),h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function dd(n,e,t,i){return n instanceof Kd?function(o,u,d,h){if(!em(o.precondition,u))return d;const m=o.value.clone(),v=oT(o.fieldTransforms,h,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof qa?function(o,u,d,h){if(!em(o.precondition,u))return d;const m=oT(o.fieldTransforms,h,u),v=u.data;return v.setAll(PA(o)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(b=>b.field))}(n,e,t,i):function(o,u,d){return em(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function a6(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),o=kA(i.transform,a||null);o!=null&&(t===null&&(t=dr.empty()),t.set(i.field,o))}return t||null}function sT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&dc(i,a,(o,u)=>r6(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Kd extends ip{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class qa extends ip{constructor(e,t,i,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function PA(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function aT(n,e,t){const i=new Map;Ct(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const o=n[a],u=o.transform,d=e.data.field(o.field);i.set(o.field,n6(u,d,t[a]))}return i}function oT(n,e,t){const i=new Map;for(const a of n){const o=a.transform,u=t.data.field(a.field);i.set(a.field,t6(o,u,e))}return i}class sp extends ip{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class o6 extends ip{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&s6(o,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=dd(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=dd(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=NA();return this.mutations.forEach(a=>{const o=e.get(a.key),u=o.overlayedDocument;let d=this.applyToLocalView(u,o.mutatedFields);d=t.has(a.key)?null:d;const h=MA(u,d);h!==null&&i.set(a.key,h),u.isValidDocument()||u.convertToNoDocument(Xe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),mt())}isEqual(e){return this.batchId===e.batchId&&dc(this.mutations,e.mutations,(t,i)=>sT(t,i))&&dc(this.baseMutations,e.baseMutations,(t,i)=>sT(t,i))}}class I0{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){Ct(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let a=function(){return QM}();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,i[u].version);return new I0(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn,_t;function d6(n){switch(n){case ue.OK:return qe(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return qe(15467,{code:n})}}function LA(n){if(n===void 0)return Ns("GRPC error has no .code"),ue.UNKNOWN;switch(n){case yn.OK:return ue.OK;case yn.CANCELLED:return ue.CANCELLED;case yn.UNKNOWN:return ue.UNKNOWN;case yn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case yn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case yn.INTERNAL:return ue.INTERNAL;case yn.UNAVAILABLE:return ue.UNAVAILABLE;case yn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case yn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case yn.NOT_FOUND:return ue.NOT_FOUND;case yn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case yn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case yn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case yn.ABORTED:return ue.ABORTED;case yn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case yn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case yn.DATA_LOSS:return ue.DATA_LOSS;default:return qe(39323,{code:n})}}(_t=yn||(yn={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=new Ca([4294967295,4294967295],0);function lT(n){const e=aA().encode(n),t=new X1;return t.update(e),new Uint8Array(t.digest())}function cT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ca([t,i],0),new Ca([a,o],0)]}class k0{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ed(`Invalid padding: ${t}`);if(i<0)throw new ed(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ed(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ed(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ca.fromNumber(this.pe)}we(e,t,i){let a=e.add(t.multiply(Ca.fromNumber(i)));return a.compare(f6)===1&&(a=new Ca([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=lT(e),[i,a]=cT(t);for(let o=0;o<this.hashCount;o++){const u=this.we(i,a,o);if(!this.be(u))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new k0(o,a,t);return i.forEach(d=>u.insert(d)),u}insert(e){if(this.pe===0)return;const t=lT(e),[i,a]=cT(t);for(let o=0;o<this.hashCount;o++){const u=this.we(i,a,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class ed extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,t,i,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Zd.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new ap(Xe.min(),a,new nn(ot),Is(),mt())}}class Zd{constructor(e,t,i,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Zd(i,t,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,t,i,a){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=a}}class VA{constructor(e,t){this.targetId=e,this.Ce=t}}class UA{constructor(e,t,i=Fn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class uT{constructor(){this.Fe=0,this.Me=dT(),this.xe=Fn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=mt(),t=mt(),i=mt();return this.Me.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:qe(38017,{changeType:o})}}),new Zd(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=dT()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ct(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class h6{constructor(e){this.ze=e,this.je=new Map,this.He=Is(),this.Je=Mh(),this.Ye=Mh(),this.Ze=new nn(ot)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:qe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,i=e.Ce.count,a=this._t(t);if(a){const o=a.target;if(Av(o))if(i===0){const u=new Ve(o.path);this.tt(t,u,Yn.newNoDocument(u,Xe.min()))}else Ct(i===1,20013,{expectedCount:i});else{const u=this.ut(t);if(u!==i){const d=this.ct(e),h=d?this.lt(d,e,u):1;if(h!==0){this.st(t);const m=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=t;let u,d;try{u=Da(i).toUint8Array()}catch(h){if(h instanceof uA)return uc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new k0(u,a,o)}catch(h){return uc(h instanceof ed?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.pe===0?null:d}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let a=0;return i.forEach(o=>{const u=this.ze.Pt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,o,null),a++)}),a}It(e){const t=new Map;this.je.forEach((o,u)=>{const d=this._t(u);if(d){if(o.current&&Av(d.target)){const h=new Ve(d.target.path);this.Et(h).has(u)||this.dt(u,h)||this.tt(u,h,Yn.newNoDocument(h,e))}o.Le&&(t.set(u,o.qe()),o.Qe())}});let i=mt();this.Ye.forEach((o,u)=>{let d=!0;u.forEachWhile(h=>{const m=this._t(h);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const a=new ap(e,t,this.Ze,this.He,i);return this.He=Is(),this.Je=Mh(),this.Ye=Mh(),this.Ze=new nn(ot),a}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new uT,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Cn(ot),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Cn(ot),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Ce("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new uT),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Mh(){return new nn(Ve.comparator)}function dT(){return new nn(Ve.comparator)}const m6={asc:"ASCENDING",desc:"DESCENDING"},p6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},g6={and:"AND",or:"OR"};class y6{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Rv(n,e){return n.useProto3Json||Xm(e)?e:{value:e}}function Tm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function v6(n,e){return Tm(n,e.toTimestamp())}function Ni(n){return Ct(!!n,49232),Xe.fromTimestamp(function(t){const i=ka(t);return new Ut(i.seconds,i.nanos)}(n))}function D0(n,e){return Nv(n,e).canonicalString()}function Nv(n,e){const t=function(a){return new zt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function zA(n){const e=zt.fromString(n);return Ct(GA(e),10190,{key:e.toString()}),e}function Iv(n,e){return D0(n.databaseId,e.path)}function By(n,e){const t=zA(e);if(t.get(1)!==n.databaseId.projectId)throw new Te(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Te(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ve(HA(t))}function FA(n,e){return D0(n.databaseId,e)}function _6(n){const e=zA(n);return e.length===4?zt.emptyPath():HA(e)}function kv(n){return new zt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function HA(n){return Ct(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function fT(n,e,t){return{name:Iv(n,e),fields:t.value.mapValue.fields}}function b6(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:qe(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(m,v){return m.useProto3Json?(Ct(v===void 0||typeof v=="string",58123),Fn.fromBase64String(v||"")):(Ct(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Fn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(m){const v=m.code===void 0?ue.UNKNOWN:LA(m.code);return new Te(v,m.message||"")}(u);t=new UA(i,a,o,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=By(n,i.document.name),o=Ni(i.document.updateTime),u=i.document.createTime?Ni(i.document.createTime):Xe.min(),d=new dr({mapValue:{fields:i.document.fields}}),h=Yn.newFoundDocument(a,o,u,d),m=i.targetIds||[],v=i.removedTargetIds||[];t=new tm(m,v,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=By(n,i.document),o=i.readTime?Ni(i.readTime):Xe.min(),u=Yn.newNoDocument(a,o),d=i.removedTargetIds||[];t=new tm([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=By(n,i.document),o=i.removedTargetIds||[];t=new tm([],o,a,null)}else{if(!("filter"in e))return qe(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,u=new u6(a,o),d=i.targetId;t=new VA(d,u)}}return t}function x6(n,e){let t;if(e instanceof Kd)t={update:fT(n,e.key,e.value)};else if(e instanceof sp)t={delete:Iv(n,e.key)};else if(e instanceof qa)t={update:fT(n,e.key,e.data),updateMask:I6(e.fieldMask)};else{if(!(e instanceof o6))return qe(16599,{ft:e.type});t={verify:Iv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,u){const d=u.transform;if(d instanceof wm)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof xd)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof wd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Em)return{fieldPath:u.field.canonicalString(),increment:d.Re};throw qe(20930,{transform:u.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:v6(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:qe(27497)}(n,e.precondition)),t}function w6(n,e){return n&&n.length>0?(Ct(e!==void 0,14353),n.map(t=>function(a,o){let u=a.updateTime?Ni(a.updateTime):Ni(o);return u.isEqual(Xe.min())&&(u=Ni(o)),new i6(u,a.transformResults||[])}(t,e))):[]}function E6(n,e){return{documents:[FA(n,e.path)]}}function T6(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=FA(n,a);const o=function(m){if(m.length!==0)return $A(ni.create(m,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(m){if(m.length!==0)return m.map(v=>function(_){return{field:ql(_.field),direction:C6(_.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=Rv(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:t,parent:a}}function S6(n){let e=_6(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Ct(i===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let o=[];t.where&&(o=function(b){const _=qA(b);return _ instanceof ni&&bA(_)?_.getFilters():[_]}(t.where));let u=[];t.orderBy&&(u=function(b){return b.map(_=>function(C){return new bd($l(C.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(_))}(t.orderBy));let d=null;t.limit&&(d=function(b){let _;return _=typeof b=="object"?b.value:b,Xm(_)?null:_}(t.limit));let h=null;t.startAt&&(h=function(b){const _=!!b.before,S=b.values||[];return new bm(S,_)}(t.startAt));let m=null;return t.endAt&&(m=function(b){const _=!b.before,S=b.values||[];return new bm(S,_)}(t.endAt)),$M(e,a,u,o,d,"F",h,m)}function A6(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function qA(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=$l(t.unaryFilter.field);return vn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=$l(t.unaryFilter.field);return vn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=$l(t.unaryFilter.field);return vn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=$l(t.unaryFilter.field);return vn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}}(n):n.fieldFilter!==void 0?function(t){return vn.create($l(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ni.create(t.compositeFilter.filters.map(i=>qA(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return qe(1026)}}(t.compositeFilter.op))}(n):qe(30097,{filter:n})}function C6(n){return m6[n]}function R6(n){return p6[n]}function N6(n){return g6[n]}function ql(n){return{fieldPath:n.canonicalString()}}function $l(n){return Bn.fromServerFormat(n.fieldPath)}function $A(n){return n instanceof vn?function(t){if(t.op==="=="){if(JE(t.value))return{unaryFilter:{field:ql(t.field),op:"IS_NAN"}};if(XE(t.value))return{unaryFilter:{field:ql(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(JE(t.value))return{unaryFilter:{field:ql(t.field),op:"IS_NOT_NAN"}};if(XE(t.value))return{unaryFilter:{field:ql(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ql(t.field),op:R6(t.op),value:t.value}}}(n):n instanceof ni?function(t){const i=t.getFilters().map(a=>$A(a));return i.length===1?i[0]:{compositeFilter:{op:N6(t.op),filters:i}}}(n):qe(54877,{filter:n})}function I6(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function GA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,t,i,a,o=Xe.min(),u=Xe.min(),d=Fn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new wa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.wt=e}}function D6(n){const e=S6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?xm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(){this.Cn=new j6}addToCollectionParentIndex(e,t){return this.Cn.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(Ia.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(Ia.min())}updateCollectionGroup(e,t,i){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class j6{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Cn(zt.comparator),o=!a.has(i);return this.index[t]=a.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Cn(zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YA=41943040;class ur{static withCacheSize(e){return new ur(e,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur.DEFAULT_COLLECTION_PERCENTILE=10,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ur.DEFAULT=new ur(YA,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ur.DISABLED=new ur(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new mc(0)}static lr(){return new mc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="LruGarbageCollector",M6=1048576;function pT([n,e],[t,i]){const a=ot(n,t);return a===0?ot(e,i):a}class P6{constructor(e){this.Er=e,this.buffer=new Cn(pT),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();pT(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class L6{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Ce(mT,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Dc(t)?Ce(mT,"Ignoring IndexedDB error during garbage collection: ",t):await kc(t)}await this.mr(3e5)})}}class V6{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return fe.resolve(Wm.le);const i=new P6(t);return this.gr.forEachTarget(e,a=>i.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>i.Rr(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(hT)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hT):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,a,o,u,d,h,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,u=Date.now(),this.nthSequenceNumber(e,a))).next(b=>(i=b,d=Date.now(),this.removeTargets(e,i,t))).next(b=>(o=b,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(b=>(m=Date.now(),Fl()<=ht.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${o} targets in `+(h-d)+`ms
	Removed ${b} documents in `+(m-h)+`ms
Total Duration: ${m-v}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:b})))}}function U6(n,e){return new V6(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(){this.changes=new Go(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?fe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&dd(i.mutation,a,wr.empty(),Ut.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,mt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=mt()){const a=Io();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(o=>{let u=Ju();return o.forEach((d,h)=>{u=u.insert(d,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Io();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,mt()))}populateOverlays(e,t,i){const a=[];return i.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,i,a){let o=Is();const u=ud(),d=function(){return ud()}();return t.forEach((h,m)=>{const v=i.get(m.key);a.has(m.key)&&(v===void 0||v.mutation instanceof qa)?o=o.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),dd(v.mutation,m,v.mutation.getFieldMask(),Ut.now())):u.set(m.key,wr.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((m,v)=>u.set(m,v)),t.forEach((m,v)=>{var b;return d.set(m,new z6(v,(b=u.get(m))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,t){const i=ud();let a=new nn((u,d)=>u-d),o=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(h=>{const m=t.get(h);if(m===null)return;let v=i.get(h)||wr.empty();v=d.applyToLocalView(m,v),i.set(h,v);const b=(a.get(d.batchId)||mt()).add(h);a=a.insert(d.batchId,b)})}).next(()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),m=h.key,v=h.value,b=NA();v.forEach(_=>{if(!o.has(_)){const S=MA(t.get(_),i.get(_));S!==null&&b.set(_,S),o=o.add(_)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,b))}return fe.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(u){return Ve.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):TA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-o.size):fe.resolve(Io());let d=gd,h=o;return u.next(m=>fe.forEach(m,(v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),o.get(v)?fe.resolve():this.remoteDocumentCache.getEntry(e,v).next(_=>{h=h.insert(v,_)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,h,m,mt())).next(v=>({batchId:d,changes:RA(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ve(t)).next(i=>{let a=Ju();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const o=t.collectionGroup;let u=Ju();return this.indexManager.getCollectionParents(e,o).next(d=>fe.forEach(d,h=>{const m=function(b,_){return new Oc(_,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next(v=>{v.forEach((b,_)=>{u=u.insert(b,_)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,a))).next(u=>{o.forEach((h,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,Yn.newInvalidDocument(v)))});let d=Ju();return u.forEach((h,m)=>{const v=o.get(h);v!==void 0&&dd(v.mutation,m,wr.empty(),Ut.now()),np(t,m)&&(d=d.insert(h,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return fe.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Ni(a.createTime)}}(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(a){return{name:a.name,query:D6(a.bundledQuery),readTime:Ni(a.readTime)}}(t)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(){this.overlays=new nn(Ve.comparator),this.Qr=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Io();return fe.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&i.set(a,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,o)=>{this.St(e,t,o)}),fe.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Qr.get(i);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(i)),fe.resolve()}getOverlaysForCollection(e,t,i){const a=Io(),o=t.length+1,u=new Ve(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const h=d.getNext().value,m=h.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===o&&h.largestBatchId>i&&a.set(h.getKey(),h)}return fe.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let o=new nn((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let v=o.get(m.largestBatchId);v===null&&(v=Io(),o=o.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=Io(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((m,v)=>d.set(m,v)),!(d.size()>=a)););return fe.resolve(d)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Qr.get(a.largestBatchId).delete(i.key);this.Qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new c6(t,i));let o=this.Qr.get(t);o===void 0&&(o=mt(),this.Qr.set(t,o)),this.Qr.set(t,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(){this.sessionToken=Fn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(){this.$r=new Cn(On.Ur),this.Kr=new Cn(On.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new On(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new On(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new Ve(new zt([])),i=new On(t,e),a=new On(t,e+1),o=[];return this.Kr.forEachInRange([i,a],u=>{this.zr(u),o.push(u.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Ve(new zt([])),i=new On(t,e),a=new On(t,e+1);let o=mt();return this.Kr.forEachInRange([i,a],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new On(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class On{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Ve.comparator(e.key,t.key)||ot(e.Zr,t.Zr)}static Wr(e,t){return ot(e.Zr,t.Zr)||Ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Cn(On.Ur)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new l6(o,t,i,a);this.mutationQueue.push(u);for(const d of a)this.Xr=this.Xr.add(new On(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return fe.resolve(u)}lookupMutationBatch(e,t){return fe.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ti(i),o=a<0?0:a;return fe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?T0:this.nr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new On(t,0),a=new On(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([i,a],u=>{const d=this.ei(u.Zr);o.push(d)}),fe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Cn(ot);return t.forEach(a=>{const o=new On(a,0),u=new On(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,u],d=>{i=i.add(d.Zr)})}),fe.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let o=i;Ve.isDocumentKey(o)||(o=o.child(""));const u=new On(new Ve(o),0);let d=new Cn(ot);return this.Xr.forEachWhile(h=>{const m=h.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(d=d.add(h.Zr)),!0)},u),fe.resolve(this.ni(d))}ni(e){const t=[];return e.forEach(i=>{const a=this.ei(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Ct(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return fe.forEach(t.mutations,a=>{const o=new On(a.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new On(t,0),a=this.Xr.firstAfterOrEqual(i);return fe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e){this.ii=e,this.docs=function(){return new nn(Ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),o=a?a.size:0,u=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return fe.resolve(i?i.document.mutableCopy():Yn.newInvalidDocument(t))}getEntries(e,t){let i=Is();return t.forEach(a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():Yn.newInvalidDocument(a))}),fe.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let o=Is();const u=t.path,d=new Ve(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:m,value:{document:v}}=h.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||EM(wM(v),i)<=0||(a.has(v.key)||np(t,v))&&(o=o.insert(v.key,v.mutableCopy()))}return fe.resolve(o)}getAllFromCollectionGroup(e,t,i,a){qe(9500)}si(e,t){return fe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new K6(this)}getSize(e){return fe.resolve(this.size)}}class K6 extends B6{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Br.addEntry(e,a)):this.Br.removeEntry(i)}),fe.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e){this.persistence=e,this.oi=new Go(t=>C0(t),R0),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this._i=0,this.ai=new O0,this.targetCount=0,this.ui=mc.cr()}forEachTarget(e,t){return this.oi.forEach((i,a)=>t(a)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),fe.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new mc(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.Tr(t),fe.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,i){let a=0;const o=[];return this.oi.forEach((u,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.oi.delete(u),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),fe.waitFor(o).next(()=>a)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return fe.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),fe.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(u=>{o.push(a.markPotentiallyOrphaned(e,u))}),fe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return fe.resolve(i)}containsKey(e,t){return fe.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,t){this.ci={},this.overlays={},this.li=new Wm(0),this.hi=!1,this.hi=!0,this.Pi=new $6,this.referenceDelegate=e(this),this.Ti=new Z6(this),this.indexManager=new O6,this.remoteDocumentCache=function(a){return new Y6(a)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new k6(t),this.Ei=new H6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new q6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new G6(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){Ce("MemoryPersistence","Starting transaction:",e);const a=new Q6(this.li.next());return this.referenceDelegate.di(),i(a).next(o=>this.referenceDelegate.Ai(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Ri(e,t){return fe.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class Q6 extends SM{constructor(e){super(),this.currentSequenceNumber=e}}class j0{constructor(e){this.persistence=e,this.Vi=new O0,this.mi=null}static fi(e){return new j0(e)}get gi(){if(this.mi)return this.mi;throw qe(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),fe.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(a=>this.gi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.gi.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.gi,i=>{const a=Ve.fromPath(i);return this.pi(e,a).next(o=>{o||t.removeEntry(a,Xe.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return fe.or([()=>fe.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Sm{constructor(e,t){this.persistence=e,this.yi=new Go(i=>RM(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=U6(this,t)}static fi(e,t){return new Sm(e,t)}di(){}Ai(e){return fe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return fe.forEach(this.yi,(i,a)=>this.Dr(e,i,a).next(o=>o?fe.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.si(e,u=>this.Dr(e,u,t).next(d=>{d||(i++,o.removeEntry(u,Xe.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),fe.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),fe.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),fe.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Xh(e.data.value)),t}Dr(e,t,i){return fe.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.yi.get(t);return fe.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.ds=i,this.As=a}static Rs(e,t){let i=mt(),a=mt();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new M0(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return kO()?8:AM(Qn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,a){const o={result:null};return this.ws(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.bs(e,t,a,i).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new W6;return this.Ss(e,t,u).next(d=>{if(o.result=d,this.fs)return this.Ds(e,t,u,d.size)})}).next(()=>o.result)}Ds(e,t,i,a){return i.documentReadCount<this.gs?(Fl()<=ht.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",Hl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),fe.resolve()):(Fl()<=ht.DEBUG&&Ce("QueryEngine","Query:",Hl(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ps*a?(Fl()<=ht.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",Hl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ri(t))):fe.resolve())}ws(e,t){if(rT(t))return fe.resolve(null);let i=Ri(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=xm(t,null,"F"),i=Ri(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const u=mt(...o);return this.ys.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,i).next(h=>{const m=this.vs(t,d);return this.Cs(t,m,u,h.readTime)?this.ws(e,xm(t,null,"F")):this.Fs(e,m,t,h)}))})))}bs(e,t,i,a){return rT(t)||a.isEqual(Xe.min())?fe.resolve(null):this.ys.getDocuments(e,i).next(o=>{const u=this.vs(t,o);return this.Cs(t,u,i,a)?fe.resolve(null):(Fl()<=ht.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Hl(t)),this.Fs(e,u,t,xM(a,gd)).next(d=>d))})}vs(e,t){let i=new Cn(AA(e));return t.forEach((a,o)=>{np(e,o)&&(i=i.add(o))}),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,t,i){return Fl()<=ht.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",Hl(t)),this.ys.getDocumentsMatchingQuery(e,t,Ia.min(),i)}Fs(e,t,i,a){return this.ys.getDocumentsMatchingQuery(e,i,a).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="LocalStore",J6=3e8;class eP{constructor(e,t,i,a){this.persistence=e,this.Ms=t,this.serializer=a,this.xs=new nn(ot),this.Os=new Go(o=>C0(o),R0),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new F6(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function tP(n,e,t,i){return new eP(n,e,t,i)}async function ZA(n,e){const t=et(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(o=>(a=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],d=[];let h=mt();for(const m of a){u.push(m.batchId);for(const v of m.mutations)h=h.add(v.key)}for(const m of o){d.push(m.batchId);for(const v of m.mutations)h=h.add(v.key)}return t.localDocuments.getDocuments(i,h).next(m=>({ks:m,removedBatchIds:u,addedBatchIds:d}))})})}function nP(n,e){const t=et(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(d,h,m,v){const b=m.batch,_=b.keys();let S=fe.resolve();return _.forEach(C=>{S=S.next(()=>v.getEntry(h,C)).next(R=>{const N=m.docVersions.get(C);Ct(N!==null,48541),R.version.compareTo(N)<0&&(b.applyToRemoteDocument(R,m),R.isValidDocument()&&(R.setReadTime(m.commitVersion),v.addEntry(R)))})}),S.next(()=>d.mutationQueue.removeMutationBatch(h,b))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let h=mt();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(h=h.add(d.batch.mutations[m].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function QA(n){const e=et(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function rP(n,e){const t=et(n),i=e.snapshotVersion;let a=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Bs.newChangeBuffer({trackRemovals:!0});a=t.xs;const d=[];e.targetChanges.forEach((v,b)=>{const _=a.get(b);if(!_)return;d.push(t.Ti.removeMatchingKeys(o,v.removedDocuments,b).next(()=>t.Ti.addMatchingKeys(o,v.addedDocuments,b)));let S=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?S=S.withResumeToken(Fn.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,i)),a=a.insert(b,S),function(R,N,M){return R.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=J6?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(_,S,v)&&d.push(t.Ti.updateTargetData(o,S))});let h=Is(),m=mt();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(o,v))}),d.push(iP(o,u,e.documentUpdates).next(v=>{h=v.qs,m=v.Qs})),!i.isEqual(Xe.min())){const v=t.Ti.getLastRemoteSnapshotVersion(o).next(b=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,i));d.push(v)}return fe.waitFor(d).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,h,m)).next(()=>h)}).then(o=>(t.xs=a,o))}function iP(n,e,t){let i=mt(),a=mt();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let u=Is();return t.forEach((d,h)=>{const m=o.get(d);h.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(d)),h.isNoDocument()&&h.version.isEqual(Xe.min())?(e.removeEntry(d,h.readTime),u=u.insert(d,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||h.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(h),u=u.insert(d,h)):Ce(P0,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",h.version)}),{qs:u,Qs:a}})}function sP(n,e){const t=et(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=T0),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function aP(n,e){const t=et(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Ti.getTargetData(i,e).next(o=>o?(a=o,fe.resolve(a)):t.Ti.allocateTargetId(i).next(u=>(a=new wa(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.xs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function Dv(n,e,t){const i=et(n),a=i.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Dc(u))throw u;Ce(P0,`Failed to update sequence numbers for target ${e}: ${u}`)}i.xs=i.xs.remove(e),i.Os.delete(a.target)}function gT(n,e,t){const i=et(n);let a=Xe.min(),o=mt();return i.persistence.runTransaction("Execute query","readwrite",u=>function(h,m,v){const b=et(h),_=b.Os.get(v);return _!==void 0?fe.resolve(b.xs.get(_)):b.Ti.getTargetData(m,v)}(i,u,Ri(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(u,d.targetId).next(h=>{o=h})}).next(()=>i.Ms.getDocumentsMatchingQuery(u,e,t?a:Xe.min(),t?o:mt())).next(d=>(oP(i,YM(e),d),{documents:d,$s:o})))}function oP(n,e,t){let i=n.Ns.get(e)||Xe.min();t.forEach((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Ns.set(e,i)}class yT{constructor(){this.activeTargetIds=JM()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lP{constructor(){this.xo=new yT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new yT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="ConnectivityMonitor";class _T{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Ce(vT,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Ce(vT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph=null;function Ov(){return Ph===null?Ph=function(){return 268435456+Math.round(2147483648*Math.random())}():Ph++,"0x"+Ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="RestConnection",uP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dP{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${a}`,this.Go=this.databaseId.database===vm?`project_id=${i}`:`project_id=${i}&database_id=${a}`}zo(e,t,i,a,o){const u=Ov(),d=this.jo(e,t.toUriEncodedString());Ce(zy,`Sending RPC '${e}' ${u}:`,d,i);const h={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(h,a,o);const{host:m}=new URL(d),v=Cc(m);return this.Jo(e,d,h,i,v).then(b=>(Ce(zy,`Received RPC '${e}' ${u}: `,b),b),b=>{throw uc(zy,`RPC '${e}' ${u} failed with error: `,b,"url: ",d,"request:",i),b})}Yo(e,t,i,a,o,u){return this.zo(e,t,i,a,o)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ic}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),i&&i.headers.forEach((a,o)=>e[o]=a)}jo(e,t){const i=uP[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n="WebChannelConnection";class hP extends dP{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,o){const u=Ov();return new Promise((d,h)=>{const m=new J1;m.setWithCredentials(!0),m.listenOnce(eA.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Wh.NO_ERROR:const b=m.getResponseJson();Ce($n,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),d(b);break;case Wh.TIMEOUT:Ce($n,`RPC '${e}' ${u} timed out`),h(new Te(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Wh.HTTP_ERROR:const _=m.getStatus();if(Ce($n,`RPC '${e}' ${u} failed with status:`,_,"response text:",m.getResponseText()),_>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const C=S==null?void 0:S.error;if(C&&C.status&&C.message){const R=function(M){const U=M.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(U)>=0?U:ue.UNKNOWN}(C.status);h(new Te(R,C.message))}else h(new Te(ue.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Te(ue.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{h_:e,streamId:u,P_:m.getLastErrorCode(),T_:m.getLastError()})}}finally{Ce($n,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(a);Ce($n,`RPC '${e}' ${u} sending request:`,a),m.send(t,"POST",v,i,15)})}I_(e,t,i){const a=Ov(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=rA(),d=nA(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Ho(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const v=o.join("");Ce($n,`Creating RPC '${e}' stream ${a}: ${v}`,h);const b=u.createWebChannel(v,h);this.E_(b);let _=!1,S=!1;const C=new fP({Zo:N=>{S?Ce($n,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(_||(Ce($n,`Opening RPC '${e}' stream ${a} transport.`),b.open(),_=!0),Ce($n,`RPC '${e}' stream ${a} sending:`,N),b.send(N))},Xo:()=>b.close()}),R=(N,M,U)=>{N.listen(M,V=>{try{U(V)}catch($){setTimeout(()=>{throw $},0)}})};return R(b,Xu.EventType.OPEN,()=>{S||(Ce($n,`RPC '${e}' stream ${a} transport opened.`),C.__())}),R(b,Xu.EventType.CLOSE,()=>{S||(S=!0,Ce($n,`RPC '${e}' stream ${a} transport closed`),C.u_(),this.d_(b))}),R(b,Xu.EventType.ERROR,N=>{S||(S=!0,uc($n,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),C.u_(new Te(ue.UNAVAILABLE,"The operation could not be completed")))}),R(b,Xu.EventType.MESSAGE,N=>{var M;if(!S){const U=N.data[0];Ct(!!U,16349);const V=U,$=(V==null?void 0:V.error)||((M=V[0])===null||M===void 0?void 0:M.error);if($){Ce($n,`RPC '${e}' stream ${a} received error:`,$);const H=$.status;let W=function(j){const B=yn[j];if(B!==void 0)return LA(B)}(H),I=$.message;W===void 0&&(W=ue.INTERNAL,I="Unknown error status: "+H+" with message "+$.message),S=!0,C.u_(new Te(W,I)),b.close()}else Ce($n,`RPC '${e}' stream ${a} received:`,U),C.c_(U)}}),R(d,tA.STAT_EVENT,N=>{N.stat===xv.PROXY?Ce($n,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===xv.NOPROXY&&Ce($n,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Fy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(n){return new y6(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,t,i=1e3,a=1.5,o=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=a,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),a=Math.max(0,t-i);a>0&&Ce("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="PersistentStream";class XA{constructor(e,t,i,a,o,u,d,h){this.xi=e,this.S_=i,this.D_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new WA(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(Ns(t.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.v_===t&&this.z_(i,a)},i=>{e(()=>{const a=new Te(ue.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(a)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{i(()=>this.j_(a))}),this.stream.onMessage(a=>{i(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Ce(bT,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(Ce(bT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mP extends XA{constructor(e,t,i,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,u),this.serializer=o}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=b6(this.serializer,e),i=function(o){if(!("targetChange"in o))return Xe.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Xe.min():u.readTime?Ni(u.readTime):Xe.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=kv(this.serializer),t.addTarget=function(o,u){let d;const h=u.target;if(d=Av(h)?{documents:E6(o,h)}:{query:T6(o,h).gt},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=BA(o,u.resumeToken);const m=Rv(o,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(Xe.min())>0){d.readTime=Tm(o,u.snapshotVersion.toTimestamp());const m=Rv(o,u.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const i=A6(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=kv(this.serializer),t.removeTarget=e,this.Q_(t)}}class pP extends XA{constructor(e,t,i,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,u),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=w6(e.writeResults,e.commitTime),i=Ni(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=kv(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>x6(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{}class yP extends gP{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new Te(ue.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.zo(e,Nv(t,i),a,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Te(ue.UNKNOWN,o.toString())})}Yo(e,t,i,a,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Yo(e,Nv(t,i),a,u,d,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Te(ue.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class vP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ns(t),this.ua=!1):Ce("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo="RemoteStore";class _P{constructor(e,t,i,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(u=>{i.enqueueAndForget(async()=>{Yo(this)&&(Ce(Lo,"Restarting streams for network reachability change."),await async function(h){const m=et(h);m.da.add(4),await Qd(m),m.Va.set("Unknown"),m.da.delete(4),await lp(m)}(this))})}),this.Va=new vP(i,a)}}async function lp(n){if(Yo(n))for(const e of n.Aa)await e(!0)}async function Qd(n){for(const e of n.Aa)await e(!1)}function JA(n,e){const t=et(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),B0(t)?U0(t):jc(t).N_()&&V0(t,e))}function L0(n,e){const t=et(n),i=jc(t);t.Ea.delete(e),i.N_()&&eC(t,e),t.Ea.size===0&&(i.N_()?i.k_():Yo(t)&&t.Va.set("Unknown"))}function V0(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}jc(n).Z_(e)}function eC(n,e){n.ma.Ke(e),jc(n).X_(e)}function U0(n){n.ma=new h6({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),jc(n).start(),n.Va.ca()}function B0(n){return Yo(n)&&!jc(n).O_()&&n.Ea.size>0}function Yo(n){return et(n).da.size===0}function tC(n){n.ma=void 0}async function bP(n){n.Va.set("Online")}async function xP(n){n.Ea.forEach((e,t)=>{V0(n,e)})}async function wP(n,e){tC(n),B0(n)?(n.Va.Pa(e),U0(n)):n.Va.set("Unknown")}async function EP(n,e,t){if(n.Va.set("Online"),e instanceof UA&&e.state===2&&e.cause)try{await async function(a,o){const u=o.cause;for(const d of o.targetIds)a.Ea.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ea.delete(d),a.ma.removeTarget(d))}(n,e)}catch(i){Ce(Lo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Am(n,i)}else if(e instanceof tm?n.ma.Xe(e):e instanceof VA?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Xe.min()))try{const i=await QA(n.localStore);t.compareTo(i)>=0&&await function(o,u){const d=o.ma.It(u);return d.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const v=o.Ea.get(m);v&&o.Ea.set(m,v.withResumeToken(h.resumeToken,u))}}),d.targetMismatches.forEach((h,m)=>{const v=o.Ea.get(h);if(!v)return;o.Ea.set(h,v.withResumeToken(Fn.EMPTY_BYTE_STRING,v.snapshotVersion)),eC(o,h);const b=new wa(v.target,h,m,v.sequenceNumber);V0(o,b)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){Ce(Lo,"Failed to raise snapshot:",i),await Am(n,i)}}async function Am(n,e,t){if(!Dc(e))throw e;n.da.add(1),await Qd(n),n.Va.set("Offline"),t||(t=()=>QA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ce(Lo,"Retrying IndexedDB access"),await t(),n.da.delete(1),await lp(n)})}function nC(n,e){return e().catch(t=>Am(n,t,e))}async function cp(n){const e=et(n),t=ja(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:T0;for(;TP(e);)try{const a=await sP(e.localStore,i);if(a===null){e.Ia.length===0&&t.k_();break}i=a.batchId,SP(e,a)}catch(a){await Am(e,a)}rC(e)&&iC(e)}function TP(n){return Yo(n)&&n.Ia.length<10}function SP(n,e){n.Ia.push(e);const t=ja(n);t.N_()&&t.ea&&t.ta(e.mutations)}function rC(n){return Yo(n)&&!ja(n).O_()&&n.Ia.length>0}function iC(n){ja(n).start()}async function AP(n){ja(n).ia()}async function CP(n){const e=ja(n);for(const t of n.Ia)e.ta(t.mutations)}async function RP(n,e,t){const i=n.Ia.shift(),a=I0.from(i,e,t);await nC(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await cp(n)}async function NP(n,e){e&&ja(n).ea&&await async function(i,a){if(function(u){return d6(u)&&u!==ue.ABORTED}(a.code)){const o=i.Ia.shift();ja(i).L_(),await nC(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,a)),await cp(i)}}(n,e),rC(n)&&iC(n)}async function xT(n,e){const t=et(n);t.asyncQueue.verifyOperationInProgress(),Ce(Lo,"RemoteStore received new credentials");const i=Yo(t);t.da.add(3),await Qd(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await lp(t)}async function IP(n,e){const t=et(n);e?(t.da.delete(2),await lp(t)):e||(t.da.add(2),await Qd(t),t.Va.set("Unknown"))}function jc(n){return n.fa||(n.fa=function(t,i,a){const o=et(t);return o.oa(),new mP(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{e_:bP.bind(null,n),n_:xP.bind(null,n),i_:wP.bind(null,n),Y_:EP.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),B0(n)?U0(n):n.Va.set("Unknown")):(await n.fa.stop(),tC(n))})),n.fa}function ja(n){return n.ga||(n.ga=function(t,i,a){const o=et(t);return o.oa(),new pP(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:AP.bind(null,n),i_:NP.bind(null,n),na:CP.bind(null,n),ra:RP.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await cp(n)):(await n.ga.stop(),n.Ia.length>0&&(Ce(Lo,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,t,i,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,o){const u=Date.now()+i,d=new z0(e,t,u,a,o);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function F0(n,e){if(Ns("AsyncQueue",`${e}: ${n}`),Dc(n))return new Te(ue.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{static emptySet(e){return new Xl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ve.comparator(t.key,i.key):(t,i)=>Ve.comparator(t.key,i.key),this.keyedMap=Ju(),this.sortedSet=new nn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Xl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.pa=new nn(Ve.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):qe(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class pc{constructor(e,t,i,a,o,u,d,h,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,a,o){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new pc(e,t,Xl.emptySet(t),u,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class DP{constructor(){this.queries=ET(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=et(t),o=a.queries;a.queries=ET(),o.forEach((u,d)=>{for(const h of d.Sa)h.onError(i)})})(this,new Te(ue.ABORTED,"Firestore shutting down"))}}function ET(){return new Go(n=>SA(n),tp)}async function H0(n,e){const t=et(n);let i=3;const a=e.query;let o=t.queries.get(a);o?!o.Da()&&e.va()&&(i=2):(o=new kP,i=e.va()?0:1);try{switch(i){case 0:o.ba=await t.onListen(a,!0);break;case 1:o.ba=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const d=F0(u,`Initialization of query '${Hl(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,o),o.Sa.push(e),e.Fa(t.onlineState),o.ba&&e.Ma(o.ba)&&$0(t)}async function q0(n,e){const t=et(n),i=e.query;let a=3;const o=t.queries.get(i);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?a=e.va()?0:1:!o.Da()&&e.va()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function OP(n,e){const t=et(n);let i=!1;for(const a of e){const o=a.query,u=t.queries.get(o);if(u){for(const d of u.Sa)d.Ma(a)&&(i=!0);u.ba=a}}i&&$0(t)}function jP(n,e,t){const i=et(n),a=i.queries.get(e);if(a)for(const o of a.Sa)o.onError(t);i.queries.delete(e)}function $0(n){n.Ca.forEach(e=>{e.next()})}var jv,TT;(TT=jv||(jv={})).xa="default",TT.Cache="cache";class G0{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new pc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=pc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==jv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.key=e}}class aC{constructor(e){this.key=e}}class MP{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=mt(),this.mutatedKeys=mt(),this.Za=AA(e),this.Xa=new Xl(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new wT,a=t?t.Xa:this.Xa;let o=t?t.mutatedKeys:this.mutatedKeys,u=a,d=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,b)=>{const _=a.get(v),S=np(this.query,b)?b:null,C=!!_&&this.mutatedKeys.has(_.key),R=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let N=!1;_&&S?_.data.isEqual(S.data)?C!==R&&(i.track({type:3,doc:S}),N=!0):this.ru(_,S)||(i.track({type:2,doc:S}),N=!0,(h&&this.Za(S,h)>0||m&&this.Za(S,m)<0)&&(d=!0)):!_&&S?(i.track({type:0,doc:S}),N=!0):_&&!S&&(i.track({type:1,doc:_}),N=!0,(h||m)&&(d=!0)),N&&(S?(u=u.add(S),o=R?o.add(v):o.delete(v)):(u=u.delete(v),o=o.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),o=o.delete(v.key),i.track({type:1,doc:v})}return{Xa:u,nu:i,Cs:d,mutatedKeys:o}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const u=e.nu.wa();u.sort((v,b)=>function(S,C){const R=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{Vt:N})}};return R(S)-R(C)}(v.type,b.type)||this.Za(v.doc,b.doc)),this.iu(i),a=a!=null&&a;const d=t&&!a?this.su():[],h=this.Ya.size===0&&this.current&&!a?1:0,m=h!==this.Ja;return this.Ja=h,u.length!==0||m?{snapshot:new pc(this.query,e.Xa,o,u,e.mutatedKeys,h===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new wT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=mt(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new aC(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new sC(i))}),t}au(e){this.Ha=e.$s,this.Ya=mt();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return pc.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Y0="SyncEngine";class PP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class LP{constructor(e){this.key=e,this.cu=!1}}class VP{constructor(e,t,i,a,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new Go(d=>SA(d),tp),this.Pu=new Map,this.Tu=new Set,this.Iu=new nn(Ve.comparator),this.Eu=new Map,this.du=new O0,this.Au={},this.Ru=new Map,this.Vu=mc.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function UP(n,e,t=!0){const i=fC(n);let a;const o=i.hu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.uu()):a=await oC(i,e,t,!0),a}async function BP(n,e){const t=fC(n);await oC(t,e,!0,!1)}async function oC(n,e,t,i){const a=await aP(n.localStore,Ri(e)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let d;return i&&(d=await zP(n,e,o,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&JA(n.remoteStore,a),d}async function zP(n,e,t,i,a){n.fu=(b,_,S)=>async function(R,N,M,U){let V=N.view.tu(M);V.Cs&&(V=await gT(R.localStore,N.query,!1).then(({documents:I})=>N.view.tu(I,V)));const $=U&&U.targetChanges.get(N.targetId),H=U&&U.targetMismatches.get(N.targetId)!=null,W=N.view.applyChanges(V,R.isPrimaryClient,$,H);return AT(R,N.targetId,W.ou),W.snapshot}(n,b,_,S);const o=await gT(n.localStore,e,!0),u=new MP(e,o.$s),d=u.tu(o.documents),h=Zd.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),m=u.applyChanges(d,n.isPrimaryClient,h);AT(n,t,m.ou);const v=new PP(e,t,u);return n.hu.set(e,v),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),m.snapshot}async function FP(n,e,t){const i=et(n),a=i.hu.get(e),o=i.Pu.get(a.targetId);if(o.length>1)return i.Pu.set(a.targetId,o.filter(u=>!tp(u,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Dv(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&L0(i.remoteStore,a.targetId),Mv(i,a.targetId)}).catch(kc)):(Mv(i,a.targetId),await Dv(i.localStore,a.targetId,!0))}async function HP(n,e){const t=et(n),i=t.hu.get(e),a=t.Pu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),L0(t.remoteStore,i.targetId))}async function qP(n,e,t){const i=WP(n);try{const a=await function(u,d){const h=et(u),m=Ut.now(),v=d.reduce((S,C)=>S.add(C.key),mt());let b,_;return h.persistence.runTransaction("Locally write mutations","readwrite",S=>{let C=Is(),R=mt();return h.Bs.getEntries(S,v).next(N=>{C=N,C.forEach((M,U)=>{U.isValidDocument()||(R=R.add(M))})}).next(()=>h.localDocuments.getOverlayedDocuments(S,C)).next(N=>{b=N;const M=[];for(const U of d){const V=a6(U,b.get(U.key).overlayedDocument);V!=null&&M.push(new qa(U.key,V,yA(V.value.mapValue),ir.exists(!0)))}return h.mutationQueue.addMutationBatch(S,m,M,d)}).next(N=>{_=N;const M=N.applyToLocalDocumentSet(b,R);return h.documentOverlayCache.saveOverlays(S,N.batchId,M)})}).then(()=>({batchId:_.batchId,changes:RA(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(u,d,h){let m=u.Au[u.currentUser.toKey()];m||(m=new nn(ot)),m=m.insert(d,h),u.Au[u.currentUser.toKey()]=m}(i,a.batchId,t),await Wd(i,a.changes),await cp(i.remoteStore)}catch(a){const o=F0(a,"Failed to persist write");t.reject(o)}}async function lC(n,e){const t=et(n);try{const i=await rP(t.localStore,e);e.targetChanges.forEach((a,o)=>{const u=t.Eu.get(o);u&&(Ct(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.cu=!0:a.modifiedDocuments.size>0?Ct(u.cu,14607):a.removedDocuments.size>0&&(Ct(u.cu,42227),u.cu=!1))}),await Wd(t,i,e)}catch(i){await kc(i)}}function ST(n,e,t){const i=et(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.hu.forEach((o,u)=>{const d=u.view.Fa(e);d.snapshot&&a.push(d.snapshot)}),function(u,d){const h=et(u);h.onlineState=d;let m=!1;h.queries.forEach((v,b)=>{for(const _ of b.Sa)_.Fa(d)&&(m=!0)}),m&&$0(h)}(i.eventManager,e),a.length&&i.lu.Y_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function $P(n,e,t){const i=et(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Eu.get(e),o=a&&a.key;if(o){let u=new nn(Ve.comparator);u=u.insert(o,Yn.newNoDocument(o,Xe.min()));const d=mt().add(o),h=new ap(Xe.min(),new Map,new nn(ot),u,d);await lC(i,h),i.Iu=i.Iu.remove(o),i.Eu.delete(e),K0(i)}else await Dv(i.localStore,e,!1).then(()=>Mv(i,e,t)).catch(kc)}async function GP(n,e){const t=et(n),i=e.batch.batchId;try{const a=await nP(t.localStore,e);uC(t,i,null),cC(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Wd(t,a)}catch(a){await kc(a)}}async function YP(n,e,t){const i=et(n);try{const a=await function(u,d){const h=et(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return h.mutationQueue.lookupMutationBatch(m,d).next(b=>(Ct(b!==null,37113),v=b.keys(),h.mutationQueue.removeMutationBatch(m,b))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,v,d)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>h.localDocuments.getDocuments(m,v))})}(i.localStore,e);uC(i,e,t),cC(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Wd(i,a)}catch(a){await kc(a)}}function cC(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function uC(n,e,t){const i=et(n);let a=i.Au[i.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),i.Au[i.currentUser.toKey()]=a}}function Mv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||dC(n,i)})}function dC(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(L0(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),K0(n))}function AT(n,e,t){for(const i of t)i instanceof sC?(n.du.addReference(i.key,e),KP(n,i)):i instanceof aC?(Ce(Y0,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||dC(n,i.key)):qe(19791,{pu:i})}function KP(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(Ce(Y0,"New document in limbo: "+t),n.Tu.add(i),K0(n))}function K0(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new Ve(zt.fromString(e)),i=n.Vu.next();n.Eu.set(i,new LP(t)),n.Iu=n.Iu.insert(t,i),JA(n.remoteStore,new wa(Ri(ep(t.path)),i,"TargetPurposeLimboResolution",Wm.le))}}async function Wd(n,e,t){const i=et(n),a=[],o=[],u=[];i.hu.isEmpty()||(i.hu.forEach((d,h)=>{u.push(i.fu(h,e,t).then(m=>{var v;if((m||t)&&i.isPrimaryClient){const b=m?!m.fromCache:(v=t==null?void 0:t.targetChanges.get(h.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(h.targetId,b?"current":"not-current")}if(m){a.push(m);const b=M0.Rs(h.targetId,m);o.push(b)}}))}),await Promise.all(u),i.lu.Y_(a),await async function(h,m){const v=et(h);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>fe.forEach(m,_=>fe.forEach(_.ds,S=>v.persistence.referenceDelegate.addReference(b,_.targetId,S)).next(()=>fe.forEach(_.As,S=>v.persistence.referenceDelegate.removeReference(b,_.targetId,S)))))}catch(b){if(!Dc(b))throw b;Ce(P0,"Failed to update sequence numbers: "+b)}for(const b of m){const _=b.targetId;if(!b.fromCache){const S=v.xs.get(_),C=S.snapshotVersion,R=S.withLastLimboFreeSnapshotVersion(C);v.xs=v.xs.insert(_,R)}}}(i.localStore,o))}async function ZP(n,e){const t=et(n);if(!t.currentUser.isEqual(e)){Ce(Y0,"User change. New user:",e.toKey());const i=await ZA(t.localStore,e);t.currentUser=e,function(o,u){o.Ru.forEach(d=>{d.forEach(h=>{h.reject(new Te(ue.CANCELLED,u))})}),o.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Wd(t,i.ks)}}function QP(n,e){const t=et(n),i=t.Eu.get(e);if(i&&i.cu)return mt().add(i.key);{let a=mt();const o=t.Pu.get(e);if(!o)return a;for(const u of o){const d=t.hu.get(u);a=a.unionWith(d.view.eu)}return a}}function fC(n){const e=et(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$P.bind(null,e),e.lu.Y_=OP.bind(null,e.eventManager),e.lu.gu=jP.bind(null,e.eventManager),e}function WP(n){const e=et(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YP.bind(null,e),e}class Cm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=op(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return tP(this.persistence,new X6,e.initialUser,this.serializer)}Su(e){return new KA(j0.fi,this.serializer)}bu(e){return new lP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cm.provider={build:()=>new Cm};class XP extends Cm{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Ct(this.persistence.referenceDelegate instanceof Sm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new L6(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?ur.withCacheSize(this.cacheSizeBytes):ur.DEFAULT;return new KA(i=>Sm.fi(i,t),this.serializer)}}class Pv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ST(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZP.bind(null,this.syncEngine),await IP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DP}()}createDatastore(e){const t=op(e.databaseInfo.databaseId),i=function(o){return new hP(o)}(e.databaseInfo);return function(o,u,d,h){return new yP(o,u,d,h)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,o,u,d){return new _P(i,a,o,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>ST(this.syncEngine,t,0),function(){return _T.C()?new _T:new cP}())}createSyncEngine(e,t){return function(a,o,u,d,h,m,v){const b=new VP(a,o,u,d,h,m);return v&&(b.mu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=et(a);Ce(Lo,"RemoteStore shutting down."),o.da.add(5),await Qd(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Pv.provider={build:()=>new Pv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ns("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="FirestoreClient";class JP{constructor(e,t,i,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=Gn.UNAUTHENTICATED,this.clientId=oA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async u=>{Ce(Ma,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(Ce(Ma,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=F0(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Hy(n,e){n.asyncQueue.verifyOperationInProgress(),Ce(Ma,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await ZA(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function CT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await e8(n);Ce(Ma,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>xT(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>xT(e.remoteStore,a)),n._onlineComponents=e}async function e8(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ce(Ma,"Using user provided OfflineComponentProvider");try{await Hy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ue.FAILED_PRECONDITION||a.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;uc("Error using user provided cache. Falling back to memory cache: "+t),await Hy(n,new Cm)}}else Ce(Ma,"Using default OfflineComponentProvider"),await Hy(n,new XP(void 0));return n._offlineComponents}async function hC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ce(Ma,"Using user provided OnlineComponentProvider"),await CT(n,n._uninitializedComponentsProvider._online)):(Ce(Ma,"Using default OnlineComponentProvider"),await CT(n,new Pv))),n._onlineComponents}function t8(n){return hC(n).then(e=>e.syncEngine)}async function Rm(n){const e=await hC(n),t=e.eventManager;return t.onListen=UP.bind(null,e.syncEngine),t.onUnlisten=FP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=BP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=HP.bind(null,e.syncEngine),t}function n8(n,e,t={}){const i=new Es;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,d,h,m){const v=new Z0({next:_=>{v.xu(),u.enqueueAndForget(()=>q0(o,b));const S=_.docs.has(d);!S&&_.fromCache?m.reject(new Te(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&_.fromCache&&h&&h.source==="server"?m.reject(new Te(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(_)},error:_=>m.reject(_)}),b=new G0(ep(d.path),v,{includeMetadataChanges:!0,Qa:!0});return H0(o,b)}(await Rm(n),n.asyncQueue,e,t,i)),i.promise}function r8(n,e,t={}){const i=new Es;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,d,h,m){const v=new Z0({next:_=>{v.xu(),u.enqueueAndForget(()=>q0(o,b)),_.fromCache&&h.source==="server"?m.reject(new Te(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(_)},error:_=>m.reject(_)}),b=new G0(d,v,{includeMetadataChanges:!0,Qa:!0});return H0(o,b)}(await Rm(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(n,e,t){if(!t)throw new Te(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function i8(n,e,t,i){if(e===!0&&i===!0)throw new Te(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function NT(n){if(!Ve.isDocumentKey(n))throw new Te(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function IT(n){if(Ve.isDocumentKey(n))throw new Te(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function up(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":qe(12329,{type:typeof n})}function sr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Te(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=up(n);throw new Te(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function s8(n,e){if(e<=0)throw new Te(ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="firestore.googleapis.com",kT=!0;class DT{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gC,this.ssl=kT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:kT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<M6)throw new Te(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}i8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mC((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Te(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Te(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Te(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dp{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new fM;switch(i.type){case"firstParty":return new gM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Te(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=RT.get(t);i&&(Ce("ComponentProvider","Removing Datastore"),RT.delete(t),i.terminate())}(this),Promise.resolve()}}function a8(n,e,t,i={}){var a;n=sr(n,dp);const o=Cc(e),u=n._getSettings(),d=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;o&&(c1(`https://${h}`),u1("Firestore",!0)),u.host!==gC&&u.host!==h&&uc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:h,ssl:o,emulatorOptions:i});if(!Do(m,d)&&(n._setSettings(m),i.mockUserToken)){let v,b;if(typeof i.mockUserToken=="string")v=i.mockUserToken,b=Gn.MOCK_USER;else{v=wO(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Te(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Gn(_)}n._authCredentials=new hM(new sA(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Vs(this.firestore,e,this._query)}}class Zn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zn(this.firestore,e,this._key)}}class Ra extends Vs{constructor(e,t,i){super(e,t,ep(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zn(this.firestore,null,new Ve(e))}withConverter(e){return new Ra(this.firestore,e,this._path)}}function Ft(n,e,...t){if(n=on(n),pC("collection","path",e),n instanceof dp){const i=zt.fromString(e,...t);return IT(i),new Ra(n,null,i)}{if(!(n instanceof Zn||n instanceof Ra))throw new Te(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(zt.fromString(e,...t));return IT(i),new Ra(n.firestore,null,i)}}function Ht(n,e,...t){if(n=on(n),arguments.length===1&&(e=oA.newId()),pC("doc","path",e),n instanceof dp){const i=zt.fromString(e,...t);return NT(i),new Zn(n,null,new Ve(i))}{if(!(n instanceof Zn||n instanceof Ra))throw new Te(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(zt.fromString(e,...t));return NT(i),new Zn(n.firestore,n instanceof Ra?n.converter:null,new Ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="AsyncQueue";class jT{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new WA(this,"async_queue_retry"),this.rc=()=>{const i=Fy();i&&Ce(OT,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=Fy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Fy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Es;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Dc(e))throw e;Ce(OT,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,Ns("INTERNAL UNHANDLED ERROR: ",MT(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const a=z0.createAndSchedule(this,e,t,i,o=>this.uc(o));return this.Zu.push(a),a}oc(){this.Xu&&qe(47125,{cc:MT(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function MT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of i)if(o in a&&typeof a[o]=="function")return!0;return!1}(n,["next","error","complete"])}class ji extends dp{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new jT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jT(e),this._firestoreClient=void 0,await e}}}function o8(n,e){const t=typeof n=="object"?n:m1(),i=typeof n=="string"?n:vm,a=m0(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=bO("firestore");o&&a8(a,...o)}return a}function Xd(n){if(n._terminated)throw new Te(ue.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||l8(n),n._firestoreClient}function l8(n){var e,t,i;const a=n._freezeSettings(),o=function(d,h,m,v){return new kM(d,h,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,mC(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new JP(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(d){const h=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gc(Fn.fromBase64String(e))}catch(t){throw new Te(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gc(Fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Te(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=/^__.*__$/;class u8{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new qa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kd(e,this.data,t,this.fieldTransforms)}}class yC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new qa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe(40011,{Ic:n})}}class J0{constructor(e,t,i,a,o,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new J0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Vc(e),a}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Nm(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(vC(this.Ic)&&c8.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class d8{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||op(e)}bc(e,t,i,a=!1){return new J0({Ic:e,methodName:t,wc:i,path:Bn.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ef(n){const e=n._freezeSettings(),t=op(n._databaseId);return new d8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function e_(n,e,t,i,a,o={}){const u=n.bc(o.merge||o.mergeFields?2:0,e,t,a);t_("Data must be an object, but it was:",u,i);const d=xC(i,u);let h,m;if(o.merge)h=new wr(u.fieldMask),m=u.fieldTransforms;else if(o.mergeFields){const v=[];for(const b of o.mergeFields){const _=Lv(e,b,t);if(!u.contains(_))throw new Te(ue.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);EC(v,_)||v.push(_)}h=new wr(v),m=u.fieldTransforms.filter(b=>h.covers(b.field))}else h=null,m=u.fieldTransforms;return new u8(new dr(d),h,m)}class fp extends Q0{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fp}}function _C(n,e,t,i){const a=n.bc(1,e,t);t_("Data must be an object, but it was:",a,i);const o=[],u=dr.empty();Ha(i,(h,m)=>{const v=n_(e,h,t);m=on(m);const b=a.mc(v);if(m instanceof fp)o.push(v);else{const _=tf(m,b);_!=null&&(o.push(v),u.set(v,_))}});const d=new wr(o);return new yC(u,d,a.fieldTransforms)}function bC(n,e,t,i,a,o){const u=n.bc(1,e,t),d=[Lv(e,i,t)],h=[a];if(o.length%2!=0)throw new Te(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)d.push(Lv(e,o[_])),h.push(o[_+1]);const m=[],v=dr.empty();for(let _=d.length-1;_>=0;--_)if(!EC(m,d[_])){const S=d[_];let C=h[_];C=on(C);const R=u.mc(S);if(C instanceof fp)m.push(S);else{const N=tf(C,R);N!=null&&(m.push(S),v.set(S,N))}}const b=new wr(m);return new yC(v,b,u.fieldTransforms)}function f8(n,e,t,i=!1){return tf(t,n.bc(i?4:3,e))}function tf(n,e){if(wC(n=on(n)))return t_("Unsupported field value:",e,n),xC(n,e);if(n instanceof Q0)return function(i,a){if(!vC(a.Ic))throw a.gc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,a){const o=[];let u=0;for(const d of i){let h=tf(d,a.fc(u));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),u++}return{arrayValue:{values:o}}}(n,e)}return function(i,a){if((i=on(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return e6(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Ut.fromDate(i);return{timestampValue:Tm(a.serializer,o)}}if(i instanceof Ut){const o=new Ut(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Tm(a.serializer,o)}}if(i instanceof W0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof gc)return{bytesValue:BA(a.serializer,i._byteString)};if(i instanceof Zn){const o=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw a.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:D0(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof X0)return function(u,d){return{mapValue:{fields:{[pA]:{stringValue:gA},[_m]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw d.gc("VectorValues must only contain numeric values.");return N0(d.serializer,m)})}}}}}}(i,a);throw a.gc(`Unsupported field value: ${up(i)}`)}(n,e)}function xC(n,e){const t={};return cA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ha(n,(i,a)=>{const o=tf(a,e.Ac(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function wC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ut||n instanceof W0||n instanceof gc||n instanceof Zn||n instanceof Q0||n instanceof X0)}function t_(n,e,t){if(!wC(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=up(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function Lv(n,e,t){if((e=on(e))instanceof Jd)return e._internalPath;if(typeof e=="string")return n_(n,e);throw Nm("Field path arguments must be of type string or ",n,!1,void 0,t)}const h8=new RegExp("[~\\*/\\[\\]]");function n_(n,e,t){if(e.search(h8)>=0)throw Nm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Jd(...e.split("."))._internalPath}catch{throw Nm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Nm(n,e,t,i,a){const o=i&&!i.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(o||u)&&(h+=" (found",o&&(h+=` in field ${i}`),u&&(h+=` in document ${a}`),h+=")"),new Te(ue.INVALID_ARGUMENT,d+n+h)}function EC(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,t,i,a,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class m8 extends TC{data(){return super.data()}}function hp(n,e){return typeof e=="string"?n_(n,e):e instanceof Jd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Te(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class r_{}class i_ extends r_{}function fr(n,e,...t){let i=[];e instanceof r_&&i.push(e),i=i.concat(t),function(o){const u=o.filter(h=>h instanceof s_).length,d=o.filter(h=>h instanceof mp).length;if(u>1||u>0&&d>0)throw new Te(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class mp extends i_{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new mp(e,t,i)}_apply(e){const t=this._parse(e);return CC(e._query,t),new Vs(e.firestore,e.converter,Cv(e._query,t))}_parse(e){const t=ef(e.firestore);return function(o,u,d,h,m,v,b){let _;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Te(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){VT(b,v);const C=[];for(const R of b)C.push(LT(h,o,R));_={arrayValue:{values:C}}}else _=LT(h,o,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||VT(b,v),_=f8(d,u,b,v==="in"||v==="not-in");return vn.create(m,v,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Ii(n,e,t){const i=e,a=hp("where",n);return mp._create(a,i,t)}class s_ extends r_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new s_(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:ni.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let u=a;const d=o.getFlattenedFilters();for(const h of d)CC(u,h),u=Cv(u,h)}(e._query,t),new Vs(e.firestore,e.converter,Cv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class a_ extends i_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new a_(e,t)}_apply(e){const t=function(a,o,u){if(a.startAt!==null)throw new Te(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Te(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bd(o,u)}(e._query,this._field,this._direction);return new Vs(e.firestore,e.converter,function(a,o){const u=a.explicitOrderBy.concat([o]);return new Oc(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function ks(n,e="asc"){const t=e,i=hp("orderBy",n);return a_._create(i,t)}class o_ extends i_{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new o_(e,t,i)}_apply(e){return new Vs(e.firestore,e.converter,xm(e._query,this._limit,this._limitType))}}function AC(n){return s8("limit",n),o_._create("limit",n,"F")}function LT(n,e,t){if(typeof(t=on(t))=="string"){if(t==="")throw new Te(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TA(e)&&t.indexOf("/")!==-1)throw new Te(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(zt.fromString(t));if(!Ve.isDocumentKey(i))throw new Te(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return WE(n,new Ve(i))}if(t instanceof Zn)return WE(n,t._key);throw new Te(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${up(t)}.`)}function VT(n,e){if(!Array.isArray(n)||n.length===0)throw new Te(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CC(n,e){const t=function(a,o){for(const u of a)for(const d of u.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Te(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class p8{convertValue(e,t="none"){switch(Oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw qe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ha(e,(a,o)=>{i[a]=this.convertValue(o,t)}),i}convertVectorValue(e){var t,i,a;const o=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[_m].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(u=>dn(u.doubleValue));return new X0(o)}convertGeoPoint(e){return new W0(dn(e.latitude),dn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Jm(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(yd(e));default:return null}}convertTimestamp(e){const t=ka(e);return new Ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=zt.fromString(e);Ct(GA(i),9688,{name:e});const a=new vd(i.get(1),i.get(3)),o=new Ve(i.popFirst(5));return a.isEqual(t)||Ns(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class RC extends TC{constructor(e,t,i,a,o,u){super(e,t,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new nm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(hp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class nm extends RC{data(e={}){return super.data(e)}}class NC{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new td(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new nm(this._firestore,this._userDataWriter,i.key,i,new td(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Te(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(d=>{const h=new nm(a._firestore,a._userDataWriter,d.doc.key,d.doc,new td(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const h=new nm(a._firestore,a._userDataWriter,d.doc.key,d.doc,new td(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,v=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:g8(d.type),doc:h,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function g8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(n){n=sr(n,Zn);const e=sr(n.firestore,ji);return n8(Xd(e),n._key).then(t=>IC(e,n,t))}class c_ extends p8{constructor(e){super(),this.firestore=e}convertBytes(e){return new gc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zn(this.firestore,null,t)}}function zn(n){n=sr(n,Vs);const e=sr(n.firestore,ji),t=Xd(e),i=new c_(e);return SC(n._query),r8(t,n._query).then(a=>new NC(e,i,n,a))}function y8(n,e,t){n=sr(n,Zn);const i=sr(n.firestore,ji),a=l_(n.converter,e,t);return rf(i,[e_(ef(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,ir.none())])}function Xr(n,e,t,...i){n=sr(n,Zn);const a=sr(n.firestore,ji),o=ef(a);let u;return u=typeof(e=on(e))=="string"||e instanceof Jd?bC(o,"updateDoc",n._key,e,t,i):_C(o,"updateDoc",n._key,e),rf(a,[u.toMutation(n._key,ir.exists(!0))])}function nf(n){return rf(sr(n.firestore,ji),[new sp(n._key,ir.none())])}function Ts(n,e){const t=sr(n.firestore,ji),i=Ht(n),a=l_(n.converter,e);return rf(t,[e_(ef(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,ir.exists(!1))]).then(()=>i)}function v8(n,...e){var t,i,a;n=on(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||PT(e[u])||(o=e[u],u++);const d={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(PT(e[u])){const b=e[u];e[u]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[u+1]=(i=b.error)===null||i===void 0?void 0:i.bind(b),e[u+2]=(a=b.complete)===null||a===void 0?void 0:a.bind(b)}let h,m,v;if(n instanceof Zn)m=sr(n.firestore,ji),v=ep(n._key.path),h={next:b=>{e[u]&&e[u](IC(m,n,b))},error:e[u+1],complete:e[u+2]};else{const b=sr(n,Vs);m=sr(b.firestore,ji),v=b._query;const _=new c_(m);h={next:S=>{e[u]&&e[u](new NC(m,_,b,S))},error:e[u+1],complete:e[u+2]},SC(n._query)}return function(_,S,C,R){const N=new Z0(R),M=new G0(S,N,C);return _.asyncQueue.enqueueAndForget(async()=>H0(await Rm(_),M)),()=>{N.xu(),_.asyncQueue.enqueueAndForget(async()=>q0(await Rm(_),M))}}(Xd(m),v,d,h)}function rf(n,e){return function(i,a){const o=new Es;return i.asyncQueue.enqueueAndForget(async()=>qP(await t8(i),a,o)),o.promise}(Xd(n),e)}function IC(n,e,t){const i=t.docs.get(e._key),a=new c_(n);return new RC(n,a,e._key,i,new td(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ef(e)}set(e,t,i){this._verifyNotCommitted();const a=qy(e,this._firestore),o=l_(a.converter,t,i),u=e_(this._dataReader,"WriteBatch.set",a._key,o,a.converter!==null,i);return this._mutations.push(u.toMutation(a._key,ir.none())),this}update(e,t,i,...a){this._verifyNotCommitted();const o=qy(e,this._firestore);let u;return u=typeof(t=on(t))=="string"||t instanceof Jd?bC(this._dataReader,"WriteBatch.update",o._key,t,i,a):_C(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,ir.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=qy(e,this._firestore);return this._mutations=this._mutations.concat(new sp(t._key,ir.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Te(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qy(n,e){if((n=on(n)).firestore!==e)throw new Te(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(n){return Xd(n=sr(n,ji)),new _8(n,e=>rf(n,e))}(function(e,t=!0){(function(a){Ic=a})(Rc),lc(new Oo("firestore",(i,{instanceIdentifier:a,options:o})=>{const u=i.getProvider("app").getImmediate(),d=new ji(new mM(i.getProvider("auth-internal")),new yM(u,i.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Te(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vd(m.options.projectId,v)}(u,a),u);return o=Object.assign({useFetchStreams:t},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),Aa(UE,BE,e),Aa(UE,BE,"esm2017")})();var b8="firebase",x8="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Aa(b8,x8,"app");const w8={apiKey:"AIzaSyBWOaRM6RgB2B63wqHfawl7dMBU2uTMPbI",authDomain:"billybilly-8f5a5.firebaseapp.com",projectId:"billybilly-8f5a5",storageBucket:"billybilly-8f5a5.firebasestorage.app",messagingSenderId:"667395219625",appId:"1:667395219625:web:da57f0bb7b1319838349b8"},kC=h1(w8),Lh=uM(kC),ze=o8(kC),DC=w.createContext();function Jn(){return w.useContext(DC)}function E8({children:n}){const[e,t]=w.useState(null),[i,a]=w.useState(!0);function o(m,v,b){return Y4(Lh,m,v).then(async _=>(await z1(_.user,{displayName:b}),await y8(Ht(ze,"users",_.user.uid),{email:_.user.email,displayName:b,createdAt:new Date,preferences:{currency:"CNY",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}}),await Ts(Ft(ze,"ledgers"),{name:"Personal Expenses",ownerId:_.user.uid,createdAt:new Date,members:{[_.user.uid]:"owner"},currency:"CNY"}),_))}function u(m,v){return K4(Lh,m,v)}function d(){return J4(Lh)}w.useEffect(()=>X4(Lh,async v=>{t(v||null),a(!1)}),[]);const h={currentUser:e,signup:o,login:u,logout:d};return g.jsx(DC.Provider,{value:h,children:!i&&n})}const OC=w.createContext();function Ui(){return w.useContext(OC)}function T8({children:n}){const{currentUser:e}=Jn(),[t,i]=w.useState([]),[a,o]=w.useState(null),[u,d]=w.useState(!0),h=async()=>{if(!e){i([]),o(null),d(!1);return}try{const R=Ft(ze,"ledgers"),N=await zn(R),M=[];N.forEach(U=>{const V=U.data();V.members&&V.members[e.uid]&&M.push({id:U.id,...V})}),i(M),M.length>0?o(M[0]):o(null)}catch(R){console.error("Error fetching ledgers:",R)}finally{d(!1)}},m=async()=>{d(!0),await h()},v=async R=>{try{const N=await pp(Ht(ze,"ledgers",R));if(N.exists()){const M={id:N.id,...N.data()};o(M)}}catch(N){console.error("Error switching ledger:",N)}},b=()=>!a||!e?null:a.members[e.uid]||null,_=()=>b()==="owner",S=()=>{const R=b();return R==="owner"||R==="member"};w.useEffect(()=>{h()},[e]),w.useEffect(()=>{if(e&&t.length===0&&!u){const R=setTimeout(()=>{m()},1e3);return()=>clearTimeout(R)}},[e,t.length,u]);const C={ledgers:t,currentLedger:a,loading:u,switchLedger:v,fetchLedgers:h,refreshLedgers:m,getUserRole:b,isOwner:_,canEdit:S};return g.jsx(OC.Provider,{value:C,children:n})}function pa({children:n}){const{currentUser:e}=Jn();return e?n:g.jsx(rv,{to:"/login"})}function Xt({className:n,type:e,...t}){return g.jsx("input",{type:e,"data-slot":"input",className:an("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var S8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Dt=S8.reduce((n,e)=>{const t=hd(`Primitive.${e}`),i=w.forwardRef((a,o)=>{const{asChild:u,...d}=a,h=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(h,{...d,ref:o})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function A8(n,e){n&&Bd.flushSync(()=>n.dispatchEvent(e))}var C8="Label",jC=w.forwardRef((n,e)=>g.jsx(Dt.label,{...n,ref:e,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||((a=n.onMouseDown)==null||a.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));jC.displayName=C8;var R8=jC;function tt({className:n,...e}){return g.jsx(R8,{"data-slot":"label",className:an("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}const N8=l0("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Jt({className:n,variant:e,...t}){return g.jsx("div",{"data-slot":"alert",role:"alert",className:an(N8({variant:e}),n),...t})}function en({className:n,...e}){return g.jsx("div",{"data-slot":"alert-description",className:an("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}function I8(){const[n,e]=w.useState(""),[t,i]=w.useState(""),[a,o]=w.useState(!1),[u,d]=w.useState(""),[h,m]=w.useState(!1),{login:v}=Jn(),b=$m();async function _(S){S.preventDefault();try{d(""),m(!0),await v(n,t),b("/")}catch(C){d("Failed to log in: "+C.message)}m(!1)}return g.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"max-w-md w-full space-y-8",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"flex justify-center",children:g.jsx(rc,{className:"h-12 w-12 text-blue-600"})}),g.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Sign in to ExpenseTracker"}),g.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",g.jsx(nc,{to:"/signup",className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]}),g.jsxs(Et,{children:[g.jsxs(It,{children:[g.jsx(kt,{children:"Welcome back"}),g.jsx(_n,{children:"Enter your credentials to access your account"})]}),g.jsxs(Tt,{children:[u&&g.jsx(Jt,{className:"mb-4",variant:"destructive",children:g.jsx(en,{children:u})}),g.jsxs("form",{onSubmit:_,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx(tt,{htmlFor:"email",children:"Email address"}),g.jsx(Xt,{id:"email",type:"email",value:n,onChange:S=>e(S.target.value),required:!0,className:"mt-1",placeholder:"Enter your email"})]}),g.jsxs("div",{children:[g.jsx(tt,{htmlFor:"password",children:"Password"}),g.jsxs("div",{className:"relative mt-1",children:[g.jsx(Xt,{id:"password",type:a?"text":"password",value:t,onChange:S=>i(S.target.value),required:!0,placeholder:"Enter your password"}),g.jsx(Le,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>o(!a),children:a?g.jsx(uv,{className:"h-4 w-4"}):g.jsx(dv,{className:"h-4 w-4"})})]})]}),g.jsx(Le,{type:"submit",className:"w-full",disabled:h,children:h?"Signing in...":"Sign in"})]})]})]})]})})}function k8(){const[n,e]=w.useState(""),[t,i]=w.useState(""),[a,o]=w.useState(""),[u,d]=w.useState(""),[h,m]=w.useState(!1),[v,b]=w.useState(!1),[_,S]=w.useState(""),[C,R]=w.useState(!1),{signup:N}=Jn(),{refreshLedgers:M}=Ui(),U=$m();async function V($){if($.preventDefault(),t!==a)return S("Passwords do not match");if(t.length<6)return S("Password must be at least 6 characters");try{S(""),R(!0),await N(n,t,u),setTimeout(async()=>{await M(),U("/")},500)}catch(H){S("Failed to create an account: "+H.message),R(!1)}}return g.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"max-w-md w-full space-y-8",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"flex justify-center",children:g.jsx(rc,{className:"h-12 w-12 text-blue-600"})}),g.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Create your account"}),g.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",g.jsx(nc,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"sign in to your existing account"})]})]}),g.jsxs(Et,{children:[g.jsxs(It,{children:[g.jsx(kt,{children:"Get started"}),g.jsx(_n,{children:"Create your account to start tracking expenses"})]}),g.jsxs(Tt,{children:[_&&g.jsx(Jt,{className:"mb-4",variant:"destructive",children:g.jsx(en,{children:_})}),g.jsxs("form",{onSubmit:V,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx(tt,{htmlFor:"displayName",children:"Full Name"}),g.jsx(Xt,{id:"displayName",type:"text",value:u,onChange:$=>d($.target.value),required:!0,className:"mt-1",placeholder:"Enter your full name"})]}),g.jsxs("div",{children:[g.jsx(tt,{htmlFor:"email",children:"Email address"}),g.jsx(Xt,{id:"email",type:"email",value:n,onChange:$=>e($.target.value),required:!0,className:"mt-1",placeholder:"Enter your email"})]}),g.jsxs("div",{children:[g.jsx(tt,{htmlFor:"password",children:"Password"}),g.jsxs("div",{className:"relative mt-1",children:[g.jsx(Xt,{id:"password",type:h?"text":"password",value:t,onChange:$=>i($.target.value),required:!0,placeholder:"Create a password"}),g.jsx(Le,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>m(!h),children:h?g.jsx(uv,{className:"h-4 w-4"}):g.jsx(dv,{className:"h-4 w-4"})})]})]}),g.jsxs("div",{children:[g.jsx(tt,{htmlFor:"confirmPassword",children:"Confirm Password"}),g.jsxs("div",{className:"relative mt-1",children:[g.jsx(Xt,{id:"confirmPassword",type:v?"text":"password",value:a,onChange:$=>o($.target.value),required:!0,placeholder:"Confirm your password"}),g.jsx(Le,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>b(!v),children:v?g.jsx(uv,{className:"h-4 w-4"}):g.jsx(dv,{className:"h-4 w-4"})})]})]}),g.jsx(Le,{type:"submit",className:"w-full",disabled:C,children:C?"Creating account...":"Create account"})]})]})]})]})})}function D8(n){const[e,t]=w.useState(Date.now());return w.useEffect(()=>{if(!n)return;const i=Ft(ze,"ledgers",n,"transactions"),a=fr(i,ks("createdAt","desc"),AC(1)),o=v8(a,u=>{u.empty||t(Date.now())});return()=>o()},[n]),e}function O8(){const{currentUser:n}=Jn(),{refreshLedgers:e}=Ui(),[t,i]=w.useState([]),[a,o]=w.useState(!1),[u,d]=w.useState(""),[h,m]=w.useState(""),v=async()=>{if(n)try{o(!0);const S=Ft(ze,"invitations"),C=fr(S,Ii("inviteeEmail","==",n.email.toLowerCase()),Ii("status","==","pending"),ks("createdAt","desc")),R=await zn(C),N=[];R.forEach(M=>{var $;const U=M.data(),V=($=U.expiresAt)==null?void 0:$.toDate();(!V||V>new Date)&&N.push({id:M.id,...U})}),i(N)}catch(S){console.error("Error fetching invitations:",S),d("Failed to fetch invitations")}finally{o(!1)}},b=async S=>{try{o(!0),d("");const C=Ht(ze,"ledgers",S.ledgerId),R=await zn(fr(Ft(ze,"ledgers"),Ii("__name__","==",S.ledgerId)));if(R.empty)throw new Error("Ledger not found");const M={...R.docs[0].data().members,[n.uid]:S.role};await Xr(C,{members:M,updatedAt:new Date}),await Xr(Ht(ze,"invitations",S.id),{status:"accepted",acceptedAt:new Date}),await e(),await v(),m(`Successfully joined "${S.ledgerName}"!`)}catch(C){console.error("Error accepting invitation:",C),d("Failed to accept invitation")}finally{o(!1)}},_=async S=>{try{o(!0),d(""),await Xr(Ht(ze,"invitations",S),{status:"declined",declinedAt:new Date}),await v(),m("Invitation declined")}catch(C){console.error("Error declining invitation:",C),d("Failed to decline invitation")}finally{o(!1)}};return w.useEffect(()=>{v()},[n]),w.useEffect(()=>{if(h||u){const S=setTimeout(()=>{m(""),d("")},3e3);return()=>clearTimeout(S)}},[h,u]),t.length===0&&!a?null:g.jsx("div",{className:"mb-6",children:g.jsxs(Et,{children:[g.jsxs(It,{children:[g.jsxs(kt,{className:"flex items-center",children:[g.jsx(WS,{className:"h-5 w-5 mr-2"}),"Pending Invitations (",t.length,")"]}),g.jsx(_n,{children:"You have been invited to join the following ledgers."})]}),g.jsxs(Tt,{children:[u&&g.jsx(Jt,{variant:"destructive",className:"mb-4",children:g.jsx(en,{children:u})}),h&&g.jsx(Jt,{className:"mb-4",children:g.jsx(en,{children:h})}),g.jsx("div",{className:"space-y-4",children:t.map(S=>g.jsx("div",{className:"border rounded-lg p-4",children:g.jsxs("div",{className:"flex items-start justify-between",children:[g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[g.jsx(lm,{className:"h-5 w-5 text-blue-600"}),g.jsx("h3",{className:"font-semibold text-lg",children:S.ledgerName}),g.jsx(Ur,{variant:"secondary",children:S.role})]}),g.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(t1,{className:"h-4 w-4"}),g.jsxs("span",{children:["Invited by: ",S.inviterName]})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(cv,{className:"h-4 w-4"}),g.jsxs("span",{children:["Invited: ",new Date(S.createdAt.toDate()).toLocaleDateString()]})]}),S.expiresAt&&g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(cv,{className:"h-4 w-4"}),g.jsxs("span",{children:["Expires: ",new Date(S.expiresAt.toDate()).toLocaleDateString()]})]})]})]}),g.jsxs("div",{className:"flex space-x-2 ml-4",children:[g.jsxs(Le,{size:"sm",onClick:()=>b(S),disabled:a,className:"bg-green-600 hover:bg-green-700",children:[g.jsx(u0,{className:"h-4 w-4 mr-1"}),"Accept"]}),g.jsxs(Le,{size:"sm",variant:"destructive",onClick:()=>_(S.id),disabled:a,children:[g.jsx(oc,{className:"h-4 w-4 mr-1"}),"Decline"]})]})]})},S.id))})]})]})})}const Ea=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9","#F8C471","#82E0AA","#F1948A","#85929E","#D7BDE2","#A9DFBF","#F9E79F","#AED6F1","#F5B7B1","#D5A6BD"],j8=n=>{if(typeof n!="string")return"?";const e=n.trim();if(e.length===0)return"?";const t=e.charAt(0);return/[\u4e00-\u9fff]/.test(t)?t:t.toUpperCase()},M8=(n,e=null)=>{if(e&&Ea.includes(e))return e;if(!n)return Ea[0];let t=0;for(let a=0;a<n.length;a++){const o=n.charCodeAt(a);t=(t<<5)-t+o,t=t&t}const i=Math.abs(t)%Ea.length;return Ea[i]},P8=n=>{const e=(n==null?void 0:n.displayName)||(n==null?void 0:n.email)||"Unknown",t=j8(e),i=M8(n==null?void 0:n.uid,n==null?void 0:n.profileColor);return{initial:t,backgroundColor:i,textColor:"#FFFFFF"}},L8=()=>{const n=Math.floor(Math.random()*Ea.length);return Ea[n]},V8=n=>Ea.includes(n);function yc({user:n,size:e="md",className:t="",showTooltip:i=!0}){const a=P8(n),o={xs:"w-6 h-6 text-xs",sm:"w-8 h-8 text-sm",md:"w-10 h-10 text-base",lg:"w-12 h-12 text-lg",xl:"w-16 h-16 text-xl","2xl":"w-20 h-20 text-2xl"},u=o[e]||o.md,d=(n==null?void 0:n.displayName)||(n==null?void 0:n.email)||"Unknown User";return g.jsx("div",{className:`
        ${u}
        rounded-full
        flex
        items-center
        justify-center
        font-semibold
        select-none
        flex-shrink-0
        ${t}
      `,style:{backgroundColor:a.backgroundColor,color:a.textColor},title:i?d:void 0,children:a.initial})}function Co({user:n,size:e="md",className:t="",nameClassName:i="",showEmail:a=!1}){var d;const o=(n==null?void 0:n.displayName)||((d=n==null?void 0:n.email)==null?void 0:d.split("@")[0])||"Unknown User",u=n==null?void 0:n.email;return g.jsxs("div",{className:`flex items-center space-x-2 ${t}`,children:[g.jsx(yc,{user:n,size:e,showTooltip:!1}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:`font-medium ${i}`,children:o}),a&&u&&g.jsx("span",{className:"text-xs text-gray-500",children:u})]})]})}function U8({users:n=[],size:e="sm",maxDisplay:t=3,className:i=""}){const a=n.slice(0,t),o=n.length-t;return g.jsx("div",{className:`flex items-center ${i}`,children:g.jsxs("div",{className:"flex -space-x-1",children:[a.map((u,d)=>g.jsx("div",{className:"ring-2 ring-white",style:{zIndex:a.length-d},children:g.jsx(yc,{user:u,size:e})},(u==null?void 0:u.uid)||d)),o>0&&g.jsxs("div",{className:`
              ${e==="xs"?"w-6 h-6 text-xs":e==="sm"?"w-8 h-8 text-xs":"w-10 h-10 text-sm"}
              rounded-full
              bg-gray-300
              text-gray-600
              flex
              items-center
              justify-center
              font-medium
              ring-2
              ring-white
            `,children:["+",o]})]})})}const B8={CNY:"",USD:"$",EUR:"",GBP:"",JPY:""};function MC(n){return B8[n]||"$"}function rm(n,e="USD"){return`${MC(e)}${n.toFixed(2)}`}function z8(n,e="USD",t=!1){const i=MC(e);return`${t?"+":"-"}${i}${Math.abs(n).toFixed(2)}`}function F8(){var v;const{currentUser:n}=Jn(),{currentLedger:e}=Ui(),t=D8(e==null?void 0:e.id),[i,a]=w.useState({totalBalance:0,monthlySpending:0,budgetRemaining:0,recentTransactions:[],memberStats:{},loading:!0}),o=async()=>{if(!e){a(b=>({...b,loading:!1}));return}try{const b=new Date,_=new Date(b.getFullYear(),b.getMonth(),1),S=new Date(b.getFullYear(),b.getMonth()+1,0),C=Ft(ze,"ledgers",e.id,"transactions"),R=fr(C,ks("date","desc"),AC(5)),N=await zn(R),M=[];N.forEach(L=>{var G;const P=L.data();M.push({id:L.id,...P,date:((G=P.date)==null?void 0:G.toDate())||new Date})});const U=fr(C,ks("date","desc")),V=await zn(U);let $=0,H=0;const W={};e.members&&Object.keys(e.members).forEach(L=>{W[L]={monthlyIncome:0,monthlySpending:0,totalIncome:0,totalSpending:0}}),V.forEach(L=>{var K;const P=L.data(),G=((K=P.date)==null?void 0:K.toDate())||new Date,ie=P.amount||0,q=P.userId||P.paidBy||(n==null?void 0:n.uid),te=G>=_&&G<=S;q&&!W[q]&&(W[q]={monthlyIncome:0,monthlySpending:0,totalIncome:0,totalSpending:0}),P.type==="income"?($+=ie,q&&W[q]&&(W[q].totalIncome+=ie,te&&(W[q].monthlyIncome+=ie))):($-=ie,q&&W[q]&&(W[q].totalSpending+=ie,te&&(W[q].monthlySpending+=ie,H+=ie)))});const I=Ft(ze,"ledgers",e.id,"budgets"),A=fr(I,Ii("startDate","<=",Ut.fromDate(b)),Ii("endDate",">=",Ut.fromDate(b))),j=await zn(A);let B=0;j.forEach(L=>{const P=L.data();B+=P.totalAmount||0});const D=B-H;a({totalBalance:$,monthlySpending:H,budgetRemaining:D,recentTransactions:M,memberStats:W,loading:!1})}catch(b){console.error("Error calculating dashboard stats:",b),a(_=>({..._,loading:!1}))}};w.useEffect(()=>{o()},[e,t]);const u=b=>rm(b,e==null?void 0:e.currency),d=b=>{const S=Math.abs(new Date-b),C=Math.ceil(S/(1e3*60*60*24));return C===1?"Today":C===2?"Yesterday":C<=7?`${C-1} days ago`:b.toLocaleDateString()},h=b=>b===(n==null?void 0:n.uid)?{uid:b,displayName:n.displayName||n.email,email:n.email}:{uid:b,displayName:`User ${b.slice(0,8)}`,email:`${b.slice(0,8)}@example.com`},m=()=>!i.memberStats||!(e!=null&&e.members)?[]:Object.keys(e.members).map(b=>({...h(b),stats:i.memberStats[b]||{monthlyIncome:0,monthlySpending:0,totalIncome:0,totalSpending:0}}));return i.loading?g.jsx("div",{className:"p-6",children:g.jsxs("div",{className:"animate-pulse space-y-6",children:[g.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(b=>g.jsx("div",{className:"h-32 bg-gray-200 rounded"},b))}),g.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):g.jsxs("div",{className:"p-6 space-y-6",children:[g.jsx(O8,{}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),g.jsxs(Ur,{variant:"secondary",className:"text-sm",children:["Welcome back, ",(n==null?void 0:n.displayName)||((v=n==null?void 0:n.email)==null?void 0:v.split("@")[0])||"User","!"]})]}),e&&g.jsxs("div",{className:"text-sm text-gray-600",children:["Current Ledger: ",g.jsx("span",{className:"font-medium",children:e.name})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsxs(Et,{children:[g.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[g.jsx(kt,{className:"text-sm font-medium",children:"Total Balance"}),g.jsx(rc,{className:"h-4 w-4 text-muted-foreground"})]}),g.jsxs(Tt,{children:[g.jsx("div",{className:`text-2xl font-bold ${i.totalBalance>=0?"text-green-600":"text-red-600"}`,children:u(i.totalBalance)}),g.jsx("p",{className:"text-xs text-muted-foreground",children:"All time balance"})]})]}),g.jsxs(Et,{children:[g.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[g.jsx(kt,{className:"text-sm font-medium",children:"Monthly Spending"}),g.jsx(aO,{className:"h-4 w-4 text-muted-foreground"})]}),g.jsxs(Tt,{children:[g.jsx("div",{className:"text-2xl font-bold text-red-600",children:u(i.monthlySpending)}),g.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"This month's expenses"}),m().length>1&&g.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[g.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Member Breakdown:"}),m().map(b=>g.jsxs("div",{className:"flex items-center justify-between text-xs",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(yc,{user:b,size:"xs"}),g.jsx("span",{className:"text-gray-600",children:b.displayName===(n==null?void 0:n.displayName)?"You":b.displayName})]}),g.jsxs("div",{className:"flex space-x-3 text-right",children:[g.jsxs("span",{className:"text-green-600",children:["+",u(b.stats.monthlyIncome)]}),g.jsxs("span",{className:"text-red-600",children:["-",u(b.stats.monthlySpending)]})]})]},b.uid))]})]})]}),g.jsxs(Et,{children:[g.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[g.jsx(kt,{className:"text-sm font-medium",children:"Budget Remaining"}),g.jsx(bD,{className:"h-4 w-4 text-muted-foreground"})]}),g.jsxs(Tt,{children:[g.jsx("div",{className:`text-2xl font-bold ${i.budgetRemaining>=0?"text-green-600":"text-red-600"}`,children:u(i.budgetRemaining)}),g.jsx("p",{className:"text-xs text-muted-foreground",children:i.budgetRemaining>=0?"Remaining this month":"Over budget"})]})]})]}),g.jsxs(Et,{children:[g.jsxs(It,{children:[g.jsx(kt,{children:"Recent Transactions"}),g.jsx(_n,{children:"Your latest financial activity"})]}),g.jsx(Tt,{children:i.recentTransactions.length===0?g.jsxs("div",{className:"text-center py-8 text-gray-500",children:[g.jsx(rc,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),g.jsx("p",{children:"No transactions yet"}),g.jsx("p",{className:"text-sm",children:"Add your first transaction to get started"})]}):g.jsx("div",{className:"space-y-4",children:i.recentTransactions.map(b=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[g.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[g.jsx(yc,{user:{uid:b.userId||(n==null?void 0:n.uid),displayName:b.userName||(n==null?void 0:n.displayName),email:b.userEmail||(n==null?void 0:n.email)},size:"sm"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"font-medium text-gray-900",children:b.description}),g.jsxs("p",{className:"text-sm text-gray-500",children:[b.paymentMethod,"  ",d(b.date)]})]})]}),g.jsxs("div",{className:`font-semibold ${b.type==="income"?"text-green-600":"text-red-600"}`,children:[b.type==="income"?"+":"-",u(b.amount)]})]},b.id))})})]})]})}function UT(n,[e,t]){return Math.min(t,Math.max(e,n))}function Wt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(a){if(n==null||n(a),t===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function Mc(n,e=[]){let t=[];function i(o,u){const d=w.createContext(u),h=t.length;t=[...t,u];const m=b=>{var M;const{scope:_,children:S,...C}=b,R=((M=_==null?void 0:_[n])==null?void 0:M[h])||d,N=w.useMemo(()=>C,Object.values(C));return g.jsx(R.Provider,{value:N,children:S})};m.displayName=o+"Provider";function v(b,_){var R;const S=((R=_==null?void 0:_[n])==null?void 0:R[h])||d,C=w.useContext(S);if(C)return C;if(u!==void 0)return u;throw new Error(`\`${b}\` must be used within \`${o}\``)}return[m,v]}const a=()=>{const o=t.map(u=>w.createContext(u));return function(d){const h=(d==null?void 0:d[n])||o;return w.useMemo(()=>({[`__scope${n}`]:{...d,[n]:h}}),[d,h])}};return a.scopeName=n,[i,H8(a,...e)]}function H8(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const u=i.reduce((d,{useScope:h,scopeName:m})=>{const b=h(o)[`__scope${m}`];return{...d,...b}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function q8(n){const e=n+"CollectionProvider",[t,i]=Mc(e),[a,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=R=>{const{scope:N,children:M}=R,U=ga.useRef(null),V=ga.useRef(new Map).current;return g.jsx(a,{scope:N,itemMap:V,collectionRef:U,children:M})};u.displayName=e;const d=n+"CollectionSlot",h=hd(d),m=ga.forwardRef((R,N)=>{const{scope:M,children:U}=R,V=o(d,M),$=tn(N,V.collectionRef);return g.jsx(h,{ref:$,children:U})});m.displayName=d;const v=n+"CollectionItemSlot",b="data-radix-collection-item",_=hd(v),S=ga.forwardRef((R,N)=>{const{scope:M,children:U,...V}=R,$=ga.useRef(null),H=tn(N,$),W=o(v,M);return ga.useEffect(()=>(W.itemMap.set($,{ref:$,...V}),()=>void W.itemMap.delete($))),g.jsx(_,{[b]:"",ref:H,children:U})});S.displayName=v;function C(R){const N=o(n+"CollectionConsumer",R);return ga.useCallback(()=>{const U=N.collectionRef.current;if(!U)return[];const V=Array.from(U.querySelectorAll(`[${b}]`));return Array.from(N.itemMap.values()).sort((W,I)=>V.indexOf(W.ref.current)-V.indexOf(I.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:u,Slot:m,ItemSlot:S},C,i]}var $8=w.createContext(void 0);function G8(n){const e=w.useContext($8);return n||e||"ltr"}function Vo(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n}),w.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function Y8(n,e=globalThis==null?void 0:globalThis.document){const t=Vo(n);w.useEffect(()=>{const i=a=>{a.key==="Escape"&&t(a)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var K8="DismissableLayer",Uv="dismissableLayer.update",Z8="dismissableLayer.pointerDownOutside",Q8="dismissableLayer.focusOutside",BT,PC=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),LC=w.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:u,onDismiss:d,...h}=n,m=w.useContext(PC),[v,b]=w.useState(null),_=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=w.useState({}),C=tn(e,I=>b(I)),R=Array.from(m.layers),[N]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),M=R.indexOf(N),U=v?R.indexOf(v):-1,V=m.layersWithOutsidePointerEventsDisabled.size>0,$=U>=M,H=J8(I=>{const A=I.target,j=[...m.branches].some(B=>B.contains(A));!$||j||(a==null||a(I),u==null||u(I),I.defaultPrevented||d==null||d())},_),W=eL(I=>{const A=I.target;[...m.branches].some(B=>B.contains(A))||(o==null||o(I),u==null||u(I),I.defaultPrevented||d==null||d())},_);return Y8(I=>{U===m.layers.size-1&&(i==null||i(I),!I.defaultPrevented&&d&&(I.preventDefault(),d()))},_),w.useEffect(()=>{if(v)return t&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(BT=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(v)),m.layers.add(v),zT(),()=>{t&&m.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=BT)}},[v,_,t,m]),w.useEffect(()=>()=>{v&&(m.layers.delete(v),m.layersWithOutsidePointerEventsDisabled.delete(v),zT())},[v,m]),w.useEffect(()=>{const I=()=>S({});return document.addEventListener(Uv,I),()=>document.removeEventListener(Uv,I)},[]),g.jsx(Dt.div,{...h,ref:C,style:{pointerEvents:V?$?"auto":"none":void 0,...n.style},onFocusCapture:Wt(n.onFocusCapture,W.onFocusCapture),onBlurCapture:Wt(n.onBlurCapture,W.onBlurCapture),onPointerDownCapture:Wt(n.onPointerDownCapture,H.onPointerDownCapture)})});LC.displayName=K8;var W8="DismissableLayerBranch",X8=w.forwardRef((n,e)=>{const t=w.useContext(PC),i=w.useRef(null),a=tn(e,i);return w.useEffect(()=>{const o=i.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),g.jsx(Dt.div,{...n,ref:a})});X8.displayName=W8;function J8(n,e=globalThis==null?void 0:globalThis.document){const t=Vo(n),i=w.useRef(!1),a=w.useRef(()=>{});return w.useEffect(()=>{const o=d=>{if(d.target&&!i.current){let h=function(){VC(Z8,t,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=h,e.addEventListener("click",a.current,{once:!0})):h()}else e.removeEventListener("click",a.current);i.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",o),e.removeEventListener("click",a.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function eL(n,e=globalThis==null?void 0:globalThis.document){const t=Vo(n),i=w.useRef(!1);return w.useEffect(()=>{const a=o=>{o.target&&!i.current&&VC(Q8,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function zT(){const n=new CustomEvent(Uv);document.dispatchEvent(n)}function VC(n,e,t,{discrete:i}){const a=t.originalEvent.target,o=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&a.addEventListener(n,e,{once:!0}),i?A8(a,o):a.dispatchEvent(o)}var $y=0;function tL(){w.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??FT()),document.body.insertAdjacentElement("beforeend",n[1]??FT()),$y++,()=>{$y===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),$y--}},[])}function FT(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Gy="focusScope.autoFocusOnMount",Yy="focusScope.autoFocusOnUnmount",HT={bubbles:!1,cancelable:!0},nL="FocusScope",UC=w.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...u}=n,[d,h]=w.useState(null),m=Vo(a),v=Vo(o),b=w.useRef(null),_=tn(e,R=>h(R)),S=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(i){let R=function(V){if(S.paused||!d)return;const $=V.target;d.contains($)?b.current=$:ya(b.current,{select:!0})},N=function(V){if(S.paused||!d)return;const $=V.relatedTarget;$!==null&&(d.contains($)||ya(b.current,{select:!0}))},M=function(V){if(document.activeElement===document.body)for(const H of V)H.removedNodes.length>0&&ya(d)};document.addEventListener("focusin",R),document.addEventListener("focusout",N);const U=new MutationObserver(M);return d&&U.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",R),document.removeEventListener("focusout",N),U.disconnect()}}},[i,d,S.paused]),w.useEffect(()=>{if(d){$T.add(S);const R=document.activeElement;if(!d.contains(R)){const M=new CustomEvent(Gy,HT);d.addEventListener(Gy,m),d.dispatchEvent(M),M.defaultPrevented||(rL(lL(BC(d)),{select:!0}),document.activeElement===R&&ya(d))}return()=>{d.removeEventListener(Gy,m),setTimeout(()=>{const M=new CustomEvent(Yy,HT);d.addEventListener(Yy,v),d.dispatchEvent(M),M.defaultPrevented||ya(R??document.body,{select:!0}),d.removeEventListener(Yy,v),$T.remove(S)},0)}}},[d,m,v,S]);const C=w.useCallback(R=>{if(!t&&!i||S.paused)return;const N=R.key==="Tab"&&!R.altKey&&!R.ctrlKey&&!R.metaKey,M=document.activeElement;if(N&&M){const U=R.currentTarget,[V,$]=iL(U);V&&$?!R.shiftKey&&M===$?(R.preventDefault(),t&&ya(V,{select:!0})):R.shiftKey&&M===V&&(R.preventDefault(),t&&ya($,{select:!0})):M===U&&R.preventDefault()}},[t,i,S.paused]);return g.jsx(Dt.div,{tabIndex:-1,...u,ref:_,onKeyDown:C})});UC.displayName=nL;function rL(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(ya(i,{select:e}),document.activeElement!==t)return}function iL(n){const e=BC(n),t=qT(e,n),i=qT(e.reverse(),n);return[t,i]}function BC(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const a=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||a?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function qT(n,e){for(const t of n)if(!sL(t,{upTo:e}))return t}function sL(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function aL(n){return n instanceof HTMLInputElement&&"select"in n}function ya(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&aL(n)&&e&&n.select()}}var $T=oL();function oL(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=GT(n,e),n.unshift(e)},remove(e){var t;n=GT(n,e),(t=n[0])==null||t.resume()}}}function GT(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function lL(n){return n.filter(e=>e.tagName!=="A")}var Wn=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},cL=vS[" useId ".trim().toString()]||(()=>{}),uL=0;function u_(n){const[e,t]=w.useState(cL());return Wn(()=>{t(i=>i??String(uL++))},[n]),n||(e?`radix-${e}`:"")}const dL=["top","right","bottom","left"],Pa=Math.min,xr=Math.max,Im=Math.round,Vh=Math.floor,ki=n=>({x:n,y:n}),fL={left:"right",right:"left",bottom:"top",top:"bottom"},hL={start:"end",end:"start"};function Bv(n,e,t){return xr(n,Pa(e,t))}function Ds(n,e){return typeof n=="function"?n(e):n}function Os(n){return n.split("-")[0]}function Pc(n){return n.split("-")[1]}function d_(n){return n==="x"?"y":"x"}function f_(n){return n==="y"?"height":"width"}function Ss(n){return["top","bottom"].includes(Os(n))?"y":"x"}function h_(n){return d_(Ss(n))}function mL(n,e,t){t===void 0&&(t=!1);const i=Pc(n),a=h_(n),o=f_(a);let u=a==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(u=km(u)),[u,km(u)]}function pL(n){const e=km(n);return[zv(n),e,zv(e)]}function zv(n){return n.replace(/start|end/g,e=>hL[e])}function gL(n,e,t){const i=["left","right"],a=["right","left"],o=["top","bottom"],u=["bottom","top"];switch(n){case"top":case"bottom":return t?e?a:i:e?i:a;case"left":case"right":return e?o:u;default:return[]}}function yL(n,e,t,i){const a=Pc(n);let o=gL(Os(n),t==="start",i);return a&&(o=o.map(u=>u+"-"+a),e&&(o=o.concat(o.map(zv)))),o}function km(n){return n.replace(/left|right|bottom|top/g,e=>fL[e])}function vL(n){return{top:0,right:0,bottom:0,left:0,...n}}function zC(n){return typeof n!="number"?vL(n):{top:n,right:n,bottom:n,left:n}}function Dm(n){const{x:e,y:t,width:i,height:a}=n;return{width:i,height:a,top:t,left:e,right:e+i,bottom:t+a,x:e,y:t}}function YT(n,e,t){let{reference:i,floating:a}=n;const o=Ss(e),u=h_(e),d=f_(u),h=Os(e),m=o==="y",v=i.x+i.width/2-a.width/2,b=i.y+i.height/2-a.height/2,_=i[d]/2-a[d]/2;let S;switch(h){case"top":S={x:v,y:i.y-a.height};break;case"bottom":S={x:v,y:i.y+i.height};break;case"right":S={x:i.x+i.width,y:b};break;case"left":S={x:i.x-a.width,y:b};break;default:S={x:i.x,y:i.y}}switch(Pc(e)){case"start":S[u]-=_*(t&&m?-1:1);break;case"end":S[u]+=_*(t&&m?-1:1);break}return S}const _L=async(n,e,t)=>{const{placement:i="bottom",strategy:a="absolute",middleware:o=[],platform:u}=t,d=o.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:n,floating:e,strategy:a}),{x:v,y:b}=YT(m,i,h),_=i,S={},C=0;for(let R=0;R<d.length;R++){const{name:N,fn:M}=d[R],{x:U,y:V,data:$,reset:H}=await M({x:v,y:b,initialPlacement:i,placement:_,strategy:a,middlewareData:S,rects:m,platform:u,elements:{reference:n,floating:e}});v=U??v,b=V??b,S={...S,[N]:{...S[N],...$}},H&&C<=50&&(C++,typeof H=="object"&&(H.placement&&(_=H.placement),H.rects&&(m=H.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:a}):H.rects),{x:v,y:b}=YT(m,_,h)),R=-1)}return{x:v,y:b,placement:_,strategy:a,middlewareData:S}};async function Ed(n,e){var t;e===void 0&&(e={});const{x:i,y:a,platform:o,rects:u,elements:d,strategy:h}=n,{boundary:m="clippingAncestors",rootBoundary:v="viewport",elementContext:b="floating",altBoundary:_=!1,padding:S=0}=Ds(e,n),C=zC(S),N=d[_?b==="floating"?"reference":"floating":b],M=Dm(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(N)))==null||t?N:N.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:m,rootBoundary:v,strategy:h})),U=b==="floating"?{x:i,y:a,width:u.floating.width,height:u.floating.height}:u.reference,V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating)),$=await(o.isElement==null?void 0:o.isElement(V))?await(o.getScale==null?void 0:o.getScale(V))||{x:1,y:1}:{x:1,y:1},H=Dm(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:U,offsetParent:V,strategy:h}):U);return{top:(M.top-H.top+C.top)/$.y,bottom:(H.bottom-M.bottom+C.bottom)/$.y,left:(M.left-H.left+C.left)/$.x,right:(H.right-M.right+C.right)/$.x}}const bL=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:a,rects:o,platform:u,elements:d,middlewareData:h}=e,{element:m,padding:v=0}=Ds(n,e)||{};if(m==null)return{};const b=zC(v),_={x:t,y:i},S=h_(a),C=f_(S),R=await u.getDimensions(m),N=S==="y",M=N?"top":"left",U=N?"bottom":"right",V=N?"clientHeight":"clientWidth",$=o.reference[C]+o.reference[S]-_[S]-o.floating[C],H=_[S]-o.reference[S],W=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let I=W?W[V]:0;(!I||!await(u.isElement==null?void 0:u.isElement(W)))&&(I=d.floating[V]||o.floating[C]);const A=$/2-H/2,j=I/2-R[C]/2-1,B=Pa(b[M],j),D=Pa(b[U],j),L=B,P=I-R[C]-D,G=I/2-R[C]/2+A,ie=Bv(L,G,P),q=!h.arrow&&Pc(a)!=null&&G!==ie&&o.reference[C]/2-(G<L?B:D)-R[C]/2<0,te=q?G<L?G-L:G-P:0;return{[S]:_[S]+te,data:{[S]:ie,centerOffset:G-ie-te,...q&&{alignmentOffset:te}},reset:q}}}),xL=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:a,middlewareData:o,rects:u,initialPlacement:d,platform:h,elements:m}=e,{mainAxis:v=!0,crossAxis:b=!0,fallbackPlacements:_,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:R=!0,...N}=Ds(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const M=Os(a),U=Ss(d),V=Os(d)===d,$=await(h.isRTL==null?void 0:h.isRTL(m.floating)),H=_||(V||!R?[km(d)]:pL(d)),W=C!=="none";!_&&W&&H.push(...yL(d,R,C,$));const I=[d,...H],A=await Ed(e,N),j=[];let B=((i=o.flip)==null?void 0:i.overflows)||[];if(v&&j.push(A[M]),b){const ie=mL(a,u,$);j.push(A[ie[0]],A[ie[1]])}if(B=[...B,{placement:a,overflows:j}],!j.every(ie=>ie<=0)){var D,L;const ie=(((D=o.flip)==null?void 0:D.index)||0)+1,q=I[ie];if(q){var P;const K=b==="alignment"?U!==Ss(q):!1,ve=((P=B[0])==null?void 0:P.overflows[0])>0;if(!K||ve)return{data:{index:ie,overflows:B},reset:{placement:q}}}let te=(L=B.filter(K=>K.overflows[0]<=0).sort((K,ve)=>K.overflows[1]-ve.overflows[1])[0])==null?void 0:L.placement;if(!te)switch(S){case"bestFit":{var G;const K=(G=B.filter(ve=>{if(W){const z=Ss(ve.placement);return z===U||z==="y"}return!0}).map(ve=>[ve.placement,ve.overflows.filter(z=>z>0).reduce((z,ae)=>z+ae,0)]).sort((ve,z)=>ve[1]-z[1])[0])==null?void 0:G[0];K&&(te=K);break}case"initialPlacement":te=d;break}if(a!==te)return{reset:{placement:te}}}return{}}}};function KT(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function ZT(n){return dL.some(e=>n[e]>=0)}const wL=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...a}=Ds(n,e);switch(i){case"referenceHidden":{const o=await Ed(e,{...a,elementContext:"reference"}),u=KT(o,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:ZT(u)}}}case"escaped":{const o=await Ed(e,{...a,altBoundary:!0}),u=KT(o,t.floating);return{data:{escapedOffsets:u,escaped:ZT(u)}}}default:return{}}}}};async function EL(n,e){const{placement:t,platform:i,elements:a}=n,o=await(i.isRTL==null?void 0:i.isRTL(a.floating)),u=Os(t),d=Pc(t),h=Ss(t)==="y",m=["left","top"].includes(u)?-1:1,v=o&&h?-1:1,b=Ds(e,n);let{mainAxis:_,crossAxis:S,alignmentAxis:C}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return d&&typeof C=="number"&&(S=d==="end"?C*-1:C),h?{x:S*v,y:_*m}:{x:_*m,y:S*v}}const TL=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:a,y:o,placement:u,middlewareData:d}=e,h=await EL(e,n);return u===((t=d.offset)==null?void 0:t.placement)&&(i=d.arrow)!=null&&i.alignmentOffset?{}:{x:a+h.x,y:o+h.y,data:{...h,placement:u}}}}},SL=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:a}=e,{mainAxis:o=!0,crossAxis:u=!1,limiter:d={fn:N=>{let{x:M,y:U}=N;return{x:M,y:U}}},...h}=Ds(n,e),m={x:t,y:i},v=await Ed(e,h),b=Ss(Os(a)),_=d_(b);let S=m[_],C=m[b];if(o){const N=_==="y"?"top":"left",M=_==="y"?"bottom":"right",U=S+v[N],V=S-v[M];S=Bv(U,S,V)}if(u){const N=b==="y"?"top":"left",M=b==="y"?"bottom":"right",U=C+v[N],V=C-v[M];C=Bv(U,C,V)}const R=d.fn({...e,[_]:S,[b]:C});return{...R,data:{x:R.x-t,y:R.y-i,enabled:{[_]:o,[b]:u}}}}}},AL=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:a,rects:o,middlewareData:u}=e,{offset:d=0,mainAxis:h=!0,crossAxis:m=!0}=Ds(n,e),v={x:t,y:i},b=Ss(a),_=d_(b);let S=v[_],C=v[b];const R=Ds(d,e),N=typeof R=="number"?{mainAxis:R,crossAxis:0}:{mainAxis:0,crossAxis:0,...R};if(h){const V=_==="y"?"height":"width",$=o.reference[_]-o.floating[V]+N.mainAxis,H=o.reference[_]+o.reference[V]-N.mainAxis;S<$?S=$:S>H&&(S=H)}if(m){var M,U;const V=_==="y"?"width":"height",$=["top","left"].includes(Os(a)),H=o.reference[b]-o.floating[V]+($&&((M=u.offset)==null?void 0:M[b])||0)+($?0:N.crossAxis),W=o.reference[b]+o.reference[V]+($?0:((U=u.offset)==null?void 0:U[b])||0)-($?N.crossAxis:0);C<H?C=H:C>W&&(C=W)}return{[_]:S,[b]:C}}}},CL=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:a,rects:o,platform:u,elements:d}=e,{apply:h=()=>{},...m}=Ds(n,e),v=await Ed(e,m),b=Os(a),_=Pc(a),S=Ss(a)==="y",{width:C,height:R}=o.floating;let N,M;b==="top"||b==="bottom"?(N=b,M=_===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(M=b,N=_==="end"?"top":"bottom");const U=R-v.top-v.bottom,V=C-v.left-v.right,$=Pa(R-v[N],U),H=Pa(C-v[M],V),W=!e.middlewareData.shift;let I=$,A=H;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(A=V),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(I=U),W&&!_){const B=xr(v.left,0),D=xr(v.right,0),L=xr(v.top,0),P=xr(v.bottom,0);S?A=C-2*(B!==0||D!==0?B+D:xr(v.left,v.right)):I=R-2*(L!==0||P!==0?L+P:xr(v.top,v.bottom))}await h({...e,availableWidth:A,availableHeight:I});const j=await u.getDimensions(d.floating);return C!==j.width||R!==j.height?{reset:{rects:!0}}:{}}}};function gp(){return typeof window<"u"}function Lc(n){return FC(n)?(n.nodeName||"").toLowerCase():"#document"}function Er(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Bi(n){var e;return(e=(FC(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function FC(n){return gp()?n instanceof Node||n instanceof Er(n).Node:!1}function ri(n){return gp()?n instanceof Element||n instanceof Er(n).Element:!1}function Mi(n){return gp()?n instanceof HTMLElement||n instanceof Er(n).HTMLElement:!1}function QT(n){return!gp()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Er(n).ShadowRoot}function sf(n){const{overflow:e,overflowX:t,overflowY:i,display:a}=ii(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(a)}function RL(n){return["table","td","th"].includes(Lc(n))}function yp(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function m_(n){const e=p_(),t=ri(n)?ii(n):n;return["transform","translate","scale","rotate","perspective"].some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function NL(n){let e=La(n);for(;Mi(e)&&!vc(e);){if(m_(e))return e;if(yp(e))return null;e=La(e)}return null}function p_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function vc(n){return["html","body","#document"].includes(Lc(n))}function ii(n){return Er(n).getComputedStyle(n)}function vp(n){return ri(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function La(n){if(Lc(n)==="html")return n;const e=n.assignedSlot||n.parentNode||QT(n)&&n.host||Bi(n);return QT(e)?e.host:e}function HC(n){const e=La(n);return vc(e)?n.ownerDocument?n.ownerDocument.body:n.body:Mi(e)&&sf(e)?e:HC(e)}function Td(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=HC(n),o=a===((i=n.ownerDocument)==null?void 0:i.body),u=Er(a);if(o){const d=Fv(u);return e.concat(u,u.visualViewport||[],sf(a)?a:[],d&&t?Td(d):[])}return e.concat(a,Td(a,[],t))}function Fv(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function qC(n){const e=ii(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const a=Mi(n),o=a?n.offsetWidth:t,u=a?n.offsetHeight:i,d=Im(t)!==o||Im(i)!==u;return d&&(t=o,i=u),{width:t,height:i,$:d}}function g_(n){return ri(n)?n:n.contextElement}function Jl(n){const e=g_(n);if(!Mi(e))return ki(1);const t=e.getBoundingClientRect(),{width:i,height:a,$:o}=qC(e);let u=(o?Im(t.width):t.width)/i,d=(o?Im(t.height):t.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const IL=ki(0);function $C(n){const e=Er(n);return!p_()||!e.visualViewport?IL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function kL(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Er(n)?!1:e}function Uo(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),o=g_(n);let u=ki(1);e&&(i?ri(i)&&(u=Jl(i)):u=Jl(n));const d=kL(o,t,i)?$C(o):ki(0);let h=(a.left+d.x)/u.x,m=(a.top+d.y)/u.y,v=a.width/u.x,b=a.height/u.y;if(o){const _=Er(o),S=i&&ri(i)?Er(i):i;let C=_,R=Fv(C);for(;R&&i&&S!==C;){const N=Jl(R),M=R.getBoundingClientRect(),U=ii(R),V=M.left+(R.clientLeft+parseFloat(U.paddingLeft))*N.x,$=M.top+(R.clientTop+parseFloat(U.paddingTop))*N.y;h*=N.x,m*=N.y,v*=N.x,b*=N.y,h+=V,m+=$,C=Er(R),R=Fv(C)}}return Dm({width:v,height:b,x:h,y:m})}function y_(n,e){const t=vp(n).scrollLeft;return e?e.left+t:Uo(Bi(n)).left+t}function GC(n,e,t){t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=i.left+e.scrollLeft-(t?0:y_(n,i)),o=i.top+e.scrollTop;return{x:a,y:o}}function DL(n){let{elements:e,rect:t,offsetParent:i,strategy:a}=n;const o=a==="fixed",u=Bi(i),d=e?yp(e.floating):!1;if(i===u||d&&o)return t;let h={scrollLeft:0,scrollTop:0},m=ki(1);const v=ki(0),b=Mi(i);if((b||!b&&!o)&&((Lc(i)!=="body"||sf(u))&&(h=vp(i)),Mi(i))){const S=Uo(i);m=Jl(i),v.x=S.x+i.clientLeft,v.y=S.y+i.clientTop}const _=u&&!b&&!o?GC(u,h,!0):ki(0);return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-h.scrollLeft*m.x+v.x+_.x,y:t.y*m.y-h.scrollTop*m.y+v.y+_.y}}function OL(n){return Array.from(n.getClientRects())}function jL(n){const e=Bi(n),t=vp(n),i=n.ownerDocument.body,a=xr(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),o=xr(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let u=-t.scrollLeft+y_(n);const d=-t.scrollTop;return ii(i).direction==="rtl"&&(u+=xr(e.clientWidth,i.clientWidth)-a),{width:a,height:o,x:u,y:d}}function ML(n,e){const t=Er(n),i=Bi(n),a=t.visualViewport;let o=i.clientWidth,u=i.clientHeight,d=0,h=0;if(a){o=a.width,u=a.height;const m=p_();(!m||m&&e==="fixed")&&(d=a.offsetLeft,h=a.offsetTop)}return{width:o,height:u,x:d,y:h}}function PL(n,e){const t=Uo(n,!0,e==="fixed"),i=t.top+n.clientTop,a=t.left+n.clientLeft,o=Mi(n)?Jl(n):ki(1),u=n.clientWidth*o.x,d=n.clientHeight*o.y,h=a*o.x,m=i*o.y;return{width:u,height:d,x:h,y:m}}function WT(n,e,t){let i;if(e==="viewport")i=ML(n,t);else if(e==="document")i=jL(Bi(n));else if(ri(e))i=PL(e,t);else{const a=$C(n);i={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Dm(i)}function YC(n,e){const t=La(n);return t===e||!ri(t)||vc(t)?!1:ii(t).position==="fixed"||YC(t,e)}function LL(n,e){const t=e.get(n);if(t)return t;let i=Td(n,[],!1).filter(d=>ri(d)&&Lc(d)!=="body"),a=null;const o=ii(n).position==="fixed";let u=o?La(n):n;for(;ri(u)&&!vc(u);){const d=ii(u),h=m_(u);!h&&d.position==="fixed"&&(a=null),(o?!h&&!a:!h&&d.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||sf(u)&&!h&&YC(n,u))?i=i.filter(v=>v!==u):a=d,u=La(u)}return e.set(n,i),i}function VL(n){let{element:e,boundary:t,rootBoundary:i,strategy:a}=n;const u=[...t==="clippingAncestors"?yp(e)?[]:LL(e,this._c):[].concat(t),i],d=u[0],h=u.reduce((m,v)=>{const b=WT(e,v,a);return m.top=xr(b.top,m.top),m.right=Pa(b.right,m.right),m.bottom=Pa(b.bottom,m.bottom),m.left=xr(b.left,m.left),m},WT(e,d,a));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function UL(n){const{width:e,height:t}=qC(n);return{width:e,height:t}}function BL(n,e,t){const i=Mi(e),a=Bi(e),o=t==="fixed",u=Uo(n,!0,o,e);let d={scrollLeft:0,scrollTop:0};const h=ki(0);function m(){h.x=y_(a)}if(i||!i&&!o)if((Lc(e)!=="body"||sf(a))&&(d=vp(e)),i){const S=Uo(e,!0,o,e);h.x=S.x+e.clientLeft,h.y=S.y+e.clientTop}else a&&m();o&&!i&&a&&m();const v=a&&!i&&!o?GC(a,d):ki(0),b=u.left+d.scrollLeft-h.x-v.x,_=u.top+d.scrollTop-h.y-v.y;return{x:b,y:_,width:u.width,height:u.height}}function Ky(n){return ii(n).position==="static"}function XT(n,e){if(!Mi(n)||ii(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Bi(n)===t&&(t=t.ownerDocument.body),t}function KC(n,e){const t=Er(n);if(yp(n))return t;if(!Mi(n)){let a=La(n);for(;a&&!vc(a);){if(ri(a)&&!Ky(a))return a;a=La(a)}return t}let i=XT(n,e);for(;i&&RL(i)&&Ky(i);)i=XT(i,e);return i&&vc(i)&&Ky(i)&&!m_(i)?t:i||NL(n)||t}const zL=async function(n){const e=this.getOffsetParent||KC,t=this.getDimensions,i=await t(n.floating);return{reference:BL(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function FL(n){return ii(n).direction==="rtl"}const HL={convertOffsetParentRelativeRectToViewportRelativeRect:DL,getDocumentElement:Bi,getClippingRect:VL,getOffsetParent:KC,getElementRects:zL,getClientRects:OL,getDimensions:UL,getScale:Jl,isElement:ri,isRTL:FL};function ZC(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function qL(n,e){let t=null,i;const a=Bi(n);function o(){var d;clearTimeout(i),(d=t)==null||d.disconnect(),t=null}function u(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),o();const m=n.getBoundingClientRect(),{left:v,top:b,width:_,height:S}=m;if(d||e(),!_||!S)return;const C=Vh(b),R=Vh(a.clientWidth-(v+_)),N=Vh(a.clientHeight-(b+S)),M=Vh(v),V={rootMargin:-C+"px "+-R+"px "+-N+"px "+-M+"px",threshold:xr(0,Pa(1,h))||1};let $=!0;function H(W){const I=W[0].intersectionRatio;if(I!==h){if(!$)return u();I?u(!1,I):i=setTimeout(()=>{u(!1,1e-7)},1e3)}I===1&&!ZC(m,n.getBoundingClientRect())&&u(),$=!1}try{t=new IntersectionObserver(H,{...V,root:a.ownerDocument})}catch{t=new IntersectionObserver(H,V)}t.observe(n)}return u(!0),o}function $L(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=i,m=g_(n),v=a||o?[...m?Td(m):[],...Td(e)]:[];v.forEach(M=>{a&&M.addEventListener("scroll",t,{passive:!0}),o&&M.addEventListener("resize",t)});const b=m&&d?qL(m,t):null;let _=-1,S=null;u&&(S=new ResizeObserver(M=>{let[U]=M;U&&U.target===m&&S&&(S.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var V;(V=S)==null||V.observe(e)})),t()}),m&&!h&&S.observe(m),S.observe(e));let C,R=h?Uo(n):null;h&&N();function N(){const M=Uo(n);R&&!ZC(R,M)&&t(),R=M,C=requestAnimationFrame(N)}return t(),()=>{var M;v.forEach(U=>{a&&U.removeEventListener("scroll",t),o&&U.removeEventListener("resize",t)}),b==null||b(),(M=S)==null||M.disconnect(),S=null,h&&cancelAnimationFrame(C)}}const GL=TL,YL=SL,KL=xL,ZL=CL,QL=wL,JT=bL,WL=AL,XL=(n,e,t)=>{const i=new Map,a={platform:HL,...t},o={...a.platform,_c:i};return _L(n,e,{...a,platform:o})};var im=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Om(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!Om(n[i],e[i]))return!1;return!0}if(a=Object.keys(n),t=a.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,a[i]))return!1;for(i=t;i--!==0;){const o=a[i];if(!(o==="_owner"&&n.$$typeof)&&!Om(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function QC(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function eS(n,e){const t=QC(n);return Math.round(e*t)/t}function Zy(n){const e=w.useRef(n);return im(()=>{e.current=n}),e}function JL(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:a,elements:{reference:o,floating:u}={},transform:d=!0,whileElementsMounted:h,open:m}=n,[v,b]=w.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[_,S]=w.useState(i);Om(_,i)||S(i);const[C,R]=w.useState(null),[N,M]=w.useState(null),U=w.useCallback(K=>{K!==W.current&&(W.current=K,R(K))},[]),V=w.useCallback(K=>{K!==I.current&&(I.current=K,M(K))},[]),$=o||C,H=u||N,W=w.useRef(null),I=w.useRef(null),A=w.useRef(v),j=h!=null,B=Zy(h),D=Zy(a),L=Zy(m),P=w.useCallback(()=>{if(!W.current||!I.current)return;const K={placement:e,strategy:t,middleware:_};D.current&&(K.platform=D.current),XL(W.current,I.current,K).then(ve=>{const z={...ve,isPositioned:L.current!==!1};G.current&&!Om(A.current,z)&&(A.current=z,Bd.flushSync(()=>{b(z)}))})},[_,e,t,D,L]);im(()=>{m===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,b(K=>({...K,isPositioned:!1})))},[m]);const G=w.useRef(!1);im(()=>(G.current=!0,()=>{G.current=!1}),[]),im(()=>{if($&&(W.current=$),H&&(I.current=H),$&&H){if(B.current)return B.current($,H,P);P()}},[$,H,P,B,j]);const ie=w.useMemo(()=>({reference:W,floating:I,setReference:U,setFloating:V}),[U,V]),q=w.useMemo(()=>({reference:$,floating:H}),[$,H]),te=w.useMemo(()=>{const K={position:t,left:0,top:0};if(!q.floating)return K;const ve=eS(q.floating,v.x),z=eS(q.floating,v.y);return d?{...K,transform:"translate("+ve+"px, "+z+"px)",...QC(q.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ve,top:z}},[t,d,q.floating,v.x,v.y]);return w.useMemo(()=>({...v,update:P,refs:ie,elements:q,floatingStyles:te}),[v,P,ie,q,te])}const eV=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:a}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?JT({element:i.current,padding:a}).fn(t):{}:i?JT({element:i,padding:a}).fn(t):{}}}},tV=(n,e)=>({...GL(n),options:[n,e]}),nV=(n,e)=>({...YL(n),options:[n,e]}),rV=(n,e)=>({...WL(n),options:[n,e]}),iV=(n,e)=>({...KL(n),options:[n,e]}),sV=(n,e)=>({...ZL(n),options:[n,e]}),aV=(n,e)=>({...QL(n),options:[n,e]}),oV=(n,e)=>({...eV(n),options:[n,e]});var lV="Arrow",WC=w.forwardRef((n,e)=>{const{children:t,width:i=10,height:a=5,...o}=n;return g.jsx(Dt.svg,{...o,ref:e,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});WC.displayName=lV;var cV=WC;function v_(n){const[e,t]=w.useState(void 0);return Wn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let u,d;if("borderBoxSize"in o){const h=o.borderBoxSize,m=Array.isArray(h)?h[0]:h;u=m.inlineSize,d=m.blockSize}else u=n.offsetWidth,d=n.offsetHeight;t({width:u,height:d})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var __="Popper",[XC,JC]=Mc(__),[uV,e2]=XC(__),t2=n=>{const{__scopePopper:e,children:t}=n,[i,a]=w.useState(null);return g.jsx(uV,{scope:e,anchor:i,onAnchorChange:a,children:t})};t2.displayName=__;var n2="PopperAnchor",r2=w.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...a}=n,o=e2(n2,t),u=w.useRef(null),d=tn(e,u);return w.useEffect(()=>{o.onAnchorChange((i==null?void 0:i.current)||u.current)}),i?null:g.jsx(Dt.div,{...a,ref:d})});r2.displayName=n2;var b_="PopperContent",[dV,fV]=XC(b_),i2=w.forwardRef((n,e)=>{var be,De,ut,Ze,Qe,ye;const{__scopePopper:t,side:i="bottom",sideOffset:a=0,align:o="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:v=0,sticky:b="partial",hideWhenDetached:_=!1,updatePositionStrategy:S="optimized",onPlaced:C,...R}=n,N=e2(b_,t),[M,U]=w.useState(null),V=tn(e,Z=>U(Z)),[$,H]=w.useState(null),W=v_($),I=(W==null?void 0:W.width)??0,A=(W==null?void 0:W.height)??0,j=i+(o!=="center"?"-"+o:""),B=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},D=Array.isArray(m)?m:[m],L=D.length>0,P={padding:B,boundary:D.filter(mV),altBoundary:L},{refs:G,floatingStyles:ie,placement:q,isPositioned:te,middlewareData:K}=JL({strategy:"fixed",placement:j,whileElementsMounted:(...Z)=>$L(...Z,{animationFrame:S==="always"}),elements:{reference:N.anchor},middleware:[tV({mainAxis:a+A,alignmentAxis:u}),h&&nV({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?rV():void 0,...P}),h&&iV({...P}),sV({...P,apply:({elements:Z,rects:he,availableWidth:_e,availableHeight:pe})=>{const{width:Ae,height:Ue}=he.reference,We=Z.floating.style;We.setProperty("--radix-popper-available-width",`${_e}px`),We.setProperty("--radix-popper-available-height",`${pe}px`),We.setProperty("--radix-popper-anchor-width",`${Ae}px`),We.setProperty("--radix-popper-anchor-height",`${Ue}px`)}}),$&&oV({element:$,padding:d}),pV({arrowWidth:I,arrowHeight:A}),_&&aV({strategy:"referenceHidden",...P})]}),[ve,z]=o2(q),ae=Vo(C);Wn(()=>{te&&(ae==null||ae())},[te,ae]);const me=(be=K.arrow)==null?void 0:be.x,oe=(De=K.arrow)==null?void 0:De.y,we=((ut=K.arrow)==null?void 0:ut.centerOffset)!==0,[Pe,ke]=w.useState();return Wn(()=>{M&&ke(window.getComputedStyle(M).zIndex)},[M]),g.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:te?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[(Ze=K.transformOrigin)==null?void 0:Ze.x,(Qe=K.transformOrigin)==null?void 0:Qe.y].join(" "),...((ye=K.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:g.jsx(dV,{scope:t,placedSide:ve,onArrowChange:H,arrowX:me,arrowY:oe,shouldHideArrow:we,children:g.jsx(Dt.div,{"data-side":ve,"data-align":z,...R,ref:V,style:{...R.style,animation:te?void 0:"none"}})})})});i2.displayName=b_;var s2="PopperArrow",hV={top:"bottom",right:"left",bottom:"top",left:"right"},a2=w.forwardRef(function(e,t){const{__scopePopper:i,...a}=e,o=fV(s2,i),u=hV[o.placedSide];return g.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:g.jsx(cV,{...a,ref:t,style:{...a.style,display:"block"}})})});a2.displayName=s2;function mV(n){return n!==null}var pV=n=>({name:"transformOrigin",options:n,fn(e){var N,M,U;const{placement:t,rects:i,middlewareData:a}=e,u=((N=a.arrow)==null?void 0:N.centerOffset)!==0,d=u?0:n.arrowWidth,h=u?0:n.arrowHeight,[m,v]=o2(t),b={start:"0%",center:"50%",end:"100%"}[v],_=(((M=a.arrow)==null?void 0:M.x)??0)+d/2,S=(((U=a.arrow)==null?void 0:U.y)??0)+h/2;let C="",R="";return m==="bottom"?(C=u?b:`${_}px`,R=`${-h}px`):m==="top"?(C=u?b:`${_}px`,R=`${i.floating.height+h}px`):m==="right"?(C=`${-h}px`,R=u?b:`${S}px`):m==="left"&&(C=`${i.floating.width+h}px`,R=u?b:`${S}px`),{data:{x:C,y:R}}}});function o2(n){const[e,t="center"]=n.split("-");return[e,t]}var gV=t2,yV=r2,vV=i2,_V=a2,bV="Portal",l2=w.forwardRef((n,e)=>{var d;const{container:t,...i}=n,[a,o]=w.useState(!1);Wn(()=>o(!0),[]);const u=t||a&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return u?Ek.createPortal(g.jsx(Dt.div,{...i,ref:e}),u):null});l2.displayName=bV;var xV=vS[" useInsertionEffect ".trim().toString()]||Wn;function jm({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[a,o,u]=wV({defaultProp:e,onChange:t}),d=n!==void 0,h=d?n:a;{const v=w.useRef(n!==void 0);w.useEffect(()=>{const b=v.current;b!==d&&console.warn(`${i} is changing from ${b?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=d},[d,i])}const m=w.useCallback(v=>{var b;if(d){const _=EV(v)?v(n):v;_!==n&&((b=u.current)==null||b.call(u,_))}else o(v)},[d,n,o,u]);return[h,m]}function wV({defaultProp:n,onChange:e}){const[t,i]=w.useState(n),a=w.useRef(t),o=w.useRef(e);return xV(()=>{o.current=e},[e]),w.useEffect(()=>{var u;a.current!==t&&((u=o.current)==null||u.call(o,t),a.current=t)},[t,a]),[t,i,o]}function EV(n){return typeof n=="function"}function x_(n){const e=w.useRef({value:n,previous:n});return w.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var c2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),TV="VisuallyHidden",SV=w.forwardRef((n,e)=>g.jsx(Dt.span,{...n,ref:e,style:{...c2,...n.style}}));SV.displayName=TV;var AV=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Ul=new WeakMap,Uh=new WeakMap,Bh={},Qy=0,u2=function(n){return n&&(n.host||u2(n.parentNode))},CV=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=u2(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},RV=function(n,e,t,i){var a=CV(e,Array.isArray(n)?n:[n]);Bh[t]||(Bh[t]=new WeakMap);var o=Bh[t],u=[],d=new Set,h=new Set(a),m=function(b){!b||d.has(b)||(d.add(b),m(b.parentNode))};a.forEach(m);var v=function(b){!b||h.has(b)||Array.prototype.forEach.call(b.children,function(_){if(d.has(_))v(_);else try{var S=_.getAttribute(i),C=S!==null&&S!=="false",R=(Ul.get(_)||0)+1,N=(o.get(_)||0)+1;Ul.set(_,R),o.set(_,N),u.push(_),R===1&&C&&Uh.set(_,!0),N===1&&_.setAttribute(t,"true"),C||_.setAttribute(i,"true")}catch(M){console.error("aria-hidden: cannot operate on ",_,M)}})};return v(e),d.clear(),Qy++,function(){u.forEach(function(b){var _=Ul.get(b)-1,S=o.get(b)-1;Ul.set(b,_),o.set(b,S),_||(Uh.has(b)||b.removeAttribute(i),Uh.delete(b)),S||b.removeAttribute(t)}),Qy--,Qy||(Ul=new WeakMap,Ul=new WeakMap,Uh=new WeakMap,Bh={})}},NV=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),a=AV(n);return a?(i.push.apply(i,Array.from(a.querySelectorAll("[aria-live]"))),RV(i,a,t,"aria-hidden")):function(){return null}},sm="right-scroll-bar-position",am="width-before-scroll-bar",IV="with-scroll-bars-hidden",kV="--removed-body-scroll-bar-size";function Wy(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function DV(n,e){var t=w.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var a=t.value;a!==i&&(t.value=i,t.callback(i,a))}}}})[0];return t.callback=e,t.facade}var OV=typeof window<"u"?w.useLayoutEffect:w.useEffect,tS=new WeakMap;function jV(n,e){var t=DV(null,function(i){return n.forEach(function(a){return Wy(a,i)})});return OV(function(){var i=tS.get(t);if(i){var a=new Set(i),o=new Set(n),u=t.current;a.forEach(function(d){o.has(d)||Wy(d,null)}),o.forEach(function(d){a.has(d)||Wy(d,u)})}tS.set(t,n)},[n]),t}function MV(n){return n}function PV(n,e){e===void 0&&(e=MV);var t=[],i=!1,a={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(o){var u=e(o,i);return t.push(u),function(){t=t.filter(function(d){return d!==u})}},assignSyncMedium:function(o){for(i=!0;t.length;){var u=t;t=[],u.forEach(o)}t={push:function(d){return o(d)},filter:function(){return t}}},assignMedium:function(o){i=!0;var u=[];if(t.length){var d=t;t=[],d.forEach(o),u=t}var h=function(){var v=u;u=[],v.forEach(o)},m=function(){return Promise.resolve().then(h)};m(),t={push:function(v){u.push(v),m()},filter:function(v){return u=u.filter(v),t}}}};return a}function LV(n){n===void 0&&(n={});var e=PV(null);return e.options=Si({async:!0,ssr:!1},n),e}var d2=function(n){var e=n.sideCar,t=Hd(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return w.createElement(i,Si({},t))};d2.isSideCarExport=!0;function VV(n,e){return n.useMedium(e),d2}var f2=LV(),Xy=function(){},_p=w.forwardRef(function(n,e){var t=w.useRef(null),i=w.useState({onScrollCapture:Xy,onWheelCapture:Xy,onTouchMoveCapture:Xy}),a=i[0],o=i[1],u=n.forwardProps,d=n.children,h=n.className,m=n.removeScrollBar,v=n.enabled,b=n.shards,_=n.sideCar,S=n.noIsolation,C=n.inert,R=n.allowPinchZoom,N=n.as,M=N===void 0?"div":N,U=n.gapMode,V=Hd(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=_,H=jV([t,e]),W=Si(Si({},V),a);return w.createElement(w.Fragment,null,v&&w.createElement($,{sideCar:f2,removeScrollBar:m,shards:b,noIsolation:S,inert:C,setCallbacks:o,allowPinchZoom:!!R,lockRef:t,gapMode:U}),u?w.cloneElement(w.Children.only(d),Si(Si({},W),{ref:H})):w.createElement(M,Si({},W,{className:h,ref:H}),d))});_p.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_p.classNames={fullWidth:am,zeroRight:sm};var UV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function BV(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=UV();return e&&n.setAttribute("nonce",e),n}function zV(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function FV(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var HV=function(){var n=0,e=null;return{add:function(t){n==0&&(e=BV())&&(zV(e,t),FV(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},qV=function(){var n=HV();return function(e,t){w.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},h2=function(){var n=qV(),e=function(t){var i=t.styles,a=t.dynamic;return n(i,a),null};return e},$V={left:0,top:0,right:0,gap:0},Jy=function(n){return parseInt(n||"",10)||0},GV=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],a=e[n==="padding"?"paddingRight":"marginRight"];return[Jy(t),Jy(i),Jy(a)]},YV=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return $V;var e=GV(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},KV=h2(),ec="data-scroll-locked",ZV=function(n,e,t,i){var a=n.left,o=n.top,u=n.right,d=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(IV,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(d,"px ").concat(i,`;
  }
  body[`).concat(ec,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(d,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sm,` {
    right: `).concat(d,"px ").concat(i,`;
  }
  
  .`).concat(am,` {
    margin-right: `).concat(d,"px ").concat(i,`;
  }
  
  .`).concat(sm," .").concat(sm,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(am," .").concat(am,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(ec,`] {
    `).concat(kV,": ").concat(d,`px;
  }
`)},nS=function(){var n=parseInt(document.body.getAttribute(ec)||"0",10);return isFinite(n)?n:0},QV=function(){w.useEffect(function(){return document.body.setAttribute(ec,(nS()+1).toString()),function(){var n=nS()-1;n<=0?document.body.removeAttribute(ec):document.body.setAttribute(ec,n.toString())}},[])},WV=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,a=i===void 0?"margin":i;QV();var o=w.useMemo(function(){return YV(a)},[a]);return w.createElement(KV,{styles:ZV(o,!e,a,t?"":"!important")})},Hv=!1;if(typeof window<"u")try{var zh=Object.defineProperty({},"passive",{get:function(){return Hv=!0,!0}});window.addEventListener("test",zh,zh),window.removeEventListener("test",zh,zh)}catch{Hv=!1}var Bl=Hv?{passive:!1}:!1,XV=function(n){return n.tagName==="TEXTAREA"},m2=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!XV(n)&&t[e]==="visible")},JV=function(n){return m2(n,"overflowY")},e9=function(n){return m2(n,"overflowX")},rS=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var a=p2(n,i);if(a){var o=g2(n,i),u=o[1],d=o[2];if(u>d)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},t9=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},n9=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},p2=function(n,e){return n==="v"?JV(e):e9(e)},g2=function(n,e){return n==="v"?t9(e):n9(e)},r9=function(n,e){return n==="h"&&e==="rtl"?-1:1},i9=function(n,e,t,i,a){var o=r9(n,window.getComputedStyle(e).direction),u=o*i,d=t.target,h=e.contains(d),m=!1,v=u>0,b=0,_=0;do{var S=g2(n,d),C=S[0],R=S[1],N=S[2],M=R-N-o*C;(C||M)&&p2(n,d)&&(b+=M,_+=C),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!h&&d!==document.body||h&&(e.contains(d)||e===d));return(v&&Math.abs(b)<1||!v&&Math.abs(_)<1)&&(m=!0),m},Fh=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},iS=function(n){return[n.deltaX,n.deltaY]},sS=function(n){return n&&"current"in n?n.current:n},s9=function(n,e){return n[0]===e[0]&&n[1]===e[1]},a9=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},o9=0,zl=[];function l9(n){var e=w.useRef([]),t=w.useRef([0,0]),i=w.useRef(),a=w.useState(o9++)[0],o=w.useState(h2)[0],u=w.useRef(n);w.useEffect(function(){u.current=n},[n]),w.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(a));var R=Z3([n.lockRef.current],(n.shards||[]).map(sS),!0).filter(Boolean);return R.forEach(function(N){return N.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),R.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(a))})}}},[n.inert,n.lockRef.current,n.shards]);var d=w.useCallback(function(R,N){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!u.current.allowPinchZoom;var M=Fh(R),U=t.current,V="deltaX"in R?R.deltaX:U[0]-M[0],$="deltaY"in R?R.deltaY:U[1]-M[1],H,W=R.target,I=Math.abs(V)>Math.abs($)?"h":"v";if("touches"in R&&I==="h"&&W.type==="range")return!1;var A=rS(I,W);if(!A)return!0;if(A?H=I:(H=I==="v"?"h":"v",A=rS(I,W)),!A)return!1;if(!i.current&&"changedTouches"in R&&(V||$)&&(i.current=H),!H)return!0;var j=i.current||H;return i9(j,N,R,j==="h"?V:$)},[]),h=w.useCallback(function(R){var N=R;if(!(!zl.length||zl[zl.length-1]!==o)){var M="deltaY"in N?iS(N):Fh(N),U=e.current.filter(function(H){return H.name===N.type&&(H.target===N.target||N.target===H.shadowParent)&&s9(H.delta,M)})[0];if(U&&U.should){N.cancelable&&N.preventDefault();return}if(!U){var V=(u.current.shards||[]).map(sS).filter(Boolean).filter(function(H){return H.contains(N.target)}),$=V.length>0?d(N,V[0]):!u.current.noIsolation;$&&N.cancelable&&N.preventDefault()}}},[]),m=w.useCallback(function(R,N,M,U){var V={name:R,delta:N,target:M,should:U,shadowParent:c9(M)};e.current.push(V),setTimeout(function(){e.current=e.current.filter(function($){return $!==V})},1)},[]),v=w.useCallback(function(R){t.current=Fh(R),i.current=void 0},[]),b=w.useCallback(function(R){m(R.type,iS(R),R.target,d(R,n.lockRef.current))},[]),_=w.useCallback(function(R){m(R.type,Fh(R),R.target,d(R,n.lockRef.current))},[]);w.useEffect(function(){return zl.push(o),n.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:_}),document.addEventListener("wheel",h,Bl),document.addEventListener("touchmove",h,Bl),document.addEventListener("touchstart",v,Bl),function(){zl=zl.filter(function(R){return R!==o}),document.removeEventListener("wheel",h,Bl),document.removeEventListener("touchmove",h,Bl),document.removeEventListener("touchstart",v,Bl)}},[]);var S=n.removeScrollBar,C=n.inert;return w.createElement(w.Fragment,null,C?w.createElement(o,{styles:a9(a)}):null,S?w.createElement(WV,{gapMode:n.gapMode}):null)}function c9(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const u9=VV(f2,l9);var y2=w.forwardRef(function(n,e){return w.createElement(_p,Si({},n,{ref:e,sideCar:u9}))});y2.classNames=_p.classNames;var d9=[" ","Enter","ArrowUp","ArrowDown"],f9=[" ","Enter"],Bo="Select",[bp,xp,h9]=q8(Bo),[Vc,Q5]=Mc(Bo,[h9,JC]),wp=JC(),[m9,$a]=Vc(Bo),[p9,g9]=Vc(Bo),v2=n=>{const{__scopeSelect:e,children:t,open:i,defaultOpen:a,onOpenChange:o,value:u,defaultValue:d,onValueChange:h,dir:m,name:v,autoComplete:b,disabled:_,required:S,form:C}=n,R=wp(e),[N,M]=w.useState(null),[U,V]=w.useState(null),[$,H]=w.useState(!1),W=G8(m),[I,A]=jm({prop:i,defaultProp:a??!1,onChange:o,caller:Bo}),[j,B]=jm({prop:u,defaultProp:d,onChange:h,caller:Bo}),D=w.useRef(null),L=N?C||!!N.closest("form"):!0,[P,G]=w.useState(new Set),ie=Array.from(P).map(q=>q.props.value).join(";");return g.jsx(gV,{...R,children:g.jsxs(m9,{required:S,scope:e,trigger:N,onTriggerChange:M,valueNode:U,onValueNodeChange:V,valueNodeHasChildren:$,onValueNodeHasChildrenChange:H,contentId:u_(),value:j,onValueChange:B,open:I,onOpenChange:A,dir:W,triggerPointerDownPosRef:D,disabled:_,children:[g.jsx(bp.Provider,{scope:e,children:g.jsx(p9,{scope:n.__scopeSelect,onNativeOptionAdd:w.useCallback(q=>{G(te=>new Set(te).add(q))},[]),onNativeOptionRemove:w.useCallback(q=>{G(te=>{const K=new Set(te);return K.delete(q),K})},[]),children:t})}),L?g.jsxs(B2,{"aria-hidden":!0,required:S,tabIndex:-1,name:v,autoComplete:b,value:j,onChange:q=>B(q.target.value),disabled:_,form:C,children:[j===void 0?g.jsx("option",{value:""}):null,Array.from(P)]},ie):null]})})};v2.displayName=Bo;var _2="SelectTrigger",b2=w.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:i=!1,...a}=n,o=wp(t),u=$a(_2,t),d=u.disabled||i,h=tn(e,u.onTriggerChange),m=xp(t),v=w.useRef("touch"),[b,_,S]=F2(R=>{const N=m().filter(V=>!V.disabled),M=N.find(V=>V.value===u.value),U=H2(N,R,M);U!==void 0&&u.onValueChange(U.value)}),C=R=>{d||(u.onOpenChange(!0),S()),R&&(u.triggerPointerDownPosRef.current={x:Math.round(R.pageX),y:Math.round(R.pageY)})};return g.jsx(yV,{asChild:!0,...o,children:g.jsx(Dt.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":z2(u.value)?"":void 0,...a,ref:h,onClick:Wt(a.onClick,R=>{R.currentTarget.focus(),v.current!=="mouse"&&C(R)}),onPointerDown:Wt(a.onPointerDown,R=>{v.current=R.pointerType;const N=R.target;N.hasPointerCapture(R.pointerId)&&N.releasePointerCapture(R.pointerId),R.button===0&&R.ctrlKey===!1&&R.pointerType==="mouse"&&(C(R),R.preventDefault())}),onKeyDown:Wt(a.onKeyDown,R=>{const N=b.current!=="";!(R.ctrlKey||R.altKey||R.metaKey)&&R.key.length===1&&_(R.key),!(N&&R.key===" ")&&d9.includes(R.key)&&(C(),R.preventDefault())})})})});b2.displayName=_2;var x2="SelectValue",w2=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:a,children:o,placeholder:u="",...d}=n,h=$a(x2,t),{onValueNodeHasChildrenChange:m}=h,v=o!==void 0,b=tn(e,h.onValueNodeChange);return Wn(()=>{m(v)},[m,v]),g.jsx(Dt.span,{...d,ref:b,style:{pointerEvents:"none"},children:z2(h.value)?g.jsx(g.Fragment,{children:u}):o})});w2.displayName=x2;var y9="SelectIcon",E2=w.forwardRef((n,e)=>{const{__scopeSelect:t,children:i,...a}=n;return g.jsx(Dt.span,{"aria-hidden":!0,...a,ref:e,children:i||""})});E2.displayName=y9;var v9="SelectPortal",T2=n=>g.jsx(l2,{asChild:!0,...n});T2.displayName=v9;var zo="SelectContent",S2=w.forwardRef((n,e)=>{const t=$a(zo,n.__scopeSelect),[i,a]=w.useState();if(Wn(()=>{a(new DocumentFragment)},[]),!t.open){const o=i;return o?Bd.createPortal(g.jsx(A2,{scope:n.__scopeSelect,children:g.jsx(bp.Slot,{scope:n.__scopeSelect,children:g.jsx("div",{children:n.children})})}),o):null}return g.jsx(C2,{...n,ref:e})});S2.displayName=zo;var Kr=10,[A2,Ga]=Vc(zo),_9="SelectContentImpl",b9=hd("SelectContent.RemoveScroll"),C2=w.forwardRef((n,e)=>{const{__scopeSelect:t,position:i="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:u,side:d,sideOffset:h,align:m,alignOffset:v,arrowPadding:b,collisionBoundary:_,collisionPadding:S,sticky:C,hideWhenDetached:R,avoidCollisions:N,...M}=n,U=$a(zo,t),[V,$]=w.useState(null),[H,W]=w.useState(null),I=tn(e,be=>$(be)),[A,j]=w.useState(null),[B,D]=w.useState(null),L=xp(t),[P,G]=w.useState(!1),ie=w.useRef(!1);w.useEffect(()=>{if(V)return NV(V)},[V]),tL();const q=w.useCallback(be=>{const[De,...ut]=L().map(ye=>ye.ref.current),[Ze]=ut.slice(-1),Qe=document.activeElement;for(const ye of be)if(ye===Qe||(ye==null||ye.scrollIntoView({block:"nearest"}),ye===De&&H&&(H.scrollTop=0),ye===Ze&&H&&(H.scrollTop=H.scrollHeight),ye==null||ye.focus(),document.activeElement!==Qe))return},[L,H]),te=w.useCallback(()=>q([A,V]),[q,A,V]);w.useEffect(()=>{P&&te()},[P,te]);const{onOpenChange:K,triggerPointerDownPosRef:ve}=U;w.useEffect(()=>{if(V){let be={x:0,y:0};const De=Ze=>{var Qe,ye;be={x:Math.abs(Math.round(Ze.pageX)-(((Qe=ve.current)==null?void 0:Qe.x)??0)),y:Math.abs(Math.round(Ze.pageY)-(((ye=ve.current)==null?void 0:ye.y)??0))}},ut=Ze=>{be.x<=10&&be.y<=10?Ze.preventDefault():V.contains(Ze.target)||K(!1),document.removeEventListener("pointermove",De),ve.current=null};return ve.current!==null&&(document.addEventListener("pointermove",De),document.addEventListener("pointerup",ut,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",De),document.removeEventListener("pointerup",ut,{capture:!0})}}},[V,K,ve]),w.useEffect(()=>{const be=()=>K(!1);return window.addEventListener("blur",be),window.addEventListener("resize",be),()=>{window.removeEventListener("blur",be),window.removeEventListener("resize",be)}},[K]);const[z,ae]=F2(be=>{const De=L().filter(Qe=>!Qe.disabled),ut=De.find(Qe=>Qe.ref.current===document.activeElement),Ze=H2(De,be,ut);Ze&&setTimeout(()=>Ze.ref.current.focus())}),me=w.useCallback((be,De,ut)=>{const Ze=!ie.current&&!ut;(U.value!==void 0&&U.value===De||Ze)&&(j(be),Ze&&(ie.current=!0))},[U.value]),oe=w.useCallback(()=>V==null?void 0:V.focus(),[V]),we=w.useCallback((be,De,ut)=>{const Ze=!ie.current&&!ut;(U.value!==void 0&&U.value===De||Ze)&&D(be)},[U.value]),Pe=i==="popper"?qv:R2,ke=Pe===qv?{side:d,sideOffset:h,align:m,alignOffset:v,arrowPadding:b,collisionBoundary:_,collisionPadding:S,sticky:C,hideWhenDetached:R,avoidCollisions:N}:{};return g.jsx(A2,{scope:t,content:V,viewport:H,onViewportChange:W,itemRefCallback:me,selectedItem:A,onItemLeave:oe,itemTextRefCallback:we,focusSelectedItem:te,selectedItemText:B,position:i,isPositioned:P,searchRef:z,children:g.jsx(y2,{as:b9,allowPinchZoom:!0,children:g.jsx(UC,{asChild:!0,trapped:U.open,onMountAutoFocus:be=>{be.preventDefault()},onUnmountAutoFocus:Wt(a,be=>{var De;(De=U.trigger)==null||De.focus({preventScroll:!0}),be.preventDefault()}),children:g.jsx(LC,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:u,onFocusOutside:be=>be.preventDefault(),onDismiss:()=>U.onOpenChange(!1),children:g.jsx(Pe,{role:"listbox",id:U.contentId,"data-state":U.open?"open":"closed",dir:U.dir,onContextMenu:be=>be.preventDefault(),...M,...ke,onPlaced:()=>G(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...M.style},onKeyDown:Wt(M.onKeyDown,be=>{const De=be.ctrlKey||be.altKey||be.metaKey;if(be.key==="Tab"&&be.preventDefault(),!De&&be.key.length===1&&ae(be.key),["ArrowUp","ArrowDown","Home","End"].includes(be.key)){let Ze=L().filter(Qe=>!Qe.disabled).map(Qe=>Qe.ref.current);if(["ArrowUp","End"].includes(be.key)&&(Ze=Ze.slice().reverse()),["ArrowUp","ArrowDown"].includes(be.key)){const Qe=be.target,ye=Ze.indexOf(Qe);Ze=Ze.slice(ye+1)}setTimeout(()=>q(Ze)),be.preventDefault()}})})})})})})});C2.displayName=_9;var x9="SelectItemAlignedPosition",R2=w.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:i,...a}=n,o=$a(zo,t),u=Ga(zo,t),[d,h]=w.useState(null),[m,v]=w.useState(null),b=tn(e,I=>v(I)),_=xp(t),S=w.useRef(!1),C=w.useRef(!0),{viewport:R,selectedItem:N,selectedItemText:M,focusSelectedItem:U}=u,V=w.useCallback(()=>{if(o.trigger&&o.valueNode&&d&&m&&R&&N&&M){const I=o.trigger.getBoundingClientRect(),A=m.getBoundingClientRect(),j=o.valueNode.getBoundingClientRect(),B=M.getBoundingClientRect();if(o.dir!=="rtl"){const Qe=B.left-A.left,ye=j.left-Qe,Z=I.left-ye,he=I.width+Z,_e=Math.max(he,A.width),pe=window.innerWidth-Kr,Ae=UT(ye,[Kr,Math.max(Kr,pe-_e)]);d.style.minWidth=he+"px",d.style.left=Ae+"px"}else{const Qe=A.right-B.right,ye=window.innerWidth-j.right-Qe,Z=window.innerWidth-I.right-ye,he=I.width+Z,_e=Math.max(he,A.width),pe=window.innerWidth-Kr,Ae=UT(ye,[Kr,Math.max(Kr,pe-_e)]);d.style.minWidth=he+"px",d.style.right=Ae+"px"}const D=_(),L=window.innerHeight-Kr*2,P=R.scrollHeight,G=window.getComputedStyle(m),ie=parseInt(G.borderTopWidth,10),q=parseInt(G.paddingTop,10),te=parseInt(G.borderBottomWidth,10),K=parseInt(G.paddingBottom,10),ve=ie+q+P+K+te,z=Math.min(N.offsetHeight*5,ve),ae=window.getComputedStyle(R),me=parseInt(ae.paddingTop,10),oe=parseInt(ae.paddingBottom,10),we=I.top+I.height/2-Kr,Pe=L-we,ke=N.offsetHeight/2,be=N.offsetTop+ke,De=ie+q+be,ut=ve-De;if(De<=we){const Qe=D.length>0&&N===D[D.length-1].ref.current;d.style.bottom="0px";const ye=m.clientHeight-R.offsetTop-R.offsetHeight,Z=Math.max(Pe,ke+(Qe?oe:0)+ye+te),he=De+Z;d.style.height=he+"px"}else{const Qe=D.length>0&&N===D[0].ref.current;d.style.top="0px";const Z=Math.max(we,ie+R.offsetTop+(Qe?me:0)+ke)+ut;d.style.height=Z+"px",R.scrollTop=De-we+R.offsetTop}d.style.margin=`${Kr}px 0`,d.style.minHeight=z+"px",d.style.maxHeight=L+"px",i==null||i(),requestAnimationFrame(()=>S.current=!0)}},[_,o.trigger,o.valueNode,d,m,R,N,M,o.dir,i]);Wn(()=>V(),[V]);const[$,H]=w.useState();Wn(()=>{m&&H(window.getComputedStyle(m).zIndex)},[m]);const W=w.useCallback(I=>{I&&C.current===!0&&(V(),U==null||U(),C.current=!1)},[V,U]);return g.jsx(E9,{scope:t,contentWrapper:d,shouldExpandOnScrollRef:S,onScrollButtonChange:W,children:g.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:$},children:g.jsx(Dt.div,{...a,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});R2.displayName=x9;var w9="SelectPopperPosition",qv=w.forwardRef((n,e)=>{const{__scopeSelect:t,align:i="start",collisionPadding:a=Kr,...o}=n,u=wp(t);return g.jsx(vV,{...u,...o,ref:e,align:i,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});qv.displayName=w9;var[E9,w_]=Vc(zo,{}),$v="SelectViewport",N2=w.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:i,...a}=n,o=Ga($v,t),u=w_($v,t),d=tn(e,o.onViewportChange),h=w.useRef(0);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),g.jsx(bp.Slot,{scope:t,children:g.jsx(Dt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Wt(a.onScroll,m=>{const v=m.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:_}=u;if(_!=null&&_.current&&b){const S=Math.abs(h.current-v.scrollTop);if(S>0){const C=window.innerHeight-Kr*2,R=parseFloat(b.style.minHeight),N=parseFloat(b.style.height),M=Math.max(R,N);if(M<C){const U=M+S,V=Math.min(C,U),$=U-V;b.style.height=V+"px",b.style.bottom==="0px"&&(v.scrollTop=$>0?$:0,b.style.justifyContent="flex-end")}}}h.current=v.scrollTop})})})]})});N2.displayName=$v;var I2="SelectGroup",[T9,S9]=Vc(I2),A9=w.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,a=u_();return g.jsx(T9,{scope:t,id:a,children:g.jsx(Dt.div,{role:"group","aria-labelledby":a,...i,ref:e})})});A9.displayName=I2;var k2="SelectLabel",C9=w.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,a=S9(k2,t);return g.jsx(Dt.div,{id:a.id,...i,ref:e})});C9.displayName=k2;var Mm="SelectItem",[R9,D2]=Vc(Mm),O2=w.forwardRef((n,e)=>{const{__scopeSelect:t,value:i,disabled:a=!1,textValue:o,...u}=n,d=$a(Mm,t),h=Ga(Mm,t),m=d.value===i,[v,b]=w.useState(o??""),[_,S]=w.useState(!1),C=tn(e,U=>{var V;return(V=h.itemRefCallback)==null?void 0:V.call(h,U,i,a)}),R=u_(),N=w.useRef("touch"),M=()=>{a||(d.onValueChange(i),d.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return g.jsx(R9,{scope:t,value:i,disabled:a,textId:R,isSelected:m,onItemTextChange:w.useCallback(U=>{b(V=>V||((U==null?void 0:U.textContent)??"").trim())},[]),children:g.jsx(bp.ItemSlot,{scope:t,value:i,disabled:a,textValue:v,children:g.jsx(Dt.div,{role:"option","aria-labelledby":R,"data-highlighted":_?"":void 0,"aria-selected":m&&_,"data-state":m?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...u,ref:C,onFocus:Wt(u.onFocus,()=>S(!0)),onBlur:Wt(u.onBlur,()=>S(!1)),onClick:Wt(u.onClick,()=>{N.current!=="mouse"&&M()}),onPointerUp:Wt(u.onPointerUp,()=>{N.current==="mouse"&&M()}),onPointerDown:Wt(u.onPointerDown,U=>{N.current=U.pointerType}),onPointerMove:Wt(u.onPointerMove,U=>{var V;N.current=U.pointerType,a?(V=h.onItemLeave)==null||V.call(h):N.current==="mouse"&&U.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Wt(u.onPointerLeave,U=>{var V;U.currentTarget===document.activeElement&&((V=h.onItemLeave)==null||V.call(h))}),onKeyDown:Wt(u.onKeyDown,U=>{var $;(($=h.searchRef)==null?void 0:$.current)!==""&&U.key===" "||(f9.includes(U.key)&&M(),U.key===" "&&U.preventDefault())})})})})});O2.displayName=Mm;var nd="SelectItemText",j2=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:a,...o}=n,u=$a(nd,t),d=Ga(nd,t),h=D2(nd,t),m=g9(nd,t),[v,b]=w.useState(null),_=tn(e,M=>b(M),h.onItemTextChange,M=>{var U;return(U=d.itemTextRefCallback)==null?void 0:U.call(d,M,h.value,h.disabled)}),S=v==null?void 0:v.textContent,C=w.useMemo(()=>g.jsx("option",{value:h.value,disabled:h.disabled,children:S},h.value),[h.disabled,h.value,S]),{onNativeOptionAdd:R,onNativeOptionRemove:N}=m;return Wn(()=>(R(C),()=>N(C)),[R,N,C]),g.jsxs(g.Fragment,{children:[g.jsx(Dt.span,{id:h.textId,...o,ref:_}),h.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Bd.createPortal(o.children,u.valueNode):null]})});j2.displayName=nd;var M2="SelectItemIndicator",P2=w.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return D2(M2,t).isSelected?g.jsx(Dt.span,{"aria-hidden":!0,...i,ref:e}):null});P2.displayName=M2;var Gv="SelectScrollUpButton",L2=w.forwardRef((n,e)=>{const t=Ga(Gv,n.__scopeSelect),i=w_(Gv,n.__scopeSelect),[a,o]=w.useState(!1),u=tn(e,i.onScrollButtonChange);return Wn(()=>{if(t.viewport&&t.isPositioned){let d=function(){const m=h.scrollTop>0;o(m)};const h=t.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),a?g.jsx(U2,{...n,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=t;d&&h&&(d.scrollTop=d.scrollTop-h.offsetHeight)}}):null});L2.displayName=Gv;var Yv="SelectScrollDownButton",V2=w.forwardRef((n,e)=>{const t=Ga(Yv,n.__scopeSelect),i=w_(Yv,n.__scopeSelect),[a,o]=w.useState(!1),u=tn(e,i.onScrollButtonChange);return Wn(()=>{if(t.viewport&&t.isPositioned){let d=function(){const m=h.scrollHeight-h.clientHeight,v=Math.ceil(h.scrollTop)<m;o(v)};const h=t.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),a?g.jsx(U2,{...n,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=t;d&&h&&(d.scrollTop=d.scrollTop+h.offsetHeight)}}):null});V2.displayName=Yv;var U2=w.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:i,...a}=n,o=Ga("SelectScrollButton",t),u=w.useRef(null),d=xp(t),h=w.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return w.useEffect(()=>()=>h(),[h]),Wn(()=>{var v;const m=d().find(b=>b.ref.current===document.activeElement);(v=m==null?void 0:m.ref.current)==null||v.scrollIntoView({block:"nearest"})},[d]),g.jsx(Dt.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:Wt(a.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(i,50))}),onPointerMove:Wt(a.onPointerMove,()=>{var m;(m=o.onItemLeave)==null||m.call(o),u.current===null&&(u.current=window.setInterval(i,50))}),onPointerLeave:Wt(a.onPointerLeave,()=>{h()})})}),N9="SelectSeparator",I9=w.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return g.jsx(Dt.div,{"aria-hidden":!0,...i,ref:e})});I9.displayName=N9;var Kv="SelectArrow",k9=w.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,a=wp(t),o=$a(Kv,t),u=Ga(Kv,t);return o.open&&u.position==="popper"?g.jsx(_V,{...a,...i,ref:e}):null});k9.displayName=Kv;var D9="SelectBubbleInput",B2=w.forwardRef(({__scopeSelect:n,value:e,...t},i)=>{const a=w.useRef(null),o=tn(i,a),u=x_(e);return w.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(h,"value").set;if(u!==e&&v){const b=new Event("change",{bubbles:!0});v.call(d,e),d.dispatchEvent(b)}},[u,e]),g.jsx(Dt.select,{...t,style:{...c2,...t.style},ref:o,defaultValue:e})});B2.displayName=D9;function z2(n){return n===""||n===void 0}function F2(n){const e=Vo(n),t=w.useRef(""),i=w.useRef(0),a=w.useCallback(u=>{const d=t.current+u;e(d),function h(m){t.current=m,window.clearTimeout(i.current),m!==""&&(i.current=window.setTimeout(()=>h(""),1e3))}(d)},[e]),o=w.useCallback(()=>{t.current="",window.clearTimeout(i.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(i.current),[]),[t,a,o]}function H2(n,e,t){const a=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let u=O9(n,Math.max(o,0));a.length===1&&(u=u.filter(m=>m!==t));const h=u.find(m=>m.textValue.toLowerCase().startsWith(a.toLowerCase()));return h!==t?h:void 0}function O9(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var j9=v2,M9=b2,P9=w2,L9=E2,V9=T2,U9=S2,B9=N2,z9=O2,F9=j2,H9=P2,q9=L2,$9=V2;function ys({...n}){return g.jsx(j9,{"data-slot":"select",...n})}function vs({...n}){return g.jsx(P9,{"data-slot":"select-value",...n})}function _s({className:n,size:e="default",children:t,...i}){return g.jsxs(M9,{"data-slot":"select-trigger","data-size":e,className:an("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...i,children:[t,g.jsx(L9,{asChild:!0,children:g.jsx(ZS,{className:"size-4 opacity-50"})})]})}function bs({className:n,children:e,position:t="popper",...i}){return g.jsx(V9,{children:g.jsxs(U9,{"data-slot":"select-content",className:an("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...i,children:[g.jsx(G9,{}),g.jsx(B9,{className:an("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),g.jsx(Y9,{})]})})}function Kn({className:n,children:e,...t}){return g.jsxs(z9,{"data-slot":"select-item",className:an("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[g.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:g.jsx(H9,{children:g.jsx(u0,{className:"size-4"})})}),g.jsx(F9,{children:e})]})}function G9({className:n,...e}){return g.jsx(q9,{"data-slot":"select-scroll-up-button",className:an("flex cursor-default items-center justify-center py-1",n),...e,children:g.jsx(AD,{className:"size-4"})})}function Y9({className:n,...e}){return g.jsx($9,{"data-slot":"select-scroll-down-button",className:an("flex cursor-default items-center justify-center py-1",n),...e,children:g.jsx(ZS,{className:"size-4"})})}function q2({className:n,...e}){return g.jsx("textarea",{"data-slot":"textarea",className:an("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}function K9(n,e){return w.useReducer((t,i)=>e[t][i]??t,n)}var $2=n=>{const{present:e,children:t}=n,i=Z9(e),a=typeof t=="function"?t({present:i.isPresent}):w.Children.only(t),o=tn(i.ref,Q9(a));return typeof t=="function"||i.isPresent?w.cloneElement(a,{ref:o}):null};$2.displayName="Presence";function Z9(n){const[e,t]=w.useState(),i=w.useRef(null),a=w.useRef(n),o=w.useRef("none"),u=n?"mounted":"unmounted",[d,h]=K9(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const m=Hh(i.current);o.current=d==="mounted"?m:"none"},[d]),Wn(()=>{const m=i.current,v=a.current;if(v!==n){const _=o.current,S=Hh(m);n?h("MOUNT"):S==="none"||(m==null?void 0:m.display)==="none"?h("UNMOUNT"):h(v&&_!==S?"ANIMATION_OUT":"UNMOUNT"),a.current=n}},[n,h]),Wn(()=>{if(e){let m;const v=e.ownerDocument.defaultView??window,b=S=>{const R=Hh(i.current).includes(S.animationName);if(S.target===e&&R&&(h("ANIMATION_END"),!a.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",m=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},_=S=>{S.target===e&&(o.current=Hh(i.current))};return e.addEventListener("animationstart",_),e.addEventListener("animationcancel",b),e.addEventListener("animationend",b),()=>{v.clearTimeout(m),e.removeEventListener("animationstart",_),e.removeEventListener("animationcancel",b),e.removeEventListener("animationend",b)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:w.useCallback(m=>{i.current=m?getComputedStyle(m):null,t(m)},[])}}function Hh(n){return(n==null?void 0:n.animationName)||"none"}function Q9(n){var i,a;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Ep="Checkbox",[W9,W5]=Mc(Ep),[X9,E_]=W9(Ep);function J9(n){const{__scopeCheckbox:e,checked:t,children:i,defaultChecked:a,disabled:o,form:u,name:d,onCheckedChange:h,required:m,value:v="on",internal_do_not_use_render:b}=n,[_,S]=jm({prop:t,defaultProp:a??!1,onChange:h,caller:Ep}),[C,R]=w.useState(null),[N,M]=w.useState(null),U=w.useRef(!1),V=C?!!u||!!C.closest("form"):!0,$={checked:_,disabled:o,setChecked:S,control:C,setControl:R,name:d,form:u,value:v,hasConsumerStoppedPropagationRef:U,required:m,defaultChecked:Na(a)?!1:a,isFormControl:V,bubbleInput:N,setBubbleInput:M};return g.jsx(X9,{scope:e,...$,children:eU(b)?b($):i})}var G2="CheckboxTrigger",Y2=w.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...i},a)=>{const{control:o,value:u,disabled:d,checked:h,required:m,setControl:v,setChecked:b,hasConsumerStoppedPropagationRef:_,isFormControl:S,bubbleInput:C}=E_(G2,n),R=tn(a,v),N=w.useRef(h);return w.useEffect(()=>{const M=o==null?void 0:o.form;if(M){const U=()=>b(N.current);return M.addEventListener("reset",U),()=>M.removeEventListener("reset",U)}},[o,b]),g.jsx(Dt.button,{type:"button",role:"checkbox","aria-checked":Na(h)?"mixed":h,"aria-required":m,"data-state":J2(h),"data-disabled":d?"":void 0,disabled:d,value:u,...i,ref:R,onKeyDown:Wt(e,M=>{M.key==="Enter"&&M.preventDefault()}),onClick:Wt(t,M=>{b(U=>Na(U)?!0:!U),C&&S&&(_.current=M.isPropagationStopped(),_.current||M.stopPropagation())})})});Y2.displayName=G2;var K2=w.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:i,checked:a,defaultChecked:o,required:u,disabled:d,value:h,onCheckedChange:m,form:v,...b}=n;return g.jsx(J9,{__scopeCheckbox:t,checked:a,defaultChecked:o,disabled:d,required:u,onCheckedChange:m,name:i,form:v,value:h,internal_do_not_use_render:({isFormControl:_})=>g.jsxs(g.Fragment,{children:[g.jsx(Y2,{...b,ref:e,__scopeCheckbox:t}),_&&g.jsx(X2,{__scopeCheckbox:t})]})})});K2.displayName=Ep;var Z2="CheckboxIndicator",Q2=w.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:i,...a}=n,o=E_(Z2,t);return g.jsx($2,{present:i||Na(o.checked)||o.checked===!0,children:g.jsx(Dt.span,{"data-state":J2(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...n.style}})})});Q2.displayName=Z2;var W2="CheckboxBubbleInput",X2=w.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:i,hasConsumerStoppedPropagationRef:a,checked:o,defaultChecked:u,required:d,disabled:h,name:m,value:v,form:b,bubbleInput:_,setBubbleInput:S}=E_(W2,n),C=tn(t,S),R=x_(o),N=v_(i);w.useEffect(()=>{const U=_;if(!U)return;const V=window.HTMLInputElement.prototype,H=Object.getOwnPropertyDescriptor(V,"checked").set,W=!a.current;if(R!==o&&H){const I=new Event("click",{bubbles:W});U.indeterminate=Na(o),H.call(U,Na(o)?!1:o),U.dispatchEvent(I)}},[_,R,o,a]);const M=w.useRef(Na(o)?!1:o);return g.jsx(Dt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??M.current,required:d,disabled:h,name:m,value:v,form:b,...e,tabIndex:-1,ref:C,style:{...e.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});X2.displayName=W2;function eU(n){return typeof n=="function"}function Na(n){return n==="indeterminate"}function J2(n){return Na(n)?"indeterminate":n?"checked":"unchecked"}function qh({className:n,...e}){return g.jsx(K2,{"data-slot":"checkbox",className:an("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:g.jsx(Q2,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:g.jsx(u0,{className:"size-3.5"})})})}function tU(){const{currentUser:n}=Jn(),{currentLedger:e,canEdit:t}=Ui(),[i,a]=w.useState([]),[o,u]=w.useState([]),[d,h]=w.useState([]),[m,v]=w.useState(!0),[b,_]=w.useState(!1),[S,C]=w.useState(null),[R,N]=w.useState(!1),[M,U]=w.useState(null),[V,$]=w.useState([]),[H,W]=w.useState(!1),[I,A]=w.useState(""),[j,B]=w.useState(""),[D,L]=w.useState({amount:"",type:"expense",description:"",categoryId:"",paymentMethod:"cash",notes:"",includeInBudget:!0,date:new Date().toISOString().split("T")[0],paidBy:(n==null?void 0:n.uid)||"",splitType:"none",splitWith:[],splitAmounts:{}}),[P,G]=w.useState("none"),[ie,q]=w.useState({categoryId:"",includeInBudget:null}),te=()=>{L({amount:"",type:"expense",description:"",categoryId:"",paymentMethod:"cash",notes:"",includeInBudget:!0,date:new Date().toISOString().split("T")[0],paidBy:(n==null?void 0:n.uid)||"",splitType:"none",splitWith:[],splitAmounts:{}}),G("none"),N(!1),U(null),C(null)},K=async()=>{if(e)try{const Z=Ft(ze,"ledgers",e.id,"transactions"),he=fr(Z,ks("date","desc")),_e=await zn(he),pe=[];_e.forEach(Ae=>{var We;const Ue=Ae.data();pe.push({id:Ae.id,...Ue,date:((We=Ue.date)==null?void 0:We.toDate())||new Date})}),a(pe)}catch(Z){console.error("Error fetching transactions:",Z),A("Failed to fetch transactions")}},ve=async()=>{if(e)try{const Z=Ft(ze,"ledgers",e.id,"categories"),he=await zn(Z),_e=[];he.forEach(pe=>{_e.push({id:pe.id,...pe.data()})}),u(_e),_e.length===0&&await ae()}catch(Z){console.error("Error fetching categories:",Z)}},z=async()=>{if(e!=null&&e.members)try{const Z=[],he=Object.keys(e.members),_e=10,pe=new Map;for(let Ae=0;Ae<he.length;Ae+=_e){const Ue=he.slice(Ae,Ae+_e);try{const We=fr(Ft(ze,"users"),Ii("__name__","in",Ue));(await zn(We)).forEach(Ge=>{pe.set(Ge.id,Ge.data())})}catch(We){console.error("Error fetching user batch:",We)}}for(const[Ae,Ue]of Object.entries(e.members)){let We={uid:Ae,role:Ue};const Oe=pe.get(Ae);Oe?We={...We,displayName:Oe.displayName,email:Oe.email,profileColor:Oe.profileColor}:Ae===(n==null?void 0:n.uid)?We={...We,displayName:n.displayName,email:n.email}:We={...We,displayName:`User ${Ae.slice(0,8)}`,email:`${Ae.slice(0,8)}@example.com`},Z.push(We)}h(Z)}catch(Z){console.error("Error fetching members:",Z)}},ae=async()=>{const Z=[{name:"Food & Dining",type:"expense"},{name:"Transportation",type:"expense"},{name:"Shopping",type:"expense"},{name:"Entertainment",type:"expense"},{name:"Bills & Utilities",type:"expense"},{name:"Healthcare",type:"expense"},{name:"Salary",type:"income"},{name:"Freelance",type:"income"},{name:"Investment",type:"income"}];try{const he=Ft(ze,"ledgers",e.id,"categories");for(const _e of Z)await Ts(he,_e);await ve()}catch(he){console.error("Error creating default categories:",he)}},me=async Z=>{if(Z.preventDefault(),!t()){A("You do not have permission to add transactions");return}try{A("");const he={...D,amount:parseFloat(D.amount),date:Ut.fromDate(new Date(D.date)),createdAt:Ut.now(),userId:n.uid,paidBy:D.paidBy,splitType:D.splitType,splitWith:D.splitWith,splitAmounts:D.splitAmounts};S?(await Xr(Ht(ze,"ledgers",e.id,"transactions",S.id),he),B("Transaction updated successfully")):(await Ts(Ft(ze,"ledgers",e.id,"transactions"),he),B("Transaction added successfully")),te(),_(!1),C(null),await K()}catch(he){console.error("Error adding/updating transaction:",he),A("Failed to add/update transaction")}},oe=async Z=>{if(!t()){A("You do not have permission to delete transactions");return}try{await nf(Ht(ze,"ledgers",e.id,"transactions",Z)),B("Transaction deleted successfully"),await K()}catch(he){console.error("Error deleting transaction:",he),A("Failed to delete transaction")}},we=async()=>{if(!(!t()||V.length===0)&&window.confirm(`Are you sure you want to delete ${V.length} selected transactions?`))try{A("");const Z=500,he=[];for(let _e=0;_e<V.length;_e+=Z){const pe=Vv(ze);V.slice(_e,_e+Z).forEach(Ue=>{const We=Ht(ze,"ledgers",e.id,"transactions",Ue);pe.delete(We)}),he.push(pe)}for(const _e of he)await _e.commit();B(`Deleted ${V.length} transactions`),$([]),await K()}catch(Z){console.error("Error batch deleting transactions:",Z),A("Failed to delete transactions")}},Pe=async()=>{if(!(!t()||V.length===0))try{A("");const Z={};ie.categoryId&&(Z.categoryId=ie.categoryId),ie.includeInBudget!==null&&(Z.includeInBudget=ie.includeInBudget);const he=500,_e=[];for(let pe=0;pe<V.length;pe+=he){const Ae=Vv(ze);V.slice(pe,pe+he).forEach(We=>{const Oe=Ht(ze,"ledgers",e.id,"transactions",We);Ae.update(Oe,Z)}),_e.push(Ae)}for(const pe of _e)await pe.commit();B(`Updated ${V.length} transactions`),$([]),W(!1),q({categoryId:"",includeInBudget:null}),await K()}catch(Z){console.error("Error batch updating transactions:",Z),A("Failed to update transactions")}},ke=Z=>{C(Z),N(!0),U(Z.id),_(!0),L({...Z,date:Z.date instanceof Date?Z.date.toISOString().split("T")[0]:Z.date,splitWith:Z.splitWith||[],splitAmounts:Z.splitAmounts||{}});const _e=d.filter(pe=>pe.uid!==(n==null?void 0:n.uid)).map(pe=>pe.uid);Z.splitWith.length===0?G("none"):Z.splitWith.length===_e.length&&_e.every(pe=>Z.splitWith.includes(pe))?G("everyone"):G("individuals")},be=Z=>{$(he=>he.includes(Z)?he.filter(_e=>_e!==Z):[...he,Z])},De=()=>{V.length===i.length?$([]):$(i.map(Z=>Z.id))},ut=Z=>{L(he=>{const _e=he.splitWith||[],pe=_e.includes(Z)?_e.filter(Ae=>Ae!==Z):[..._e,Z];return setTimeout(()=>{Qe(pe)},0),{...he,splitWith:pe,splitType:pe.length>0?"equal":"none"}})},Ze=Z=>{if(G(Z),Z==="none")L(he=>({...he,splitType:"none",splitWith:[]}));else if(Z==="everyone"){const he=d.filter(_e=>_e.uid!==(n==null?void 0:n.uid)).map(_e=>_e.uid);L(_e=>({..._e,splitType:"equal",splitWith:he}))}else Z==="individuals"&&L(he=>({...he,splitType:he.splitWith&&he.splitWith.length>0?"equal":"none"}))},Qe=Z=>{const _e=d.filter(pe=>pe.uid!==(n==null?void 0:n.uid)).map(pe=>pe.uid);Z.length===0?G("none"):Z.length===_e.length&&_e.every(pe=>Z.includes(pe))?G("everyone"):G("individuals")},ye=d.length>1;return w.useEffect(()=>{e&&Promise.all([K(),ve(),z()]).finally(()=>v(!1))},[e]),w.useEffect(()=>{n&&L(Z=>({...Z,paidBy:n.uid}))},[n]),m?g.jsx("div",{className:"p-6",children:"Loading transactions..."}):e?g.jsxs("div",{className:"p-6 space-y-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Transactions"}),g.jsx("div",{className:"flex space-x-2",children:t()&&g.jsxs(Le,{onClick:()=>_(!0),className:"flex items-center space-x-2",children:[g.jsx(ic,{className:"h-4 w-4"}),g.jsx("span",{children:"Add Transaction"})]})})]}),I&&g.jsx(Jt,{variant:"destructive",children:g.jsx(en,{children:I})}),j&&g.jsx(Jt,{children:g.jsx(en,{children:j})}),(b||S)&&g.jsxs(Et,{children:[g.jsx(It,{children:g.jsx(kt,{children:S?"Edit Transaction":"Add New Transaction"})}),g.jsx(Tt,{children:g.jsxs("form",{onSubmit:me,className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx(tt,{htmlFor:"amount",children:"Amount"}),g.jsx(Xt,{id:"amount",type:"number",step:"0.01",value:D.amount,onChange:Z=>L({...D,amount:Z.target.value}),required:!0})]}),g.jsxs("div",{children:[g.jsx(tt,{htmlFor:"type",children:"Type"}),g.jsxs(ys,{value:D.type,onValueChange:Z=>L({...D,type:Z}),children:[g.jsx(_s,{children:g.jsx(vs,{})}),g.jsxs(bs,{children:[g.jsx(Kn,{value:"expense",children:"Expense"}),g.jsx(Kn,{value:"income",children:"Income"})]})]})]}),g.jsxs("div",{children:[g.jsx(tt,{htmlFor:"description",children:"Description"}),g.jsx(Xt,{id:"description",type:"text",value:D.description,onChange:Z=>L({...D,description:Z.target.value}),required:!0})]}),g.jsxs("div",{children:[g.jsx(tt,{htmlFor:"category",children:"Category"}),g.jsxs(ys,{value:D.categoryId,onValueChange:Z=>L({...D,categoryId:Z}),children:[g.jsx(_s,{children:g.jsx(vs,{placeholder:"Select a category"})}),g.jsx(bs,{children:o.filter(Z=>Z.type===D.type).map(Z=>g.jsx(Kn,{value:Z.id,children:Z.name},Z.id))})]})]}),g.jsxs("div",{children:[g.jsx(tt,{htmlFor:"date",children:"Date"}),g.jsx(Xt,{id:"date",type:"date",value:D.date,onChange:Z=>L({...D,date:Z.target.value}),required:!0})]}),g.jsxs("div",{children:[g.jsx(tt,{htmlFor:"paymentMethod",children:"Payment Method"}),g.jsx(Xt,{id:"paymentMethod",type:"text",value:D.paymentMethod,onChange:Z=>L({...D,paymentMethod:Z.target.value})})]}),g.jsxs("div",{className:"md:col-span-2",children:[g.jsx(tt,{htmlFor:"notes",children:"Notes"}),g.jsx(q2,{id:"notes",value:D.notes,onChange:Z=>L({...D,notes:Z.target.value})})]}),g.jsxs("div",{className:"md:col-span-2 flex items-center space-x-2",children:[g.jsx(qh,{id:"includeInBudget",checked:D.includeInBudget,onCheckedChange:Z=>L({...D,includeInBudget:Z})}),g.jsx(tt,{htmlFor:"includeInBudget",children:"Include in Budget"})]})]}),ye&&D.type==="expense"&&g.jsxs("div",{className:"space-y-4 border p-4 rounded-md",children:[g.jsx("h3",{className:"text-lg font-semibold",children:"Split Expense"}),g.jsxs("div",{children:[g.jsx(tt,{htmlFor:"paidBy",children:"Paid By"}),g.jsxs(ys,{value:D.paidBy,onValueChange:Z=>L({...D,paidBy:Z}),children:[g.jsx(_s,{children:g.jsx(vs,{placeholder:"Select payer"})}),g.jsx(bs,{children:d.map(Z=>g.jsx(Kn,{value:Z.uid,children:g.jsx(Co,{user:Z})},Z.uid))})]})]}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsx(Le,{type:"button",variant:P==="none"?"default":"outline",onClick:()=>Ze("none"),children:"Don't Split"}),g.jsx(Le,{type:"button",variant:P==="everyone"?"default":"outline",onClick:()=>Ze("everyone"),children:"Split Equally (Everyone Else)"}),g.jsx(Le,{type:"button",variant:P==="individuals"?"default":"outline",onClick:()=>Ze("individuals"),children:"Split with Individuals"})]}),P==="individuals"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx(tt,{children:"Select Members to Split With:"}),d.filter(Z=>Z.uid!==D.paidBy).map(Z=>g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(qh,{id:`split-with-${Z.uid}`,checked:(D.splitWith||[]).includes(Z.uid),onCheckedChange:()=>ut(Z.uid)}),g.jsx(tt,{htmlFor:`split-with-${Z.uid}`,children:g.jsx(Co,{user:Z})})]},Z.uid))]}),D.splitType==="equal"&&(D.splitWith||[]).length>0&&g.jsxs("div",{className:"border-t pt-4 mt-4",children:[g.jsx("h4",{className:"font-semibold",children:"Split Details:"}),g.jsxs("p",{children:["Total Amount: ",rm(D.amount||0,e==null?void 0:e.currency)]}),g.jsxs("p",{children:["Paid By: ",g.jsx(Co,{user:d.find(Z=>Z.uid===D.paidBy)})]}),g.jsxs("p",{children:["Splitting with ",(D.splitWith||[]).length," other(s):"]}),g.jsxs("ul",{children:[(D.splitWith||[]).map(Z=>{const he=d.find(pe=>pe.uid===Z),_e=rm(D.amount/((D.splitWith||[]).length+1),e==null?void 0:e.currency);return g.jsxs("li",{children:["- ",g.jsx(Co,{user:he}),": ",_e]},Z)}),g.jsxs("li",{children:["- ",g.jsx(Co,{user:d.find(Z=>Z.uid===D.paidBy)})," (Payer): ",rm(D.amount-(D.splitWith||[]).length*(D.amount/((D.splitWith||[]).length+1)),e==null?void 0:e.currency)]})]})]})]}),g.jsxs("div",{className:"flex justify-end space-x-2",children:[g.jsx(Le,{type:"button",variant:"outline",onClick:()=>{_(!1),te()},children:"Cancel"}),g.jsx(Le,{type:"submit",children:S?"Update Transaction":"Add Transaction"})]})]})})]}),H&&g.jsxs(Et,{children:[g.jsxs(It,{children:[g.jsx(kt,{children:"Batch Edit Transactions"}),g.jsxs(_n,{children:["Edit ",V.length," selected transactions"]})]}),g.jsx(Tt,{children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx(tt,{htmlFor:"batchCategory",children:"Category"}),g.jsxs(ys,{value:ie.categoryId,onValueChange:Z=>q({...ie,categoryId:Z}),children:[g.jsx(_s,{children:g.jsx(vs,{placeholder:"Select a category"})}),g.jsx(bs,{children:o.map(Z=>g.jsx(Kn,{value:Z.id,children:Z.name},Z.id))})]})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(qh,{id:"batchIncludeInBudget",checked:ie.includeInBudget===!0,onCheckedChange:Z=>q({...ie,includeInBudget:Z})}),g.jsx(tt,{htmlFor:"batchIncludeInBudget",children:"Include in Budget"})]}),g.jsxs("div",{className:"flex justify-end space-x-2",children:[g.jsx(Le,{type:"button",variant:"outline",onClick:()=>{W(!1),q({categoryId:"",includeInBudget:null})},children:"Cancel"}),g.jsxs(Le,{onClick:Pe,children:["Update ",V.length," Transactions"]})]})]})})]}),g.jsxs(Et,{children:[g.jsxs(It,{children:[g.jsx(kt,{children:"All Transactions"}),g.jsx(_n,{children:"Manage your ledger's financial records."})]}),g.jsx(Tt,{children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx(Le,{variant:"outline",onClick:De,children:V.length===i.length?"Deselect All":"Select All"}),V.length>0&&g.jsxs("div",{className:"flex space-x-2",children:[g.jsxs(Le,{variant:"outline",onClick:()=>W(!0),className:"flex items-center space-x-2",children:[g.jsx(sc,{className:"h-4 w-4"}),g.jsxs("span",{children:["Batch Edit (",V.length,")"]})]}),g.jsxs(Le,{variant:"destructive",onClick:we,children:["Delete Selected (",V.length,")"]})]})]}),i.length===0?g.jsx("p",{children:"No transactions found. Add one above!"}):g.jsx("div",{className:"space-y-4",children:(()=>{const Z={};return i.forEach(_e=>{const pe=new Date(_e.date),Ae=`${pe.getFullYear()}-${String(pe.getMonth()+1).padStart(2,"0")}`;Z[Ae]||(Z[Ae]=[]),Z[Ae].push(_e)}),Object.keys(Z).sort((_e,pe)=>pe.localeCompare(_e)).map(_e=>{const pe=Z[_e],[Ae,Ue]=_e.split("-"),We=new Date(Ae,Ue-1).toLocaleDateString("en-US",{year:"numeric",month:"long"});return g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center my-6",children:[g.jsx("div",{className:"flex-grow border-t border-gray-300"}),g.jsx("div",{className:"mx-4 px-3 py-1 bg-gray-100 text-gray-600 text-sm font-medium rounded-full",children:We}),g.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),g.jsx("div",{className:"space-y-3",children:pe.map(Oe=>{const Ge=o.find(xt=>xt.id===Oe.categoryId),Lt=d.find(xt=>xt.uid===Oe.paidBy),Kt=d.filter(xt=>(Oe.splitWith||[]).includes(xt.uid));return g.jsxs("div",{className:"border p-4 rounded-md shadow-sm flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[g.jsx(qh,{checked:V.includes(Oe.id),onCheckedChange:()=>be(Oe.id)}),g.jsx("div",{className:"flex-1",children:g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsx("p",{className:`font-semibold ${Oe.type==="income"?"text-green-600":"text-red-600"}`,children:Oe.description}),g.jsxs("p",{className:"text-sm text-gray-500",children:[Ge==null?void 0:Ge.name," | ",new Date(Oe.date).toLocaleDateString()]}),Oe.type==="expense"&&Oe.splitType!=="none"&&g.jsxs("p",{className:"text-sm text-gray-500",children:["Paid by: ",g.jsx(Co,{user:Lt}),(Oe.splitWith||[]).length>0&&g.jsxs("span",{children:[", Split with: ",Kt.map(xt=>xt.displayName||xt.email).join(", ")]})]}),Oe.type==="income"&&g.jsxs("p",{className:"text-sm text-gray-500",children:["Paid to: ",g.jsx(Co,{user:Lt})]})]}),g.jsx("div",{className:"text-right",children:g.jsx("p",{className:`font-semibold text-lg ${Oe.type==="income"?"text-green-600":"text-red-600"}`,children:z8(Oe.amount,e==null?void 0:e.currency,Oe.type==="income")})})]})})]}),g.jsxs("div",{className:"flex space-x-2 ml-4",children:[g.jsx(Le,{variant:"outline",size:"sm",onClick:()=>ke(Oe),children:g.jsx(sc,{className:"h-4 w-4"})}),g.jsx(Le,{variant:"destructive",size:"sm",onClick:()=>oe(Oe.id),children:g.jsx(ac,{className:"h-4 w-4"})})]})]},Oe.id)})})]},_e)})})()})]})})]})]}):g.jsx("div",{className:"p-6",children:"Please select a ledger to view transactions."})}var T_="Progress",S_=100,[nU,X5]=Mc(T_),[rU,iU]=nU(T_),eR=w.forwardRef((n,e)=>{const{__scopeProgress:t,value:i=null,max:a,getValueLabel:o=sU,...u}=n;(a||a===0)&&!aS(a)&&console.error(aU(`${a}`,"Progress"));const d=aS(a)?a:S_;i!==null&&!oS(i,d)&&console.error(oU(`${i}`,"Progress"));const h=oS(i,d)?i:null,m=Pm(h)?o(h,d):void 0;return g.jsx(rU,{scope:t,value:h,max:d,children:g.jsx(Dt.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":Pm(h)?h:void 0,"aria-valuetext":m,role:"progressbar","data-state":rR(h,d),"data-value":h??void 0,"data-max":d,...u,ref:e})})});eR.displayName=T_;var tR="ProgressIndicator",nR=w.forwardRef((n,e)=>{const{__scopeProgress:t,...i}=n,a=iU(tR,t);return g.jsx(Dt.div,{"data-state":rR(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...i,ref:e})});nR.displayName=tR;function sU(n,e){return`${Math.round(n/e*100)}%`}function rR(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function Pm(n){return typeof n=="number"}function aS(n){return Pm(n)&&!isNaN(n)&&n>0}function oS(n,e){return Pm(n)&&!isNaN(n)&&n<=e&&n>=0}function aU(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${S_}\`.`}function oU(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${S_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var lU=eR,cU=nR;function Zv({className:n,value:e,...t}){return g.jsx(lU,{"data-slot":"progress",className:an("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",n),...t,children:g.jsx(cU,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}function uU(){const{currentUser:n}=Jn(),{currentLedger:e,canEdit:t}=Ui(),[i,a]=w.useState([]),[o,u]=w.useState([]),[d,h]=w.useState([]),[m,v]=w.useState(!0),[b,_]=w.useState(!1),[S,C]=w.useState(null),[R,N]=w.useState(""),[M,U]=w.useState(""),[V,$]=w.useState({name:"",startDate:new Date().toISOString().split("T")[0],endDate:"",totalAmount:"",timeSpan:"monthly",categories:{}}),H=(G,ie)=>{const q=new Date(G);let te=new Date(q);switch(ie){case"weekly":te.setDate(q.getDate()+6);break;case"monthly":te.setMonth(q.getMonth()+1),te.setDate(q.getDate()-1);break;case"quarterly":te.setMonth(q.getMonth()+3),te.setDate(q.getDate()-1);break;case"yearly":te.setFullYear(q.getFullYear()+1),te.setDate(q.getDate()-1);break;default:te.setMonth(q.getMonth()+1),te.setDate(q.getDate()-1)}return te.toISOString().split("T")[0]},W=async()=>{if(e)try{const G=Ft(ze,"ledgers",e.id,"budgets"),ie=fr(G,ks("startDate","desc")),q=await zn(ie),te=[];q.forEach(K=>{var z,ae;const ve=K.data();te.push({id:K.id,...ve,startDate:((z=ve.startDate)==null?void 0:z.toDate())||new Date,endDate:((ae=ve.endDate)==null?void 0:ae.toDate())||new Date})}),a(te)}catch(G){console.error("Error fetching budgets:",G),N("Failed to fetch budgets")}},I=async()=>{if(e)try{const G=Ft(ze,"ledgers",e.id,"categories"),ie=await zn(G),q=[];ie.forEach(te=>{q.push({id:te.id,...te.data()})}),u(q)}catch(G){console.error("Error fetching categories:",G)}},A=async()=>{if(e)try{const G=Ft(ze,"ledgers",e.id,"transactions"),ie=fr(G,Ii("includeInBudget","==",!0)),q=await zn(ie),te=[];q.forEach(K=>{var z;const ve=K.data();te.push({id:K.id,...ve,date:((z=ve.date)==null?void 0:z.toDate())||new Date})}),h(te)}catch(G){console.error("Error fetching transactions:",G)}},j=G=>{const ie=d.filter(K=>{const ve=K.date;return ve>=G.startDate&&ve<=G.endDate&&K.type==="expense"}),q=ie.reduce((K,ve)=>K+ve.amount,0),te={};return ie.forEach(K=>{K.categoryId&&(te[K.categoryId]=(te[K.categoryId]||0)+K.amount)}),{totalSpent:q,categorySpending:te,transactionCount:ie.length}},B=async G=>{if(G.preventDefault(),!t()){N("You do not have permission to manage budgets");return}try{N("");const ie={...V,totalAmount:parseFloat(V.totalAmount),startDate:Ut.fromDate(new Date(V.startDate)),endDate:Ut.fromDate(new Date(V.endDate)),createdAt:Ut.now(),userId:n.uid};S?(await Xr(Ht(ze,"ledgers",e.id,"budgets",S.id),ie),U("Budget updated successfully")):(await Ts(Ft(ze,"ledgers",e.id,"budgets"),ie),U("Budget created successfully")),$({name:"",startDate:new Date().toISOString().split("T")[0],endDate:"",totalAmount:"",timeSpan:"monthly",categories:{}}),_(!1),C(null),await W()}catch(ie){console.error("Error saving budget:",ie),N("Failed to save budget")}},D=async G=>{if(!t()){N("You do not have permission to delete budgets");return}try{await nf(Ht(ze,"ledgers",e.id,"budgets",G)),U("Budget deleted successfully"),await W()}catch(ie){console.error("Error deleting budget:",ie),N("Failed to delete budget")}},L=(G,ie)=>{$(q=>({...q,categories:{...q.categories,[G]:parseFloat(ie)||0}}))},P=()=>{const G=Object.values(V.categories).reduce((ie,q)=>ie+(q||0),0);return(parseFloat(V.totalAmount)||0)-G};return w.useEffect(()=>{e&&Promise.all([W(),I(),A()]).finally(()=>v(!1))},[e]),w.useEffect(()=>{if(V.startDate&&V.timeSpan){const G=H(V.startDate,V.timeSpan);$(ie=>({...ie,endDate:G}))}},[V.startDate,V.timeSpan]),m?g.jsx("div",{className:"p-6",children:"Loading budgets..."}):e?g.jsxs("div",{className:"p-6 space-y-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Budget Management"}),t()&&g.jsxs(Le,{onClick:()=>_(!0),className:"flex items-center space-x-2",children:[g.jsx(ic,{className:"h-4 w-4"}),g.jsx("span",{children:"Create Budget"})]})]}),R&&g.jsx(Jt,{variant:"destructive",children:g.jsx(en,{children:R})}),M&&g.jsx(Jt,{children:g.jsx(en,{children:M})}),(b||S)&&g.jsxs(Et,{children:[g.jsx(It,{children:g.jsx(kt,{children:S?"Edit Budget":"Create New Budget"})}),g.jsx(Tt,{children:g.jsxs("form",{onSubmit:B,className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx(tt,{htmlFor:"name",children:"Budget Name"}),g.jsx(Xt,{id:"name",value:V.name,onChange:G=>$({...V,name:G.target.value}),placeholder:"e.g., Monthly Budget - June 2025",required:!0})]}),g.jsxs("div",{children:[g.jsx(tt,{htmlFor:"timeSpan",children:"Time Span"}),g.jsxs(ys,{value:V.timeSpan,onValueChange:G=>$({...V,timeSpan:G}),children:[g.jsx(_s,{children:g.jsx(vs,{})}),g.jsxs(bs,{children:[g.jsx(Kn,{value:"weekly",children:"Weekly"}),g.jsx(Kn,{value:"monthly",children:"Monthly"}),g.jsx(Kn,{value:"quarterly",children:"Quarterly"}),g.jsx(Kn,{value:"yearly",children:"Yearly"}),g.jsx(Kn,{value:"custom",children:"Custom"})]})]})]}),g.jsxs("div",{children:[g.jsx(tt,{htmlFor:"startDate",children:"Start Date"}),g.jsx(Xt,{id:"startDate",type:"date",value:V.startDate,onChange:G=>$({...V,startDate:G.target.value}),required:!0})]}),g.jsxs("div",{children:[g.jsx(tt,{htmlFor:"endDate",children:"End Date"}),g.jsx(Xt,{id:"endDate",type:"date",value:V.endDate,onChange:G=>$({...V,endDate:G.target.value}),disabled:V.timeSpan!=="custom",required:!0})]}),g.jsxs("div",{className:"md:col-span-2",children:[g.jsx(tt,{htmlFor:"totalAmount",children:"Total Budget Amount"}),g.jsx(Xt,{id:"totalAmount",type:"number",step:"0.01",value:V.totalAmount,onChange:G=>$({...V,totalAmount:G.target.value}),required:!0})]})]}),g.jsxs("div",{children:[g.jsx(tt,{children:"Category Budget Allocation"}),g.jsxs("div",{className:"mt-2 space-y-2",children:[o.filter(G=>G.type==="expense").map(G=>g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(tt,{className:"w-32 text-sm",children:G.name}),g.jsx(Xt,{type:"number",step:"0.01",value:V.categories[G.id]||"",onChange:ie=>L(G.id,ie.target.value),placeholder:"0.00",className:"w-32"})]},G.id)),g.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[g.jsx(tt,{className:"w-32 text-sm font-medium",children:"Remaining:"}),g.jsxs("span",{className:`text-sm font-medium ${P()<0?"text-red-600":"text-green-600"}`,children:["$",P().toFixed(2)]})]})]})]}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsx(Le,{type:"submit",children:S?"Update Budget":"Create Budget"}),g.jsx(Le,{type:"button",variant:"outline",onClick:()=>{_(!1),C(null),$({name:"",startDate:new Date().toISOString().split("T")[0],endDate:"",totalAmount:"",timeSpan:"monthly",categories:{}})},children:"Cancel"})]})]})})]}),g.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:i.length===0?g.jsx(Et,{className:"lg:col-span-2",children:g.jsxs(Tt,{className:"text-center py-8",children:[g.jsx(rO,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No budgets created yet"}),g.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first budget to start tracking your spending goals."}),t()&&g.jsx(Le,{onClick:()=>_(!0),children:"Create Your First Budget"})]})}):i.map(G=>{const ie=j(G),q=ie.totalSpent/G.totalAmount*100,te=ie.totalSpent>G.totalAmount,K=Math.ceil((G.endDate-new Date)/(1e3*60*60*24));return g.jsxs(Et,{children:[g.jsx(It,{children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx(kt,{className:"text-lg",children:G.name}),g.jsxs(_n,{children:[G.startDate.toLocaleDateString()," - ",G.endDate.toLocaleDateString()]})]}),t()&&g.jsxs("div",{className:"flex space-x-2",children:[g.jsx(Le,{variant:"ghost",size:"sm",onClick:()=>{C(G),$({name:G.name,startDate:G.startDate.toISOString().split("T")[0],endDate:G.endDate.toISOString().split("T")[0],totalAmount:G.totalAmount.toString(),timeSpan:G.timeSpan||"custom",categories:G.categories||{}})},children:g.jsx(sc,{className:"h-4 w-4"})}),g.jsx(Le,{variant:"ghost",size:"sm",onClick:()=>D(G.id),children:g.jsx(ac,{className:"h-4 w-4"})})]})]})}),g.jsxs(Tt,{className:"space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-sm font-medium",children:"Budget Progress"}),g.jsxs(Ur,{variant:te?"destructive":q>80?"secondary":"default",children:[q.toFixed(1),"%"]})]}),g.jsx(Zv,{value:Math.min(q,100),className:"h-2"}),g.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[g.jsxs("span",{children:["$",ie.totalSpent.toFixed(2)," spent"]}),g.jsxs("span",{children:["$",G.totalAmount.toFixed(2)," budget"]})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[g.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",(G.totalAmount-ie.totalSpent).toFixed(2)]}),g.jsx("div",{className:"text-sm text-gray-600",children:"Remaining"})]}),g.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[g.jsx("div",{className:"text-lg font-semibold text-gray-900",children:K>0?K:0}),g.jsx("div",{className:"text-sm text-gray-600",children:"Days Left"})]})]}),G.categories&&Object.keys(G.categories).length>0&&g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-medium mb-2",children:"Category Breakdown"}),g.jsx("div",{className:"space-y-2",children:Object.entries(G.categories).map(([ve,z])=>{const ae=o.find(we=>we.id===ve),me=ie.categorySpending[ve]||0,oe=me/z*100;return ae?g.jsxs("div",{className:"space-y-1",children:[g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{children:ae.name}),g.jsxs("span",{children:["$",me.toFixed(2)," / $",z.toFixed(2)]})]}),g.jsx(Zv,{value:Math.min(oe,100),className:"h-1"})]},ve):null})})]}),g.jsxs("div",{className:"text-sm text-gray-600",children:[ie.transactionCount," transactions in this period"]})]})]},G.id)})})]}):g.jsx("div",{className:"p-6",children:"Please select a ledger to view budgets."})}/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */var dU=function(){var n={base:"https://twemoji.maxcdn.com/v/14.0.2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:U,toCodePoint:W},onerror:function(){this.parentNode&&this.parentNode.replaceChild(h(this.alt,!1),this)},parse:V,replace:$,test:H},e={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},t=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd\udec3-\udec5\udef0-\udef6]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedd-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec2\uded0-\uded9\udee0-\udee7]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,i=/\uFE0F/g,a="",o=/[&<>'"]/g,u=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,d=String.fromCharCode;return n;function h(I,A){return document.createTextNode(A?I.replace(i,""):I)}function m(I){return I.replace(o,R)}function v(I,A){return"".concat(A.base,A.size,"/",I,A.ext)}function b(I,A){for(var j=I.childNodes,B=j.length,D,L;B--;)D=j[B],L=D.nodeType,L===3?A.push(D):L===1&&!("ownerSVGElement"in D)&&!u.test(D.nodeName.toLowerCase())&&b(D,A);return A}function _(I){return W(I.indexOf(a)<0?I.replace(i,""):I)}function S(I,A){for(var j=b(I,[]),B=j.length,D,L,P,G,ie,q,te,K,ve,z,ae,me,oe;B--;){for(P=!1,G=document.createDocumentFragment(),ie=j[B],q=ie.nodeValue,K=0;te=t.exec(q);){if(ve=te.index,ve!==K&&G.appendChild(h(q.slice(K,ve),!0)),ae=te[0],me=_(ae),K=ve+ae.length,oe=A.callback(me,A),me&&oe){z=new Image,z.onerror=A.onerror,z.setAttribute("draggable","false"),D=A.attributes(ae,me);for(L in D)D.hasOwnProperty(L)&&L.indexOf("on")!==0&&!z.hasAttribute(L)&&z.setAttribute(L,D[L]);z.className=A.className,z.alt=ae,z.src=oe,P=!0,G.appendChild(z)}z||G.appendChild(h(ae,!1)),z=null}P&&(K<q.length&&G.appendChild(h(q.slice(K),!0)),ie.parentNode.replaceChild(G,ie))}return I}function C(I,A){return $(I,function(j){var B=j,D=_(j),L=A.callback(D,A),P,G;if(D&&L){B="<img ".concat('class="',A.className,'" ','draggable="false" ','alt="',j,'"',' src="',L,'"'),P=A.attributes(j,D);for(G in P)P.hasOwnProperty(G)&&G.indexOf("on")!==0&&B.indexOf(" "+G+"=")===-1&&(B=B.concat(" ",G,'="',m(P[G]),'"'));B=B.concat("/>")}return B})}function R(I){return e[I]}function N(){return null}function M(I){return typeof I=="number"?I+"x"+I:I}function U(I){var A=typeof I=="string"?parseInt(I,16):I;return A<65536?d(A):(A-=65536,d(55296+(A>>10),56320+(A&1023)))}function V(I,A){return(!A||typeof A=="function")&&(A={callback:A}),(typeof I=="string"?C:S)(I,{callback:A.callback||v,attributes:typeof A.attributes=="function"?A.attributes:N,base:typeof A.base=="string"?A.base:n.base,ext:A.ext||n.ext,size:A.folder||M(A.size||n.size),className:A.className||n.className,onerror:A.onerror||n.onerror})}function $(I,A){return String(I).replace(t,A)}function H(I){t.lastIndex=0;var A=t.test(I);return t.lastIndex=0,A}function W(I,A){for(var j=[],B=0,D=0,L=0;L<I.length;)B=I.charCodeAt(L++),D?(j.push((65536+(D-55296<<10)+(B-56320)).toString(16)),D=0):55296<=B&&B<=56319?D=B:j.push(B.toString(16));return j.join(A||"-")}}();const fU=[{name:"Food & Dining",emoji:"",type:"expense"},{name:"Transportation",emoji:"",type:"expense"},{name:"Shopping",emoji:"",type:"expense"},{name:"Entertainment",emoji:"",type:"expense"},{name:"Bills & Utilities",emoji:"",type:"expense"},{name:"Healthcare",emoji:"",type:"expense"},{name:"Education",emoji:"",type:"expense"},{name:"Travel",emoji:"",type:"expense"},{name:"Fitness",emoji:"",type:"expense"},{name:"Personal Care",emoji:"",type:"expense"}],hU=[{name:"Salary",emoji:"",type:"income"},{name:"Freelance",emoji:"",type:"income"},{name:"Investment",emoji:"",type:"income"},{name:"Business",emoji:"",type:"income"},{name:"Rental",emoji:"",type:"income"},{name:"Gift",emoji:"",type:"income"}],mU=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];function pU(){const{currentUser:n}=Jn(),{currentLedger:e,canEdit:t}=Ui(),[i,a]=w.useState([]),[o,u]=w.useState(!0),[d,h]=w.useState(!1),[m,v]=w.useState(null),[b,_]=w.useState(""),[S,C]=w.useState(""),[R,N]=w.useState({name:"",emoji:"",type:"expense"}),M=D=>D?g.jsx("span",{dangerouslySetInnerHTML:{__html:dU.parse(D,{folder:"svg",ext:".svg",base:"https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/"})},style:{width:"20px",height:"20px",display:"inline-block"}}):null,U=async()=>{if(e)try{const D=Ft(ze,"ledgers",e.id,"categories"),L=fr(D,ks("type"),ks("name")),P=await zn(L),G=[];P.forEach(ie=>{G.push({id:ie.id,...ie.data()})}),a(G),u(!1)}catch(D){console.error("Error fetching categories:",D),_("Failed to fetch categories"),u(!1)}},V=async()=>{if(!(!e||!t()))try{const D=Ft(ze,"ledgers",e.id,"categories");for(const L of fU)await Ts(D,{...L,createdAt:new Date,createdBy:n.uid});for(const L of hU)await Ts(D,{...L,createdAt:new Date,createdBy:n.uid});await U(),C("Default categories created successfully!")}catch(D){console.error("Error creating default categories:",D),_("Failed to create default categories")}},$=async D=>{if(D.preventDefault(),!(!e||!t()))try{const L=Ft(ze,"ledgers",e.id,"categories");await Ts(L,{...R,createdAt:new Date,createdBy:n.uid}),N({name:"",emoji:"",type:"expense"}),h(!1),await U(),C("Category added successfully!")}catch(L){console.error("Error adding category:",L),_("Failed to add category")}},H=async D=>{if(D.preventDefault(),!(!m||!t()))try{const L=Ht(ze,"ledgers",e.id,"categories",m.id);await Xr(L,{name:R.name,emoji:R.emoji,type:R.type,updatedAt:new Date,updatedBy:n.uid}),v(null),N({name:"",emoji:"",type:"expense"}),await U(),C("Category updated successfully!")}catch(L){console.error("Error updating category:",L),_("Failed to update category")}},W=async D=>{if(!(!t()||!confirm("Are you sure you want to delete this category?")))try{const L=Ht(ze,"ledgers",e.id,"categories",D);await nf(L),await U(),C("Category deleted successfully!")}catch(L){console.error("Error deleting category:",L),_("Failed to delete category")}},I=D=>{v(D),N({name:D.name,emoji:D.emoji,type:D.type}),h(!1)},A=()=>{v(null),N({name:"",emoji:"",type:"expense"})};if(w.useEffect(()=>{U()},[e]),w.useEffect(()=>{if(S||b){const D=setTimeout(()=>{C(""),_("")},3e3);return()=>clearTimeout(D)}},[S,b]),o)return g.jsx("div",{className:"p-6",children:g.jsxs("div",{className:"animate-pulse space-y-6",children:[g.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2,3,4].map(D=>g.jsx("div",{className:"h-32 bg-gray-200 rounded"},D))})]})});const j=i.filter(D=>D.type==="expense"),B=i.filter(D=>D.type==="income");return g.jsxs("div",{className:"p-6 space-y-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Category Management"}),t()&&g.jsxs(Le,{onClick:()=>h(!0),className:"flex items-center space-x-2",children:[g.jsx(ic,{className:"h-4 w-4"}),g.jsx("span",{children:"Add Category"})]})]}),b&&g.jsx(Jt,{variant:"destructive",children:g.jsx(en,{children:b})}),S&&g.jsx(Jt,{children:g.jsx(en,{children:S})}),(d||m)&&g.jsxs(Et,{children:[g.jsxs(It,{children:[g.jsx(kt,{children:m?"Edit Category":"Add New Category"}),g.jsx(_n,{children:m?"Update category details":"Create a new category with emoji"})]}),g.jsx(Tt,{children:g.jsxs("form",{onSubmit:m?H:$,className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsxs("div",{children:[g.jsx(tt,{htmlFor:"name",children:"Category Name"}),g.jsx(Xt,{id:"name",value:R.name,onChange:D=>N({...R,name:D.target.value}),placeholder:"Enter category name",required:!0})]}),g.jsxs("div",{children:[g.jsx(tt,{htmlFor:"type",children:"Type"}),g.jsxs(ys,{value:R.type,onValueChange:D=>N({...R,type:D}),children:[g.jsx(_s,{children:g.jsx(vs,{})}),g.jsxs(bs,{children:[g.jsx(Kn,{value:"expense",children:"Expense"}),g.jsx(Kn,{value:"income",children:"Income"})]})]})]}),g.jsxs("div",{children:[g.jsx(tt,{htmlFor:"emoji",children:"Emoji"}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(Xt,{id:"emoji",value:R.emoji,onChange:D=>N({...R,emoji:D.target.value}),placeholder:"",className:"w-20"}),g.jsx("div",{className:"flex items-center space-x-1",children:M(R.emoji)})]})]})]}),g.jsxs("div",{children:[g.jsx(tt,{children:"Popular Emojis"}),g.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:mU.map((D,L)=>g.jsx("button",{type:"button",onClick:()=>N({...R,emoji:D}),className:"p-2 border rounded hover:bg-gray-100 transition-colors",children:M(D)},L))})]}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsxs(Le,{type:"submit",className:"flex items-center space-x-2",children:[g.jsx(d0,{className:"h-4 w-4"}),g.jsxs("span",{children:[m?"Update":"Add"," Category"]})]}),g.jsxs(Le,{type:"button",variant:"outline",onClick:()=>{h(!1),A()},className:"flex items-center space-x-2",children:[g.jsx(oc,{className:"h-4 w-4"}),g.jsx("span",{children:"Cancel"})]})]})]})})]}),i.length===0?g.jsx(Et,{children:g.jsxs(Tt,{className:"text-center py-8",children:[g.jsx(XS,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Categories Found"}),g.jsx("p",{className:"text-gray-600 mb-4",children:"Create categories to organize your transactions"}),t()&&g.jsxs(Le,{onClick:V,className:"flex items-center space-x-2 mx-auto",children:[g.jsx(ic,{className:"h-4 w-4"}),g.jsx("span",{children:"Create Default Categories"})]})]})}):g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs(Et,{children:[g.jsx(It,{children:g.jsxs(kt,{className:"flex items-center space-x-2",children:[g.jsx("span",{children:""}),g.jsx("span",{children:"Expense Categories"}),g.jsx(Ur,{variant:"secondary",children:j.length})]})}),g.jsx(Tt,{children:g.jsx("div",{className:"space-y-2",children:j.map(D=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[M(D.emoji),g.jsx("span",{className:"font-medium",children:D.name})]}),t()&&g.jsxs("div",{className:"flex space-x-2",children:[g.jsx(Le,{size:"sm",variant:"ghost",onClick:()=>I(D),className:"h-8 w-8 p-0",children:g.jsx(sc,{className:"h-4 w-4"})}),g.jsx(Le,{size:"sm",variant:"ghost",onClick:()=>W(D.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:g.jsx(ac,{className:"h-4 w-4"})})]})]},D.id))})})]}),g.jsxs(Et,{children:[g.jsx(It,{children:g.jsxs(kt,{className:"flex items-center space-x-2",children:[g.jsx("span",{children:""}),g.jsx("span",{children:"Income Categories"}),g.jsx(Ur,{variant:"secondary",children:B.length})]})}),g.jsx(Tt,{children:g.jsx("div",{className:"space-y-2",children:B.map(D=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[M(D.emoji),g.jsx("span",{className:"font-medium",children:D.name})]}),t()&&g.jsxs("div",{className:"flex space-x-2",children:[g.jsx(Le,{size:"sm",variant:"ghost",onClick:()=>I(D),className:"h-8 w-8 p-0",children:g.jsx(sc,{className:"h-4 w-4"})}),g.jsx(Le,{size:"sm",variant:"ghost",onClick:()=>W(D.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:g.jsx(ac,{className:"h-4 w-4"})})]})]},D.id))})})]})]})]})}function gU({ledger:n,onClose:e}){const{currentUser:t}=Jn(),{refreshLedgers:i}=Ui(),[a,o]=w.useState(!1),[u,d]=w.useState(""),[h,m]=w.useState(""),[v,b]=w.useState([]),[_,S]=w.useState([]),[C,R]=w.useState({email:"",role:"member"}),N=async()=>{if(n)try{const H=Ft(ze,"invitations"),W=fr(H,Ii("ledgerId","==",n.id),Ii("status","==","pending"),ks("createdAt","desc")),I=await zn(W),A=[];I.forEach(j=>{A.push({id:j.id,...j.data()})}),b(A)}catch(H){console.error("Error fetching invitations:",H)}},M=async()=>{if(!(!n||!n.members))try{const H=Ft(ze,"users"),W=Object.keys(n.members);if(W.length===0)return;const I=[];for(const A of W)try{(await zn(fr(H,Ii("__name__","==",A)))).forEach(B=>{I.push({id:B.id,...B.data(),role:n.members[A]})})}catch{I.push({id:A,email:"Unknown User",displayName:"Unknown User",role:n.members[A]})}S(I)}catch(H){console.error("Error fetching members:",H)}},U=async()=>{if(!t||!n||!C.email.trim())return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(C.email)){d("Please enter a valid email address");return}if(_.find(A=>A.email.toLowerCase()===C.email.toLowerCase())){d("This user is already a member of this ledger");return}if(v.find(A=>A.inviteeEmail.toLowerCase()===C.email.toLowerCase())){d("An invitation has already been sent to this email address");return}try{o(!0),d(""),await Ts(Ft(ze,"invitations"),{ledgerId:n.id,ledgerName:n.name,inviterId:t.uid,inviterEmail:t.email,inviterName:t.displayName||t.email,inviteeEmail:C.email.toLowerCase(),role:C.role,status:"pending",createdAt:new Date,expiresAt:new Date(Date.now()+7*24*60*60*1e3)}),await N(),m("Invitation sent successfully!"),R({email:"",role:"member"})}catch(A){console.error("Error sending invitation:",A),d("Failed to send invitation")}finally{o(!1)}},V=async H=>{try{o(!0),await nf(Ht(ze,"invitations",H)),await N(),m("Invitation cancelled successfully!")}catch(W){console.error("Error cancelling invitation:",W),d("Failed to cancel invitation")}finally{o(!1)}},$=async H=>{if(confirm("Are you sure you want to remove this member from the ledger?"))try{o(!0);const W={...n.members};delete W[H],await Xr(Ht(ze,"ledgers",n.id),{members:W,updatedAt:new Date}),await i(),await M(),m("Member removed successfully!")}catch(W){console.error("Error removing member:",W),d("Failed to remove member")}finally{o(!1)}};return w.useEffect(()=>{N(),M()},[n]),w.useEffect(()=>{if(h||u){const H=setTimeout(()=>{m(""),d("")},3e3);return()=>clearTimeout(H)}},[h,u]),g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:g.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:g.jsxs("div",{className:"p-6",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Manage Ledger Access: ",n==null?void 0:n.name]}),g.jsx(Le,{variant:"ghost",size:"sm",onClick:e,children:g.jsx(oc,{className:"h-4 w-4"})})]}),u&&g.jsx(Jt,{variant:"destructive",className:"mb-4",children:g.jsx(en,{children:u})}),h&&g.jsx(Jt,{className:"mb-4",children:g.jsx(en,{children:h})}),g.jsxs(Et,{className:"mb-6",children:[g.jsxs(It,{children:[g.jsxs(kt,{className:"flex items-center",children:[g.jsx(e1,{className:"h-5 w-5 mr-2"}),"Invite New User"]}),g.jsx(_n,{children:"Send an invitation to add a new member to this ledger."})]}),g.jsxs(Tt,{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx(tt,{htmlFor:"email",children:"Email Address"}),g.jsx(Xt,{id:"email",type:"email",value:C.email,onChange:H=>R(W=>({...W,email:H.target.value})),placeholder:"user@example.com"})]}),g.jsxs("div",{children:[g.jsx(tt,{htmlFor:"role",children:"Role"}),g.jsxs(ys,{value:C.role,onValueChange:H=>R(W=>({...W,role:H})),children:[g.jsx(_s,{children:g.jsx(vs,{placeholder:"Select role"})}),g.jsxs(bs,{children:[g.jsx(Kn,{value:"member",children:"Member"}),g.jsx(Kn,{value:"owner",children:"Owner"})]})]})]}),g.jsxs(Le,{onClick:U,disabled:a||!C.email.trim(),className:"w-full",children:[g.jsx(WD,{className:"h-4 w-4 mr-2"}),"Send Invitation"]})]})]}),g.jsxs(Et,{className:"mb-6",children:[g.jsx(It,{children:g.jsxs(kt,{className:"flex items-center",children:[g.jsx(n1,{className:"h-5 w-5 mr-2"}),"Current Members (",_.length,")"]})}),g.jsx(Tt,{children:g.jsx("div",{className:"space-y-3",children:_.map(H=>g.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx(yc,{user:H,size:"sm"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium",children:H.displayName||"Unknown User"}),g.jsx("p",{className:"text-sm text-gray-600",children:H.email})]})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(Ur,{variant:H.role==="owner"?"default":"secondary",children:H.role}),H.id!==t.uid&&H.role!=="owner"&&g.jsx(Le,{size:"sm",variant:"destructive",onClick:()=>$(H.id),disabled:a,children:g.jsx(ac,{className:"h-3 w-3"})})]})]},H.id))})})]}),v.length>0&&g.jsxs(Et,{children:[g.jsx(It,{children:g.jsxs(kt,{className:"flex items-center",children:[g.jsx(cv,{className:"h-5 w-5 mr-2"}),"Pending Invitations (",v.length,")"]})}),g.jsx(Tt,{children:g.jsx("div",{className:"space-y-3",children:v.map(H=>g.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx(WS,{className:"h-5 w-5 text-gray-400"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium",children:H.inviteeEmail}),g.jsxs("p",{className:"text-sm text-gray-600",children:["Invited ",new Date(H.createdAt.toDate()).toLocaleDateString()]})]})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(Ur,{variant:"secondary",children:H.role}),g.jsx(Ur,{variant:"outline",children:"Pending"}),g.jsx(Le,{size:"sm",variant:"destructive",onClick:()=>V(H.id),disabled:a,children:g.jsx(oc,{className:"h-3 w-3"})})]})]},H.id))})})]})]})})})}const yU=[{value:"CNY",label:" Chinese Yuan (CNY)"},{value:"USD",label:"$ US Dollar (USD)"},{value:"EUR",label:" Euro (EUR)"},{value:"GBP",label:" British Pound (GBP)"},{value:"JPY",label:" Japanese Yen (JPY)"}];function vU(){const{currentUser:n}=Jn(),{ledgers:e,currentLedger:t,switchLedger:i,refreshLedgers:a,isOwner:o}=Ui(),[u,d]=w.useState(!1),[h,m]=w.useState(!1),[v,b]=w.useState(null),[_,S]=w.useState(!1),[C,R]=w.useState(null),[N,M]=w.useState(""),[U,V]=w.useState(""),[$,H]=w.useState({name:"",currency:"CNY",description:""}),W=async()=>{if(!(!n||!$.name.trim()))try{d(!0),M("");const G=await Ts(Ft(ze,"ledgers"),{name:$.name.trim(),description:$.description.trim(),currency:$.currency,ownerId:n.uid,createdAt:new Date,members:{[n.uid]:"owner"}});await a(),V("Ledger created successfully!"),m(!1),H({name:"",currency:"CNY",description:""})}catch(G){console.error("Error creating ledger:",G),M("Failed to create ledger")}finally{d(!1)}},I=async()=>{if(!(!v||!$.name.trim()))try{d(!0),M(""),await Xr(Ht(ze,"ledgers",v.id),{name:$.name.trim(),description:$.description.trim(),currency:$.currency,updatedAt:new Date}),await a(),V("Ledger updated successfully!"),b(null),H({name:"",currency:"CNY",description:""})}catch(G){console.error("Error updating ledger:",G),M("Failed to update ledger")}finally{d(!1)}},A=async G=>{if(confirm("Are you sure you want to delete this ledger? This action cannot be undone."))try{d(!0),M(""),await nf(Ht(ze,"ledgers",G)),await a(),V("Ledger deleted successfully!")}catch(ie){console.error("Error deleting ledger:",ie),M("Failed to delete ledger")}finally{d(!1)}},j=G=>{b(G),H({name:G.name,currency:G.currency||"CNY",description:G.description||""}),m(!1)},B=()=>{b(null),m(!1),H({name:"",currency:"CNY",description:""})},D=G=>!G.members||!n?null:G.members[n.uid]||null,L=G=>G.members?Object.keys(G.members).length:0,P=G=>G.members?Object.keys(G.members).map(ie=>({uid:ie,displayName:ie===(n==null?void 0:n.uid)?n.displayName||n.email:`User ${ie.slice(0,8)}`,email:ie===(n==null?void 0:n.uid)?n.email:`${ie.slice(0,8)}@example.com`})):[];return w.useEffect(()=>{if(U||N){const G=setTimeout(()=>{V(""),M("")},3e3);return()=>clearTimeout(G)}},[U,N]),g.jsxs("div",{className:"p-6 space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Ledger Management"}),g.jsxs(Le,{onClick:()=>m(!0),className:"bg-blue-500 hover:bg-blue-600",children:[g.jsx(ic,{className:"h-4 w-4 mr-2"}),"Create Ledger"]})]}),N&&g.jsx(Jt,{variant:"destructive",children:g.jsx(en,{children:N})}),U&&g.jsx(Jt,{children:g.jsx(en,{children:U})}),(h||v)&&g.jsxs(Et,{children:[g.jsxs(It,{children:[g.jsx(kt,{children:v?"Edit Ledger":"Create New Ledger"}),g.jsx(_n,{children:v?"Update the ledger details below.":"Create a new ledger to organize your expenses separately."})]}),g.jsxs(Tt,{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx(tt,{htmlFor:"name",children:"Ledger Name"}),g.jsx(Xt,{id:"name",value:$.name,onChange:G=>H(ie=>({...ie,name:G.target.value})),placeholder:"e.g., Personal Expenses, Business Travel, Family Budget"})]}),g.jsxs("div",{children:[g.jsx(tt,{htmlFor:"currency",children:"Currency"}),g.jsxs(ys,{value:$.currency,onValueChange:G=>H(ie=>({...ie,currency:G})),children:[g.jsx(_s,{children:g.jsx(vs,{placeholder:"Select currency"})}),g.jsx(bs,{children:yU.map(G=>g.jsx(Kn,{value:G.value,children:G.label},G.value))})]})]}),g.jsxs("div",{children:[g.jsx(tt,{htmlFor:"description",children:"Description (Optional)"}),g.jsx(Xt,{id:"description",value:$.description,onChange:G=>H(ie=>({...ie,description:G.target.value})),placeholder:"Brief description of this ledger's purpose"})]}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsxs(Le,{onClick:v?I:W,disabled:u||!$.name.trim(),children:[g.jsx(d0,{className:"h-4 w-4 mr-2"}),v?"Update":"Create"]}),g.jsxs(Le,{variant:"outline",onClick:B,children:[g.jsx(oc,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})]}),g.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(G=>{const ie=D(G),q=L(G),te=(t==null?void 0:t.id)===G.id;return g.jsxs(Et,{className:`cursor-pointer transition-all ${te?"ring-2 ring-blue-500 bg-blue-50":"hover:shadow-md"}`,onClick:()=>i(G.id),children:[g.jsx(It,{className:"pb-3",children:g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{className:"flex-1",children:[g.jsxs(kt,{className:"text-lg flex items-center",children:[g.jsx(lm,{className:"h-5 w-5 mr-2"}),G.name,te&&g.jsx(Ur,{variant:"secondary",className:"ml-2",children:"Current"})]}),G.description&&g.jsx(_n,{className:"mt-1",children:G.description})]}),ie==="owner"&&g.jsx(PD,{className:"h-4 w-4 text-yellow-500"})]})}),g.jsxs(Tt,{children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"text-gray-600",children:"Currency:"}),g.jsx("span",{className:"font-medium",children:G.currency||"CNY"})]}),g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"text-gray-600",children:"Members:"}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(U8,{users:P(G),size:"xs",maxDisplay:3}),g.jsx("span",{className:"font-medium text-xs",children:q})]})]}),g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"text-gray-600",children:"Role:"}),g.jsx(Ur,{variant:ie==="owner"?"default":"secondary",children:ie})]})]}),ie==="owner"&&g.jsxs("div",{className:"flex space-x-2 mt-4 pt-3 border-t",children:[g.jsxs(Le,{size:"sm",variant:"outline",onClick:K=>{K.stopPropagation(),j(G)},children:[g.jsx(sc,{className:"h-3 w-3 mr-1"}),"Edit"]}),g.jsxs(Le,{size:"sm",variant:"outline",onClick:K=>{K.stopPropagation(),R(G),S(!0)},children:[g.jsx(e1,{className:"h-3 w-3 mr-1"}),"Invite"]}),e.length>1&&g.jsxs(Le,{size:"sm",variant:"destructive",onClick:K=>{K.stopPropagation(),A(G.id)},children:[g.jsx(ac,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]})]},G.id)})}),e.length===0&&g.jsx(Et,{children:g.jsxs(Tt,{className:"text-center py-8",children:[g.jsx(lm,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Ledgers Found"}),g.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first ledger to start tracking expenses."}),g.jsxs(Le,{onClick:()=>m(!0),children:[g.jsx(ic,{className:"h-4 w-4 mr-2"}),"Create Your First Ledger"]})]})}),_&&C&&g.jsx(gU,{ledger:C,onClose:()=>{S(!1),R(null)}})]})}function _U(){const{currentUser:n}=Jn(),[e,t]=w.useState(!1),[i,a]=w.useState(""),[o,u]=w.useState(""),[d,h]=w.useState({displayName:"",profileColor:""}),m={...n,displayName:d.displayName,profileColor:d.profileColor},v=async()=>{if(n)try{t(!0);const C=await pp(Ht(ze,"users",n.uid)),R=C.exists()?C.data():{};h({displayName:n.displayName||R.displayName||"",profileColor:R.profileColor||""})}catch(C){console.error("Error loading profile data:",C),a("Failed to load profile data")}finally{t(!1)}},b=async()=>{if(n)try{if(t(!0),a(""),!d.displayName.trim()){a("Display name is required");return}if(d.profileColor&&!V8(d.profileColor)){a("Invalid color selected");return}await z1(n,{displayName:d.displayName.trim()}),await Xr(Ht(ze,"users",n.uid),{displayName:d.displayName.trim(),profileColor:d.profileColor||null,updatedAt:new Date}),u("Profile updated successfully!")}catch(C){console.error("Error saving profile:",C),a("Failed to save profile changes")}finally{t(!1)}},_=()=>{const C=L8();h(R=>({...R,profileColor:C}))},S=()=>{h(C=>({...C,profileColor:""}))};return w.useEffect(()=>{v()},[n]),w.useEffect(()=>{if(o||i){const C=setTimeout(()=>{u(""),a("")},3e3);return()=>clearTimeout(C)}},[o,i]),g.jsxs(Et,{children:[g.jsxs(It,{children:[g.jsxs(kt,{className:"flex items-center",children:[g.jsx(t1,{className:"h-5 w-5 mr-2"}),"Profile Settings"]}),g.jsx(_n,{children:"Manage your display name and profile image appearance."})]}),g.jsxs(Tt,{className:"space-y-6",children:[i&&g.jsx(Jt,{variant:"destructive",children:g.jsx(en,{children:i})}),o&&g.jsx(Jt,{children:g.jsx(en,{children:o})}),g.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[g.jsx(yc,{user:m,size:"xl"}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-medium text-lg",children:"Profile Preview"}),g.jsx("p",{className:"text-sm text-gray-600",children:"This is how your profile will appear to other users"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(tt,{htmlFor:"displayName",children:"Display Name"}),g.jsx(Xt,{id:"displayName",value:d.displayName,onChange:C=>h(R=>({...R,displayName:C.target.value})),placeholder:"Enter your display name",disabled:e}),g.jsx("p",{className:"text-xs text-gray-500",children:"This name will be visible to other users in shared ledgers"})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx(tt,{children:"Profile Color"}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsxs(Le,{type:"button",size:"sm",variant:"outline",onClick:_,disabled:e,children:[g.jsx(KD,{className:"h-3 w-3 mr-1"}),"Random"]}),g.jsx(Le,{type:"button",size:"sm",variant:"outline",onClick:S,disabled:e,children:"Default"})]})]}),g.jsx("div",{className:"grid grid-cols-10 gap-2",children:Ea.map(C=>g.jsx("button",{type:"button",className:`
                  w-8 h-8 rounded-full border-2 transition-all
                  ${d.profileColor===C?"border-gray-900 scale-110":"border-gray-300 hover:border-gray-500"}
                `,style:{backgroundColor:C},onClick:()=>h(R=>({...R,profileColor:C})),disabled:e,title:C},C))}),g.jsx("p",{className:"text-xs text-gray-500",children:"Choose a color for your profile image background, or leave default for auto-generated color"})]}),g.jsx("div",{className:"flex justify-end",children:g.jsxs(Le,{onClick:b,disabled:e||!d.displayName.trim(),children:[g.jsx(d0,{className:"h-4 w-4 mr-2"}),e?"Saving...":"Save Changes"]})})]})]})}var Tp="Switch",[bU,J5]=Mc(Tp),[xU,wU]=bU(Tp),iR=w.forwardRef((n,e)=>{const{__scopeSwitch:t,name:i,checked:a,defaultChecked:o,required:u,disabled:d,value:h="on",onCheckedChange:m,form:v,...b}=n,[_,S]=w.useState(null),C=tn(e,V=>S(V)),R=w.useRef(!1),N=_?v||!!_.closest("form"):!0,[M,U]=jm({prop:a,defaultProp:o??!1,onChange:m,caller:Tp});return g.jsxs(xU,{scope:t,checked:M,disabled:d,children:[g.jsx(Dt.button,{type:"button",role:"switch","aria-checked":M,"aria-required":u,"data-state":lR(M),"data-disabled":d?"":void 0,disabled:d,value:h,...b,ref:C,onClick:Wt(n.onClick,V=>{U($=>!$),N&&(R.current=V.isPropagationStopped(),R.current||V.stopPropagation())})}),N&&g.jsx(oR,{control:_,bubbles:!R.current,name:i,value:h,checked:M,required:u,disabled:d,form:v,style:{transform:"translateX(-100%)"}})]})});iR.displayName=Tp;var sR="SwitchThumb",aR=w.forwardRef((n,e)=>{const{__scopeSwitch:t,...i}=n,a=wU(sR,t);return g.jsx(Dt.span,{"data-state":lR(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e})});aR.displayName=sR;var EU="SwitchBubbleInput",oR=w.forwardRef(({__scopeSwitch:n,control:e,checked:t,bubbles:i=!0,...a},o)=>{const u=w.useRef(null),d=tn(u,o),h=x_(t),m=v_(e);return w.useEffect(()=>{const v=u.current;if(!v)return;const b=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(b,"checked").set;if(h!==t&&S){const C=new Event("click",{bubbles:i});S.call(v,t),v.dispatchEvent(C)}},[h,t,i]),g.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...a,tabIndex:-1,ref:d,style:{...a.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});oR.displayName=EU;function lR(n){return n?"checked":"unchecked"}var TU=iR,SU=aR;function lS({className:n,...e}){return g.jsx(TU,{"data-slot":"switch",className:an("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:g.jsx(SU,{"data-slot":"switch-thumb",className:an("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function AU({smartCategorizationEnabled:n,setSmartCategorizationEnabled:e,debugModeEnabled:t,setDebugModeEnabled:i}){var B,D;const{currentUser:a}=Jn(),{currentLedger:o}=Ui(),[u,d]=w.useState(""),[h,m]=w.useState(!1),[v,b]=w.useState(""),[_,S]=w.useState(!1),[C,R]=w.useState(`You are a financial-data assistant. I will provide you with a CSV file of transactions containing at least the following columns: Date, Description, Amount.  Response in JSON and say nothing else:

1. For each row, determine whether it is an **expense** or an **income**.   

2. Assign each transaction to one of the following **Expense** or **Income** categories (or to a special category if needed):

   **Expense Categories**  
   ${((B=o==null?void 0:o.expenseCategories)==null?void 0:B.map(L=>`- ${L.name}`).join("\\n"))||'- HTT: (Hard To Tell) if you can\\"t unambiguously assign one of the above'}

   **Income Categories**  
   ${((D=o==null?void 0:o.incomeCategories)==null?void 0:D.map(L=>`- ${L.name}`).join("\\n"))||"- HTT"}

   Use merchant names, keywords in the description, or amount signs to guide your choice.  

3. Output a single JSON object with this exact structure:

{
  "transactions": [
    {
      "id": "<self-increment id>",
      "category": "<one of the given categories: Bills & Utilities, , Refund, HTT>"
    }
  ]
}

4.  Optionally, "corrections" showing prior mis-classifications I\\"ve corrected may be provided to guide this categorization `),[N,M]=w.useState(!1),[U,V]=w.useState(""),[$,H]=w.useState(!1),[W,I]=w.useState(!0);w.useEffect(()=>{(async()=>{if(a){I(!0);try{const P=Ht(ze,"users",a.uid),G=await pp(P);if(G.exists()){const ie=G.data();e(ie.smartCategorizationEnabled||!1),d(ie.llmApiKey||""),ie.llmApiKey&&m(!0)}}catch(P){console.error("Error loading smart categorization settings:",P)}finally{I(!1)}}})()},[a,e]),w.useEffect(()=>{a&&!W&&(async()=>{try{const P=Ht(ze,"users",a.uid);await Xr(P,{smartCategorizationEnabled:n,updatedAt:new Date})}catch(P){console.error("Error saving smart categorization setting:",P)}})()},[n,a,W]);const A=async()=>{if(!u.trim()){b("Please enter an API key.");return}S(!0),b("");try{const L=await fetch("https://ark.cn-beijing.volces.com/api/v3/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({messages:[{content:"hello world",role:"user"}],model:"doubao-seed-1-6-flash-250615"})});if(L.ok){if(m(!0),b(""),a){const P=Ht(ze,"users",a.uid);await Xr(P,{llmApiKey:u,updatedAt:new Date})}}else{const P=await L.json();b(`API Key verification failed: ${P.message||L.statusText}`),m(!1)}}catch(L){b(`Network error: ${L.message}`),m(!1)}finally{S(!1)}},j=()=>{C.trim()?(M(!0),V("")):V("System prompt cannot be empty.")};return W?g.jsxs(Et,{children:[g.jsxs(It,{children:[g.jsx(kt,{children:"Smart Categorization Settings"}),g.jsx(_n,{children:"Loading settings..."})]}),g.jsx(Tt,{children:g.jsx("p",{children:"Loading..."})})]}):g.jsxs(Et,{children:[g.jsxs(It,{children:[g.jsx(kt,{children:"Smart Categorization Settings"}),g.jsx(_n,{children:"Configure settings for LLM-powered transaction categorization."})]}),g.jsxs(Tt,{children:[g.jsxs("div",{className:"flex items-center justify-between space-x-2 mb-4",children:[g.jsx(tt,{htmlFor:"smart-categorization-mode",children:"Enable Smart Categorization"}),g.jsx(lS,{id:"smart-categorization-mode",checked:n,onCheckedChange:e})]}),n&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between space-x-2 mb-4",children:[g.jsx(tt,{htmlFor:"debug-mode",children:"Enable Debug Mode (Session Only)"}),g.jsx(lS,{id:"debug-mode",checked:t,onCheckedChange:i})]}),g.jsxs("div",{className:"space-y-4 mb-4",children:[g.jsx(tt,{htmlFor:"api-key",children:"Doubao API Key"}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(Xt,{id:"api-key",type:"password",placeholder:"Enter your Doubao API Key",value:u,onChange:L=>d(L.target.value),disabled:h||_}),g.jsx(Le,{onClick:A,disabled:_||h,children:_?"Verifying...":h?g.jsx(sd,{className:"h-4 w-4"}):"Verify"})]}),v&&g.jsxs(Jt,{variant:"destructive",children:[g.jsx(lv,{className:"h-4 w-4"}),g.jsx(en,{children:v})]}),h&&g.jsxs(Jt,{children:[g.jsx(sd,{className:"h-4 w-4"}),g.jsx(en,{children:"API Key verified successfully!"})]})]}),t&&g.jsxs("div",{className:"space-y-4",children:[g.jsx(tt,{htmlFor:"system-prompt",children:"System Prompt"}),g.jsx(q2,{id:"system-prompt",placeholder:"Enter the system prompt for LLM categorization",value:C,onChange:L=>R(L.target.value),rows:10,disabled:N}),g.jsx(Le,{onClick:j,disabled:N,children:N?g.jsx(sd,{className:"h-4 w-4"}):"Confirm Prompt"}),U&&g.jsxs(Jt,{variant:"destructive",children:[g.jsx(lv,{className:"h-4 w-4"}),g.jsx(en,{children:U})]})]})]})]})]})}var bt;(function(n){n.assertEqual=a=>a;function e(a){}n.assertIs=e;function t(a){throw new Error}n.assertNever=t,n.arrayToEnum=a=>{const o={};for(const u of a)o[u]=u;return o},n.getValidEnumValues=a=>{const o=n.objectKeys(a).filter(d=>typeof a[a[d]]!="number"),u={};for(const d of o)u[d]=a[d];return n.objectValues(u)},n.objectValues=a=>n.objectKeys(a).map(function(o){return a[o]}),n.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const o=[];for(const u in a)Object.prototype.hasOwnProperty.call(a,u)&&o.push(u);return o},n.find=(a,o)=>{for(const u of a)if(o(u))return u},n.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function i(a,o=" | "){return a.map(u=>typeof u=="string"?`'${u}'`:u).join(o)}n.joinValues=i,n.jsonStringifyReplacer=(a,o)=>typeof o=="bigint"?o.toString():o})(bt||(bt={}));var Qv;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(Qv||(Qv={}));const Se=bt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ms=n=>{switch(typeof n){case"undefined":return Se.undefined;case"string":return Se.string;case"number":return isNaN(n)?Se.nan:Se.number;case"boolean":return Se.boolean;case"function":return Se.function;case"bigint":return Se.bigint;case"symbol":return Se.symbol;case"object":return Array.isArray(n)?Se.array:n===null?Se.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?Se.promise:typeof Map<"u"&&n instanceof Map?Se.map:typeof Set<"u"&&n instanceof Set?Se.set:typeof Date<"u"&&n instanceof Date?Se.date:Se.object;default:return Se.unknown}},ge=bt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),CU=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class Tr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(o){return o.message},i={_errors:[]},a=o=>{for(const u of o.issues)if(u.code==="invalid_union")u.unionErrors.map(a);else if(u.code==="invalid_return_type")a(u.returnTypeError);else if(u.code==="invalid_arguments")a(u.argumentsError);else if(u.path.length===0)i._errors.push(t(u));else{let d=i,h=0;for(;h<u.path.length;){const m=u.path[h];h===u.path.length-1?(d[m]=d[m]||{_errors:[]},d[m]._errors.push(t(u))):d[m]=d[m]||{_errors:[]},d=d[m],h++}}};return a(this),i}static assert(e){if(!(e instanceof Tr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,bt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},i=[];for(const a of this.issues)a.path.length>0?(t[a.path[0]]=t[a.path[0]]||[],t[a.path[0]].push(e(a))):i.push(e(a));return{formErrors:i,fieldErrors:t}}get formErrors(){return this.flatten()}}Tr.create=n=>new Tr(n);const _c=(n,e)=>{let t;switch(n.code){case ge.invalid_type:n.received===Se.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case ge.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,bt.jsonStringifyReplacer)}`;break;case ge.unrecognized_keys:t=`Unrecognized key(s) in object: ${bt.joinValues(n.keys,", ")}`;break;case ge.invalid_union:t="Invalid input";break;case ge.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${bt.joinValues(n.options)}`;break;case ge.invalid_enum_value:t=`Invalid enum value. Expected ${bt.joinValues(n.options)}, received '${n.received}'`;break;case ge.invalid_arguments:t="Invalid function arguments";break;case ge.invalid_return_type:t="Invalid function return type";break;case ge.invalid_date:t="Invalid date";break;case ge.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:bt.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case ge.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case ge.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case ge.custom:t="Invalid input";break;case ge.invalid_intersection_types:t="Intersection results could not be merged";break;case ge.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case ge.not_finite:t="Number must be finite";break;default:t=e.defaultError,bt.assertNever(n)}return{message:t}};let cR=_c;function RU(n){cR=n}function Lm(){return cR}const Vm=n=>{const{data:e,path:t,errorMaps:i,issueData:a}=n,o=[...t,...a.path||[]],u={...a,path:o};if(a.message!==void 0)return{...a,path:o,message:a.message};let d="";const h=i.filter(m=>!!m).slice().reverse();for(const m of h)d=m(u,{data:e,defaultError:d}).message;return{...a,path:o,message:d}},NU=[];function Ee(n,e){const t=Lm(),i=Vm({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===_c?void 0:_c].filter(a=>!!a)});n.common.issues.push(i)}class Xn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const i=[];for(const a of t){if(a.status==="aborted")return Ke;a.status==="dirty"&&e.dirty(),i.push(a.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){const i=[];for(const a of t){const o=await a.key,u=await a.value;i.push({key:o,value:u})}return Xn.mergeObjectSync(e,i)}static mergeObjectSync(e,t){const i={};for(const a of t){const{key:o,value:u}=a;if(o.status==="aborted"||u.status==="aborted")return Ke;o.status==="dirty"&&e.dirty(),u.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof u.value<"u"||a.alwaysSet)&&(i[o.value]=u.value)}return{status:e.value,value:i}}}const Ke=Object.freeze({status:"aborted"}),Kl=n=>({status:"dirty",value:n}),ar=n=>({status:"valid",value:n}),Wv=n=>n.status==="aborted",Xv=n=>n.status==="dirty",Fo=n=>n.status==="valid",Sd=n=>typeof Promise<"u"&&n instanceof Promise;function Um(n,e,t,i){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function uR(n,e,t,i,a){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var je;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(je||(je={}));var rd,id;class Pi{constructor(e,t,i,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=i,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const cS=(n,e)=>{if(Fo(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Tr(n.common.issues);return this._error=t,this._error}}};function nt(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:i,description:a}=n;if(e&&(t||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(u,d)=>{var h,m;const{message:v}=n;return u.code==="invalid_enum_value"?{message:v??d.defaultError}:typeof d.data>"u"?{message:(h=v??i)!==null&&h!==void 0?h:d.defaultError}:u.code!=="invalid_type"?{message:d.defaultError}:{message:(m=v??t)!==null&&m!==void 0?m:d.defaultError}},description:a}}class it{get description(){return this._def.description}_getType(e){return ms(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ms(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Xn,ctx:{common:e.parent.common,data:e.data,parsedType:ms(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Sd(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const i=this.safeParse(e,t);if(i.success)return i.data;throw i.error}safeParse(e,t){var i;const a={common:{issues:[],async:(i=t==null?void 0:t.async)!==null&&i!==void 0?i:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ms(e)},o=this._parseSync({data:e,path:a.path,parent:a});return cS(a,o)}"~validate"(e){var t,i;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ms(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:a});return Fo(o)?{value:o.value}:{issues:a.common.issues}}catch(o){!((i=(t=o==null?void 0:o.message)===null||t===void 0?void 0:t.toLowerCase())===null||i===void 0)&&i.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:a}).then(o=>Fo(o)?{value:o.value}:{issues:a.common.issues})}async parseAsync(e,t){const i=await this.safeParseAsync(e,t);if(i.success)return i.data;throw i.error}async safeParseAsync(e,t){const i={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ms(e)},a=this._parse({data:e,path:i.path,parent:i}),o=await(Sd(a)?a:Promise.resolve(a));return cS(i,o)}refine(e,t){const i=a=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(a):t;return this._refinement((a,o)=>{const u=e(a),d=()=>o.addIssue({code:ge.custom,...i(a)});return typeof Promise<"u"&&u instanceof Promise?u.then(h=>h?!0:(d(),!1)):u?!0:(d(),!1)})}refinement(e,t){return this._refinement((i,a)=>e(i)?!0:(a.addIssue(typeof t=="function"?t(i,a):t),!1))}_refinement(e){return new si({schema:this,typeName:$e.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Di.create(this,this._def)}nullable(){return za.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Jr.create(this)}promise(){return xc.create(this,this._def)}or(e){return Nd.create([this,e],this._def)}and(e){return Id.create(this,e,this._def)}transform(e){return new si({...nt(this._def),schema:this,typeName:$e.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Md({...nt(this._def),innerType:this,defaultValue:t,typeName:$e.ZodDefault})}brand(){return new A_({typeName:$e.ZodBranded,type:this,...nt(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Pd({...nt(this._def),innerType:this,catchValue:t,typeName:$e.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return af.create(this,e)}readonly(){return Ld.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const IU=/^c[^\s-]{8,}$/i,kU=/^[0-9a-z]+$/,DU=/^[0-9A-HJKMNP-TV-Z]{26}$/i,OU=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,jU=/^[a-z0-9_-]{21}$/i,MU=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,PU=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,LU=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,VU="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ev;const UU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,BU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,zU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,FU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,HU=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,qU=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dR="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$U=new RegExp(`^${dR}$`);function fR(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function GU(n){return new RegExp(`^${fR(n)}$`)}function hR(n){let e=`${dR}T${fR(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function YU(n,e){return!!((e==="v4"||!e)&&UU.test(n)||(e==="v6"||!e)&&zU.test(n))}function KU(n,e){if(!MU.test(n))return!1;try{const[t]=n.split("."),i=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),a=JSON.parse(atob(i));return!(typeof a!="object"||a===null||!a.typ||!a.alg||e&&a.alg!==e)}catch{return!1}}function ZU(n,e){return!!((e==="v4"||!e)&&BU.test(n)||(e==="v6"||!e)&&FU.test(n))}class Wr extends it{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Se.string){const o=this._getOrReturnCtx(e);return Ee(o,{code:ge.invalid_type,expected:Se.string,received:o.parsedType}),Ke}const i=new Xn;let a;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(a=this._getOrReturnCtx(e,a),Ee(a,{code:ge.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="max")e.data.length>o.value&&(a=this._getOrReturnCtx(e,a),Ee(a,{code:ge.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="length"){const u=e.data.length>o.value,d=e.data.length<o.value;(u||d)&&(a=this._getOrReturnCtx(e,a),u?Ee(a,{code:ge.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):d&&Ee(a,{code:ge.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),i.dirty())}else if(o.kind==="email")LU.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"email",code:ge.invalid_string,message:o.message}),i.dirty());else if(o.kind==="emoji")ev||(ev=new RegExp(VU,"u")),ev.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"emoji",code:ge.invalid_string,message:o.message}),i.dirty());else if(o.kind==="uuid")OU.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"uuid",code:ge.invalid_string,message:o.message}),i.dirty());else if(o.kind==="nanoid")jU.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"nanoid",code:ge.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid")IU.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"cuid",code:ge.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid2")kU.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"cuid2",code:ge.invalid_string,message:o.message}),i.dirty());else if(o.kind==="ulid")DU.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"ulid",code:ge.invalid_string,message:o.message}),i.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),Ee(a,{validation:"url",code:ge.invalid_string,message:o.message}),i.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"regex",code:ge.invalid_string,message:o.message}),i.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(a=this._getOrReturnCtx(e,a),Ee(a,{code:ge.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),i.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(a=this._getOrReturnCtx(e,a),Ee(a,{code:ge.invalid_string,validation:{startsWith:o.value},message:o.message}),i.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(a=this._getOrReturnCtx(e,a),Ee(a,{code:ge.invalid_string,validation:{endsWith:o.value},message:o.message}),i.dirty()):o.kind==="datetime"?hR(o).test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{code:ge.invalid_string,validation:"datetime",message:o.message}),i.dirty()):o.kind==="date"?$U.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{code:ge.invalid_string,validation:"date",message:o.message}),i.dirty()):o.kind==="time"?GU(o).test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{code:ge.invalid_string,validation:"time",message:o.message}),i.dirty()):o.kind==="duration"?PU.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"duration",code:ge.invalid_string,message:o.message}),i.dirty()):o.kind==="ip"?YU(e.data,o.version)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"ip",code:ge.invalid_string,message:o.message}),i.dirty()):o.kind==="jwt"?KU(e.data,o.alg)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"jwt",code:ge.invalid_string,message:o.message}),i.dirty()):o.kind==="cidr"?ZU(e.data,o.version)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"cidr",code:ge.invalid_string,message:o.message}),i.dirty()):o.kind==="base64"?HU.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"base64",code:ge.invalid_string,message:o.message}),i.dirty()):o.kind==="base64url"?qU.test(e.data)||(a=this._getOrReturnCtx(e,a),Ee(a,{validation:"base64url",code:ge.invalid_string,message:o.message}),i.dirty()):bt.assertNever(o);return{status:i.value,value:e.data}}_regex(e,t,i){return this.refinement(a=>e.test(a),{validation:t,code:ge.invalid_string,...je.errToObj(i)})}_addCheck(e){return new Wr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...je.errToObj(e)})}url(e){return this._addCheck({kind:"url",...je.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...je.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...je.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...je.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...je.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...je.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...je.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...je.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...je.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...je.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...je.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...je.errToObj(e)})}datetime(e){var t,i;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(i=e==null?void 0:e.local)!==null&&i!==void 0?i:!1,...je.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...je.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...je.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...je.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...je.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...je.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...je.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...je.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...je.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...je.errToObj(t)})}nonempty(e){return this.min(1,je.errToObj(e))}trim(){return new Wr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Wr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Wr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Wr.create=n=>{var e;return new Wr({checks:[],typeName:$e.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...nt(n)})};function QU(n,e){const t=(n.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,a=t>i?t:i,o=parseInt(n.toFixed(a).replace(".","")),u=parseInt(e.toFixed(a).replace(".",""));return o%u/Math.pow(10,a)}class Va extends it{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Se.number){const o=this._getOrReturnCtx(e);return Ee(o,{code:ge.invalid_type,expected:Se.number,received:o.parsedType}),Ke}let i;const a=new Xn;for(const o of this._def.checks)o.kind==="int"?bt.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:ge.invalid_type,expected:"integer",received:"float",message:o.message}),a.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:ge.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:ge.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="multipleOf"?QU(e.data,o.value)!==0&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:ge.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),Ee(i,{code:ge.not_finite,message:o.message}),a.dirty()):bt.assertNever(o);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,je.toString(t))}gt(e,t){return this.setLimit("min",e,!1,je.toString(t))}lte(e,t){return this.setLimit("max",e,!0,je.toString(t))}lt(e,t){return this.setLimit("max",e,!1,je.toString(t))}setLimit(e,t,i,a){return new Va({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:je.toString(a)}]})}_addCheck(e){return new Va({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:je.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:je.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:je.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:je.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:je.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:je.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:je.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:je.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:je.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&bt.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(t===null||i.value>t)&&(t=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Va.create=n=>new Va({checks:[],typeName:$e.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...nt(n)});class Ua extends it{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Se.bigint)return this._getInvalidInput(e);let i;const a=new Xn;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:ge.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:ge.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),Ee(i,{code:ge.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):bt.assertNever(o);return{status:a.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Ee(t,{code:ge.invalid_type,expected:Se.bigint,received:t.parsedType}),Ke}gte(e,t){return this.setLimit("min",e,!0,je.toString(t))}gt(e,t){return this.setLimit("min",e,!1,je.toString(t))}lte(e,t){return this.setLimit("max",e,!0,je.toString(t))}lt(e,t){return this.setLimit("max",e,!1,je.toString(t))}setLimit(e,t,i,a){return new Ua({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:je.toString(a)}]})}_addCheck(e){return new Ua({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:je.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:je.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:je.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:je.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:je.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ua.create=n=>{var e;return new Ua({checks:[],typeName:$e.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...nt(n)})};class Ad extends it{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Se.boolean){const i=this._getOrReturnCtx(e);return Ee(i,{code:ge.invalid_type,expected:Se.boolean,received:i.parsedType}),Ke}return ar(e.data)}}Ad.create=n=>new Ad({typeName:$e.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...nt(n)});class Ho extends it{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Se.date){const o=this._getOrReturnCtx(e);return Ee(o,{code:ge.invalid_type,expected:Se.date,received:o.parsedType}),Ke}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return Ee(o,{code:ge.invalid_date}),Ke}const i=new Xn;let a;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(a=this._getOrReturnCtx(e,a),Ee(a,{code:ge.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),i.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(a=this._getOrReturnCtx(e,a),Ee(a,{code:ge.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),i.dirty()):bt.assertNever(o);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ho({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:je.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:je.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Ho.create=n=>new Ho({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:$e.ZodDate,...nt(n)});class Bm extends it{_parse(e){if(this._getType(e)!==Se.symbol){const i=this._getOrReturnCtx(e);return Ee(i,{code:ge.invalid_type,expected:Se.symbol,received:i.parsedType}),Ke}return ar(e.data)}}Bm.create=n=>new Bm({typeName:$e.ZodSymbol,...nt(n)});class Cd extends it{_parse(e){if(this._getType(e)!==Se.undefined){const i=this._getOrReturnCtx(e);return Ee(i,{code:ge.invalid_type,expected:Se.undefined,received:i.parsedType}),Ke}return ar(e.data)}}Cd.create=n=>new Cd({typeName:$e.ZodUndefined,...nt(n)});class Rd extends it{_parse(e){if(this._getType(e)!==Se.null){const i=this._getOrReturnCtx(e);return Ee(i,{code:ge.invalid_type,expected:Se.null,received:i.parsedType}),Ke}return ar(e.data)}}Rd.create=n=>new Rd({typeName:$e.ZodNull,...nt(n)});class bc extends it{constructor(){super(...arguments),this._any=!0}_parse(e){return ar(e.data)}}bc.create=n=>new bc({typeName:$e.ZodAny,...nt(n)});class ko extends it{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ar(e.data)}}ko.create=n=>new ko({typeName:$e.ZodUnknown,...nt(n)});class js extends it{_parse(e){const t=this._getOrReturnCtx(e);return Ee(t,{code:ge.invalid_type,expected:Se.never,received:t.parsedType}),Ke}}js.create=n=>new js({typeName:$e.ZodNever,...nt(n)});class zm extends it{_parse(e){if(this._getType(e)!==Se.undefined){const i=this._getOrReturnCtx(e);return Ee(i,{code:ge.invalid_type,expected:Se.void,received:i.parsedType}),Ke}return ar(e.data)}}zm.create=n=>new zm({typeName:$e.ZodVoid,...nt(n)});class Jr extends it{_parse(e){const{ctx:t,status:i}=this._processInputParams(e),a=this._def;if(t.parsedType!==Se.array)return Ee(t,{code:ge.invalid_type,expected:Se.array,received:t.parsedType}),Ke;if(a.exactLength!==null){const u=t.data.length>a.exactLength.value,d=t.data.length<a.exactLength.value;(u||d)&&(Ee(t,{code:u?ge.too_big:ge.too_small,minimum:d?a.exactLength.value:void 0,maximum:u?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),i.dirty())}if(a.minLength!==null&&t.data.length<a.minLength.value&&(Ee(t,{code:ge.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),i.dirty()),a.maxLength!==null&&t.data.length>a.maxLength.value&&(Ee(t,{code:ge.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map((u,d)=>a.type._parseAsync(new Pi(t,u,t.path,d)))).then(u=>Xn.mergeArray(i,u));const o=[...t.data].map((u,d)=>a.type._parseSync(new Pi(t,u,t.path,d)));return Xn.mergeArray(i,o)}get element(){return this._def.type}min(e,t){return new Jr({...this._def,minLength:{value:e,message:je.toString(t)}})}max(e,t){return new Jr({...this._def,maxLength:{value:e,message:je.toString(t)}})}length(e,t){return new Jr({...this._def,exactLength:{value:e,message:je.toString(t)}})}nonempty(e){return this.min(1,e)}}Jr.create=(n,e)=>new Jr({type:n,minLength:null,maxLength:null,exactLength:null,typeName:$e.ZodArray,...nt(e)});function Gl(n){if(n instanceof Qt){const e={};for(const t in n.shape){const i=n.shape[t];e[t]=Di.create(Gl(i))}return new Qt({...n._def,shape:()=>e})}else return n instanceof Jr?new Jr({...n._def,type:Gl(n.element)}):n instanceof Di?Di.create(Gl(n.unwrap())):n instanceof za?za.create(Gl(n.unwrap())):n instanceof Li?Li.create(n.items.map(e=>Gl(e))):n}class Qt extends it{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=bt.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Se.object){const m=this._getOrReturnCtx(e);return Ee(m,{code:ge.invalid_type,expected:Se.object,received:m.parsedType}),Ke}const{status:i,ctx:a}=this._processInputParams(e),{shape:o,keys:u}=this._getCached(),d=[];if(!(this._def.catchall instanceof js&&this._def.unknownKeys==="strip"))for(const m in a.data)u.includes(m)||d.push(m);const h=[];for(const m of u){const v=o[m],b=a.data[m];h.push({key:{status:"valid",value:m},value:v._parse(new Pi(a,b,a.path,m)),alwaysSet:m in a.data})}if(this._def.catchall instanceof js){const m=this._def.unknownKeys;if(m==="passthrough")for(const v of d)h.push({key:{status:"valid",value:v},value:{status:"valid",value:a.data[v]}});else if(m==="strict")d.length>0&&(Ee(a,{code:ge.unrecognized_keys,keys:d}),i.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const v of d){const b=a.data[v];h.push({key:{status:"valid",value:v},value:m._parse(new Pi(a,b,a.path,v)),alwaysSet:v in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const m=[];for(const v of h){const b=await v.key,_=await v.value;m.push({key:b,value:_,alwaysSet:v.alwaysSet})}return m}).then(m=>Xn.mergeObjectSync(i,m)):Xn.mergeObjectSync(i,h)}get shape(){return this._def.shape()}strict(e){return je.errToObj,new Qt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,i)=>{var a,o,u,d;const h=(u=(o=(a=this._def).errorMap)===null||o===void 0?void 0:o.call(a,t,i).message)!==null&&u!==void 0?u:i.defaultError;return t.code==="unrecognized_keys"?{message:(d=je.errToObj(e).message)!==null&&d!==void 0?d:h}:{message:h}}}:{}})}strip(){return new Qt({...this._def,unknownKeys:"strip"})}passthrough(){return new Qt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Qt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Qt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:$e.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Qt({...this._def,catchall:e})}pick(e){const t={};return bt.objectKeys(e).forEach(i=>{e[i]&&this.shape[i]&&(t[i]=this.shape[i])}),new Qt({...this._def,shape:()=>t})}omit(e){const t={};return bt.objectKeys(this.shape).forEach(i=>{e[i]||(t[i]=this.shape[i])}),new Qt({...this._def,shape:()=>t})}deepPartial(){return Gl(this)}partial(e){const t={};return bt.objectKeys(this.shape).forEach(i=>{const a=this.shape[i];e&&!e[i]?t[i]=a:t[i]=a.optional()}),new Qt({...this._def,shape:()=>t})}required(e){const t={};return bt.objectKeys(this.shape).forEach(i=>{if(e&&!e[i])t[i]=this.shape[i];else{let o=this.shape[i];for(;o instanceof Di;)o=o._def.innerType;t[i]=o}}),new Qt({...this._def,shape:()=>t})}keyof(){return mR(bt.objectKeys(this.shape))}}Qt.create=(n,e)=>new Qt({shape:()=>n,unknownKeys:"strip",catchall:js.create(),typeName:$e.ZodObject,...nt(e)});Qt.strictCreate=(n,e)=>new Qt({shape:()=>n,unknownKeys:"strict",catchall:js.create(),typeName:$e.ZodObject,...nt(e)});Qt.lazycreate=(n,e)=>new Qt({shape:n,unknownKeys:"strip",catchall:js.create(),typeName:$e.ZodObject,...nt(e)});class Nd extends it{_parse(e){const{ctx:t}=this._processInputParams(e),i=this._def.options;function a(o){for(const d of o)if(d.result.status==="valid")return d.result;for(const d of o)if(d.result.status==="dirty")return t.common.issues.push(...d.ctx.common.issues),d.result;const u=o.map(d=>new Tr(d.ctx.common.issues));return Ee(t,{code:ge.invalid_union,unionErrors:u}),Ke}if(t.common.async)return Promise.all(i.map(async o=>{const u={...t,common:{...t.common,issues:[]},parent:null};return{result:await o._parseAsync({data:t.data,path:t.path,parent:u}),ctx:u}})).then(a);{let o;const u=[];for(const h of i){const m={...t,common:{...t.common,issues:[]},parent:null},v=h._parseSync({data:t.data,path:t.path,parent:m});if(v.status==="valid")return v;v.status==="dirty"&&!o&&(o={result:v,ctx:m}),m.common.issues.length&&u.push(m.common.issues)}if(o)return t.common.issues.push(...o.ctx.common.issues),o.result;const d=u.map(h=>new Tr(h));return Ee(t,{code:ge.invalid_union,unionErrors:d}),Ke}}get options(){return this._def.options}}Nd.create=(n,e)=>new Nd({options:n,typeName:$e.ZodUnion,...nt(e)});const hs=n=>n instanceof Dd?hs(n.schema):n instanceof si?hs(n.innerType()):n instanceof Od?[n.value]:n instanceof Ba?n.options:n instanceof jd?bt.objectValues(n.enum):n instanceof Md?hs(n._def.innerType):n instanceof Cd?[void 0]:n instanceof Rd?[null]:n instanceof Di?[void 0,...hs(n.unwrap())]:n instanceof za?[null,...hs(n.unwrap())]:n instanceof A_||n instanceof Ld?hs(n.unwrap()):n instanceof Pd?hs(n._def.innerType):[];class Sp extends it{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Se.object)return Ee(t,{code:ge.invalid_type,expected:Se.object,received:t.parsedType}),Ke;const i=this.discriminator,a=t.data[i],o=this.optionsMap.get(a);return o?t.common.async?o._parseAsync({data:t.data,path:t.path,parent:t}):o._parseSync({data:t.data,path:t.path,parent:t}):(Ee(t,{code:ge.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),Ke)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,i){const a=new Map;for(const o of t){const u=hs(o.shape[e]);if(!u.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const d of u){if(a.has(d))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(d)}`);a.set(d,o)}}return new Sp({typeName:$e.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:a,...nt(i)})}}function Jv(n,e){const t=ms(n),i=ms(e);if(n===e)return{valid:!0,data:n};if(t===Se.object&&i===Se.object){const a=bt.objectKeys(e),o=bt.objectKeys(n).filter(d=>a.indexOf(d)!==-1),u={...n,...e};for(const d of o){const h=Jv(n[d],e[d]);if(!h.valid)return{valid:!1};u[d]=h.data}return{valid:!0,data:u}}else if(t===Se.array&&i===Se.array){if(n.length!==e.length)return{valid:!1};const a=[];for(let o=0;o<n.length;o++){const u=n[o],d=e[o],h=Jv(u,d);if(!h.valid)return{valid:!1};a.push(h.data)}return{valid:!0,data:a}}else return t===Se.date&&i===Se.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Id extends it{_parse(e){const{status:t,ctx:i}=this._processInputParams(e),a=(o,u)=>{if(Wv(o)||Wv(u))return Ke;const d=Jv(o.value,u.value);return d.valid?((Xv(o)||Xv(u))&&t.dirty(),{status:t.value,value:d.data}):(Ee(i,{code:ge.invalid_intersection_types}),Ke)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([o,u])=>a(o,u)):a(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Id.create=(n,e,t)=>new Id({left:n,right:e,typeName:$e.ZodIntersection,...nt(t)});class Li extends it{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==Se.array)return Ee(i,{code:ge.invalid_type,expected:Se.array,received:i.parsedType}),Ke;if(i.data.length<this._def.items.length)return Ee(i,{code:ge.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ke;!this._def.rest&&i.data.length>this._def.items.length&&(Ee(i,{code:ge.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const o=[...i.data].map((u,d)=>{const h=this._def.items[d]||this._def.rest;return h?h._parse(new Pi(i,u,i.path,d)):null}).filter(u=>!!u);return i.common.async?Promise.all(o).then(u=>Xn.mergeArray(t,u)):Xn.mergeArray(t,o)}get items(){return this._def.items}rest(e){return new Li({...this._def,rest:e})}}Li.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Li({items:n,typeName:$e.ZodTuple,rest:null,...nt(e)})};class kd extends it{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==Se.object)return Ee(i,{code:ge.invalid_type,expected:Se.object,received:i.parsedType}),Ke;const a=[],o=this._def.keyType,u=this._def.valueType;for(const d in i.data)a.push({key:o._parse(new Pi(i,d,i.path,d)),value:u._parse(new Pi(i,i.data[d],i.path,d)),alwaysSet:d in i.data});return i.common.async?Xn.mergeObjectAsync(t,a):Xn.mergeObjectSync(t,a)}get element(){return this._def.valueType}static create(e,t,i){return t instanceof it?new kd({keyType:e,valueType:t,typeName:$e.ZodRecord,...nt(i)}):new kd({keyType:Wr.create(),valueType:e,typeName:$e.ZodRecord,...nt(t)})}}class Fm extends it{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==Se.map)return Ee(i,{code:ge.invalid_type,expected:Se.map,received:i.parsedType}),Ke;const a=this._def.keyType,o=this._def.valueType,u=[...i.data.entries()].map(([d,h],m)=>({key:a._parse(new Pi(i,d,i.path,[m,"key"])),value:o._parse(new Pi(i,h,i.path,[m,"value"]))}));if(i.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const h of u){const m=await h.key,v=await h.value;if(m.status==="aborted"||v.status==="aborted")return Ke;(m.status==="dirty"||v.status==="dirty")&&t.dirty(),d.set(m.value,v.value)}return{status:t.value,value:d}})}else{const d=new Map;for(const h of u){const m=h.key,v=h.value;if(m.status==="aborted"||v.status==="aborted")return Ke;(m.status==="dirty"||v.status==="dirty")&&t.dirty(),d.set(m.value,v.value)}return{status:t.value,value:d}}}}Fm.create=(n,e,t)=>new Fm({valueType:e,keyType:n,typeName:$e.ZodMap,...nt(t)});class qo extends it{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==Se.set)return Ee(i,{code:ge.invalid_type,expected:Se.set,received:i.parsedType}),Ke;const a=this._def;a.minSize!==null&&i.data.size<a.minSize.value&&(Ee(i,{code:ge.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),a.maxSize!==null&&i.data.size>a.maxSize.value&&(Ee(i,{code:ge.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());const o=this._def.valueType;function u(h){const m=new Set;for(const v of h){if(v.status==="aborted")return Ke;v.status==="dirty"&&t.dirty(),m.add(v.value)}return{status:t.value,value:m}}const d=[...i.data.values()].map((h,m)=>o._parse(new Pi(i,h,i.path,m)));return i.common.async?Promise.all(d).then(h=>u(h)):u(d)}min(e,t){return new qo({...this._def,minSize:{value:e,message:je.toString(t)}})}max(e,t){return new qo({...this._def,maxSize:{value:e,message:je.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}qo.create=(n,e)=>new qo({valueType:n,minSize:null,maxSize:null,typeName:$e.ZodSet,...nt(e)});class tc extends it{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Se.function)return Ee(t,{code:ge.invalid_type,expected:Se.function,received:t.parsedType}),Ke;function i(d,h){return Vm({data:d,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Lm(),_c].filter(m=>!!m),issueData:{code:ge.invalid_arguments,argumentsError:h}})}function a(d,h){return Vm({data:d,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Lm(),_c].filter(m=>!!m),issueData:{code:ge.invalid_return_type,returnTypeError:h}})}const o={errorMap:t.common.contextualErrorMap},u=t.data;if(this._def.returns instanceof xc){const d=this;return ar(async function(...h){const m=new Tr([]),v=await d._def.args.parseAsync(h,o).catch(S=>{throw m.addIssue(i(h,S)),m}),b=await Reflect.apply(u,this,v);return await d._def.returns._def.type.parseAsync(b,o).catch(S=>{throw m.addIssue(a(b,S)),m})})}else{const d=this;return ar(function(...h){const m=d._def.args.safeParse(h,o);if(!m.success)throw new Tr([i(h,m.error)]);const v=Reflect.apply(u,this,m.data),b=d._def.returns.safeParse(v,o);if(!b.success)throw new Tr([a(v,b.error)]);return b.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new tc({...this._def,args:Li.create(e).rest(ko.create())})}returns(e){return new tc({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,i){return new tc({args:e||Li.create([]).rest(ko.create()),returns:t||ko.create(),typeName:$e.ZodFunction,...nt(i)})}}class Dd extends it{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Dd.create=(n,e)=>new Dd({getter:n,typeName:$e.ZodLazy,...nt(e)});class Od extends it{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Ee(t,{received:t.data,code:ge.invalid_literal,expected:this._def.value}),Ke}return{status:"valid",value:e.data}}get value(){return this._def.value}}Od.create=(n,e)=>new Od({value:n,typeName:$e.ZodLiteral,...nt(e)});function mR(n,e){return new Ba({values:n,typeName:$e.ZodEnum,...nt(e)})}class Ba extends it{constructor(){super(...arguments),rd.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),i=this._def.values;return Ee(t,{expected:bt.joinValues(i),received:t.parsedType,code:ge.invalid_type}),Ke}if(Um(this,rd)||uR(this,rd,new Set(this._def.values)),!Um(this,rd).has(e.data)){const t=this._getOrReturnCtx(e),i=this._def.values;return Ee(t,{received:t.data,code:ge.invalid_enum_value,options:i}),Ke}return ar(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Ba.create(e,{...this._def,...t})}exclude(e,t=this._def){return Ba.create(this.options.filter(i=>!e.includes(i)),{...this._def,...t})}}rd=new WeakMap;Ba.create=mR;class jd extends it{constructor(){super(...arguments),id.set(this,void 0)}_parse(e){const t=bt.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==Se.string&&i.parsedType!==Se.number){const a=bt.objectValues(t);return Ee(i,{expected:bt.joinValues(a),received:i.parsedType,code:ge.invalid_type}),Ke}if(Um(this,id)||uR(this,id,new Set(bt.getValidEnumValues(this._def.values))),!Um(this,id).has(e.data)){const a=bt.objectValues(t);return Ee(i,{received:i.data,code:ge.invalid_enum_value,options:a}),Ke}return ar(e.data)}get enum(){return this._def.values}}id=new WeakMap;jd.create=(n,e)=>new jd({values:n,typeName:$e.ZodNativeEnum,...nt(e)});class xc extends it{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Se.promise&&t.common.async===!1)return Ee(t,{code:ge.invalid_type,expected:Se.promise,received:t.parsedType}),Ke;const i=t.parsedType===Se.promise?t.data:Promise.resolve(t.data);return ar(i.then(a=>this._def.type.parseAsync(a,{path:t.path,errorMap:t.common.contextualErrorMap})))}}xc.create=(n,e)=>new xc({type:n,typeName:$e.ZodPromise,...nt(e)});class si extends it{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$e.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:i}=this._processInputParams(e),a=this._def.effect||null,o={addIssue:u=>{Ee(i,u),u.fatal?t.abort():t.dirty()},get path(){return i.path}};if(o.addIssue=o.addIssue.bind(o),a.type==="preprocess"){const u=a.transform(i.data,o);if(i.common.async)return Promise.resolve(u).then(async d=>{if(t.value==="aborted")return Ke;const h=await this._def.schema._parseAsync({data:d,path:i.path,parent:i});return h.status==="aborted"?Ke:h.status==="dirty"||t.value==="dirty"?Kl(h.value):h});{if(t.value==="aborted")return Ke;const d=this._def.schema._parseSync({data:u,path:i.path,parent:i});return d.status==="aborted"?Ke:d.status==="dirty"||t.value==="dirty"?Kl(d.value):d}}if(a.type==="refinement"){const u=d=>{const h=a.refinement(d,o);if(i.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(i.common.async===!1){const d=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return d.status==="aborted"?Ke:(d.status==="dirty"&&t.dirty(),u(d.value),{status:t.value,value:d.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(d=>d.status==="aborted"?Ke:(d.status==="dirty"&&t.dirty(),u(d.value).then(()=>({status:t.value,value:d.value}))))}if(a.type==="transform")if(i.common.async===!1){const u=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Fo(u))return u;const d=a.transform(u.value,o);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:d}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(u=>Fo(u)?Promise.resolve(a.transform(u.value,o)).then(d=>({status:t.value,value:d})):u);bt.assertNever(a)}}si.create=(n,e,t)=>new si({schema:n,typeName:$e.ZodEffects,effect:e,...nt(t)});si.createWithPreprocess=(n,e,t)=>new si({schema:e,effect:{type:"preprocess",transform:n},typeName:$e.ZodEffects,...nt(t)});class Di extends it{_parse(e){return this._getType(e)===Se.undefined?ar(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Di.create=(n,e)=>new Di({innerType:n,typeName:$e.ZodOptional,...nt(e)});class za extends it{_parse(e){return this._getType(e)===Se.null?ar(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}za.create=(n,e)=>new za({innerType:n,typeName:$e.ZodNullable,...nt(e)});class Md extends it{_parse(e){const{ctx:t}=this._processInputParams(e);let i=t.data;return t.parsedType===Se.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Md.create=(n,e)=>new Md({innerType:n,typeName:$e.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...nt(e)});class Pd extends it{_parse(e){const{ctx:t}=this._processInputParams(e),i={...t,common:{...t.common,issues:[]}},a=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Sd(a)?a.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Tr(i.common.issues)},input:i.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Tr(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Pd.create=(n,e)=>new Pd({innerType:n,typeName:$e.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...nt(e)});class Hm extends it{_parse(e){if(this._getType(e)!==Se.nan){const i=this._getOrReturnCtx(e);return Ee(i,{code:ge.invalid_type,expected:Se.nan,received:i.parsedType}),Ke}return{status:"valid",value:e.data}}}Hm.create=n=>new Hm({typeName:$e.ZodNaN,...nt(n)});const WU=Symbol("zod_brand");class A_ extends it{_parse(e){const{ctx:t}=this._processInputParams(e),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}}class af extends it{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?Ke:o.status==="dirty"?(t.dirty(),Kl(o.value)):this._def.out._parseAsync({data:o.value,path:i.path,parent:i})})();{const a=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?Ke:a.status==="dirty"?(t.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:i.path,parent:i})}}static create(e,t){return new af({in:e,out:t,typeName:$e.ZodPipeline})}}class Ld extends it{_parse(e){const t=this._def.innerType._parse(e),i=a=>(Fo(a)&&(a.value=Object.freeze(a.value)),a);return Sd(t)?t.then(a=>i(a)):i(t)}unwrap(){return this._def.innerType}}Ld.create=(n,e)=>new Ld({innerType:n,typeName:$e.ZodReadonly,...nt(e)});function uS(n,e){const t=typeof n=="function"?n(e):typeof n=="string"?{message:n}:n;return typeof t=="string"?{message:t}:t}function pR(n,e={},t){return n?bc.create().superRefine((i,a)=>{var o,u;const d=n(i);if(d instanceof Promise)return d.then(h=>{var m,v;if(!h){const b=uS(e,i),_=(v=(m=b.fatal)!==null&&m!==void 0?m:t)!==null&&v!==void 0?v:!0;a.addIssue({code:"custom",...b,fatal:_})}});if(!d){const h=uS(e,i),m=(u=(o=h.fatal)!==null&&o!==void 0?o:t)!==null&&u!==void 0?u:!0;a.addIssue({code:"custom",...h,fatal:m})}}):bc.create()}const XU={object:Qt.lazycreate};var $e;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})($e||($e={}));const JU=(n,e={message:`Input not instance of ${n.name}`})=>pR(t=>t instanceof n,e),gR=Wr.create,yR=Va.create,e5=Hm.create,t5=Ua.create,vR=Ad.create,n5=Ho.create,r5=Bm.create,i5=Cd.create,s5=Rd.create,a5=bc.create,o5=ko.create,l5=js.create,c5=zm.create,u5=Jr.create,d5=Qt.create,f5=Qt.strictCreate,h5=Nd.create,m5=Sp.create,p5=Id.create,g5=Li.create,y5=kd.create,v5=Fm.create,_5=qo.create,b5=tc.create,x5=Dd.create,w5=Od.create,E5=Ba.create,T5=jd.create,S5=xc.create,dS=si.create,A5=Di.create,C5=za.create,R5=si.createWithPreprocess,N5=af.create,I5=()=>gR().optional(),k5=()=>yR().optional(),D5=()=>vR().optional(),O5={string:n=>Wr.create({...n,coerce:!0}),number:n=>Va.create({...n,coerce:!0}),boolean:n=>Ad.create({...n,coerce:!0}),bigint:n=>Ua.create({...n,coerce:!0}),date:n=>Ho.create({...n,coerce:!0})},j5=Ke;var Zr=Object.freeze({__proto__:null,defaultErrorMap:_c,setErrorMap:RU,getErrorMap:Lm,makeIssue:Vm,EMPTY_PATH:NU,addIssueToContext:Ee,ParseStatus:Xn,INVALID:Ke,DIRTY:Kl,OK:ar,isAborted:Wv,isDirty:Xv,isValid:Fo,isAsync:Sd,get util(){return bt},get objectUtil(){return Qv},ZodParsedType:Se,getParsedType:ms,ZodType:it,datetimeRegex:hR,ZodString:Wr,ZodNumber:Va,ZodBigInt:Ua,ZodBoolean:Ad,ZodDate:Ho,ZodSymbol:Bm,ZodUndefined:Cd,ZodNull:Rd,ZodAny:bc,ZodUnknown:ko,ZodNever:js,ZodVoid:zm,ZodArray:Jr,ZodObject:Qt,ZodUnion:Nd,ZodDiscriminatedUnion:Sp,ZodIntersection:Id,ZodTuple:Li,ZodRecord:kd,ZodMap:Fm,ZodSet:qo,ZodFunction:tc,ZodLazy:Dd,ZodLiteral:Od,ZodEnum:Ba,ZodNativeEnum:jd,ZodPromise:xc,ZodEffects:si,ZodTransformer:si,ZodOptional:Di,ZodNullable:za,ZodDefault:Md,ZodCatch:Pd,ZodNaN:Hm,BRAND:WU,ZodBranded:A_,ZodPipeline:af,ZodReadonly:Ld,custom:pR,Schema:it,ZodSchema:it,late:XU,get ZodFirstPartyTypeKind(){return $e},coerce:O5,any:a5,array:u5,bigint:t5,boolean:vR,date:n5,discriminatedUnion:m5,effect:dS,enum:E5,function:b5,instanceof:JU,intersection:p5,lazy:x5,literal:w5,map:v5,nan:e5,nativeEnum:T5,never:l5,null:s5,nullable:C5,number:yR,object:d5,oboolean:D5,onumber:k5,optional:A5,ostring:I5,pipeline:N5,preprocess:R5,promise:S5,record:y5,set:_5,strictObject:f5,string:gR,symbol:r5,transformer:dS,tuple:g5,undefined:i5,union:h5,unknown:o5,void:c5,NEVER:j5,ZodIssueCode:ge,quotelessJson:CU,ZodError:Tr}),Ro={},tv={},fS;function hS(){return fS||(fS=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Allow=n.ALL=n.COLLECTION=n.ATOM=n.SPECIAL=n.INF=n._INFINITY=n.INFINITY=n.NAN=n.BOOL=n.NULL=n.OBJ=n.ARR=n.NUM=n.STR=void 0,n.STR=1,n.NUM=2,n.ARR=4,n.OBJ=8,n.NULL=16,n.BOOL=32,n.NAN=64,n.INFINITY=128,n._INFINITY=256,n.INF=n.INFINITY|n._INFINITY,n.SPECIAL=n.NULL|n.BOOL|n.INF|n.NAN,n.ATOM=n.STR|n.NUM|n.SPECIAL,n.COLLECTION=n.ARR|n.OBJ,n.ALL=n.ATOM|n.COLLECTION,n.Allow={STR:n.STR,NUM:n.NUM,ARR:n.ARR,OBJ:n.OBJ,NULL:n.NULL,BOOL:n.BOOL,NAN:n.NAN,INFINITY:n.INFINITY,_INFINITY:n._INFINITY,INF:n.INF,SPECIAL:n.SPECIAL,ATOM:n.ATOM,COLLECTION:n.COLLECTION,ALL:n.ALL},n.default=n.Allow}(tv)),tv}var mS;function M5(){return mS||(mS=1,function(n){var e=Ro&&Ro.__createBinding||(Object.create?function(m,v,b,_){_===void 0&&(_=b);var S=Object.getOwnPropertyDescriptor(v,b);(!S||("get"in S?!v.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return v[b]}}),Object.defineProperty(m,_,S)}:function(m,v,b,_){_===void 0&&(_=b),m[_]=v[b]}),t=Ro&&Ro.__exportStar||function(m,v){for(var b in m)b!=="default"&&!Object.prototype.hasOwnProperty.call(v,b)&&e(v,m,b)};Object.defineProperty(n,"__esModule",{value:!0}),n.Allow=n.MalformedJSON=n.PartialJSON=n.parseJSON=n.parse=void 0;const i=hS();Object.defineProperty(n,"Allow",{enumerable:!0,get:function(){return i.Allow}}),t(hS(),n);class a extends Error{}n.PartialJSON=a;class o extends Error{}n.MalformedJSON=o;function u(m,v=i.Allow.ALL){if(typeof m!="string")throw new TypeError(`expecting str, got ${typeof m}`);if(!m.trim())throw new Error(`${m} is empty`);return d(m.trim(),v)}n.parseJSON=u;const d=(m,v)=>{const b=m.length;let _=0;const S=H=>{throw new a(`${H} at position ${_}`)},C=H=>{throw new o(`${H} at position ${_}`)},R=()=>($(),_>=b&&S("Unexpected end of input"),m[_]==='"'?N():m[_]==="{"?M():m[_]==="["?U():m.substring(_,_+4)==="null"||i.Allow.NULL&v&&b-_<4&&"null".startsWith(m.substring(_))?(_+=4,null):m.substring(_,_+4)==="true"||i.Allow.BOOL&v&&b-_<4&&"true".startsWith(m.substring(_))?(_+=4,!0):m.substring(_,_+5)==="false"||i.Allow.BOOL&v&&b-_<5&&"false".startsWith(m.substring(_))?(_+=5,!1):m.substring(_,_+8)==="Infinity"||i.Allow.INFINITY&v&&b-_<8&&"Infinity".startsWith(m.substring(_))?(_+=8,1/0):m.substring(_,_+9)==="-Infinity"||i.Allow._INFINITY&v&&1<b-_&&b-_<9&&"-Infinity".startsWith(m.substring(_))?(_+=9,-1/0):m.substring(_,_+3)==="NaN"||i.Allow.NAN&v&&b-_<3&&"NaN".startsWith(m.substring(_))?(_+=3,NaN):V()),N=()=>{const H=_;let W=!1;for(_++;_<b&&(m[_]!=='"'||W&&m[_-1]==="\\");)W=m[_]==="\\"?!W:!1,_++;if(m.charAt(_)=='"')try{return JSON.parse(m.substring(H,++_-Number(W)))}catch(I){C(String(I))}else if(i.Allow.STR&v)try{return JSON.parse(m.substring(H,_-Number(W))+'"')}catch{return JSON.parse(m.substring(H,m.lastIndexOf("\\"))+'"')}S("Unterminated string literal")},M=()=>{_++,$();const H={};try{for(;m[_]!=="}";){if($(),_>=b&&i.Allow.OBJ&v)return H;const W=N();$(),_++;try{const I=R();H[W]=I}catch(I){if(i.Allow.OBJ&v)return H;throw I}$(),m[_]===","&&_++}}catch{if(i.Allow.OBJ&v)return H;S("Expected '}' at end of object")}return _++,H},U=()=>{_++;const H=[];try{for(;m[_]!=="]";)H.push(R()),$(),m[_]===","&&_++}catch{if(i.Allow.ARR&v)return H;S("Expected ']' at end of array")}return _++,H},V=()=>{if(_===0){m==="-"&&C("Not sure what '-' is");try{return JSON.parse(m)}catch(W){if(i.Allow.NUM&v)try{return JSON.parse(m.substring(0,m.lastIndexOf("e")))}catch{}C(String(W))}}const H=_;for(m[_]==="-"&&_++;m[_]&&",]}".indexOf(m[_])===-1;)_++;_==b&&!(i.Allow.NUM&v)&&S("Unterminated number literal");try{return JSON.parse(m.substring(H,_))}catch{m.substring(H,_)==="-"&&S("Not sure what '-' is");try{return JSON.parse(m.substring(H,m.lastIndexOf("e")))}catch(I){C(String(I))}}},$=()=>{for(;_<b&&` 
\r	`.includes(m[_]);)_++};return R()},h=u;n.parse=h}(Ro)),Ro}var pS=M5();const P5=Zr.object({id:Zr.union([Zr.string(),Zr.number()]).transform(n=>String(n)).optional(),Id:Zr.union([Zr.string(),Zr.number()]).transform(n=>String(n)).optional(),category:Zr.string().optional(),cat:Zr.string().optional()}).transform(n=>({id:n.id||n.Id||"",category:n.category||n.cat||""})),L5=Zr.object({transactions:Zr.array(P5)}),gS=n=>{try{let e=n.trim();e.startsWith("```json")?e=e.replace(/^```json\s*/,"").replace(/\s*```$/,""):e.startsWith("```")&&(e=e.replace(/^```\s*/,"").replace(/\s*```$/,""));const t=pS.parse(e,pS.Allow.ALL);return{success:!0,data:L5.parse(t)}}catch(e){return{success:!1,error:e.message}}},V5=async(n,e,t,i,a,o)=>{const m=`Please categorize the following transactions:

CSV Data:
${"Date,Description,Amount,Counterparty"+`
`+n.map(M=>`"${M.date.toISOString()}","${M.description}","${M.amount}","${M.counterparty||""}"`).join(`
`)}`,v={messages:[{content:e,role:"system"},{content:m,role:"user"}],model:"doubao-seed-1-6-flash-250615",stream:!0},b=await fetch("https://ark.cn-beijing.volces.com/api/v3/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(v),signal:o});if(!b.ok)throw new Error(`API request failed: ${b.status} ${b.statusText}`);const _=b.body.getReader(),S=new TextDecoder;let C="",R="";for(;;){const{done:M,value:U}=await _.read();if(M)break;C+=S.decode(U,{stream:!0});const V=C.split(`
`);C=V.pop();for(const $ of V)if($.startsWith("data: ")){const H=$.slice(6).trim();if(H==="[DONE]")continue;try{const W=JSON.parse(H);if(W.choices&&W.choices[0]&&W.choices[0].delta&&W.choices[0].delta.content){const I=W.choices[0].delta.content;R+=I,i(R);const A=gS(R);A.success&&a(A.data)}}catch(W){console.warn("Failed to parse streaming data:",W)}}}const N=gS(R);if(N.success)return N.data;throw new Error(`Failed to parse final response: ${N.error}`)},Zu=[{id:"alipay",name:"Alipay",icon:QS,sampleFields:["","","","","/","","",""],encoding:"GB2312",currency:"CNY"},{id:"wechat",name:"WeChat Pay",icon:JD,sampleFields:["","","","","/","()","",""],encoding:"UTF-8",currency:"CNY"},{id:"llm",name:"Generic (AI Powered)",icon:KS,sampleFields:["Any CSV, TXT, or PDF file"],encoding:"Auto-detect",currency:"Auto-detect"}];function U5({debugModeEnabled:n}){var De,ut,Ze,Qe;const{currentUser:e}=Jn(),{currentLedger:t,canEdit:i}=Ui(),[a,o]=w.useState(""),[u,d]=w.useState(null),[h,m]=w.useState(!1),[v,b]=w.useState(0),[_,S]=w.useState(null),[C,R]=w.useState([]),[N,M]=w.useState(""),[U,V]=w.useState(""),[$,H]=w.useState(!1),[W,I]=w.useState(""),[A,j]=w.useState(""),[B,D]=w.useState([]),[L,P]=w.useState([]),[G,ie]=w.useState(!1),[q,te]=w.useState(""),K=w.useRef(null),ve=async()=>{if(e)try{const ye=Ht(ze,"users",e.uid),Z=await pp(ye);if(Z.exists()){const he=Z.data();if(H(he.smartCategorizationEnabled||!1),I(he.llmApiKey||""),t&&C.length>0){const _e=C.filter(Ue=>Ue.type==="expense"),pe=C.filter(Ue=>Ue.type==="income"),Ae=`You are a financial-data assistant. I will provide you with a CSV file of transactions containing at least the following columns: Date, Description, Amount.  Response in JSON and say nothing else:

1. For each row, determine whether it is an **expense** or an **income**.   

2. Assign each transaction to one of the following **Expense** or **Income** categories (or to a special category if needed):

   **Expense Categories**  
   ${_e.map(Ue=>`- ${Ue.name}`).join("\\n")||"- HTT: (Hard To Tell) if you can't unambiguously assign one of the above"}

   **Income Categories**  
   ${pe.map(Ue=>`- ${Ue.name}`).join("\\n")||"- HTT"}

   Use merchant names, keywords in the description, or amount signs to guide your choice.  

3. Output a single JSON object with this exact structure:

{
  "transactions": [
    {
      "id": "<self-increment id>",
      "category": "<one of the given categories: ${[..._e,...pe].map(Ue=>Ue.name).join(", ")}, HTT>"
    }
  ]
}

4.  Optionally, "corrections" showing prior mis-classifications I've corrected may be provided to guide this categorization `;j(Ae)}}}catch(ye){console.error("Error loading smart categorization settings:",ye)}},z=async()=>{if(t)try{const ye=Ft(ze,"ledgers",t.id,"categories"),Z=await zn(ye),he=[];Z.forEach(_e=>{he.push({id:_e.id,..._e.data()})}),R(he)}catch(ye){console.error("Error fetching categories:",ye)}},ae=ye=>{const Z=ye.split(`
`);let he=-1;for(let pe=0;pe<Z.length;pe++){const Ae=Z[pe].trim();if(Ae.includes("")&&(Ae.includes("")||Ae.includes("/"))){he=pe+1;break}}if(he===-1){for(let pe=0;pe<Z.length;pe++)if(Z[pe].trim().match(/^\d{4}-\d{2}-\d{2}\s+\d{2}:\d{2}:\d{2}/)){he=pe;break}}he===-1&&(he=23);const _e=[];for(let pe=he;pe<Z.length;pe++){const Ae=Z[pe].trim();if(!Ae)continue;const Ue=Ae.split(",").map(Sr=>Sr.replace(/^"|"$/g,"").trim());if(Ue.length<6)continue;let We,Oe,Ge,Lt,Kt,xt,bn,Je,lt;if(Ue.length>=12)[We,Oe,Ge,Lt,Kt,xt,bn,Je,lt]=Ue;else if(Ue.length>=8)[We,Oe,Ge,Kt,xt,bn,Je,lt]=Ue,Lt="";else continue;if(!xt||xt!==""&&xt!=="")continue;const fn=bn.toString().replace(/[^\d.-]/g,""),qt=parseFloat(fn);if(isNaN(qt))continue;const Br=C.find(Sr=>Sr.name.toLowerCase().includes(Oe.toLowerCase())||Oe.toLowerCase().includes(Sr.name.toLowerCase())),oi=Ge?`Counterparty: ${Ge}`:"";_e.push({id:pe-he+1,date:new Date(We),type:xt===""?"expense":"income",amount:Math.abs(qt),description:Kt||"Unknown Transaction",notes:oi,counterparty:Ge||"",categoryId:Br?Br.id:null,categoryName:Br?Br.name:Oe,paymentMethod:Je||"Unknown",platform:"alipay",originalData:{category:Oe,counterparty:Ge,account:Lt,status:lt}})}return _e},me=ye=>{const Z=ye.split(`
`);let he=-1;for(let pe=0;pe<Z.length;pe++){const Ae=Z[pe].trim();if(Ae.includes("")&&(Ae.includes("")||Ae.includes("/"))){he=pe+1;break}}if(he===-1){for(let pe=0;pe<Z.length;pe++)if(Z[pe].trim().match(/^\d{4}-\d{2}-\d{2}\s+\d{2}:\d{2}:\d{2}/)){he=pe;break}}he===-1&&(he=15);const _e=[];for(let pe=he;pe<Z.length;pe++){const Ae=Z[pe].trim();if(!Ae)continue;const Ue=Ae.split(",").map(oi=>oi.replace(/^"|"$/g,"").trim());if(Ue.length<6)continue;let We,Oe,Ge,Lt,Kt,xt,bn,Je;if(Ue.length>=11)[We,Oe,Ge,Lt,Kt,xt,bn,Je]=Ue;else if(Ue.length>=8)[We,Oe,Ge,Lt,Kt,xt,bn,Je]=Ue;else continue;if(!Kt||Kt!==""&&Kt!=="")continue;const lt=xt.toString().replace(/[,\s]/g,"").replace(/[^\d.-]/g,""),fn=parseFloat(lt);if(isNaN(fn))continue;const qt=C.find(oi=>oi.name.toLowerCase().includes(Oe.toLowerCase())||Oe.toLowerCase().includes(oi.name.toLowerCase())),Br=Ge?`Counterparty: ${Ge}`:"";_e.push({id:pe-he+1,date:new Date(We),type:Kt===""?"expense":"income",amount:Math.abs(fn),description:Lt||"Unknown Transaction",notes:Br,counterparty:Ge||"",categoryId:qt?qt.id:null,categoryName:qt?qt.name:Oe,paymentMethod:bn||"Unknown",platform:"wechat",originalData:{transactionType:Oe,counterparty:Ge,status:Je}})}return _e},oe=ye=>{P(Z=>Z.map(he=>{const _e=ye.transactions.find(pe=>parseInt(pe.id)===he.id);if(_e){const pe=_e.category||"HTT";return{...he,llmCategory:pe,llmProcessing:!1}}return he}))},we=async ye=>{var Z;try{te("");const pe=await V5(ye,A,W,Ue=>{te(Ue)},Ue=>{oe(Ue)},(Z=K.current)==null?void 0:Z.signal);oe(pe);const Ae=ye.map(Ue=>{const We=pe.transactions.find(Oe=>parseInt(Oe.id)===Ue.id);if(We){const Oe=We.category||"HTT",Ge=C.find(Lt=>Lt.name.toLowerCase()===Oe.toLowerCase());return{...Ue,categoryId:Ge?Ge.id:null,categoryName:Ge?Ge.name:Oe}}return Ue});await Pe(Ae),V(`Successfully imported ${(_==null?void 0:_.imported)||0} transactions with AI categorization!`)}catch(he){he.name==="AbortError"?M("LLM categorization was cancelled."):(console.error("LLM categorization error:",he),M(`LLM categorization failed: ${he.message}`),await Pe(ye))}finally{ie(!1),m(!1)}},Pe=async ye=>{if(!t||!i())return;const Z=Ft(ze,"ledgers",t.id,"transactions");let he=0,_e=0;const pe=fr(Z),Ae=await zn(pe),Ue=new Set;Ae.forEach(Ge=>{var xt,bn;const Lt=Ge.data(),Kt=`${(bn=(xt=Lt.date)==null?void 0:xt.toDate())==null?void 0:bn.toISOString()}-${Lt.amount}-${Lt.description}`;Ue.add(Kt)});const We=500,Oe=[];for(let Ge=0;Ge<ye.length;Ge+=We){const Lt=Vv(ze),Kt=ye.slice(Ge,Ge+We);let xt=0,bn=0;for(const Je of Kt){const lt=`${Je.date.toISOString()}-${Je.amount}-${Je.description}`;if(Ue.has(lt)){bn++;continue}const fn=Ht(Z);Lt.set(fn,{date:Ut.fromDate(Je.date),type:Je.type,amount:Je.amount,description:Je.description,notes:Je.notes||"",categoryId:Je.categoryId,categoryName:Je.categoryName,paymentMethod:Je.paymentMethod,includeInBudget:!0,platform:Je.platform,originalData:Je.originalData,createdAt:new Date,createdBy:e.uid,paidBy:e.uid}),xt++,Ue.add(lt)}xt>0?Oe.push({batch:Lt,imported:xt,skipped:bn}):_e+=bn}for(let Ge=0;Ge<Oe.length;Ge++)try{await Oe[Ge].batch.commit(),he+=Oe[Ge].imported,_e+=Oe[Ge].skipped;const Lt=Math.round((Ge+1)/Oe.length*100);b(Lt)}catch(Lt){console.error("Error committing batch:",Lt),_e+=Oe[Ge].imported}S({imported:he,skipped:_e})},ke=async ye=>{const Z=ye.target.files[0];if(Z){d(Z),m(!0),b(0),S(null),M(""),V(""),K.current=new AbortController;try{let he=[];if(a==="alipay"){const _e=await Z.arrayBuffer(),Ae=new TextDecoder("gb2312").decode(_e);he=ae(Ae)}else if(a==="wechat"){const _e=await Z.text();he=me(_e)}else if(a==="llm")throw new Error("LLM parsing not yet implemented.");if(he.length===0)throw new Error("No valid transactions found in the file.");D(he),P(he.map(_e=>({..._e,llmCategory:null,llmProcessing:!0}))),$&&W&&(a==="alipay"||a==="wechat")?(ie(!0),await we(he)):(await Pe(he),V(`Successfully imported ${(_==null?void 0:_.imported)||0} transactions!`),m(!1))}catch(he){console.error("Import error:",he),M(`Import error: ${he.message}`),m(!1),ie(!1)}}},be=()=>{K.current&&(K.current.abort(),console.log("LLM processing cancelled."),ie(!1),m(!1),M("LLM categorization cancelled by user."))};return w.useEffect(()=>{z()},[t]),w.useEffect(()=>{C.length>0&&ve()},[e,t,C]),w.useEffect(()=>{if(U||N){const ye=setTimeout(()=>{V(""),M("")},3e3);return()=>clearTimeout(ye)}},[U,N]),t?h?g.jsxs("div",{className:"p-6 space-y-4",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:G?"Processing with Smart Categorization...":"Importing Transactions..."}),G&&g.jsxs(Le,{variant:"outline",onClick:be,className:"flex items-center space-x-2",children:[g.jsx(ID,{className:"h-4 w-4"}),g.jsx("span",{children:"Cancel"})]})]}),L.length>0&&g.jsxs(Et,{children:[g.jsxs(It,{children:[g.jsx(kt,{children:"Imported Transactions"}),g.jsx(_n,{children:G?"AI is categorizing transactions...":"Processing transactions..."})]}),g.jsx(Tt,{children:g.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:L.map((ye,Z)=>g.jsxs("div",{className:"flex justify-between items-center p-2 border rounded",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"font-medium",children:ye.description}),g.jsxs("div",{className:"text-sm text-gray-500",children:[ye.date.toLocaleString(),"  ",ye.amount," CNY",ye.counterparty&&`  ${ye.counterparty}`]})]}),g.jsxs("div",{className:"text-right",children:[g.jsx(Ur,{variant:ye.type==="expense"?"destructive":"default",children:ye.type}),G&&g.jsx("div",{className:"text-sm text-gray-500 mt-1",children:ye.llmCategory||"Processing..."})]})]},Z))})})]}),G&&n&&q&&g.jsxs(Et,{children:[g.jsxs(It,{children:[g.jsx(kt,{children:"AI Response Stream"}),g.jsx(_n,{children:"Real-time categorization response from AI"})]}),g.jsx(Tt,{children:g.jsx("div",{className:"bg-gray-100 p-3 rounded text-sm font-mono max-h-40 overflow-y-auto",children:q})})]}),!G&&g.jsxs(g.Fragment,{children:[g.jsx(Zv,{value:v,className:"w-full"}),g.jsxs("p",{className:"text-center text-gray-600",children:[v,"% Complete"]})]})]}):_?g.jsxs("div",{className:"p-6 space-y-4",children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Import Complete!"}),g.jsxs(Jt,{variant:"default",children:[g.jsx(sd,{className:"h-4 w-4"}),g.jsxs(en,{children:["Successfully imported ",_.imported," transactions.",_.skipped>0&&` ${_.skipped} transactions skipped (duplicates or errors).`]})]}),g.jsx(Le,{onClick:()=>S(null),children:"Import More"})]}):g.jsxs("div",{className:"p-6 space-y-6",children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Import Transactions"}),N&&g.jsxs(Jt,{variant:"destructive",children:[g.jsx(lv,{className:"h-4 w-4"}),g.jsx(en,{children:N})]}),U&&g.jsxs(Jt,{children:[g.jsx(sd,{className:"h-4 w-4"}),g.jsx(en,{children:U})]}),$&&g.jsxs(Jt,{children:[g.jsx(KS,{className:"h-4 w-4"}),g.jsx(en,{children:"Smart Categorization is enabled. Transactions will be automatically categorized using AI."})]}),g.jsxs(Et,{children:[g.jsxs(It,{children:[g.jsx(kt,{children:"Select Import Platform"}),g.jsx(_n,{children:"Choose the platform you want to import transactions from."})]}),g.jsx(Tt,{children:g.jsxs(ys,{value:a,onValueChange:o,children:[g.jsx(_s,{className:"w-[240px]",children:g.jsx(vs,{placeholder:"Select a platform"})}),g.jsx(bs,{children:Zu.map(ye=>g.jsx(Kn,{value:ye.id,children:g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(ye.icon,{className:"h-4 w-4"}),g.jsx("span",{children:ye.name})]})},ye.id))})]})})]}),a&&g.jsxs(Et,{children:[g.jsxs(It,{children:[g.jsxs(kt,{children:["Upload ",(De=Zu.find(ye=>ye.id===a))==null?void 0:De.name," File"]}),g.jsxs(_n,{children:["Upload your exported ",(ut=Zu.find(ye=>ye.id===a))==null?void 0:ut.name," CSV file. Ensure it's the correct format."]})]}),g.jsxs(Tt,{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsxs(tt,{htmlFor:"file-upload",className:"cursor-pointer bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600",children:[g.jsx(JS,{className:"h-4 w-4 inline-block mr-2"})," Choose File"]}),g.jsx(Xt,{id:"file-upload",type:"file",className:"hidden",onChange:ke,accept:".csv,.txt"}),u&&g.jsx(Ur,{variant:"secondary",children:u.name})]}),g.jsxs("div",{className:"text-sm text-gray-500",children:[g.jsxs("p",{children:["Expected fields for ",(Ze=Zu.find(ye=>ye.id===a))==null?void 0:Ze.name,":"]}),g.jsx("ol",{className:"list-decimal list-inside",children:(Qe=Zu.find(ye=>ye.id===a))==null?void 0:Qe.sampleFields.map((ye,Z)=>g.jsx("li",{children:ye},Z))})]})]})]})]}):g.jsx("div",{className:"p-6 text-center text-gray-500",children:"Please select a ledger to manage categories."})}function B5({isMobileMenuOpen:n,setIsMobileMenuOpen:e}){const t=Ms(),{currentUser:i,logout:a}=Jn(),o=[{path:"/",label:"Dashboard",icon:zD},{path:"/transactions",label:"Transactions",icon:QS},{path:"/budgets",label:"Budgets",icon:wD},{path:"/categories",label:"Categories",icon:XS},{path:"/ledgers",label:"Ledgers",icon:lm},{path:"/splits",label:"Expense Splits",icon:n1},{path:"/import",label:"Import",icon:JS},{path:"/settings",label:"Settings",icon:OD}],u=async()=>{try{await a()}catch(d){console.error("Failed to log out:",d)}};return g.jsxs(g.Fragment,{children:[g.jsx("nav",{className:"hidden md:flex bg-white border-b border-gray-200 px-6 py-4",children:g.jsxs("div",{className:"flex items-center justify-between w-full",children:[g.jsxs("div",{className:"flex items-center space-x-8",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(rc,{className:"h-8 w-8 text-blue-600"}),g.jsx("span",{className:"text-xl font-bold text-gray-900",children:"ExpenseTracker"})]}),g.jsx("div",{className:"flex space-x-6",children:o.map(d=>{const h=d.icon,m=t.pathname===d.path;return g.jsxs(nc,{to:d.path,className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${m?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[g.jsx(h,{className:"h-4 w-4"}),g.jsx("span",{children:d.label})]},d.path)})})]}),i&&g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsxs("span",{className:"text-sm text-gray-600",children:["Welcome, ",i.displayName||i.email]}),g.jsxs(Le,{variant:"ghost",size:"sm",onClick:u,className:"flex items-center space-x-2",children:[g.jsx(oE,{className:"h-4 w-4"}),g.jsx("span",{children:"Logout"})]})]})]})}),g.jsxs("nav",{className:"md:hidden bg-white border-b border-gray-200",children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(rc,{className:"h-6 w-6 text-blue-600"}),g.jsx("span",{className:"text-lg font-bold text-gray-900",children:"ExpenseTracker"})]}),g.jsx(Le,{variant:"ghost",size:"sm",onClick:()=>e(!n),children:n?g.jsx(oc,{className:"h-6 w-6"}):g.jsx($D,{className:"h-6 w-6"})})]}),n&&g.jsxs("div",{className:"border-t border-gray-200 px-4 py-4 space-y-2",children:[o.map(d=>{const h=d.icon,m=t.pathname===d.path;return g.jsxs(nc,{to:d.path,onClick:()=>e(!1),className:`flex items-center space-x-3 px-3 py-2 rounded-md text-sm font-medium transition-colors ${m?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[g.jsx(h,{className:"h-4 w-4"}),g.jsx("span",{children:d.label})]},d.path)}),i&&g.jsxs(Le,{variant:"ghost",size:"sm",onClick:u,className:"flex items-center space-x-3 px-3 py-2 w-full justify-start",children:[g.jsx(oE,{className:"h-4 w-4"}),g.jsx("span",{children:"Logout"})]})]})]})]})}function z5(){return g.jsx(tU,{})}function F5(){return g.jsx(uU,{})}function H5(){return g.jsx(pU,{})}function q5(){return g.jsxs("div",{className:"p-6",children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Expense Splits"}),g.jsxs(Et,{children:[g.jsxs(It,{children:[g.jsx(kt,{children:"Split Expenses"}),g.jsx(_n,{children:"Share expenses with friends and track balances"})]}),g.jsx(Tt,{children:g.jsx("p",{className:"text-gray-600",children:"Expense splitting interface will be implemented here."})})]})]})}function $5({debugModeEnabled:n}){return g.jsx(U5,{debugModeEnabled:n})}function G5({smartCategorizationEnabled:n,setSmartCategorizationEnabled:e,debugModeEnabled:t,setDebugModeEnabled:i}){return g.jsxs("div",{className:"p-6 space-y-6",children:[g.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),g.jsx(_U,{}),g.jsx(AU,{smartCategorizationEnabled:n,setSmartCategorizationEnabled:e,debugModeEnabled:t,setDebugModeEnabled:i}),g.jsxs(Et,{children:[g.jsxs(It,{children:[g.jsx(kt,{children:"Application Preferences"}),g.jsx(_n,{children:"Additional application settings will be available here"})]}),g.jsx(Tt,{children:g.jsx("p",{className:"text-gray-600",children:"More settings options coming soon..."})})]})]})}function Y5(){const[n,e]=w.useState(!1),{currentUser:t}=Jn(),[i,a]=w.useState(!1),[o,u]=w.useState(!1);return g.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t&&g.jsx(B5,{isMobileMenuOpen:n,setIsMobileMenuOpen:e}),g.jsx("main",{className:t?"max-w-7xl mx-auto":"",children:g.jsxs(HI,{children:[g.jsx(Yr,{path:"/login",element:t?g.jsx(rv,{to:"/"}):g.jsx(I8,{})}),g.jsx(Yr,{path:"/signup",element:t?g.jsx(rv,{to:"/"}):g.jsx(k8,{})}),g.jsx(Yr,{path:"/",element:g.jsx(pa,{children:g.jsx(F8,{})})}),g.jsx(Yr,{path:"/transactions",element:g.jsx(pa,{children:g.jsx(z5,{})})}),g.jsx(Yr,{path:"/budgets",element:g.jsx(pa,{children:g.jsx(F5,{})})}),g.jsx(Yr,{path:"/categories",element:g.jsx(pa,{children:g.jsx(H5,{})})}),g.jsx(Yr,{path:"/ledgers",element:g.jsx(pa,{children:g.jsx(vU,{})})}),g.jsx(Yr,{path:"/splits",element:g.jsx(pa,{children:g.jsx(q5,{})})}),g.jsx(Yr,{path:"/import",element:g.jsx(pa,{children:g.jsx($5,{debugModeEnabled:i})})}),g.jsx(Yr,{path:"/settings",element:g.jsx(pa,{children:g.jsx(G5,{smartCategorizationEnabled:o,setSmartCategorizationEnabled:u,debugModeEnabled:i,setDebugModeEnabled:a})})})]})})]})}function K5(){return g.jsx(hk,{children:g.jsx(E8,{children:g.jsx(T8,{children:g.jsx(Y5,{})})})})}XN.createRoot(document.getElementById("root")).render(g.jsx(w.StrictMode,{children:g.jsx(K5,{})}));
