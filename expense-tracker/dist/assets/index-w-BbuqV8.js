function cR(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function Yw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var pg={exports:{}},iu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ex;function uR(){if(Ex)return iu;Ex=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:u,ref:a!==void 0?a:null,props:l}}return iu.Fragment=e,iu.jsx=t,iu.jsxs=t,iu}var wx;function dR(){return wx||(wx=1,pg.exports=uR()),pg.exports}var m=dR(),gg={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tx;function fR(){if(Tx)return Ke;Tx=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function x(z){return z===null||typeof z!="object"?null:(z=b&&z[b]||z["@@iterator"],typeof z=="function"?z:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,C={};function D(z,ae,me){this.props=z,this.context=ae,this.refs=C,this.updater=me||A}D.prototype.isReactComponent={},D.prototype.setState=function(z,ae){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ae,"setState")},D.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function M(){}M.prototype=D.prototype;function U(z,ae,me){this.props=z,this.context=ae,this.refs=C,this.updater=me||A}var L=U.prototype=new M;L.constructor=U,R(L,D.prototype),L.isPureReactComponent=!0;var q=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},ne=Object.prototype.hasOwnProperty;function k(z,ae,me,oe,be,pe){return me=pe.ref,{$$typeof:n,type:z,key:ae,ref:me!==void 0?me:null,props:pe}}function S(z,ae){return k(z.type,ae,void 0,void 0,void 0,z.props)}function j(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function V(z){var ae={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(me){return ae[me]})}var I=/\/+/g;function B(z,ae){return typeof z=="object"&&z!==null&&z.key!=null?V(""+z.key):ae.toString(36)}function P(){}function Y(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(P,P):(z.status="pending",z.then(function(ae){z.status==="pending"&&(z.status="fulfilled",z.value=ae)},function(ae){z.status==="pending"&&(z.status="rejected",z.reason=ae)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function se(z,ae,me,oe,be){var pe=typeof z;(pe==="undefined"||pe==="boolean")&&(z=null);var ge=!1;if(z===null)ge=!0;else switch(pe){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(z.$$typeof){case n:case e:ge=!0;break;case v:return ge=z._init,se(ge(z._payload),ae,me,oe,be)}}if(ge)return be=be(z),ge=oe===""?"."+B(z,0):oe,q(be)?(me="",ge!=null&&(me=ge.replace(I,"$&/")+"/"),se(be,ae,me,"",function(Te){return Te})):be!=null&&(j(be)&&(be=S(be,me+(be.key==null||z&&z.key===be.key?"":(""+be.key).replace(I,"$&/")+"/")+ge)),ae.push(be)),1;ge=0;var ce=oe===""?".":oe+":";if(q(z))for(var xe=0;xe<z.length;xe++)oe=z[xe],pe=ce+B(oe,xe),ge+=se(oe,ae,me,pe,be);else if(xe=x(z),typeof xe=="function")for(z=xe.call(z),xe=0;!(oe=z.next()).done;)oe=oe.value,pe=ce+B(oe,xe++),ge+=se(oe,ae,me,pe,be);else if(pe==="object"){if(typeof z.then=="function")return se(Y(z),ae,me,oe,be);throw ae=String(z),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return ge}function H(z,ae,me){if(z==null)return z;var oe=[],be=0;return se(z,oe,"","",function(pe){return ae.call(me,pe,be++)}),oe}function ee(z){if(z._status===-1){var ae=z._result;ae=ae(),ae.then(function(me){(z._status===0||z._status===-1)&&(z._status=1,z._result=me)},function(me){(z._status===0||z._status===-1)&&(z._status=2,z._result=me)}),z._status===-1&&(z._status=0,z._result=ae)}if(z._status===1)return z._result.default;throw z._result}var K=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function ve(){}return Ke.Children={map:H,forEach:function(z,ae,me){H(z,function(){ae.apply(this,arguments)},me)},count:function(z){var ae=0;return H(z,function(){ae++}),ae},toArray:function(z){return H(z,function(ae){return ae})||[]},only:function(z){if(!j(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ke.Component=D,Ke.Fragment=t,Ke.Profiler=a,Ke.PureComponent=U,Ke.StrictMode=i,Ke.Suspense=p,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(z){return $.H.useMemoCache(z)}},Ke.cache=function(z){return function(){return z.apply(null,arguments)}},Ke.cloneElement=function(z,ae,me){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var oe=R({},z.props),be=z.key,pe=void 0;if(ae!=null)for(ge in ae.ref!==void 0&&(pe=void 0),ae.key!==void 0&&(be=""+ae.key),ae)!ne.call(ae,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&ae.ref===void 0||(oe[ge]=ae[ge]);var ge=arguments.length-2;if(ge===1)oe.children=me;else if(1<ge){for(var ce=Array(ge),xe=0;xe<ge;xe++)ce[xe]=arguments[xe+2];oe.children=ce}return k(z.type,be,void 0,void 0,pe,oe)},Ke.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},Ke.createElement=function(z,ae,me){var oe,be={},pe=null;if(ae!=null)for(oe in ae.key!==void 0&&(pe=""+ae.key),ae)ne.call(ae,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(be[oe]=ae[oe]);var ge=arguments.length-2;if(ge===1)be.children=me;else if(1<ge){for(var ce=Array(ge),xe=0;xe<ge;xe++)ce[xe]=arguments[xe+2];be.children=ce}if(z&&z.defaultProps)for(oe in ge=z.defaultProps,ge)be[oe]===void 0&&(be[oe]=ge[oe]);return k(z,pe,void 0,void 0,null,be)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(z){return{$$typeof:f,render:z}},Ke.isValidElement=j,Ke.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:ee}},Ke.memo=function(z,ae){return{$$typeof:g,type:z,compare:ae===void 0?null:ae}},Ke.startTransition=function(z){var ae=$.T,me={};$.T=me;try{var oe=z(),be=$.S;be!==null&&be(me,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ve,K)}catch(pe){K(pe)}finally{$.T=ae}},Ke.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Ke.use=function(z){return $.H.use(z)},Ke.useActionState=function(z,ae,me){return $.H.useActionState(z,ae,me)},Ke.useCallback=function(z,ae){return $.H.useCallback(z,ae)},Ke.useContext=function(z){return $.H.useContext(z)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(z,ae){return $.H.useDeferredValue(z,ae)},Ke.useEffect=function(z,ae,me){var oe=$.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(z,ae)},Ke.useId=function(){return $.H.useId()},Ke.useImperativeHandle=function(z,ae,me){return $.H.useImperativeHandle(z,ae,me)},Ke.useInsertionEffect=function(z,ae){return $.H.useInsertionEffect(z,ae)},Ke.useLayoutEffect=function(z,ae){return $.H.useLayoutEffect(z,ae)},Ke.useMemo=function(z,ae){return $.H.useMemo(z,ae)},Ke.useOptimistic=function(z,ae){return $.H.useOptimistic(z,ae)},Ke.useReducer=function(z,ae,me){return $.H.useReducer(z,ae,me)},Ke.useRef=function(z){return $.H.useRef(z)},Ke.useState=function(z){return $.H.useState(z)},Ke.useSyncExternalStore=function(z,ae,me){return $.H.useSyncExternalStore(z,ae,me)},Ke.useTransition=function(){return $.H.useTransition()},Ke.version="19.1.0",Ke}var Sx;function By(){return Sx||(Sx=1,gg.exports=fR()),gg.exports}var E=By();const qs=Yw(E),Kw=cR({__proto__:null,default:qs},[E]);var yg={exports:{}},su={},vg={exports:{}},_g={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ax;function hR(){return Ax||(Ax=1,function(n){function e(H,ee){var K=H.length;H.push(ee);e:for(;0<K;){var ve=K-1>>>1,z=H[ve];if(0<a(z,ee))H[ve]=ee,H[K]=z,K=ve;else break e}}function t(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var ee=H[0],K=H.pop();if(K!==ee){H[0]=K;e:for(var ve=0,z=H.length,ae=z>>>1;ve<ae;){var me=2*(ve+1)-1,oe=H[me],be=me+1,pe=H[be];if(0>a(oe,K))be<z&&0>a(pe,oe)?(H[ve]=pe,H[be]=K,ve=be):(H[ve]=oe,H[me]=K,ve=me);else if(be<z&&0>a(pe,K))H[ve]=pe,H[be]=K,ve=be;else break e}}return ee}function a(H,ee){var K=H.sortIndex-ee.sortIndex;return K!==0?K:H.id-ee.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var p=[],g=[],v=1,b=null,x=3,A=!1,R=!1,C=!1,D=!1,M=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function q(H){for(var ee=t(g);ee!==null;){if(ee.callback===null)i(g);else if(ee.startTime<=H)i(g),ee.sortIndex=ee.expirationTime,e(p,ee);else break;ee=t(g)}}function $(H){if(C=!1,q(H),!R)if(t(p)!==null)R=!0,ne||(ne=!0,B());else{var ee=t(g);ee!==null&&se($,ee.startTime-H)}}var ne=!1,k=-1,S=5,j=-1;function V(){return D?!0:!(n.unstable_now()-j<S)}function I(){if(D=!1,ne){var H=n.unstable_now();j=H;var ee=!0;try{e:{R=!1,C&&(C=!1,U(k),k=-1),A=!0;var K=x;try{t:{for(q(H),b=t(p);b!==null&&!(b.expirationTime>H&&V());){var ve=b.callback;if(typeof ve=="function"){b.callback=null,x=b.priorityLevel;var z=ve(b.expirationTime<=H);if(H=n.unstable_now(),typeof z=="function"){b.callback=z,q(H),ee=!0;break t}b===t(p)&&i(p),q(H)}else i(p);b=t(p)}if(b!==null)ee=!0;else{var ae=t(g);ae!==null&&se($,ae.startTime-H),ee=!1}}break e}finally{b=null,x=K,A=!1}ee=void 0}}finally{ee?B():ne=!1}}}var B;if(typeof L=="function")B=function(){L(I)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Y=P.port2;P.port1.onmessage=I,B=function(){Y.postMessage(null)}}else B=function(){M(I,0)};function se(H,ee){k=M(function(){H(n.unstable_now())},ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(H){switch(x){case 1:case 2:case 3:var ee=3;break;default:ee=x}var K=x;x=ee;try{return H()}finally{x=K}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(H,ee){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var K=x;x=H;try{return ee()}finally{x=K}},n.unstable_scheduleCallback=function(H,ee,K){var ve=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ve+K:ve):K=ve,H){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=K+z,H={id:v++,callback:ee,priorityLevel:H,startTime:K,expirationTime:z,sortIndex:-1},K>ve?(H.sortIndex=K,e(g,H),t(p)===null&&H===t(g)&&(C?(U(k),k=-1):C=!0,se($,K-ve))):(H.sortIndex=z,e(p,H),R||A||(R=!0,ne||(ne=!0,B()))),H},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(H){var ee=x;return function(){var K=x;x=ee;try{return H.apply(this,arguments)}finally{x=K}}}}(_g)),_g}var Cx;function mR(){return Cx||(Cx=1,vg.exports=hR()),vg.exports}var bg={exports:{}},Nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rx;function pR(){if(Rx)return Nn;Rx=1;var n=By();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Nn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},Nn.flushSync=function(p){var g=u.T,v=i.p;try{if(u.T=null,i.p=2,p)return p()}finally{u.T=g,i.p=v,i.d.f()}},Nn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},Nn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Nn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=f(v,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:A}):v==="script"&&i.d.X(p,{crossOrigin:b,integrity:x,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Nn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=f(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},Nn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=f(v,g.crossOrigin);i.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Nn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=f(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},Nn.requestFormReset=function(p){i.d.r(p)},Nn.unstable_batchedUpdates=function(p,g){return p(g)},Nn.useFormState=function(p,g,v){return u.H.useFormState(p,g,v)},Nn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Nn.version="19.1.0",Nn}var Ix;function Qw(){if(Ix)return bg.exports;Ix=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),bg.exports=pR(),bg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nx;function gR(){if(Nx)return su;Nx=1;var n=mR(),e=By(),t=Qw();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(l(r)!==r)throw Error(i(188))}function p(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,c=s;;){var h=o.return;if(h===null)break;var y=h.alternate;if(y===null){if(c=h.return,c!==null){o=c;continue}break}if(h.child===y.child){for(y=h.child;y;){if(y===o)return f(h),r;if(y===c)return f(h),s;y=y.sibling}throw Error(i(188))}if(o.return!==c.return)o=h,c=y;else{for(var T=!1,N=h.child;N;){if(N===o){T=!0,o=h,c=y;break}if(N===c){T=!0,c=h,o=y;break}N=N.sibling}if(!T){for(N=y.child;N;){if(N===o){T=!0,o=y,c=h;break}if(N===c){T=!0,c=y,o=h;break}N=N.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),L=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function B(r){return r===null||typeof r!="object"?null:(r=I&&r[I]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function Y(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case D:return"Profiler";case C:return"StrictMode";case $:return"Suspense";case ne:return"SuspenseList";case j:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case A:return"Portal";case L:return(r.displayName||"Context")+".Provider";case U:return(r._context.displayName||"Context")+".Consumer";case q:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case k:return s=r.displayName||null,s!==null?s:Y(r.type)||"Memo";case S:s=r._payload,r=r._init;try{return Y(r(s))}catch{}}return null}var se=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ve=[],z=-1;function ae(r){return{current:r}}function me(r){0>z||(r.current=ve[z],ve[z]=null,z--)}function oe(r,s){z++,ve[z]=r.current,r.current=s}var be=ae(null),pe=ae(null),ge=ae(null),ce=ae(null);function xe(r,s){switch(oe(ge,s),oe(pe,r),oe(be,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?Wb(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=Wb(s),r=Xb(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}me(be),oe(be,r)}function Te(){me(be),me(pe),me(ge)}function Re(r){r.memoizedState!==null&&oe(ce,r);var s=be.current,o=Xb(s,r.type);s!==o&&(oe(pe,r),oe(be,o))}function Se(r){pe.current===r&&(me(be),me(pe)),ce.current===r&&(me(ce),Jc._currentValue=K)}var je=Object.prototype.hasOwnProperty,X=n.unstable_scheduleCallback,ye=n.unstable_cancelCallback,Ee=n.unstable_shouldYield,Ae=n.unstable_requestPaint,ke=n.unstable_now,lt=n.unstable_getCurrentPriorityLevel,Ve=n.unstable_ImmediatePriority,Ge=n.unstable_UserBlockingPriority,Gt=n.unstable_NormalPriority,Gn=n.unstable_LowPriority,Un=n.unstable_IdlePriority,Yt=n.log,yi=n.unstable_setDisableYieldValue,zt=null,pt=null;function Jn(r){if(typeof Yt=="function"&&yi(r),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(zt,r)}catch{}}var Rn=Math.clz32?Math.clz32:ya,id=Math.log,ym=Math.LN2;function ya(r){return r>>>=0,r===0?32:31-(id(r)/ym|0)|0}var va=256,_a=4194304;function Sr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function mo(r,s,o){var c=r.pendingLanes;if(c===0)return 0;var h=0,y=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var N=c&134217727;return N!==0?(c=N&~y,c!==0?h=Sr(c):(T&=N,T!==0?h=Sr(T):o||(o=N&~r,o!==0&&(h=Sr(o))))):(N=c&~y,N!==0?h=Sr(N):T!==0?h=Sr(T):o||(o=c&~r,o!==0&&(h=Sr(o)))),h===0?0:s!==0&&s!==h&&(s&y)===0&&(y=h&-h,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:h}function ba(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Jl(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ec(){var r=va;return va<<=1,(va&4194048)===0&&(va=256),r}function tc(){var r=_a;return _a<<=1,(_a&62914560)===0&&(_a=4194304),r}function vi(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function _i(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function nc(r,s,o,c,h,y){var T=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var N=r.entanglements,F=r.expirationTimes,J=r.hiddenUpdates;for(o=T&~o;0<o;){var le=31-Rn(o),fe=1<<le;N[le]=0,F[le]=-1;var te=J[le];if(te!==null)for(J[le]=null,le=0;le<te.length;le++){var re=te[le];re!==null&&(re.lane&=-536870913)}o&=~fe}c!==0&&zr(r,c,0),y!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=y&~(T&~s))}function zr(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-Rn(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194090}function rc(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-Rn(o),h=1<<c;h&s|r[c]&s&&(r[c]|=s),o&=~h}}function hs(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function po(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ms(){var r=ee.p;return r!==0?r:(r=window.event,r===void 0?32:gx(r.type))}function sd(r,s){var o=ee.p;try{return ee.p=r,s()}finally{ee.p=o}}var Dt=Math.random().toString(36).slice(2),sn="__reactFiber$"+Dt,Zt="__reactProps$"+Dt,dr="__reactContainer$"+Dt,ic="__reactEvents$"+Dt,vm="__reactListeners$"+Dt,ps="__reactHandles$"+Dt,ad="__reactResources$"+Dt,xa="__reactMarker$"+Dt;function gs(r){delete r[sn],delete r[Zt],delete r[ic],delete r[vm],delete r[ps]}function bi(r){var s=r[sn];if(s)return s;for(var o=r.parentNode;o;){if(s=o[dr]||o[sn]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=tx(r);r!==null;){if(o=r[sn])return o;r=tx(r)}return s}r=o,o=r.parentNode}return null}function Fr(r){if(r=r[sn]||r[dr]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Hr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Bn(r){var s=r[ad];return s||(s=r[ad]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Kt(r){r[xa]=!0}var sc=new Set,go={};function Ar(r,s){xi(r,s),xi(r+"Capture",s)}function xi(r,s){for(go[r]=s,r=0;r<s.length;r++)sc.add(s[r])}var od=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ld={},Ea={};function cd(r){return je.call(Ea,r)?!0:je.call(ld,r)?!1:od.test(r)?Ea[r]=!0:(ld[r]=!0,!1)}function ys(r,s,o){if(cd(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function qr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function _n(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}var wa,ud;function Ei(r){if(wa===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);wa=s&&s[1]||"",ud=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wa+r+ud}var yo=!1;function vo(r,s){if(!r||yo)return"";yo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(re){var te=re}Reflect.construct(r,[],fe)}else{try{fe.call()}catch(re){te=re}r.call(fe.prototype)}}else{try{throw Error()}catch(re){te=re}(fe=r())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(re){if(re&&te&&typeof re.stack=="string")return[re.stack,te.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),T=y[0],N=y[1];if(T&&N){var F=T.split(`
`),J=N.split(`
`);for(h=c=0;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;for(;h<J.length&&!J[h].includes("DetermineComponentFrameRoot");)h++;if(c===F.length||h===J.length)for(c=F.length-1,h=J.length-1;1<=c&&0<=h&&F[c]!==J[h];)h--;for(;1<=c&&0<=h;c--,h--)if(F[c]!==J[h]){if(c!==1||h!==1)do if(c--,h--,0>h||F[c]!==J[h]){var le=`
`+F[c].replace(" at new "," at ");return r.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",r.displayName)),le}while(1<=c&&0<=h);break}}}finally{yo=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Ei(o):""}function ac(r){switch(r.tag){case 26:case 27:case 5:return Ei(r.type);case 16:return Ei("Lazy");case 13:return Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 15:return vo(r.type,!1);case 11:return vo(r.type.render,!1);case 1:return vo(r.type,!0);case 31:return Ei("Activity");default:return""}}function _o(r){try{var s="";do s+=ac(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function zn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function oc(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function _m(r){var s=oc(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,y=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(T){c=""+T,y.call(this,T)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function bo(r){r._valueTracker||(r._valueTracker=_m(r))}function lc(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=oc(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function Ta(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var bm=/[\n"\\]/g;function Jt(r){return r.replace(bm,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function er(r,s,o,c,h,y,T,N){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+zn(s)):r.value!==""+zn(s)&&(r.value=""+zn(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?vs(r,T,zn(s)):o!=null?vs(r,T,zn(o)):c!=null&&r.removeAttribute("value"),h==null&&y!=null&&(r.defaultChecked=!!y),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?r.name=""+zn(N):r.removeAttribute("name")}function Sa(r,s,o,c,h,y,T,N){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;o=o!=null?""+zn(o):"",s=s!=null?""+zn(s):o,N||s===r.value||(r.value=s),r.defaultValue=s}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=N?r.checked:!!c,r.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function vs(r,s,o){s==="number"&&Ta(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function wi(r,s,o,c){if(r=r.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=s.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&c&&(r[o].defaultSelected=!0)}else{for(o=""+zn(o),s=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,c&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function _t(r,s,o){if(s!=null&&(s=""+zn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+zn(o):""}function Aa(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(i(92));if(se(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=zn(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function fr(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Ca=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dd(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||Ca.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function cc(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var h in s)c=s[h],s.hasOwnProperty(h)&&o[h]!==c&&dd(r,h,c)}else for(var y in s)s.hasOwnProperty(y)&&dd(r,y,s[y])}function uc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Em=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xo(r){return Em.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Ti=null;function hr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Si=null,Ai=null;function dc(r){var s=Fr(r);if(s&&(r=s.stateNode)){var o=r[Zt]||null;e:switch(r=s.stateNode,s.type){case"input":if(er(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Jt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var h=c[Zt]||null;if(!h)throw Error(i(90));er(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&lc(c)}break e;case"textarea":_t(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&wi(r,!!o.multiple,s,!1)}}}var $r=!1;function fd(r,s,o){if($r)return r(s,o);$r=!0;try{var c=r(s);return c}finally{if($r=!1,(Si!==null||Ai!==null)&&(af(),Si&&(s=Si,r=Ai,Ai=Si=null,dc(s),r)))for(s=0;s<r.length;s++)dc(r[s])}}function Ra(r,s){var o=r.stateNode;if(o===null)return null;var c=o[Zt]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mr=!1;if(Cr)try{var Ia={};Object.defineProperty(Ia,"passive",{get:function(){mr=!0}}),window.addEventListener("test",Ia,Ia),window.removeEventListener("test",Ia,Ia)}catch{mr=!1}var Gr=null,_s=null,Ci=null;function fc(){if(Ci)return Ci;var r,s=_s,o=s.length,c,h="value"in Gr?Gr.value:Gr.textContent,y=h.length;for(r=0;r<o&&s[r]===h[r];r++);var T=o-r;for(c=1;c<=T&&s[o-c]===h[y-c];c++);return Ci=h.slice(r,1<c?1-c:void 0)}function Yr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Kr(){return!0}function hc(){return!1}function hn(r){function s(o,c,h,y,T){this._reactName=o,this._targetInst=h,this.type=c,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var N in r)r.hasOwnProperty(N)&&(o=r[N],this[N]=o?o(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Kr:hc,this.isPropagationStopped=hc,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),s}var ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eo=hn(ht),Na=v({},ht,{view:0,detail:0}),hd=hn(Na),wo,To,Qr,Da=v({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ja,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Qr&&(Qr&&r.type==="mousemove"?(wo=r.screenX-Qr.screenX,To=r.screenY-Qr.screenY):To=wo=0,Qr=r),wo)},movementY:function(r){return"movementY"in r?r.movementY:To}}),pr=hn(Da),md=v({},Da,{dataTransfer:0}),wm=hn(md),ka=v({},Na,{relatedTarget:0}),So=hn(ka),mc=v({},ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Ao=hn(mc),pd=v({},ht,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Co=hn(pd),Tm=v({},ht,{data:0}),pc=hn(Tm),Oa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gc(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=yd[r])?!!s[r]:!1}function ja(){return gc}var vd=v({},Na,{key:function(r){if(r.key){var s=Oa[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Yr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?gd[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ja,charCode:function(r){return r.type==="keypress"?Yr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Yr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ro=hn(vd),_d=v({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yc=hn(_d),Ri=v({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ja}),bd=hn(Ri),xd=v({},ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ed=hn(xd),wd=v({},Da,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Io=hn(wd),Fn=v({},ht,{newState:0,oldState:0}),Td=hn(Fn),Sd=[9,13,27,32],Wr=Cr&&"CompositionEvent"in window,d=null;Cr&&"documentMode"in document&&(d=document.documentMode);var _=Cr&&"TextEvent"in window&&!d,w=Cr&&(!Wr||d&&8<d&&11>=d),O=" ",W=!1;function ie(r,s){switch(r){case"keyup":return Sd.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _e(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var it=!1;function an(r,s){switch(r){case"compositionend":return _e(s);case"keypress":return s.which!==32?null:(W=!0,O);case"textInput":return r=s.data,r===O&&W?null:r;default:return null}}function st(r,s){if(it)return r==="compositionend"||!Wr&&ie(r,s)?(r=fc(),Ci=_s=Gr=null,it=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return w&&s.locale!=="ko"?null:s.data;default:return null}}var mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function on(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!mn[r.type]:s==="textarea"}function Ii(r,s,o,c){Si?Ai?Ai.push(c):Ai=[c]:Si=c,s=ff(s,"onChange"),0<s.length&&(o=new Eo("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var bn=null,Xr=null;function vc(r){$b(r,0)}function Ad(r){var s=Hr(r);if(lc(s))return r}function f0(r,s){if(r==="change")return s}var h0=!1;if(Cr){var Sm;if(Cr){var Am="oninput"in document;if(!Am){var m0=document.createElement("div");m0.setAttribute("oninput","return;"),Am=typeof m0.oninput=="function"}Sm=Am}else Sm=!1;h0=Sm&&(!document.documentMode||9<document.documentMode)}function p0(){bn&&(bn.detachEvent("onpropertychange",g0),Xr=bn=null)}function g0(r){if(r.propertyName==="value"&&Ad(Xr)){var s=[];Ii(s,Xr,r,hr(r)),fd(vc,s)}}function U2(r,s,o){r==="focusin"?(p0(),bn=s,Xr=o,bn.attachEvent("onpropertychange",g0)):r==="focusout"&&p0()}function B2(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ad(Xr)}function z2(r,s){if(r==="click")return Ad(s)}function F2(r,s){if(r==="input"||r==="change")return Ad(s)}function H2(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var tr=typeof Object.is=="function"?Object.is:H2;function _c(r,s){if(tr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var h=o[c];if(!je.call(s,h)||!tr(r[h],s[h]))return!1}return!0}function y0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function v0(r,s){var o=y0(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=y0(o)}}function _0(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?_0(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function b0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Ta(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Ta(r.document)}return s}function Cm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var q2=Cr&&"documentMode"in document&&11>=document.documentMode,No=null,Rm=null,bc=null,Im=!1;function x0(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Im||No==null||No!==Ta(c)||(c=No,"selectionStart"in c&&Cm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),bc&&_c(bc,c)||(bc=c,c=ff(Rm,"onSelect"),0<c.length&&(s=new Eo("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=No)))}function Ma(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Do={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},Nm={},E0={};Cr&&(E0=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function Pa(r){if(Nm[r])return Nm[r];if(!Do[r])return r;var s=Do[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in E0)return Nm[r]=s[o];return r}var w0=Pa("animationend"),T0=Pa("animationiteration"),S0=Pa("animationstart"),$2=Pa("transitionrun"),G2=Pa("transitionstart"),Y2=Pa("transitioncancel"),A0=Pa("transitionend"),C0=new Map,Dm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dm.push("scrollEnd");function Rr(r,s){C0.set(r,s),Ar(s,[r])}var R0=new WeakMap;function gr(r,s){if(typeof r=="object"&&r!==null){var o=R0.get(r);return o!==void 0?o:(s={value:r,source:s,stack:_o(s)},R0.set(r,s),s)}return{value:r,source:s,stack:_o(s)}}var yr=[],ko=0,km=0;function Cd(){for(var r=ko,s=km=ko=0;s<r;){var o=yr[s];yr[s++]=null;var c=yr[s];yr[s++]=null;var h=yr[s];yr[s++]=null;var y=yr[s];if(yr[s++]=null,c!==null&&h!==null){var T=c.pending;T===null?h.next=h:(h.next=T.next,T.next=h),c.pending=h}y!==0&&I0(o,h,y)}}function Rd(r,s,o,c){yr[ko++]=r,yr[ko++]=s,yr[ko++]=o,yr[ko++]=c,km|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Om(r,s,o,c){return Rd(r,s,o,c),Id(r)}function Oo(r,s){return Rd(r,null,null,s),Id(r)}function I0(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var h=!1,y=r.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(h=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,h&&s!==null&&(h=31-Rn(o),r=y.hiddenUpdates,c=r[h],c===null?r[h]=[s]:c.push(s),s.lane=o|536870912),y):null}function Id(r){if(50<$c)throw $c=0,Up=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var jo={};function K2(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(r,s,o,c){return new K2(r,s,o,c)}function jm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ni(r,s){var o=r.alternate;return o===null?(o=nr(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function N0(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Nd(r,s,o,c,h,y){var T=0;if(c=r,typeof r=="function")jm(r)&&(T=1);else if(typeof r=="string")T=WC(r,o,be.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case j:return r=nr(31,o,s,h),r.elementType=j,r.lanes=y,r;case R:return Va(o.children,h,y,s);case C:T=8,h|=24;break;case D:return r=nr(12,o,s,h|2),r.elementType=D,r.lanes=y,r;case $:return r=nr(13,o,s,h),r.elementType=$,r.lanes=y,r;case ne:return r=nr(19,o,s,h),r.elementType=ne,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:case L:T=10;break e;case U:T=9;break e;case q:T=11;break e;case k:T=14;break e;case S:T=16,c=null;break e}T=29,o=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=nr(T,o,s,h),s.elementType=r,s.type=c,s.lanes=y,s}function Va(r,s,o,c){return r=nr(7,r,c,s),r.lanes=o,r}function Mm(r,s,o){return r=nr(6,r,null,s),r.lanes=o,r}function Pm(r,s,o){return s=nr(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Mo=[],Po=0,Dd=null,kd=0,vr=[],_r=0,La=null,Di=1,ki="";function Ua(r,s){Mo[Po++]=kd,Mo[Po++]=Dd,Dd=r,kd=s}function D0(r,s,o){vr[_r++]=Di,vr[_r++]=ki,vr[_r++]=La,La=r;var c=Di;r=ki;var h=32-Rn(c)-1;c&=~(1<<h),o+=1;var y=32-Rn(s)+h;if(30<y){var T=h-h%5;y=(c&(1<<T)-1).toString(32),c>>=T,h-=T,Di=1<<32-Rn(s)+h|o<<h|c,ki=y+r}else Di=1<<y|o<<h|c,ki=r}function Vm(r){r.return!==null&&(Ua(r,1),D0(r,1,0))}function Lm(r){for(;r===Dd;)Dd=Mo[--Po],Mo[Po]=null,kd=Mo[--Po],Mo[Po]=null;for(;r===La;)La=vr[--_r],vr[_r]=null,ki=vr[--_r],vr[_r]=null,Di=vr[--_r],vr[_r]=null}var Hn=null,Ft=null,ut=!1,Ba=null,Zr=!1,Um=Error(i(519));function za(r){var s=Error(i(418,""));throw wc(gr(s,r)),Um}function k0(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[sn]=r,s[Zt]=c,o){case"dialog":et("cancel",s),et("close",s);break;case"iframe":case"object":case"embed":et("load",s);break;case"video":case"audio":for(o=0;o<Yc.length;o++)et(Yc[o],s);break;case"source":et("error",s);break;case"img":case"image":case"link":et("error",s),et("load",s);break;case"details":et("toggle",s);break;case"input":et("invalid",s),Sa(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),bo(s);break;case"select":et("invalid",s);break;case"textarea":et("invalid",s),Aa(s,c.value,c.defaultValue,c.children),bo(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||Qb(s.textContent,o)?(c.popover!=null&&(et("beforetoggle",s),et("toggle",s)),c.onScroll!=null&&et("scroll",s),c.onScrollEnd!=null&&et("scrollend",s),c.onClick!=null&&(s.onclick=hf),s=!0):s=!1,s||za(r)}function O0(r){for(Hn=r.return;Hn;)switch(Hn.tag){case 5:case 13:Zr=!1;return;case 27:case 3:Zr=!0;return;default:Hn=Hn.return}}function xc(r){if(r!==Hn)return!1;if(!ut)return O0(r),ut=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||tg(r.type,r.memoizedProps)),o=!o),o&&Ft&&za(r),O0(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){Ft=Nr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}Ft=null}}else s===27?(s=Ft,Ms(r.type)?(r=sg,sg=null,Ft=r):Ft=s):Ft=Hn?Nr(r.stateNode.nextSibling):null;return!0}function Ec(){Ft=Hn=null,ut=!1}function j0(){var r=Ba;return r!==null&&(Qn===null?Qn=r:Qn.push.apply(Qn,r),Ba=null),r}function wc(r){Ba===null?Ba=[r]:Ba.push(r)}var Bm=ae(null),Fa=null,Oi=null;function bs(r,s,o){oe(Bm,s._currentValue),s._currentValue=o}function ji(r){r._currentValue=Bm.current,me(Bm)}function zm(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function Fm(r,s,o,c){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var y=h.dependencies;if(y!==null){var T=h.child;y=y.firstContext;e:for(;y!==null;){var N=y;y=h;for(var F=0;F<s.length;F++)if(N.context===s[F]){y.lanes|=o,N=y.alternate,N!==null&&(N.lanes|=o),zm(y.return,o,r),c||(T=null);break e}y=N.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(i(341));T.lanes|=o,y=T.alternate,y!==null&&(y.lanes|=o),zm(T,o,r),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===r){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function Tc(r,s,o,c){r=null;for(var h=s,y=!1;h!==null;){if(!y){if((h.flags&524288)!==0)y=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var N=h.type;tr(h.pendingProps.value,T.value)||(r!==null?r.push(N):r=[N])}}else if(h===ce.current){if(T=h.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(Jc):r=[Jc])}h=h.return}r!==null&&Fm(s,r,o,c),s.flags|=262144}function Od(r){for(r=r.firstContext;r!==null;){if(!tr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ha(r){Fa=r,Oi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function In(r){return M0(Fa,r)}function jd(r,s){return Fa===null&&Ha(r),M0(r,s)}function M0(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Oi===null){if(r===null)throw Error(i(308));Oi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Oi=Oi.next=s;return o}var Q2=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},W2=n.unstable_scheduleCallback,X2=n.unstable_NormalPriority,ln={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hm(){return{controller:new Q2,data:new Map,refCount:0}}function Sc(r){r.refCount--,r.refCount===0&&W2(X2,function(){r.controller.abort()})}var Ac=null,qm=0,Vo=0,Lo=null;function Z2(r,s){if(Ac===null){var o=Ac=[];qm=0,Vo=Gp(),Lo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return qm++,s.then(P0,P0),s}function P0(){if(--qm===0&&Ac!==null){Lo!==null&&(Lo.status="fulfilled");var r=Ac;Ac=null,Vo=0,Lo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function J2(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var h=0;h<o.length;h++)(0,o[h])(s)},function(h){for(c.status="rejected",c.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),c}var V0=H.S;H.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Z2(r,s),V0!==null&&V0(r,s)};var qa=ae(null);function $m(){var r=qa.current;return r!==null?r:Ct.pooledCache}function Md(r,s){s===null?oe(qa,qa.current):oe(qa,s.pool)}function L0(){var r=$m();return r===null?null:{parent:ln._currentValue,pool:r}}var Cc=Error(i(460)),U0=Error(i(474)),Pd=Error(i(542)),Gm={then:function(){}};function B0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Vd(){}function z0(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Vd,Vd),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,H0(r),r;default:if(typeof s.status=="string")s.then(Vd,Vd);else{if(r=Ct,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=c}},function(c){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,H0(r),r}throw Rc=s,Cc}}var Rc=null;function F0(){if(Rc===null)throw Error(i(459));var r=Rc;return Rc=null,r}function H0(r){if(r===Cc||r===Pd)throw Error(i(483))}var xs=!1;function Ym(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Km(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Es(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ws(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(gt&2)!==0){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,s=Id(r),I0(r,null,o),s}return Rd(r,c,s,o),Id(r)}function Ic(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,rc(r,o)}}function Qm(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var h=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?h=y=T:y=y.next=T,o=o.next}while(o!==null);y===null?h=y=s:y=y.next=s}else h=y=s;o={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Wm=!1;function Nc(){if(Wm){var r=Lo;if(r!==null)throw r}}function Dc(r,s,o,c){Wm=!1;var h=r.updateQueue;xs=!1;var y=h.firstBaseUpdate,T=h.lastBaseUpdate,N=h.shared.pending;if(N!==null){h.shared.pending=null;var F=N,J=F.next;F.next=null,T===null?y=J:T.next=J,T=F;var le=r.alternate;le!==null&&(le=le.updateQueue,N=le.lastBaseUpdate,N!==T&&(N===null?le.firstBaseUpdate=J:N.next=J,le.lastBaseUpdate=F))}if(y!==null){var fe=h.baseState;T=0,le=J=F=null,N=y;do{var te=N.lane&-536870913,re=te!==N.lane;if(re?(at&te)===te:(c&te)===te){te!==0&&te===Vo&&(Wm=!0),le!==null&&(le=le.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var He=r,Le=N;te=s;var Et=o;switch(Le.tag){case 1:if(He=Le.payload,typeof He=="function"){fe=He.call(Et,fe,te);break e}fe=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=Le.payload,te=typeof He=="function"?He.call(Et,fe,te):He,te==null)break e;fe=v({},fe,te);break e;case 2:xs=!0}}te=N.callback,te!==null&&(r.flags|=64,re&&(r.flags|=8192),re=h.callbacks,re===null?h.callbacks=[te]:re.push(te))}else re={lane:te,tag:N.tag,payload:N.payload,callback:N.callback,next:null},le===null?(J=le=re,F=fe):le=le.next=re,T|=te;if(N=N.next,N===null){if(N=h.shared.pending,N===null)break;re=N,N=re.next,re.next=null,h.lastBaseUpdate=re,h.shared.pending=null}}while(!0);le===null&&(F=fe),h.baseState=F,h.firstBaseUpdate=J,h.lastBaseUpdate=le,y===null&&(h.shared.lanes=0),Ds|=T,r.lanes=T,r.memoizedState=fe}}function q0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function $0(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)q0(o[r],s)}var Uo=ae(null),Ld=ae(0);function G0(r,s){r=zi,oe(Ld,r),oe(Uo,s),zi=r|s.baseLanes}function Xm(){oe(Ld,zi),oe(Uo,Uo.current)}function Zm(){zi=Ld.current,me(Uo),me(Ld)}var Ts=0,Qe=null,bt=null,en=null,Ud=!1,Bo=!1,$a=!1,Bd=0,kc=0,zo=null,eC=0;function Qt(){throw Error(i(321))}function Jm(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!tr(r[o],s[o]))return!1;return!0}function ep(r,s,o,c,h,y){return Ts=y,Qe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=r===null||r.memoizedState===null?I_:N_,$a=!1,y=o(c,h),$a=!1,Bo&&(y=K0(s,o,c,h)),Y0(r),y}function Y0(r){H.H=Gd;var s=bt!==null&&bt.next!==null;if(Ts=0,en=bt=Qe=null,Ud=!1,kc=0,zo=null,s)throw Error(i(300));r===null||pn||(r=r.dependencies,r!==null&&Od(r)&&(pn=!0))}function K0(r,s,o,c){Qe=r;var h=0;do{if(Bo&&(zo=null),kc=0,Bo=!1,25<=h)throw Error(i(301));if(h+=1,en=bt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}H.H=oC,y=s(o,c)}while(Bo);return y}function tC(){var r=H.H,s=r.useState()[0];return s=typeof s.then=="function"?Oc(s):s,r=r.useState()[0],(bt!==null?bt.memoizedState:null)!==r&&(Qe.flags|=1024),s}function tp(){var r=Bd!==0;return Bd=0,r}function np(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function rp(r){if(Ud){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ud=!1}Ts=0,en=bt=Qe=null,Bo=!1,kc=Bd=0,zo=null}function Yn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Qe.memoizedState=en=r:en=en.next=r,en}function tn(){if(bt===null){var r=Qe.alternate;r=r!==null?r.memoizedState:null}else r=bt.next;var s=en===null?Qe.memoizedState:en.next;if(s!==null)en=s,bt=r;else{if(r===null)throw Qe.alternate===null?Error(i(467)):Error(i(310));bt=r,r={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},en===null?Qe.memoizedState=en=r:en=en.next=r}return en}function ip(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oc(r){var s=kc;return kc+=1,zo===null&&(zo=[]),r=z0(zo,r,s),s=Qe,(en===null?s.memoizedState:en.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?I_:N_),r}function zd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Oc(r);if(r.$$typeof===L)return In(r)}throw Error(i(438,String(r)))}function sp(r){var s=null,o=Qe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Qe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=ip(),Qe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=V;return s.index++,o}function Mi(r,s){return typeof s=="function"?s(r):s}function Fd(r){var s=tn();return ap(s,bt,r)}function ap(r,s,o){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var h=r.baseQueue,y=c.pending;if(y!==null){if(h!==null){var T=h.next;h.next=y.next,y.next=T}s.baseQueue=h=y,c.pending=null}if(y=r.baseState,h===null)r.memoizedState=y;else{s=h.next;var N=T=null,F=null,J=s,le=!1;do{var fe=J.lane&-536870913;if(fe!==J.lane?(at&fe)===fe:(Ts&fe)===fe){var te=J.revertLane;if(te===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),fe===Vo&&(le=!0);else if((Ts&te)===te){J=J.next,te===Vo&&(le=!0);continue}else fe={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},F===null?(N=F=fe,T=y):F=F.next=fe,Qe.lanes|=te,Ds|=te;fe=J.action,$a&&o(y,fe),y=J.hasEagerState?J.eagerState:o(y,fe)}else te={lane:fe,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},F===null?(N=F=te,T=y):F=F.next=te,Qe.lanes|=fe,Ds|=fe;J=J.next}while(J!==null&&J!==s);if(F===null?T=y:F.next=N,!tr(y,r.memoizedState)&&(pn=!0,le&&(o=Lo,o!==null)))throw o;r.memoizedState=y,r.baseState=T,r.baseQueue=F,c.lastRenderedState=y}return h===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function op(r){var s=tn(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var c=o.dispatch,h=o.pending,y=s.memoizedState;if(h!==null){o.pending=null;var T=h=h.next;do y=r(y,T.action),T=T.next;while(T!==h);tr(y,s.memoizedState)||(pn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,c]}function Q0(r,s,o){var c=Qe,h=tn(),y=ut;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=s();var T=!tr((bt||h).memoizedState,o);T&&(h.memoizedState=o,pn=!0),h=h.queue;var N=Z0.bind(null,c,h,r);if(jc(2048,8,N,[r]),h.getSnapshot!==s||T||en!==null&&en.memoizedState.tag&1){if(c.flags|=2048,Fo(9,Hd(),X0.bind(null,c,h,o,s),null),Ct===null)throw Error(i(349));y||(Ts&124)!==0||W0(c,s,o)}return o}function W0(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Qe.updateQueue,s===null?(s=ip(),Qe.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function X0(r,s,o,c){s.value=o,s.getSnapshot=c,J0(s)&&e_(r)}function Z0(r,s,o){return o(function(){J0(s)&&e_(r)})}function J0(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!tr(r,o)}catch{return!0}}function e_(r){var s=Oo(r,2);s!==null&&or(s,r,2)}function lp(r){var s=Yn();if(typeof r=="function"){var o=r;if(r=o(),$a){Jn(!0);try{o()}finally{Jn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:r},s}function t_(r,s,o,c){return r.baseState=o,ap(r,bt,typeof c=="function"?c:Mi)}function nC(r,s,o,c,h){if($d(r))throw Error(i(485));if(r=s.action,r!==null){var y={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};H.T!==null?o(!0):y.isTransition=!1,c(y),o=s.pending,o===null?(y.next=s.pending=y,n_(s,y)):(y.next=o.next,s.pending=o.next=y)}}function n_(r,s){var o=s.action,c=s.payload,h=r.state;if(s.isTransition){var y=H.T,T={};H.T=T;try{var N=o(h,c),F=H.S;F!==null&&F(T,N),r_(r,s,N)}catch(J){cp(r,s,J)}finally{H.T=y}}else try{y=o(h,c),r_(r,s,y)}catch(J){cp(r,s,J)}}function r_(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){i_(r,s,c)},function(c){return cp(r,s,c)}):i_(r,s,o)}function i_(r,s,o){s.status="fulfilled",s.value=o,s_(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,n_(r,o)))}function cp(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,s_(s),s=s.next;while(s!==c)}r.action=null}function s_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function a_(r,s){return s}function o_(r,s){if(ut){var o=Ct.formState;if(o!==null){e:{var c=Qe;if(ut){if(Ft){t:{for(var h=Ft,y=Zr;h.nodeType!==8;){if(!y){h=null;break t}if(h=Nr(h.nextSibling),h===null){h=null;break t}}y=h.data,h=y==="F!"||y==="F"?h:null}if(h){Ft=Nr(h.nextSibling),c=h.data==="F!";break e}}za(c)}c=!1}c&&(s=o[0])}}return o=Yn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a_,lastRenderedState:s},o.queue=c,o=A_.bind(null,Qe,c),c.dispatch=o,c=lp(!1),y=mp.bind(null,Qe,!1,c.queue),c=Yn(),h={state:s,dispatch:null,action:r,pending:null},c.queue=h,o=nC.bind(null,Qe,h,y,o),h.dispatch=o,c.memoizedState=r,[s,o,!1]}function l_(r){var s=tn();return c_(s,bt,r)}function c_(r,s,o){if(s=ap(r,s,a_)[0],r=Fd(Mi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Oc(s)}catch(T){throw T===Cc?Pd:T}else c=s;s=tn();var h=s.queue,y=h.dispatch;return o!==s.memoizedState&&(Qe.flags|=2048,Fo(9,Hd(),rC.bind(null,h,o),null)),[c,y,r]}function rC(r,s){r.action=s}function u_(r){var s=tn(),o=bt;if(o!==null)return c_(s,o,r);tn(),s=s.memoizedState,o=tn();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function Fo(r,s,o,c){return r={tag:r,create:o,deps:c,inst:s,next:null},s=Qe.updateQueue,s===null&&(s=ip(),Qe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function Hd(){return{destroy:void 0,resource:void 0}}function d_(){return tn().memoizedState}function qd(r,s,o,c){var h=Yn();c=c===void 0?null:c,Qe.flags|=r,h.memoizedState=Fo(1|s,Hd(),o,c)}function jc(r,s,o,c){var h=tn();c=c===void 0?null:c;var y=h.memoizedState.inst;bt!==null&&c!==null&&Jm(c,bt.memoizedState.deps)?h.memoizedState=Fo(s,y,o,c):(Qe.flags|=r,h.memoizedState=Fo(1|s,y,o,c))}function f_(r,s){qd(8390656,8,r,s)}function h_(r,s){jc(2048,8,r,s)}function m_(r,s){return jc(4,2,r,s)}function p_(r,s){return jc(4,4,r,s)}function g_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function y_(r,s,o){o=o!=null?o.concat([r]):null,jc(4,4,g_.bind(null,s,r),o)}function up(){}function v_(r,s){var o=tn();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Jm(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function __(r,s){var o=tn();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Jm(s,c[1]))return c[0];if(c=r(),$a){Jn(!0);try{r()}finally{Jn(!1)}}return o.memoizedState=[c,s],c}function dp(r,s,o){return o===void 0||(Ts&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=Eb(),Qe.lanes|=r,Ds|=r,o)}function b_(r,s,o,c){return tr(o,s)?o:Uo.current!==null?(r=dp(r,o,c),tr(r,s)||(pn=!0),r):(Ts&42)===0?(pn=!0,r.memoizedState=o):(r=Eb(),Qe.lanes|=r,Ds|=r,s)}function x_(r,s,o,c,h){var y=ee.p;ee.p=y!==0&&8>y?y:8;var T=H.T,N={};H.T=N,mp(r,!1,s,o);try{var F=h(),J=H.S;if(J!==null&&J(N,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var le=J2(F,c);Mc(r,s,le,ar(r))}else Mc(r,s,c,ar(r))}catch(fe){Mc(r,s,{then:function(){},status:"rejected",reason:fe},ar())}finally{ee.p=y,H.T=T}}function iC(){}function fp(r,s,o,c){if(r.tag!==5)throw Error(i(476));var h=E_(r).queue;x_(r,h,s,K,o===null?iC:function(){return w_(r),o(c)})}function E_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:K},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function w_(r){var s=E_(r).next.queue;Mc(r,s,{},ar())}function hp(){return In(Jc)}function T_(){return tn().memoizedState}function S_(){return tn().memoizedState}function sC(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=ar();r=Es(o);var c=ws(s,r,o);c!==null&&(or(c,s,o),Ic(c,s,o)),s={cache:Hm()},r.payload=s;return}s=s.return}}function aC(r,s,o){var c=ar();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},$d(r)?C_(s,o):(o=Om(r,s,o,c),o!==null&&(or(o,r,c),R_(o,s,c)))}function A_(r,s,o){var c=ar();Mc(r,s,o,c)}function Mc(r,s,o,c){var h={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if($d(r))C_(s,h);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var T=s.lastRenderedState,N=y(T,o);if(h.hasEagerState=!0,h.eagerState=N,tr(N,T))return Rd(r,s,h,0),Ct===null&&Cd(),!1}catch{}finally{}if(o=Om(r,s,h,c),o!==null)return or(o,r,c),R_(o,s,c),!0}return!1}function mp(r,s,o,c){if(c={lane:2,revertLane:Gp(),action:c,hasEagerState:!1,eagerState:null,next:null},$d(r)){if(s)throw Error(i(479))}else s=Om(r,o,c,2),s!==null&&or(s,r,2)}function $d(r){var s=r.alternate;return r===Qe||s!==null&&s===Qe}function C_(r,s){Bo=Ud=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function R_(r,s,o){if((o&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,rc(r,o)}}var Gd={readContext:In,use:zd,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt},I_={readContext:In,use:zd,useCallback:function(r,s){return Yn().memoizedState=[r,s===void 0?null:s],r},useContext:In,useEffect:f_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,qd(4194308,4,g_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return qd(4194308,4,r,s)},useInsertionEffect:function(r,s){qd(4,2,r,s)},useMemo:function(r,s){var o=Yn();s=s===void 0?null:s;var c=r();if($a){Jn(!0);try{r()}finally{Jn(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=Yn();if(o!==void 0){var h=o(s);if($a){Jn(!0);try{o(s)}finally{Jn(!1)}}}else h=s;return c.memoizedState=c.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},c.queue=r,r=r.dispatch=aC.bind(null,Qe,r),[c.memoizedState,r]},useRef:function(r){var s=Yn();return r={current:r},s.memoizedState=r},useState:function(r){r=lp(r);var s=r.queue,o=A_.bind(null,Qe,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:up,useDeferredValue:function(r,s){var o=Yn();return dp(o,r,s)},useTransition:function(){var r=lp(!1);return r=x_.bind(null,Qe,r.queue,!0,!1),Yn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=Qe,h=Yn();if(ut){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),Ct===null)throw Error(i(349));(at&124)!==0||W0(c,s,o)}h.memoizedState=o;var y={value:o,getSnapshot:s};return h.queue=y,f_(Z0.bind(null,c,y,r),[r]),c.flags|=2048,Fo(9,Hd(),X0.bind(null,c,y,o,s),null),o},useId:function(){var r=Yn(),s=Ct.identifierPrefix;if(ut){var o=ki,c=Di;o=(c&~(1<<32-Rn(c)-1)).toString(32)+o,s=""+s+"R"+o,o=Bd++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=eC++,s=""+s+"r"+o.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:hp,useFormState:o_,useActionState:o_,useOptimistic:function(r){var s=Yn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=mp.bind(null,Qe,!0,o),o.dispatch=s,[r,s]},useMemoCache:sp,useCacheRefresh:function(){return Yn().memoizedState=sC.bind(null,Qe)}},N_={readContext:In,use:zd,useCallback:v_,useContext:In,useEffect:h_,useImperativeHandle:y_,useInsertionEffect:m_,useLayoutEffect:p_,useMemo:__,useReducer:Fd,useRef:d_,useState:function(){return Fd(Mi)},useDebugValue:up,useDeferredValue:function(r,s){var o=tn();return b_(o,bt.memoizedState,r,s)},useTransition:function(){var r=Fd(Mi)[0],s=tn().memoizedState;return[typeof r=="boolean"?r:Oc(r),s]},useSyncExternalStore:Q0,useId:T_,useHostTransitionStatus:hp,useFormState:l_,useActionState:l_,useOptimistic:function(r,s){var o=tn();return t_(o,bt,r,s)},useMemoCache:sp,useCacheRefresh:S_},oC={readContext:In,use:zd,useCallback:v_,useContext:In,useEffect:h_,useImperativeHandle:y_,useInsertionEffect:m_,useLayoutEffect:p_,useMemo:__,useReducer:op,useRef:d_,useState:function(){return op(Mi)},useDebugValue:up,useDeferredValue:function(r,s){var o=tn();return bt===null?dp(o,r,s):b_(o,bt.memoizedState,r,s)},useTransition:function(){var r=op(Mi)[0],s=tn().memoizedState;return[typeof r=="boolean"?r:Oc(r),s]},useSyncExternalStore:Q0,useId:T_,useHostTransitionStatus:hp,useFormState:u_,useActionState:u_,useOptimistic:function(r,s){var o=tn();return bt!==null?t_(o,bt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:sp,useCacheRefresh:S_},Ho=null,Pc=0;function Yd(r){var s=Pc;return Pc+=1,Ho===null&&(Ho=[]),z0(Ho,r,s)}function Vc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Kd(r,s){throw s.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function D_(r){var s=r._init;return s(r._payload)}function k_(r){function s(Q,G){if(r){var Z=Q.deletions;Z===null?(Q.deletions=[G],Q.flags|=16):Z.push(G)}}function o(Q,G){if(!r)return null;for(;G!==null;)s(Q,G),G=G.sibling;return null}function c(Q){for(var G=new Map;Q!==null;)Q.key!==null?G.set(Q.key,Q):G.set(Q.index,Q),Q=Q.sibling;return G}function h(Q,G){return Q=Ni(Q,G),Q.index=0,Q.sibling=null,Q}function y(Q,G,Z){return Q.index=Z,r?(Z=Q.alternate,Z!==null?(Z=Z.index,Z<G?(Q.flags|=67108866,G):Z):(Q.flags|=67108866,G)):(Q.flags|=1048576,G)}function T(Q){return r&&Q.alternate===null&&(Q.flags|=67108866),Q}function N(Q,G,Z,ue){return G===null||G.tag!==6?(G=Mm(Z,Q.mode,ue),G.return=Q,G):(G=h(G,Z),G.return=Q,G)}function F(Q,G,Z,ue){var Ie=Z.type;return Ie===R?le(Q,G,Z.props.children,ue,Z.key):G!==null&&(G.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===S&&D_(Ie)===G.type)?(G=h(G,Z.props),Vc(G,Z),G.return=Q,G):(G=Nd(Z.type,Z.key,Z.props,null,Q.mode,ue),Vc(G,Z),G.return=Q,G)}function J(Q,G,Z,ue){return G===null||G.tag!==4||G.stateNode.containerInfo!==Z.containerInfo||G.stateNode.implementation!==Z.implementation?(G=Pm(Z,Q.mode,ue),G.return=Q,G):(G=h(G,Z.children||[]),G.return=Q,G)}function le(Q,G,Z,ue,Ie){return G===null||G.tag!==7?(G=Va(Z,Q.mode,ue,Ie),G.return=Q,G):(G=h(G,Z),G.return=Q,G)}function fe(Q,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Mm(""+G,Q.mode,Z),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return Z=Nd(G.type,G.key,G.props,null,Q.mode,Z),Vc(Z,G),Z.return=Q,Z;case A:return G=Pm(G,Q.mode,Z),G.return=Q,G;case S:var ue=G._init;return G=ue(G._payload),fe(Q,G,Z)}if(se(G)||B(G))return G=Va(G,Q.mode,Z,null),G.return=Q,G;if(typeof G.then=="function")return fe(Q,Yd(G),Z);if(G.$$typeof===L)return fe(Q,jd(Q,G),Z);Kd(Q,G)}return null}function te(Q,G,Z,ue){var Ie=G!==null?G.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ie!==null?null:N(Q,G,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case x:return Z.key===Ie?F(Q,G,Z,ue):null;case A:return Z.key===Ie?J(Q,G,Z,ue):null;case S:return Ie=Z._init,Z=Ie(Z._payload),te(Q,G,Z,ue)}if(se(Z)||B(Z))return Ie!==null?null:le(Q,G,Z,ue,null);if(typeof Z.then=="function")return te(Q,G,Yd(Z),ue);if(Z.$$typeof===L)return te(Q,G,jd(Q,Z),ue);Kd(Q,Z)}return null}function re(Q,G,Z,ue,Ie){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Q=Q.get(Z)||null,N(G,Q,""+ue,Ie);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case x:return Q=Q.get(ue.key===null?Z:ue.key)||null,F(G,Q,ue,Ie);case A:return Q=Q.get(ue.key===null?Z:ue.key)||null,J(G,Q,ue,Ie);case S:var Ze=ue._init;return ue=Ze(ue._payload),re(Q,G,Z,ue,Ie)}if(se(ue)||B(ue))return Q=Q.get(Z)||null,le(G,Q,ue,Ie,null);if(typeof ue.then=="function")return re(Q,G,Z,Yd(ue),Ie);if(ue.$$typeof===L)return re(Q,G,Z,jd(G,ue),Ie);Kd(G,ue)}return null}function He(Q,G,Z,ue){for(var Ie=null,Ze=null,Oe=G,Be=G=0,yn=null;Oe!==null&&Be<Z.length;Be++){Oe.index>Be?(yn=Oe,Oe=null):yn=Oe.sibling;var ct=te(Q,Oe,Z[Be],ue);if(ct===null){Oe===null&&(Oe=yn);break}r&&Oe&&ct.alternate===null&&s(Q,Oe),G=y(ct,G,Be),Ze===null?Ie=ct:Ze.sibling=ct,Ze=ct,Oe=yn}if(Be===Z.length)return o(Q,Oe),ut&&Ua(Q,Be),Ie;if(Oe===null){for(;Be<Z.length;Be++)Oe=fe(Q,Z[Be],ue),Oe!==null&&(G=y(Oe,G,Be),Ze===null?Ie=Oe:Ze.sibling=Oe,Ze=Oe);return ut&&Ua(Q,Be),Ie}for(Oe=c(Oe);Be<Z.length;Be++)yn=re(Oe,Q,Be,Z[Be],ue),yn!==null&&(r&&yn.alternate!==null&&Oe.delete(yn.key===null?Be:yn.key),G=y(yn,G,Be),Ze===null?Ie=yn:Ze.sibling=yn,Ze=yn);return r&&Oe.forEach(function(Bs){return s(Q,Bs)}),ut&&Ua(Q,Be),Ie}function Le(Q,G,Z,ue){if(Z==null)throw Error(i(151));for(var Ie=null,Ze=null,Oe=G,Be=G=0,yn=null,ct=Z.next();Oe!==null&&!ct.done;Be++,ct=Z.next()){Oe.index>Be?(yn=Oe,Oe=null):yn=Oe.sibling;var Bs=te(Q,Oe,ct.value,ue);if(Bs===null){Oe===null&&(Oe=yn);break}r&&Oe&&Bs.alternate===null&&s(Q,Oe),G=y(Bs,G,Be),Ze===null?Ie=Bs:Ze.sibling=Bs,Ze=Bs,Oe=yn}if(ct.done)return o(Q,Oe),ut&&Ua(Q,Be),Ie;if(Oe===null){for(;!ct.done;Be++,ct=Z.next())ct=fe(Q,ct.value,ue),ct!==null&&(G=y(ct,G,Be),Ze===null?Ie=ct:Ze.sibling=ct,Ze=ct);return ut&&Ua(Q,Be),Ie}for(Oe=c(Oe);!ct.done;Be++,ct=Z.next())ct=re(Oe,Q,Be,ct.value,ue),ct!==null&&(r&&ct.alternate!==null&&Oe.delete(ct.key===null?Be:ct.key),G=y(ct,G,Be),Ze===null?Ie=ct:Ze.sibling=ct,Ze=ct);return r&&Oe.forEach(function(lR){return s(Q,lR)}),ut&&Ua(Q,Be),Ie}function Et(Q,G,Z,ue){if(typeof Z=="object"&&Z!==null&&Z.type===R&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case x:e:{for(var Ie=Z.key;G!==null;){if(G.key===Ie){if(Ie=Z.type,Ie===R){if(G.tag===7){o(Q,G.sibling),ue=h(G,Z.props.children),ue.return=Q,Q=ue;break e}}else if(G.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===S&&D_(Ie)===G.type){o(Q,G.sibling),ue=h(G,Z.props),Vc(ue,Z),ue.return=Q,Q=ue;break e}o(Q,G);break}else s(Q,G);G=G.sibling}Z.type===R?(ue=Va(Z.props.children,Q.mode,ue,Z.key),ue.return=Q,Q=ue):(ue=Nd(Z.type,Z.key,Z.props,null,Q.mode,ue),Vc(ue,Z),ue.return=Q,Q=ue)}return T(Q);case A:e:{for(Ie=Z.key;G!==null;){if(G.key===Ie)if(G.tag===4&&G.stateNode.containerInfo===Z.containerInfo&&G.stateNode.implementation===Z.implementation){o(Q,G.sibling),ue=h(G,Z.children||[]),ue.return=Q,Q=ue;break e}else{o(Q,G);break}else s(Q,G);G=G.sibling}ue=Pm(Z,Q.mode,ue),ue.return=Q,Q=ue}return T(Q);case S:return Ie=Z._init,Z=Ie(Z._payload),Et(Q,G,Z,ue)}if(se(Z))return He(Q,G,Z,ue);if(B(Z)){if(Ie=B(Z),typeof Ie!="function")throw Error(i(150));return Z=Ie.call(Z),Le(Q,G,Z,ue)}if(typeof Z.then=="function")return Et(Q,G,Yd(Z),ue);if(Z.$$typeof===L)return Et(Q,G,jd(Q,Z),ue);Kd(Q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,G!==null&&G.tag===6?(o(Q,G.sibling),ue=h(G,Z),ue.return=Q,Q=ue):(o(Q,G),ue=Mm(Z,Q.mode,ue),ue.return=Q,Q=ue),T(Q)):o(Q,G)}return function(Q,G,Z,ue){try{Pc=0;var Ie=Et(Q,G,Z,ue);return Ho=null,Ie}catch(Oe){if(Oe===Cc||Oe===Pd)throw Oe;var Ze=nr(29,Oe,null,Q.mode);return Ze.lanes=ue,Ze.return=Q,Ze}finally{}}}var qo=k_(!0),O_=k_(!1),br=ae(null),Jr=null;function Ss(r){var s=r.alternate;oe(cn,cn.current&1),oe(br,r),Jr===null&&(s===null||Uo.current!==null||s.memoizedState!==null)&&(Jr=r)}function j_(r){if(r.tag===22){if(oe(cn,cn.current),oe(br,r),Jr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Jr=r)}}else As()}function As(){oe(cn,cn.current),oe(br,br.current)}function Pi(r){me(br),Jr===r&&(Jr=null),me(cn)}var cn=ae(0);function Qd(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||ig(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function pp(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:v({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var gp={enqueueSetState:function(r,s,o){r=r._reactInternals;var c=ar(),h=Es(c);h.payload=s,o!=null&&(h.callback=o),s=ws(r,h,c),s!==null&&(or(s,r,c),Ic(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=ar(),h=Es(c);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=ws(r,h,c),s!==null&&(or(s,r,c),Ic(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=ar(),c=Es(o);c.tag=2,s!=null&&(c.callback=s),s=ws(r,c,o),s!==null&&(or(s,r,o),Ic(s,r,o))}};function M_(r,s,o,c,h,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,T):s.prototype&&s.prototype.isPureReactComponent?!_c(o,c)||!_c(h,y):!0}function P_(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&gp.enqueueReplaceState(s,s.state,null)}function Ga(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=v({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var Wd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function V_(r){Wd(r)}function L_(r){console.error(r)}function U_(r){Wd(r)}function Xd(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function B_(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function yp(r,s,o){return o=Es(o),o.tag=3,o.payload={element:null},o.callback=function(){Xd(r,s)},o}function z_(r){return r=Es(r),r.tag=3,r}function F_(r,s,o,c){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var y=c.value;r.payload=function(){return h(y)},r.callback=function(){B_(s,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){B_(s,o,c),typeof h!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var N=c.stack;this.componentDidCatch(c.value,{componentStack:N!==null?N:""})})}function lC(r,s,o,c,h){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&Tc(s,o,h,!0),o=br.current,o!==null){switch(o.tag){case 13:return Jr===null?zp():o.alternate===null&&Ht===0&&(Ht=3),o.flags&=-257,o.flags|=65536,o.lanes=h,c===Gm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Hp(r,c,h)),!1;case 22:return o.flags|=65536,c===Gm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Hp(r,c,h)),!1}throw Error(i(435,o.tag))}return Hp(r,c,h),zp(),!1}if(ut)return s=br.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,c!==Um&&(r=Error(i(422),{cause:c}),wc(gr(r,o)))):(c!==Um&&(s=Error(i(423),{cause:c}),wc(gr(s,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,c=gr(c,o),h=yp(r.stateNode,c,h),Qm(r,h),Ht!==4&&(Ht=2)),!1;var y=Error(i(520),{cause:c});if(y=gr(y,o),qc===null?qc=[y]:qc.push(y),Ht!==4&&(Ht=2),s===null)return!0;c=gr(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=yp(o.stateNode,c,r),Qm(o,r),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ks===null||!ks.has(y))))return o.flags|=65536,h&=-h,o.lanes|=h,h=z_(h),F_(h,r,o,c),Qm(o,h),!1}o=o.return}while(o!==null);return!1}var H_=Error(i(461)),pn=!1;function xn(r,s,o,c){s.child=r===null?O_(s,null,o,c):qo(s,r.child,o,c)}function q_(r,s,o,c,h){o=o.render;var y=s.ref;if("ref"in c){var T={};for(var N in c)N!=="ref"&&(T[N]=c[N])}else T=c;return Ha(s),c=ep(r,s,o,T,y,h),N=tp(),r!==null&&!pn?(np(r,s,h),Vi(r,s,h)):(ut&&N&&Vm(s),s.flags|=1,xn(r,s,c,h),s.child)}function $_(r,s,o,c,h){if(r===null){var y=o.type;return typeof y=="function"&&!jm(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,G_(r,s,y,c,h)):(r=Nd(o.type,null,c,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!Sp(r,h)){var T=y.memoizedProps;if(o=o.compare,o=o!==null?o:_c,o(T,c)&&r.ref===s.ref)return Vi(r,s,h)}return s.flags|=1,r=Ni(y,c),r.ref=s.ref,r.return=s,s.child=r}function G_(r,s,o,c,h){if(r!==null){var y=r.memoizedProps;if(_c(y,c)&&r.ref===s.ref)if(pn=!1,s.pendingProps=c=y,Sp(r,h))(r.flags&131072)!==0&&(pn=!0);else return s.lanes=r.lanes,Vi(r,s,h)}return vp(r,s,o,c,h)}function Y_(r,s,o){var c=s.pendingProps,h=c.children,y=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=y!==null?y.baseLanes|o:o,r!==null){for(h=s.child=r.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;s.childLanes=y&~c}else s.childLanes=0,s.child=null;return K_(r,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Md(s,y!==null?y.cachePool:null),y!==null?G0(s,y):Xm(),j_(s);else return s.lanes=s.childLanes=536870912,K_(r,s,y!==null?y.baseLanes|o:o,o)}else y!==null?(Md(s,y.cachePool),G0(s,y),As(),s.memoizedState=null):(r!==null&&Md(s,null),Xm(),As());return xn(r,s,h,o),s.child}function K_(r,s,o,c){var h=$m();return h=h===null?null:{parent:ln._currentValue,pool:h},s.memoizedState={baseLanes:o,cachePool:h},r!==null&&Md(s,null),Xm(),j_(s),r!==null&&Tc(r,s,c,!0),null}function Zd(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function vp(r,s,o,c,h){return Ha(s),o=ep(r,s,o,c,void 0,h),c=tp(),r!==null&&!pn?(np(r,s,h),Vi(r,s,h)):(ut&&c&&Vm(s),s.flags|=1,xn(r,s,o,h),s.child)}function Q_(r,s,o,c,h,y){return Ha(s),s.updateQueue=null,o=K0(s,c,o,h),Y0(r),c=tp(),r!==null&&!pn?(np(r,s,y),Vi(r,s,y)):(ut&&c&&Vm(s),s.flags|=1,xn(r,s,o,y),s.child)}function W_(r,s,o,c,h){if(Ha(s),s.stateNode===null){var y=jo,T=o.contextType;typeof T=="object"&&T!==null&&(y=In(T)),y=new o(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=gp,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},Ym(s),T=o.contextType,y.context=typeof T=="object"&&T!==null?In(T):jo,y.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(pp(s,o,T,c),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&gp.enqueueReplaceState(y,y.state,null),Dc(s,c,y,h),Nc(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){y=s.stateNode;var N=s.memoizedProps,F=Ga(o,N);y.props=F;var J=y.context,le=o.contextType;T=jo,typeof le=="object"&&le!==null&&(T=In(le));var fe=o.getDerivedStateFromProps;le=typeof fe=="function"||typeof y.getSnapshotBeforeUpdate=="function",N=s.pendingProps!==N,le||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N||J!==T)&&P_(s,y,c,T),xs=!1;var te=s.memoizedState;y.state=te,Dc(s,c,y,h),Nc(),J=s.memoizedState,N||te!==J||xs?(typeof fe=="function"&&(pp(s,o,fe,c),J=s.memoizedState),(F=xs||M_(s,o,F,c,te,J,T))?(le||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=J),y.props=c,y.state=J,y.context=T,c=F):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,Km(r,s),T=s.memoizedProps,le=Ga(o,T),y.props=le,fe=s.pendingProps,te=y.context,J=o.contextType,F=jo,typeof J=="object"&&J!==null&&(F=In(J)),N=o.getDerivedStateFromProps,(J=typeof N=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==fe||te!==F)&&P_(s,y,c,F),xs=!1,te=s.memoizedState,y.state=te,Dc(s,c,y,h),Nc();var re=s.memoizedState;T!==fe||te!==re||xs||r!==null&&r.dependencies!==null&&Od(r.dependencies)?(typeof N=="function"&&(pp(s,o,N,c),re=s.memoizedState),(le=xs||M_(s,o,le,c,te,re,F)||r!==null&&r.dependencies!==null&&Od(r.dependencies))?(J||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,re,F),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,re,F)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&te===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&te===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=re),y.props=c,y.state=re,y.context=F,c=le):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&te===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&te===r.memoizedState||(s.flags|=1024),c=!1)}return y=c,Zd(r,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,r!==null&&c?(s.child=qo(s,r.child,null,h),s.child=qo(s,null,o,h)):xn(r,s,o,h),s.memoizedState=y.state,r=s.child):r=Vi(r,s,h),r}function X_(r,s,o,c){return Ec(),s.flags|=256,xn(r,s,o,c),s.child}var _p={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bp(r){return{baseLanes:r,cachePool:L0()}}function xp(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=xr),r}function Z_(r,s,o){var c=s.pendingProps,h=!1,y=(s.flags&128)!==0,T;if((T=y)||(T=r!==null&&r.memoizedState===null?!1:(cn.current&2)!==0),T&&(h=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(ut){if(h?Ss(s):As(),ut){var N=Ft,F;if(F=N){e:{for(F=N,N=Zr;F.nodeType!==8;){if(!N){N=null;break e}if(F=Nr(F.nextSibling),F===null){N=null;break e}}N=F}N!==null?(s.memoizedState={dehydrated:N,treeContext:La!==null?{id:Di,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},F=nr(18,null,null,0),F.stateNode=N,F.return=s,s.child=F,Hn=s,Ft=null,F=!0):F=!1}F||za(s)}if(N=s.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return ig(N)?s.lanes=32:s.lanes=536870912,null;Pi(s)}return N=c.children,c=c.fallback,h?(As(),h=s.mode,N=Jd({mode:"hidden",children:N},h),c=Va(c,h,o,null),N.return=s,c.return=s,N.sibling=c,s.child=N,h=s.child,h.memoizedState=bp(o),h.childLanes=xp(r,T,o),s.memoizedState=_p,c):(Ss(s),Ep(s,N))}if(F=r.memoizedState,F!==null&&(N=F.dehydrated,N!==null)){if(y)s.flags&256?(Ss(s),s.flags&=-257,s=wp(r,s,o)):s.memoizedState!==null?(As(),s.child=r.child,s.flags|=128,s=null):(As(),h=c.fallback,N=s.mode,c=Jd({mode:"visible",children:c.children},N),h=Va(h,N,o,null),h.flags|=2,c.return=s,h.return=s,c.sibling=h,s.child=c,qo(s,r.child,null,o),c=s.child,c.memoizedState=bp(o),c.childLanes=xp(r,T,o),s.memoizedState=_p,s=h);else if(Ss(s),ig(N)){if(T=N.nextSibling&&N.nextSibling.dataset,T)var J=T.dgst;T=J,c=Error(i(419)),c.stack="",c.digest=T,wc({value:c,source:null,stack:null}),s=wp(r,s,o)}else if(pn||Tc(r,s,o,!1),T=(o&r.childLanes)!==0,pn||T){if(T=Ct,T!==null&&(c=o&-o,c=(c&42)!==0?1:hs(c),c=(c&(T.suspendedLanes|o))!==0?0:c,c!==0&&c!==F.retryLane))throw F.retryLane=c,Oo(r,c),or(T,r,c),H_;N.data==="$?"||zp(),s=wp(r,s,o)}else N.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=F.treeContext,Ft=Nr(N.nextSibling),Hn=s,ut=!0,Ba=null,Zr=!1,r!==null&&(vr[_r++]=Di,vr[_r++]=ki,vr[_r++]=La,Di=r.id,ki=r.overflow,La=s),s=Ep(s,c.children),s.flags|=4096);return s}return h?(As(),h=c.fallback,N=s.mode,F=r.child,J=F.sibling,c=Ni(F,{mode:"hidden",children:c.children}),c.subtreeFlags=F.subtreeFlags&65011712,J!==null?h=Ni(J,h):(h=Va(h,N,o,null),h.flags|=2),h.return=s,c.return=s,c.sibling=h,s.child=c,c=h,h=s.child,N=r.child.memoizedState,N===null?N=bp(o):(F=N.cachePool,F!==null?(J=ln._currentValue,F=F.parent!==J?{parent:J,pool:J}:F):F=L0(),N={baseLanes:N.baseLanes|o,cachePool:F}),h.memoizedState=N,h.childLanes=xp(r,T,o),s.memoizedState=_p,c):(Ss(s),o=r.child,r=o.sibling,o=Ni(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=o,s.memoizedState=null,o)}function Ep(r,s){return s=Jd({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Jd(r,s){return r=nr(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function wp(r,s,o){return qo(s,r.child,null,o),r=Ep(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function J_(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),zm(r.return,s,o)}function Tp(r,s,o,c,h){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:h}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=o,y.tailMode=h)}function eb(r,s,o){var c=s.pendingProps,h=c.revealOrder,y=c.tail;if(xn(r,s,c.children,o),c=cn.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&J_(r,o,s);else if(r.tag===19)J_(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(oe(cn,c),h){case"forwards":for(o=s.child,h=null;o!==null;)r=o.alternate,r!==null&&Qd(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),Tp(s,!1,h,o,y);break;case"backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&Qd(r)===null){s.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}Tp(s,!0,o,null,y);break;case"together":Tp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Vi(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Ds|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Tc(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Ni(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Ni(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Sp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Od(r)))}function cC(r,s,o){switch(s.tag){case 3:xe(s,s.stateNode.containerInfo),bs(s,ln,r.memoizedState.cache),Ec();break;case 27:case 5:Re(s);break;case 4:xe(s,s.stateNode.containerInfo);break;case 10:bs(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Ss(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Z_(r,s,o):(Ss(s),r=Vi(r,s,o),r!==null?r.sibling:null);Ss(s);break;case 19:var h=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(Tc(r,s,o,!1),c=(o&s.childLanes)!==0),h){if(c)return eb(r,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(cn,cn.current),c)break;return null;case 22:case 23:return s.lanes=0,Y_(r,s,o);case 24:bs(s,ln,r.memoizedState.cache)}return Vi(r,s,o)}function tb(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)pn=!0;else{if(!Sp(r,o)&&(s.flags&128)===0)return pn=!1,cC(r,s,o);pn=(r.flags&131072)!==0}else pn=!1,ut&&(s.flags&1048576)!==0&&D0(s,kd,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,h=c._init;if(c=h(c._payload),s.type=c,typeof c=="function")jm(c)?(r=Ga(c,r),s.tag=1,s=W_(null,s,c,r,o)):(s.tag=0,s=vp(null,s,c,r,o));else{if(c!=null){if(h=c.$$typeof,h===q){s.tag=11,s=q_(null,s,c,r,o);break e}else if(h===k){s.tag=14,s=$_(null,s,c,r,o);break e}}throw s=Y(c)||c,Error(i(306,s,""))}}return s;case 0:return vp(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,h=Ga(c,s.pendingProps),W_(r,s,c,h,o);case 3:e:{if(xe(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var y=s.memoizedState;h=y.element,Km(r,s),Dc(s,c,null,o);var T=s.memoizedState;if(c=T.cache,bs(s,ln,c),c!==y.cache&&Fm(s,[ln],o,!0),Nc(),c=T.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=X_(r,s,c,o);break e}else if(c!==h){h=gr(Error(i(424)),s),wc(h),s=X_(r,s,c,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Ft=Nr(r.firstChild),Hn=s,ut=!0,Ba=null,Zr=!0,o=O_(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ec(),c===h){s=Vi(r,s,o);break e}xn(r,s,c,o)}s=s.child}return s;case 26:return Zd(r,s),r===null?(o=sx(s.type,null,s.pendingProps,null))?s.memoizedState=o:ut||(o=s.type,r=s.pendingProps,c=mf(ge.current).createElement(o),c[sn]=s,c[Zt]=r,wn(c,o,r),Kt(c),s.stateNode=c):s.memoizedState=sx(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Re(s),r===null&&ut&&(c=s.stateNode=nx(s.type,s.pendingProps,ge.current),Hn=s,Zr=!0,h=Ft,Ms(s.type)?(sg=h,Ft=Nr(c.firstChild)):Ft=h),xn(r,s,s.pendingProps.children,o),Zd(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&ut&&((h=c=Ft)&&(c=VC(c,s.type,s.pendingProps,Zr),c!==null?(s.stateNode=c,Hn=s,Ft=Nr(c.firstChild),Zr=!1,h=!0):h=!1),h||za(s)),Re(s),h=s.type,y=s.pendingProps,T=r!==null?r.memoizedProps:null,c=y.children,tg(h,y)?c=null:T!==null&&tg(h,T)&&(s.flags|=32),s.memoizedState!==null&&(h=ep(r,s,tC,null,null,o),Jc._currentValue=h),Zd(r,s),xn(r,s,c,o),s.child;case 6:return r===null&&ut&&((r=o=Ft)&&(o=LC(o,s.pendingProps,Zr),o!==null?(s.stateNode=o,Hn=s,Ft=null,r=!0):r=!1),r||za(s)),null;case 13:return Z_(r,s,o);case 4:return xe(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=qo(s,null,c,o):xn(r,s,c,o),s.child;case 11:return q_(r,s,s.type,s.pendingProps,o);case 7:return xn(r,s,s.pendingProps,o),s.child;case 8:return xn(r,s,s.pendingProps.children,o),s.child;case 12:return xn(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,bs(s,s.type,c.value),xn(r,s,c.children,o),s.child;case 9:return h=s.type._context,c=s.pendingProps.children,Ha(s),h=In(h),c=c(h),s.flags|=1,xn(r,s,c,o),s.child;case 14:return $_(r,s,s.type,s.pendingProps,o);case 15:return G_(r,s,s.type,s.pendingProps,o);case 19:return eb(r,s,o);case 31:return c=s.pendingProps,o=s.mode,c={mode:c.mode,children:c.children},r===null?(o=Jd(c,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Ni(r.child,c),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return Y_(r,s,o);case 24:return Ha(s),c=In(ln),r===null?(h=$m(),h===null&&(h=Ct,y=Hm(),h.pooledCache=y,y.refCount++,y!==null&&(h.pooledCacheLanes|=o),h=y),s.memoizedState={parent:c,cache:h},Ym(s),bs(s,ln,h)):((r.lanes&o)!==0&&(Km(r,s),Dc(s,null,null,o),Nc()),h=r.memoizedState,y=s.memoizedState,h.parent!==c?(h={parent:c,cache:c},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),bs(s,ln,c)):(c=y.cache,bs(s,ln,c),c!==h.cache&&Fm(s,[ln],o,!0))),xn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Li(r){r.flags|=4}function nb(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!ux(s)){if(s=br.current,s!==null&&((at&4194048)===at?Jr!==null:(at&62914560)!==at&&(at&536870912)===0||s!==Jr))throw Rc=Gm,U0;r.flags|=8192}}function ef(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?tc():536870912,r.lanes|=s,Ko|=s)}function Lc(r,s){if(!ut)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function jt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function uC(r,s,o){var c=s.pendingProps;switch(Lm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(s),null;case 1:return jt(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),ji(ln),Te(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(xc(s)?Li(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,j0())),jt(s),null;case 26:return o=s.memoizedState,r===null?(Li(s),o!==null?(jt(s),nb(s,o)):(jt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Li(s),jt(s),nb(s,o)):(jt(s),s.flags&=-16777217):(r.memoizedProps!==c&&Li(s),jt(s),s.flags&=-16777217),null;case 27:Se(s),o=ge.current;var h=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Li(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return jt(s),null}r=be.current,xc(s)?k0(s):(r=nx(h,c,o),s.stateNode=r,Li(s))}return jt(s),null;case 5:if(Se(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Li(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return jt(s),null}if(r=be.current,xc(s))k0(s);else{switch(h=mf(ge.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?h.createElement("select",{is:c.is}):h.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?h.createElement(o,{is:c.is}):h.createElement(o)}}r[sn]=s,r[Zt]=c;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=r;e:switch(wn(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Li(s)}}return jt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Li(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=ge.current,xc(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,h=Hn,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}r[sn]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Qb(r.nodeValue,o)),r||za(s)}else r=mf(r).createTextNode(c),r[sn]=s,s.stateNode=r}return jt(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=xc(s),c!==null&&c.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[sn]=s}else Ec(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;jt(s),h=!1}else h=j0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Pi(s),s):(Pi(s),null)}if(Pi(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=s.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==h&&(c.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),ef(s,s.updateQueue),jt(s),null;case 4:return Te(),r===null&&Wp(s.stateNode.containerInfo),jt(s),null;case 10:return ji(s.type),jt(s),null;case 19:if(me(cn),h=s.memoizedState,h===null)return jt(s),null;if(c=(s.flags&128)!==0,y=h.rendering,y===null)if(c)Lc(h,!1);else{if(Ht!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=Qd(r),y!==null){for(s.flags|=128,Lc(h,!1),r=y.updateQueue,s.updateQueue=r,ef(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)N0(o,r),o=o.sibling;return oe(cn,cn.current&1|2),s.child}r=r.sibling}h.tail!==null&&ke()>rf&&(s.flags|=128,c=!0,Lc(h,!1),s.lanes=4194304)}else{if(!c)if(r=Qd(y),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,ef(s,r),Lc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!ut)return jt(s),null}else 2*ke()-h.renderingStartTime>rf&&o!==536870912&&(s.flags|=128,c=!0,Lc(h,!1),s.lanes=4194304);h.isBackwards?(y.sibling=s.child,s.child=y):(r=h.last,r!==null?r.sibling=y:s.child=y,h.last=y)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=ke(),s.sibling=null,r=cn.current,oe(cn,c?r&1|2:r&1),s):(jt(s),null);case 22:case 23:return Pi(s),Zm(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(jt(s),s.subtreeFlags&6&&(s.flags|=8192)):jt(s),o=s.updateQueue,o!==null&&ef(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&me(qa),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ji(ln),jt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function dC(r,s){switch(Lm(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ji(ln),Te(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Se(s),null;case 13:if(Pi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ec()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return me(cn),null;case 4:return Te(),null;case 10:return ji(s.type),null;case 22:case 23:return Pi(s),Zm(),r!==null&&me(qa),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return ji(ln),null;case 25:return null;default:return null}}function rb(r,s){switch(Lm(s),s.tag){case 3:ji(ln),Te();break;case 26:case 27:case 5:Se(s);break;case 4:Te();break;case 13:Pi(s);break;case 19:me(cn);break;case 10:ji(s.type);break;case 22:case 23:Pi(s),Zm(),r!==null&&me(qa);break;case 24:ji(ln)}}function Uc(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&r)===r){c=void 0;var y=o.create,T=o.inst;c=y(),T.destroy=c}o=o.next}while(o!==h)}}catch(N){St(s,s.return,N)}}function Cs(r,s,o){try{var c=s.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var y=h.next;c=y;do{if((c.tag&r)===r){var T=c.inst,N=T.destroy;if(N!==void 0){T.destroy=void 0,h=s;var F=o,J=N;try{J()}catch(le){St(h,F,le)}}}c=c.next}while(c!==y)}}catch(le){St(s,s.return,le)}}function ib(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{$0(s,o)}catch(c){St(r,r.return,c)}}}function sb(r,s,o){o.props=Ga(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){St(r,s,c)}}function Bc(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(h){St(r,s,h)}}function ei(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(h){St(r,s,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){St(r,s,h)}else o.current=null}function ab(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(h){St(r,r.return,h)}}function Ap(r,s,o){try{var c=r.stateNode;kC(c,r.type,o,s),c[Zt]=s}catch(h){St(r,r.return,h)}}function ob(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ms(r.type)||r.tag===4}function Cp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ob(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ms(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Rp(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=hf));else if(c!==4&&(c===27&&Ms(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Rp(r,s,o),r=r.sibling;r!==null;)Rp(r,s,o),r=r.sibling}function tf(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(c===27&&Ms(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(tf(r,s,o),r=r.sibling;r!==null;)tf(r,s,o),r=r.sibling}function lb(r){var s=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);wn(s,c,o),s[sn]=r,s[Zt]=o}catch(y){St(r,r.return,y)}}var Ui=!1,Wt=!1,Ip=!1,cb=typeof WeakSet=="function"?WeakSet:Set,gn=null;function fC(r,s){if(r=r.containerInfo,Jp=bf,r=b0(r),Cm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var h=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var T=0,N=-1,F=-1,J=0,le=0,fe=r,te=null;t:for(;;){for(var re;fe!==o||h!==0&&fe.nodeType!==3||(N=T+h),fe!==y||c!==0&&fe.nodeType!==3||(F=T+c),fe.nodeType===3&&(T+=fe.nodeValue.length),(re=fe.firstChild)!==null;)te=fe,fe=re;for(;;){if(fe===r)break t;if(te===o&&++J===h&&(N=T),te===y&&++le===c&&(F=T),(re=fe.nextSibling)!==null)break;fe=te,te=fe.parentNode}fe=re}o=N===-1||F===-1?null:{start:N,end:F}}else o=null}o=o||{start:0,end:0}}else o=null;for(eg={focusedElem:r,selectionRange:o},bf=!1,gn=s;gn!==null;)if(s=gn,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,gn=r;else for(;gn!==null;){switch(s=gn,y=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,o=s,h=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var He=Ga(o.type,h,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(He,y),c.__reactInternalSnapshotBeforeUpdate=r}catch(Le){St(o,o.return,Le)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)rg(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":rg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,gn=r;break}gn=s.return}}function ub(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Rs(r,o),c&4&&Uc(5,o);break;case 1:if(Rs(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(T){St(o,o.return,T)}else{var h=Ga(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(h,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){St(o,o.return,T)}}c&64&&ib(o),c&512&&Bc(o,o.return);break;case 3:if(Rs(r,o),c&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{$0(r,s)}catch(T){St(o,o.return,T)}}break;case 27:s===null&&c&4&&lb(o);case 26:case 5:Rs(r,o),s===null&&c&4&&ab(o),c&512&&Bc(o,o.return);break;case 12:Rs(r,o);break;case 13:Rs(r,o),c&4&&hb(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=xC.bind(null,o),UC(r,o))));break;case 22:if(c=o.memoizedState!==null||Ui,!c){s=s!==null&&s.memoizedState!==null||Wt,h=Ui;var y=Wt;Ui=c,(Wt=s)&&!y?Is(r,o,(o.subtreeFlags&8772)!==0):Rs(r,o),Ui=h,Wt=y}break;case 30:break;default:Rs(r,o)}}function db(r){var s=r.alternate;s!==null&&(r.alternate=null,db(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&gs(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var kt=null,Kn=!1;function Bi(r,s,o){for(o=o.child;o!==null;)fb(r,s,o),o=o.sibling}function fb(r,s,o){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(zt,o)}catch{}switch(o.tag){case 26:Wt||ei(o,s),Bi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Wt||ei(o,s);var c=kt,h=Kn;Ms(o.type)&&(kt=o.stateNode,Kn=!1),Bi(r,s,o),Qc(o.stateNode),kt=c,Kn=h;break;case 5:Wt||ei(o,s);case 6:if(c=kt,h=Kn,kt=null,Bi(r,s,o),kt=c,Kn=h,kt!==null)if(Kn)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(o.stateNode)}catch(y){St(o,s,y)}else try{kt.removeChild(o.stateNode)}catch(y){St(o,s,y)}break;case 18:kt!==null&&(Kn?(r=kt,ex(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),ru(r)):ex(kt,o.stateNode));break;case 4:c=kt,h=Kn,kt=o.stateNode.containerInfo,Kn=!0,Bi(r,s,o),kt=c,Kn=h;break;case 0:case 11:case 14:case 15:Wt||Cs(2,o,s),Wt||Cs(4,o,s),Bi(r,s,o);break;case 1:Wt||(ei(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&sb(o,s,c)),Bi(r,s,o);break;case 21:Bi(r,s,o);break;case 22:Wt=(c=Wt)||o.memoizedState!==null,Bi(r,s,o),Wt=c;break;default:Bi(r,s,o)}}function hb(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{ru(r)}catch(o){St(s,s.return,o)}}function hC(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new cb),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new cb),s;default:throw Error(i(435,r.tag))}}function Np(r,s){var o=hC(r);s.forEach(function(c){var h=EC.bind(null,r,c);o.has(c)||(o.add(c),c.then(h,h))})}function rr(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var h=o[c],y=r,T=s,N=T;e:for(;N!==null;){switch(N.tag){case 27:if(Ms(N.type)){kt=N.stateNode,Kn=!1;break e}break;case 5:kt=N.stateNode,Kn=!1;break e;case 3:case 4:kt=N.stateNode.containerInfo,Kn=!0;break e}N=N.return}if(kt===null)throw Error(i(160));fb(y,T,h),kt=null,Kn=!1,y=h.alternate,y!==null&&(y.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)mb(s,r),s=s.sibling}var Ir=null;function mb(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:rr(s,r),ir(r),c&4&&(Cs(3,r,r.return),Uc(3,r),Cs(5,r,r.return));break;case 1:rr(s,r),ir(r),c&512&&(Wt||o===null||ei(o,o.return)),c&64&&Ui&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var h=Ir;if(rr(s,r),ir(r),c&512&&(Wt||o===null||ei(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":y=h.getElementsByTagName("title")[0],(!y||y[xa]||y[sn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=h.createElement(c),h.head.insertBefore(y,h.querySelector("head > title"))),wn(y,c,o),y[sn]=r,Kt(y),c=y;break e;case"link":var T=lx("link","href",h).get(c+(o.href||""));if(T){for(var N=0;N<T.length;N++)if(y=T[N],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(N,1);break t}}y=h.createElement(c),wn(y,c,o),h.head.appendChild(y);break;case"meta":if(T=lx("meta","content",h).get(c+(o.content||""))){for(N=0;N<T.length;N++)if(y=T[N],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(N,1);break t}}y=h.createElement(c),wn(y,c,o),h.head.appendChild(y);break;default:throw Error(i(468,c))}y[sn]=r,Kt(y),c=y}r.stateNode=c}else cx(h,r.type,r.stateNode);else r.stateNode=ox(h,c,r.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?cx(h,r.type,r.stateNode):ox(h,c,r.memoizedProps)):c===null&&r.stateNode!==null&&Ap(r,r.memoizedProps,o.memoizedProps)}break;case 27:rr(s,r),ir(r),c&512&&(Wt||o===null||ei(o,o.return)),o!==null&&c&4&&Ap(r,r.memoizedProps,o.memoizedProps);break;case 5:if(rr(s,r),ir(r),c&512&&(Wt||o===null||ei(o,o.return)),r.flags&32){h=r.stateNode;try{fr(h,"")}catch(re){St(r,r.return,re)}}c&4&&r.stateNode!=null&&(h=r.memoizedProps,Ap(r,h,o!==null?o.memoizedProps:h)),c&1024&&(Ip=!0);break;case 6:if(rr(s,r),ir(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(re){St(r,r.return,re)}}break;case 3:if(yf=null,h=Ir,Ir=pf(s.containerInfo),rr(s,r),Ir=h,ir(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{ru(s.containerInfo)}catch(re){St(r,r.return,re)}Ip&&(Ip=!1,pb(r));break;case 4:c=Ir,Ir=pf(r.stateNode.containerInfo),rr(s,r),ir(r),Ir=c;break;case 12:rr(s,r),ir(r);break;case 13:rr(s,r),ir(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Pp=ke()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Np(r,c)));break;case 22:h=r.memoizedState!==null;var F=o!==null&&o.memoizedState!==null,J=Ui,le=Wt;if(Ui=J||h,Wt=le||F,rr(s,r),Wt=le,Ui=J,ir(r),c&8192)e:for(s=r.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(o===null||F||Ui||Wt||Ya(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){F=o=s;try{if(y=F.stateNode,h)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{N=F.stateNode;var fe=F.memoizedProps.style,te=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;N.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(re){St(F,F.return,re)}}}else if(s.tag===6){if(o===null){F=s;try{F.stateNode.nodeValue=h?"":F.memoizedProps}catch(re){St(F,F.return,re)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Np(r,o))));break;case 19:rr(s,r),ir(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Np(r,c)));break;case 30:break;case 21:break;default:rr(s,r),ir(r)}}function ir(r){var s=r.flags;if(s&2){try{for(var o,c=r.return;c!==null;){if(ob(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var h=o.stateNode,y=Cp(r);tf(r,y,h);break;case 5:var T=o.stateNode;o.flags&32&&(fr(T,""),o.flags&=-33);var N=Cp(r);tf(r,N,T);break;case 3:case 4:var F=o.stateNode.containerInfo,J=Cp(r);Rp(r,J,F);break;default:throw Error(i(161))}}catch(le){St(r,r.return,le)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function pb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;pb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Rs(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ub(r,s.alternate,s),s=s.sibling}function Ya(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Cs(4,s,s.return),Ya(s);break;case 1:ei(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&sb(s,s.return,o),Ya(s);break;case 27:Qc(s.stateNode);case 26:case 5:ei(s,s.return),Ya(s);break;case 22:s.memoizedState===null&&Ya(s);break;case 30:Ya(s);break;default:Ya(s)}r=r.sibling}}function Is(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,h=r,y=s,T=y.flags;switch(y.tag){case 0:case 11:case 15:Is(h,y,o),Uc(4,y);break;case 1:if(Is(h,y,o),c=y,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(J){St(c,c.return,J)}if(c=y,h=c.updateQueue,h!==null){var N=c.stateNode;try{var F=h.shared.hiddenCallbacks;if(F!==null)for(h.shared.hiddenCallbacks=null,h=0;h<F.length;h++)q0(F[h],N)}catch(J){St(c,c.return,J)}}o&&T&64&&ib(y),Bc(y,y.return);break;case 27:lb(y);case 26:case 5:Is(h,y,o),o&&c===null&&T&4&&ab(y),Bc(y,y.return);break;case 12:Is(h,y,o);break;case 13:Is(h,y,o),o&&T&4&&hb(h,y);break;case 22:y.memoizedState===null&&Is(h,y,o),Bc(y,y.return);break;case 30:break;default:Is(h,y,o)}s=s.sibling}}function Dp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Sc(o))}function kp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Sc(r))}function ti(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)gb(r,s,o,c),s=s.sibling}function gb(r,s,o,c){var h=s.flags;switch(s.tag){case 0:case 11:case 15:ti(r,s,o,c),h&2048&&Uc(9,s);break;case 1:ti(r,s,o,c);break;case 3:ti(r,s,o,c),h&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Sc(r)));break;case 12:if(h&2048){ti(r,s,o,c),r=s.stateNode;try{var y=s.memoizedProps,T=y.id,N=y.onPostCommit;typeof N=="function"&&N(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(F){St(s,s.return,F)}}else ti(r,s,o,c);break;case 13:ti(r,s,o,c);break;case 23:break;case 22:y=s.stateNode,T=s.alternate,s.memoizedState!==null?y._visibility&2?ti(r,s,o,c):zc(r,s):y._visibility&2?ti(r,s,o,c):(y._visibility|=2,$o(r,s,o,c,(s.subtreeFlags&10256)!==0)),h&2048&&Dp(T,s);break;case 24:ti(r,s,o,c),h&2048&&kp(s.alternate,s);break;default:ti(r,s,o,c)}}function $o(r,s,o,c,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=r,T=s,N=o,F=c,J=T.flags;switch(T.tag){case 0:case 11:case 15:$o(y,T,N,F,h),Uc(8,T);break;case 23:break;case 22:var le=T.stateNode;T.memoizedState!==null?le._visibility&2?$o(y,T,N,F,h):zc(y,T):(le._visibility|=2,$o(y,T,N,F,h)),h&&J&2048&&Dp(T.alternate,T);break;case 24:$o(y,T,N,F,h),h&&J&2048&&kp(T.alternate,T);break;default:$o(y,T,N,F,h)}s=s.sibling}}function zc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,h=c.flags;switch(c.tag){case 22:zc(o,c),h&2048&&Dp(c.alternate,c);break;case 24:zc(o,c),h&2048&&kp(c.alternate,c);break;default:zc(o,c)}s=s.sibling}}var Fc=8192;function Go(r){if(r.subtreeFlags&Fc)for(r=r.child;r!==null;)yb(r),r=r.sibling}function yb(r){switch(r.tag){case 26:Go(r),r.flags&Fc&&r.memoizedState!==null&&ZC(Ir,r.memoizedState,r.memoizedProps);break;case 5:Go(r);break;case 3:case 4:var s=Ir;Ir=pf(r.stateNode.containerInfo),Go(r),Ir=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Fc,Fc=16777216,Go(r),Fc=s):Go(r));break;default:Go(r)}}function vb(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Hc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];gn=c,bb(c,r)}vb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)_b(r),r=r.sibling}function _b(r){switch(r.tag){case 0:case 11:case 15:Hc(r),r.flags&2048&&Cs(9,r,r.return);break;case 3:Hc(r);break;case 12:Hc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,nf(r)):Hc(r);break;default:Hc(r)}}function nf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];gn=c,bb(c,r)}vb(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Cs(8,s,s.return),nf(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,nf(s));break;default:nf(s)}r=r.sibling}}function bb(r,s){for(;gn!==null;){var o=gn;switch(o.tag){case 0:case 11:case 15:Cs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Sc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,gn=c;else e:for(o=r;gn!==null;){c=gn;var h=c.sibling,y=c.return;if(db(c),c===o){gn=null;break e}if(h!==null){h.return=y,gn=h;break e}gn=y}}}var mC={getCacheForType:function(r){var s=In(ln),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},pC=typeof WeakMap=="function"?WeakMap:Map,gt=0,Ct=null,Je=null,at=0,yt=0,sr=null,Ns=!1,Yo=!1,Op=!1,zi=0,Ht=0,Ds=0,Ka=0,jp=0,xr=0,Ko=0,qc=null,Qn=null,Mp=!1,Pp=0,rf=1/0,sf=null,ks=null,En=0,Os=null,Qo=null,Wo=0,Vp=0,Lp=null,xb=null,$c=0,Up=null;function ar(){if((gt&2)!==0&&at!==0)return at&-at;if(H.T!==null){var r=Vo;return r!==0?r:Gp()}return ms()}function Eb(){xr===0&&(xr=(at&536870912)===0||ut?ec():536870912);var r=br.current;return r!==null&&(r.flags|=32),xr}function or(r,s,o){(r===Ct&&(yt===2||yt===9)||r.cancelPendingCommit!==null)&&(Xo(r,0),js(r,at,xr,!1)),_i(r,o),((gt&2)===0||r!==Ct)&&(r===Ct&&((gt&2)===0&&(Ka|=o),Ht===4&&js(r,at,xr,!1)),ni(r))}function wb(r,s,o){if((gt&6)!==0)throw Error(i(327));var c=!o&&(s&124)===0&&(s&r.expiredLanes)===0||ba(r,s),h=c?vC(r,s):Fp(r,s,!0),y=c;do{if(h===0){Yo&&!c&&js(r,s,0,!1);break}else{if(o=r.current.alternate,y&&!gC(o)){h=Fp(r,s,!1),y=!1;continue}if(h===2){if(y=s,r.errorRecoveryDisabledLanes&y)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var N=r;h=qc;var F=N.current.memoizedState.isDehydrated;if(F&&(Xo(N,T).flags|=256),T=Fp(N,T,!1),T!==2){if(Op&&!F){N.errorRecoveryDisabledLanes|=y,Ka|=y,h=4;break e}y=Qn,Qn=h,y!==null&&(Qn===null?Qn=y:Qn.push.apply(Qn,y))}h=T}if(y=!1,h!==2)continue}}if(h===1){Xo(r,0),js(r,s,0,!0);break}e:{switch(c=r,y=h,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:js(c,s,xr,!Ns);break e;case 2:Qn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(h=Pp+300-ke(),10<h)){if(js(c,s,xr,!Ns),mo(c,0,!0)!==0)break e;c.timeoutHandle=Zb(Tb.bind(null,c,o,Qn,sf,Mp,s,xr,Ka,Ko,Ns,y,2,-0,0),h);break e}Tb(c,o,Qn,sf,Mp,s,xr,Ka,Ko,Ns,y,0,-0,0)}}break}while(!0);ni(r)}function Tb(r,s,o,c,h,y,T,N,F,J,le,fe,te,re){if(r.timeoutHandle=-1,fe=s.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(Zc={stylesheets:null,count:0,unsuspend:XC},yb(s),fe=JC(),fe!==null)){r.cancelPendingCommit=fe(Db.bind(null,r,s,y,o,c,h,T,N,F,le,1,te,re)),js(r,y,T,!J);return}Db(r,s,y,o,c,h,T,N,F)}function gC(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var h=o[c],y=h.getSnapshot;h=h.value;try{if(!tr(y(),h))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function js(r,s,o,c){s&=~jp,s&=~Ka,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var h=s;0<h;){var y=31-Rn(h),T=1<<y;c[y]=-1,h&=~T}o!==0&&zr(r,o,s)}function af(){return(gt&6)===0?(Gc(0),!1):!0}function Bp(){if(Je!==null){if(yt===0)var r=Je.return;else r=Je,Oi=Fa=null,rp(r),Ho=null,Pc=0,r=Je;for(;r!==null;)rb(r.alternate,r),r=r.return;Je=null}}function Xo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,jC(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Bp(),Ct=r,Je=o=Ni(r.current,null),at=s,yt=0,sr=null,Ns=!1,Yo=ba(r,s),Op=!1,Ko=xr=jp=Ka=Ds=Ht=0,Qn=qc=null,Mp=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var h=31-Rn(c),y=1<<h;s|=r[h],c&=~y}return zi=s,Cd(),o}function Sb(r,s){Qe=null,H.H=Gd,s===Cc||s===Pd?(s=F0(),yt=3):s===U0?(s=F0(),yt=4):yt=s===H_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,sr=s,Je===null&&(Ht=1,Xd(r,gr(s,r.current)))}function Ab(){var r=H.H;return H.H=Gd,r===null?Gd:r}function Cb(){var r=H.A;return H.A=mC,r}function zp(){Ht=4,Ns||(at&4194048)!==at&&br.current!==null||(Yo=!0),(Ds&134217727)===0&&(Ka&134217727)===0||Ct===null||js(Ct,at,xr,!1)}function Fp(r,s,o){var c=gt;gt|=2;var h=Ab(),y=Cb();(Ct!==r||at!==s)&&(sf=null,Xo(r,s)),s=!1;var T=Ht;e:do try{if(yt!==0&&Je!==null){var N=Je,F=sr;switch(yt){case 8:Bp(),T=6;break e;case 3:case 2:case 9:case 6:br.current===null&&(s=!0);var J=yt;if(yt=0,sr=null,Zo(r,N,F,J),o&&Yo){T=0;break e}break;default:J=yt,yt=0,sr=null,Zo(r,N,F,J)}}yC(),T=Ht;break}catch(le){Sb(r,le)}while(!0);return s&&r.shellSuspendCounter++,Oi=Fa=null,gt=c,H.H=h,H.A=y,Je===null&&(Ct=null,at=0,Cd()),T}function yC(){for(;Je!==null;)Rb(Je)}function vC(r,s){var o=gt;gt|=2;var c=Ab(),h=Cb();Ct!==r||at!==s?(sf=null,rf=ke()+500,Xo(r,s)):Yo=ba(r,s);e:do try{if(yt!==0&&Je!==null){s=Je;var y=sr;t:switch(yt){case 1:yt=0,sr=null,Zo(r,s,y,1);break;case 2:case 9:if(B0(y)){yt=0,sr=null,Ib(s);break}s=function(){yt!==2&&yt!==9||Ct!==r||(yt=7),ni(r)},y.then(s,s);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:B0(y)?(yt=0,sr=null,Ib(s)):(yt=0,sr=null,Zo(r,s,y,7));break;case 5:var T=null;switch(Je.tag){case 26:T=Je.memoizedState;case 5:case 27:var N=Je;if(!T||ux(T)){yt=0,sr=null;var F=N.sibling;if(F!==null)Je=F;else{var J=N.return;J!==null?(Je=J,of(J)):Je=null}break t}}yt=0,sr=null,Zo(r,s,y,5);break;case 6:yt=0,sr=null,Zo(r,s,y,6);break;case 8:Bp(),Ht=6;break e;default:throw Error(i(462))}}_C();break}catch(le){Sb(r,le)}while(!0);return Oi=Fa=null,H.H=c,H.A=h,gt=o,Je!==null?0:(Ct=null,at=0,Cd(),Ht)}function _C(){for(;Je!==null&&!Ee();)Rb(Je)}function Rb(r){var s=tb(r.alternate,r,zi);r.memoizedProps=r.pendingProps,s===null?of(r):Je=s}function Ib(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=Q_(o,s,s.pendingProps,s.type,void 0,at);break;case 11:s=Q_(o,s,s.pendingProps,s.type.render,s.ref,at);break;case 5:rp(s);default:rb(o,s),s=Je=N0(s,zi),s=tb(o,s,zi)}r.memoizedProps=r.pendingProps,s===null?of(r):Je=s}function Zo(r,s,o,c){Oi=Fa=null,rp(s),Ho=null,Pc=0;var h=s.return;try{if(lC(r,h,s,o,at)){Ht=1,Xd(r,gr(o,r.current)),Je=null;return}}catch(y){if(h!==null)throw Je=h,y;Ht=1,Xd(r,gr(o,r.current)),Je=null;return}s.flags&32768?(ut||c===1?r=!0:Yo||(at&536870912)!==0?r=!1:(Ns=r=!0,(c===2||c===9||c===3||c===6)&&(c=br.current,c!==null&&c.tag===13&&(c.flags|=16384))),Nb(s,r)):of(s)}function of(r){var s=r;do{if((s.flags&32768)!==0){Nb(s,Ns);return}r=s.return;var o=uC(s.alternate,s,zi);if(o!==null){Je=o;return}if(s=s.sibling,s!==null){Je=s;return}Je=s=r}while(s!==null);Ht===0&&(Ht=5)}function Nb(r,s){do{var o=dC(r.alternate,r);if(o!==null){o.flags&=32767,Je=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Je=r;return}Je=r=o}while(r!==null);Ht=6,Je=null}function Db(r,s,o,c,h,y,T,N,F){r.cancelPendingCommit=null;do lf();while(En!==0);if((gt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=km,nc(r,o,y,T,N,F),r===Ct&&(Je=Ct=null,at=0),Qo=s,Os=r,Wo=o,Vp=y,Lp=h,xb=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,wC(Gt,function(){return Pb(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=H.T,H.T=null,h=ee.p,ee.p=2,T=gt,gt|=4;try{fC(r,s,o)}finally{gt=T,ee.p=h,H.T=c}}En=1,kb(),Ob(),jb()}}function kb(){if(En===1){En=0;var r=Os,s=Qo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=H.T,H.T=null;var c=ee.p;ee.p=2;var h=gt;gt|=4;try{mb(s,r);var y=eg,T=b0(r.containerInfo),N=y.focusedElem,F=y.selectionRange;if(T!==N&&N&&N.ownerDocument&&_0(N.ownerDocument.documentElement,N)){if(F!==null&&Cm(N)){var J=F.start,le=F.end;if(le===void 0&&(le=J),"selectionStart"in N)N.selectionStart=J,N.selectionEnd=Math.min(le,N.value.length);else{var fe=N.ownerDocument||document,te=fe&&fe.defaultView||window;if(te.getSelection){var re=te.getSelection(),He=N.textContent.length,Le=Math.min(F.start,He),Et=F.end===void 0?Le:Math.min(F.end,He);!re.extend&&Le>Et&&(T=Et,Et=Le,Le=T);var Q=v0(N,Le),G=v0(N,Et);if(Q&&G&&(re.rangeCount!==1||re.anchorNode!==Q.node||re.anchorOffset!==Q.offset||re.focusNode!==G.node||re.focusOffset!==G.offset)){var Z=fe.createRange();Z.setStart(Q.node,Q.offset),re.removeAllRanges(),Le>Et?(re.addRange(Z),re.extend(G.node,G.offset)):(Z.setEnd(G.node,G.offset),re.addRange(Z))}}}}for(fe=[],re=N;re=re.parentNode;)re.nodeType===1&&fe.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<fe.length;N++){var ue=fe[N];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}bf=!!Jp,eg=Jp=null}finally{gt=h,ee.p=c,H.T=o}}r.current=s,En=2}}function Ob(){if(En===2){En=0;var r=Os,s=Qo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=H.T,H.T=null;var c=ee.p;ee.p=2;var h=gt;gt|=4;try{ub(r,s.alternate,s)}finally{gt=h,ee.p=c,H.T=o}}En=3}}function jb(){if(En===4||En===3){En=0,Ae();var r=Os,s=Qo,o=Wo,c=xb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?En=5:(En=0,Qo=Os=null,Mb(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(ks=null),po(o),s=s.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(zt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=H.T,h=ee.p,ee.p=2,H.T=null;try{for(var y=r.onRecoverableError,T=0;T<c.length;T++){var N=c[T];y(N.value,{componentStack:N.stack})}}finally{H.T=s,ee.p=h}}(Wo&3)!==0&&lf(),ni(r),h=r.pendingLanes,(o&4194090)!==0&&(h&42)!==0?r===Up?$c++:($c=0,Up=r):$c=0,Gc(0)}}function Mb(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Sc(s)))}function lf(r){return kb(),Ob(),jb(),Pb()}function Pb(){if(En!==5)return!1;var r=Os,s=Vp;Vp=0;var o=po(Wo),c=H.T,h=ee.p;try{ee.p=32>o?32:o,H.T=null,o=Lp,Lp=null;var y=Os,T=Wo;if(En=0,Qo=Os=null,Wo=0,(gt&6)!==0)throw Error(i(331));var N=gt;if(gt|=4,_b(y.current),gb(y,y.current,T,o),gt=N,Gc(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(zt,y)}catch{}return!0}finally{ee.p=h,H.T=c,Mb(r,s)}}function Vb(r,s,o){s=gr(o,s),s=yp(r.stateNode,s,2),r=ws(r,s,2),r!==null&&(_i(r,2),ni(r))}function St(r,s,o){if(r.tag===3)Vb(r,r,o);else for(;s!==null;){if(s.tag===3){Vb(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ks===null||!ks.has(c))){r=gr(o,r),o=z_(2),c=ws(s,o,2),c!==null&&(F_(o,c,s,r),_i(c,2),ni(c));break}}s=s.return}}function Hp(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new pC;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(o)||(Op=!0,h.add(o),r=bC.bind(null,r,s,o),s.then(r,r))}function bC(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Ct===r&&(at&o)===o&&(Ht===4||Ht===3&&(at&62914560)===at&&300>ke()-Pp?(gt&2)===0&&Xo(r,0):jp|=o,Ko===at&&(Ko=0)),ni(r)}function Lb(r,s){s===0&&(s=tc()),r=Oo(r,s),r!==null&&(_i(r,s),ni(r))}function xC(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),Lb(r,o)}function EC(r,s){var o=0;switch(r.tag){case 13:var c=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),Lb(r,o)}function wC(r,s){return X(r,s)}var cf=null,Jo=null,qp=!1,uf=!1,$p=!1,Qa=0;function ni(r){r!==Jo&&r.next===null&&(Jo===null?cf=Jo=r:Jo=Jo.next=r),uf=!0,qp||(qp=!0,SC())}function Gc(r,s){if(!$p&&uf){$p=!0;do for(var o=!1,c=cf;c!==null;){if(r!==0){var h=c.pendingLanes;if(h===0)var y=0;else{var T=c.suspendedLanes,N=c.pingedLanes;y=(1<<31-Rn(42|r)+1)-1,y&=h&~(T&~N),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Fb(c,y))}else y=at,y=mo(c,c===Ct?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||ba(c,y)||(o=!0,Fb(c,y));c=c.next}while(o);$p=!1}}function TC(){Ub()}function Ub(){uf=qp=!1;var r=0;Qa!==0&&(OC()&&(r=Qa),Qa=0);for(var s=ke(),o=null,c=cf;c!==null;){var h=c.next,y=Bb(c,s);y===0?(c.next=null,o===null?cf=h:o.next=h,h===null&&(Jo=o)):(o=c,(r!==0||(y&3)!==0)&&(uf=!0)),c=h}Gc(r)}function Bb(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,h=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var T=31-Rn(y),N=1<<T,F=h[T];F===-1?((N&o)===0||(N&c)!==0)&&(h[T]=Jl(N,s)):F<=s&&(r.expiredLanes|=N),y&=~N}if(s=Ct,o=at,o=mo(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===s&&(yt===2||yt===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&ye(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||ba(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&ye(c),po(o)){case 2:case 8:o=Ge;break;case 32:o=Gt;break;case 268435456:o=Un;break;default:o=Gt}return c=zb.bind(null,r),o=X(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&ye(c),r.callbackPriority=2,r.callbackNode=null,2}function zb(r,s){if(En!==0&&En!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(lf()&&r.callbackNode!==o)return null;var c=at;return c=mo(r,r===Ct?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(wb(r,c,s),Bb(r,ke()),r.callbackNode!=null&&r.callbackNode===o?zb.bind(null,r):null)}function Fb(r,s){if(lf())return null;wb(r,s,!0)}function SC(){MC(function(){(gt&6)!==0?X(Ve,TC):Ub()})}function Gp(){return Qa===0&&(Qa=ec()),Qa}function Hb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:xo(""+r)}function qb(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function AC(r,s,o,c,h){if(s==="submit"&&o&&o.stateNode===h){var y=Hb((h[Zt]||null).action),T=c.submitter;T&&(s=(s=T[Zt]||null)?Hb(s.formAction):T.getAttribute("formAction"),s!==null&&(y=s,T=null));var N=new Eo("action","action",null,c,h);r.push({event:N,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Qa!==0){var F=T?qb(h,T):new FormData(h);fp(o,{pending:!0,data:F,method:h.method,action:y},null,F)}}else typeof y=="function"&&(N.preventDefault(),F=T?qb(h,T):new FormData(h),fp(o,{pending:!0,data:F,method:h.method,action:y},y,F))},currentTarget:h}]})}}for(var Yp=0;Yp<Dm.length;Yp++){var Kp=Dm[Yp],CC=Kp.toLowerCase(),RC=Kp[0].toUpperCase()+Kp.slice(1);Rr(CC,"on"+RC)}Rr(w0,"onAnimationEnd"),Rr(T0,"onAnimationIteration"),Rr(S0,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr($2,"onTransitionRun"),Rr(G2,"onTransitionStart"),Rr(Y2,"onTransitionCancel"),Rr(A0,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),Ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ar("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yc));function $b(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],h=c.event;c=c.listeners;e:{var y=void 0;if(s)for(var T=c.length-1;0<=T;T--){var N=c[T],F=N.instance,J=N.currentTarget;if(N=N.listener,F!==y&&h.isPropagationStopped())break e;y=N,h.currentTarget=J;try{y(h)}catch(le){Wd(le)}h.currentTarget=null,y=F}else for(T=0;T<c.length;T++){if(N=c[T],F=N.instance,J=N.currentTarget,N=N.listener,F!==y&&h.isPropagationStopped())break e;y=N,h.currentTarget=J;try{y(h)}catch(le){Wd(le)}h.currentTarget=null,y=F}}}}function et(r,s){var o=s[ic];o===void 0&&(o=s[ic]=new Set);var c=r+"__bubble";o.has(c)||(Gb(s,r,2,!1),o.add(c))}function Qp(r,s,o){var c=0;s&&(c|=4),Gb(o,r,c,s)}var df="_reactListening"+Math.random().toString(36).slice(2);function Wp(r){if(!r[df]){r[df]=!0,sc.forEach(function(o){o!=="selectionchange"&&(IC.has(o)||Qp(o,!1,r),Qp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[df]||(s[df]=!0,Qp("selectionchange",!1,s))}}function Gb(r,s,o,c){switch(gx(s)){case 2:var h=nR;break;case 8:h=rR;break;default:h=ug}o=h.bind(null,s,o,r),h=void 0,!mr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?r.addEventListener(s,o,{capture:!0,passive:h}):r.addEventListener(s,o,!0):h!==void 0?r.addEventListener(s,o,{passive:h}):r.addEventListener(s,o,!1)}function Xp(r,s,o,c,h){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var N=c.stateNode.containerInfo;if(N===h)break;if(T===4)for(T=c.return;T!==null;){var F=T.tag;if((F===3||F===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;N!==null;){if(T=bi(N),T===null)return;if(F=T.tag,F===5||F===6||F===26||F===27){c=y=T;continue e}N=N.parentNode}}c=c.return}fd(function(){var J=y,le=hr(o),fe=[];e:{var te=C0.get(r);if(te!==void 0){var re=Eo,He=r;switch(r){case"keypress":if(Yr(o)===0)break e;case"keydown":case"keyup":re=Ro;break;case"focusin":He="focus",re=So;break;case"focusout":He="blur",re=So;break;case"beforeblur":case"afterblur":re=So;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=wm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=bd;break;case w0:case T0:case S0:re=Ao;break;case A0:re=Ed;break;case"scroll":case"scrollend":re=hd;break;case"wheel":re=Io;break;case"copy":case"cut":case"paste":re=Co;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=yc;break;case"toggle":case"beforetoggle":re=Td}var Le=(s&4)!==0,Et=!Le&&(r==="scroll"||r==="scrollend"),Q=Le?te!==null?te+"Capture":null:te;Le=[];for(var G=J,Z;G!==null;){var ue=G;if(Z=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Z===null||Q===null||(ue=Ra(G,Q),ue!=null&&Le.push(Kc(G,ue,Z))),Et)break;G=G.return}0<Le.length&&(te=new re(te,He,null,o,le),fe.push({event:te,listeners:Le}))}}if((s&7)===0){e:{if(te=r==="mouseover"||r==="pointerover",re=r==="mouseout"||r==="pointerout",te&&o!==Ti&&(He=o.relatedTarget||o.fromElement)&&(bi(He)||He[dr]))break e;if((re||te)&&(te=le.window===le?le:(te=le.ownerDocument)?te.defaultView||te.parentWindow:window,re?(He=o.relatedTarget||o.toElement,re=J,He=He?bi(He):null,He!==null&&(Et=l(He),Le=He.tag,He!==Et||Le!==5&&Le!==27&&Le!==6)&&(He=null)):(re=null,He=J),re!==He)){if(Le=pr,ue="onMouseLeave",Q="onMouseEnter",G="mouse",(r==="pointerout"||r==="pointerover")&&(Le=yc,ue="onPointerLeave",Q="onPointerEnter",G="pointer"),Et=re==null?te:Hr(re),Z=He==null?te:Hr(He),te=new Le(ue,G+"leave",re,o,le),te.target=Et,te.relatedTarget=Z,ue=null,bi(le)===J&&(Le=new Le(Q,G+"enter",He,o,le),Le.target=Z,Le.relatedTarget=Et,ue=Le),Et=ue,re&&He)t:{for(Le=re,Q=He,G=0,Z=Le;Z;Z=el(Z))G++;for(Z=0,ue=Q;ue;ue=el(ue))Z++;for(;0<G-Z;)Le=el(Le),G--;for(;0<Z-G;)Q=el(Q),Z--;for(;G--;){if(Le===Q||Q!==null&&Le===Q.alternate)break t;Le=el(Le),Q=el(Q)}Le=null}else Le=null;re!==null&&Yb(fe,te,re,Le,!1),He!==null&&Et!==null&&Yb(fe,Et,He,Le,!0)}}e:{if(te=J?Hr(J):window,re=te.nodeName&&te.nodeName.toLowerCase(),re==="select"||re==="input"&&te.type==="file")var Ie=f0;else if(on(te))if(h0)Ie=F2;else{Ie=B2;var Ze=U2}else re=te.nodeName,!re||re.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&uc(J.elementType)&&(Ie=f0):Ie=z2;if(Ie&&(Ie=Ie(r,J))){Ii(fe,Ie,o,le);break e}Ze&&Ze(r,te,J),r==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&vs(te,"number",te.value)}switch(Ze=J?Hr(J):window,r){case"focusin":(on(Ze)||Ze.contentEditable==="true")&&(No=Ze,Rm=J,bc=null);break;case"focusout":bc=Rm=No=null;break;case"mousedown":Im=!0;break;case"contextmenu":case"mouseup":case"dragend":Im=!1,x0(fe,o,le);break;case"selectionchange":if(q2)break;case"keydown":case"keyup":x0(fe,o,le)}var Oe;if(Wr)e:{switch(r){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else it?ie(r,o)&&(Be="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Be="onCompositionStart");Be&&(w&&o.locale!=="ko"&&(it||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&it&&(Oe=fc()):(Gr=le,_s="value"in Gr?Gr.value:Gr.textContent,it=!0)),Ze=ff(J,Be),0<Ze.length&&(Be=new pc(Be,r,null,o,le),fe.push({event:Be,listeners:Ze}),Oe?Be.data=Oe:(Oe=_e(o),Oe!==null&&(Be.data=Oe)))),(Oe=_?an(r,o):st(r,o))&&(Be=ff(J,"onBeforeInput"),0<Be.length&&(Ze=new pc("onBeforeInput","beforeinput",null,o,le),fe.push({event:Ze,listeners:Be}),Ze.data=Oe)),AC(fe,r,J,o,le)}$b(fe,s)})}function Kc(r,s,o){return{instance:r,listener:s,currentTarget:o}}function ff(r,s){for(var o=s+"Capture",c=[];r!==null;){var h=r,y=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||y===null||(h=Ra(r,o),h!=null&&c.unshift(Kc(r,h,y)),h=Ra(r,s),h!=null&&c.push(Kc(r,h,y))),r.tag===3)return c;r=r.return}return[]}function el(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Yb(r,s,o,c,h){for(var y=s._reactName,T=[];o!==null&&o!==c;){var N=o,F=N.alternate,J=N.stateNode;if(N=N.tag,F!==null&&F===c)break;N!==5&&N!==26&&N!==27||J===null||(F=J,h?(J=Ra(o,y),J!=null&&T.unshift(Kc(o,J,F))):h||(J=Ra(o,y),J!=null&&T.push(Kc(o,J,F)))),o=o.return}T.length!==0&&r.push({event:s,listeners:T})}var NC=/\r\n?/g,DC=/\u0000|\uFFFD/g;function Kb(r){return(typeof r=="string"?r:""+r).replace(NC,`
`).replace(DC,"")}function Qb(r,s){return s=Kb(s),Kb(r)===s}function hf(){}function xt(r,s,o,c,h,y){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||fr(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&fr(r,""+c);break;case"className":qr(r,"class",c);break;case"tabIndex":qr(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":qr(r,o,c);break;case"style":cc(r,c,y);break;case"data":if(s!=="object"){qr(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=xo(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&xt(r,s,"name",h.name,h,null),xt(r,s,"formEncType",h.formEncType,h,null),xt(r,s,"formMethod",h.formMethod,h,null),xt(r,s,"formTarget",h.formTarget,h,null)):(xt(r,s,"encType",h.encType,h,null),xt(r,s,"method",h.method,h,null),xt(r,s,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=xo(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=hf);break;case"onScroll":c!=null&&et("scroll",r);break;case"onScrollEnd":c!=null&&et("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=xo(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":et("beforetoggle",r),et("toggle",r),ys(r,"popover",c);break;case"xlinkActuate":_n(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":_n(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":_n(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":_n(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":_n(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":_n(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":_n(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":_n(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":_n(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ys(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=xm.get(o)||o,ys(r,o,c))}}function Zp(r,s,o,c,h,y){switch(o){case"style":cc(r,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof c=="string"?fr(r,c):(typeof c=="number"||typeof c=="bigint")&&fr(r,""+c);break;case"onScroll":c!=null&&et("scroll",r);break;case"onScrollEnd":c!=null&&et("scrollend",r);break;case"onClick":c!=null&&(r.onclick=hf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!go.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),s=o.slice(2,h?o.length-7:void 0),y=r[Zt]||null,y=y!=null?y[o]:null,typeof y=="function"&&r.removeEventListener(s,y,h),typeof c=="function")){typeof y!="function"&&y!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,h);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):ys(r,o,c)}}}function wn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",r),et("load",r);var c=!1,h=!1,y;for(y in o)if(o.hasOwnProperty(y)){var T=o[y];if(T!=null)switch(y){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:xt(r,s,y,T,o,null)}}h&&xt(r,s,"srcSet",o.srcSet,o,null),c&&xt(r,s,"src",o.src,o,null);return;case"input":et("invalid",r);var N=y=T=h=null,F=null,J=null;for(c in o)if(o.hasOwnProperty(c)){var le=o[c];if(le!=null)switch(c){case"name":h=le;break;case"type":T=le;break;case"checked":F=le;break;case"defaultChecked":J=le;break;case"value":y=le;break;case"defaultValue":N=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,s));break;default:xt(r,s,c,le,o,null)}}Sa(r,y,N,F,J,T,h,!1),bo(r);return;case"select":et("invalid",r),c=T=y=null;for(h in o)if(o.hasOwnProperty(h)&&(N=o[h],N!=null))switch(h){case"value":y=N;break;case"defaultValue":T=N;break;case"multiple":c=N;default:xt(r,s,h,N,o,null)}s=y,o=T,r.multiple=!!c,s!=null?wi(r,!!c,s,!1):o!=null&&wi(r,!!c,o,!0);return;case"textarea":et("invalid",r),y=h=c=null;for(T in o)if(o.hasOwnProperty(T)&&(N=o[T],N!=null))switch(T){case"value":c=N;break;case"defaultValue":h=N;break;case"children":y=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(i(91));break;default:xt(r,s,T,N,o,null)}Aa(r,c,h,y),bo(r);return;case"option":for(F in o)if(o.hasOwnProperty(F)&&(c=o[F],c!=null))switch(F){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:xt(r,s,F,c,o,null)}return;case"dialog":et("beforetoggle",r),et("toggle",r),et("cancel",r),et("close",r);break;case"iframe":case"object":et("load",r);break;case"video":case"audio":for(c=0;c<Yc.length;c++)et(Yc[c],r);break;case"image":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"embed":case"source":case"link":et("error",r),et("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in o)if(o.hasOwnProperty(J)&&(c=o[J],c!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:xt(r,s,J,c,o,null)}return;default:if(uc(s)){for(le in o)o.hasOwnProperty(le)&&(c=o[le],c!==void 0&&Zp(r,s,le,c,o,void 0));return}}for(N in o)o.hasOwnProperty(N)&&(c=o[N],c!=null&&xt(r,s,N,c,o,null))}function kC(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,y=null,T=null,N=null,F=null,J=null,le=null;for(re in o){var fe=o[re];if(o.hasOwnProperty(re)&&fe!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":F=fe;default:c.hasOwnProperty(re)||xt(r,s,re,null,c,fe)}}for(var te in c){var re=c[te];if(fe=o[te],c.hasOwnProperty(te)&&(re!=null||fe!=null))switch(te){case"type":y=re;break;case"name":h=re;break;case"checked":J=re;break;case"defaultChecked":le=re;break;case"value":T=re;break;case"defaultValue":N=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,s));break;default:re!==fe&&xt(r,s,te,re,c,fe)}}er(r,T,N,F,J,le,y,h);return;case"select":re=T=N=te=null;for(y in o)if(F=o[y],o.hasOwnProperty(y)&&F!=null)switch(y){case"value":break;case"multiple":re=F;default:c.hasOwnProperty(y)||xt(r,s,y,null,c,F)}for(h in c)if(y=c[h],F=o[h],c.hasOwnProperty(h)&&(y!=null||F!=null))switch(h){case"value":te=y;break;case"defaultValue":N=y;break;case"multiple":T=y;default:y!==F&&xt(r,s,h,y,c,F)}s=N,o=T,c=re,te!=null?wi(r,!!o,te,!1):!!c!=!!o&&(s!=null?wi(r,!!o,s,!0):wi(r,!!o,o?[]:"",!1));return;case"textarea":re=te=null;for(N in o)if(h=o[N],o.hasOwnProperty(N)&&h!=null&&!c.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:xt(r,s,N,null,c,h)}for(T in c)if(h=c[T],y=o[T],c.hasOwnProperty(T)&&(h!=null||y!=null))switch(T){case"value":te=h;break;case"defaultValue":re=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==y&&xt(r,s,T,h,c,y)}_t(r,te,re);return;case"option":for(var He in o)if(te=o[He],o.hasOwnProperty(He)&&te!=null&&!c.hasOwnProperty(He))switch(He){case"selected":r.selected=!1;break;default:xt(r,s,He,null,c,te)}for(F in c)if(te=c[F],re=o[F],c.hasOwnProperty(F)&&te!==re&&(te!=null||re!=null))switch(F){case"selected":r.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:xt(r,s,F,te,c,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in o)te=o[Le],o.hasOwnProperty(Le)&&te!=null&&!c.hasOwnProperty(Le)&&xt(r,s,Le,null,c,te);for(J in c)if(te=c[J],re=o[J],c.hasOwnProperty(J)&&te!==re&&(te!=null||re!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:xt(r,s,J,te,c,re)}return;default:if(uc(s)){for(var Et in o)te=o[Et],o.hasOwnProperty(Et)&&te!==void 0&&!c.hasOwnProperty(Et)&&Zp(r,s,Et,void 0,c,te);for(le in c)te=c[le],re=o[le],!c.hasOwnProperty(le)||te===re||te===void 0&&re===void 0||Zp(r,s,le,te,c,re);return}}for(var Q in o)te=o[Q],o.hasOwnProperty(Q)&&te!=null&&!c.hasOwnProperty(Q)&&xt(r,s,Q,null,c,te);for(fe in c)te=c[fe],re=o[fe],!c.hasOwnProperty(fe)||te===re||te==null&&re==null||xt(r,s,fe,te,c,re)}var Jp=null,eg=null;function mf(r){return r.nodeType===9?r:r.ownerDocument}function Wb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xb(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function tg(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ng=null;function OC(){var r=window.event;return r&&r.type==="popstate"?r===ng?!1:(ng=r,!0):(ng=null,!1)}var Zb=typeof setTimeout=="function"?setTimeout:void 0,jC=typeof clearTimeout=="function"?clearTimeout:void 0,Jb=typeof Promise=="function"?Promise:void 0,MC=typeof queueMicrotask=="function"?queueMicrotask:typeof Jb<"u"?function(r){return Jb.resolve(null).then(r).catch(PC)}:Zb;function PC(r){setTimeout(function(){throw r})}function Ms(r){return r==="head"}function ex(r,s){var o=s,c=0,h=0;do{var y=o.nextSibling;if(r.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<c&&8>c){o=c;var T=r.ownerDocument;if(o&1&&Qc(T.documentElement),o&2&&Qc(T.body),o&4)for(o=T.head,Qc(o),T=o.firstChild;T;){var N=T.nextSibling,F=T.nodeName;T[xa]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=N}}if(h===0){r.removeChild(y),ru(s);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:c=o.charCodeAt(0)-48;else c=0;o=y}while(o);ru(s)}function rg(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":rg(o),gs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function VC(r,s,o,c){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[xa])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var y=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Nr(r.nextSibling),r===null)break}return null}function LC(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Nr(r.nextSibling),r===null))return null;return r}function ig(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function UC(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function Nr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var sg=null;function tx(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function nx(r,s,o){switch(s=mf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Qc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);gs(r)}var Er=new Map,rx=new Set;function pf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Fi=ee.d;ee.d={f:BC,r:zC,D:FC,C:HC,L:qC,m:$C,X:YC,S:GC,M:KC};function BC(){var r=Fi.f(),s=af();return r||s}function zC(r){var s=Fr(r);s!==null&&s.tag===5&&s.type==="form"?w_(s):Fi.r(r)}var tl=typeof document>"u"?null:document;function ix(r,s,o){var c=tl;if(c&&typeof s=="string"&&s){var h=Jt(s);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),rx.has(h)||(rx.add(h),r={rel:r,crossOrigin:o,href:s},c.querySelector(h)===null&&(s=c.createElement("link"),wn(s,"link",r),Kt(s),c.head.appendChild(s)))}}function FC(r){Fi.D(r),ix("dns-prefetch",r,null)}function HC(r,s){Fi.C(r,s),ix("preconnect",r,s)}function qC(r,s,o){Fi.L(r,s,o);var c=tl;if(c&&r&&s){var h='link[rel="preload"][as="'+Jt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Jt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Jt(o.imageSizes)+'"]')):h+='[href="'+Jt(r)+'"]';var y=h;switch(s){case"style":y=nl(r);break;case"script":y=rl(r)}Er.has(y)||(r=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),Er.set(y,r),c.querySelector(h)!==null||s==="style"&&c.querySelector(Wc(y))||s==="script"&&c.querySelector(Xc(y))||(s=c.createElement("link"),wn(s,"link",r),Kt(s),c.head.appendChild(s)))}}function $C(r,s){Fi.m(r,s);var o=tl;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+Jt(c)+'"][href="'+Jt(r)+'"]',y=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=rl(r)}if(!Er.has(y)&&(r=v({rel:"modulepreload",href:r},s),Er.set(y,r),o.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Xc(y)))return}c=o.createElement("link"),wn(c,"link",r),Kt(c),o.head.appendChild(c)}}}function GC(r,s,o){Fi.S(r,s,o);var c=tl;if(c&&r){var h=Bn(c).hoistableStyles,y=nl(r);s=s||"default";var T=h.get(y);if(!T){var N={loading:0,preload:null};if(T=c.querySelector(Wc(y)))N.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},o),(o=Er.get(y))&&ag(r,o);var F=T=c.createElement("link");Kt(F),wn(F,"link",r),F._p=new Promise(function(J,le){F.onload=J,F.onerror=le}),F.addEventListener("load",function(){N.loading|=1}),F.addEventListener("error",function(){N.loading|=2}),N.loading|=4,gf(T,s,c)}T={type:"stylesheet",instance:T,count:1,state:N},h.set(y,T)}}}function YC(r,s){Fi.X(r,s);var o=tl;if(o&&r){var c=Bn(o).hoistableScripts,h=rl(r),y=c.get(h);y||(y=o.querySelector(Xc(h)),y||(r=v({src:r,async:!0},s),(s=Er.get(h))&&og(r,s),y=o.createElement("script"),Kt(y),wn(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(h,y))}}function KC(r,s){Fi.M(r,s);var o=tl;if(o&&r){var c=Bn(o).hoistableScripts,h=rl(r),y=c.get(h);y||(y=o.querySelector(Xc(h)),y||(r=v({src:r,async:!0,type:"module"},s),(s=Er.get(h))&&og(r,s),y=o.createElement("script"),Kt(y),wn(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(h,y))}}function sx(r,s,o,c){var h=(h=ge.current)?pf(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=nl(o.href),o=Bn(h).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=nl(o.href);var y=Bn(h).hoistableStyles,T=y.get(r);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,T),(y=h.querySelector(Wc(r)))&&!y._p&&(T.instance=y,T.state.loading=5),Er.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Er.set(r,o),y||QC(h,r,o,T.state))),s&&c===null)throw Error(i(528,""));return T}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=rl(o),o=Bn(h).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function nl(r){return'href="'+Jt(r)+'"'}function Wc(r){return'link[rel="stylesheet"]['+r+"]"}function ax(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function QC(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),wn(s,"link",o),Kt(s),r.head.appendChild(s))}function rl(r){return'[src="'+Jt(r)+'"]'}function Xc(r){return"script[async]"+r}function ox(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+Jt(o.href)+'"]');if(c)return s.instance=c,Kt(c),c;var h=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Kt(c),wn(c,"style",h),gf(c,o.precedence,r),s.instance=c;case"stylesheet":h=nl(o.href);var y=r.querySelector(Wc(h));if(y)return s.state.loading|=4,s.instance=y,Kt(y),y;c=ax(o),(h=Er.get(h))&&ag(c,h),y=(r.ownerDocument||r).createElement("link"),Kt(y);var T=y;return T._p=new Promise(function(N,F){T.onload=N,T.onerror=F}),wn(y,"link",c),s.state.loading|=4,gf(y,o.precedence,r),s.instance=y;case"script":return y=rl(o.src),(h=r.querySelector(Xc(y)))?(s.instance=h,Kt(h),h):(c=o,(h=Er.get(y))&&(c=v({},o),og(c,h)),r=r.ownerDocument||r,h=r.createElement("script"),Kt(h),wn(h,"link",c),r.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,gf(c,o.precedence,r));return s.instance}function gf(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,y=h,T=0;T<c.length;T++){var N=c[T];if(N.dataset.precedence===s)y=N;else if(y!==h)break}y?y.parentNode.insertBefore(r,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function ag(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function og(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var yf=null;function lx(r,s,o){if(yf===null){var c=new Map,h=yf=new Map;h.set(o,c)}else h=yf,c=h.get(o),c||(c=new Map,h.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var y=o[h];if(!(y[xa]||y[sn]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(s)||"";T=r+T;var N=c.get(T);N?N.push(y):c.set(T,[y])}}return c}function cx(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function WC(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function ux(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Zc=null;function XC(){}function ZC(r,s,o){if(Zc===null)throw Error(i(475));var c=Zc;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=nl(o.href),y=r.querySelector(Wc(h));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=vf.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=y,Kt(y);return}y=r.ownerDocument||r,o=ax(o),(h=Er.get(h))&&ag(o,h),y=y.createElement("link"),Kt(y);var T=y;T._p=new Promise(function(N,F){T.onload=N,T.onerror=F}),wn(y,"link",o),s.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=vf.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function JC(){if(Zc===null)throw Error(i(475));var r=Zc;return r.stylesheets&&r.count===0&&lg(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&lg(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function vf(){if(this.count--,this.count===0){if(this.stylesheets)lg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var _f=null;function lg(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,_f=new Map,s.forEach(eR,r),_f=null,vf.call(r))}function eR(r,s){if(!(s.state.loading&4)){var o=_f.get(r);if(o)var c=o.get(null);else{o=new Map,_f.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<h.length;y++){var T=h[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}h=s.instance,T=h.getAttribute("data-precedence"),y=o.get(T)||c,y===c&&o.set(null,h),o.set(T,h),this.count++,c=vf.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),y?y.parentNode.insertBefore(h,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),s.state.loading|=4}}var Jc={$$typeof:L,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function tR(r,s,o,c,h,y,T,N){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function dx(r,s,o,c,h,y,T,N,F,J,le,fe){return r=new tR(r,s,o,T,N,F,J,fe),s=1,y===!0&&(s|=24),y=nr(3,null,null,s),r.current=y,y.stateNode=r,s=Hm(),s.refCount++,r.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:s},Ym(y),r}function fx(r){return r?(r=jo,r):jo}function hx(r,s,o,c,h,y){h=fx(h),c.context===null?c.context=h:c.pendingContext=h,c=Es(s),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=ws(r,c,s),o!==null&&(or(o,r,s),Ic(o,r,s))}function mx(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function cg(r,s){mx(r,s),(r=r.alternate)&&mx(r,s)}function px(r){if(r.tag===13){var s=Oo(r,67108864);s!==null&&or(s,r,67108864),cg(r,67108864)}}var bf=!0;function nR(r,s,o,c){var h=H.T;H.T=null;var y=ee.p;try{ee.p=2,ug(r,s,o,c)}finally{ee.p=y,H.T=h}}function rR(r,s,o,c){var h=H.T;H.T=null;var y=ee.p;try{ee.p=8,ug(r,s,o,c)}finally{ee.p=y,H.T=h}}function ug(r,s,o,c){if(bf){var h=dg(c);if(h===null)Xp(r,s,c,xf,o),yx(r,c);else if(sR(h,r,s,o,c))c.stopPropagation();else if(yx(r,c),s&4&&-1<iR.indexOf(r)){for(;h!==null;){var y=Fr(h);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=Sr(y.pendingLanes);if(T!==0){var N=y;for(N.pendingLanes|=2,N.entangledLanes|=2;T;){var F=1<<31-Rn(T);N.entanglements[1]|=F,T&=~F}ni(y),(gt&6)===0&&(rf=ke()+500,Gc(0))}}break;case 13:N=Oo(y,2),N!==null&&or(N,y,2),af(),cg(y,2)}if(y=dg(c),y===null&&Xp(r,s,c,xf,o),y===h)break;h=y}h!==null&&c.stopPropagation()}else Xp(r,s,c,null,o)}}function dg(r){return r=hr(r),fg(r)}var xf=null;function fg(r){if(xf=null,r=bi(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=u(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return xf=r,null}function gx(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lt()){case Ve:return 2;case Ge:return 8;case Gt:case Gn:return 32;case Un:return 268435456;default:return 32}default:return 32}}var hg=!1,Ps=null,Vs=null,Ls=null,eu=new Map,tu=new Map,Us=[],iR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yx(r,s){switch(r){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":eu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(s.pointerId)}}function nu(r,s,o,c,h,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[h]},s!==null&&(s=Fr(s),s!==null&&px(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function sR(r,s,o,c,h){switch(s){case"focusin":return Ps=nu(Ps,r,s,o,c,h),!0;case"dragenter":return Vs=nu(Vs,r,s,o,c,h),!0;case"mouseover":return Ls=nu(Ls,r,s,o,c,h),!0;case"pointerover":var y=h.pointerId;return eu.set(y,nu(eu.get(y)||null,r,s,o,c,h)),!0;case"gotpointercapture":return y=h.pointerId,tu.set(y,nu(tu.get(y)||null,r,s,o,c,h)),!0}return!1}function vx(r){var s=bi(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){r.blockedOn=s,sd(r.priority,function(){if(o.tag===13){var c=ar();c=hs(c);var h=Oo(o,c);h!==null&&or(h,o,c),cg(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ef(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=dg(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);Ti=c,o.target.dispatchEvent(c),Ti=null}else return s=Fr(o),s!==null&&px(s),r.blockedOn=o,!1;s.shift()}return!0}function _x(r,s,o){Ef(r)&&o.delete(s)}function aR(){hg=!1,Ps!==null&&Ef(Ps)&&(Ps=null),Vs!==null&&Ef(Vs)&&(Vs=null),Ls!==null&&Ef(Ls)&&(Ls=null),eu.forEach(_x),tu.forEach(_x)}function wf(r,s){r.blockedOn===s&&(r.blockedOn=null,hg||(hg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,aR)))}var Tf=null;function bx(r){Tf!==r&&(Tf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Tf===r&&(Tf=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],h=r[s+2];if(typeof c!="function"){if(fg(c||o)===null)continue;break}var y=Fr(o);y!==null&&(r.splice(s,3),s-=3,fp(y,{pending:!0,data:h,method:o.method,action:c},c,h))}}))}function ru(r){function s(F){return wf(F,r)}Ps!==null&&wf(Ps,r),Vs!==null&&wf(Vs,r),Ls!==null&&wf(Ls,r),eu.forEach(s),tu.forEach(s);for(var o=0;o<Us.length;o++){var c=Us[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Us.length&&(o=Us[0],o.blockedOn===null);)vx(o),o.blockedOn===null&&Us.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var h=o[c],y=o[c+1],T=h[Zt]||null;if(typeof y=="function")T||bx(o);else if(T){var N=null;if(y&&y.hasAttribute("formAction")){if(h=y,T=y[Zt]||null)N=T.formAction;else if(fg(h)!==null)continue}else N=T.action;typeof N=="function"?o[c+1]=N:(o.splice(c,3),c-=3),bx(o)}}}function mg(r){this._internalRoot=r}Sf.prototype.render=mg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,c=ar();hx(o,c,r,s,null,null)},Sf.prototype.unmount=mg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;hx(r.current,2,null,r,null,null),af(),s[dr]=null}};function Sf(r){this._internalRoot=r}Sf.prototype.unstable_scheduleHydration=function(r){if(r){var s=ms();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Us.length&&s!==0&&s<Us[o].priority;o++);Us.splice(o,0,r),o===0&&vx(r)}};var xx=e.version;if(xx!=="19.1.0")throw Error(i(527,xx,"19.1.0"));ee.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var oR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Af.isDisabled&&Af.supportsFiber)try{zt=Af.inject(oR),pt=Af}catch{}}return su.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,c="",h=V_,y=L_,T=U_,N=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(N=s.unstable_transitionCallbacks)),s=dx(r,1,!1,null,null,o,c,h,y,T,N,null),r[dr]=s.current,Wp(r),new mg(s)},su.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var c=!1,h="",y=V_,T=L_,N=U_,F=null,J=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(F=o.unstable_transitionCallbacks),o.formState!==void 0&&(J=o.formState)),s=dx(r,1,!0,s,o??null,c,h,y,T,N,F,J),s.context=fx(null),o=s.current,c=ar(),c=hs(c),h=Es(c),h.callback=null,ws(o,h,c),o=c,s.current.lanes=o,_i(s,o),ni(s),r[dr]=s.current,Wp(r),new Sf(s)},su.version="19.1.0",su}var Dx;function yR(){if(Dx)return yg.exports;Dx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yg.exports=gR(),yg.exports}var vR=yR(),au={},kx;function _R(){if(kx)return au;kx=1,Object.defineProperty(au,"__esModule",{value:!0}),au.parse=u,au.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function u(x,A){const R=new l,C=x.length;if(C<2)return R;const D=(A==null?void 0:A.decode)||v;let M=0;do{const U=x.indexOf("=",M);if(U===-1)break;const L=x.indexOf(";",M),q=L===-1?C:L;if(U>q){M=x.lastIndexOf(";",U-1)+1;continue}const $=f(x,M,U),ne=p(x,U,$),k=x.slice($,ne);if(R[k]===void 0){let S=f(x,U+1,q),j=p(x,q,S);const V=D(x.slice(S,j));R[k]=V}M=q+1}while(M<C);return R}function f(x,A,R){do{const C=x.charCodeAt(A);if(C!==32&&C!==9)return A}while(++A<R);return R}function p(x,A,R){for(;A>R;){const C=x.charCodeAt(--A);if(C!==32&&C!==9)return A+1}return R}function g(x,A,R){const C=(R==null?void 0:R.encode)||encodeURIComponent;if(!n.test(x))throw new TypeError(`argument name is invalid: ${x}`);const D=C(A);if(!e.test(D))throw new TypeError(`argument val is invalid: ${A}`);let M=x+"="+D;if(!R)return M;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);M+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);M+="; Domain="+R.domain}if(R.path){if(!i.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);M+="; Path="+R.path}if(R.expires){if(!b(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);M+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(M+="; HttpOnly"),R.secure&&(M+="; Secure"),R.partitioned&&(M+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return M}function v(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function b(x){return a.call(x)==="[object Date]"}return au}_R();var Ox="popstate";function bR(n={}){function e(i,a){let{pathname:l,search:u,hash:f}=i.location;return Gg("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:Tu(a)}return ER(e,t,null,n)}function Ot(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Mr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xR(){return Math.random().toString(36).substring(2,10)}function jx(n,e){return{usr:n.state,key:n.key,idx:e}}function Gg(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Pl(e):e,state:t,key:e&&e.key||i||xR()}}function Tu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Pl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function ER(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,f="POP",p=null,g=v();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function v(){return(u.state||{idx:null}).idx}function b(){f="POP";let D=v(),M=D==null?null:D-g;g=D,p&&p({action:f,location:C.location,delta:M})}function x(D,M){f="PUSH";let U=Gg(C.location,D,M);g=v()+1;let L=jx(U,g),q=C.createHref(U);try{u.pushState(L,"",q)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;a.location.assign(q)}l&&p&&p({action:f,location:C.location,delta:1})}function A(D,M){f="REPLACE";let U=Gg(C.location,D,M);g=v();let L=jx(U,g),q=C.createHref(U);u.replaceState(L,"",q),l&&p&&p({action:f,location:C.location,delta:0})}function R(D){return wR(D)}let C={get action(){return f},get location(){return n(a,u)},listen(D){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(Ox,b),p=D,()=>{a.removeEventListener(Ox,b),p=null}},createHref(D){return e(a,D)},createURL:R,encodeLocation(D){let M=R(D);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:x,replace:A,go(D){return u.go(D)}};return C}function wR(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ot(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Tu(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function Ww(n,e,t="/"){return TR(n,e,t,!1)}function TR(n,e,t,i){let a=typeof e=="string"?Pl(e):e,l=ts(a.pathname||"/",t);if(l==null)return null;let u=Xw(n);SR(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let g=PR(l);f=jR(u[p],g,i)}return f}function Xw(n,e=[],t=[],i=""){let a=(l,u,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};p.relativePath.startsWith("/")&&(Ot(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let g=Wi([i,p.relativePath]),v=t.concat(p);l.children&&l.children.length>0&&(Ot(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Xw(l.children,e,v,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:kR(g,l.index),routesMeta:v})};return n.forEach((l,u)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,u);else for(let p of Zw(l.path))a(l,u,p)}),e}function Zw(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=Zw(i.join("/")),f=[];return f.push(...u.map(p=>p===""?l:[l,p].join("/"))),a&&f.push(...u),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function SR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:OR(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var AR=/^:[\w-]+$/,CR=3,RR=2,IR=1,NR=10,DR=-2,Mx=n=>n==="*";function kR(n,e){let t=n.split("/"),i=t.length;return t.some(Mx)&&(i+=DR),e&&(i+=RR),t.filter(a=>!Mx(a)).reduce((a,l)=>a+(AR.test(l)?CR:l===""?IR:NR),i)}function OR(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function jR(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",u=[];for(let f=0;f<i.length;++f){let p=i[f],g=f===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),x=p.route;if(!b&&g&&t&&!i[i.length-1].route.index&&(b=ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),u.push({params:a,pathname:Wi([l,b.pathname]),pathnameBase:BR(Wi([l,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(l=Wi([l,b.pathnameBase]))}return u}function ah(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=MR(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:b},x)=>{if(v==="*"){let R=f[x]||"";u=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const A=f[x];return b&&!A?g[v]=void 0:g[v]=(A||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:n}}function MR(n,e=!1,t=!0){Mr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function PR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ts(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function VR(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?Pl(n):n;return{pathname:t?t.startsWith("/")?t:LR(t,e):e,search:zR(i),hash:FR(a)}}function LR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function xg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function zy(n){let e=UR(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Fy(n,e,t,i=!1){let a;typeof n=="string"?a=Pl(n):(a={...n},Ot(!a.pathname||!a.pathname.includes("?"),xg("?","pathname","search",a)),Ot(!a.pathname||!a.pathname.includes("#"),xg("#","pathname","hash",a)),Ot(!a.search||!a.search.includes("#"),xg("#","search","hash",a)));let l=n===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=t;else{let b=e.length-1;if(!i&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),b-=1;a.pathname=x.join("/")}f=b>=0?e[b]:"/"}let p=VR(a,f),g=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Wi=n=>n.join("/").replace(/\/\/+/g,"/"),BR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),zR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,FR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function HR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Jw=["POST","PUT","PATCH","DELETE"];new Set(Jw);var qR=["GET",...Jw];new Set(qR);var Vl=E.createContext(null);Vl.displayName="DataRouter";var Ph=E.createContext(null);Ph.displayName="DataRouterState";var eT=E.createContext({isTransitioning:!1});eT.displayName="ViewTransition";var $R=E.createContext(new Map);$R.displayName="Fetchers";var GR=E.createContext(null);GR.displayName="Await";var Br=E.createContext(null);Br.displayName="Navigation";var Vu=E.createContext(null);Vu.displayName="Location";var mi=E.createContext({outlet:null,matches:[],isDataRoute:!1});mi.displayName="Route";var Hy=E.createContext(null);Hy.displayName="RouteError";function YR(n,{relative:e}={}){Ot(Ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=E.useContext(Br),{hash:a,pathname:l,search:u}=Lu(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Wi([t,l])),i.createHref({pathname:f,search:u,hash:a})}function Ll(){return E.useContext(Vu)!=null}function cs(){return Ot(Ll(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Vu).location}var tT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nT(n){E.useContext(Br).static||E.useLayoutEffect(n)}function Vh(){let{isDataRoute:n}=E.useContext(mi);return n?aI():KR()}function KR(){Ot(Ll(),"useNavigate() may be used only in the context of a <Router> component.");let n=E.useContext(Vl),{basename:e,navigator:t}=E.useContext(Br),{matches:i}=E.useContext(mi),{pathname:a}=cs(),l=JSON.stringify(zy(i)),u=E.useRef(!1);return nT(()=>{u.current=!0}),E.useCallback((p,g={})=>{if(Mr(u.current,tT),!u.current)return;if(typeof p=="number"){t.go(p);return}let v=Fy(p,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Wi([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,a,n])}E.createContext(null);function Lu(n,{relative:e}={}){let{matches:t}=E.useContext(mi),{pathname:i}=cs(),a=JSON.stringify(zy(t));return E.useMemo(()=>Fy(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function QR(n,e){return rT(n,e)}function rT(n,e,t,i){var M;Ot(Ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=E.useContext(Br),{matches:l}=E.useContext(mi),u=l[l.length-1],f=u?u.params:{},p=u?u.pathname:"/",g=u?u.pathnameBase:"/",v=u&&u.route;{let U=v&&v.path||"";iT(p,!v||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let b=cs(),x;if(e){let U=typeof e=="string"?Pl(e):e;Ot(g==="/"||((M=U.pathname)==null?void 0:M.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${U.pathname}" was given in the \`location\` prop.`),x=U}else x=b;let A=x.pathname||"/",R=A;if(g!=="/"){let U=g.replace(/^\//,"").split("/");R="/"+A.replace(/^\//,"").split("/").slice(U.length).join("/")}let C=Ww(n,{pathname:R});Mr(v||C!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Mr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=eI(C&&C.map(U=>Object.assign({},U,{params:Object.assign({},f,U.params),pathname:Wi([g,a.encodeLocation?a.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:Wi([g,a.encodeLocation?a.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),l,t,i);return e&&D?E.createElement(Vu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},D):D}function WR(){let n=sI(),e=HR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:l},"ErrorBoundary")," or"," ",E.createElement("code",{style:l},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),t?E.createElement("pre",{style:a},t):null,u)}var XR=E.createElement(WR,null),ZR=class extends E.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?E.createElement(mi.Provider,{value:this.props.routeContext},E.createElement(Hy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JR({routeContext:n,match:e,children:t}){let i=E.useContext(Vl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(mi.Provider,{value:n},t)}function eI(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let p=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);Ot(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let u=!1,f=-1;if(t)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:v,errors:b}=t,x=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||x){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((p,g,v)=>{let b,x=!1,A=null,R=null;t&&(b=l&&g.route.id?l[g.route.id]:void 0,A=g.route.errorElement||XR,u&&(f<0&&v===0?(iT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,R=null):f===v&&(x=!0,R=g.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,v+1)),D=()=>{let M;return b?M=A:x?M=R:g.route.Component?M=E.createElement(g.route.Component,null):g.route.element?M=g.route.element:M=p,E.createElement(JR,{match:g,routeContext:{outlet:p,matches:C,isDataRoute:t!=null},children:M})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?E.createElement(ZR,{location:t.location,revalidation:t.revalidation,component:A,error:b,children:D(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):D()},null)}function qy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tI(n){let e=E.useContext(Vl);return Ot(e,qy(n)),e}function nI(n){let e=E.useContext(Ph);return Ot(e,qy(n)),e}function rI(n){let e=E.useContext(mi);return Ot(e,qy(n)),e}function $y(n){let e=rI(n),t=e.matches[e.matches.length-1];return Ot(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function iI(){return $y("useRouteId")}function sI(){var i;let n=E.useContext(Hy),e=nI("useRouteError"),t=$y("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function aI(){let{router:n}=tI("useNavigate"),e=$y("useNavigate"),t=E.useRef(!1);return nT(()=>{t.current=!0}),E.useCallback(async(a,l={})=>{Mr(t.current,tT),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var Px={};function iT(n,e,t){!e&&!Px[n]&&(Px[n]=!0,Mr(!1,t))}E.memo(oI);function oI({routes:n,future:e,state:t}){return rT(n,void 0,t,e)}function Yg({to:n,replace:e,state:t,relative:i}){Ot(Ll(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=E.useContext(Br);Mr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=E.useContext(mi),{pathname:u}=cs(),f=Vh(),p=Fy(n,zy(l),u,i==="path"),g=JSON.stringify(p);return E.useEffect(()=>{f(JSON.parse(g),{replace:e,state:t,relative:i})},[f,g,i,e,t]),null}function Dr(n){Ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lI({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){Ot(!Ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=E.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof t=="string"&&(t=Pl(t));let{pathname:p="/",search:g="",hash:v="",state:b=null,key:x="default"}=t,A=E.useMemo(()=>{let R=ts(p,u);return R==null?null:{location:{pathname:R,search:g,hash:v,state:b,key:x},navigationType:i}},[u,p,g,v,b,x,i]);return Mr(A!=null,`<Router basename="${u}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:E.createElement(Br.Provider,{value:f},E.createElement(Vu.Provider,{children:e,value:A}))}function cI({children:n,location:e}){return QR(Kg(n),e)}function Kg(n,e=[]){let t=[];return E.Children.forEach(n,(i,a)=>{if(!E.isValidElement(i))return;let l=[...e,a];if(i.type===E.Fragment){t.push.apply(t,Kg(i.props.children,l));return}Ot(i.type===Dr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ot(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Kg(i.props.children,l)),t.push(u)}),t}var qf="get",$f="application/x-www-form-urlencoded";function Lh(n){return n!=null&&typeof n.tagName=="string"}function uI(n){return Lh(n)&&n.tagName.toLowerCase()==="button"}function dI(n){return Lh(n)&&n.tagName.toLowerCase()==="form"}function fI(n){return Lh(n)&&n.tagName.toLowerCase()==="input"}function hI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function mI(n,e){return n.button===0&&(!e||e==="_self")&&!hI(n)}var Cf=null;function pI(){if(Cf===null)try{new FormData(document.createElement("form"),0),Cf=!1}catch{Cf=!0}return Cf}var gI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Eg(n){return n!=null&&!gI.has(n)?(Mr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$f}"`),null):n}function yI(n,e){let t,i,a,l,u;if(dI(n)){let f=n.getAttribute("action");i=f?ts(f,e):null,t=n.getAttribute("method")||qf,a=Eg(n.getAttribute("enctype"))||$f,l=new FormData(n)}else if(uI(n)||fI(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(i=p?ts(p,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||qf,a=Eg(n.getAttribute("formenctype"))||Eg(f.getAttribute("enctype"))||$f,l=new FormData(f,n),!pI()){let{name:g,type:v,value:b}=n;if(v==="image"){let x=g?`${g}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else g&&l.append(g,b)}}else{if(Lh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=qf,i=null,a=$f,u=n}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:u}}function Gy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function vI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _I(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function bI(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await vI(l,t);return u.links?u.links():[]}return[]}));return TI(i.flat(1).filter(_I).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Vx(n,e,t,i,a,l){let u=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,f=(p,g)=>{var v;return t[g].pathname!==p.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>u(p,g)||f(p,g)):l==="data"?e.filter((p,g)=>{var b;let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(u(p,g)||f(p,g))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function xI(n,e,{includeHydrateFallback:t}={}){return EI(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function EI(n){return[...new Set(n)]}function wI(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function TI(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(wI(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var SI=new Set([100,101,204,205]);function AI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ts(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function sT(){let n=E.useContext(Vl);return Gy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function CI(){let n=E.useContext(Ph);return Gy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Yy=E.createContext(void 0);Yy.displayName="FrameworkContext";function aT(){let n=E.useContext(Yy);return Gy(n,"You must render this element inside a <HydratedRouter> element"),n}function RI(n,e){let t=E.useContext(Yy),[i,a]=E.useState(!1),[l,u]=E.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,x=E.useRef(null);E.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let C=M=>{M.forEach(U=>{u(U.isIntersecting)})},D=new IntersectionObserver(C,{threshold:.5});return x.current&&D.observe(x.current),()=>{D.disconnect()}}},[n]),E.useEffect(()=>{if(i){let C=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(C)}}},[i]);let A=()=>{a(!0)},R=()=>{a(!1),u(!1)};return t?n!=="intent"?[l,x,{}]:[l,x,{onFocus:ou(f,A),onBlur:ou(p,R),onMouseEnter:ou(g,A),onMouseLeave:ou(v,R),onTouchStart:ou(b,A)}]:[!1,x,{}]}function ou(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function II({page:n,...e}){let{router:t}=sT(),i=E.useMemo(()=>Ww(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?E.createElement(DI,{page:n,matches:i,...e}):null}function NI(n){let{manifest:e,routeModules:t}=aT(),[i,a]=E.useState([]);return E.useEffect(()=>{let l=!1;return bI(n,e,t).then(u=>{l||a(u)}),()=>{l=!0}},[n,e,t]),i}function DI({page:n,matches:e,...t}){let i=cs(),{manifest:a,routeModules:l}=aT(),{basename:u}=sT(),{loaderData:f,matches:p}=CI(),g=E.useMemo(()=>Vx(n,e,p,a,i,"data"),[n,e,p,a,i]),v=E.useMemo(()=>Vx(n,e,p,a,i,"assets"),[n,e,p,a,i]),b=E.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let R=new Set,C=!1;if(e.forEach(M=>{var L;let U=a.routes[M.route.id];!U||!U.hasLoader||(!g.some(q=>q.route.id===M.route.id)&&M.route.id in f&&((L=l[M.route.id])!=null&&L.shouldRevalidate)||U.hasClientLoader?C=!0:R.add(M.route.id))}),R.size===0)return[];let D=AI(n,u);return C&&R.size>0&&D.searchParams.set("_routes",e.filter(M=>R.has(M.route.id)).map(M=>M.route.id).join(",")),[D.pathname+D.search]},[u,f,i,a,g,e,n,l]),x=E.useMemo(()=>xI(v,a),[v,a]),A=NI(v);return E.createElement(E.Fragment,null,b.map(R=>E.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),x.map(R=>E.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),A.map(({key:R,link:C})=>E.createElement("link",{key:R,...C})))}function kI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var oT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oT&&(window.__reactRouterVersion="7.6.1")}catch{}function OI({basename:n,children:e,window:t}){let i=E.useRef();i.current==null&&(i.current=bR({window:t,v5Compat:!0}));let a=i.current,[l,u]=E.useState({action:a.action,location:a.location}),f=E.useCallback(p=>{E.startTransition(()=>u(p))},[u]);return E.useLayoutEffect(()=>a.listen(f),[a,f]),E.createElement(lI,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var lT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_l=E.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:f,target:p,to:g,preventScrollReset:v,viewTransition:b,...x},A){let{basename:R}=E.useContext(Br),C=typeof g=="string"&&lT.test(g),D,M=!1;if(typeof g=="string"&&C&&(D=g,oT))try{let j=new URL(window.location.href),V=g.startsWith("//")?new URL(j.protocol+g):new URL(g),I=ts(V.pathname,R);V.origin===j.origin&&I!=null?g=I+V.search+V.hash:M=!0}catch{Mr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=YR(g,{relative:a}),[L,q,$]=RI(i,x),ne=VI(g,{replace:u,state:f,target:p,preventScrollReset:v,relative:a,viewTransition:b});function k(j){e&&e(j),j.defaultPrevented||ne(j)}let S=E.createElement("a",{...x,...$,href:D||U,onClick:M||l?e:k,ref:kI(A,q),target:p,"data-discover":!C&&t==="render"?"true":void 0});return L&&!C?E.createElement(E.Fragment,null,S,E.createElement(II,{page:U})):S});_l.displayName="Link";var jI=E.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:f,children:p,...g},v){let b=Lu(u,{relative:g.relative}),x=cs(),A=E.useContext(Ph),{navigator:R,basename:C}=E.useContext(Br),D=A!=null&&FI(b)&&f===!0,M=R.encodeLocation?R.encodeLocation(b).pathname:b.pathname,U=x.pathname,L=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(U=U.toLowerCase(),L=L?L.toLowerCase():null,M=M.toLowerCase()),L&&C&&(L=ts(L,C)||L);const q=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let $=U===M||!a&&U.startsWith(M)&&U.charAt(q)==="/",ne=L!=null&&(L===M||!a&&L.startsWith(M)&&L.charAt(M.length)==="/"),k={isActive:$,isPending:ne,isTransitioning:D},S=$?e:void 0,j;typeof i=="function"?j=i(k):j=[i,$?"active":null,ne?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(k):l;return E.createElement(_l,{...g,"aria-current":S,className:j,ref:v,style:V,to:u,viewTransition:f},typeof p=="function"?p(k):p)});jI.displayName="NavLink";var MI=E.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:u=qf,action:f,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:b,...x},A)=>{let R=BI(),C=zI(f,{relative:g}),D=u.toLowerCase()==="get"?"get":"post",M=typeof f=="string"&&lT.test(f),U=L=>{if(p&&p(L),L.defaultPrevented)return;L.preventDefault();let q=L.nativeEvent.submitter,$=(q==null?void 0:q.getAttribute("formmethod"))||u;R(q||L.currentTarget,{fetcherKey:e,method:$,navigate:t,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:b})};return E.createElement("form",{ref:A,method:D,action:C,onSubmit:i?p:U,...x,"data-discover":!M&&n==="render"?"true":void 0})});MI.displayName="Form";function PI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cT(n){let e=E.useContext(Vl);return Ot(e,PI(n)),e}function VI(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:u}={}){let f=Vh(),p=cs(),g=Lu(n,{relative:l});return E.useCallback(v=>{if(mI(v,e)){v.preventDefault();let b=t!==void 0?t:Tu(p)===Tu(g);f(n,{replace:b,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[p,f,g,t,i,e,n,a,l,u])}var LI=0,UI=()=>`__${String(++LI)}__`;function BI(){let{router:n}=cT("useSubmit"),{basename:e}=E.useContext(Br),t=iI();return E.useCallback(async(i,a={})=>{let{action:l,method:u,encType:f,formData:p,body:g}=yI(i,e);if(a.navigate===!1){let v=a.fetcherKey||UI();await n.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||u,formEncType:a.encType||f,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||u,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function zI(n,{relative:e}={}){let{basename:t}=E.useContext(Br),i=E.useContext(mi);Ot(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Lu(n||".",{relative:e})},u=cs();if(n==null){l.search=u.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(v=>v==="")){f.delete("index"),p.filter(b=>b).forEach(b=>f.append("index",b));let v=f.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Wi([t,l.pathname])),Tu(l)}function FI(n,e={}){let t=E.useContext(eT);Ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=cT("useViewTransitionState"),a=Lu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=ts(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=ts(t.nextLocation.pathname,i)||t.nextLocation.pathname;return ah(a.pathname,u)!=null||ah(a.pathname,l)!=null}[...SI];var Uu=Qw();const HI=Yw(Uu);function Lx(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function qI(...n){return e=>{let t=!1;const i=n.map(a=>{const l=Lx(a,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():Lx(n[a],null)}}}}function Ut(...n){return E.useCallback(qI(...n),n)}function Su(n){const e=$I(n),t=E.forwardRef((i,a)=>{const{children:l,...u}=i,f=E.Children.toArray(l),p=f.find(YI);if(p){const g=p.props.children,v=f.map(b=>b===p?E.Children.count(g)>1?E.Children.only(null):E.isValidElement(g)?g.props.children:null:b);return m.jsx(e,{...u,ref:a,children:E.isValidElement(g)?E.cloneElement(g,void 0,v):null})}return m.jsx(e,{...u,ref:a,children:l})});return t.displayName=`${n}.Slot`,t}var uT=Su("Slot");function $I(n){const e=E.forwardRef((t,i)=>{const{children:a,...l}=t,u=E.isValidElement(a)?QI(a):void 0,f=Ut(u,i);if(E.isValidElement(a)){const p=KI(l,a.props);return a.type!==E.Fragment&&(p.ref=f),E.cloneElement(a,p)}return E.Children.count(a)>1?E.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var GI=Symbol("radix.slottable");function YI(n){return E.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===GI}function KI(n,e){const t={...e};for(const i in e){const a=n[i],l=e[i];/^on[A-Z]/.test(i)?a&&l?t[i]=(...f)=>{const p=l(...f);return a(...f),p}:a&&(t[i]=a):i==="style"?t[i]={...a,...l}:i==="className"&&(t[i]=[a,l].filter(Boolean).join(" "))}return{...n,...t}}function QI(n){var i,a;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function dT(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=dT(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function fT(){for(var n,e,t=0,i="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=dT(n))&&(i&&(i+=" "),i+=e);return i}const Ux=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Bx=fT,Ky=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return Bx(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:a,defaultVariants:l}=e,u=Object.keys(a).map(g=>{const v=t==null?void 0:t[g],b=l==null?void 0:l[g];if(v===null)return null;const x=Ux(v)||Ux(b);return a[g][x]}),f=t&&Object.entries(t).reduce((g,v)=>{let[b,x]=v;return x===void 0||(g[b]=x),g},{}),p=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((g,v)=>{let{class:b,className:x,...A}=v;return Object.entries(A).every(R=>{let[C,D]=R;return Array.isArray(D)?D.includes({...l,...f}[C]):{...l,...f}[C]===D})?[...g,b,x]:g},[]);return Bx(n,u,p,t==null?void 0:t.class,t==null?void 0:t.className)},Qy="-",WI=n=>{const e=ZI(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:u=>{const f=u.split(Qy);return f[0]===""&&f.length!==1&&f.shift(),hT(f,e)||XI(u)},getConflictingClassGroupIds:(u,f)=>{const p=t[u]||[];return f&&i[u]?[...p,...i[u]]:p}}},hT=(n,e)=>{var u;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),a=i?hT(n.slice(1),i):void 0;if(a)return a;if(e.validators.length===0)return;const l=n.join(Qy);return(u=e.validators.find(({validator:f})=>f(l)))==null?void 0:u.classGroupId},zx=/^\[(.+)\]$/,XI=n=>{if(zx.test(n)){const e=zx.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},ZI=n=>{const{theme:e,classGroups:t}=n,i={nextPart:new Map,validators:[]};for(const a in t)Qg(t[a],i,a,e);return i},Qg=(n,e,t,i)=>{n.forEach(a=>{if(typeof a=="string"){const l=a===""?e:Fx(e,a);l.classGroupId=t;return}if(typeof a=="function"){if(JI(a)){Qg(a(i),e,t,i);return}e.validators.push({validator:a,classGroupId:t});return}Object.entries(a).forEach(([l,u])=>{Qg(u,Fx(e,l),t,i)})})},Fx=(n,e)=>{let t=n;return e.split(Qy).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},JI=n=>n.isThemeGetter,eN=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const a=(l,u)=>{t.set(l,u),e++,e>n&&(e=0,i=t,t=new Map)};return{get(l){let u=t.get(l);if(u!==void 0)return u;if((u=i.get(l))!==void 0)return a(l,u),u},set(l,u){t.has(l)?t.set(l,u):a(l,u)}}},Wg="!",Xg=":",tN=Xg.length,nN=n=>{const{prefix:e,experimentalParseClassName:t}=n;let i=a=>{const l=[];let u=0,f=0,p=0,g;for(let R=0;R<a.length;R++){let C=a[R];if(u===0&&f===0){if(C===Xg){l.push(a.slice(p,R)),p=R+tN;continue}if(C==="/"){g=R;continue}}C==="["?u++:C==="]"?u--:C==="("?f++:C===")"&&f--}const v=l.length===0?a:a.substring(p),b=rN(v),x=b!==v,A=g&&g>p?g-p:void 0;return{modifiers:l,hasImportantModifier:x,baseClassName:b,maybePostfixModifierPosition:A}};if(e){const a=e+Xg,l=i;i=u=>u.startsWith(a)?l(u.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(t){const a=i;i=l=>t({className:l,parseClassName:a})}return i},rN=n=>n.endsWith(Wg)?n.substring(0,n.length-1):n.startsWith(Wg)?n.substring(1):n,iN=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const a=[];let l=[];return i.forEach(u=>{u[0]==="["||e[u]?(a.push(...l.sort(),u),l=[]):l.push(u)}),a.push(...l.sort()),a}},sN=n=>({cache:eN(n.cacheSize),parseClassName:nN(n),sortModifiers:iN(n),...WI(n)}),aN=/\s+/,oN=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,u=[],f=n.trim().split(aN);let p="";for(let g=f.length-1;g>=0;g-=1){const v=f[g],{isExternal:b,modifiers:x,hasImportantModifier:A,baseClassName:R,maybePostfixModifierPosition:C}=t(v);if(b){p=v+(p.length>0?" "+p:p);continue}let D=!!C,M=i(D?R.substring(0,C):R);if(!M){if(!D){p=v+(p.length>0?" "+p:p);continue}if(M=i(R),!M){p=v+(p.length>0?" "+p:p);continue}D=!1}const U=l(x).join(":"),L=A?U+Wg:U,q=L+M;if(u.includes(q))continue;u.push(q);const $=a(M,D);for(let ne=0;ne<$.length;++ne){const k=$[ne];u.push(L+k)}p=v+(p.length>0?" "+p:p)}return p};function lN(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=mT(e))&&(i&&(i+=" "),i+=t);return i}const mT=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=mT(n[i]))&&(t&&(t+=" "),t+=e);return t};function cN(n,...e){let t,i,a,l=u;function u(p){const g=e.reduce((v,b)=>b(v),n());return t=sN(g),i=t.cache.get,a=t.cache.set,l=f,f(p)}function f(p){const g=i(p);if(g)return g;const v=oN(p,t);return a(p,v),v}return function(){return l(lN.apply(null,arguments))}}const un=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},pT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,gT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,uN=/^\d+\/\d+$/,dN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,mN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,il=n=>uN.test(n),We=n=>!!n&&!Number.isNaN(Number(n)),zs=n=>!!n&&Number.isInteger(Number(n)),wg=n=>n.endsWith("%")&&We(n.slice(0,-1)),Hi=n=>dN.test(n),gN=()=>!0,yN=n=>fN.test(n)&&!hN.test(n),yT=()=>!1,vN=n=>mN.test(n),_N=n=>pN.test(n),bN=n=>!Ne(n)&&!De(n),xN=n=>Ul(n,bT,yT),Ne=n=>pT.test(n),Wa=n=>Ul(n,xT,yN),Tg=n=>Ul(n,AN,We),Hx=n=>Ul(n,vT,yT),EN=n=>Ul(n,_T,_N),Rf=n=>Ul(n,ET,vN),De=n=>gT.test(n),lu=n=>Bl(n,xT),wN=n=>Bl(n,CN),qx=n=>Bl(n,vT),TN=n=>Bl(n,bT),SN=n=>Bl(n,_T),If=n=>Bl(n,ET,!0),Ul=(n,e,t)=>{const i=pT.exec(n);return i?i[1]?e(i[1]):t(i[2]):!1},Bl=(n,e,t=!1)=>{const i=gT.exec(n);return i?i[1]?e(i[1]):t:!1},vT=n=>n==="position"||n==="percentage",_T=n=>n==="image"||n==="url",bT=n=>n==="length"||n==="size"||n==="bg-size",xT=n=>n==="length",AN=n=>n==="number",CN=n=>n==="family-name",ET=n=>n==="shadow",RN=()=>{const n=un("color"),e=un("font"),t=un("text"),i=un("font-weight"),a=un("tracking"),l=un("leading"),u=un("breakpoint"),f=un("container"),p=un("spacing"),g=un("radius"),v=un("shadow"),b=un("inset-shadow"),x=un("text-shadow"),A=un("drop-shadow"),R=un("blur"),C=un("perspective"),D=un("aspect"),M=un("ease"),U=un("animate"),L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],$=()=>[...q(),De,Ne],ne=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],S=()=>[De,Ne,p],j=()=>[il,"full","auto",...S()],V=()=>[zs,"none","subgrid",De,Ne],I=()=>["auto",{span:["full",zs,De,Ne]},zs,De,Ne],B=()=>[zs,"auto",De,Ne],P=()=>["auto","min","max","fr",De,Ne],Y=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],se=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...S()],ee=()=>[il,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],K=()=>[n,De,Ne],ve=()=>[...q(),qx,Hx,{position:[De,Ne]}],z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ae=()=>["auto","cover","contain",TN,xN,{size:[De,Ne]}],me=()=>[wg,lu,Wa],oe=()=>["","none","full",g,De,Ne],be=()=>["",We,lu,Wa],pe=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ce=()=>[We,wg,qx,Hx],xe=()=>["","none",R,De,Ne],Te=()=>["none",We,De,Ne],Re=()=>["none",We,De,Ne],Se=()=>[We,De,Ne],je=()=>[il,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Hi],breakpoint:[Hi],color:[gN],container:[Hi],"drop-shadow":[Hi],ease:["in","out","in-out"],font:[bN],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Hi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Hi],shadow:[Hi],spacing:["px",We],text:[Hi],"text-shadow":[Hi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",il,Ne,De,D]}],container:["container"],columns:[{columns:[We,Ne,De,f]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:$()}],overflow:[{overflow:ne()}],"overflow-x":[{"overflow-x":ne()}],"overflow-y":[{"overflow-y":ne()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[zs,"auto",De,Ne]}],basis:[{basis:[il,"full","auto",f,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[We,il,"auto","initial","none",Ne]}],grow:[{grow:["",We,De,Ne]}],shrink:[{shrink:["",We,De,Ne]}],order:[{order:[zs,"first","last","none",De,Ne]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...se(),"normal"]}],"justify-self":[{"justify-self":["auto",...se()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...se(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...se(),{baseline:["","last"]}]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...se(),"baseline"]}],"place-self":[{"place-self":["auto",...se()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[f,"screen",...ee()]}],"min-w":[{"min-w":[f,"screen","none",...ee()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",t,lu,Wa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,De,Tg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",wg,Ne]}],"font-family":[{font:[wN,Ne,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,De,Ne]}],"line-clamp":[{"line-clamp":[We,"none",De,Tg]}],leading:[{leading:[l,...S()]}],"list-image":[{"list-image":["none",De,Ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",De,Ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[We,"from-font","auto",De,Wa]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[We,"auto",De,Ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De,Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De,Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ve()}],"bg-repeat":[{bg:z()}],"bg-size":[{bg:ae()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},zs,De,Ne],radial:["",De,Ne],conic:[zs,De,Ne]},SN,EN]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:me()}],"gradient-via-pos":[{via:me()}],"gradient-to-pos":[{to:me()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:be()}],"border-w-x":[{"border-x":be()}],"border-w-y":[{"border-y":be()}],"border-w-s":[{"border-s":be()}],"border-w-e":[{"border-e":be()}],"border-w-t":[{"border-t":be()}],"border-w-r":[{"border-r":be()}],"border-w-b":[{"border-b":be()}],"border-w-l":[{"border-l":be()}],"divide-x":[{"divide-x":be()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":be()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...pe(),"hidden","none"]}],"divide-style":[{divide:[...pe(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[We,De,Ne]}],"outline-w":[{outline:["",We,lu,Wa]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",v,If,Rf]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",b,If,Rf]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:be()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[We,Wa]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":be()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",x,If,Rf]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[We,De,Ne]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[We]}],"mask-image-linear-from-pos":[{"mask-linear-from":ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":ce()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":ce()}],"mask-image-t-to-pos":[{"mask-t-to":ce()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":ce()}],"mask-image-r-to-pos":[{"mask-r-to":ce()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":ce()}],"mask-image-b-to-pos":[{"mask-b-to":ce()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":ce()}],"mask-image-l-to-pos":[{"mask-l-to":ce()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":ce()}],"mask-image-x-to-pos":[{"mask-x-to":ce()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":ce()}],"mask-image-y-to-pos":[{"mask-y-to":ce()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[De,Ne]}],"mask-image-radial-from-pos":[{"mask-radial-from":ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":ce()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":q()}],"mask-image-conic-pos":[{"mask-conic":[We]}],"mask-image-conic-from-pos":[{"mask-conic-from":ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":ce()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ve()}],"mask-repeat":[{mask:z()}],"mask-size":[{mask:ae()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",De,Ne]}],filter:[{filter:["","none",De,Ne]}],blur:[{blur:xe()}],brightness:[{brightness:[We,De,Ne]}],contrast:[{contrast:[We,De,Ne]}],"drop-shadow":[{"drop-shadow":["","none",A,If,Rf]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",We,De,Ne]}],"hue-rotate":[{"hue-rotate":[We,De,Ne]}],invert:[{invert:["",We,De,Ne]}],saturate:[{saturate:[We,De,Ne]}],sepia:[{sepia:["",We,De,Ne]}],"backdrop-filter":[{"backdrop-filter":["","none",De,Ne]}],"backdrop-blur":[{"backdrop-blur":xe()}],"backdrop-brightness":[{"backdrop-brightness":[We,De,Ne]}],"backdrop-contrast":[{"backdrop-contrast":[We,De,Ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",We,De,Ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[We,De,Ne]}],"backdrop-invert":[{"backdrop-invert":["",We,De,Ne]}],"backdrop-opacity":[{"backdrop-opacity":[We,De,Ne]}],"backdrop-saturate":[{"backdrop-saturate":[We,De,Ne]}],"backdrop-sepia":[{"backdrop-sepia":["",We,De,Ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",De,Ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[We,"initial",De,Ne]}],ease:[{ease:["linear","initial",M,De,Ne]}],delay:[{delay:[We,De,Ne]}],animate:[{animate:["none",U,De,Ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,De,Ne]}],"perspective-origin":[{"perspective-origin":$()}],rotate:[{rotate:Te()}],"rotate-x":[{"rotate-x":Te()}],"rotate-y":[{"rotate-y":Te()}],"rotate-z":[{"rotate-z":Te()}],scale:[{scale:Re()}],"scale-x":[{"scale-x":Re()}],"scale-y":[{"scale-y":Re()}],"scale-z":[{"scale-z":Re()}],"scale-3d":["scale-3d"],skew:[{skew:Se()}],"skew-x":[{"skew-x":Se()}],"skew-y":[{"skew-y":Se()}],transform:[{transform:[De,Ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:$()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:je()}],"translate-x":[{"translate-x":je()}],"translate-y":[{"translate-y":je()}],"translate-z":[{"translate-z":je()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De,Ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De,Ne]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[We,lu,Wa,Tg]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},IN=cN(RN);function qt(...n){return IN(fT(n))}const NN=Ky("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Me({className:n,variant:e,size:t,asChild:i=!1,...a}){const l=i?uT:"button";return m.jsx(l,{"data-slot":"button",className:qt(NN({variant:e,size:t,className:n})),...a})}function dt({className:n,...e}){return m.jsx("div",{"data-slot":"card",className:qt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...e})}function wt({className:n,...e}){return m.jsx("div",{"data-slot":"card-header",className:qt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function Tt({className:n,...e}){return m.jsx("div",{"data-slot":"card-title",className:qt("leading-none font-semibold",n),...e})}function dn({className:n,...e}){return m.jsx("div",{"data-slot":"card-description",className:qt("text-muted-foreground text-sm",n),...e})}function ft({className:n,...e}){return m.jsx("div",{"data-slot":"card-content",className:qt("px-6",n),...e})}const DN=Ky("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Tr({className:n,variant:e,asChild:t=!1,...i}){const a=t?uT:"span";return m.jsx(a,{"data-slot":"badge",className:qt(DN({variant:e}),n),...i})}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ON=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),$x=n=>{const e=ON(n);return e.charAt(0).toUpperCase()+e.slice(1)},wT=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),jN=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=E.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...f},p)=>E.createElement("svg",{ref:p,...MN,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:wT("lucide",a),...!l&&!jN(f)&&{"aria-hidden":"true"},...f},[...u.map(([g,v])=>E.createElement(g,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(n,e)=>{const t=E.forwardRef(({className:i,...a},l)=>E.createElement(PN,{ref:l,iconNode:e,className:wT(`lucide-${kN($x(n))}`,`lucide-${n}`,i),...a}));return t.displayName=$x(n),t};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],oh=rt("book-open",VN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],TT=rt("bot",LN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],BN=rt("calendar",UN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],FN=rt("chart-pie",zN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Wy=rt("check",HN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ST=rt("chevron-down",qN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],GN=rt("chevron-up",$N);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Zg=rt("circle-alert",YN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yu=rt("circle-check-big",KN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Jg=rt("clock",QN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]],XN=rt("cog",WN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],AT=rt("credit-card",ZN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],eD=rt("crown",JN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],bl=rt("dollar-sign",tD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ey=rt("eye-off",nD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ty=rt("eye",rD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],sD=rt("house",iD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Gx=rt("log-out",aD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],CT=rt("mail",oD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],cD=rt("menu",lD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xl=rt("plus",uD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],fD=rt("refresh-cw",dD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Xy=rt("save",hD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],pD=rt("send",mD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],yD=rt("smartphone",gD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],El=rt("square-pen",vD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],RT=rt("tag",_D);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],xD=rt("target",bD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],wl=rt("trash-2",ED);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],TD=rt("trending-down",wD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],IT=rt("upload",SD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],NT=rt("user-plus",AD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],DT=rt("user",CD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kT=rt("users",RD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Tl=rt("x",ID);/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=()=>{};var Yx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},DD=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],u=n[t++],f=n[t++],p=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],u=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},jT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,f=u?n[a+1]:0,p=a+2<n.length,g=p?n[a+2]:0,v=l>>2,b=(l&3)<<4|f>>4;let x=(f&15)<<2|g>>6,A=g&63;p||(A=64,u||(x=64)),i.push(t[v],t[b],t[x],t[A])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(OT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):DD(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const b=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||f==null||g==null||b==null)throw new kD;const x=l<<2|f>>4;if(i.push(x),g!==64){const A=f<<4&240|g>>2;if(i.push(A),b!==64){const R=g<<6&192|b;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class kD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OD=function(n){const e=OT(n);return jT.encodeByteArray(e,!0)},lh=function(n){return OD(n).replace(/\./g,"")},MT=function(n){try{return jT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=()=>jD().__FIREBASE_DEFAULTS__,PD=()=>{if(typeof process>"u"||typeof Yx>"u")return;const n=Yx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},VD=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&MT(n[1]);return e&&JSON.parse(e)},Uh=()=>{try{return ND()||MD()||PD()||VD()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},PT=n=>{var e,t;return(t=(e=Uh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},LD=n=>{const e=PT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},VT=()=>{var n;return(n=Uh())===null||n===void 0?void 0:n.config},LT=n=>{var e;return(e=Uh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(n){return n.endsWith(".cloudworkstations.dev")}async function UT(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[lh(JSON.stringify(t)),lh(JSON.stringify(u)),""].join(".")}const vu={};function zD(){const n={prod:[],emulator:[]};for(const e of Object.keys(vu))vu[e]?n.emulator.push(e):n.prod.push(e);return n}function FD(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Kx=!1;function BT(n,e){if(typeof window>"u"||typeof document>"u"||!zl(window.location.host)||vu[n]===e||vu[n]||Kx)return;vu[n]=e;function t(x){return`__firebase__banner__${x}`}const i="__firebase__banner",l=zD().prod.length>0;function u(){const x=document.getElementById(i);x&&x.remove()}function f(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,A){x.setAttribute("width","24"),x.setAttribute("id",A),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Kx=!0,u()},x}function v(x,A){x.setAttribute("id",A),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=FD(i),A=t("text"),R=document.getElementById(A)||document.createElement("span"),C=t("learnmore"),D=document.getElementById(C)||document.createElement("a"),M=t("preprendIcon"),U=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const L=x.element;f(L),v(D,C);const q=g();p(U,M),L.append(U,R,D,q),document.body.appendChild(L)}l?(R.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}function qD(){var n;const e=(n=Uh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $D(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GD(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function YD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KD(){const n=Pn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function QD(){return!qD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WD(){try{return typeof indexedDB=="object"}catch{return!1}}function XD(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="FirebaseError";class us extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=ZD,Object.setPrototypeOf(this,us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bu.prototype.create)}}class Bu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?JD(l,i):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new us(a,f,i)}}function JD(n,e){return n.replace(e3,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const e3=/\{\$([^}]+)}/g;function t3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function eo(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],u=e[a];if(Qx(l)&&Qx(u)){if(!eo(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function Qx(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function uu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function du(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function n3(n,e){const t=new r3(n,e);return t.subscribe.bind(t)}class r3{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");i3(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Sg),a.error===void 0&&(a.error=Sg),a.complete===void 0&&(a.complete=Sg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function i3(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Sg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(n){return n&&n._delegate?n._delegate:n}class to{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new UD;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(o3(e))try{this.getOrInitializeService({instanceIdentifier:Za})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Za){return this.instances.has(e)}getOptions(e=Za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&u.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:a3(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Za){return this.component?this.component.multipleInstances?e:Za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function a3(n){return n===Za?void 0:n}function o3(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s3(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(tt||(tt={}));const c3={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},u3=tt.INFO,d3={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},f3=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=d3[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zy{constructor(e){this.name=e,this._logLevel=u3,this._logHandler=f3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const h3=(n,e)=>e.some(t=>n instanceof t);let Wx,Xx;function m3(){return Wx||(Wx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p3(){return Xx||(Xx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zT=new WeakMap,ny=new WeakMap,FT=new WeakMap,Ag=new WeakMap,Jy=new WeakMap;function g3(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(Zs(n.result)),a()},u=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&zT.set(t,n)}).catch(()=>{}),Jy.set(e,n),e}function y3(n){if(ny.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});ny.set(n,e)}let ry={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ny.get(n);if(e==="objectStoreNames")return n.objectStoreNames||FT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Zs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function v3(n){ry=n(ry)}function _3(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Cg(this),e,...t);return FT.set(i,e.sort?e.sort():[e]),Zs(i)}:p3().includes(n)?function(...e){return n.apply(Cg(this),e),Zs(zT.get(this))}:function(...e){return Zs(n.apply(Cg(this),e))}}function b3(n){return typeof n=="function"?_3(n):(n instanceof IDBTransaction&&y3(n),h3(n,m3())?new Proxy(n,ry):n)}function Zs(n){if(n instanceof IDBRequest)return g3(n);if(Ag.has(n))return Ag.get(n);const e=b3(n);return e!==n&&(Ag.set(n,e),Jy.set(e,n)),e}const Cg=n=>Jy.get(n);function x3(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(n,e),f=Zs(u);return i&&u.addEventListener("upgradeneeded",p=>{i(Zs(u.result),p.oldVersion,p.newVersion,Zs(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const E3=["get","getKey","getAll","getAllKeys","count"],w3=["put","add","delete","clear"],Rg=new Map;function Zx(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Rg.get(e))return Rg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=w3.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||E3.includes(t)))return;const l=async function(u,...f){const p=this.transaction(u,a?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),a&&p.done]))[0]};return Rg.set(e,l),l}v3(n=>({...n,get:(e,t,i)=>Zx(e,t)||n.get(e,t,i),has:(e,t)=>!!Zx(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(S3(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function S3(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const iy="@firebase/app",Jx="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new Zy("@firebase/app"),A3="@firebase/app-compat",C3="@firebase/analytics-compat",R3="@firebase/analytics",I3="@firebase/app-check-compat",N3="@firebase/app-check",D3="@firebase/auth",k3="@firebase/auth-compat",O3="@firebase/database",j3="@firebase/data-connect",M3="@firebase/database-compat",P3="@firebase/functions",V3="@firebase/functions-compat",L3="@firebase/installations",U3="@firebase/installations-compat",B3="@firebase/messaging",z3="@firebase/messaging-compat",F3="@firebase/performance",H3="@firebase/performance-compat",q3="@firebase/remote-config",$3="@firebase/remote-config-compat",G3="@firebase/storage",Y3="@firebase/storage-compat",K3="@firebase/firestore",Q3="@firebase/ai",W3="@firebase/firestore-compat",X3="firebase",Z3="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="[DEFAULT]",J3={[iy]:"fire-core",[A3]:"fire-core-compat",[R3]:"fire-analytics",[C3]:"fire-analytics-compat",[N3]:"fire-app-check",[I3]:"fire-app-check-compat",[D3]:"fire-auth",[k3]:"fire-auth-compat",[O3]:"fire-rtdb",[j3]:"fire-data-connect",[M3]:"fire-rtdb-compat",[P3]:"fire-fn",[V3]:"fire-fn-compat",[L3]:"fire-iid",[U3]:"fire-iid-compat",[B3]:"fire-fcm",[z3]:"fire-fcm-compat",[F3]:"fire-perf",[H3]:"fire-perf-compat",[q3]:"fire-rc",[$3]:"fire-rc-compat",[G3]:"fire-gcs",[Y3]:"fire-gcs-compat",[K3]:"fire-fst",[W3]:"fire-fst-compat",[Q3]:"fire-vertex","fire-js":"fire-js",[X3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,ek=new Map,ay=new Map;function eE(n,e){try{n.container.addComponent(e)}catch(t){ns.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Sl(n){const e=n.name;if(ay.has(e))return ns.debug(`There were multiple attempts to register component ${e}.`),!1;ay.set(e,n);for(const t of ch.values())eE(t,n);for(const t of ek.values())eE(t,n);return!0}function ev(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function wr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Js=new Bu("app","Firebase",tk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new to("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Js.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=Z3;function HT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:sy,automaticDataCollectionEnabled:!0},e),a=i.name;if(typeof a!="string"||!a)throw Js.create("bad-app-name",{appName:String(a)});if(t||(t=VT()),!t)throw Js.create("no-options");const l=ch.get(a);if(l){if(eo(t,l.options)&&eo(i,l.config))return l;throw Js.create("duplicate-app",{appName:a})}const u=new l3(a);for(const p of ay.values())u.addComponent(p);const f=new nk(t,i,u);return ch.set(a,f),f}function qT(n=sy){const e=ch.get(n);if(!e&&n===sy&&VT())return HT();if(!e)throw Js.create("no-app",{appName:n});return e}function ea(n,e,t){var i;let a=(i=J3[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ns.warn(f.join(" "));return}Sl(new to(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk="firebase-heartbeat-database",ik=1,Au="firebase-heartbeat-store";let Ig=null;function $T(){return Ig||(Ig=x3(rk,ik,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Au)}catch(t){console.warn(t)}}}}).catch(n=>{throw Js.create("idb-open",{originalErrorMessage:n.message})})),Ig}async function sk(n){try{const t=(await $T()).transaction(Au),i=await t.objectStore(Au).get(GT(n));return await t.done,i}catch(e){if(e instanceof us)ns.warn(e.message);else{const t=Js.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ns.warn(t.message)}}}async function tE(n,e){try{const i=(await $T()).transaction(Au,"readwrite");await i.objectStore(Au).put(e,GT(n)),await i.done}catch(t){if(t instanceof us)ns.warn(t.message);else{const i=Js.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ns.warn(i.message)}}}function GT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=1024,ok=30;class lk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new uk(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=nE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>ok){const u=dk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ns.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=nE(),{heartbeatsToSend:i,unsentEntries:a}=ck(this._heartbeatsCache.heartbeats),l=lh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ns.warn(t),""}}}function nE(){return new Date().toISOString().substring(0,10)}function ck(n,e=ak){const t=[];let i=n.slice();for(const a of n){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),rE(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),rE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class uk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WD()?XD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await sk(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return tE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return tE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function rE(n){return lh(JSON.stringify({version:2,heartbeats:n})).length}function dk(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(n){Sl(new to("platform-logger",e=>new T3(e),"PRIVATE")),Sl(new to("heartbeat",e=>new lk(e),"PRIVATE")),ea(iy,Jx,n),ea(iy,Jx,"esm2017"),ea("fire-js","")}fk("");var ii=function(){return ii=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},ii.apply(this,arguments)};function Fu(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function hk(n,e,t){if(t||arguments.length===2)for(var i=0,a=e.length,l;i<a;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return n.concat(l||Array.prototype.slice.call(e))}function YT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mk=YT,KT=new Bu("auth","Firebase",YT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new Zy("@firebase/auth");function pk(n,...e){uh.logLevel<=tt.WARN&&uh.warn(`Auth (${Fl}): ${n}`,...e)}function Gf(n,...e){uh.logLevel<=tt.ERROR&&uh.error(`Auth (${Fl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(n,...e){throw tv(n,...e)}function si(n,...e){return tv(n,...e)}function QT(n,e,t){const i=Object.assign(Object.assign({},mk()),{[e]:t});return new Bu("auth","Firebase",i).create(e,{appName:n.name})}function Xi(n){return QT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tv(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return KT.create(n,...e)}function ze(n,e,...t){if(!n)throw tv(e,...t)}function qi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Gf(e),new Error(e)}function rs(n,e){n||qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function gk(){return iE()==="http:"||iE()==="https:"}function iE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gk()||GD()||"connection"in navigator)?navigator.onLine:!0}function vk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,t){this.shortDelay=e,this.longDelay=t,rs(t>e,"Short delay should be less than long delay!"),this.isMobile=HD()||YD()}get(){return yk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(n,e){rs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xk=new Hu(3e4,6e4);function fa(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ds(n,e,t,i,a={}){return XT(n,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const f=zu(Object.assign({key:n.config.apiKey},u)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:p},l);return $D()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&zl(n.emulatorConfig.host)&&(g.credentials="include"),WT.fetch()(await ZT(n,n.config.apiHost,t,f),g)})}async function XT(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},_k),e);try{const a=new wk(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Nf(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[p,g]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nf(n,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Nf(n,"email-already-in-use",u);if(p==="USER_DISABLED")throw Nf(n,"user-disabled",u);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw QT(n,v,g);Pr(n,v)}}catch(a){if(a instanceof us)throw a;Pr(n,"network-request-failed",{message:String(a)})}}async function qu(n,e,t,i,a={}){const l=await ds(n,e,t,i,a);return"mfaPendingCredential"in l&&Pr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function ZT(n,e,t,i){const a=`${e}${t}?${i}`,l=n,u=l.config.emulator?nv(n.config,a):`${n.config.apiScheme}://${a}`;return bk.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function Ek(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(si(this.auth,"network-request-failed")),xk.get())})}}function Nf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=si(n,e,i);return a.customData._tokenResponse=t,a}function sE(n){return n!==void 0&&n.enterprise!==void 0}class Tk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ek(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Sk(n,e){return ds(n,"GET","/v2/recaptchaConfig",fa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ak(n,e){return ds(n,"POST","/v1/accounts:delete",e)}async function dh(n,e){return ds(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ck(n,e=!1){const t=$t(n),i=await t.getIdToken(e),a=rv(i);ze(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:_u(Ng(a.auth_time)),issuedAtTime:_u(Ng(a.iat)),expirationTime:_u(Ng(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Ng(n){return Number(n)*1e3}function rv(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Gf("JWT malformed, contained fewer than 3 sections"),null;try{const a=MT(t);return a?JSON.parse(a):(Gf("Failed to decode base64 JWT payload"),null)}catch(a){return Gf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function aE(n){const e=rv(n);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof us&&Rk(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Rk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=_u(this.lastLoginAt),this.creationTime=_u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fh(n){var e;const t=n.auth,i=await n.getIdToken(),a=await Al(n,dh(t,{idToken:i}));ze(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?JT(l.providerUserInfo):[],f=Dk(n.providerData,u),p=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!(f!=null&&f.length),v=p?g:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new ly(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,b)}async function Nk(n){const e=$t(n);await fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Dk(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function JT(n){return n.map(e=>{var{providerId:t}=e,i=Fu(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kk(n,e){const t=await XT(n,{},async()=>{const i=zu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=await ZT(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:i};return n.emulatorConfig&&zl(n.emulatorConfig.host)&&(p.credentials="include"),WT.fetch()(u,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Ok(n,e){return ds(n,"POST","/v2/accounts:revokeToken",fa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const t=aE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await kk(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,u=new hl;return i&&(ze(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(ze(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(ze(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hl,this.toJSON())}_performRefresh(){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(n,e){ze(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Or{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=Fu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ik(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ly(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Al(this,this.stsTokenManager.getToken(this.auth,e));return ze(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Ck(this,e)}reload(){return Nk(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await fh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wr(this.auth.app))return Promise.reject(Xi(this.auth));const e=await this.getIdToken();return await Al(this,Ak(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,u,f,p,g,v;const b=(i=t.displayName)!==null&&i!==void 0?i:void 0,x=(a=t.email)!==null&&a!==void 0?a:void 0,A=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,R=(u=t.photoURL)!==null&&u!==void 0?u:void 0,C=(f=t.tenantId)!==null&&f!==void 0?f:void 0,D=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,M=(g=t.createdAt)!==null&&g!==void 0?g:void 0,U=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:L,emailVerified:q,isAnonymous:$,providerData:ne,stsTokenManager:k}=t;ze(L&&k,e,"internal-error");const S=hl.fromJSON(this.name,k);ze(typeof L=="string",e,"internal-error"),Fs(b,e.name),Fs(x,e.name),ze(typeof q=="boolean",e,"internal-error"),ze(typeof $=="boolean",e,"internal-error"),Fs(A,e.name),Fs(R,e.name),Fs(C,e.name),Fs(D,e.name),Fs(M,e.name),Fs(U,e.name);const j=new Or({uid:L,auth:e,email:x,emailVerified:q,displayName:b,isAnonymous:$,photoURL:R,phoneNumber:A,tenantId:C,stsTokenManager:S,createdAt:M,lastLoginAt:U});return ne&&Array.isArray(ne)&&(j.providerData=ne.map(V=>Object.assign({},V))),D&&(j._redirectEventId=D),j}static async _fromIdTokenResponse(e,t,i=!1){const a=new hl;a.updateFromServerResponse(t);const l=new Or({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await fh(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];ze(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?JT(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new hl;f.updateFromIdToken(i);const p=new Or({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ly(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=new Map;function $i(n){rs(n instanceof Function,"Expected a class definition");let e=oE.get(n);return e?(rs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,oE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}eS.type="NONE";const lE=eS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(n,e,t){return`firebase:${n}:${e}:${t}`}class ml{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Yf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Yf("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await dh(this.auth,{idToken:e}).catch(()=>{});return t?Or._fromGetAccountInfoResponse(this.auth,t,e):null}return Or._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ml($i(lE),e,i);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||$i(lE);const u=Yf(i,e.config.apiKey,e.name);let f=null;for(const g of t)try{const v=await g._get(u);if(v){let b;if(typeof v=="string"){const x=await dh(e,{idToken:v}).catch(()=>{});if(!x)break;b=await Or._fromGetAccountInfoResponse(e,x,v)}else b=Or._fromJSON(e,v);g!==l&&(f=b),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new ml(l,e,i):(l=p[0],f&&await l._set(u,f.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new ml(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aS(e))return"Blackberry";if(oS(e))return"Webos";if(nS(e))return"Safari";if((e.includes("chrome/")||rS(e))&&!e.includes("edge/"))return"Chrome";if(sS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function tS(n=Pn()){return/firefox\//i.test(n)}function nS(n=Pn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rS(n=Pn()){return/crios\//i.test(n)}function iS(n=Pn()){return/iemobile/i.test(n)}function sS(n=Pn()){return/android/i.test(n)}function aS(n=Pn()){return/blackberry/i.test(n)}function oS(n=Pn()){return/webos/i.test(n)}function iv(n=Pn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function jk(n=Pn()){var e;return iv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Mk(){return KD()&&document.documentMode===10}function lS(n=Pn()){return iv(n)||sS(n)||oS(n)||aS(n)||/windows phone/i.test(n)||iS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(n,e=[]){let t;switch(n){case"Browser":t=cE(Pn());break;case"Worker":t=`${cE(Pn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Fl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((u,f)=>{try{const p=e(l);u(p)}catch(p){f(p)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vk(n,e={}){return ds(n,"GET","/v2/passwordPolicy",fa(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=6;class Uk{constructor(e){var t,i,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:Lk,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,u,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsNumericCharacter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uE(this),this.idTokenSubscription=new uE(this),this.beforeStateQueue=new Pk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$i(t)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await ml.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await dh(this,{idToken:e}),i=await Or._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(wr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===f)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await fh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wr(this.app))return Promise.reject(Xi(this));const t=e?$t(e):null;return t&&ze(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wr(this.app)?Promise.reject(Xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wr(this.app)?Promise.reject(Xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Vk(this),t=new Uk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await Ok(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$i(e)||this._popupRedirectResolver;ze(t,this,"argument-error"),this.redirectPersistenceManager=await ml.create(this,[$i(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,a);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&pk(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function uo(n){return $t(n)}class uE{constructor(e){this.auth=e,this.observer=null,this.addObserver=n3(t=>this.observer=t)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zk(n){Bh=n}function uS(n){return Bh.loadJS(n)}function Fk(){return Bh.recaptchaEnterpriseScript}function Hk(){return Bh.gapiScript}function qk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class $k{constructor(){this.enterprise=new Gk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Gk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Yk="recaptcha-enterprise",dS="NO_RECAPTCHA";class Kk{constructor(e){this.type=Yk,this.auth=uo(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{Sk(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new Tk(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,u(g.siteKey)}}).catch(p=>{f(p)})})}function a(l,u,f){const p=window.grecaptcha;sE(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{u(g)}).catch(()=>{u(dS)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $k().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(f=>{if(!t&&sE(window.grecaptcha))a(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Fk();p.length!==0&&(p+=f),uS(p).then(()=>{a(f,l,u)}).catch(g=>{u(g)})}}).catch(f=>{u(f)})})}}async function dE(n,e,t,i=!1,a=!1){const l=new Kk(n);let u;if(a)u=dS;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function cy(n,e,t,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await dE(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await dE(n,e,t,t==="getOobCode");return i(n,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(n,e){const t=ev(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(eo(l,e??{}))return a;Pr(a,"already-initialized")}return t.initialize({options:e})}function Wk(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map($i);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Xk(n,e,t){const i=uo(n);ze(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=fS(e),{host:u,port:f}=Zk(e),p=f===null?"":`:${f}`,g={url:`${l}//${u}${p}/`},v=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){ze(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ze(eo(g,i.config.emulator)&&eo(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,zl(u)?(UT(`${l}//${u}${p}`),BT("Auth",!0)):Jk()}function fS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Zk(n){const e=fS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:fE(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:fE(u)}}}function fE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Jk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return qi("not implemented")}_getIdTokenResponse(e){return qi("not implemented")}_linkToIdToken(e,t){return qi("not implemented")}_getReauthenticationResolver(e){return qi("not implemented")}}async function e4(n,e){return ds(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(n,e){return qu(n,"POST","/v1/accounts:signInWithPassword",fa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n4(n,e){return qu(n,"POST","/v1/accounts:signInWithEmailLink",fa(n,e))}async function r4(n,e){return qu(n,"POST","/v1/accounts:signInWithEmailLink",fa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends sv{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Cu(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Cu(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cy(e,t,"signInWithPassword",t4);case"emailLink":return n4(e,{email:this._email,oobCode:this._password});default:Pr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cy(e,i,"signUpPassword",e4);case"emailLink":return r4(e,{idToken:t,email:this._email,oobCode:this._password});default:Pr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(n,e){return qu(n,"POST","/v1/accounts:signInWithIdp",fa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4="http://localhost";class no extends sv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new no(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Pr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=Fu(t,["providerId","signInMethod"]);if(!i||!a)return null;const u=new no(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return pl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,pl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,pl(e,t)}buildRequest(){const e={requestUri:i4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=zu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function a4(n){const e=uu(du(n)).link,t=e?uu(du(e)).deep_link_id:null,i=uu(du(n)).deep_link_id;return(i?uu(du(i)).link:null)||i||t||e||n}class av{constructor(e){var t,i,a,l,u,f;const p=uu(du(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(i=p.oobCode)!==null&&i!==void 0?i:null,b=s4((a=p.mode)!==null&&a!==void 0?a:null);ze(g&&v&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=v,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=p.lang)!==null&&u!==void 0?u:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=a4(e);try{return new av(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){this.providerId=Hl.PROVIDER_ID}static credential(e,t){return Cu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=av.parseLink(t);return ze(i,"argument-error"),Cu._fromEmailAndCode(e,i.code,i.tenantId)}}Hl.PROVIDER_ID="password";Hl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends hS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends $u{constructor(){super("facebook.com")}static credential(e){return no._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends $u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return no._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ys.credential(t,i)}catch{return null}}}Ys.GOOGLE_SIGN_IN_METHOD="google.com";Ys.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends $u{constructor(){super("github.com")}static credential(e){return no._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.GITHUB_SIGN_IN_METHOD="github.com";Ks.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends $u{constructor(){super("twitter.com")}static credential(e,t){return no._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Qs.credential(t,i)}catch{return null}}}Qs.TWITTER_SIGN_IN_METHOD="twitter.com";Qs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(n,e){return qu(n,"POST","/v1/accounts:signUp",fa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Or._fromIdTokenResponse(e,i,a),u=hE(i);return new ro({user:l,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=hE(i);return new ro({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function hE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh extends us{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new hh(e,t,i,a)}}function mS(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(n,l,e,i):l})}async function l4(n,e,t=!1){const i=await Al(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ro._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(n,e,t=!1){const{auth:i}=n;if(wr(i.app))return Promise.reject(Xi(i));const a="reauthenticate";try{const l=await Al(n,mS(i,a,e,n),t);ze(l.idToken,i,"internal-error");const u=rv(l.idToken);ze(u,i,"internal-error");const{sub:f}=u;return ze(n.uid===f,i,"user-mismatch"),ro._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Pr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pS(n,e,t=!1){if(wr(n.app))return Promise.reject(Xi(n));const i="signIn",a=await mS(n,i,e),l=await ro._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function u4(n,e){return pS(uo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gS(n){const e=uo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function d4(n,e,t){if(wr(n.app))return Promise.reject(Xi(n));const i=uo(n),u=await cy(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",o4).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&gS(n),p}),f=await ro._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(f.user),f}function f4(n,e,t){return wr(n.app)?Promise.reject(Xi(n)):u4($t(n),Hl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&gS(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h4(n,e){return ds(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yS(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=$t(n),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Al(i,h4(i.auth,l));i.displayName=u.displayName||null,i.photoURL=u.photoUrl||null;const f=i.providerData.find(({providerId:p})=>p==="password");f&&(f.displayName=i.displayName,f.photoURL=i.photoURL),await i._updateTokensIfNecessary(u)}function m4(n,e,t,i){return $t(n).onIdTokenChanged(e,t,i)}function p4(n,e,t){return $t(n).beforeAuthStateChanged(e,t)}function g4(n,e,t,i){return $t(n).onAuthStateChanged(e,t,i)}function y4(n){return $t(n).signOut()}const mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(mh,"1"),this.storage.removeItem(mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=1e3,_4=10;class _S extends vS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,p)=>{this.notifyListeners(u,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);Mk()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,_4):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},v4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_S.type="LOCAL";const b4=_S;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS extends vS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}bS.type="SESSION";const xS=bS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new zh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(u).map(async g=>g(t.origin,l)),p=await x4(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,p)=>{const g=ov("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(b){const x=b;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(x.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function w4(n){ai().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function T4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function S4(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function A4(){return ES()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="firebaseLocalStorageDb",C4=1,ph="firebaseLocalStorage",TS="fbase_key";class Gu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Fh(n,e){return n.transaction([ph],e?"readwrite":"readonly").objectStore(ph)}function R4(){const n=indexedDB.deleteDatabase(wS);return new Gu(n).toPromise()}function uy(){const n=indexedDB.open(wS,C4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(ph,{keyPath:TS})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(ph)?e(i):(i.close(),await R4(),e(await uy()))})})}async function mE(n,e,t){const i=Fh(n,!0).put({[TS]:e,value:t});return new Gu(i).toPromise()}async function I4(n,e){const t=Fh(n,!1).get(e),i=await new Gu(t).toPromise();return i===void 0?null:i.value}function pE(n,e){const t=Fh(n,!0).delete(e);return new Gu(t).toPromise()}const N4=800,D4=3;class SS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>D4)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ES()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zh._getInstance(A4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await T4(),!this.activeServiceWorker)return;this.sender=new E4(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||S4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await uy();return await mE(e,mh,"1"),await pE(e,mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>mE(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>I4(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>pE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Fh(a,!1).getAll();return new Gu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),N4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SS.type="LOCAL";const k4=SS;new Hu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(n,e){return e?$i(e):(ze(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv extends sv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return pl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function j4(n){return pS(n.auth,new lv(n),n.bypassAuthState)}function M4(n){const{auth:e,user:t}=n;return ze(t,e,"internal-error"),c4(t,new lv(n),n.bypassAuthState)}async function P4(n){const{auth:e,user:t}=n;return ze(t,e,"internal-error"),l4(t,new lv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return j4;case"linkViaPopup":case"linkViaRedirect":return P4;case"reauthViaPopup":case"reauthViaRedirect":return M4;default:Pr(this.auth,"internal-error")}}resolve(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=new Hu(2e3,1e4);class fl extends AS{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,fl.currentPopupAction&&fl.currentPopupAction.cancel(),fl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){rs(this.filter.length===1,"Popup operations only handle one event");const e=ov();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,V4.get())};e()}}fl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4="pendingRedirect",Kf=new Map;class U4 extends AS{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Kf.get(this.auth._key());if(!e){try{const i=await B4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Kf.set(this.auth._key(),e)}return this.bypassAuthState||Kf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function B4(n,e){const t=H4(e),i=F4(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function z4(n,e){Kf.set(n._key(),e)}function F4(n){return $i(n._redirectPersistence)}function H4(n){return Yf(L4,n.config.apiKey,n.name)}async function q4(n,e,t=!1){if(wr(n.app))return Promise.reject(Xi(n));const i=uo(n),a=O4(i,e),u=await new U4(i,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=10*60*1e3;class G4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!CS(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(si(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$4&&this.cachedEventUids.clear(),this.cachedEventUids.has(gE(e))}saveEventToCache(e){this.cachedEventUids.add(gE(e)),this.lastProcessedEventTime=Date.now()}}function gE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function CS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Y4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K4(n,e={}){return ds(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,W4=/^https?/;async function X4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await K4(n);for(const t of e)try{if(Z4(t))return}catch{}Pr(n,"unauthorized-domain")}function Z4(n){const e=oy(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!W4.test(t))return!1;if(Q4.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=new Hu(3e4,6e4);function yE(){const n=ai().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function e6(n){return new Promise((e,t)=>{var i,a,l;function u(){yE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yE(),t(si(n,"network-request-failed"))},timeout:J4.get()})}if(!((a=(i=ai().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=ai().gapi)===null||l===void 0)&&l.load)u();else{const f=qk("iframefcb");return ai()[f]=()=>{gapi.load?u():t(si(n,"network-request-failed"))},uS(`${Hk()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw Qf=null,e})}let Qf=null;function t6(n){return Qf=Qf||e6(n),Qf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=new Hu(5e3,15e3),r6="__/auth/iframe",i6="emulator/auth/iframe",s6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o6(n){const e=n.config;ze(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?nv(e,i6):`https://${n.config.authDomain}/${r6}`,i={apiKey:e.apiKey,appName:n.name,v:Fl},a=a6.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${zu(i).slice(1)}`}async function l6(n){const e=await t6(n),t=ai().gapi;return ze(t,n,"internal-error"),e.open({where:document.body,url:o6(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:s6,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=si(n,"network-request-failed"),f=ai().setTimeout(()=>{l(u)},n6.get());function p(){ai().clearTimeout(f),a(i)}i.ping(p).then(p,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},u6=500,d6=600,f6="_blank",h6="http://localhost";class vE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function m6(n,e,t,i=u6,a=d6){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p=Object.assign(Object.assign({},c6),{width:i.toString(),height:a.toString(),top:l,left:u}),g=Pn().toLowerCase();t&&(f=rS(g)?f6:t),tS(g)&&(e=e||h6,p.scrollbars="yes");const v=Object.entries(p).reduce((x,[A,R])=>`${x}${A}=${R},`,"");if(jk(g)&&f!=="_self")return p6(e||"",f),new vE(null);const b=window.open(e||"",f,v);ze(b,n,"popup-blocked");try{b.focus()}catch{}return new vE(b)}function p6(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6="__/auth/handler",y6="emulator/auth/handler",v6=encodeURIComponent("fac");async function _E(n,e,t,i,a,l){ze(n.config.authDomain,n,"auth-domain-config-required"),ze(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Fl,eventId:a};if(e instanceof hS){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",t3(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))u[v]=b}if(e instanceof $u){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const p=await n._getAppCheckToken(),g=p?`#${v6}=${encodeURIComponent(p)}`:"";return`${_6(n)}?${zu(f).slice(1)}${g}`}function _6({config:n}){return n.emulator?nv(n,y6):`https://${n.authDomain}/${g6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="webStorageSupport";class b6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xS,this._completeRedirectFn=q4,this._overrideRedirectResult=z4}async _openPopup(e,t,i,a){var l;rs((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await _E(e,t,i,oy(),a);return m6(e,u,ov())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await _E(e,t,i,oy(),a);return w4(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(rs(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await l6(e),i=new G4(e);return t.register("authEvent",a=>(ze(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Dg,{type:Dg},a=>{var l;const u=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Dg];u!==void 0&&t(!!u),Pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=X4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return lS()||nS()||iv()}}const x6=b6;var bE="@firebase/auth",xE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function T6(n){Sl(new to("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;ze(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cS(n)},g=new Bk(i,a,l,p);return Wk(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Sl(new to("auth-internal",e=>{const t=uo(e.getProvider("auth").getImmediate());return(i=>new E6(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ea(bE,xE,w6(n)),ea(bE,xE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=5*60,A6=LT("authIdTokenMaxAge")||S6;let EE=null;const C6=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>A6)return;const a=t==null?void 0:t.token;EE!==a&&(EE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function R6(n=qT()){const e=ev(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Qk(n,{popupRedirectResolver:x6,persistence:[k4,b4,xS]}),i=LT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=C6(l.toString());p4(t,u,()=>u(t.currentUser)),m4(t,f=>u(f))}}const a=PT("auth");return a&&Xk(t,`http://${a}`),t}function I6(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}zk({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=si("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",I6().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});T6("Browser");var wE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ta,RS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,S){function j(){}j.prototype=S.prototype,k.D=S.prototype,k.prototype=new j,k.prototype.constructor=k,k.C=function(V,I,B){for(var P=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)P[Y-2]=arguments[Y];return S.prototype[I].apply(V,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,S,j){j||(j=0);var V=Array(16);if(typeof S=="string")for(var I=0;16>I;++I)V[I]=S.charCodeAt(j++)|S.charCodeAt(j++)<<8|S.charCodeAt(j++)<<16|S.charCodeAt(j++)<<24;else for(I=0;16>I;++I)V[I]=S[j++]|S[j++]<<8|S[j++]<<16|S[j++]<<24;S=k.g[0],j=k.g[1],I=k.g[2];var B=k.g[3],P=S+(B^j&(I^B))+V[0]+3614090360&4294967295;S=j+(P<<7&4294967295|P>>>25),P=B+(I^S&(j^I))+V[1]+3905402710&4294967295,B=S+(P<<12&4294967295|P>>>20),P=I+(j^B&(S^j))+V[2]+606105819&4294967295,I=B+(P<<17&4294967295|P>>>15),P=j+(S^I&(B^S))+V[3]+3250441966&4294967295,j=I+(P<<22&4294967295|P>>>10),P=S+(B^j&(I^B))+V[4]+4118548399&4294967295,S=j+(P<<7&4294967295|P>>>25),P=B+(I^S&(j^I))+V[5]+1200080426&4294967295,B=S+(P<<12&4294967295|P>>>20),P=I+(j^B&(S^j))+V[6]+2821735955&4294967295,I=B+(P<<17&4294967295|P>>>15),P=j+(S^I&(B^S))+V[7]+4249261313&4294967295,j=I+(P<<22&4294967295|P>>>10),P=S+(B^j&(I^B))+V[8]+1770035416&4294967295,S=j+(P<<7&4294967295|P>>>25),P=B+(I^S&(j^I))+V[9]+2336552879&4294967295,B=S+(P<<12&4294967295|P>>>20),P=I+(j^B&(S^j))+V[10]+4294925233&4294967295,I=B+(P<<17&4294967295|P>>>15),P=j+(S^I&(B^S))+V[11]+2304563134&4294967295,j=I+(P<<22&4294967295|P>>>10),P=S+(B^j&(I^B))+V[12]+1804603682&4294967295,S=j+(P<<7&4294967295|P>>>25),P=B+(I^S&(j^I))+V[13]+4254626195&4294967295,B=S+(P<<12&4294967295|P>>>20),P=I+(j^B&(S^j))+V[14]+2792965006&4294967295,I=B+(P<<17&4294967295|P>>>15),P=j+(S^I&(B^S))+V[15]+1236535329&4294967295,j=I+(P<<22&4294967295|P>>>10),P=S+(I^B&(j^I))+V[1]+4129170786&4294967295,S=j+(P<<5&4294967295|P>>>27),P=B+(j^I&(S^j))+V[6]+3225465664&4294967295,B=S+(P<<9&4294967295|P>>>23),P=I+(S^j&(B^S))+V[11]+643717713&4294967295,I=B+(P<<14&4294967295|P>>>18),P=j+(B^S&(I^B))+V[0]+3921069994&4294967295,j=I+(P<<20&4294967295|P>>>12),P=S+(I^B&(j^I))+V[5]+3593408605&4294967295,S=j+(P<<5&4294967295|P>>>27),P=B+(j^I&(S^j))+V[10]+38016083&4294967295,B=S+(P<<9&4294967295|P>>>23),P=I+(S^j&(B^S))+V[15]+3634488961&4294967295,I=B+(P<<14&4294967295|P>>>18),P=j+(B^S&(I^B))+V[4]+3889429448&4294967295,j=I+(P<<20&4294967295|P>>>12),P=S+(I^B&(j^I))+V[9]+568446438&4294967295,S=j+(P<<5&4294967295|P>>>27),P=B+(j^I&(S^j))+V[14]+3275163606&4294967295,B=S+(P<<9&4294967295|P>>>23),P=I+(S^j&(B^S))+V[3]+4107603335&4294967295,I=B+(P<<14&4294967295|P>>>18),P=j+(B^S&(I^B))+V[8]+1163531501&4294967295,j=I+(P<<20&4294967295|P>>>12),P=S+(I^B&(j^I))+V[13]+2850285829&4294967295,S=j+(P<<5&4294967295|P>>>27),P=B+(j^I&(S^j))+V[2]+4243563512&4294967295,B=S+(P<<9&4294967295|P>>>23),P=I+(S^j&(B^S))+V[7]+1735328473&4294967295,I=B+(P<<14&4294967295|P>>>18),P=j+(B^S&(I^B))+V[12]+2368359562&4294967295,j=I+(P<<20&4294967295|P>>>12),P=S+(j^I^B)+V[5]+4294588738&4294967295,S=j+(P<<4&4294967295|P>>>28),P=B+(S^j^I)+V[8]+2272392833&4294967295,B=S+(P<<11&4294967295|P>>>21),P=I+(B^S^j)+V[11]+1839030562&4294967295,I=B+(P<<16&4294967295|P>>>16),P=j+(I^B^S)+V[14]+4259657740&4294967295,j=I+(P<<23&4294967295|P>>>9),P=S+(j^I^B)+V[1]+2763975236&4294967295,S=j+(P<<4&4294967295|P>>>28),P=B+(S^j^I)+V[4]+1272893353&4294967295,B=S+(P<<11&4294967295|P>>>21),P=I+(B^S^j)+V[7]+4139469664&4294967295,I=B+(P<<16&4294967295|P>>>16),P=j+(I^B^S)+V[10]+3200236656&4294967295,j=I+(P<<23&4294967295|P>>>9),P=S+(j^I^B)+V[13]+681279174&4294967295,S=j+(P<<4&4294967295|P>>>28),P=B+(S^j^I)+V[0]+3936430074&4294967295,B=S+(P<<11&4294967295|P>>>21),P=I+(B^S^j)+V[3]+3572445317&4294967295,I=B+(P<<16&4294967295|P>>>16),P=j+(I^B^S)+V[6]+76029189&4294967295,j=I+(P<<23&4294967295|P>>>9),P=S+(j^I^B)+V[9]+3654602809&4294967295,S=j+(P<<4&4294967295|P>>>28),P=B+(S^j^I)+V[12]+3873151461&4294967295,B=S+(P<<11&4294967295|P>>>21),P=I+(B^S^j)+V[15]+530742520&4294967295,I=B+(P<<16&4294967295|P>>>16),P=j+(I^B^S)+V[2]+3299628645&4294967295,j=I+(P<<23&4294967295|P>>>9),P=S+(I^(j|~B))+V[0]+4096336452&4294967295,S=j+(P<<6&4294967295|P>>>26),P=B+(j^(S|~I))+V[7]+1126891415&4294967295,B=S+(P<<10&4294967295|P>>>22),P=I+(S^(B|~j))+V[14]+2878612391&4294967295,I=B+(P<<15&4294967295|P>>>17),P=j+(B^(I|~S))+V[5]+4237533241&4294967295,j=I+(P<<21&4294967295|P>>>11),P=S+(I^(j|~B))+V[12]+1700485571&4294967295,S=j+(P<<6&4294967295|P>>>26),P=B+(j^(S|~I))+V[3]+2399980690&4294967295,B=S+(P<<10&4294967295|P>>>22),P=I+(S^(B|~j))+V[10]+4293915773&4294967295,I=B+(P<<15&4294967295|P>>>17),P=j+(B^(I|~S))+V[1]+2240044497&4294967295,j=I+(P<<21&4294967295|P>>>11),P=S+(I^(j|~B))+V[8]+1873313359&4294967295,S=j+(P<<6&4294967295|P>>>26),P=B+(j^(S|~I))+V[15]+4264355552&4294967295,B=S+(P<<10&4294967295|P>>>22),P=I+(S^(B|~j))+V[6]+2734768916&4294967295,I=B+(P<<15&4294967295|P>>>17),P=j+(B^(I|~S))+V[13]+1309151649&4294967295,j=I+(P<<21&4294967295|P>>>11),P=S+(I^(j|~B))+V[4]+4149444226&4294967295,S=j+(P<<6&4294967295|P>>>26),P=B+(j^(S|~I))+V[11]+3174756917&4294967295,B=S+(P<<10&4294967295|P>>>22),P=I+(S^(B|~j))+V[2]+718787259&4294967295,I=B+(P<<15&4294967295|P>>>17),P=j+(B^(I|~S))+V[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(I+(P<<21&4294967295|P>>>11))&4294967295,k.g[2]=k.g[2]+I&4294967295,k.g[3]=k.g[3]+B&4294967295}i.prototype.u=function(k,S){S===void 0&&(S=k.length);for(var j=S-this.blockSize,V=this.B,I=this.h,B=0;B<S;){if(I==0)for(;B<=j;)a(this,k,B),B+=this.blockSize;if(typeof k=="string"){for(;B<S;)if(V[I++]=k.charCodeAt(B++),I==this.blockSize){a(this,V),I=0;break}}else for(;B<S;)if(V[I++]=k[B++],I==this.blockSize){a(this,V),I=0;break}}this.h=I,this.o+=S},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;var j=8*this.o;for(S=k.length-8;S<k.length;++S)k[S]=j&255,j/=256;for(this.u(k),k=Array(16),S=j=0;4>S;++S)for(var V=0;32>V;V+=8)k[j++]=this.g[S]>>>V&255;return k};function l(k,S){var j=f;return Object.prototype.hasOwnProperty.call(j,k)?j[k]:j[k]=S(k)}function u(k,S){this.h=S;for(var j=[],V=!0,I=k.length-1;0<=I;I--){var B=k[I]|0;V&&B==S||(j[I]=B,V=!1)}this.g=j}var f={};function p(k){return-128<=k&&128>k?l(k,function(S){return new u([S|0],0>S?-1:0)}):new u([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return b;if(0>k)return D(g(-k));for(var S=[],j=1,V=0;k>=j;V++)S[V]=k/j|0,j*=4294967296;return new u(S,0)}function v(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return D(v(k.substring(1),S));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=g(Math.pow(S,8)),V=b,I=0;I<k.length;I+=8){var B=Math.min(8,k.length-I),P=parseInt(k.substring(I,I+B),S);8>B?(B=g(Math.pow(S,B)),V=V.j(B).add(g(P))):(V=V.j(j),V=V.add(g(P)))}return V}var b=p(0),x=p(1),A=p(16777216);n=u.prototype,n.m=function(){if(C(this))return-D(this).m();for(var k=0,S=1,j=0;j<this.g.length;j++){var V=this.i(j);k+=(0<=V?V:4294967296+V)*S,S*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(R(this))return"0";if(C(this))return"-"+D(this).toString(k);for(var S=g(Math.pow(k,6)),j=this,V="";;){var I=q(j,S).g;j=M(j,I.j(S));var B=((0<j.g.length?j.g[0]:j.h)>>>0).toString(k);if(j=I,R(j))return B+V;for(;6>B.length;)B="0"+B;V=B+V}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function R(k){if(k.h!=0)return!1;for(var S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function C(k){return k.h==-1}n.l=function(k){return k=M(this,k),C(k)?-1:R(k)?0:1};function D(k){for(var S=k.g.length,j=[],V=0;V<S;V++)j[V]=~k.g[V];return new u(j,~k.h).add(x)}n.abs=function(){return C(this)?D(this):this},n.add=function(k){for(var S=Math.max(this.g.length,k.g.length),j=[],V=0,I=0;I<=S;I++){var B=V+(this.i(I)&65535)+(k.i(I)&65535),P=(B>>>16)+(this.i(I)>>>16)+(k.i(I)>>>16);V=P>>>16,B&=65535,P&=65535,j[I]=P<<16|B}return new u(j,j[j.length-1]&-2147483648?-1:0)};function M(k,S){return k.add(D(S))}n.j=function(k){if(R(this)||R(k))return b;if(C(this))return C(k)?D(this).j(D(k)):D(D(this).j(k));if(C(k))return D(this.j(D(k)));if(0>this.l(A)&&0>k.l(A))return g(this.m()*k.m());for(var S=this.g.length+k.g.length,j=[],V=0;V<2*S;V++)j[V]=0;for(V=0;V<this.g.length;V++)for(var I=0;I<k.g.length;I++){var B=this.i(V)>>>16,P=this.i(V)&65535,Y=k.i(I)>>>16,se=k.i(I)&65535;j[2*V+2*I]+=P*se,U(j,2*V+2*I),j[2*V+2*I+1]+=B*se,U(j,2*V+2*I+1),j[2*V+2*I+1]+=P*Y,U(j,2*V+2*I+1),j[2*V+2*I+2]+=B*Y,U(j,2*V+2*I+2)}for(V=0;V<S;V++)j[V]=j[2*V+1]<<16|j[2*V];for(V=S;V<2*S;V++)j[V]=0;return new u(j,0)};function U(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function L(k,S){this.g=k,this.h=S}function q(k,S){if(R(S))throw Error("division by zero");if(R(k))return new L(b,b);if(C(k))return S=q(D(k),S),new L(D(S.g),D(S.h));if(C(S))return S=q(k,D(S)),new L(D(S.g),S.h);if(30<k.g.length){if(C(k)||C(S))throw Error("slowDivide_ only works with positive integers.");for(var j=x,V=S;0>=V.l(k);)j=$(j),V=$(V);var I=ne(j,1),B=ne(V,1);for(V=ne(V,2),j=ne(j,2);!R(V);){var P=B.add(V);0>=P.l(k)&&(I=I.add(j),B=P),V=ne(V,1),j=ne(j,1)}return S=M(k,I.j(S)),new L(I,S)}for(I=b;0<=k.l(S);){for(j=Math.max(1,Math.floor(k.m()/S.m())),V=Math.ceil(Math.log(j)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),B=g(j),P=B.j(S);C(P)||0<P.l(k);)j-=V,B=g(j),P=B.j(S);R(B)&&(B=x),I=I.add(B),k=M(k,P)}return new L(I,k)}n.A=function(k){return q(this,k).h},n.and=function(k){for(var S=Math.max(this.g.length,k.g.length),j=[],V=0;V<S;V++)j[V]=this.i(V)&k.i(V);return new u(j,this.h&k.h)},n.or=function(k){for(var S=Math.max(this.g.length,k.g.length),j=[],V=0;V<S;V++)j[V]=this.i(V)|k.i(V);return new u(j,this.h|k.h)},n.xor=function(k){for(var S=Math.max(this.g.length,k.g.length),j=[],V=0;V<S;V++)j[V]=this.i(V)^k.i(V);return new u(j,this.h^k.h)};function $(k){for(var S=k.g.length+1,j=[],V=0;V<S;V++)j[V]=k.i(V)<<1|k.i(V-1)>>>31;return new u(j,k.h)}function ne(k,S){var j=S>>5;S%=32;for(var V=k.g.length-j,I=[],B=0;B<V;B++)I[B]=0<S?k.i(B+j)>>>S|k.i(B+j+1)<<32-S:k.i(B+j);return new u(I,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,RS=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,ta=u}).apply(typeof wE<"u"?wE:typeof self<"u"?self:typeof window<"u"?window:{});var Df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IS,fu,NS,Wf,dy,DS,kS,OS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,w){return d==Array.prototype||d==Object.prototype||(d[_]=w.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Df=="object"&&Df];for(var _=0;_<d.length;++_){var w=d[_];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function a(d,_){if(_)e:{var w=i;d=d.split(".");for(var O=0;O<d.length-1;O++){var W=d[O];if(!(W in w))break e;w=w[W]}d=d[d.length-1],O=w[d],_=_(O),_!=O&&_!=null&&e(w,d,{configurable:!0,writable:!0,value:_})}}function l(d,_){d instanceof String&&(d+="");var w=0,O=!1,W={next:function(){if(!O&&w<d.length){var ie=w++;return{value:_(ie,d[ie]),done:!1}}return O=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}a("Array.prototype.values",function(d){return d||function(){return l(this,function(_,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function p(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function g(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function v(d,_,w){return d.call.apply(d.bind,arguments)}function b(d,_,w){if(!d)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,O),d.apply(_,W)}}return function(){return d.apply(_,arguments)}}function x(d,_,w){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,x.apply(null,arguments)}function A(d,_){var w=Array.prototype.slice.call(arguments,1);return function(){var O=w.slice();return O.push.apply(O,arguments),d.apply(this,O)}}function R(d,_){function w(){}w.prototype=_.prototype,d.aa=_.prototype,d.prototype=new w,d.prototype.constructor=d,d.Qb=function(O,W,ie){for(var _e=Array(arguments.length-2),it=2;it<arguments.length;it++)_e[it-2]=arguments[it];return _.prototype[W].apply(O,_e)}}function C(d){const _=d.length;if(0<_){const w=Array(_);for(let O=0;O<_;O++)w[O]=d[O];return w}return[]}function D(d,_){for(let w=1;w<arguments.length;w++){const O=arguments[w];if(p(O)){const W=d.length||0,ie=O.length||0;d.length=W+ie;for(let _e=0;_e<ie;_e++)d[W+_e]=O[_e]}else d.push(O)}}class M{constructor(_,w){this.i=_,this.j=w,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function U(d){return/^[\s\xa0]*$/.test(d)}function L(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function q(d){return q[" "](d),d}q[" "]=function(){};var $=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function ne(d,_,w){for(const O in d)_.call(w,d[O],O,d)}function k(d,_){for(const w in d)_.call(void 0,d[w],w,d)}function S(d){const _={};for(const w in d)_[w]=d[w];return _}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(d,_){let w,O;for(let W=1;W<arguments.length;W++){O=arguments[W];for(w in O)d[w]=O[w];for(let ie=0;ie<j.length;ie++)w=j[ie],Object.prototype.hasOwnProperty.call(O,w)&&(d[w]=O[w])}}function I(d){var _=1;d=d.split(":");const w=[];for(;0<_&&d.length;)w.push(d.shift()),_--;return d.length&&w.push(d.join(":")),w}function B(d){f.setTimeout(()=>{throw d},0)}function P(){var d=ve;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class Y{constructor(){this.h=this.g=null}add(_,w){const O=se.get();O.set(_,w),this.h?this.h.next=O:this.g=O,this.h=O}}var se=new M(()=>new H,d=>d.reset());class H{constructor(){this.next=this.g=this.h=null}set(_,w){this.h=_,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,K=!1,ve=new Y,z=()=>{const d=f.Promise.resolve(void 0);ee=()=>{d.then(ae)}};var ae=()=>{for(var d;d=P();){try{d.h.call(d.g)}catch(w){B(w)}var _=se;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}K=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};f.addEventListener("test",w,_),f.removeEventListener("test",w,_)}catch{}return d}();function pe(d,_){if(oe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var w=this.type=d.type,O=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if($){e:{try{q(_.nodeName);var W=!0;break e}catch{}W=!1}W||(_=null)}}else w=="mouseover"?_=d.fromElement:w=="mouseout"&&(_=d.toElement);this.relatedTarget=_,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ge[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&pe.aa.h.call(this)}}R(pe,oe);var ge={2:"touch",3:"pen",4:"mouse"};pe.prototype.h=function(){pe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),xe=0;function Te(d,_,w,O,W){this.listener=d,this.proxy=null,this.src=_,this.type=w,this.capture=!!O,this.ha=W,this.key=++xe,this.da=this.fa=!1}function Re(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Se(d){this.src=d,this.g={},this.h=0}Se.prototype.add=function(d,_,w,O,W){var ie=d.toString();d=this.g[ie],d||(d=this.g[ie]=[],this.h++);var _e=X(d,_,O,W);return-1<_e?(_=d[_e],w||(_.fa=!1)):(_=new Te(_,this.src,ie,!!O,W),_.fa=w,d.push(_)),_};function je(d,_){var w=_.type;if(w in d.g){var O=d.g[w],W=Array.prototype.indexOf.call(O,_,void 0),ie;(ie=0<=W)&&Array.prototype.splice.call(O,W,1),ie&&(Re(_),d.g[w].length==0&&(delete d.g[w],d.h--))}}function X(d,_,w,O){for(var W=0;W<d.length;++W){var ie=d[W];if(!ie.da&&ie.listener==_&&ie.capture==!!w&&ie.ha==O)return W}return-1}var ye="closure_lm_"+(1e6*Math.random()|0),Ee={};function Ae(d,_,w,O,W){if(Array.isArray(_)){for(var ie=0;ie<_.length;ie++)Ae(d,_[ie],w,O,W);return null}return w=yi(w),d&&d[ce]?d.K(_,w,g(O)?!!O.capture:!1,W):ke(d,_,w,!1,O,W)}function ke(d,_,w,O,W,ie){if(!_)throw Error("Invalid event type");var _e=g(W)?!!W.capture:!!W,it=Un(d);if(it||(d[ye]=it=new Se(d)),w=it.add(_,w,O,_e,ie),w.proxy)return w;if(O=lt(),w.proxy=O,O.src=d,O.listener=w,d.addEventListener)be||(W=_e),W===void 0&&(W=!1),d.addEventListener(_.toString(),O,W);else if(d.attachEvent)d.attachEvent(Gt(_.toString()),O);else if(d.addListener&&d.removeListener)d.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return w}function lt(){function d(w){return _.call(d.src,d.listener,w)}const _=Gn;return d}function Ve(d,_,w,O,W){if(Array.isArray(_))for(var ie=0;ie<_.length;ie++)Ve(d,_[ie],w,O,W);else O=g(O)?!!O.capture:!!O,w=yi(w),d&&d[ce]?(d=d.i,_=String(_).toString(),_ in d.g&&(ie=d.g[_],w=X(ie,w,O,W),-1<w&&(Re(ie[w]),Array.prototype.splice.call(ie,w,1),ie.length==0&&(delete d.g[_],d.h--)))):d&&(d=Un(d))&&(_=d.g[_.toString()],d=-1,_&&(d=X(_,w,O,W)),(w=-1<d?_[d]:null)&&Ge(w))}function Ge(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[ce])je(_.i,d);else{var w=d.type,O=d.proxy;_.removeEventListener?_.removeEventListener(w,O,d.capture):_.detachEvent?_.detachEvent(Gt(w),O):_.addListener&&_.removeListener&&_.removeListener(O),(w=Un(_))?(je(w,d),w.h==0&&(w.src=null,_[ye]=null)):Re(d)}}}function Gt(d){return d in Ee?Ee[d]:Ee[d]="on"+d}function Gn(d,_){if(d.da)d=!0;else{_=new pe(_,this);var w=d.listener,O=d.ha||d.src;d.fa&&Ge(d),d=w.call(O,_)}return d}function Un(d){return d=d[ye],d instanceof Se?d:null}var Yt="__closure_events_fn_"+(1e9*Math.random()>>>0);function yi(d){return typeof d=="function"?d:(d[Yt]||(d[Yt]=function(_){return d.handleEvent(_)}),d[Yt])}function zt(){me.call(this),this.i=new Se(this),this.M=this,this.F=null}R(zt,me),zt.prototype[ce]=!0,zt.prototype.removeEventListener=function(d,_,w,O){Ve(this,d,_,w,O)};function pt(d,_){var w,O=d.F;if(O)for(w=[];O;O=O.F)w.push(O);if(d=d.M,O=_.type||_,typeof _=="string")_=new oe(_,d);else if(_ instanceof oe)_.target=_.target||d;else{var W=_;_=new oe(O,d),V(_,W)}if(W=!0,w)for(var ie=w.length-1;0<=ie;ie--){var _e=_.g=w[ie];W=Jn(_e,O,!0,_)&&W}if(_e=_.g=d,W=Jn(_e,O,!0,_)&&W,W=Jn(_e,O,!1,_)&&W,w)for(ie=0;ie<w.length;ie++)_e=_.g=w[ie],W=Jn(_e,O,!1,_)&&W}zt.prototype.N=function(){if(zt.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var w=d.g[_],O=0;O<w.length;O++)Re(w[O]);delete d.g[_],d.h--}}this.F=null},zt.prototype.K=function(d,_,w,O){return this.i.add(String(d),_,!1,w,O)},zt.prototype.L=function(d,_,w,O){return this.i.add(String(d),_,!0,w,O)};function Jn(d,_,w,O){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var W=!0,ie=0;ie<_.length;++ie){var _e=_[ie];if(_e&&!_e.da&&_e.capture==w){var it=_e.listener,an=_e.ha||_e.src;_e.fa&&je(d.i,_e),W=it.call(an,O)!==!1&&W}}return W&&!O.defaultPrevented}function Rn(d,_,w){if(typeof d=="function")w&&(d=x(d,w));else if(d&&typeof d.handleEvent=="function")d=x(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:f.setTimeout(d,_||0)}function id(d){d.g=Rn(()=>{d.g=null,d.i&&(d.i=!1,id(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class ym extends me{constructor(_,w){super(),this.m=_,this.l=w,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:id(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ya(d){me.call(this),this.h=d,this.g={}}R(ya,me);var va=[];function _a(d){ne(d.g,function(_,w){this.g.hasOwnProperty(w)&&Ge(_)},d),d.g={}}ya.prototype.N=function(){ya.aa.N.call(this),_a(this)},ya.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sr=f.JSON.stringify,mo=f.JSON.parse,ba=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function Jl(){}Jl.prototype.h=null;function ec(d){return d.h||(d.h=d.i())}function tc(){}var vi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _i(){oe.call(this,"d")}R(_i,oe);function nc(){oe.call(this,"c")}R(nc,oe);var zr={},rc=null;function hs(){return rc=rc||new zt}zr.La="serverreachability";function po(d){oe.call(this,zr.La,d)}R(po,oe);function ms(d){const _=hs();pt(_,new po(_))}zr.STAT_EVENT="statevent";function sd(d,_){oe.call(this,zr.STAT_EVENT,d),this.stat=_}R(sd,oe);function Dt(d){const _=hs();pt(_,new sd(_,d))}zr.Ma="timingevent";function sn(d,_){oe.call(this,zr.Ma,d),this.size=_}R(sn,oe);function Zt(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},_)}function dr(){this.g=!0}dr.prototype.xa=function(){this.g=!1};function ic(d,_,w,O,W,ie){d.info(function(){if(d.g)if(ie)for(var _e="",it=ie.split("&"),an=0;an<it.length;an++){var st=it[an].split("=");if(1<st.length){var mn=st[0];st=st[1];var on=mn.split("_");_e=2<=on.length&&on[1]=="type"?_e+(mn+"="+st+"&"):_e+(mn+"=redacted&")}}else _e=null;else _e=ie;return"XMLHTTP REQ ("+O+") [attempt "+W+"]: "+_+`
`+w+`
`+_e})}function vm(d,_,w,O,W,ie,_e){d.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+W+"]: "+_+`
`+w+`
`+ie+" "+_e})}function ps(d,_,w,O){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+xa(d,w)+(O?" "+O:"")})}function ad(d,_){d.info(function(){return"TIMEOUT: "+_})}dr.prototype.info=function(){};function xa(d,_){if(!d.g)return _;if(!_)return null;try{var w=JSON.parse(_);if(w){for(d=0;d<w.length;d++)if(Array.isArray(w[d])){var O=w[d];if(!(2>O.length)){var W=O[1];if(Array.isArray(W)&&!(1>W.length)){var ie=W[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var _e=1;_e<W.length;_e++)W[_e]=""}}}}return Sr(w)}catch{return _}}var gs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fr;function Hr(){}R(Hr,Jl),Hr.prototype.g=function(){return new XMLHttpRequest},Hr.prototype.i=function(){return{}},Fr=new Hr;function Bn(d,_,w,O){this.j=d,this.i=_,this.l=w,this.R=O||1,this.U=new ya(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Kt}function Kt(){this.i=null,this.g="",this.h=!1}var sc={},go={};function Ar(d,_,w){d.L=1,d.v=Aa(er(_)),d.m=w,d.P=!0,xi(d,null)}function xi(d,_){d.F=Date.now(),Ea(d),d.A=er(d.v);var w=d.A,O=d.R;Array.isArray(O)||(O=[String(O)]),dc(w.i,"t",O),d.C=0,w=d.j.J,d.h=new Kt,d.g=Ed(d.j,w?_:null,!d.m),0<d.O&&(d.M=new ym(x(d.Y,d,d.g),d.O)),_=d.U,w=d.g,O=d.ca;var W="readystatechange";Array.isArray(W)||(W&&(va[0]=W.toString()),W=va);for(var ie=0;ie<W.length;ie++){var _e=Ae(w,W[ie],O||_.handleEvent,!1,_.h||_);if(!_e)break;_.g[_e.key]=_e}_=d.H?S(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),ms(),ic(d.i,d.u,d.A,d.l,d.R,d.m)}Bn.prototype.ca=function(d){d=d.target;const _=this.M;_&&pr(d)==3?_.j():this.Y(d)},Bn.prototype.Y=function(d){try{if(d==this.g)e:{const on=pr(this.g);var _=this.g.Ba();const Ii=this.g.Z();if(!(3>on)&&(on!=3||this.g&&(this.h.h||this.g.oa()||md(this.g)))){this.J||on!=4||_==7||(_==8||0>=Ii?ms(3):ms(2)),ys(this);var w=this.g.Z();this.X=w;t:if(od(this)){var O=md(this.g);d="";var W=O.length,ie=pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_n(this),qr(this);var _e="";break t}this.h.i=new f.TextDecoder}for(_=0;_<W;_++)this.h.h=!0,d+=this.h.i.decode(O[_],{stream:!(ie&&_==W-1)});O.length=0,this.h.g+=d,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=w==200,vm(this.i,this.u,this.A,this.l,this.R,on,w),this.o){if(this.T&&!this.K){t:{if(this.g){var it,an=this.g;if((it=an.g?an.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(it)){var st=it;break t}}st=null}if(w=st)ps(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wa(this,w);else{this.o=!1,this.s=3,Dt(12),_n(this),qr(this);break e}}if(this.P){w=!0;let bn;for(;!this.J&&this.C<_e.length;)if(bn=ld(this,_e),bn==go){on==4&&(this.s=4,Dt(14),w=!1),ps(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==sc){this.s=4,Dt(15),ps(this.i,this.l,_e,"[Invalid Chunk]"),w=!1;break}else ps(this.i,this.l,bn,null),wa(this,bn);if(od(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),on!=4||_e.length!=0||this.h.h||(this.s=1,Dt(16),w=!1),this.o=this.o&&w,!w)ps(this.i,this.l,_e,"[Invalid Chunked Response]"),_n(this),qr(this);else if(0<_e.length&&!this.W){this.W=!0;var mn=this.j;mn.g==this&&mn.ba&&!mn.M&&(mn.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),ja(mn),mn.M=!0,Dt(11))}}else ps(this.i,this.l,_e,null),wa(this,_e);on==4&&_n(this),this.o&&!this.J&&(on==4?_d(this.j,this):(this.o=!1,Ea(this)))}else wm(this.g),w==400&&0<_e.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),_n(this),qr(this)}}}catch{}finally{}};function od(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function ld(d,_){var w=d.C,O=_.indexOf(`
`,w);return O==-1?go:(w=Number(_.substring(w,O)),isNaN(w)?sc:(O+=1,O+w>_.length?go:(_=_.slice(O,O+w),d.C=O+w,_)))}Bn.prototype.cancel=function(){this.J=!0,_n(this)};function Ea(d){d.S=Date.now()+d.I,cd(d,d.I)}function cd(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Zt(x(d.ba,d),_)}function ys(d){d.B&&(f.clearTimeout(d.B),d.B=null)}Bn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(ad(this.i,this.A),this.L!=2&&(ms(),Dt(17)),_n(this),this.s=2,qr(this)):cd(this,this.S-d)};function qr(d){d.j.G==0||d.J||_d(d.j,d)}function _n(d){ys(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,_a(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function wa(d,_){try{var w=d.j;if(w.G!=0&&(w.g==d||ac(w.h,d))){if(!d.K&&ac(w.h,d)&&w.G==3){try{var O=w.Da.g.parse(_)}catch{O=null}if(Array.isArray(O)&&O.length==3){var W=O;if(W[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<d.F)Ro(w),Ao(w);else break e;gc(w),Dt(18)}}else w.za=W[1],0<w.za-w.T&&37500>W[2]&&w.F&&w.v==0&&!w.C&&(w.C=Zt(x(w.Za,w),6e3));if(1>=vo(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Ri(w,11)}else if((d.K||w.g==d)&&Ro(w),!U(_))for(W=w.Da.g.parse(_),_=0;_<W.length;_++){let st=W[_];if(w.T=st[0],st=st[1],w.G==2)if(st[0]=="c"){w.K=st[1],w.ia=st[2];const mn=st[3];mn!=null&&(w.la=mn,w.j.info("VER="+w.la));const on=st[4];on!=null&&(w.Aa=on,w.j.info("SVER="+w.Aa));const Ii=st[5];Ii!=null&&typeof Ii=="number"&&0<Ii&&(O=1.5*Ii,w.L=O,w.j.info("backChannelRequestTimeoutMs_="+O)),O=w;const bn=d.g;if(bn){const Xr=bn.g?bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xr){var ie=O.h;ie.g||Xr.indexOf("spdy")==-1&&Xr.indexOf("quic")==-1&&Xr.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(_o(ie,ie.h),ie.h=null))}if(O.D){const vc=bn.g?bn.g.getResponseHeader("X-HTTP-Session-Id"):null;vc&&(O.ya=vc,_t(O.I,O.D,vc))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-d.F,w.j.info("Handshake RTT: "+w.R+"ms")),O=w;var _e=d;if(O.qa=xd(O,O.J?O.ia:null,O.W),_e.K){zn(O.h,_e);var it=_e,an=O.L;an&&(it.I=an),it.B&&(ys(it),Ea(it)),O.g=_e}else yd(O);0<w.i.length&&Co(w)}else st[0]!="stop"&&st[0]!="close"||Ri(w,7);else w.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?Ri(w,7):mc(w):st[0]!="noop"&&w.l&&w.l.ta(st),w.v=0)}}ms(4)}catch{}}var ud=class{constructor(d,_){this.g=d,this.map=_}};function Ei(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yo(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function vo(d){return d.h?1:d.g?d.g.size:0}function ac(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function _o(d,_){d.g?d.g.add(_):d.h=_}function zn(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Ei.prototype.cancel=function(){if(this.i=oc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function oc(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const w of d.g.values())_=_.concat(w.D);return _}return C(d.i)}function _m(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(p(d)){for(var _=[],w=d.length,O=0;O<w;O++)_.push(d[O]);return _}_=[],w=0;for(O in d)_[w++]=d[O];return _}function bo(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(p(d)||typeof d=="string"){var _=[];d=d.length;for(var w=0;w<d;w++)_.push(w);return _}_=[],w=0;for(const O in d)_[w++]=O;return _}}}function lc(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(p(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var w=bo(d),O=_m(d),W=O.length,ie=0;ie<W;ie++)_.call(void 0,O[ie],w&&w[ie],d)}var Ta=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bm(d,_){if(d){d=d.split("&");for(var w=0;w<d.length;w++){var O=d[w].indexOf("="),W=null;if(0<=O){var ie=d[w].substring(0,O);W=d[w].substring(O+1)}else ie=d[w];_(ie,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Jt(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Jt){this.h=d.h,Sa(this,d.j),this.o=d.o,this.g=d.g,vs(this,d.s),this.l=d.l;var _=d.i,w=new Ti;w.i=_.i,_.g&&(w.g=new Map(_.g),w.h=_.h),wi(this,w),this.m=d.m}else d&&(_=String(d).match(Ta))?(this.h=!1,Sa(this,_[1]||"",!0),this.o=fr(_[2]||""),this.g=fr(_[3]||"",!0),vs(this,_[4]),this.l=fr(_[5]||"",!0),wi(this,_[6]||"",!0),this.m=fr(_[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}Jt.prototype.toString=function(){var d=[],_=this.j;_&&d.push(Ca(_,cc,!0),":");var w=this.g;return(w||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Ca(_,cc,!0),"@"),d.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&d.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(Ca(w,w.charAt(0)=="/"?xm:uc,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",Ca(w,xo)),d.join("")};function er(d){return new Jt(d)}function Sa(d,_,w){d.j=w?fr(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function vs(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function wi(d,_,w){_ instanceof Ti?(d.i=_,fd(d.i,d.h)):(w||(_=Ca(_,Em)),d.i=new Ti(_,d.h))}function _t(d,_,w){d.i.set(_,w)}function Aa(d){return _t(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function fr(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ca(d,_,w){return typeof d=="string"?(d=encodeURI(d).replace(_,dd),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function dd(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var cc=/[#\/\?@]/g,uc=/[#\?:]/g,xm=/[#\?]/g,Em=/[#\?@]/g,xo=/#/g;function Ti(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function hr(d){d.g||(d.g=new Map,d.h=0,d.i&&bm(d.i,function(_,w){d.add(decodeURIComponent(_.replace(/\+/g," ")),w)}))}n=Ti.prototype,n.add=function(d,_){hr(this),this.i=null,d=$r(this,d);var w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(_),this.h+=1,this};function Si(d,_){hr(d),_=$r(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Ai(d,_){return hr(d),_=$r(d,_),d.g.has(_)}n.forEach=function(d,_){hr(this),this.g.forEach(function(w,O){w.forEach(function(W){d.call(_,W,O,this)},this)},this)},n.na=function(){hr(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),w=[];for(let O=0;O<_.length;O++){const W=d[O];for(let ie=0;ie<W.length;ie++)w.push(_[O])}return w},n.V=function(d){hr(this);let _=[];if(typeof d=="string")Ai(this,d)&&(_=_.concat(this.g.get($r(this,d))));else{d=Array.from(this.g.values());for(let w=0;w<d.length;w++)_=_.concat(d[w])}return _},n.set=function(d,_){return hr(this),this.i=null,d=$r(this,d),Ai(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function dc(d,_,w){Si(d,_),0<w.length&&(d.i=null,d.g.set($r(d,_),C(w)),d.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var w=0;w<_.length;w++){var O=_[w];const ie=encodeURIComponent(String(O)),_e=this.V(O);for(O=0;O<_e.length;O++){var W=ie;_e[O]!==""&&(W+="="+encodeURIComponent(String(_e[O]))),d.push(W)}}return this.i=d.join("&")};function $r(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function fd(d,_){_&&!d.j&&(hr(d),d.i=null,d.g.forEach(function(w,O){var W=O.toLowerCase();O!=W&&(Si(this,O),dc(this,W,w))},d)),d.j=_}function Ra(d,_){const w=new dr;if(f.Image){const O=new Image;O.onload=A(mr,w,"TestLoadImage: loaded",!0,_,O),O.onerror=A(mr,w,"TestLoadImage: error",!1,_,O),O.onabort=A(mr,w,"TestLoadImage: abort",!1,_,O),O.ontimeout=A(mr,w,"TestLoadImage: timeout",!1,_,O),f.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=d}else _(!1)}function Cr(d,_){const w=new dr,O=new AbortController,W=setTimeout(()=>{O.abort(),mr(w,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:O.signal}).then(ie=>{clearTimeout(W),ie.ok?mr(w,"TestPingServer: ok",!0,_):mr(w,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(W),mr(w,"TestPingServer: error",!1,_)})}function mr(d,_,w,O,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),O(w)}catch{}}function Ia(){this.g=new ba}function Gr(d,_,w){const O=w||"";try{lc(d,function(W,ie){let _e=W;g(W)&&(_e=Sr(W)),_.push(O+ie+"="+encodeURIComponent(_e))})}catch(W){throw _.push(O+"type="+encodeURIComponent("_badmap")),W}}function _s(d){this.l=d.Ub||null,this.j=d.eb||!1}R(_s,Jl),_s.prototype.g=function(){return new Ci(this.l,this.j)},_s.prototype.i=function(d){return function(){return d}}({});function Ci(d,_){zt.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Ci,zt),n=Ci.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,Kr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||f).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Kr(this)),this.g&&(this.readyState=3,Kr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function fc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Yr(this):Kr(this),this.readyState==3&&fc(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Yr(this))},n.Qa=function(d){this.g&&(this.response=d,Yr(this))},n.ga=function(){this.g&&Yr(this)};function Yr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Kr(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var w=_.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=_.next();return d.join(`\r
`)};function Kr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function hc(d){let _="";return ne(d,function(w,O){_+=O,_+=":",_+=w,_+=`\r
`}),_}function hn(d,_,w){e:{for(O in w){var O=!1;break e}O=!0}O||(w=hc(w),typeof d=="string"?w!=null&&encodeURIComponent(String(w)):_t(d,_,w))}function ht(d){zt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(ht,zt);var Eo=/^https?$/i,Na=["POST","PUT"];n=ht.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,w,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fr.g(),this.v=this.o?ec(this.o):ec(Fr),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(ie){hd(this,ie);return}if(d=w||"",w=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var W in O)w.set(W,O[W]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const ie of O.keys())w.set(ie,O.get(ie));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(w.keys()).find(ie=>ie.toLowerCase()=="content-type"),W=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Na,_,void 0))||O||W||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,_e]of w)this.g.setRequestHeader(ie,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Da(this),this.u=!0,this.g.send(d),this.u=!1}catch(ie){hd(this,ie)}};function hd(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,wo(d),Qr(d)}function wo(d){d.A||(d.A=!0,pt(d,"complete"),pt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,pt(this,"complete"),pt(this,"abort"),Qr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qr(this,!0)),ht.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?To(this):this.bb())},n.bb=function(){To(this)};function To(d){if(d.h&&typeof u<"u"&&(!d.v[1]||pr(d)!=4||d.Z()!=2)){if(d.u&&pr(d)==4)Rn(d.Ea,0,d);else if(pt(d,"readystatechange"),pr(d)==4){d.h=!1;try{const _e=d.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var w;if(!(w=_)){var O;if(O=_e===0){var W=String(d.D).match(Ta)[1]||null;!W&&f.self&&f.self.location&&(W=f.self.location.protocol.slice(0,-1)),O=!Eo.test(W?W.toLowerCase():"")}w=O}if(w)pt(d,"complete"),pt(d,"success");else{d.m=6;try{var ie=2<pr(d)?d.g.statusText:""}catch{ie=""}d.l=ie+" ["+d.Z()+"]",wo(d)}}finally{Qr(d)}}}}function Qr(d,_){if(d.g){Da(d);const w=d.g,O=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||pt(d,"ready");try{w.onreadystatechange=O}catch{}}}function Da(d){d.I&&(f.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function pr(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<pr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),mo(_)}};function md(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function wm(d){const _={};d=(d.g&&2<=pr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<d.length;O++){if(U(d[O]))continue;var w=I(d[O]);const W=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const ie=_[W]||[];_[W]=ie,ie.push(w)}k(_,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ka(d,_,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||_}function So(d){this.Aa=0,this.i=[],this.j=new dr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ka("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ka("baseRetryDelayMs",5e3,d),this.cb=ka("retryDelaySeedMs",1e4,d),this.Wa=ka("forwardChannelMaxRetries",2,d),this.wa=ka("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Ei(d&&d.concurrentRequestLimit),this.Da=new Ia,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=So.prototype,n.la=8,n.G=1,n.connect=function(d,_,w,O){Dt(0),this.W=d,this.H=_||{},w&&O!==void 0&&(this.H.OSID=w,this.H.OAID=O),this.F=this.X,this.I=xd(this,null,this.W),Co(this)};function mc(d){if(pd(d),d.G==3){var _=d.U++,w=er(d.I);if(_t(w,"SID",d.K),_t(w,"RID",_),_t(w,"TYPE","terminate"),Oa(d,w),_=new Bn(d,d.j,_),_.L=2,_.v=Aa(er(w)),w=!1,f.navigator&&f.navigator.sendBeacon)try{w=f.navigator.sendBeacon(_.v.toString(),"")}catch{}!w&&f.Image&&(new Image().src=_.v,w=!0),w||(_.g=Ed(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ea(_)}bd(d)}function Ao(d){d.g&&(ja(d),d.g.cancel(),d.g=null)}function pd(d){Ao(d),d.u&&(f.clearTimeout(d.u),d.u=null),Ro(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function Co(d){if(!yo(d.h)&&!d.s){d.s=!0;var _=d.Ga;ee||z(),K||(ee(),K=!0),ve.add(_,d),d.B=0}}function Tm(d,_){return vo(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Zt(x(d.Ga,d,_),yc(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const W=new Bn(this,this.j,d);let ie=this.o;if(this.S&&(ie?(ie=S(ie),V(ie,this.S)):ie=this.S),this.m!==null||this.O||(W.H=ie,ie=null),this.P)e:{for(var _=0,w=0;w<this.i.length;w++){t:{var O=this.i[w];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(_+=O,4096<_){_=w;break e}if(_===4096||w===this.i.length-1){_=w+1;break e}}_=1e3}else _=1e3;_=gd(this,W,_),w=er(this.I),_t(w,"RID",d),_t(w,"CVER",22),this.D&&_t(w,"X-HTTP-Session-Id",this.D),Oa(this,w),ie&&(this.O?_="headers="+encodeURIComponent(String(hc(ie)))+"&"+_:this.m&&hn(w,this.m,ie)),_o(this.h,W),this.Ua&&_t(w,"TYPE","init"),this.P?(_t(w,"$req",_),_t(w,"SID","null"),W.T=!0,Ar(W,w,null)):Ar(W,w,_),this.G=2}}else this.G==3&&(d?pc(this,d):this.i.length==0||yo(this.h)||pc(this))};function pc(d,_){var w;_?w=_.l:w=d.U++;const O=er(d.I);_t(O,"SID",d.K),_t(O,"RID",w),_t(O,"AID",d.T),Oa(d,O),d.m&&d.o&&hn(O,d.m,d.o),w=new Bn(d,d.j,w,d.B+1),d.m===null&&(w.H=d.o),_&&(d.i=_.D.concat(d.i)),_=gd(d,w,1e3),w.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),_o(d.h,w),Ar(w,O,_)}function Oa(d,_){d.H&&ne(d.H,function(w,O){_t(_,O,w)}),d.l&&lc({},function(w,O){_t(_,O,w)})}function gd(d,_,w){w=Math.min(d.i.length,w);var O=d.l?x(d.l.Na,d.l,d):null;e:{var W=d.i;let ie=-1;for(;;){const _e=["count="+w];ie==-1?0<w?(ie=W[0].g,_e.push("ofs="+ie)):ie=0:_e.push("ofs="+ie);let it=!0;for(let an=0;an<w;an++){let st=W[an].g;const mn=W[an].map;if(st-=ie,0>st)ie=Math.max(0,W[an].g-100),it=!1;else try{Gr(mn,_e,"req"+st+"_")}catch{O&&O(mn)}}if(it){O=_e.join("&");break e}}}return d=d.i.splice(0,w),_.D=d,O}function yd(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;ee||z(),K||(ee(),K=!0),ve.add(_,d),d.v=0}}function gc(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Zt(x(d.Fa,d),yc(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,vd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Zt(x(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),Ao(this),vd(this))};function ja(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function vd(d){d.g=new Bn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=er(d.qa);_t(_,"RID","rpc"),_t(_,"SID",d.K),_t(_,"AID",d.T),_t(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&_t(_,"TO",d.ja),_t(_,"TYPE","xmlhttp"),Oa(d,_),d.m&&d.o&&hn(_,d.m,d.o),d.L&&(d.g.I=d.L);var w=d.g;d=d.ia,w.L=1,w.v=Aa(er(_)),w.m=null,w.P=!0,xi(w,d)}n.Za=function(){this.C!=null&&(this.C=null,Ao(this),gc(this),Dt(19))};function Ro(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function _d(d,_){var w=null;if(d.g==_){Ro(d),ja(d),d.g=null;var O=2}else if(ac(d.h,_))w=_.D,zn(d.h,_),O=1;else return;if(d.G!=0){if(_.o)if(O==1){w=_.m?_.m.length:0,_=Date.now()-_.F;var W=d.B;O=hs(),pt(O,new sn(O,w)),Co(d)}else yd(d);else if(W=_.s,W==3||W==0&&0<_.X||!(O==1&&Tm(d,_)||O==2&&gc(d)))switch(w&&0<w.length&&(_=d.h,_.i=_.i.concat(w)),W){case 1:Ri(d,5);break;case 4:Ri(d,10);break;case 3:Ri(d,6);break;default:Ri(d,2)}}}function yc(d,_){let w=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(w*=2),w*_}function Ri(d,_){if(d.j.info("Error code "+_),_==2){var w=x(d.fb,d),O=d.Xa;const W=!O;O=new Jt(O||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Sa(O,"https"),Aa(O),W?Ra(O.toString(),w):Cr(O.toString(),w)}else Dt(2);d.G=0,d.l&&d.l.sa(_),bd(d),pd(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function bd(d){if(d.G=0,d.ka=[],d.l){const _=oc(d.h);(_.length!=0||d.i.length!=0)&&(D(d.ka,_),D(d.ka,d.i),d.h.i.length=0,C(d.i),d.i.length=0),d.l.ra()}}function xd(d,_,w){var O=w instanceof Jt?er(w):new Jt(w);if(O.g!="")_&&(O.g=_+"."+O.g),vs(O,O.s);else{var W=f.location;O=W.protocol,_=_?_+"."+W.hostname:W.hostname,W=+W.port;var ie=new Jt(null);O&&Sa(ie,O),_&&(ie.g=_),W&&vs(ie,W),w&&(ie.l=w),O=ie}return w=d.D,_=d.ya,w&&_&&_t(O,w,_),_t(O,"VER",d.la),Oa(d,O),O}function Ed(d,_,w){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new ht(new _s({eb:w})):new ht(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function wd(){}n=wd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Io(){}Io.prototype.g=function(d,_){return new Fn(d,_)};function Fn(d,_){zt.call(this),this.g=new So(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!U(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!U(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Wr(this)}R(Fn,zt),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){mc(this.g)},Fn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.u&&(w={},w.__data__=Sr(d),d=w);_.i.push(new ud(_.Ya++,d)),_.G==3&&Co(_)},Fn.prototype.N=function(){this.g.l=null,delete this.j,mc(this.g),delete this.g,Fn.aa.N.call(this)};function Td(d){_i.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const w in _){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}R(Td,_i);function Sd(){nc.call(this),this.status=1}R(Sd,nc);function Wr(d){this.g=d}R(Wr,wd),Wr.prototype.ua=function(){pt(this.g,"a")},Wr.prototype.ta=function(d){pt(this.g,new Td(d))},Wr.prototype.sa=function(d){pt(this.g,new Sd)},Wr.prototype.ra=function(){pt(this.g,"b")},Io.prototype.createWebChannel=Io.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,OS=function(){return new Io},kS=function(){return hs()},DS=zr,dy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gs.NO_ERROR=0,gs.TIMEOUT=8,gs.HTTP_ERROR=6,Wf=gs,bi.COMPLETE="complete",NS=bi,tc.EventType=vi,vi.OPEN="a",vi.CLOSE="b",vi.ERROR="c",vi.MESSAGE="d",zt.prototype.listen=zt.prototype.K,fu=tc,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,IS=ht}).apply(typeof Df<"u"?Df:typeof self<"u"?self:typeof window<"u"?window:{});const TE="@firebase/firestore",SE="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kn.UNAUTHENTICATED=new kn(null),kn.GOOGLE_CREDENTIALS=new kn("google-credentials-uid"),kn.FIRST_PARTY=new kn("first-party-uid"),kn.MOCK_USER=new kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ql="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=new Zy("@firebase/firestore");function ll(){return io.logLevel}function Ce(n,...e){if(io.logLevel<=tt.DEBUG){const t=e.map(cv);io.debug(`Firestore (${ql}): ${n}`,...t)}}function is(n,...e){if(io.logLevel<=tt.ERROR){const t=e.map(cv);io.error(`Firestore (${ql}): ${n}`,...t)}}function Cl(n,...e){if(io.logLevel<=tt.WARN){const t=e.map(cv);io.warn(`Firestore (${ql}): ${n}`,...t)}}function cv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,jS(n,i,t)}function jS(n,e,t){let i=`FIRESTORE (${ql}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw is(i),new Error(i)}function mt(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||jS(e,a,i)}function $e(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends us{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class N6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(kn.UNAUTHENTICATED))}shutdown(){}}class D6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class k6{constructor(e){this.t=e,this.currentUser=kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){mt(this.o===void 0,42304);let i=this.i;const a=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Zi,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},f=p=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Zi)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(mt(typeof i.accessToken=="string",31837,{l:i}),new MS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string",2055,{h:e}),new kn(e)}}class O6{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=kn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class j6{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new O6(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M6{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){mt(this.o===void 0,3512);const i=l=>{l.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,Ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new AE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(mt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new AE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=P6(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Xe(n,e){return n<e?-1:n>e?1:0}function fy(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return Xe(i,a);{const l=PS(),u=V6(l.encode(CE(n,t)),l.encode(CE(e,t)));return u!==0?u:Xe(i,a)}}t+=i>65535?2:1}return Xe(n.length,e.length)}function CE(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function V6(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Xe(n[t],e[t]);return Xe(n.length,e.length)}function Rl(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=-62135596800,IE=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*IE);return new At(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<RE)throw new we(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/IE}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-RE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new At(0,0))}static max(){return new qe(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="__name__";class ri{constructor(e,t,i){t===void 0?t=0:t>e.length&&Fe(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Fe(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ri.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ri?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=ri.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Xe(e.length,t.length)}static compareSegments(e,t){const i=ri.isNumericId(e),a=ri.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?ri.extractNumericId(e).compare(ri.extractNumericId(t)):fy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ta.fromString(e.substring(4,e.length-2))}}class Rt extends ri{construct(e,t,i){return new Rt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new we(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new Rt(t)}static emptyPath(){return new Rt([])}}const L6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends ri{construct(e,t,i){return new Sn(e,t,i)}static isValidIdentifier(e){return L6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===NE}static keyField(){return new Sn([NE])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new we(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new we(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new we(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(i+=f,a++):(l(),a++)}if(l(),u)throw new we(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(t)}static emptyPath(){return new Sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Rt.fromString(e))}static fromName(e){return new Pe(Rt.fromString(e).popFirst(5))}static empty(){return new Pe(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=-1;function U6(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=qe.fromTimestamp(i===1e9?new At(t+1,0):new At(t,i));return new ia(a,Pe.empty(),e)}function B6(n){return new ia(n.readTime,n.key,Ru)}class ia{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ia(qe.min(),Pe.empty(),Ru)}static max(){return new ia(qe.max(),Pe.empty(),Ru)}}function z6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Pe.comparator(n.documentKey,e.documentKey),t!==0?t:Xe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class H6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==F6)throw n;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,i)=>{t(e)})}static reject(e){return new he((t,i)=>{i(e)})}static waitFor(e){return new he((t,i)=>{let a=0,l=0,u=!1;e.forEach(f=>{++a,f.next(()=>{++l,u&&l===a&&t()},p=>i(p))}),u=!0,l===a&&t()})}static or(e){let t=he.resolve(!1);for(const i of e)t=t.next(a=>a?he.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new he((i,a)=>{const l=e.length,u=new Array(l);let f=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(v=>{u[g]=v,++f,f===l&&i(u)},v=>a(v))}})}static doWhile(e,t){return new he((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function q6(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Gl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Hh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=-1;function qh(n){return n==null}function gh(n){return n===0&&1/n==-1/0}function $6(n){return typeof n=="number"&&Number.isInteger(n)&&!gh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="";function G6(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=DE(e)),e=Y6(n.get(t),e);return DE(e)}function Y6(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case LS:t+="";break;default:t+=l}}return t}function DE(n){return n+LS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ha(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function US(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,t){this.comparator=e,this.root=t||Tn.EMPTY}insert(e,t){return new Bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kf(this.root,e,this.comparator,!1)}getReverseIterator(){return new kf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kf(this.root,e,this.comparator,!0)}}class kf{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??Tn.RED,this.left=a??Tn.EMPTY,this.right=l??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new Tn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Tn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Fe(27949);return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new Tn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new OE(this.data.getIterator())}getIteratorFrom(e){return new OE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new fn(this.comparator);return t.data=e,t}}class OE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new cr([])}unionWith(e){let t=new fn(Sn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new cr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Rl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new BS("Invalid base64 string: "+l):l}}(e);return new Cn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(e);return new Cn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cn.EMPTY_BYTE_STRING=new Cn("");const K6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sa(n){if(mt(!!n,39018),typeof n=="string"){let e=0;const t=K6.exec(n);if(mt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Xt(n.seconds),nanos:Xt(n.nanos)}}function Xt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function aa(n){return typeof n=="string"?Cn.fromBase64String(n):Cn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="server_timestamp",FS="__type__",HS="__previous_value__",qS="__local_write_time__";function dv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[FS])===null||t===void 0?void 0:t.stringValue)===zS}function $h(n){const e=n.mapValue.fields[HS];return dv(e)?$h(e):e}function Iu(n){const e=sa(n.mapValue.fields[qS].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e,t,i,a,l,u,f,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const yh="(default)";class Nu{constructor(e,t){this.projectId=e,this.database=t||yh}static empty(){return new Nu("","")}get isDefaultDatabase(){return this.database===yh}isEqual(e){return e instanceof Nu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="__type__",W6="__max__",Of={mapValue:{}},GS="__vector__",vh="value";function oa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dv(n)?4:Z6(n)?9007199254740991:X6(n)?10:11:Fe(28295,{value:n})}function di(n,e){if(n===e)return!0;const t=oa(n);if(t!==oa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Iu(n).isEqual(Iu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=sa(a.timestampValue),f=sa(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return aa(a.bytesValue).isEqual(aa(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return Xt(a.geoPointValue.latitude)===Xt(l.geoPointValue.latitude)&&Xt(a.geoPointValue.longitude)===Xt(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Xt(a.integerValue)===Xt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Xt(a.doubleValue),f=Xt(l.doubleValue);return u===f?gh(u)===gh(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return Rl(n.arrayValue.values||[],e.arrayValue.values||[],di);case 10:case 11:return function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(kE(u)!==kE(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!di(u[p],f[p])))return!1;return!0}(n,e);default:return Fe(52216,{left:n})}}function Du(n,e){return(n.values||[]).find(t=>di(t,e))!==void 0}function Il(n,e){if(n===e)return 0;const t=oa(n),i=oa(e);if(t!==i)return Xe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xe(n.booleanValue,e.booleanValue);case 2:return function(l,u){const f=Xt(l.integerValue||l.doubleValue),p=Xt(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return jE(n.timestampValue,e.timestampValue);case 4:return jE(Iu(n),Iu(e));case 5:return fy(n.stringValue,e.stringValue);case 6:return function(l,u){const f=aa(l),p=aa(u);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,u){const f=l.split("/"),p=u.split("/");for(let g=0;g<f.length&&g<p.length;g++){const v=Xe(f[g],p[g]);if(v!==0)return v}return Xe(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,u){const f=Xe(Xt(l.latitude),Xt(u.latitude));return f!==0?f:Xe(Xt(l.longitude),Xt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return ME(n.arrayValue,e.arrayValue);case 10:return function(l,u){var f,p,g,v;const b=l.fields||{},x=u.fields||{},A=(f=b[vh])===null||f===void 0?void 0:f.arrayValue,R=(p=x[vh])===null||p===void 0?void 0:p.arrayValue,C=Xe(((g=A==null?void 0:A.values)===null||g===void 0?void 0:g.length)||0,((v=R==null?void 0:R.values)===null||v===void 0?void 0:v.length)||0);return C!==0?C:ME(A,R)}(n.mapValue,e.mapValue);case 11:return function(l,u){if(l===Of.mapValue&&u===Of.mapValue)return 0;if(l===Of.mapValue)return 1;if(u===Of.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),g=u.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const x=fy(p[b],v[b]);if(x!==0)return x;const A=Il(f[p[b]],g[v[b]]);if(A!==0)return A}return Xe(p.length,v.length)}(n.mapValue,e.mapValue);default:throw Fe(23264,{Pe:t})}}function jE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Xe(n,e);const t=sa(n),i=sa(e),a=Xe(t.seconds,i.seconds);return a!==0?a:Xe(t.nanos,i.nanos)}function ME(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Il(t[a],i[a]);if(l)return l}return Xe(t.length,i.length)}function Nl(n){return hy(n)}function hy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=sa(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return aa(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Pe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=hy(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${hy(t.fields[u])}`;return a+"}"}(n.mapValue):Fe(61005,{value:n})}function Xf(n){switch(oa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$h(n);return e?16+Xf(e):16;case 5:return 2*n.stringValue.length;case 6:return aa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+Xf(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return ha(i.fields,(l,u)=>{a+=l.length+Xf(u)}),a}(n.mapValue);default:throw Fe(13486,{value:n})}}function PE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function my(n){return!!n&&"integerValue"in n}function fv(n){return!!n&&"arrayValue"in n}function VE(n){return!!n&&"nullValue"in n}function LE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zf(n){return!!n&&"mapValue"in n}function X6(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[$S])===null||t===void 0?void 0:t.stringValue)===GS}function bu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ha(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=bu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Z6(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===W6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Zf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bu(t)}setAll(e){let t=Sn.emptyPath(),i={},a=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,a),i={},a=[],t=f.popLast()}u?i[f.lastSegment()]=bu(u):a.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());Zf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Zf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){ha(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new Xn(bu(this.value))}}function YS(n){const e=[];return ha(n.fields,(t,i)=>{const a=new Sn([t]);if(Zf(i)){const l=YS(i.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)}),new cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,t,i,a,l,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new On(e,0,qe.min(),qe.min(),qe.min(),Xn.empty(),0)}static newFoundDocument(e,t,i,a){return new On(e,1,t,qe.min(),i,a,0)}static newNoDocument(e,t){return new On(e,2,t,qe.min(),qe.min(),Xn.empty(),0)}static newUnknownDocument(e,t){return new On(e,3,t,qe.min(),qe.min(),Xn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,t){this.position=e,this.inclusive=t}}function UE(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],u=n.position[a];if(l.field.isKeyField()?i=Pe.comparator(Pe.fromName(u.referenceValue),t.key):i=Il(u,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function BE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!di(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,t="asc"){this.field=e,this.dir=t}}function J6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{}class rn extends KS{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new tO(e,t,i):t==="array-contains"?new iO(e,i):t==="in"?new sO(e,i):t==="not-in"?new aO(e,i):t==="array-contains-any"?new oO(e,i):new rn(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new nO(e,i):new rO(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Il(t,this.value)):t!==null&&oa(this.value)===oa(t)&&this.matchesComparison(Il(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vr extends KS{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Vr(e,t)}matches(e){return QS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function QS(n){return n.op==="and"}function WS(n){return eO(n)&&QS(n)}function eO(n){for(const e of n.filters)if(e instanceof Vr)return!1;return!0}function py(n){if(n instanceof rn)return n.field.canonicalString()+n.op.toString()+Nl(n.value);if(WS(n))return n.filters.map(e=>py(e)).join(",");{const e=n.filters.map(t=>py(t)).join(",");return`${n.op}(${e})`}}function XS(n,e){return n instanceof rn?function(i,a){return a instanceof rn&&i.op===a.op&&i.field.isEqual(a.field)&&di(i.value,a.value)}(n,e):n instanceof Vr?function(i,a){return a instanceof Vr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,u,f)=>l&&XS(u,a.filters[f]),!0):!1}(n,e):void Fe(19439)}function ZS(n){return n instanceof rn?function(t){return`${t.field.canonicalString()} ${t.op} ${Nl(t.value)}`}(n):n instanceof Vr?function(t){return t.op.toString()+" {"+t.getFilters().map(ZS).join(" ,")+"}"}(n):"Filter"}class tO extends rn{constructor(e,t,i){super(e,t,i),this.key=Pe.fromName(i.referenceValue)}matches(e){const t=Pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class nO extends rn{constructor(e,t){super(e,"in",t),this.keys=JS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class rO extends rn{constructor(e,t){super(e,"not-in",t),this.keys=JS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function JS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Pe.fromName(i.referenceValue))}class iO extends rn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fv(t)&&Du(t.arrayValue,this.value)}}class sO extends rn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Du(this.value.arrayValue,t)}}class aO extends rn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Du(this.value.arrayValue,t)}}class oO extends rn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Du(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,t=null,i=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Ie=null}}function zE(n,e=null,t=[],i=[],a=null,l=null,u=null){return new lO(n,e,t,i,a,l,u)}function hv(n){const e=$e(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>py(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),qh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Nl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Nl(i)).join(",")),e.Ie=t}return e.Ie}function mv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!J6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!XS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!BE(n.startAt,e.startAt)&&BE(n.endAt,e.endAt)}function gy(n){return Pe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,t=null,i=[],a=[],l=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function cO(n,e,t,i,a,l,u,f){return new Yl(n,e,t,i,a,l,u,f)}function Gh(n){return new Yl(n)}function FE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function e1(n){return n.collectionGroup!==null}function xu(n){const e=$e(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new fn(Sn.comparator);return u.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(f=f.add(g.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new ku(l,i))}),t.has(Sn.keyField().canonicalString())||e.Ee.push(new ku(Sn.keyField(),i))}return e.Ee}function oi(n){const e=$e(n);return e.de||(e.de=uO(e,xu(n))),e.de}function uO(n,e){if(n.limitType==="F")return zE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new ku(a.field,l)});const t=n.endAt?new _h(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new _h(n.startAt.position,n.startAt.inclusive):null;return zE(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function yy(n,e){const t=n.filters.concat([e]);return new Yl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function bh(n,e,t){return new Yl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Yh(n,e){return mv(oi(n),oi(e))&&n.limitType===e.limitType}function t1(n){return`${hv(oi(n))}|lt:${n.limitType}`}function cl(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>ZS(a)).join(", ")}]`),qh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Nl(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Nl(a)).join(",")),`Target(${i})`}(oi(n))}; limitType=${n.limitType})`}function Kh(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Pe.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of xu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(u,f,p){const g=UE(u,f,p);return u.inclusive?g<=0:g<0}(i.startAt,xu(i),a)||i.endAt&&!function(u,f,p){const g=UE(u,f,p);return u.inclusive?g>=0:g>0}(i.endAt,xu(i),a))}(n,e)}function dO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function n1(n){return(e,t)=>{let i=!1;for(const a of xu(n)){const l=fO(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function fO(n,e,t){const i=n.field.isKeyField()?Pe.comparator(e.key,t.key):function(l,u,f){const p=u.data.field(l),g=f.data.field(l);return p!==null&&g!==null?Il(p,g):Fe(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Fe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ha(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return US(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=new Bt(Pe.comparator);function ss(){return hO}const r1=new Bt(Pe.comparator);function hu(...n){let e=r1;for(const t of n)e=e.insert(t.key,t);return e}function i1(n){let e=r1;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ja(){return Eu()}function s1(){return Eu()}function Eu(){return new fo(n=>n.toString(),(n,e)=>n.isEqual(e))}const mO=new Bt(Pe.comparator),pO=new fn(Pe.comparator);function nt(...n){let e=pO;for(const t of n)e=e.add(t);return e}const gO=new fn(Xe);function yO(){return gO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function a1(n){return{integerValue:""+n}}function vO(n,e){return $6(e)?a1(e):pv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this._=void 0}}function _O(n,e,t){return n instanceof xh?function(a,l){const u={fields:{[FS]:{stringValue:zS},[qS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&dv(l)&&(l=$h(l)),l&&(u.fields[HS]=l),{mapValue:u}}(t,e):n instanceof Ou?l1(n,e):n instanceof ju?c1(n,e):function(a,l){const u=o1(a,l),f=HE(u)+HE(a.Re);return my(u)&&my(a.Re)?a1(f):pv(a.serializer,f)}(n,e)}function bO(n,e,t){return n instanceof Ou?l1(n,e):n instanceof ju?c1(n,e):t}function o1(n,e){return n instanceof Eh?function(i){return my(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class xh extends Qh{}class Ou extends Qh{constructor(e){super(),this.elements=e}}function l1(n,e){const t=u1(e);for(const i of n.elements)t.some(a=>di(a,i))||t.push(i);return{arrayValue:{values:t}}}class ju extends Qh{constructor(e){super(),this.elements=e}}function c1(n,e){let t=u1(e);for(const i of n.elements)t=t.filter(a=>!di(a,i));return{arrayValue:{values:t}}}class Eh extends Qh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function HE(n){return Xt(n.integerValue||n.doubleValue)}function u1(n){return fv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function xO(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof Ou&&a instanceof Ou||i instanceof ju&&a instanceof ju?Rl(i.elements,a.elements,di):i instanceof Eh&&a instanceof Eh?di(i.Re,a.Re):i instanceof xh&&a instanceof xh}(n.transform,e.transform)}class EO{constructor(e,t){this.version=e,this.transformResults=t}}class qn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Wh{}function d1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Xh(n.key,qn.none()):new Yu(n.key,n.data,qn.none());{const t=n.data,i=Xn.empty();let a=new fn(Sn.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new ma(n.key,i,new cr(a.toArray()),qn.none())}}function wO(n,e,t){n instanceof Yu?function(a,l,u){const f=a.value.clone(),p=$E(a.fieldTransforms,l,u.transformResults);f.setAll(p),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof ma?function(a,l,u){if(!Jf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=$E(a.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(f1(a)),p.setAll(f),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function wu(n,e,t,i){return n instanceof Yu?function(l,u,f,p){if(!Jf(l.precondition,u))return f;const g=l.value.clone(),v=GE(l.fieldTransforms,p,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof ma?function(l,u,f,p){if(!Jf(l.precondition,u))return f;const g=GE(l.fieldTransforms,p,u),v=u.data;return v.setAll(f1(l)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(n,e,t,i):function(l,u,f){return Jf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function TO(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=o1(i.transform,a||null);l!=null&&(t===null&&(t=Xn.empty()),t.set(i.field,l))}return t||null}function qE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Rl(i,a,(l,u)=>xO(l,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Yu extends Wh{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ma extends Wh{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function f1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function $E(n,e,t){const i=new Map;mt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const l=n[a],u=l.transform,f=e.data.field(l.field);i.set(l.field,bO(u,f,t[a]))}return i}function GE(n,e,t){const i=new Map;for(const a of n){const l=a.transform,u=t.data.field(a.field);i.set(a.field,_O(l,u,e))}return i}class Xh extends Wh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SO extends Wh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&wO(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=wu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=wu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=s1();return this.mutations.forEach(a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=t.has(a.key)?null:f;const p=d1(u,f);p!==null&&i.set(a.key,p),u.isValidDocument()||u.convertToNoDocument(qe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),nt())}isEqual(e){return this.batchId===e.batchId&&Rl(this.mutations,e.mutations,(t,i)=>qE(t,i))&&Rl(this.baseMutations,e.baseMutations,(t,i)=>qE(t,i))}}class gv{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){mt(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let a=function(){return mO}();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new gv(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,ot;function IO(n){switch(n){case de.OK:return Fe(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Fe(15467,{code:n})}}function h1(n){if(n===void 0)return is("GRPC error has no .code"),de.UNKNOWN;switch(n){case nn.OK:return de.OK;case nn.CANCELLED:return de.CANCELLED;case nn.UNKNOWN:return de.UNKNOWN;case nn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case nn.INTERNAL:return de.INTERNAL;case nn.UNAVAILABLE:return de.UNAVAILABLE;case nn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case nn.NOT_FOUND:return de.NOT_FOUND;case nn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case nn.ABORTED:return de.ABORTED;case nn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case nn.DATA_LOSS:return de.DATA_LOSS;default:return Fe(39323,{code:n})}}(ot=nn||(nn={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=new ta([4294967295,4294967295],0);function YE(n){const e=PS().encode(n),t=new RS;return t.update(e),new Uint8Array(t.digest())}function KE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ta([t,i],0),new ta([a,l],0)]}class yv{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new mu(`Invalid padding: ${t}`);if(i<0)throw new mu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new mu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new mu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=ta.fromNumber(this.pe)}we(e,t,i){let a=e.add(t.multiply(ta.fromNumber(i)));return a.compare(NO)===1&&(a=new ta([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=YE(e),[i,a]=KE(t);for(let l=0;l<this.hashCount;l++){const u=this.we(i,a,l);if(!this.be(u))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new yv(l,a,t);return i.forEach(f=>u.insert(f)),u}insert(e){if(this.pe===0)return;const t=YE(e),[i,a]=KE(t);for(let l=0;l<this.hashCount;l++){const u=this.we(i,a,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Ku.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Zh(qe.min(),a,new Bt(Xe),ss(),nt())}}class Ku{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ku(i,t,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,t,i,a){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=a}}class m1{constructor(e,t){this.targetId=e,this.Ce=t}}class p1{constructor(e,t,i=Cn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class QE{constructor(){this.Fe=0,this.Me=WE(),this.xe=Cn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=nt(),t=nt(),i=nt();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Fe(38017,{changeType:l})}}),new Ku(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=WE()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,mt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class DO{constructor(e){this.ze=e,this.je=new Map,this.He=ss(),this.Je=jf(),this.Ye=jf(),this.Ze=new Bt(Xe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:Fe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,i=e.Ce.count,a=this._t(t);if(a){const l=a.target;if(gy(l))if(i===0){const u=new Pe(l.path);this.tt(t,u,On.newNoDocument(u,qe.min()))}else mt(i===1,20013,{expectedCount:i});else{const u=this.ut(t);if(u!==i){const f=this.ct(e),p=f?this.lt(f,e,u):1;if(p!==0){this.st(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let u,f;try{u=aa(i).toUint8Array()}catch(p){if(p instanceof BS)return Cl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new yv(u,a,l)}catch(p){return Cl(p instanceof mu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.pe===0?null:f}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const u=this.ze.Pt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.tt(t,l,null),a++)}),a}It(e){const t=new Map;this.je.forEach((l,u)=>{const f=this._t(u);if(f){if(l.current&&gy(f.target)){const p=new Pe(f.target.path);this.Et(p).has(u)||this.dt(u,p)||this.tt(u,p,On.newNoDocument(p,e))}l.Le&&(t.set(u,l.qe()),l.Qe())}});let i=nt();this.Ye.forEach((l,u)=>{let f=!0;u.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.He.forEach((l,u)=>u.setReadTime(e));const a=new Zh(e,t,this.Ze,this.He,i);return this.He=ss(),this.Je=jf(),this.Ye=jf(),this.Ze=new Bt(Xe),a}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new QE,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new fn(Xe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new fn(Xe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Ce("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new QE),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function jf(){return new Bt(Pe.comparator)}function WE(){return new Bt(Pe.comparator)}const kO={asc:"ASCENDING",desc:"DESCENDING"},OO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jO={and:"AND",or:"OR"};class MO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vy(n,e){return n.useProto3Json||qh(e)?e:{value:e}}function wh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function g1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function PO(n,e){return wh(n,e.toTimestamp())}function li(n){return mt(!!n,49232),qe.fromTimestamp(function(t){const i=sa(t);return new At(i.seconds,i.nanos)}(n))}function vv(n,e){return _y(n,e).canonicalString()}function _y(n,e){const t=function(a){return new Rt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function y1(n){const e=Rt.fromString(n);return mt(E1(e),10190,{key:e.toString()}),e}function by(n,e){return vv(n.databaseId,e.path)}function kg(n,e){const t=y1(e);if(t.get(1)!==n.databaseId.projectId)throw new we(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new we(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Pe(_1(t))}function v1(n,e){return vv(n.databaseId,e)}function VO(n){const e=y1(n);return e.length===4?Rt.emptyPath():_1(e)}function xy(n){return new Rt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function _1(n){return mt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function XE(n,e,t){return{name:by(n,e),fields:t.value.mapValue.fields}}function LO(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Fe(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,v){return g.useProto3Json?(mt(v===void 0||typeof v=="string",58123),Cn.fromBase64String(v||"")):(mt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Cn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(g){const v=g.code===void 0?de.UNKNOWN:h1(g.code);return new we(v,g.message||"")}(u);t=new p1(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=kg(n,i.document.name),l=li(i.document.updateTime),u=i.document.createTime?li(i.document.createTime):qe.min(),f=new Xn({mapValue:{fields:i.document.fields}}),p=On.newFoundDocument(a,l,u,f),g=i.targetIds||[],v=i.removedTargetIds||[];t=new eh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=kg(n,i.document),l=i.readTime?li(i.readTime):qe.min(),u=On.newNoDocument(a,l),f=i.removedTargetIds||[];t=new eh([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=kg(n,i.document),l=i.removedTargetIds||[];t=new eh([],l,a,null)}else{if(!("filter"in e))return Fe(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new RO(a,l),f=i.targetId;t=new m1(f,u)}}return t}function UO(n,e){let t;if(e instanceof Yu)t={update:XE(n,e.key,e.value)};else if(e instanceof Xh)t={delete:by(n,e.key)};else if(e instanceof ma)t={update:XE(n,e.key,e.data),updateMask:KO(e.fieldMask)};else{if(!(e instanceof SO))return Fe(16599,{ft:e.type});t={verify:by(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,u){const f=u.transform;if(f instanceof xh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ou)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof ju)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Eh)return{fieldPath:u.field.canonicalString(),increment:f.Re};throw Fe(20930,{transform:u.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:PO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Fe(27497)}(n,e.precondition)),t}function BO(n,e){return n&&n.length>0?(mt(e!==void 0,14353),n.map(t=>function(a,l){let u=a.updateTime?li(a.updateTime):li(l);return u.isEqual(qe.min())&&(u=li(l)),new EO(u,a.transformResults||[])}(t,e))):[]}function zO(n,e){return{documents:[v1(n,e.path)]}}function FO(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=v1(n,a);const l=function(g){if(g.length!==0)return x1(Vr.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(g){if(g.length!==0)return g.map(v=>function(x){return{field:ul(x.field),direction:$O(x.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=vy(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:a}}function HO(n){let e=VO(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){mt(i===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(b){const x=b1(b);return x instanceof Vr&&WS(x)?x.getFilters():[x]}(t.where));let u=[];t.orderBy&&(u=function(b){return b.map(x=>function(R){return new ku(dl(R.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(x))}(t.orderBy));let f=null;t.limit&&(f=function(b){let x;return x=typeof b=="object"?b.value:b,qh(x)?null:x}(t.limit));let p=null;t.startAt&&(p=function(b){const x=!!b.before,A=b.values||[];return new _h(A,x)}(t.startAt));let g=null;return t.endAt&&(g=function(b){const x=!b.before,A=b.values||[];return new _h(A,x)}(t.endAt)),cO(e,a,u,l,f,"F",p,g)}function qO(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function b1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=dl(t.unaryFilter.field);return rn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=dl(t.unaryFilter.field);return rn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=dl(t.unaryFilter.field);return rn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=dl(t.unaryFilter.field);return rn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}}(n):n.fieldFilter!==void 0?function(t){return rn.create(dl(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Vr.create(t.compositeFilter.filters.map(i=>b1(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}}(t.compositeFilter.op))}(n):Fe(30097,{filter:n})}function $O(n){return kO[n]}function GO(n){return OO[n]}function YO(n){return jO[n]}function ul(n){return{fieldPath:n.canonicalString()}}function dl(n){return Sn.fromServerFormat(n.fieldPath)}function x1(n){return n instanceof rn?function(t){if(t.op==="=="){if(LE(t.value))return{unaryFilter:{field:ul(t.field),op:"IS_NAN"}};if(VE(t.value))return{unaryFilter:{field:ul(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(LE(t.value))return{unaryFilter:{field:ul(t.field),op:"IS_NOT_NAN"}};if(VE(t.value))return{unaryFilter:{field:ul(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ul(t.field),op:GO(t.op),value:t.value}}}(n):n instanceof Vr?function(t){const i=t.getFilters().map(a=>x1(a));return i.length===1?i[0]:{compositeFilter:{op:YO(t.op),filters:i}}}(n):Fe(54877,{filter:n})}function KO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function E1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,t,i,a,l=qe.min(),u=qe.min(),f=Cn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.wt=e}}function WO(n){const e=HO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?bh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.Cn=new ZO}addToCollectionParentIndex(e,t){return this.Cn.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(ia.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(ia.min())}updateCollectionGroup(e,t,i){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class ZO{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new fn(Rt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new fn(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},w1=41943040;class Wn{static withCacheSize(e){return new Wn(e,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(w1,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Dl(0)}static lr(){return new Dl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="LruGarbageCollector",JO=1048576;function ew([n,e],[t,i]){const a=Xe(n,t);return a===0?Xe(e,i):a}class ej{constructor(e){this.Er=e,this.buffer=new fn(ew),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();ew(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tj{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Ce(JE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Gl(t)?Ce(JE,"Ignoring IndexedDB error during garbage collection: ",t):await $l(t)}await this.mr(3e5)})}}class nj{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return he.resolve(Hh.le);const i=new ej(t);return this.gr.forEachTarget(e,a=>i.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>i.Rr(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(ZE)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZE):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,a,l,u,f,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,u=Date.now(),this.nthSequenceNumber(e,a))).next(b=>(i=b,f=Date.now(),this.removeTargets(e,i,t))).next(b=>(l=b,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(b=>(g=Date.now(),ll()<=tt.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b})))}}function rj(n,e){return new nj(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(){this.changes=new fo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?he.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&wu(i.mutation,a,cr.empty(),At.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,nt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=nt()){const a=Ja();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let u=hu();return l.forEach((f,p)=>{u=u.insert(f,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Ja();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,nt()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,a){let l=ss();const u=Eu(),f=function(){return Eu()}();return t.forEach((p,g)=>{const v=i.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof ma)?l=l.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),wu(v.mutation,g,v.mutation.getFieldMask(),At.now())):u.set(g.key,cr.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,v)=>u.set(g,v)),t.forEach((g,v)=>{var b;return f.set(g,new sj(v,(b=u.get(g))!==null&&b!==void 0?b:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Eu();let a=new Bt((u,f)=>u-f),l=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let v=i.get(p)||cr.empty();v=f.applyToLocalView(g,v),i.set(p,v);const b=(a.get(f.batchId)||nt()).add(p);a=a.insert(f.batchId,b)})}).next(()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),g=p.key,v=p.value,b=s1();v.forEach(x=>{if(!l.has(x)){const A=d1(t.get(x),i.get(x));A!==null&&b.set(x,A),l=l.add(x)}}),u.push(this.documentOverlayCache.saveOverlays(e,g,b))}return he.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(u){return Pe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):e1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):he.resolve(Ja());let f=Ru,p=l;return u.next(g=>he.forEach(g,(v,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),l.get(v)?he.resolve():this.remoteDocumentCache.getEntry(e,v).next(x=>{p=p.insert(v,x)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,nt())).next(v=>({batchId:f,changes:i1(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pe(t)).next(i=>{let a=hu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let u=hu();return this.indexManager.getCollectionParents(e,l).next(f=>he.forEach(f,p=>{const g=function(b,x){return new Yl(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next(v=>{v.forEach((b,x)=>{u=u.insert(b,x)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(u=>{l.forEach((p,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,On.newInvalidDocument(v)))});let f=hu();return u.forEach((p,g)=>{const v=l.get(p);v!==void 0&&wu(v.mutation,g,cr.empty(),At.now()),Kh(t,g)&&(f=f.insert(p,g))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return he.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:li(a.createTime)}}(t)),he.resolve()}getNamedQuery(e,t){return he.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(a){return{name:a.name,query:WO(a.bundledQuery),readTime:li(a.readTime)}}(t)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(){this.overlays=new Bt(Pe.comparator),this.Qr=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ja();return he.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.St(e,t,l)}),he.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Qr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(i)),he.resolve()}getOverlaysForCollection(e,t,i){const a=Ja(),l=t.length+1,u=new Pe(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return he.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new Bt((g,v)=>g-v);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=Ja(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const f=Ja(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>f.set(g,v)),!(f.size()>=a)););return he.resolve(f)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Qr.get(a.largestBatchId).delete(i.key);this.Qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new CO(t,i));let l=this.Qr.get(t);l===void 0&&(l=nt(),this.Qr.set(t,l)),this.Qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(){this.sessionToken=Cn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(){this.$r=new fn(vn.Ur),this.Kr=new fn(vn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new vn(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new vn(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new Pe(new Rt([])),i=new vn(t,e),a=new vn(t,e+1),l=[];return this.Kr.forEachInRange([i,a],u=>{this.zr(u),l.push(u.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Pe(new Rt([])),i=new vn(t,e),a=new vn(t,e+1);let l=nt();return this.Kr.forEachInRange([i,a],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new vn(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class vn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Pe.comparator(e.key,t.key)||Xe(e.Zr,t.Zr)}static Wr(e,t){return Xe(e.Zr,t.Zr)||Pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new fn(vn.Ur)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new AO(l,t,i,a);this.mutationQueue.push(u);for(const f of a)this.Xr=this.Xr.add(new vn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return he.resolve(u)}lookupMutationBatch(e,t){return he.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ti(i),l=a<0?0:a;return he.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?uv:this.nr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new vn(t,0),a=new vn(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([i,a],u=>{const f=this.ei(u.Zr);l.push(f)}),he.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new fn(Xe);return t.forEach(a=>{const l=new vn(a,0),u=new vn(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,u],f=>{i=i.add(f.Zr)})}),he.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Pe.isDocumentKey(l)||(l=l.child(""));const u=new vn(new Pe(l),0);let f=new fn(Xe);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(f=f.add(p.Zr)),!0)},u),he.resolve(this.ni(f))}ni(e){const t=[];return e.forEach(i=>{const a=this.ei(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){mt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return he.forEach(t.mutations,a=>{const l=new vn(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new vn(t,0),a=this.Xr.firstAfterOrEqual(i);return he.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e){this.ii=e,this.docs=function(){return new Bt(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,u=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return he.resolve(i?i.document.mutableCopy():On.newInvalidDocument(t))}getEntries(e,t){let i=ss();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():On.newInvalidDocument(a))}),he.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=ss();const u=t.path,f=new Pe(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||z6(B6(v),i)<=0||(a.has(v.key)||Kh(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return he.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Fe(9500)}si(e,t){return he.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new fj(this)}getSize(e){return he.resolve(this.size)}}class fj extends ij{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Br.addEntry(e,a)):this.Br.removeEntry(i)}),he.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e){this.persistence=e,this.oi=new fo(t=>hv(t),mv),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this._i=0,this.ai=new _v,this.targetCount=0,this.ui=Dl.cr()}forEachTarget(e,t){return this.oi.forEach((i,a)=>t(a)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),he.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Dl(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.Tr(t),he.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.oi.forEach((u,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.oi.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),he.waitFor(l).next(()=>a)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return he.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),he.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(u=>{l.push(a.markPotentiallyOrphaned(e,u))}),he.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),he.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return he.resolve(i)}containsKey(e,t){return he.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,t){this.ci={},this.overlays={},this.li=new Hh(0),this.hi=!1,this.hi=!0,this.Pi=new cj,this.referenceDelegate=e(this),this.Ti=new hj(this),this.indexManager=new XO,this.remoteDocumentCache=function(a){return new dj(a)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new QO(t),this.Ei=new oj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new uj(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){Ce("MemoryPersistence","Starting transaction:",e);const a=new mj(this.li.next());return this.referenceDelegate.di(),i(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(e,t){return he.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class mj extends H6{constructor(e){super(),this.currentSequenceNumber=e}}class bv{constructor(e){this.persistence=e,this.Vi=new _v,this.mi=null}static fi(e){return new bv(e)}get gi(){if(this.mi)return this.mi;throw Fe(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),he.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),he.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(a=>this.gi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.gi,i=>{const a=Pe.fromPath(i);return this.pi(e,a).next(l=>{l||t.removeEntry(a,qe.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return he.or([()=>he.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Th{constructor(e,t){this.persistence=e,this.yi=new fo(i=>G6(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=rj(this,t)}static fi(e,t){return new Th(e,t)}di(){}Ai(e){return he.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return he.forEach(this.yi,(i,a)=>this.Dr(e,i,a).next(l=>l?he.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(e,u=>this.Dr(e,u,t).next(f=>{f||(i++,l.removeEntry(u,qe.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),he.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),he.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),he.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Xf(e.data.value)),t}Dr(e,t,i){return he.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.yi.get(t);return he.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.ds=i,this.As=a}static Rs(e,t){let i=nt(),a=nt();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new xv(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return QD()?8:q6(Pn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ws(e,t).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.bs(e,t,a,i).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new pj;return this.Ss(e,t,u).next(f=>{if(l.result=f,this.fs)return this.Ds(e,t,u,f.size)})}).next(()=>l.result)}Ds(e,t,i,a){return i.documentReadCount<this.gs?(ll()<=tt.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",cl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),he.resolve()):(ll()<=tt.DEBUG&&Ce("QueryEngine","Query:",cl(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ps*a?(ll()<=tt.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",cl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oi(t))):he.resolve())}ws(e,t){if(FE(t))return he.resolve(null);let i=oi(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=bh(t,null,"F"),i=oi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const u=nt(...l);return this.ys.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const g=this.vs(t,f);return this.Cs(t,g,u,p.readTime)?this.ws(e,bh(t,null,"F")):this.Fs(e,g,t,p)}))})))}bs(e,t,i,a){return FE(t)||a.isEqual(qe.min())?he.resolve(null):this.ys.getDocuments(e,i).next(l=>{const u=this.vs(t,l);return this.Cs(t,u,i,a)?he.resolve(null):(ll()<=tt.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),cl(t)),this.Fs(e,u,t,U6(a,Ru)).next(f=>f))})}vs(e,t){let i=new fn(n1(e));return t.forEach((a,l)=>{Kh(e,l)&&(i=i.add(l))}),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return ll()<=tt.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",cl(t)),this.ys.getDocumentsMatchingQuery(e,t,ia.min(),i)}Fs(e,t,i,a){return this.ys.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="LocalStore",yj=3e8;class vj{constructor(e,t,i,a){this.persistence=e,this.Ms=t,this.serializer=a,this.xs=new Bt(Xe),this.Os=new fo(l=>hv(l),mv),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aj(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function _j(n,e,t,i){return new vj(n,e,t,i)}async function S1(n,e){const t=$e(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const u=[],f=[];let p=nt();for(const g of a){u.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){f.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next(g=>({ks:g,removedBatchIds:u,addedBatchIds:f}))})})}function bj(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(f,p,g,v){const b=g.batch,x=b.keys();let A=he.resolve();return x.forEach(R=>{A=A.next(()=>v.getEntry(p,R)).next(C=>{const D=g.docVersions.get(R);mt(D!==null,48541),C.version.compareTo(D)<0&&(b.applyToRemoteDocument(C,g),C.isValidDocument()&&(C.setReadTime(g.commitVersion),v.addEntry(C)))})}),A.next(()=>f.mutationQueue.removeMutationBatch(p,b))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=nt();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(p=p.add(f.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function A1(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function xj(n,e){const t=$e(n),i=e.snapshotVersion;let a=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.Bs.newChangeBuffer({trackRemovals:!0});a=t.xs;const f=[];e.targetChanges.forEach((v,b)=>{const x=a.get(b);if(!x)return;f.push(t.Ti.removeMatchingKeys(l,v.removedDocuments,b).next(()=>t.Ti.addMatchingKeys(l,v.addedDocuments,b)));let A=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?A=A.withResumeToken(Cn.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,i)),a=a.insert(b,A),function(C,D,M){return C.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=yj?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(x,A,v)&&f.push(t.Ti.updateTargetData(l,A))});let p=ss(),g=nt();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),f.push(Ej(l,u,e.documentUpdates).next(v=>{p=v.qs,g=v.Qs})),!i.isEqual(qe.min())){const v=t.Ti.getLastRemoteSnapshotVersion(l).next(b=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(v)}return he.waitFor(f).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.xs=a,l))}function Ej(n,e,t){let i=nt(),a=nt();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let u=ss();return t.forEach((f,p)=>{const g=l.get(f);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(qe.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):Ce(Ev,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)}),{qs:u,Qs:a}})}function wj(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=uv),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Tj(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Ti.getTargetData(i,e).next(l=>l?(a=l,he.resolve(a)):t.Ti.allocateTargetId(i).next(u=>(a=new Ws(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.xs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function Ey(n,e,t){const i=$e(n),a=i.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,u=>i.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Gl(u))throw u;Ce(Ev,`Failed to update sequence numbers for target ${e}: ${u}`)}i.xs=i.xs.remove(e),i.Os.delete(a.target)}function tw(n,e,t){const i=$e(n);let a=qe.min(),l=nt();return i.persistence.runTransaction("Execute query","readwrite",u=>function(p,g,v){const b=$e(p),x=b.Os.get(v);return x!==void 0?he.resolve(b.xs.get(x)):b.Ti.getTargetData(g,v)}(i,u,oi(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(u,f.targetId).next(p=>{l=p})}).next(()=>i.Ms.getDocumentsMatchingQuery(u,e,t?a:qe.min(),t?l:nt())).next(f=>(Sj(i,dO(e),f),{documents:f,$s:l})))}function Sj(n,e,t){let i=n.Ns.get(e)||qe.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Ns.set(e,i)}class nw{constructor(){this.activeTargetIds=yO()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Aj{constructor(){this.xo=new nw,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new nw,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="ConnectivityMonitor";class iw{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Ce(rw,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Ce(rw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mf=null;function wy(){return Mf===null?Mf=function(){return 268435456+Math.round(2147483648*Math.random())}():Mf++,"0x"+Mf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="RestConnection",Rj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ij{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${a}`,this.Go=this.databaseId.database===yh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}zo(e,t,i,a,l){const u=wy(),f=this.jo(e,t.toUriEncodedString());Ce(Og,`Sending RPC '${e}' ${u}:`,f,i);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,a,l);const{host:g}=new URL(f),v=zl(g);return this.Jo(e,f,p,i,v).then(b=>(Ce(Og,`Received RPC '${e}' ${u}: `,b),b),b=>{throw Cl(Og,`RPC '${e}' ${u} failed with error: `,b,"url: ",f,"request:",i),b})}Yo(e,t,i,a,l,u){return this.zo(e,t,i,a,l)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ql}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}jo(e,t){const i=Rj[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="WebChannelConnection";class Dj extends Ij{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const u=wy();return new Promise((f,p)=>{const g=new IS;g.setWithCredentials(!0),g.listenOnce(NS.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Wf.NO_ERROR:const b=g.getResponseJson();Ce(Dn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),f(b);break;case Wf.TIMEOUT:Ce(Dn,`RPC '${e}' ${u} timed out`),p(new we(de.DEADLINE_EXCEEDED,"Request time out"));break;case Wf.HTTP_ERROR:const x=g.getStatus();if(Ce(Dn,`RPC '${e}' ${u} failed with status:`,x,"response text:",g.getResponseText()),x>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const R=A==null?void 0:A.error;if(R&&R.status&&R.message){const C=function(M){const U=M.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(U)>=0?U:de.UNKNOWN}(R.status);p(new we(C,R.message))}else p(new we(de.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new we(de.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{h_:e,streamId:u,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{Ce(Dn,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(a);Ce(Dn,`RPC '${e}' ${u} sending request:`,a),g.send(t,"POST",v,i,15)})}I_(e,t,i){const a=wy(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=OS(),f=kS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");Ce(Dn,`Creating RPC '${e}' stream ${a}: ${v}`,p);const b=u.createWebChannel(v,p);this.E_(b);let x=!1,A=!1;const R=new Nj({Zo:D=>{A?Ce(Dn,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(x||(Ce(Dn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),x=!0),Ce(Dn,`RPC '${e}' stream ${a} sending:`,D),b.send(D))},Xo:()=>b.close()}),C=(D,M,U)=>{D.listen(M,L=>{try{U(L)}catch(q){setTimeout(()=>{throw q},0)}})};return C(b,fu.EventType.OPEN,()=>{A||(Ce(Dn,`RPC '${e}' stream ${a} transport opened.`),R.__())}),C(b,fu.EventType.CLOSE,()=>{A||(A=!0,Ce(Dn,`RPC '${e}' stream ${a} transport closed`),R.u_(),this.d_(b))}),C(b,fu.EventType.ERROR,D=>{A||(A=!0,Cl(Dn,`RPC '${e}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),R.u_(new we(de.UNAVAILABLE,"The operation could not be completed")))}),C(b,fu.EventType.MESSAGE,D=>{var M;if(!A){const U=D.data[0];mt(!!U,16349);const L=U,q=(L==null?void 0:L.error)||((M=L[0])===null||M===void 0?void 0:M.error);if(q){Ce(Dn,`RPC '${e}' stream ${a} received error:`,q);const $=q.status;let ne=function(j){const V=nn[j];if(V!==void 0)return h1(V)}($),k=q.message;ne===void 0&&(ne=de.INTERNAL,k="Unknown error status: "+$+" with message "+q.message),A=!0,R.u_(new we(ne,k)),b.close()}else Ce(Dn,`RPC '${e}' stream ${a} received:`,U),R.c_(U)}}),C(f,DS.STAT_EVENT,D=>{D.stat===dy.PROXY?Ce(Dn,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===dy.NOPROXY&&Ce(Dn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{R.a_()},0),R}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function jg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(n){return new MO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,t,i=1e3,a=1.5,l=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=a,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),a=Math.max(0,t-i);a>0&&Ce("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="PersistentStream";class R1{constructor(e,t,i,a,l,u,f,p){this.xi=e,this.S_=i,this.D_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new C1(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(is(t.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.v_===t&&this.z_(i,a)},i=>{e(()=>{const a=new we(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(a)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{i(()=>this.j_(a))}),this.stream.onMessage(a=>{i(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Ce(sw,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(Ce(sw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kj extends R1{constructor(e,t,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,u),this.serializer=l}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=LO(this.serializer,e),i=function(l){if(!("targetChange"in l))return qe.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?qe.min():u.readTime?li(u.readTime):qe.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=xy(this.serializer),t.addTarget=function(l,u){let f;const p=u.target;if(f=gy(p)?{documents:zO(l,p)}:{query:FO(l,p).gt},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=g1(l,u.resumeToken);const g=vy(l,u.expectedCount);g!==null&&(f.expectedCount=g)}else if(u.snapshotVersion.compareTo(qe.min())>0){f.readTime=wh(l,u.snapshotVersion.toTimestamp());const g=vy(l,u.expectedCount);g!==null&&(f.expectedCount=g)}return f}(this.serializer,e);const i=qO(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=xy(this.serializer),t.removeTarget=e,this.Q_(t)}}class Oj extends R1{constructor(e,t,i,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,u),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=BO(e.writeResults,e.commitTime),i=li(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=xy(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>UO(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{}class Mj extends jj{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new we(de.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.zo(e,_y(t,i),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new we(de.UNKNOWN,l.toString())})}Yo(e,t,i,a,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Yo(e,_y(t,i),a,u,f,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new we(de.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Pj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(is(t),this.ua=!1):Ce("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="RemoteStore";class Vj{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(u=>{i.enqueueAndForget(async()=>{ho(this)&&(Ce(so,"Restarting streams for network reachability change."),await async function(p){const g=$e(p);g.da.add(4),await Qu(g),g.Va.set("Unknown"),g.da.delete(4),await em(g)}(this))})}),this.Va=new Pj(i,a)}}async function em(n){if(ho(n))for(const e of n.Aa)await e(!0)}async function Qu(n){for(const e of n.Aa)await e(!1)}function I1(n,e){const t=$e(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),Av(t)?Sv(t):Kl(t).N_()&&Tv(t,e))}function wv(n,e){const t=$e(n),i=Kl(t);t.Ea.delete(e),i.N_()&&N1(t,e),t.Ea.size===0&&(i.N_()?i.k_():ho(t)&&t.Va.set("Unknown"))}function Tv(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Kl(n).Z_(e)}function N1(n,e){n.ma.Ke(e),Kl(n).X_(e)}function Sv(n){n.ma=new DO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Kl(n).start(),n.Va.ca()}function Av(n){return ho(n)&&!Kl(n).O_()&&n.Ea.size>0}function ho(n){return $e(n).da.size===0}function D1(n){n.ma=void 0}async function Lj(n){n.Va.set("Online")}async function Uj(n){n.Ea.forEach((e,t)=>{Tv(n,e)})}async function Bj(n,e){D1(n),Av(n)?(n.Va.Pa(e),Sv(n)):n.Va.set("Unknown")}async function zj(n,e,t){if(n.Va.set("Online"),e instanceof p1&&e.state===2&&e.cause)try{await async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ea.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ea.delete(f),a.ma.removeTarget(f))}(n,e)}catch(i){Ce(so,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Sh(n,i)}else if(e instanceof eh?n.ma.Xe(e):e instanceof m1?n.ma.ot(e):n.ma.nt(e),!t.isEqual(qe.min()))try{const i=await A1(n.localStore);t.compareTo(i)>=0&&await function(l,u){const f=l.ma.It(u);return f.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ea.get(g);v&&l.Ea.set(g,v.withResumeToken(p.resumeToken,u))}}),f.targetMismatches.forEach((p,g)=>{const v=l.Ea.get(p);if(!v)return;l.Ea.set(p,v.withResumeToken(Cn.EMPTY_BYTE_STRING,v.snapshotVersion)),N1(l,p);const b=new Ws(v.target,p,g,v.sequenceNumber);Tv(l,b)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){Ce(so,"Failed to raise snapshot:",i),await Sh(n,i)}}async function Sh(n,e,t){if(!Gl(e))throw e;n.da.add(1),await Qu(n),n.Va.set("Offline"),t||(t=()=>A1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ce(so,"Retrying IndexedDB access"),await t(),n.da.delete(1),await em(n)})}function k1(n,e){return e().catch(t=>Sh(n,t,e))}async function tm(n){const e=$e(n),t=la(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:uv;for(;Fj(e);)try{const a=await wj(e.localStore,i);if(a===null){e.Ia.length===0&&t.k_();break}i=a.batchId,Hj(e,a)}catch(a){await Sh(e,a)}O1(e)&&j1(e)}function Fj(n){return ho(n)&&n.Ia.length<10}function Hj(n,e){n.Ia.push(e);const t=la(n);t.N_()&&t.ea&&t.ta(e.mutations)}function O1(n){return ho(n)&&!la(n).O_()&&n.Ia.length>0}function j1(n){la(n).start()}async function qj(n){la(n).ia()}async function $j(n){const e=la(n);for(const t of n.Ia)e.ta(t.mutations)}async function Gj(n,e,t){const i=n.Ia.shift(),a=gv.from(i,e,t);await k1(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await tm(n)}async function Yj(n,e){e&&la(n).ea&&await async function(i,a){if(function(u){return IO(u)&&u!==de.ABORTED}(a.code)){const l=i.Ia.shift();la(i).L_(),await k1(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await tm(i)}}(n,e),O1(n)&&j1(n)}async function aw(n,e){const t=$e(n);t.asyncQueue.verifyOperationInProgress(),Ce(so,"RemoteStore received new credentials");const i=ho(t);t.da.add(3),await Qu(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await em(t)}async function Kj(n,e){const t=$e(n);e?(t.da.delete(2),await em(t)):e||(t.da.add(2),await Qu(t),t.Va.set("Unknown"))}function Kl(n){return n.fa||(n.fa=function(t,i,a){const l=$e(t);return l.oa(),new kj(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:Lj.bind(null,n),n_:Uj.bind(null,n),i_:Bj.bind(null,n),Y_:zj.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),Av(n)?Sv(n):n.Va.set("Unknown")):(await n.fa.stop(),D1(n))})),n.fa}function la(n){return n.ga||(n.ga=function(t,i,a){const l=$e(t);return l.oa(),new Oj(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:qj.bind(null,n),i_:Yj.bind(null,n),na:$j.bind(null,n),ra:Gj.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await tm(n)):(await n.ga.stop(),n.Ia.length>0&&(Ce(so,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const u=Date.now()+i,f=new Cv(e,t,u,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rv(n,e){if(is("AsyncQueue",`${e}: ${n}`),Gl(n))return new we(de.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{static emptySet(e){return new gl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Pe.comparator(t.key,i.key):(t,i)=>Pe.comparator(t.key,i.key),this.keyedMap=hu(),this.sortedSet=new Bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof gl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new gl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.pa=new Bt(Pe.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Fe(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class kl{constructor(e,t,i,a,l,u,f,p,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,a,l){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new kl(e,t,gl.emptySet(t),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class Wj{constructor(){this.queries=lw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=$e(t),l=a.queries;a.queries=lw(),l.forEach((u,f)=>{for(const p of f.Sa)p.onError(i)})})(this,new we(de.ABORTED,"Firestore shutting down"))}}function lw(){return new fo(n=>t1(n),Yh)}async function Iv(n,e){const t=$e(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.Da()&&e.va()&&(i=2):(l=new Qj,i=e.va()?0:1);try{switch(i){case 0:l.ba=await t.onListen(a,!0);break;case 1:l.ba=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const f=Rv(u,`Initialization of query '${cl(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.Sa.push(e),e.Fa(t.onlineState),l.ba&&e.Ma(l.ba)&&Dv(t)}async function Nv(n,e){const t=$e(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.va()?0:1:!l.Da()&&e.va()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Xj(n,e){const t=$e(n);let i=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const f of u.Sa)f.Ma(a)&&(i=!0);u.ba=a}}i&&Dv(t)}function Zj(n,e,t){const i=$e(n),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function Dv(n){n.Ca.forEach(e=>{e.next()})}var Ty,cw;(cw=Ty||(Ty={})).xa="default",cw.Cache="cache";class kv{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new kl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Ty.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this.key=e}}class P1{constructor(e){this.key=e}}class Jj{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=nt(),this.mutatedKeys=nt(),this.Za=n1(e),this.Xa=new gl(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new ow,a=t?t.Xa:this.Xa;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,b)=>{const x=a.get(v),A=Kh(this.query,b)?b:null,R=!!x&&this.mutatedKeys.has(x.key),C=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let D=!1;x&&A?x.data.isEqual(A.data)?R!==C&&(i.track({type:3,doc:A}),D=!0):this.ru(x,A)||(i.track({type:2,doc:A}),D=!0,(p&&this.Za(A,p)>0||g&&this.Za(A,g)<0)&&(f=!0)):!x&&A?(i.track({type:0,doc:A}),D=!0):x&&!A&&(i.track({type:1,doc:x}),D=!0,(p||g)&&(f=!0)),D&&(A?(u=u.add(A),l=C?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{Xa:u,nu:i,Cs:f,mutatedKeys:l}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const u=e.nu.wa();u.sort((v,b)=>function(A,R){const C=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{Vt:D})}};return C(A)-C(R)}(v.type,b.type)||this.Za(v.doc,b.doc)),this.iu(i),a=a!=null&&a;const f=t&&!a?this.su():[],p=this.Ya.size===0&&this.current&&!a?1:0,g=p!==this.Ja;return this.Ja=p,u.length!==0||g?{snapshot:new kl(this.query,e.Xa,l,u,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:f}:{ou:f}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new ow,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=nt(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new P1(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new M1(i))}),t}au(e){this.Ha=e.$s,this.Ya=nt();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return kl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Ov="SyncEngine";class eM{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class tM{constructor(e){this.key=e,this.cu=!1}}class nM{constructor(e,t,i,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new fo(f=>t1(f),Yh),this.Pu=new Map,this.Tu=new Set,this.Iu=new Bt(Pe.comparator),this.Eu=new Map,this.du=new _v,this.Au={},this.Ru=new Map,this.Vu=Dl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function rM(n,e,t=!0){const i=F1(n);let a;const l=i.hu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.uu()):a=await V1(i,e,t,!0),a}async function iM(n,e){const t=F1(n);await V1(t,e,!0,!1)}async function V1(n,e,t,i){const a=await Tj(n.localStore,oi(e)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await sM(n,e,l,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&I1(n.remoteStore,a),f}async function sM(n,e,t,i,a){n.fu=(b,x,A)=>async function(C,D,M,U){let L=D.view.tu(M);L.Cs&&(L=await tw(C.localStore,D.query,!1).then(({documents:k})=>D.view.tu(k,L)));const q=U&&U.targetChanges.get(D.targetId),$=U&&U.targetMismatches.get(D.targetId)!=null,ne=D.view.applyChanges(L,C.isPrimaryClient,q,$);return dw(C,D.targetId,ne.ou),ne.snapshot}(n,b,x,A);const l=await tw(n.localStore,e,!0),u=new Jj(e,l.$s),f=u.tu(l.documents),p=Ku.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),g=u.applyChanges(f,n.isPrimaryClient,p);dw(n,t,g.ou);const v=new eM(e,t,u);return n.hu.set(e,v),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),g.snapshot}async function aM(n,e,t){const i=$e(n),a=i.hu.get(e),l=i.Pu.get(a.targetId);if(l.length>1)return i.Pu.set(a.targetId,l.filter(u=>!Yh(u,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Ey(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&wv(i.remoteStore,a.targetId),Sy(i,a.targetId)}).catch($l)):(Sy(i,a.targetId),await Ey(i.localStore,a.targetId,!0))}async function oM(n,e){const t=$e(n),i=t.hu.get(e),a=t.Pu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),wv(t.remoteStore,i.targetId))}async function lM(n,e,t){const i=pM(n);try{const a=await function(u,f){const p=$e(u),g=At.now(),v=f.reduce((A,R)=>A.add(R.key),nt());let b,x;return p.persistence.runTransaction("Locally write mutations","readwrite",A=>{let R=ss(),C=nt();return p.Bs.getEntries(A,v).next(D=>{R=D,R.forEach((M,U)=>{U.isValidDocument()||(C=C.add(M))})}).next(()=>p.localDocuments.getOverlayedDocuments(A,R)).next(D=>{b=D;const M=[];for(const U of f){const L=TO(U,b.get(U.key).overlayedDocument);L!=null&&M.push(new ma(U.key,L,YS(L.value.mapValue),qn.exists(!0)))}return p.mutationQueue.addMutationBatch(A,g,M,f)}).next(D=>{x=D;const M=D.applyToLocalDocumentSet(b,C);return p.documentOverlayCache.saveOverlays(A,D.batchId,M)})}).then(()=>({batchId:x.batchId,changes:i1(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(u,f,p){let g=u.Au[u.currentUser.toKey()];g||(g=new Bt(Xe)),g=g.insert(f,p),u.Au[u.currentUser.toKey()]=g}(i,a.batchId,t),await Wu(i,a.changes),await tm(i.remoteStore)}catch(a){const l=Rv(a,"Failed to persist write");t.reject(l)}}async function L1(n,e){const t=$e(n);try{const i=await xj(t.localStore,e);e.targetChanges.forEach((a,l)=>{const u=t.Eu.get(l);u&&(mt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.cu=!0:a.modifiedDocuments.size>0?mt(u.cu,14607):a.removedDocuments.size>0&&(mt(u.cu,42227),u.cu=!1))}),await Wu(t,i,e)}catch(i){await $l(i)}}function uw(n,e,t){const i=$e(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.hu.forEach((l,u)=>{const f=u.view.Fa(e);f.snapshot&&a.push(f.snapshot)}),function(u,f){const p=$e(u);p.onlineState=f;let g=!1;p.queries.forEach((v,b)=>{for(const x of b.Sa)x.Fa(f)&&(g=!0)}),g&&Dv(p)}(i.eventManager,e),a.length&&i.lu.Y_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function cM(n,e,t){const i=$e(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Eu.get(e),l=a&&a.key;if(l){let u=new Bt(Pe.comparator);u=u.insert(l,On.newNoDocument(l,qe.min()));const f=nt().add(l),p=new Zh(qe.min(),new Map,new Bt(Xe),u,f);await L1(i,p),i.Iu=i.Iu.remove(l),i.Eu.delete(e),jv(i)}else await Ey(i.localStore,e,!1).then(()=>Sy(i,e,t)).catch($l)}async function uM(n,e){const t=$e(n),i=e.batch.batchId;try{const a=await bj(t.localStore,e);B1(t,i,null),U1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Wu(t,a)}catch(a){await $l(a)}}async function dM(n,e,t){const i=$e(n);try{const a=await function(u,f){const p=$e(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,f).next(b=>(mt(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(i.localStore,e);B1(i,e,t),U1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Wu(i,a)}catch(a){await $l(a)}}function U1(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function B1(n,e,t){const i=$e(n);let a=i.Au[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Au[i.currentUser.toKey()]=a}}function Sy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||z1(n,i)})}function z1(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(wv(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),jv(n))}function dw(n,e,t){for(const i of t)i instanceof M1?(n.du.addReference(i.key,e),fM(n,i)):i instanceof P1?(Ce(Ov,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||z1(n,i.key)):Fe(19791,{pu:i})}function fM(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(Ce(Ov,"New document in limbo: "+t),n.Tu.add(i),jv(n))}function jv(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new Pe(Rt.fromString(e)),i=n.Vu.next();n.Eu.set(i,new tM(t)),n.Iu=n.Iu.insert(t,i),I1(n.remoteStore,new Ws(oi(Gh(t.path)),i,"TargetPurposeLimboResolution",Hh.le))}}async function Wu(n,e,t){const i=$e(n),a=[],l=[],u=[];i.hu.isEmpty()||(i.hu.forEach((f,p)=>{u.push(i.fu(p,e,t).then(g=>{var v;if((g||t)&&i.isPrimaryClient){const b=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){a.push(g);const b=xv.Rs(p.targetId,g);l.push(b)}}))}),await Promise.all(u),i.lu.Y_(a),await async function(p,g){const v=$e(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>he.forEach(g,x=>he.forEach(x.ds,A=>v.persistence.referenceDelegate.addReference(b,x.targetId,A)).next(()=>he.forEach(x.As,A=>v.persistence.referenceDelegate.removeReference(b,x.targetId,A)))))}catch(b){if(!Gl(b))throw b;Ce(Ev,"Failed to update sequence numbers: "+b)}for(const b of g){const x=b.targetId;if(!b.fromCache){const A=v.xs.get(x),R=A.snapshotVersion,C=A.withLastLimboFreeSnapshotVersion(R);v.xs=v.xs.insert(x,C)}}}(i.localStore,l))}async function hM(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){Ce(Ov,"User change. New user:",e.toKey());const i=await S1(t.localStore,e);t.currentUser=e,function(l,u){l.Ru.forEach(f=>{f.forEach(p=>{p.reject(new we(de.CANCELLED,u))})}),l.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Wu(t,i.ks)}}function mM(n,e){const t=$e(n),i=t.Eu.get(e);if(i&&i.cu)return nt().add(i.key);{let a=nt();const l=t.Pu.get(e);if(!l)return a;for(const u of l){const f=t.hu.get(u);a=a.unionWith(f.view.eu)}return a}}function F1(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=L1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cM.bind(null,e),e.lu.Y_=Xj.bind(null,e.eventManager),e.lu.gu=Zj.bind(null,e.eventManager),e}function pM(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dM.bind(null,e),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return _j(this.persistence,new gj,e.initialUser,this.serializer)}Su(e){return new T1(bv.fi,this.serializer)}bu(e){return new Aj}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class gM extends Ah{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){mt(this.persistence.referenceDelegate instanceof Th,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new tj(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?Wn.withCacheSize(this.cacheSizeBytes):Wn.DEFAULT;return new T1(i=>Th.fi(i,t),this.serializer)}}class Ay{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>uw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=hM.bind(null,this.syncEngine),await Kj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Wj}()}createDatastore(e){const t=Jh(e.databaseInfo.databaseId),i=function(l){return new Dj(l)}(e.databaseInfo);return function(l,u,f,p){return new Mj(l,u,f,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,u,f){return new Vj(i,a,l,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>uw(this.syncEngine,t,0),function(){return iw.C()?new iw:new Cj}())}createSyncEngine(e,t){return function(a,l,u,f,p,g,v){const b=new nM(a,l,u,f,p,g);return v&&(b.mu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=$e(a);Ce(so,"RemoteStore shutting down."),l.da.add(5),await Qu(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ay.provider={build:()=>new Ay};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):is("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="FirestoreClient";class yM{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=kn.UNAUTHENTICATED,this.clientId=VS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async u=>{Ce(ca,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(Ce(ca,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Rv(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Mg(n,e){n.asyncQueue.verifyOperationInProgress(),Ce(ca,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await S1(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function fw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await vM(n);Ce(ca,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>aw(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>aw(e.remoteStore,a)),n._onlineComponents=e}async function vM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ce(ca,"Using user provided OfflineComponentProvider");try{await Mg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Cl("Error using user provided cache. Falling back to memory cache: "+t),await Mg(n,new Ah)}}else Ce(ca,"Using default OfflineComponentProvider"),await Mg(n,new gM(void 0));return n._offlineComponents}async function H1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ce(ca,"Using user provided OnlineComponentProvider"),await fw(n,n._uninitializedComponentsProvider._online)):(Ce(ca,"Using default OnlineComponentProvider"),await fw(n,new Ay))),n._onlineComponents}function _M(n){return H1(n).then(e=>e.syncEngine)}async function Ch(n){const e=await H1(n),t=e.eventManager;return t.onListen=rM.bind(null,e.syncEngine),t.onUnlisten=aM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=iM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=oM.bind(null,e.syncEngine),t}function bM(n,e,t={}){const i=new Zi;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,f,p,g){const v=new Mv({next:x=>{v.xu(),u.enqueueAndForget(()=>Nv(l,b));const A=x.docs.has(f);!A&&x.fromCache?g.reject(new we(de.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&x.fromCache&&p&&p.source==="server"?g.reject(new we(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),b=new kv(Gh(f.path),v,{includeMetadataChanges:!0,Qa:!0});return Iv(l,b)}(await Ch(n),n.asyncQueue,e,t,i)),i.promise}function xM(n,e,t={}){const i=new Zi;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,f,p,g){const v=new Mv({next:x=>{v.xu(),u.enqueueAndForget(()=>Nv(l,b)),x.fromCache&&p.source==="server"?g.reject(new we(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),b=new kv(f,v,{includeMetadataChanges:!0,Qa:!0});return Iv(l,b)}(await Ch(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(n,e,t){if(!t)throw new we(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function EM(n,e,t,i){if(e===!0&&i===!0)throw new we(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function mw(n){if(!Pe.isDocumentKey(n))throw new we(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function pw(n){if(Pe.isDocumentKey(n))throw new we(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Fe(12329,{type:typeof n})}function $n(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=nm(n);throw new we(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function wM(n,e){if(e<=0)throw new we(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="firestore.googleapis.com",gw=!0;class yw{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new we(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=G1,this.ssl=gw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:gw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=w1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JO)throw new we(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=q1((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new we(de.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new we(de.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new we(de.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rm{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new N6;switch(i.type){case"firstParty":return new j6(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new we(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=hw.get(t);i&&(Ce("ComponentProvider","Removing Datastore"),hw.delete(t),i.terminate())}(this),Promise.resolve()}}function TM(n,e,t,i={}){var a;n=$n(n,rm);const l=zl(e),u=n._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;l&&(UT(`https://${p}`),BT("Firestore",!0)),u.host!==G1&&u.host!==p&&Cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:p,ssl:l,emulatorOptions:i});if(!eo(g,f)&&(n._setSettings(g),i.mockUserToken)){let v,b;if(typeof i.mockUserToken=="string")v=i.mockUserToken,b=kn.MOCK_USER;else{v=BD(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const x=i.mockUserToken.sub||i.mockUserToken.user_id;if(!x)throw new we(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new kn(x)}n._authCredentials=new D6(new MS(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new fs(this.firestore,e,this._query)}}class Mn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mn(this.firestore,e,this._key)}}class na extends fs{constructor(e,t,i){super(e,t,Gh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mn(this.firestore,null,new Pe(e))}withConverter(e){return new na(this.firestore,e,this._path)}}function It(n,e,...t){if(n=$t(n),$1("collection","path",e),n instanceof rm){const i=Rt.fromString(e,...t);return pw(i),new na(n,null,i)}{if(!(n instanceof Mn||n instanceof na))throw new we(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Rt.fromString(e,...t));return pw(i),new na(n.firestore,null,i)}}function Nt(n,e,...t){if(n=$t(n),arguments.length===1&&(e=VS.newId()),$1("doc","path",e),n instanceof rm){const i=Rt.fromString(e,...t);return mw(i),new Mn(n,null,new Pe(i))}{if(!(n instanceof Mn||n instanceof na))throw new we(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Rt.fromString(e,...t));return mw(i),new Mn(n.firestore,n instanceof na?n.converter:null,new Pe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="AsyncQueue";class _w{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new C1(this,"async_queue_retry"),this.rc=()=>{const i=jg();i&&Ce(vw,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=jg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=jg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Zi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Gl(e))throw e;Ce(vw,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,is("INTERNAL UNHANDLED ERROR: ",bw(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const a=Cv.createAndSchedule(this,e,t,i,l=>this.uc(l));return this.Zu.push(a),a}oc(){this.Xu&&Fe(47125,{cc:bw(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function bw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1}(n,["next","error","complete"])}class fi extends rm{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new _w,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _w(e),this._firestoreClient=void 0,await e}}}function SM(n,e){const t=typeof n=="object"?n:qT(),i=typeof n=="string"?n:yh,a=ev(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=LD("firestore");l&&TM(a,...l)}return a}function Xu(n){if(n._terminated)throw new we(de.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||AM(n),n._firestoreClient}function AM(n){var e,t,i;const a=n._freezeSettings(),l=function(f,p,g,v){return new Q6(f,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,q1(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new yM(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ol(Cn.fromBase64String(e))}catch(t){throw new we(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ol(Cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=/^__.*__$/;class RM{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ma(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yu(e,this.data,t,this.fieldTransforms)}}class Y1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ma(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function K1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{Ic:n})}}class Uv{constructor(e,t,i,a,l,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Uv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Vc(e),a}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Rh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(K1(this.Ic)&&CM.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class IM{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Jh(e)}bc(e,t,i,a=!1){return new Uv({Ic:e,methodName:t,wc:i,path:Sn.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ju(n){const e=n._freezeSettings(),t=Jh(n._databaseId);return new IM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Bv(n,e,t,i,a,l={}){const u=n.bc(l.merge||l.mergeFields?2:0,e,t,a);zv("Data must be an object, but it was:",u,i);const f=X1(i,u);let p,g;if(l.merge)p=new cr(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const x=Cy(e,b,t);if(!u.contains(x))throw new we(de.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);J1(v,x)||v.push(x)}p=new cr(v),g=u.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=u.fieldTransforms;return new RM(new Xn(f),p,g)}class im extends Pv{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof im}}function Q1(n,e,t,i){const a=n.bc(1,e,t);zv("Data must be an object, but it was:",a,i);const l=[],u=Xn.empty();ha(i,(p,g)=>{const v=Fv(e,p,t);g=$t(g);const b=a.mc(v);if(g instanceof im)l.push(v);else{const x=ed(g,b);x!=null&&(l.push(v),u.set(v,x))}});const f=new cr(l);return new Y1(u,f,a.fieldTransforms)}function W1(n,e,t,i,a,l){const u=n.bc(1,e,t),f=[Cy(e,i,t)],p=[a];if(l.length%2!=0)throw new we(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)f.push(Cy(e,l[x])),p.push(l[x+1]);const g=[],v=Xn.empty();for(let x=f.length-1;x>=0;--x)if(!J1(g,f[x])){const A=f[x];let R=p[x];R=$t(R);const C=u.mc(A);if(R instanceof im)g.push(A);else{const D=ed(R,C);D!=null&&(g.push(A),v.set(A,D))}}const b=new cr(g);return new Y1(v,b,u.fieldTransforms)}function NM(n,e,t,i=!1){return ed(t,n.bc(i?4:3,e))}function ed(n,e){if(Z1(n=$t(n)))return zv("Unsupported field value:",e,n),X1(n,e);if(n instanceof Pv)return function(i,a){if(!K1(a.Ic))throw a.gc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,a){const l=[];let u=0;for(const f of i){let p=ed(f,a.fc(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=$t(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return vO(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=At.fromDate(i);return{timestampValue:wh(a.serializer,l)}}if(i instanceof At){const l=new At(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:wh(a.serializer,l)}}if(i instanceof Vv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ol)return{bytesValue:g1(a.serializer,i._byteString)};if(i instanceof Mn){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:vv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Lv)return function(u,f){return{mapValue:{fields:{[$S]:{stringValue:GS},[vh]:{arrayValue:{values:u.toArray().map(g=>{if(typeof g!="number")throw f.gc("VectorValues must only contain numeric values.");return pv(f.serializer,g)})}}}}}}(i,a);throw a.gc(`Unsupported field value: ${nm(i)}`)}(n,e)}function X1(n,e){const t={};return US(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ha(n,(i,a)=>{const l=ed(a,e.Ac(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function Z1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof At||n instanceof Vv||n instanceof Ol||n instanceof Mn||n instanceof Pv||n instanceof Lv)}function zv(n,e,t){if(!Z1(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=nm(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function Cy(n,e,t){if((e=$t(e))instanceof Zu)return e._internalPath;if(typeof e=="string")return Fv(n,e);throw Rh("Field path arguments must be of type string or ",n,!1,void 0,t)}const DM=new RegExp("[~\\*/\\[\\]]");function Fv(n,e,t){if(e.search(DM)>=0)throw Rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Zu(...e.split("."))._internalPath}catch{throw Rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rh(n,e,t,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${i}`),u&&(p+=` in document ${a}`),p+=")"),new we(de.INVALID_ARGUMENT,f+n+p)}function J1(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class kM extends eA{data(){return super.data()}}function sm(n,e){return typeof e=="string"?Fv(n,e):e instanceof Zu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new we(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hv{}class qv extends Hv{}function Zn(n,e,...t){let i=[];e instanceof Hv&&i.push(e),i=i.concat(t),function(l){const u=l.filter(p=>p instanceof $v).length,f=l.filter(p=>p instanceof am).length;if(u>1||u>0&&f>0)throw new we(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class am extends qv{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new am(e,t,i)}_apply(e){const t=this._parse(e);return rA(e._query,t),new fs(e.firestore,e.converter,yy(e._query,t))}_parse(e){const t=Ju(e.firestore);return function(l,u,f,p,g,v,b){let x;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new we(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){ww(b,v);const R=[];for(const C of b)R.push(Ew(p,l,C));x={arrayValue:{values:R}}}else x=Ew(p,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||ww(b,v),x=NM(f,u,b,v==="in"||v==="not-in");return rn.create(g,v,x)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ci(n,e,t){const i=e,a=sm("where",n);return am._create(a,i,t)}class $v extends Hv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new $v(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Vr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let u=a;const f=l.getFlattenedFilters();for(const p of f)rA(u,p),u=yy(u,p)}(e._query,t),new fs(e.firestore,e.converter,yy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gv extends qv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Gv(e,t)}_apply(e){const t=function(a,l,u){if(a.startAt!==null)throw new we(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new we(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ku(l,u)}(e._query,this._field,this._direction);return new fs(e.firestore,e.converter,function(a,l){const u=a.explicitOrderBy.concat([l]);return new Yl(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function as(n,e="asc"){const t=e,i=sm("orderBy",n);return Gv._create(i,t)}class Yv extends qv{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Yv(e,t,i)}_apply(e){return new fs(e.firestore,e.converter,bh(e._query,this._limit,this._limitType))}}function nA(n){return wM("limit",n),Yv._create("limit",n,"F")}function Ew(n,e,t){if(typeof(t=$t(t))=="string"){if(t==="")throw new we(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!e1(e)&&t.indexOf("/")!==-1)throw new we(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Rt.fromString(t));if(!Pe.isDocumentKey(i))throw new we(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return PE(n,new Pe(i))}if(t instanceof Mn)return PE(n,t._key);throw new we(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nm(t)}.`)}function ww(n,e){if(!Array.isArray(n)||n.length===0)throw new we(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rA(n,e){const t=function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new we(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class OM{convertValue(e,t="none"){switch(oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ha(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[vh].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(u=>Xt(u.doubleValue));return new Lv(l)}convertGeoPoint(e){return new Vv(Xt(e.latitude),Xt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=$h(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Iu(e));default:return null}}convertTimestamp(e){const t=sa(e);return new At(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Rt.fromString(e);mt(E1(i),9688,{name:e});const a=new Nu(i.get(1),i.get(3)),l=new Pe(i.popFirst(5));return a.isEqual(t)||is(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class iA extends eA{constructor(e,t,i,a,l,u){super(e,t,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(sm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class th extends iA{data(e={}){return super.data(e)}}class sA{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new pu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new th(this._firestore,this._userDataWriter,i.key,i,new pu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(f=>{const p=new th(a._firestore,a._userDataWriter,f.doc.key,f.doc,new pu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new th(a._firestore,a._userDataWriter,f.doc.key,f.doc,new pu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return f.type!==0&&(g=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:jM(f.type),doc:p,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function jM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(n){n=$n(n,Mn);const e=$n(n.firestore,fi);return bM(Xu(e),n._key).then(t=>aA(e,n,t))}class Qv extends OM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ol(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,t)}}function An(n){n=$n(n,fs);const e=$n(n.firestore,fi),t=Xu(e),i=new Qv(e);return tA(n._query),xM(t,n._query).then(a=>new sA(e,i,n,a))}function MM(n,e,t){n=$n(n,Mn);const i=$n(n.firestore,fi),a=Kv(n.converter,e,t);return nd(i,[Bv(Ju(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,qn.none())])}function jr(n,e,t,...i){n=$n(n,Mn);const a=$n(n.firestore,fi),l=Ju(a);let u;return u=typeof(e=$t(e))=="string"||e instanceof Zu?W1(l,"updateDoc",n._key,e,t,i):Q1(l,"updateDoc",n._key,e),nd(a,[u.toMutation(n._key,qn.exists(!0))])}function td(n){return nd($n(n.firestore,fi),[new Xh(n._key,qn.none())])}function Ji(n,e){const t=$n(n.firestore,fi),i=Nt(n),a=Kv(n.converter,e);return nd(t,[Bv(Ju(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,qn.exists(!1))]).then(()=>i)}function PM(n,...e){var t,i,a;n=$t(n);let l={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||xw(e[u])||(l=e[u],u++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(xw(e[u])){const b=e[u];e[u]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[u+1]=(i=b.error)===null||i===void 0?void 0:i.bind(b),e[u+2]=(a=b.complete)===null||a===void 0?void 0:a.bind(b)}let p,g,v;if(n instanceof Mn)g=$n(n.firestore,fi),v=Gh(n._key.path),p={next:b=>{e[u]&&e[u](aA(g,n,b))},error:e[u+1],complete:e[u+2]};else{const b=$n(n,fs);g=$n(b.firestore,fi),v=b._query;const x=new Qv(g);p={next:A=>{e[u]&&e[u](new sA(g,x,b,A))},error:e[u+1],complete:e[u+2]},tA(n._query)}return function(x,A,R,C){const D=new Mv(C),M=new kv(A,D,R);return x.asyncQueue.enqueueAndForget(async()=>Iv(await Ch(x),M)),()=>{D.xu(),x.asyncQueue.enqueueAndForget(async()=>Nv(await Ch(x),M))}}(Xu(g),v,f,p)}function nd(n,e){return function(i,a){const l=new Zi;return i.asyncQueue.enqueueAndForget(async()=>lM(await _M(i),a,l)),l.promise}(Xu(n),e)}function aA(n,e,t){const i=t.docs.get(e._key),a=new Qv(n);return new iA(n,a,e._key,i,new pu(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ju(e)}set(e,t,i){this._verifyNotCommitted();const a=Pg(e,this._firestore),l=Kv(a.converter,t,i),u=Bv(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,i);return this._mutations.push(u.toMutation(a._key,qn.none())),this}update(e,t,i,...a){this._verifyNotCommitted();const l=Pg(e,this._firestore);let u;return u=typeof(t=$t(t))=="string"||t instanceof Zu?W1(this._dataReader,"WriteBatch.update",l._key,t,i,a):Q1(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(u.toMutation(l._key,qn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Pg(e,this._firestore);return this._mutations=this._mutations.concat(new Xh(t._key,qn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new we(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pg(n,e){if((n=$t(n)).firestore!==e)throw new we(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(n){return Xu(n=$n(n,fi)),new VM(n,e=>nd(n,e))}(function(e,t=!0){(function(a){ql=a})(Fl),Sl(new to("firestore",(i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),f=new fi(new k6(i.getProvider("auth-internal")),new M6(u,i.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new we(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nu(g.options.projectId,v)}(u,a),u);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),ea(TE,SE,e),ea(TE,SE,"esm2017")})();var LM="firebase",UM="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ea(LM,UM,"app");const BM={apiKey:"AIzaSyBWOaRM6RgB2B63wqHfawl7dMBU2uTMPbI",authDomain:"billybilly-8f5a5.firebaseapp.com",projectId:"billybilly-8f5a5",storageBucket:"billybilly-8f5a5.firebasestorage.app",messagingSenderId:"667395219625",appId:"1:667395219625:web:da57f0bb7b1319838349b8"},oA=HT(BM),Pf=R6(oA),Ue=SM(oA),lA=E.createContext();function Ln(){return E.useContext(lA)}function zM({children:n}){const[e,t]=E.useState(null),[i,a]=E.useState(!0);function l(g,v,b){return d4(Pf,g,v).then(async x=>(await yS(x.user,{displayName:b}),await MM(Nt(Ue,"users",x.user.uid),{email:x.user.email,displayName:b,createdAt:new Date,preferences:{currency:"CNY",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}}),await Ji(It(Ue,"ledgers"),{name:"Personal Expenses",ownerId:x.user.uid,createdAt:new Date,members:{[x.user.uid]:"owner"},currency:"CNY"}),x))}function u(g,v){return f4(Pf,g,v)}function f(){return y4(Pf)}E.useEffect(()=>g4(Pf,async v=>{t(v||null),a(!1)}),[]);const p={currentUser:e,signup:l,login:u,logout:f};return m.jsx(lA.Provider,{value:p,children:!i&&n})}const cA=E.createContext();function pi(){return E.useContext(cA)}function FM({children:n}){const{currentUser:e}=Ln(),[t,i]=E.useState([]),[a,l]=E.useState(null),[u,f]=E.useState(!0),p=async()=>{if(!e){i([]),l(null),f(!1);return}try{const C=It(Ue,"ledgers"),D=await An(C),M=[];D.forEach(U=>{const L=U.data();L.members&&L.members[e.uid]&&M.push({id:U.id,...L})}),i(M),M.length>0?l(M[0]):l(null)}catch(C){console.error("Error fetching ledgers:",C)}finally{f(!1)}},g=async()=>{f(!0),await p()},v=async C=>{try{const D=await om(Nt(Ue,"ledgers",C));if(D.exists()){const M={id:D.id,...D.data()};l(M)}}catch(D){console.error("Error switching ledger:",D)}},b=()=>!a||!e?null:a.members[e.uid]||null,x=()=>b()==="owner",A=()=>{const C=b();return C==="owner"||C==="member"};E.useEffect(()=>{p()},[e]),E.useEffect(()=>{if(e&&t.length===0&&!u){const C=setTimeout(()=>{g()},1e3);return()=>clearTimeout(C)}},[e,t.length,u]);const R={ledgers:t,currentLedger:a,loading:u,switchLedger:v,fetchLedgers:p,refreshLedgers:g,getUserRole:b,isOwner:x,canEdit:A};return m.jsx(cA.Provider,{value:R,children:n})}function Hs({children:n}){const{currentUser:e}=Ln();return e?n:m.jsx(Yg,{to:"/login"})}function Pt({className:n,type:e,...t}){return m.jsx("input",{type:e,"data-slot":"input",className:qt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var HM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],vt=HM.reduce((n,e)=>{const t=Su(`Primitive.${e}`),i=E.forwardRef((a,l)=>{const{asChild:u,...f}=a,p=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(p,{...f,ref:l})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function qM(n,e){n&&Uu.flushSync(()=>n.dispatchEvent(e))}var $M="Label",uA=E.forwardRef((n,e)=>m.jsx(vt.label,{...n,ref:e,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||((a=n.onMouseDown)==null||a.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));uA.displayName=$M;var GM=uA;function Ye({className:n,...e}){return m.jsx(GM,{"data-slot":"label",className:qt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}const YM=Ky("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Vt({className:n,variant:e,...t}){return m.jsx("div",{"data-slot":"alert",role:"alert",className:qt(YM({variant:e}),n),...t})}function Lt({className:n,...e}){return m.jsx("div",{"data-slot":"alert-description",className:qt("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}function KM(){const[n,e]=E.useState(""),[t,i]=E.useState(""),[a,l]=E.useState(!1),[u,f]=E.useState(""),[p,g]=E.useState(!1),{login:v}=Ln(),b=Vh();async function x(A){A.preventDefault();try{f(""),g(!0),await v(n,t),b("/")}catch(R){f("Failed to log in: "+R.message)}g(!1)}return m.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-md w-full space-y-8",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"flex justify-center",children:m.jsx(bl,{className:"h-12 w-12 text-blue-600"})}),m.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Sign in to ExpenseTracker"}),m.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",m.jsx(_l,{to:"/signup",className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]}),m.jsxs(dt,{children:[m.jsxs(wt,{children:[m.jsx(Tt,{children:"Welcome back"}),m.jsx(dn,{children:"Enter your credentials to access your account"})]}),m.jsxs(ft,{children:[u&&m.jsx(Vt,{className:"mb-4",variant:"destructive",children:m.jsx(Lt,{children:u})}),m.jsxs("form",{onSubmit:x,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(Ye,{htmlFor:"email",children:"Email address"}),m.jsx(Pt,{id:"email",type:"email",value:n,onChange:A=>e(A.target.value),required:!0,className:"mt-1",placeholder:"Enter your email"})]}),m.jsxs("div",{children:[m.jsx(Ye,{htmlFor:"password",children:"Password"}),m.jsxs("div",{className:"relative mt-1",children:[m.jsx(Pt,{id:"password",type:a?"text":"password",value:t,onChange:A=>i(A.target.value),required:!0,placeholder:"Enter your password"}),m.jsx(Me,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!a),children:a?m.jsx(ey,{className:"h-4 w-4"}):m.jsx(ty,{className:"h-4 w-4"})})]})]}),m.jsx(Me,{type:"submit",className:"w-full",disabled:p,children:p?"Signing in...":"Sign in"})]})]})]})]})})}function QM(){const[n,e]=E.useState(""),[t,i]=E.useState(""),[a,l]=E.useState(""),[u,f]=E.useState(""),[p,g]=E.useState(!1),[v,b]=E.useState(!1),[x,A]=E.useState(""),[R,C]=E.useState(!1),{signup:D}=Ln(),{refreshLedgers:M}=pi(),U=Vh();async function L(q){if(q.preventDefault(),t!==a)return A("Passwords do not match");if(t.length<6)return A("Password must be at least 6 characters");try{A(""),C(!0),await D(n,t,u),setTimeout(async()=>{await M(),U("/")},500)}catch($){A("Failed to create an account: "+$.message),C(!1)}}return m.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-md w-full space-y-8",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"flex justify-center",children:m.jsx(bl,{className:"h-12 w-12 text-blue-600"})}),m.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Create your account"}),m.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",m.jsx(_l,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"sign in to your existing account"})]})]}),m.jsxs(dt,{children:[m.jsxs(wt,{children:[m.jsx(Tt,{children:"Get started"}),m.jsx(dn,{children:"Create your account to start tracking expenses"})]}),m.jsxs(ft,{children:[x&&m.jsx(Vt,{className:"mb-4",variant:"destructive",children:m.jsx(Lt,{children:x})}),m.jsxs("form",{onSubmit:L,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(Ye,{htmlFor:"displayName",children:"Full Name"}),m.jsx(Pt,{id:"displayName",type:"text",value:u,onChange:q=>f(q.target.value),required:!0,className:"mt-1",placeholder:"Enter your full name"})]}),m.jsxs("div",{children:[m.jsx(Ye,{htmlFor:"email",children:"Email address"}),m.jsx(Pt,{id:"email",type:"email",value:n,onChange:q=>e(q.target.value),required:!0,className:"mt-1",placeholder:"Enter your email"})]}),m.jsxs("div",{children:[m.jsx(Ye,{htmlFor:"password",children:"Password"}),m.jsxs("div",{className:"relative mt-1",children:[m.jsx(Pt,{id:"password",type:p?"text":"password",value:t,onChange:q=>i(q.target.value),required:!0,placeholder:"Create a password"}),m.jsx(Me,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>g(!p),children:p?m.jsx(ey,{className:"h-4 w-4"}):m.jsx(ty,{className:"h-4 w-4"})})]})]}),m.jsxs("div",{children:[m.jsx(Ye,{htmlFor:"confirmPassword",children:"Confirm Password"}),m.jsxs("div",{className:"relative mt-1",children:[m.jsx(Pt,{id:"confirmPassword",type:v?"text":"password",value:a,onChange:q=>l(q.target.value),required:!0,placeholder:"Confirm your password"}),m.jsx(Me,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>b(!v),children:v?m.jsx(ey,{className:"h-4 w-4"}):m.jsx(ty,{className:"h-4 w-4"})})]})]}),m.jsx(Me,{type:"submit",className:"w-full",disabled:R,children:R?"Creating account...":"Create account"})]})]})]})]})})}function WM(n){const[e,t]=E.useState(Date.now());return E.useEffect(()=>{if(!n)return;const i=It(Ue,"ledgers",n,"transactions"),a=Zn(i,as("createdAt","desc"),nA(1)),l=PM(a,u=>{u.empty||t(Date.now())});return()=>l()},[n]),e}function XM(){const{currentUser:n}=Ln(),{refreshLedgers:e}=pi(),[t,i]=E.useState([]),[a,l]=E.useState(!1),[u,f]=E.useState(""),[p,g]=E.useState(""),v=async()=>{if(n)try{l(!0);const A=It(Ue,"invitations"),R=Zn(A,ci("inviteeEmail","==",n.email.toLowerCase()),ci("status","==","pending"),as("createdAt","desc")),C=await An(R),D=[];C.forEach(M=>{var q;const U=M.data(),L=(q=U.expiresAt)==null?void 0:q.toDate();(!L||L>new Date)&&D.push({id:M.id,...U})}),i(D)}catch(A){console.error("Error fetching invitations:",A),f("Failed to fetch invitations")}finally{l(!1)}},b=async A=>{try{l(!0),f("");const R=Nt(Ue,"ledgers",A.ledgerId),C=await An(Zn(It(Ue,"ledgers"),ci("__name__","==",A.ledgerId)));if(C.empty)throw new Error("Ledger not found");const M={...C.docs[0].data().members,[n.uid]:A.role};await jr(R,{members:M,updatedAt:new Date}),await jr(Nt(Ue,"invitations",A.id),{status:"accepted",acceptedAt:new Date}),await e(),await v(),g(`Successfully joined "${A.ledgerName}"!`)}catch(R){console.error("Error accepting invitation:",R),f("Failed to accept invitation")}finally{l(!1)}},x=async A=>{try{l(!0),f(""),await jr(Nt(Ue,"invitations",A),{status:"declined",declinedAt:new Date}),await v(),g("Invitation declined")}catch(R){console.error("Error declining invitation:",R),f("Failed to decline invitation")}finally{l(!1)}};return E.useEffect(()=>{v()},[n]),E.useEffect(()=>{if(p||u){const A=setTimeout(()=>{g(""),f("")},3e3);return()=>clearTimeout(A)}},[p,u]),t.length===0&&!a?null:m.jsx("div",{className:"mb-6",children:m.jsxs(dt,{children:[m.jsxs(wt,{children:[m.jsxs(Tt,{className:"flex items-center",children:[m.jsx(CT,{className:"h-5 w-5 mr-2"}),"Pending Invitations (",t.length,")"]}),m.jsx(dn,{children:"You have been invited to join the following ledgers."})]}),m.jsxs(ft,{children:[u&&m.jsx(Vt,{variant:"destructive",className:"mb-4",children:m.jsx(Lt,{children:u})}),p&&m.jsx(Vt,{className:"mb-4",children:m.jsx(Lt,{children:p})}),m.jsx("div",{className:"space-y-4",children:t.map(A=>m.jsx("div",{className:"border rounded-lg p-4",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[m.jsx(oh,{className:"h-5 w-5 text-blue-600"}),m.jsx("h3",{className:"font-semibold text-lg",children:A.ledgerName}),m.jsx(Tr,{variant:"secondary",children:A.role})]}),m.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(DT,{className:"h-4 w-4"}),m.jsxs("span",{children:["Invited by: ",A.inviterName]})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(Jg,{className:"h-4 w-4"}),m.jsxs("span",{children:["Invited: ",new Date(A.createdAt.toDate()).toLocaleDateString()]})]}),A.expiresAt&&m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(Jg,{className:"h-4 w-4"}),m.jsxs("span",{children:["Expires: ",new Date(A.expiresAt.toDate()).toLocaleDateString()]})]})]})]}),m.jsxs("div",{className:"flex space-x-2 ml-4",children:[m.jsxs(Me,{size:"sm",onClick:()=>b(A),disabled:a,className:"bg-green-600 hover:bg-green-700",children:[m.jsx(Wy,{className:"h-4 w-4 mr-1"}),"Accept"]}),m.jsxs(Me,{size:"sm",variant:"destructive",onClick:()=>x(A.id),disabled:a,children:[m.jsx(Tl,{className:"h-4 w-4 mr-1"}),"Decline"]})]})]})},A.id))})]})]})})}const Xs=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9","#F8C471","#82E0AA","#F1948A","#85929E","#D7BDE2","#A9DFBF","#F9E79F","#AED6F1","#F5B7B1","#D5A6BD"],ZM=n=>{if(typeof n!="string")return"?";const e=n.trim();if(e.length===0)return"?";const t=e.charAt(0);return/[\u4e00-\u9fff]/.test(t)?t:t.toUpperCase()},JM=(n,e=null)=>{if(e&&Xs.includes(e))return e;if(!n)return Xs[0];let t=0;for(let a=0;a<n.length;a++){const l=n.charCodeAt(a);t=(t<<5)-t+l,t=t&t}const i=Math.abs(t)%Xs.length;return Xs[i]},eP=n=>{const e=(n==null?void 0:n.displayName)||(n==null?void 0:n.email)||"Unknown",t=ZM(e),i=JM(n==null?void 0:n.uid,n==null?void 0:n.profileColor);return{initial:t,backgroundColor:i,textColor:"#FFFFFF"}},tP=()=>{const n=Math.floor(Math.random()*Xs.length);return Xs[n]},nP=n=>Xs.includes(n);function jl({user:n,size:e="md",className:t="",showTooltip:i=!0}){const a=eP(n),l={xs:"w-6 h-6 text-xs",sm:"w-8 h-8 text-sm",md:"w-10 h-10 text-base",lg:"w-12 h-12 text-lg",xl:"w-16 h-16 text-xl","2xl":"w-20 h-20 text-2xl"},u=l[e]||l.md,f=(n==null?void 0:n.displayName)||(n==null?void 0:n.email)||"Unknown User";return m.jsx("div",{className:`
        ${u}
        rounded-full
        flex
        items-center
        justify-center
        font-semibold
        select-none
        flex-shrink-0
        ${t}
      `,style:{backgroundColor:a.backgroundColor,color:a.textColor},title:i?f:void 0,children:a.initial})}function Xa({user:n,size:e="md",className:t="",nameClassName:i="",showEmail:a=!1}){var f;const l=(n==null?void 0:n.displayName)||((f=n==null?void 0:n.email)==null?void 0:f.split("@")[0])||"Unknown User",u=n==null?void 0:n.email;return m.jsxs("div",{className:`flex items-center space-x-2 ${t}`,children:[m.jsx(jl,{user:n,size:e,showTooltip:!1}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:`font-medium ${i}`,children:l}),a&&u&&m.jsx("span",{className:"text-xs text-gray-500",children:u})]})]})}function rP({users:n=[],size:e="sm",maxDisplay:t=3,className:i=""}){const a=n.slice(0,t),l=n.length-t;return m.jsx("div",{className:`flex items-center ${i}`,children:m.jsxs("div",{className:"flex -space-x-1",children:[a.map((u,f)=>m.jsx("div",{className:"ring-2 ring-white",style:{zIndex:a.length-f},children:m.jsx(jl,{user:u,size:e})},(u==null?void 0:u.uid)||f)),l>0&&m.jsxs("div",{className:`
              ${e==="xs"?"w-6 h-6 text-xs":e==="sm"?"w-8 h-8 text-xs":"w-10 h-10 text-sm"}
              rounded-full
              bg-gray-300
              text-gray-600
              flex
              items-center
              justify-center
              font-medium
              ring-2
              ring-white
            `,children:["+",l]})]})})}const iP={CNY:"",USD:"$",EUR:"",GBP:"",JPY:""};function dA(n){return iP[n]||"$"}function nh(n,e="USD"){return`${dA(e)}${n.toFixed(2)}`}function sP(n,e="USD",t=!1){const i=dA(e);return`${t?"+":"-"}${i}${Math.abs(n).toFixed(2)}`}function aP(){var v;const{currentUser:n}=Ln(),{currentLedger:e}=pi(),t=WM(e==null?void 0:e.id),[i,a]=E.useState({totalBalance:0,monthlySpending:0,budgetRemaining:0,recentTransactions:[],memberStats:{},loading:!0}),l=async()=>{if(!e){a(b=>({...b,loading:!1}));return}try{const b=new Date,x=new Date(b.getFullYear(),b.getMonth(),1),A=new Date(b.getFullYear(),b.getMonth()+1,0),R=It(Ue,"ledgers",e.id,"transactions"),C=Zn(R,as("date","desc"),nA(5)),D=await An(C),M=[];D.forEach(B=>{var Y;const P=B.data();M.push({id:B.id,...P,date:((Y=P.date)==null?void 0:Y.toDate())||new Date})});const U=Zn(R,as("date","desc")),L=await An(U);let q=0,$=0;const ne={};e.members&&Object.keys(e.members).forEach(B=>{ne[B]={monthlyIncome:0,monthlySpending:0,totalIncome:0,totalSpending:0}}),L.forEach(B=>{var K;const P=B.data(),Y=((K=P.date)==null?void 0:K.toDate())||new Date,se=P.amount||0,H=P.userId||P.paidBy||(n==null?void 0:n.uid),ee=Y>=x&&Y<=A;H&&!ne[H]&&(ne[H]={monthlyIncome:0,monthlySpending:0,totalIncome:0,totalSpending:0}),P.type==="income"?(q+=se,H&&ne[H]&&(ne[H].totalIncome+=se,ee&&(ne[H].monthlyIncome+=se))):(q-=se,H&&ne[H]&&(ne[H].totalSpending+=se,ee&&(ne[H].monthlySpending+=se,$+=se)))});const k=It(Ue,"ledgers",e.id,"budgets"),S=Zn(k,ci("startDate","<=",At.fromDate(b)),ci("endDate",">=",At.fromDate(b))),j=await An(S);let V=0;j.forEach(B=>{const P=B.data();V+=P.totalAmount||0});const I=V-$;a({totalBalance:q,monthlySpending:$,budgetRemaining:I,recentTransactions:M,memberStats:ne,loading:!1})}catch(b){console.error("Error calculating dashboard stats:",b),a(x=>({...x,loading:!1}))}};E.useEffect(()=>{l()},[e,t]);const u=b=>nh(b,e==null?void 0:e.currency),f=b=>{const A=Math.abs(new Date-b),R=Math.ceil(A/(1e3*60*60*24));return R===1?"Today":R===2?"Yesterday":R<=7?`${R-1} days ago`:b.toLocaleDateString()},p=b=>b===(n==null?void 0:n.uid)?{uid:b,displayName:n.displayName||n.email,email:n.email}:{uid:b,displayName:`User ${b.slice(0,8)}`,email:`${b.slice(0,8)}@example.com`},g=()=>!i.memberStats||!(e!=null&&e.members)?[]:Object.keys(e.members).map(b=>({...p(b),stats:i.memberStats[b]||{monthlyIncome:0,monthlySpending:0,totalIncome:0,totalSpending:0}}));return i.loading?m.jsx("div",{className:"p-6",children:m.jsxs("div",{className:"animate-pulse space-y-6",children:[m.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(b=>m.jsx("div",{className:"h-32 bg-gray-200 rounded"},b))}),m.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsx(XM,{}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),m.jsxs(Tr,{variant:"secondary",className:"text-sm",children:["Welcome back, ",(n==null?void 0:n.displayName)||((v=n==null?void 0:n.email)==null?void 0:v.split("@")[0])||"User","!"]})]}),e&&m.jsxs("div",{className:"text-sm text-gray-600",children:["Current Ledger: ",m.jsx("span",{className:"font-medium",children:e.name})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsxs(dt,{children:[m.jsxs(wt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[m.jsx(Tt,{className:"text-sm font-medium",children:"Total Balance"}),m.jsx(bl,{className:"h-4 w-4 text-muted-foreground"})]}),m.jsxs(ft,{children:[m.jsx("div",{className:`text-2xl font-bold ${i.totalBalance>=0?"text-green-600":"text-red-600"}`,children:u(i.totalBalance)}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"All time balance"})]})]}),m.jsxs(dt,{children:[m.jsxs(wt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[m.jsx(Tt,{className:"text-sm font-medium",children:"Monthly Spending"}),m.jsx(TD,{className:"h-4 w-4 text-muted-foreground"})]}),m.jsxs(ft,{children:[m.jsx("div",{className:"text-2xl font-bold text-red-600",children:u(i.monthlySpending)}),m.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"This month's expenses"}),g().length>1&&m.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[m.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Member Breakdown:"}),g().map(b=>m.jsxs("div",{className:"flex items-center justify-between text-xs",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(jl,{user:b,size:"xs"}),m.jsx("span",{className:"text-gray-600",children:b.displayName===(n==null?void 0:n.displayName)?"You":b.displayName})]}),m.jsxs("div",{className:"flex space-x-3 text-right",children:[m.jsxs("span",{className:"text-green-600",children:["+",u(b.stats.monthlyIncome)]}),m.jsxs("span",{className:"text-red-600",children:["-",u(b.stats.monthlySpending)]})]})]},b.uid))]})]})]}),m.jsxs(dt,{children:[m.jsxs(wt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[m.jsx(Tt,{className:"text-sm font-medium",children:"Budget Remaining"}),m.jsx(BN,{className:"h-4 w-4 text-muted-foreground"})]}),m.jsxs(ft,{children:[m.jsx("div",{className:`text-2xl font-bold ${i.budgetRemaining>=0?"text-green-600":"text-red-600"}`,children:u(i.budgetRemaining)}),m.jsx("p",{className:"text-xs text-muted-foreground",children:i.budgetRemaining>=0?"Remaining this month":"Over budget"})]})]})]}),m.jsxs(dt,{children:[m.jsxs(wt,{children:[m.jsx(Tt,{children:"Recent Transactions"}),m.jsx(dn,{children:"Your latest financial activity"})]}),m.jsx(ft,{children:i.recentTransactions.length===0?m.jsxs("div",{className:"text-center py-8 text-gray-500",children:[m.jsx(bl,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),m.jsx("p",{children:"No transactions yet"}),m.jsx("p",{className:"text-sm",children:"Add your first transaction to get started"})]}):m.jsx("div",{className:"space-y-4",children:i.recentTransactions.map(b=>m.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[m.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[m.jsx(jl,{user:{uid:b.userId||(n==null?void 0:n.uid),displayName:b.userName||(n==null?void 0:n.displayName),email:b.userEmail||(n==null?void 0:n.email)},size:"sm"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"font-medium text-gray-900",children:b.description}),m.jsxs("p",{className:"text-sm text-gray-500",children:[b.paymentMethod,"  ",f(b.date)]})]})]}),m.jsxs("div",{className:`font-semibold ${b.type==="income"?"text-green-600":"text-red-600"}`,children:[b.type==="income"?"+":"-",u(b.amount)]})]},b.id))})})]})]})}function Tw(n,[e,t]){return Math.min(t,Math.max(e,n))}function Mt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(a){if(n==null||n(a),t===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function Ql(n,e=[]){let t=[];function i(l,u){const f=E.createContext(u),p=t.length;t=[...t,u];const g=b=>{var M;const{scope:x,children:A,...R}=b,C=((M=x==null?void 0:x[n])==null?void 0:M[p])||f,D=E.useMemo(()=>R,Object.values(R));return m.jsx(C.Provider,{value:D,children:A})};g.displayName=l+"Provider";function v(b,x){var C;const A=((C=x==null?void 0:x[n])==null?void 0:C[p])||f,R=E.useContext(A);if(R)return R;if(u!==void 0)return u;throw new Error(`\`${b}\` must be used within \`${l}\``)}return[g,v]}const a=()=>{const l=t.map(u=>E.createContext(u));return function(f){const p=(f==null?void 0:f[n])||l;return E.useMemo(()=>({[`__scope${n}`]:{...f,[n]:p}}),[f,p])}};return a.scopeName=n,[i,oP(a,...e)]}function oP(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const u=i.reduce((f,{useScope:p,scopeName:g})=>{const b=p(l)[`__scope${g}`];return{...f,...b}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function lP(n){const e=n+"CollectionProvider",[t,i]=Ql(e),[a,l]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=C=>{const{scope:D,children:M}=C,U=qs.useRef(null),L=qs.useRef(new Map).current;return m.jsx(a,{scope:D,itemMap:L,collectionRef:U,children:M})};u.displayName=e;const f=n+"CollectionSlot",p=Su(f),g=qs.forwardRef((C,D)=>{const{scope:M,children:U}=C,L=l(f,M),q=Ut(D,L.collectionRef);return m.jsx(p,{ref:q,children:U})});g.displayName=f;const v=n+"CollectionItemSlot",b="data-radix-collection-item",x=Su(v),A=qs.forwardRef((C,D)=>{const{scope:M,children:U,...L}=C,q=qs.useRef(null),$=Ut(D,q),ne=l(v,M);return qs.useEffect(()=>(ne.itemMap.set(q,{ref:q,...L}),()=>void ne.itemMap.delete(q))),m.jsx(x,{[b]:"",ref:$,children:U})});A.displayName=v;function R(C){const D=l(n+"CollectionConsumer",C);return qs.useCallback(()=>{const U=D.collectionRef.current;if(!U)return[];const L=Array.from(U.querySelectorAll(`[${b}]`));return Array.from(D.itemMap.values()).sort((ne,k)=>L.indexOf(ne.ref.current)-L.indexOf(k.ref.current))},[D.collectionRef,D.itemMap])}return[{Provider:u,Slot:g,ItemSlot:A},R,i]}var cP=E.createContext(void 0);function uP(n){const e=E.useContext(cP);return n||e||"ltr"}function ao(n){const e=E.useRef(n);return E.useEffect(()=>{e.current=n}),E.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function dP(n,e=globalThis==null?void 0:globalThis.document){const t=ao(n);E.useEffect(()=>{const i=a=>{a.key==="Escape"&&t(a)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var fP="DismissableLayer",Iy="dismissableLayer.update",hP="dismissableLayer.pointerDownOutside",mP="dismissableLayer.focusOutside",Sw,fA=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hA=E.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:u,onDismiss:f,...p}=n,g=E.useContext(fA),[v,b]=E.useState(null),x=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,A]=E.useState({}),R=Ut(e,k=>b(k)),C=Array.from(g.layers),[D]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),M=C.indexOf(D),U=v?C.indexOf(v):-1,L=g.layersWithOutsidePointerEventsDisabled.size>0,q=U>=M,$=yP(k=>{const S=k.target,j=[...g.branches].some(V=>V.contains(S));!q||j||(a==null||a(k),u==null||u(k),k.defaultPrevented||f==null||f())},x),ne=vP(k=>{const S=k.target;[...g.branches].some(V=>V.contains(S))||(l==null||l(k),u==null||u(k),k.defaultPrevented||f==null||f())},x);return dP(k=>{U===g.layers.size-1&&(i==null||i(k),!k.defaultPrevented&&f&&(k.preventDefault(),f()))},x),E.useEffect(()=>{if(v)return t&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(Sw=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(v)),g.layers.add(v),Aw(),()=>{t&&g.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Sw)}},[v,x,t,g]),E.useEffect(()=>()=>{v&&(g.layers.delete(v),g.layersWithOutsidePointerEventsDisabled.delete(v),Aw())},[v,g]),E.useEffect(()=>{const k=()=>A({});return document.addEventListener(Iy,k),()=>document.removeEventListener(Iy,k)},[]),m.jsx(vt.div,{...p,ref:R,style:{pointerEvents:L?q?"auto":"none":void 0,...n.style},onFocusCapture:Mt(n.onFocusCapture,ne.onFocusCapture),onBlurCapture:Mt(n.onBlurCapture,ne.onBlurCapture),onPointerDownCapture:Mt(n.onPointerDownCapture,$.onPointerDownCapture)})});hA.displayName=fP;var pP="DismissableLayerBranch",gP=E.forwardRef((n,e)=>{const t=E.useContext(fA),i=E.useRef(null),a=Ut(e,i);return E.useEffect(()=>{const l=i.current;if(l)return t.branches.add(l),()=>{t.branches.delete(l)}},[t.branches]),m.jsx(vt.div,{...n,ref:a})});gP.displayName=pP;function yP(n,e=globalThis==null?void 0:globalThis.document){const t=ao(n),i=E.useRef(!1),a=E.useRef(()=>{});return E.useEffect(()=>{const l=f=>{if(f.target&&!i.current){let p=function(){mA(hP,t,g,{discrete:!0})};const g={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=p,e.addEventListener("click",a.current,{once:!0})):p()}else e.removeEventListener("click",a.current);i.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",a.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function vP(n,e=globalThis==null?void 0:globalThis.document){const t=ao(n),i=E.useRef(!1);return E.useEffect(()=>{const a=l=>{l.target&&!i.current&&mA(mP,t,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Aw(){const n=new CustomEvent(Iy);document.dispatchEvent(n)}function mA(n,e,t,{discrete:i}){const a=t.originalEvent.target,l=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&a.addEventListener(n,e,{once:!0}),i?qM(a,l):a.dispatchEvent(l)}var Vg=0;function _P(){E.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??Cw()),document.body.insertAdjacentElement("beforeend",n[1]??Cw()),Vg++,()=>{Vg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Vg--}},[])}function Cw(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Lg="focusScope.autoFocusOnMount",Ug="focusScope.autoFocusOnUnmount",Rw={bubbles:!1,cancelable:!0},bP="FocusScope",pA=E.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...u}=n,[f,p]=E.useState(null),g=ao(a),v=ao(l),b=E.useRef(null),x=Ut(e,C=>p(C)),A=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(i){let C=function(L){if(A.paused||!f)return;const q=L.target;f.contains(q)?b.current=q:$s(b.current,{select:!0})},D=function(L){if(A.paused||!f)return;const q=L.relatedTarget;q!==null&&(f.contains(q)||$s(b.current,{select:!0}))},M=function(L){if(document.activeElement===document.body)for(const $ of L)$.removedNodes.length>0&&$s(f)};document.addEventListener("focusin",C),document.addEventListener("focusout",D);const U=new MutationObserver(M);return f&&U.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",D),U.disconnect()}}},[i,f,A.paused]),E.useEffect(()=>{if(f){Nw.add(A);const C=document.activeElement;if(!f.contains(C)){const M=new CustomEvent(Lg,Rw);f.addEventListener(Lg,g),f.dispatchEvent(M),M.defaultPrevented||(xP(AP(gA(f)),{select:!0}),document.activeElement===C&&$s(f))}return()=>{f.removeEventListener(Lg,g),setTimeout(()=>{const M=new CustomEvent(Ug,Rw);f.addEventListener(Ug,v),f.dispatchEvent(M),M.defaultPrevented||$s(C??document.body,{select:!0}),f.removeEventListener(Ug,v),Nw.remove(A)},0)}}},[f,g,v,A]);const R=E.useCallback(C=>{if(!t&&!i||A.paused)return;const D=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,M=document.activeElement;if(D&&M){const U=C.currentTarget,[L,q]=EP(U);L&&q?!C.shiftKey&&M===q?(C.preventDefault(),t&&$s(L,{select:!0})):C.shiftKey&&M===L&&(C.preventDefault(),t&&$s(q,{select:!0})):M===U&&C.preventDefault()}},[t,i,A.paused]);return m.jsx(vt.div,{tabIndex:-1,...u,ref:x,onKeyDown:R})});pA.displayName=bP;function xP(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if($s(i,{select:e}),document.activeElement!==t)return}function EP(n){const e=gA(n),t=Iw(e,n),i=Iw(e.reverse(),n);return[t,i]}function gA(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const a=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||a?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Iw(n,e){for(const t of n)if(!wP(t,{upTo:e}))return t}function wP(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function TP(n){return n instanceof HTMLInputElement&&"select"in n}function $s(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&TP(n)&&e&&n.select()}}var Nw=SP();function SP(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=Dw(n,e),n.unshift(e)},remove(e){var t;n=Dw(n,e),(t=n[0])==null||t.resume()}}}function Dw(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function AP(n){return n.filter(e=>e.tagName!=="A")}var Vn=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},CP=Kw[" useId ".trim().toString()]||(()=>{}),RP=0;function Wv(n){const[e,t]=E.useState(CP());return Vn(()=>{t(i=>i??String(RP++))},[n]),n||(e?`radix-${e}`:"")}const IP=["top","right","bottom","left"],ua=Math.min,lr=Math.max,Ih=Math.round,Vf=Math.floor,ui=n=>({x:n,y:n}),NP={left:"right",right:"left",bottom:"top",top:"bottom"},DP={start:"end",end:"start"};function Ny(n,e,t){return lr(n,ua(e,t))}function os(n,e){return typeof n=="function"?n(e):n}function ls(n){return n.split("-")[0]}function Wl(n){return n.split("-")[1]}function Xv(n){return n==="x"?"y":"x"}function Zv(n){return n==="y"?"height":"width"}function es(n){return["top","bottom"].includes(ls(n))?"y":"x"}function Jv(n){return Xv(es(n))}function kP(n,e,t){t===void 0&&(t=!1);const i=Wl(n),a=Jv(n),l=Zv(a);let u=a==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=Nh(u)),[u,Nh(u)]}function OP(n){const e=Nh(n);return[Dy(n),e,Dy(e)]}function Dy(n){return n.replace(/start|end/g,e=>DP[e])}function jP(n,e,t){const i=["left","right"],a=["right","left"],l=["top","bottom"],u=["bottom","top"];switch(n){case"top":case"bottom":return t?e?a:i:e?i:a;case"left":case"right":return e?l:u;default:return[]}}function MP(n,e,t,i){const a=Wl(n);let l=jP(ls(n),t==="start",i);return a&&(l=l.map(u=>u+"-"+a),e&&(l=l.concat(l.map(Dy)))),l}function Nh(n){return n.replace(/left|right|bottom|top/g,e=>NP[e])}function PP(n){return{top:0,right:0,bottom:0,left:0,...n}}function yA(n){return typeof n!="number"?PP(n):{top:n,right:n,bottom:n,left:n}}function Dh(n){const{x:e,y:t,width:i,height:a}=n;return{width:i,height:a,top:t,left:e,right:e+i,bottom:t+a,x:e,y:t}}function kw(n,e,t){let{reference:i,floating:a}=n;const l=es(e),u=Jv(e),f=Zv(u),p=ls(e),g=l==="y",v=i.x+i.width/2-a.width/2,b=i.y+i.height/2-a.height/2,x=i[f]/2-a[f]/2;let A;switch(p){case"top":A={x:v,y:i.y-a.height};break;case"bottom":A={x:v,y:i.y+i.height};break;case"right":A={x:i.x+i.width,y:b};break;case"left":A={x:i.x-a.width,y:b};break;default:A={x:i.x,y:i.y}}switch(Wl(e)){case"start":A[u]-=x*(t&&g?-1:1);break;case"end":A[u]+=x*(t&&g?-1:1);break}return A}const VP=async(n,e,t)=>{const{placement:i="bottom",strategy:a="absolute",middleware:l=[],platform:u}=t,f=l.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(e));let g=await u.getElementRects({reference:n,floating:e,strategy:a}),{x:v,y:b}=kw(g,i,p),x=i,A={},R=0;for(let C=0;C<f.length;C++){const{name:D,fn:M}=f[C],{x:U,y:L,data:q,reset:$}=await M({x:v,y:b,initialPlacement:i,placement:x,strategy:a,middlewareData:A,rects:g,platform:u,elements:{reference:n,floating:e}});v=U??v,b=L??b,A={...A,[D]:{...A[D],...q}},$&&R<=50&&(R++,typeof $=="object"&&($.placement&&(x=$.placement),$.rects&&(g=$.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:a}):$.rects),{x:v,y:b}=kw(g,x,p)),C=-1)}return{x:v,y:b,placement:x,strategy:a,middlewareData:A}};async function Mu(n,e){var t;e===void 0&&(e={});const{x:i,y:a,platform:l,rects:u,elements:f,strategy:p}=n,{boundary:g="clippingAncestors",rootBoundary:v="viewport",elementContext:b="floating",altBoundary:x=!1,padding:A=0}=os(e,n),R=yA(A),D=f[x?b==="floating"?"reference":"floating":b],M=Dh(await l.getClippingRect({element:(t=await(l.isElement==null?void 0:l.isElement(D)))==null||t?D:D.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:g,rootBoundary:v,strategy:p})),U=b==="floating"?{x:i,y:a,width:u.floating.width,height:u.floating.height}:u.reference,L=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),q=await(l.isElement==null?void 0:l.isElement(L))?await(l.getScale==null?void 0:l.getScale(L))||{x:1,y:1}:{x:1,y:1},$=Dh(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:U,offsetParent:L,strategy:p}):U);return{top:(M.top-$.top+R.top)/q.y,bottom:($.bottom-M.bottom+R.bottom)/q.y,left:(M.left-$.left+R.left)/q.x,right:($.right-M.right+R.right)/q.x}}const LP=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:a,rects:l,platform:u,elements:f,middlewareData:p}=e,{element:g,padding:v=0}=os(n,e)||{};if(g==null)return{};const b=yA(v),x={x:t,y:i},A=Jv(a),R=Zv(A),C=await u.getDimensions(g),D=A==="y",M=D?"top":"left",U=D?"bottom":"right",L=D?"clientHeight":"clientWidth",q=l.reference[R]+l.reference[A]-x[A]-l.floating[R],$=x[A]-l.reference[A],ne=await(u.getOffsetParent==null?void 0:u.getOffsetParent(g));let k=ne?ne[L]:0;(!k||!await(u.isElement==null?void 0:u.isElement(ne)))&&(k=f.floating[L]||l.floating[R]);const S=q/2-$/2,j=k/2-C[R]/2-1,V=ua(b[M],j),I=ua(b[U],j),B=V,P=k-C[R]-I,Y=k/2-C[R]/2+S,se=Ny(B,Y,P),H=!p.arrow&&Wl(a)!=null&&Y!==se&&l.reference[R]/2-(Y<B?V:I)-C[R]/2<0,ee=H?Y<B?Y-B:Y-P:0;return{[A]:x[A]+ee,data:{[A]:se,centerOffset:Y-se-ee,...H&&{alignmentOffset:ee}},reset:H}}}),UP=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:a,middlewareData:l,rects:u,initialPlacement:f,platform:p,elements:g}=e,{mainAxis:v=!0,crossAxis:b=!0,fallbackPlacements:x,fallbackStrategy:A="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:C=!0,...D}=os(n,e);if((t=l.arrow)!=null&&t.alignmentOffset)return{};const M=ls(a),U=es(f),L=ls(f)===f,q=await(p.isRTL==null?void 0:p.isRTL(g.floating)),$=x||(L||!C?[Nh(f)]:OP(f)),ne=R!=="none";!x&&ne&&$.push(...MP(f,C,R,q));const k=[f,...$],S=await Mu(e,D),j=[];let V=((i=l.flip)==null?void 0:i.overflows)||[];if(v&&j.push(S[M]),b){const se=kP(a,u,q);j.push(S[se[0]],S[se[1]])}if(V=[...V,{placement:a,overflows:j}],!j.every(se=>se<=0)){var I,B;const se=(((I=l.flip)==null?void 0:I.index)||0)+1,H=k[se];if(H){var P;const K=b==="alignment"?U!==es(H):!1,ve=((P=V[0])==null?void 0:P.overflows[0])>0;if(!K||ve)return{data:{index:se,overflows:V},reset:{placement:H}}}let ee=(B=V.filter(K=>K.overflows[0]<=0).sort((K,ve)=>K.overflows[1]-ve.overflows[1])[0])==null?void 0:B.placement;if(!ee)switch(A){case"bestFit":{var Y;const K=(Y=V.filter(ve=>{if(ne){const z=es(ve.placement);return z===U||z==="y"}return!0}).map(ve=>[ve.placement,ve.overflows.filter(z=>z>0).reduce((z,ae)=>z+ae,0)]).sort((ve,z)=>ve[1]-z[1])[0])==null?void 0:Y[0];K&&(ee=K);break}case"initialPlacement":ee=f;break}if(a!==ee)return{reset:{placement:ee}}}return{}}}};function Ow(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function jw(n){return IP.some(e=>n[e]>=0)}const BP=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...a}=os(n,e);switch(i){case"referenceHidden":{const l=await Mu(e,{...a,elementContext:"reference"}),u=Ow(l,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:jw(u)}}}case"escaped":{const l=await Mu(e,{...a,altBoundary:!0}),u=Ow(l,t.floating);return{data:{escapedOffsets:u,escaped:jw(u)}}}default:return{}}}}};async function zP(n,e){const{placement:t,platform:i,elements:a}=n,l=await(i.isRTL==null?void 0:i.isRTL(a.floating)),u=ls(t),f=Wl(t),p=es(t)==="y",g=["left","top"].includes(u)?-1:1,v=l&&p?-1:1,b=os(e,n);let{mainAxis:x,crossAxis:A,alignmentAxis:R}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return f&&typeof R=="number"&&(A=f==="end"?R*-1:R),p?{x:A*v,y:x*g}:{x:x*g,y:A*v}}const FP=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:a,y:l,placement:u,middlewareData:f}=e,p=await zP(e,n);return u===((t=f.offset)==null?void 0:t.placement)&&(i=f.arrow)!=null&&i.alignmentOffset?{}:{x:a+p.x,y:l+p.y,data:{...p,placement:u}}}}},HP=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:a}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:f={fn:D=>{let{x:M,y:U}=D;return{x:M,y:U}}},...p}=os(n,e),g={x:t,y:i},v=await Mu(e,p),b=es(ls(a)),x=Xv(b);let A=g[x],R=g[b];if(l){const D=x==="y"?"top":"left",M=x==="y"?"bottom":"right",U=A+v[D],L=A-v[M];A=Ny(U,A,L)}if(u){const D=b==="y"?"top":"left",M=b==="y"?"bottom":"right",U=R+v[D],L=R-v[M];R=Ny(U,R,L)}const C=f.fn({...e,[x]:A,[b]:R});return{...C,data:{x:C.x-t,y:C.y-i,enabled:{[x]:l,[b]:u}}}}}},qP=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:a,rects:l,middlewareData:u}=e,{offset:f=0,mainAxis:p=!0,crossAxis:g=!0}=os(n,e),v={x:t,y:i},b=es(a),x=Xv(b);let A=v[x],R=v[b];const C=os(f,e),D=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(p){const L=x==="y"?"height":"width",q=l.reference[x]-l.floating[L]+D.mainAxis,$=l.reference[x]+l.reference[L]-D.mainAxis;A<q?A=q:A>$&&(A=$)}if(g){var M,U;const L=x==="y"?"width":"height",q=["top","left"].includes(ls(a)),$=l.reference[b]-l.floating[L]+(q&&((M=u.offset)==null?void 0:M[b])||0)+(q?0:D.crossAxis),ne=l.reference[b]+l.reference[L]+(q?0:((U=u.offset)==null?void 0:U[b])||0)-(q?D.crossAxis:0);R<$?R=$:R>ne&&(R=ne)}return{[x]:A,[b]:R}}}},$P=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:a,rects:l,platform:u,elements:f}=e,{apply:p=()=>{},...g}=os(n,e),v=await Mu(e,g),b=ls(a),x=Wl(a),A=es(a)==="y",{width:R,height:C}=l.floating;let D,M;b==="top"||b==="bottom"?(D=b,M=x===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(M=b,D=x==="end"?"top":"bottom");const U=C-v.top-v.bottom,L=R-v.left-v.right,q=ua(C-v[D],U),$=ua(R-v[M],L),ne=!e.middlewareData.shift;let k=q,S=$;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(S=L),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(k=U),ne&&!x){const V=lr(v.left,0),I=lr(v.right,0),B=lr(v.top,0),P=lr(v.bottom,0);A?S=R-2*(V!==0||I!==0?V+I:lr(v.left,v.right)):k=C-2*(B!==0||P!==0?B+P:lr(v.top,v.bottom))}await p({...e,availableWidth:S,availableHeight:k});const j=await u.getDimensions(f.floating);return R!==j.width||C!==j.height?{reset:{rects:!0}}:{}}}};function lm(){return typeof window<"u"}function Xl(n){return vA(n)?(n.nodeName||"").toLowerCase():"#document"}function ur(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function gi(n){var e;return(e=(vA(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function vA(n){return lm()?n instanceof Node||n instanceof ur(n).Node:!1}function Lr(n){return lm()?n instanceof Element||n instanceof ur(n).Element:!1}function hi(n){return lm()?n instanceof HTMLElement||n instanceof ur(n).HTMLElement:!1}function Mw(n){return!lm()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ur(n).ShadowRoot}function rd(n){const{overflow:e,overflowX:t,overflowY:i,display:a}=Ur(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(a)}function GP(n){return["table","td","th"].includes(Xl(n))}function cm(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function e0(n){const e=t0(),t=Lr(n)?Ur(n):n;return["transform","translate","scale","rotate","perspective"].some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function YP(n){let e=da(n);for(;hi(e)&&!Ml(e);){if(e0(e))return e;if(cm(e))return null;e=da(e)}return null}function t0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ml(n){return["html","body","#document"].includes(Xl(n))}function Ur(n){return ur(n).getComputedStyle(n)}function um(n){return Lr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function da(n){if(Xl(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Mw(n)&&n.host||gi(n);return Mw(e)?e.host:e}function _A(n){const e=da(n);return Ml(e)?n.ownerDocument?n.ownerDocument.body:n.body:hi(e)&&rd(e)?e:_A(e)}function Pu(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=_A(n),l=a===((i=n.ownerDocument)==null?void 0:i.body),u=ur(a);if(l){const f=ky(u);return e.concat(u,u.visualViewport||[],rd(a)?a:[],f&&t?Pu(f):[])}return e.concat(a,Pu(a,[],t))}function ky(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function bA(n){const e=Ur(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const a=hi(n),l=a?n.offsetWidth:t,u=a?n.offsetHeight:i,f=Ih(t)!==l||Ih(i)!==u;return f&&(t=l,i=u),{width:t,height:i,$:f}}function n0(n){return Lr(n)?n:n.contextElement}function yl(n){const e=n0(n);if(!hi(e))return ui(1);const t=e.getBoundingClientRect(),{width:i,height:a,$:l}=bA(e);let u=(l?Ih(t.width):t.width)/i,f=(l?Ih(t.height):t.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const KP=ui(0);function xA(n){const e=ur(n);return!t0()||!e.visualViewport?KP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function QP(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==ur(n)?!1:e}function oo(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),l=n0(n);let u=ui(1);e&&(i?Lr(i)&&(u=yl(i)):u=yl(n));const f=QP(l,t,i)?xA(l):ui(0);let p=(a.left+f.x)/u.x,g=(a.top+f.y)/u.y,v=a.width/u.x,b=a.height/u.y;if(l){const x=ur(l),A=i&&Lr(i)?ur(i):i;let R=x,C=ky(R);for(;C&&i&&A!==R;){const D=yl(C),M=C.getBoundingClientRect(),U=Ur(C),L=M.left+(C.clientLeft+parseFloat(U.paddingLeft))*D.x,q=M.top+(C.clientTop+parseFloat(U.paddingTop))*D.y;p*=D.x,g*=D.y,v*=D.x,b*=D.y,p+=L,g+=q,R=ur(C),C=ky(R)}}return Dh({width:v,height:b,x:p,y:g})}function r0(n,e){const t=um(n).scrollLeft;return e?e.left+t:oo(gi(n)).left+t}function EA(n,e,t){t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=i.left+e.scrollLeft-(t?0:r0(n,i)),l=i.top+e.scrollTop;return{x:a,y:l}}function WP(n){let{elements:e,rect:t,offsetParent:i,strategy:a}=n;const l=a==="fixed",u=gi(i),f=e?cm(e.floating):!1;if(i===u||f&&l)return t;let p={scrollLeft:0,scrollTop:0},g=ui(1);const v=ui(0),b=hi(i);if((b||!b&&!l)&&((Xl(i)!=="body"||rd(u))&&(p=um(i)),hi(i))){const A=oo(i);g=yl(i),v.x=A.x+i.clientLeft,v.y=A.y+i.clientTop}const x=u&&!b&&!l?EA(u,p,!0):ui(0);return{width:t.width*g.x,height:t.height*g.y,x:t.x*g.x-p.scrollLeft*g.x+v.x+x.x,y:t.y*g.y-p.scrollTop*g.y+v.y+x.y}}function XP(n){return Array.from(n.getClientRects())}function ZP(n){const e=gi(n),t=um(n),i=n.ownerDocument.body,a=lr(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),l=lr(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let u=-t.scrollLeft+r0(n);const f=-t.scrollTop;return Ur(i).direction==="rtl"&&(u+=lr(e.clientWidth,i.clientWidth)-a),{width:a,height:l,x:u,y:f}}function JP(n,e){const t=ur(n),i=gi(n),a=t.visualViewport;let l=i.clientWidth,u=i.clientHeight,f=0,p=0;if(a){l=a.width,u=a.height;const g=t0();(!g||g&&e==="fixed")&&(f=a.offsetLeft,p=a.offsetTop)}return{width:l,height:u,x:f,y:p}}function e8(n,e){const t=oo(n,!0,e==="fixed"),i=t.top+n.clientTop,a=t.left+n.clientLeft,l=hi(n)?yl(n):ui(1),u=n.clientWidth*l.x,f=n.clientHeight*l.y,p=a*l.x,g=i*l.y;return{width:u,height:f,x:p,y:g}}function Pw(n,e,t){let i;if(e==="viewport")i=JP(n,t);else if(e==="document")i=ZP(gi(n));else if(Lr(e))i=e8(e,t);else{const a=xA(n);i={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Dh(i)}function wA(n,e){const t=da(n);return t===e||!Lr(t)||Ml(t)?!1:Ur(t).position==="fixed"||wA(t,e)}function t8(n,e){const t=e.get(n);if(t)return t;let i=Pu(n,[],!1).filter(f=>Lr(f)&&Xl(f)!=="body"),a=null;const l=Ur(n).position==="fixed";let u=l?da(n):n;for(;Lr(u)&&!Ml(u);){const f=Ur(u),p=e0(u);!p&&f.position==="fixed"&&(a=null),(l?!p&&!a:!p&&f.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||rd(u)&&!p&&wA(n,u))?i=i.filter(v=>v!==u):a=f,u=da(u)}return e.set(n,i),i}function n8(n){let{element:e,boundary:t,rootBoundary:i,strategy:a}=n;const u=[...t==="clippingAncestors"?cm(e)?[]:t8(e,this._c):[].concat(t),i],f=u[0],p=u.reduce((g,v)=>{const b=Pw(e,v,a);return g.top=lr(b.top,g.top),g.right=ua(b.right,g.right),g.bottom=ua(b.bottom,g.bottom),g.left=lr(b.left,g.left),g},Pw(e,f,a));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function r8(n){const{width:e,height:t}=bA(n);return{width:e,height:t}}function i8(n,e,t){const i=hi(e),a=gi(e),l=t==="fixed",u=oo(n,!0,l,e);let f={scrollLeft:0,scrollTop:0};const p=ui(0);function g(){p.x=r0(a)}if(i||!i&&!l)if((Xl(e)!=="body"||rd(a))&&(f=um(e)),i){const A=oo(e,!0,l,e);p.x=A.x+e.clientLeft,p.y=A.y+e.clientTop}else a&&g();l&&!i&&a&&g();const v=a&&!i&&!l?EA(a,f):ui(0),b=u.left+f.scrollLeft-p.x-v.x,x=u.top+f.scrollTop-p.y-v.y;return{x:b,y:x,width:u.width,height:u.height}}function Bg(n){return Ur(n).position==="static"}function Vw(n,e){if(!hi(n)||Ur(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return gi(n)===t&&(t=t.ownerDocument.body),t}function TA(n,e){const t=ur(n);if(cm(n))return t;if(!hi(n)){let a=da(n);for(;a&&!Ml(a);){if(Lr(a)&&!Bg(a))return a;a=da(a)}return t}let i=Vw(n,e);for(;i&&GP(i)&&Bg(i);)i=Vw(i,e);return i&&Ml(i)&&Bg(i)&&!e0(i)?t:i||YP(n)||t}const s8=async function(n){const e=this.getOffsetParent||TA,t=this.getDimensions,i=await t(n.floating);return{reference:i8(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function a8(n){return Ur(n).direction==="rtl"}const o8={convertOffsetParentRelativeRectToViewportRelativeRect:WP,getDocumentElement:gi,getClippingRect:n8,getOffsetParent:TA,getElementRects:s8,getClientRects:XP,getDimensions:r8,getScale:yl,isElement:Lr,isRTL:a8};function SA(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function l8(n,e){let t=null,i;const a=gi(n);function l(){var f;clearTimeout(i),(f=t)==null||f.disconnect(),t=null}function u(f,p){f===void 0&&(f=!1),p===void 0&&(p=1),l();const g=n.getBoundingClientRect(),{left:v,top:b,width:x,height:A}=g;if(f||e(),!x||!A)return;const R=Vf(b),C=Vf(a.clientWidth-(v+x)),D=Vf(a.clientHeight-(b+A)),M=Vf(v),L={rootMargin:-R+"px "+-C+"px "+-D+"px "+-M+"px",threshold:lr(0,ua(1,p))||1};let q=!0;function $(ne){const k=ne[0].intersectionRatio;if(k!==p){if(!q)return u();k?u(!1,k):i=setTimeout(()=>{u(!1,1e-7)},1e3)}k===1&&!SA(g,n.getBoundingClientRect())&&u(),q=!1}try{t=new IntersectionObserver($,{...L,root:a.ownerDocument})}catch{t=new IntersectionObserver($,L)}t.observe(n)}return u(!0),l}function c8(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:p=!1}=i,g=n0(n),v=a||l?[...g?Pu(g):[],...Pu(e)]:[];v.forEach(M=>{a&&M.addEventListener("scroll",t,{passive:!0}),l&&M.addEventListener("resize",t)});const b=g&&f?l8(g,t):null;let x=-1,A=null;u&&(A=new ResizeObserver(M=>{let[U]=M;U&&U.target===g&&A&&(A.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var L;(L=A)==null||L.observe(e)})),t()}),g&&!p&&A.observe(g),A.observe(e));let R,C=p?oo(n):null;p&&D();function D(){const M=oo(n);C&&!SA(C,M)&&t(),C=M,R=requestAnimationFrame(D)}return t(),()=>{var M;v.forEach(U=>{a&&U.removeEventListener("scroll",t),l&&U.removeEventListener("resize",t)}),b==null||b(),(M=A)==null||M.disconnect(),A=null,p&&cancelAnimationFrame(R)}}const u8=FP,d8=HP,f8=UP,h8=$P,m8=BP,Lw=LP,p8=qP,g8=(n,e,t)=>{const i=new Map,a={platform:o8,...t},l={...a.platform,_c:i};return VP(n,e,{...a,platform:l})};var rh=typeof document<"u"?E.useLayoutEffect:E.useEffect;function kh(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!kh(n[i],e[i]))return!1;return!0}if(a=Object.keys(n),t=a.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,a[i]))return!1;for(i=t;i--!==0;){const l=a[i];if(!(l==="_owner"&&n.$$typeof)&&!kh(n[l],e[l]))return!1}return!0}return n!==n&&e!==e}function AA(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Uw(n,e){const t=AA(n);return Math.round(e*t)/t}function zg(n){const e=E.useRef(n);return rh(()=>{e.current=n}),e}function y8(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:a,elements:{reference:l,floating:u}={},transform:f=!0,whileElementsMounted:p,open:g}=n,[v,b]=E.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[x,A]=E.useState(i);kh(x,i)||A(i);const[R,C]=E.useState(null),[D,M]=E.useState(null),U=E.useCallback(K=>{K!==ne.current&&(ne.current=K,C(K))},[]),L=E.useCallback(K=>{K!==k.current&&(k.current=K,M(K))},[]),q=l||R,$=u||D,ne=E.useRef(null),k=E.useRef(null),S=E.useRef(v),j=p!=null,V=zg(p),I=zg(a),B=zg(g),P=E.useCallback(()=>{if(!ne.current||!k.current)return;const K={placement:e,strategy:t,middleware:x};I.current&&(K.platform=I.current),g8(ne.current,k.current,K).then(ve=>{const z={...ve,isPositioned:B.current!==!1};Y.current&&!kh(S.current,z)&&(S.current=z,Uu.flushSync(()=>{b(z)}))})},[x,e,t,I,B]);rh(()=>{g===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,b(K=>({...K,isPositioned:!1})))},[g]);const Y=E.useRef(!1);rh(()=>(Y.current=!0,()=>{Y.current=!1}),[]),rh(()=>{if(q&&(ne.current=q),$&&(k.current=$),q&&$){if(V.current)return V.current(q,$,P);P()}},[q,$,P,V,j]);const se=E.useMemo(()=>({reference:ne,floating:k,setReference:U,setFloating:L}),[U,L]),H=E.useMemo(()=>({reference:q,floating:$}),[q,$]),ee=E.useMemo(()=>{const K={position:t,left:0,top:0};if(!H.floating)return K;const ve=Uw(H.floating,v.x),z=Uw(H.floating,v.y);return f?{...K,transform:"translate("+ve+"px, "+z+"px)",...AA(H.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ve,top:z}},[t,f,H.floating,v.x,v.y]);return E.useMemo(()=>({...v,update:P,refs:se,elements:H,floatingStyles:ee}),[v,P,se,H,ee])}const v8=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:a}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?Lw({element:i.current,padding:a}).fn(t):{}:i?Lw({element:i,padding:a}).fn(t):{}}}},_8=(n,e)=>({...u8(n),options:[n,e]}),b8=(n,e)=>({...d8(n),options:[n,e]}),x8=(n,e)=>({...p8(n),options:[n,e]}),E8=(n,e)=>({...f8(n),options:[n,e]}),w8=(n,e)=>({...h8(n),options:[n,e]}),T8=(n,e)=>({...m8(n),options:[n,e]}),S8=(n,e)=>({...v8(n),options:[n,e]});var A8="Arrow",CA=E.forwardRef((n,e)=>{const{children:t,width:i=10,height:a=5,...l}=n;return m.jsx(vt.svg,{...l,ref:e,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});CA.displayName=A8;var C8=CA;function i0(n){const[e,t]=E.useState(void 0);return Vn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let u,f;if("borderBoxSize"in l){const p=l.borderBoxSize,g=Array.isArray(p)?p[0]:p;u=g.inlineSize,f=g.blockSize}else u=n.offsetWidth,f=n.offsetHeight;t({width:u,height:f})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var s0="Popper",[RA,IA]=Ql(s0),[R8,NA]=RA(s0),DA=n=>{const{__scopePopper:e,children:t}=n,[i,a]=E.useState(null);return m.jsx(R8,{scope:e,anchor:i,onAnchorChange:a,children:t})};DA.displayName=s0;var kA="PopperAnchor",OA=E.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...a}=n,l=NA(kA,t),u=E.useRef(null),f=Ut(e,u);return E.useEffect(()=>{l.onAnchorChange((i==null?void 0:i.current)||u.current)}),i?null:m.jsx(vt.div,{...a,ref:f})});OA.displayName=kA;var a0="PopperContent",[I8,N8]=RA(a0),jA=E.forwardRef((n,e)=>{var ce,xe,Te,Re,Se,je;const{__scopePopper:t,side:i="bottom",sideOffset:a=0,align:l="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:p=!0,collisionBoundary:g=[],collisionPadding:v=0,sticky:b="partial",hideWhenDetached:x=!1,updatePositionStrategy:A="optimized",onPlaced:R,...C}=n,D=NA(a0,t),[M,U]=E.useState(null),L=Ut(e,X=>U(X)),[q,$]=E.useState(null),ne=i0(q),k=(ne==null?void 0:ne.width)??0,S=(ne==null?void 0:ne.height)??0,j=i+(l!=="center"?"-"+l:""),V=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},I=Array.isArray(g)?g:[g],B=I.length>0,P={padding:V,boundary:I.filter(k8),altBoundary:B},{refs:Y,floatingStyles:se,placement:H,isPositioned:ee,middlewareData:K}=y8({strategy:"fixed",placement:j,whileElementsMounted:(...X)=>c8(...X,{animationFrame:A==="always"}),elements:{reference:D.anchor},middleware:[_8({mainAxis:a+S,alignmentAxis:u}),p&&b8({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?x8():void 0,...P}),p&&E8({...P}),w8({...P,apply:({elements:X,rects:ye,availableWidth:Ee,availableHeight:Ae})=>{const{width:ke,height:lt}=ye.reference,Ve=X.floating.style;Ve.setProperty("--radix-popper-available-width",`${Ee}px`),Ve.setProperty("--radix-popper-available-height",`${Ae}px`),Ve.setProperty("--radix-popper-anchor-width",`${ke}px`),Ve.setProperty("--radix-popper-anchor-height",`${lt}px`)}}),q&&S8({element:q,padding:f}),O8({arrowWidth:k,arrowHeight:S}),x&&T8({strategy:"referenceHidden",...P})]}),[ve,z]=VA(H),ae=ao(R);Vn(()=>{ee&&(ae==null||ae())},[ee,ae]);const me=(ce=K.arrow)==null?void 0:ce.x,oe=(xe=K.arrow)==null?void 0:xe.y,be=((Te=K.arrow)==null?void 0:Te.centerOffset)!==0,[pe,ge]=E.useState();return Vn(()=>{M&&ge(window.getComputedStyle(M).zIndex)},[M]),m.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:ee?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pe,"--radix-popper-transform-origin":[(Re=K.transformOrigin)==null?void 0:Re.x,(Se=K.transformOrigin)==null?void 0:Se.y].join(" "),...((je=K.hide)==null?void 0:je.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:m.jsx(I8,{scope:t,placedSide:ve,onArrowChange:$,arrowX:me,arrowY:oe,shouldHideArrow:be,children:m.jsx(vt.div,{"data-side":ve,"data-align":z,...C,ref:L,style:{...C.style,animation:ee?void 0:"none"}})})})});jA.displayName=a0;var MA="PopperArrow",D8={top:"bottom",right:"left",bottom:"top",left:"right"},PA=E.forwardRef(function(e,t){const{__scopePopper:i,...a}=e,l=N8(MA,i),u=D8[l.placedSide];return m.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:m.jsx(C8,{...a,ref:t,style:{...a.style,display:"block"}})})});PA.displayName=MA;function k8(n){return n!==null}var O8=n=>({name:"transformOrigin",options:n,fn(e){var D,M,U;const{placement:t,rects:i,middlewareData:a}=e,u=((D=a.arrow)==null?void 0:D.centerOffset)!==0,f=u?0:n.arrowWidth,p=u?0:n.arrowHeight,[g,v]=VA(t),b={start:"0%",center:"50%",end:"100%"}[v],x=(((M=a.arrow)==null?void 0:M.x)??0)+f/2,A=(((U=a.arrow)==null?void 0:U.y)??0)+p/2;let R="",C="";return g==="bottom"?(R=u?b:`${x}px`,C=`${-p}px`):g==="top"?(R=u?b:`${x}px`,C=`${i.floating.height+p}px`):g==="right"?(R=`${-p}px`,C=u?b:`${A}px`):g==="left"&&(R=`${i.floating.width+p}px`,C=u?b:`${A}px`),{data:{x:R,y:C}}}});function VA(n){const[e,t="center"]=n.split("-");return[e,t]}var j8=DA,M8=OA,P8=jA,V8=PA,L8="Portal",LA=E.forwardRef((n,e)=>{var f;const{container:t,...i}=n,[a,l]=E.useState(!1);Vn(()=>l(!0),[]);const u=t||a&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return u?HI.createPortal(m.jsx(vt.div,{...i,ref:e}),u):null});LA.displayName=L8;var U8=Kw[" useInsertionEffect ".trim().toString()]||Vn;function Oh({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[a,l,u]=B8({defaultProp:e,onChange:t}),f=n!==void 0,p=f?n:a;{const v=E.useRef(n!==void 0);E.useEffect(()=>{const b=v.current;b!==f&&console.warn(`${i} is changing from ${b?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=f},[f,i])}const g=E.useCallback(v=>{var b;if(f){const x=z8(v)?v(n):v;x!==n&&((b=u.current)==null||b.call(u,x))}else l(v)},[f,n,l,u]);return[p,g]}function B8({defaultProp:n,onChange:e}){const[t,i]=E.useState(n),a=E.useRef(t),l=E.useRef(e);return U8(()=>{l.current=e},[e]),E.useEffect(()=>{var u;a.current!==t&&((u=l.current)==null||u.call(l,t),a.current=t)},[t,a]),[t,i,l]}function z8(n){return typeof n=="function"}function o0(n){const e=E.useRef({value:n,previous:n});return E.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var UA=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),F8="VisuallyHidden",H8=E.forwardRef((n,e)=>m.jsx(vt.span,{...n,ref:e,style:{...UA,...n.style}}));H8.displayName=F8;var q8=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},sl=new WeakMap,Lf=new WeakMap,Uf={},Fg=0,BA=function(n){return n&&(n.host||BA(n.parentNode))},$8=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=BA(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},G8=function(n,e,t,i){var a=$8(e,Array.isArray(n)?n:[n]);Uf[t]||(Uf[t]=new WeakMap);var l=Uf[t],u=[],f=new Set,p=new Set(a),g=function(b){!b||f.has(b)||(f.add(b),g(b.parentNode))};a.forEach(g);var v=function(b){!b||p.has(b)||Array.prototype.forEach.call(b.children,function(x){if(f.has(x))v(x);else try{var A=x.getAttribute(i),R=A!==null&&A!=="false",C=(sl.get(x)||0)+1,D=(l.get(x)||0)+1;sl.set(x,C),l.set(x,D),u.push(x),C===1&&R&&Lf.set(x,!0),D===1&&x.setAttribute(t,"true"),R||x.setAttribute(i,"true")}catch(M){console.error("aria-hidden: cannot operate on ",x,M)}})};return v(e),f.clear(),Fg++,function(){u.forEach(function(b){var x=sl.get(b)-1,A=l.get(b)-1;sl.set(b,x),l.set(b,A),x||(Lf.has(b)||b.removeAttribute(i),Lf.delete(b)),A||b.removeAttribute(t)}),Fg--,Fg||(sl=new WeakMap,sl=new WeakMap,Lf=new WeakMap,Uf={})}},Y8=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),a=q8(n);return a?(i.push.apply(i,Array.from(a.querySelectorAll("[aria-live]"))),G8(i,a,t,"aria-hidden")):function(){return null}},ih="right-scroll-bar-position",sh="width-before-scroll-bar",K8="with-scroll-bars-hidden",Q8="--removed-body-scroll-bar-size";function Hg(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function W8(n,e){var t=E.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var a=t.value;a!==i&&(t.value=i,t.callback(i,a))}}}})[0];return t.callback=e,t.facade}var X8=typeof window<"u"?E.useLayoutEffect:E.useEffect,Bw=new WeakMap;function Z8(n,e){var t=W8(null,function(i){return n.forEach(function(a){return Hg(a,i)})});return X8(function(){var i=Bw.get(t);if(i){var a=new Set(i),l=new Set(n),u=t.current;a.forEach(function(f){l.has(f)||Hg(f,null)}),l.forEach(function(f){a.has(f)||Hg(f,u)})}Bw.set(t,n)},[n]),t}function J8(n){return n}function eV(n,e){e===void 0&&(e=J8);var t=[],i=!1,a={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(l){var u=e(l,i);return t.push(u),function(){t=t.filter(function(f){return f!==u})}},assignSyncMedium:function(l){for(i=!0;t.length;){var u=t;t=[],u.forEach(l)}t={push:function(f){return l(f)},filter:function(){return t}}},assignMedium:function(l){i=!0;var u=[];if(t.length){var f=t;t=[],f.forEach(l),u=t}var p=function(){var v=u;u=[],v.forEach(l)},g=function(){return Promise.resolve().then(p)};g(),t={push:function(v){u.push(v),g()},filter:function(v){return u=u.filter(v),t}}}};return a}function tV(n){n===void 0&&(n={});var e=eV(null);return e.options=ii({async:!0,ssr:!1},n),e}var zA=function(n){var e=n.sideCar,t=Fu(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return E.createElement(i,ii({},t))};zA.isSideCarExport=!0;function nV(n,e){return n.useMedium(e),zA}var FA=tV(),qg=function(){},dm=E.forwardRef(function(n,e){var t=E.useRef(null),i=E.useState({onScrollCapture:qg,onWheelCapture:qg,onTouchMoveCapture:qg}),a=i[0],l=i[1],u=n.forwardProps,f=n.children,p=n.className,g=n.removeScrollBar,v=n.enabled,b=n.shards,x=n.sideCar,A=n.noIsolation,R=n.inert,C=n.allowPinchZoom,D=n.as,M=D===void 0?"div":D,U=n.gapMode,L=Fu(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),q=x,$=Z8([t,e]),ne=ii(ii({},L),a);return E.createElement(E.Fragment,null,v&&E.createElement(q,{sideCar:FA,removeScrollBar:g,shards:b,noIsolation:A,inert:R,setCallbacks:l,allowPinchZoom:!!C,lockRef:t,gapMode:U}),u?E.cloneElement(E.Children.only(f),ii(ii({},ne),{ref:$})):E.createElement(M,ii({},ne,{className:p,ref:$}),f))});dm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dm.classNames={fullWidth:sh,zeroRight:ih};var rV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function iV(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=rV();return e&&n.setAttribute("nonce",e),n}function sV(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function aV(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var oV=function(){var n=0,e=null;return{add:function(t){n==0&&(e=iV())&&(sV(e,t),aV(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},lV=function(){var n=oV();return function(e,t){E.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},HA=function(){var n=lV(),e=function(t){var i=t.styles,a=t.dynamic;return n(i,a),null};return e},cV={left:0,top:0,right:0,gap:0},$g=function(n){return parseInt(n||"",10)||0},uV=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],a=e[n==="padding"?"paddingRight":"marginRight"];return[$g(t),$g(i),$g(a)]},dV=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return cV;var e=uV(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},fV=HA(),vl="data-scroll-locked",hV=function(n,e,t,i){var a=n.left,l=n.top,u=n.right,f=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(K8,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(f,"px ").concat(i,`;
  }
  body[`).concat(vl,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(f,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ih,` {
    right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(sh,` {
    margin-right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(ih," .").concat(ih,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(sh," .").concat(sh,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(vl,`] {
    `).concat(Q8,": ").concat(f,`px;
  }
`)},zw=function(){var n=parseInt(document.body.getAttribute(vl)||"0",10);return isFinite(n)?n:0},mV=function(){E.useEffect(function(){return document.body.setAttribute(vl,(zw()+1).toString()),function(){var n=zw()-1;n<=0?document.body.removeAttribute(vl):document.body.setAttribute(vl,n.toString())}},[])},pV=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,a=i===void 0?"margin":i;mV();var l=E.useMemo(function(){return dV(a)},[a]);return E.createElement(fV,{styles:hV(l,!e,a,t?"":"!important")})},Oy=!1;if(typeof window<"u")try{var Bf=Object.defineProperty({},"passive",{get:function(){return Oy=!0,!0}});window.addEventListener("test",Bf,Bf),window.removeEventListener("test",Bf,Bf)}catch{Oy=!1}var al=Oy?{passive:!1}:!1,gV=function(n){return n.tagName==="TEXTAREA"},qA=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!gV(n)&&t[e]==="visible")},yV=function(n){return qA(n,"overflowY")},vV=function(n){return qA(n,"overflowX")},Fw=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var a=$A(n,i);if(a){var l=GA(n,i),u=l[1],f=l[2];if(u>f)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},_V=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},bV=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},$A=function(n,e){return n==="v"?yV(e):vV(e)},GA=function(n,e){return n==="v"?_V(e):bV(e)},xV=function(n,e){return n==="h"&&e==="rtl"?-1:1},EV=function(n,e,t,i,a){var l=xV(n,window.getComputedStyle(e).direction),u=l*i,f=t.target,p=e.contains(f),g=!1,v=u>0,b=0,x=0;do{var A=GA(n,f),R=A[0],C=A[1],D=A[2],M=C-D-l*R;(R||M)&&$A(n,f)&&(b+=M,x+=R),f instanceof ShadowRoot?f=f.host:f=f.parentNode}while(!p&&f!==document.body||p&&(e.contains(f)||e===f));return(v&&Math.abs(b)<1||!v&&Math.abs(x)<1)&&(g=!0),g},zf=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Hw=function(n){return[n.deltaX,n.deltaY]},qw=function(n){return n&&"current"in n?n.current:n},wV=function(n,e){return n[0]===e[0]&&n[1]===e[1]},TV=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},SV=0,ol=[];function AV(n){var e=E.useRef([]),t=E.useRef([0,0]),i=E.useRef(),a=E.useState(SV++)[0],l=E.useState(HA)[0],u=E.useRef(n);E.useEffect(function(){u.current=n},[n]),E.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(a));var C=hk([n.lockRef.current],(n.shards||[]).map(qw),!0).filter(Boolean);return C.forEach(function(D){return D.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),C.forEach(function(D){return D.classList.remove("allow-interactivity-".concat(a))})}}},[n.inert,n.lockRef.current,n.shards]);var f=E.useCallback(function(C,D){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!u.current.allowPinchZoom;var M=zf(C),U=t.current,L="deltaX"in C?C.deltaX:U[0]-M[0],q="deltaY"in C?C.deltaY:U[1]-M[1],$,ne=C.target,k=Math.abs(L)>Math.abs(q)?"h":"v";if("touches"in C&&k==="h"&&ne.type==="range")return!1;var S=Fw(k,ne);if(!S)return!0;if(S?$=k:($=k==="v"?"h":"v",S=Fw(k,ne)),!S)return!1;if(!i.current&&"changedTouches"in C&&(L||q)&&(i.current=$),!$)return!0;var j=i.current||$;return EV(j,D,C,j==="h"?L:q)},[]),p=E.useCallback(function(C){var D=C;if(!(!ol.length||ol[ol.length-1]!==l)){var M="deltaY"in D?Hw(D):zf(D),U=e.current.filter(function($){return $.name===D.type&&($.target===D.target||D.target===$.shadowParent)&&wV($.delta,M)})[0];if(U&&U.should){D.cancelable&&D.preventDefault();return}if(!U){var L=(u.current.shards||[]).map(qw).filter(Boolean).filter(function($){return $.contains(D.target)}),q=L.length>0?f(D,L[0]):!u.current.noIsolation;q&&D.cancelable&&D.preventDefault()}}},[]),g=E.useCallback(function(C,D,M,U){var L={name:C,delta:D,target:M,should:U,shadowParent:CV(M)};e.current.push(L),setTimeout(function(){e.current=e.current.filter(function(q){return q!==L})},1)},[]),v=E.useCallback(function(C){t.current=zf(C),i.current=void 0},[]),b=E.useCallback(function(C){g(C.type,Hw(C),C.target,f(C,n.lockRef.current))},[]),x=E.useCallback(function(C){g(C.type,zf(C),C.target,f(C,n.lockRef.current))},[]);E.useEffect(function(){return ol.push(l),n.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:x}),document.addEventListener("wheel",p,al),document.addEventListener("touchmove",p,al),document.addEventListener("touchstart",v,al),function(){ol=ol.filter(function(C){return C!==l}),document.removeEventListener("wheel",p,al),document.removeEventListener("touchmove",p,al),document.removeEventListener("touchstart",v,al)}},[]);var A=n.removeScrollBar,R=n.inert;return E.createElement(E.Fragment,null,R?E.createElement(l,{styles:TV(a)}):null,A?E.createElement(pV,{gapMode:n.gapMode}):null)}function CV(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const RV=nV(FA,AV);var YA=E.forwardRef(function(n,e){return E.createElement(dm,ii({},n,{ref:e,sideCar:RV}))});YA.classNames=dm.classNames;var IV=[" ","Enter","ArrowUp","ArrowDown"],NV=[" ","Enter"],lo="Select",[fm,hm,DV]=lP(lo),[Zl,r9]=Ql(lo,[DV,IA]),mm=IA(),[kV,pa]=Zl(lo),[OV,jV]=Zl(lo),KA=n=>{const{__scopeSelect:e,children:t,open:i,defaultOpen:a,onOpenChange:l,value:u,defaultValue:f,onValueChange:p,dir:g,name:v,autoComplete:b,disabled:x,required:A,form:R}=n,C=mm(e),[D,M]=E.useState(null),[U,L]=E.useState(null),[q,$]=E.useState(!1),ne=uP(g),[k,S]=Oh({prop:i,defaultProp:a??!1,onChange:l,caller:lo}),[j,V]=Oh({prop:u,defaultProp:f,onChange:p,caller:lo}),I=E.useRef(null),B=D?R||!!D.closest("form"):!0,[P,Y]=E.useState(new Set),se=Array.from(P).map(H=>H.props.value).join(";");return m.jsx(j8,{...C,children:m.jsxs(kV,{required:A,scope:e,trigger:D,onTriggerChange:M,valueNode:U,onValueNodeChange:L,valueNodeHasChildren:q,onValueNodeHasChildrenChange:$,contentId:Wv(),value:j,onValueChange:V,open:k,onOpenChange:S,dir:ne,triggerPointerDownPosRef:I,disabled:x,children:[m.jsx(fm.Provider,{scope:e,children:m.jsx(OV,{scope:n.__scopeSelect,onNativeOptionAdd:E.useCallback(H=>{Y(ee=>new Set(ee).add(H))},[]),onNativeOptionRemove:E.useCallback(H=>{Y(ee=>{const K=new Set(ee);return K.delete(H),K})},[]),children:t})}),B?m.jsxs(g2,{"aria-hidden":!0,required:A,tabIndex:-1,name:v,autoComplete:b,value:j,onChange:H=>V(H.target.value),disabled:x,form:R,children:[j===void 0?m.jsx("option",{value:""}):null,Array.from(P)]},se):null]})})};KA.displayName=lo;var QA="SelectTrigger",WA=E.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:i=!1,...a}=n,l=mm(t),u=pa(QA,t),f=u.disabled||i,p=Ut(e,u.onTriggerChange),g=hm(t),v=E.useRef("touch"),[b,x,A]=v2(C=>{const D=g().filter(L=>!L.disabled),M=D.find(L=>L.value===u.value),U=_2(D,C,M);U!==void 0&&u.onValueChange(U.value)}),R=C=>{f||(u.onOpenChange(!0),A()),C&&(u.triggerPointerDownPosRef.current={x:Math.round(C.pageX),y:Math.round(C.pageY)})};return m.jsx(M8,{asChild:!0,...l,children:m.jsx(vt.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":y2(u.value)?"":void 0,...a,ref:p,onClick:Mt(a.onClick,C=>{C.currentTarget.focus(),v.current!=="mouse"&&R(C)}),onPointerDown:Mt(a.onPointerDown,C=>{v.current=C.pointerType;const D=C.target;D.hasPointerCapture(C.pointerId)&&D.releasePointerCapture(C.pointerId),C.button===0&&C.ctrlKey===!1&&C.pointerType==="mouse"&&(R(C),C.preventDefault())}),onKeyDown:Mt(a.onKeyDown,C=>{const D=b.current!=="";!(C.ctrlKey||C.altKey||C.metaKey)&&C.key.length===1&&x(C.key),!(D&&C.key===" ")&&IV.includes(C.key)&&(R(),C.preventDefault())})})})});WA.displayName=QA;var XA="SelectValue",ZA=E.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:a,children:l,placeholder:u="",...f}=n,p=pa(XA,t),{onValueNodeHasChildrenChange:g}=p,v=l!==void 0,b=Ut(e,p.onValueNodeChange);return Vn(()=>{g(v)},[g,v]),m.jsx(vt.span,{...f,ref:b,style:{pointerEvents:"none"},children:y2(p.value)?m.jsx(m.Fragment,{children:u}):l})});ZA.displayName=XA;var MV="SelectIcon",JA=E.forwardRef((n,e)=>{const{__scopeSelect:t,children:i,...a}=n;return m.jsx(vt.span,{"aria-hidden":!0,...a,ref:e,children:i||""})});JA.displayName=MV;var PV="SelectPortal",e2=n=>m.jsx(LA,{asChild:!0,...n});e2.displayName=PV;var co="SelectContent",t2=E.forwardRef((n,e)=>{const t=pa(co,n.__scopeSelect),[i,a]=E.useState();if(Vn(()=>{a(new DocumentFragment)},[]),!t.open){const l=i;return l?Uu.createPortal(m.jsx(n2,{scope:n.__scopeSelect,children:m.jsx(fm.Slot,{scope:n.__scopeSelect,children:m.jsx("div",{children:n.children})})}),l):null}return m.jsx(r2,{...n,ref:e})});t2.displayName=co;var kr=10,[n2,ga]=Zl(co),VV="SelectContentImpl",LV=Su("SelectContent.RemoveScroll"),r2=E.forwardRef((n,e)=>{const{__scopeSelect:t,position:i="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:u,side:f,sideOffset:p,align:g,alignOffset:v,arrowPadding:b,collisionBoundary:x,collisionPadding:A,sticky:R,hideWhenDetached:C,avoidCollisions:D,...M}=n,U=pa(co,t),[L,q]=E.useState(null),[$,ne]=E.useState(null),k=Ut(e,ce=>q(ce)),[S,j]=E.useState(null),[V,I]=E.useState(null),B=hm(t),[P,Y]=E.useState(!1),se=E.useRef(!1);E.useEffect(()=>{if(L)return Y8(L)},[L]),_P();const H=E.useCallback(ce=>{const[xe,...Te]=B().map(je=>je.ref.current),[Re]=Te.slice(-1),Se=document.activeElement;for(const je of ce)if(je===Se||(je==null||je.scrollIntoView({block:"nearest"}),je===xe&&$&&($.scrollTop=0),je===Re&&$&&($.scrollTop=$.scrollHeight),je==null||je.focus(),document.activeElement!==Se))return},[B,$]),ee=E.useCallback(()=>H([S,L]),[H,S,L]);E.useEffect(()=>{P&&ee()},[P,ee]);const{onOpenChange:K,triggerPointerDownPosRef:ve}=U;E.useEffect(()=>{if(L){let ce={x:0,y:0};const xe=Re=>{var Se,je;ce={x:Math.abs(Math.round(Re.pageX)-(((Se=ve.current)==null?void 0:Se.x)??0)),y:Math.abs(Math.round(Re.pageY)-(((je=ve.current)==null?void 0:je.y)??0))}},Te=Re=>{ce.x<=10&&ce.y<=10?Re.preventDefault():L.contains(Re.target)||K(!1),document.removeEventListener("pointermove",xe),ve.current=null};return ve.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",Te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",Te,{capture:!0})}}},[L,K,ve]),E.useEffect(()=>{const ce=()=>K(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[K]);const[z,ae]=v2(ce=>{const xe=B().filter(Se=>!Se.disabled),Te=xe.find(Se=>Se.ref.current===document.activeElement),Re=_2(xe,ce,Te);Re&&setTimeout(()=>Re.ref.current.focus())}),me=E.useCallback((ce,xe,Te)=>{const Re=!se.current&&!Te;(U.value!==void 0&&U.value===xe||Re)&&(j(ce),Re&&(se.current=!0))},[U.value]),oe=E.useCallback(()=>L==null?void 0:L.focus(),[L]),be=E.useCallback((ce,xe,Te)=>{const Re=!se.current&&!Te;(U.value!==void 0&&U.value===xe||Re)&&I(ce)},[U.value]),pe=i==="popper"?jy:i2,ge=pe===jy?{side:f,sideOffset:p,align:g,alignOffset:v,arrowPadding:b,collisionBoundary:x,collisionPadding:A,sticky:R,hideWhenDetached:C,avoidCollisions:D}:{};return m.jsx(n2,{scope:t,content:L,viewport:$,onViewportChange:ne,itemRefCallback:me,selectedItem:S,onItemLeave:oe,itemTextRefCallback:be,focusSelectedItem:ee,selectedItemText:V,position:i,isPositioned:P,searchRef:z,children:m.jsx(YA,{as:LV,allowPinchZoom:!0,children:m.jsx(pA,{asChild:!0,trapped:U.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:Mt(a,ce=>{var xe;(xe=U.trigger)==null||xe.focus({preventScroll:!0}),ce.preventDefault()}),children:m.jsx(hA,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>U.onOpenChange(!1),children:m.jsx(pe,{role:"listbox",id:U.contentId,"data-state":U.open?"open":"closed",dir:U.dir,onContextMenu:ce=>ce.preventDefault(),...M,...ge,onPlaced:()=>Y(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...M.style},onKeyDown:Mt(M.onKeyDown,ce=>{const xe=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!xe&&ce.key.length===1&&ae(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let Re=B().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(Re=Re.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const Se=ce.target,je=Re.indexOf(Se);Re=Re.slice(je+1)}setTimeout(()=>H(Re)),ce.preventDefault()}})})})})})})});r2.displayName=VV;var UV="SelectItemAlignedPosition",i2=E.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:i,...a}=n,l=pa(co,t),u=ga(co,t),[f,p]=E.useState(null),[g,v]=E.useState(null),b=Ut(e,k=>v(k)),x=hm(t),A=E.useRef(!1),R=E.useRef(!0),{viewport:C,selectedItem:D,selectedItemText:M,focusSelectedItem:U}=u,L=E.useCallback(()=>{if(l.trigger&&l.valueNode&&f&&g&&C&&D&&M){const k=l.trigger.getBoundingClientRect(),S=g.getBoundingClientRect(),j=l.valueNode.getBoundingClientRect(),V=M.getBoundingClientRect();if(l.dir!=="rtl"){const Se=V.left-S.left,je=j.left-Se,X=k.left-je,ye=k.width+X,Ee=Math.max(ye,S.width),Ae=window.innerWidth-kr,ke=Tw(je,[kr,Math.max(kr,Ae-Ee)]);f.style.minWidth=ye+"px",f.style.left=ke+"px"}else{const Se=S.right-V.right,je=window.innerWidth-j.right-Se,X=window.innerWidth-k.right-je,ye=k.width+X,Ee=Math.max(ye,S.width),Ae=window.innerWidth-kr,ke=Tw(je,[kr,Math.max(kr,Ae-Ee)]);f.style.minWidth=ye+"px",f.style.right=ke+"px"}const I=x(),B=window.innerHeight-kr*2,P=C.scrollHeight,Y=window.getComputedStyle(g),se=parseInt(Y.borderTopWidth,10),H=parseInt(Y.paddingTop,10),ee=parseInt(Y.borderBottomWidth,10),K=parseInt(Y.paddingBottom,10),ve=se+H+P+K+ee,z=Math.min(D.offsetHeight*5,ve),ae=window.getComputedStyle(C),me=parseInt(ae.paddingTop,10),oe=parseInt(ae.paddingBottom,10),be=k.top+k.height/2-kr,pe=B-be,ge=D.offsetHeight/2,ce=D.offsetTop+ge,xe=se+H+ce,Te=ve-xe;if(xe<=be){const Se=I.length>0&&D===I[I.length-1].ref.current;f.style.bottom="0px";const je=g.clientHeight-C.offsetTop-C.offsetHeight,X=Math.max(pe,ge+(Se?oe:0)+je+ee),ye=xe+X;f.style.height=ye+"px"}else{const Se=I.length>0&&D===I[0].ref.current;f.style.top="0px";const X=Math.max(be,se+C.offsetTop+(Se?me:0)+ge)+Te;f.style.height=X+"px",C.scrollTop=xe-be+C.offsetTop}f.style.margin=`${kr}px 0`,f.style.minHeight=z+"px",f.style.maxHeight=B+"px",i==null||i(),requestAnimationFrame(()=>A.current=!0)}},[x,l.trigger,l.valueNode,f,g,C,D,M,l.dir,i]);Vn(()=>L(),[L]);const[q,$]=E.useState();Vn(()=>{g&&$(window.getComputedStyle(g).zIndex)},[g]);const ne=E.useCallback(k=>{k&&R.current===!0&&(L(),U==null||U(),R.current=!1)},[L,U]);return m.jsx(zV,{scope:t,contentWrapper:f,shouldExpandOnScrollRef:A,onScrollButtonChange:ne,children:m.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:q},children:m.jsx(vt.div,{...a,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});i2.displayName=UV;var BV="SelectPopperPosition",jy=E.forwardRef((n,e)=>{const{__scopeSelect:t,align:i="start",collisionPadding:a=kr,...l}=n,u=mm(t);return m.jsx(P8,{...u,...l,ref:e,align:i,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});jy.displayName=BV;var[zV,l0]=Zl(co,{}),My="SelectViewport",s2=E.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:i,...a}=n,l=ga(My,t),u=l0(My,t),f=Ut(e,l.onViewportChange),p=E.useRef(0);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),m.jsx(fm.Slot,{scope:t,children:m.jsx(vt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Mt(a.onScroll,g=>{const v=g.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:x}=u;if(x!=null&&x.current&&b){const A=Math.abs(p.current-v.scrollTop);if(A>0){const R=window.innerHeight-kr*2,C=parseFloat(b.style.minHeight),D=parseFloat(b.style.height),M=Math.max(C,D);if(M<R){const U=M+A,L=Math.min(R,U),q=U-L;b.style.height=L+"px",b.style.bottom==="0px"&&(v.scrollTop=q>0?q:0,b.style.justifyContent="flex-end")}}}p.current=v.scrollTop})})})]})});s2.displayName=My;var a2="SelectGroup",[FV,HV]=Zl(a2),qV=E.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,a=Wv();return m.jsx(FV,{scope:t,id:a,children:m.jsx(vt.div,{role:"group","aria-labelledby":a,...i,ref:e})})});qV.displayName=a2;var o2="SelectLabel",$V=E.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,a=HV(o2,t);return m.jsx(vt.div,{id:a.id,...i,ref:e})});$V.displayName=o2;var jh="SelectItem",[GV,l2]=Zl(jh),c2=E.forwardRef((n,e)=>{const{__scopeSelect:t,value:i,disabled:a=!1,textValue:l,...u}=n,f=pa(jh,t),p=ga(jh,t),g=f.value===i,[v,b]=E.useState(l??""),[x,A]=E.useState(!1),R=Ut(e,U=>{var L;return(L=p.itemRefCallback)==null?void 0:L.call(p,U,i,a)}),C=Wv(),D=E.useRef("touch"),M=()=>{a||(f.onValueChange(i),f.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.jsx(GV,{scope:t,value:i,disabled:a,textId:C,isSelected:g,onItemTextChange:E.useCallback(U=>{b(L=>L||((U==null?void 0:U.textContent)??"").trim())},[]),children:m.jsx(fm.ItemSlot,{scope:t,value:i,disabled:a,textValue:v,children:m.jsx(vt.div,{role:"option","aria-labelledby":C,"data-highlighted":x?"":void 0,"aria-selected":g&&x,"data-state":g?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...u,ref:R,onFocus:Mt(u.onFocus,()=>A(!0)),onBlur:Mt(u.onBlur,()=>A(!1)),onClick:Mt(u.onClick,()=>{D.current!=="mouse"&&M()}),onPointerUp:Mt(u.onPointerUp,()=>{D.current==="mouse"&&M()}),onPointerDown:Mt(u.onPointerDown,U=>{D.current=U.pointerType}),onPointerMove:Mt(u.onPointerMove,U=>{var L;D.current=U.pointerType,a?(L=p.onItemLeave)==null||L.call(p):D.current==="mouse"&&U.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Mt(u.onPointerLeave,U=>{var L;U.currentTarget===document.activeElement&&((L=p.onItemLeave)==null||L.call(p))}),onKeyDown:Mt(u.onKeyDown,U=>{var q;((q=p.searchRef)==null?void 0:q.current)!==""&&U.key===" "||(NV.includes(U.key)&&M(),U.key===" "&&U.preventDefault())})})})})});c2.displayName=jh;var gu="SelectItemText",u2=E.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:a,...l}=n,u=pa(gu,t),f=ga(gu,t),p=l2(gu,t),g=jV(gu,t),[v,b]=E.useState(null),x=Ut(e,M=>b(M),p.onItemTextChange,M=>{var U;return(U=f.itemTextRefCallback)==null?void 0:U.call(f,M,p.value,p.disabled)}),A=v==null?void 0:v.textContent,R=E.useMemo(()=>m.jsx("option",{value:p.value,disabled:p.disabled,children:A},p.value),[p.disabled,p.value,A]),{onNativeOptionAdd:C,onNativeOptionRemove:D}=g;return Vn(()=>(C(R),()=>D(R)),[C,D,R]),m.jsxs(m.Fragment,{children:[m.jsx(vt.span,{id:p.textId,...l,ref:x}),p.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Uu.createPortal(l.children,u.valueNode):null]})});u2.displayName=gu;var d2="SelectItemIndicator",f2=E.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return l2(d2,t).isSelected?m.jsx(vt.span,{"aria-hidden":!0,...i,ref:e}):null});f2.displayName=d2;var Py="SelectScrollUpButton",h2=E.forwardRef((n,e)=>{const t=ga(Py,n.__scopeSelect),i=l0(Py,n.__scopeSelect),[a,l]=E.useState(!1),u=Ut(e,i.onScrollButtonChange);return Vn(()=>{if(t.viewport&&t.isPositioned){let f=function(){const g=p.scrollTop>0;l(g)};const p=t.viewport;return f(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[t.viewport,t.isPositioned]),a?m.jsx(p2,{...n,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:p}=t;f&&p&&(f.scrollTop=f.scrollTop-p.offsetHeight)}}):null});h2.displayName=Py;var Vy="SelectScrollDownButton",m2=E.forwardRef((n,e)=>{const t=ga(Vy,n.__scopeSelect),i=l0(Vy,n.__scopeSelect),[a,l]=E.useState(!1),u=Ut(e,i.onScrollButtonChange);return Vn(()=>{if(t.viewport&&t.isPositioned){let f=function(){const g=p.scrollHeight-p.clientHeight,v=Math.ceil(p.scrollTop)<g;l(v)};const p=t.viewport;return f(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[t.viewport,t.isPositioned]),a?m.jsx(p2,{...n,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:p}=t;f&&p&&(f.scrollTop=f.scrollTop+p.offsetHeight)}}):null});m2.displayName=Vy;var p2=E.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:i,...a}=n,l=ga("SelectScrollButton",t),u=E.useRef(null),f=hm(t),p=E.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return E.useEffect(()=>()=>p(),[p]),Vn(()=>{var v;const g=f().find(b=>b.ref.current===document.activeElement);(v=g==null?void 0:g.ref.current)==null||v.scrollIntoView({block:"nearest"})},[f]),m.jsx(vt.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:Mt(a.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(i,50))}),onPointerMove:Mt(a.onPointerMove,()=>{var g;(g=l.onItemLeave)==null||g.call(l),u.current===null&&(u.current=window.setInterval(i,50))}),onPointerLeave:Mt(a.onPointerLeave,()=>{p()})})}),YV="SelectSeparator",KV=E.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return m.jsx(vt.div,{"aria-hidden":!0,...i,ref:e})});KV.displayName=YV;var Ly="SelectArrow",QV=E.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,a=mm(t),l=pa(Ly,t),u=ga(Ly,t);return l.open&&u.position==="popper"?m.jsx(V8,{...a,...i,ref:e}):null});QV.displayName=Ly;var WV="SelectBubbleInput",g2=E.forwardRef(({__scopeSelect:n,value:e,...t},i)=>{const a=E.useRef(null),l=Ut(i,a),u=o0(e);return E.useEffect(()=>{const f=a.current;if(!f)return;const p=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(p,"value").set;if(u!==e&&v){const b=new Event("change",{bubbles:!0});v.call(f,e),f.dispatchEvent(b)}},[u,e]),m.jsx(vt.select,{...t,style:{...UA,...t.style},ref:l,defaultValue:e})});g2.displayName=WV;function y2(n){return n===""||n===void 0}function v2(n){const e=ao(n),t=E.useRef(""),i=E.useRef(0),a=E.useCallback(u=>{const f=t.current+u;e(f),function p(g){t.current=g,window.clearTimeout(i.current),g!==""&&(i.current=window.setTimeout(()=>p(""),1e3))}(f)},[e]),l=E.useCallback(()=>{t.current="",window.clearTimeout(i.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(i.current),[]),[t,a,l]}function _2(n,e,t){const a=e.length>1&&Array.from(e).every(g=>g===e[0])?e[0]:e,l=t?n.indexOf(t):-1;let u=XV(n,Math.max(l,0));a.length===1&&(u=u.filter(g=>g!==t));const p=u.find(g=>g.textValue.toLowerCase().startsWith(a.toLowerCase()));return p!==t?p:void 0}function XV(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var ZV=KA,JV=WA,eL=ZA,tL=JA,nL=e2,rL=t2,iL=s2,sL=c2,aL=u2,oL=f2,lL=h2,cL=m2;function Gi({...n}){return m.jsx(ZV,{"data-slot":"select",...n})}function Yi({...n}){return m.jsx(eL,{"data-slot":"select-value",...n})}function Ki({className:n,size:e="default",children:t,...i}){return m.jsxs(JV,{"data-slot":"select-trigger","data-size":e,className:qt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...i,children:[t,m.jsx(tL,{asChild:!0,children:m.jsx(ST,{className:"size-4 opacity-50"})})]})}function Qi({className:n,children:e,position:t="popper",...i}){return m.jsx(nL,{children:m.jsxs(rL,{"data-slot":"select-content",className:qt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...i,children:[m.jsx(uL,{}),m.jsx(iL,{className:qt("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),m.jsx(dL,{})]})})}function jn({className:n,children:e,...t}){return m.jsxs(sL,{"data-slot":"select-item",className:qt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[m.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:m.jsx(oL,{children:m.jsx(Wy,{className:"size-4"})})}),m.jsx(aL,{children:e})]})}function uL({className:n,...e}){return m.jsx(lL,{"data-slot":"select-scroll-up-button",className:qt("flex cursor-default items-center justify-center py-1",n),...e,children:m.jsx(GN,{className:"size-4"})})}function dL({className:n,...e}){return m.jsx(cL,{"data-slot":"select-scroll-down-button",className:qt("flex cursor-default items-center justify-center py-1",n),...e,children:m.jsx(ST,{className:"size-4"})})}function b2({className:n,...e}){return m.jsx("textarea",{"data-slot":"textarea",className:qt("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}function fL(n,e){return E.useReducer((t,i)=>e[t][i]??t,n)}var x2=n=>{const{present:e,children:t}=n,i=hL(e),a=typeof t=="function"?t({present:i.isPresent}):E.Children.only(t),l=Ut(i.ref,mL(a));return typeof t=="function"||i.isPresent?E.cloneElement(a,{ref:l}):null};x2.displayName="Presence";function hL(n){const[e,t]=E.useState(),i=E.useRef(null),a=E.useRef(n),l=E.useRef("none"),u=n?"mounted":"unmounted",[f,p]=fL(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const g=Ff(i.current);l.current=f==="mounted"?g:"none"},[f]),Vn(()=>{const g=i.current,v=a.current;if(v!==n){const x=l.current,A=Ff(g);n?p("MOUNT"):A==="none"||(g==null?void 0:g.display)==="none"?p("UNMOUNT"):p(v&&x!==A?"ANIMATION_OUT":"UNMOUNT"),a.current=n}},[n,p]),Vn(()=>{if(e){let g;const v=e.ownerDocument.defaultView??window,b=A=>{const C=Ff(i.current).includes(A.animationName);if(A.target===e&&C&&(p("ANIMATION_END"),!a.current)){const D=e.style.animationFillMode;e.style.animationFillMode="forwards",g=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=D)})}},x=A=>{A.target===e&&(l.current=Ff(i.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",b),e.addEventListener("animationend",b),()=>{v.clearTimeout(g),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",b),e.removeEventListener("animationend",b)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:E.useCallback(g=>{i.current=g?getComputedStyle(g):null,t(g)},[])}}function Ff(n){return(n==null?void 0:n.animationName)||"none"}function mL(n){var i,a;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var pm="Checkbox",[pL,i9]=Ql(pm),[gL,c0]=pL(pm);function yL(n){const{__scopeCheckbox:e,checked:t,children:i,defaultChecked:a,disabled:l,form:u,name:f,onCheckedChange:p,required:g,value:v="on",internal_do_not_use_render:b}=n,[x,A]=Oh({prop:t,defaultProp:a??!1,onChange:p,caller:pm}),[R,C]=E.useState(null),[D,M]=E.useState(null),U=E.useRef(!1),L=R?!!u||!!R.closest("form"):!0,q={checked:x,disabled:l,setChecked:A,control:R,setControl:C,name:f,form:u,value:v,hasConsumerStoppedPropagationRef:U,required:g,defaultChecked:ra(a)?!1:a,isFormControl:L,bubbleInput:D,setBubbleInput:M};return m.jsx(gL,{scope:e,...q,children:vL(b)?b(q):i})}var E2="CheckboxTrigger",w2=E.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...i},a)=>{const{control:l,value:u,disabled:f,checked:p,required:g,setControl:v,setChecked:b,hasConsumerStoppedPropagationRef:x,isFormControl:A,bubbleInput:R}=c0(E2,n),C=Ut(a,v),D=E.useRef(p);return E.useEffect(()=>{const M=l==null?void 0:l.form;if(M){const U=()=>b(D.current);return M.addEventListener("reset",U),()=>M.removeEventListener("reset",U)}},[l,b]),m.jsx(vt.button,{type:"button",role:"checkbox","aria-checked":ra(p)?"mixed":p,"aria-required":g,"data-state":I2(p),"data-disabled":f?"":void 0,disabled:f,value:u,...i,ref:C,onKeyDown:Mt(e,M=>{M.key==="Enter"&&M.preventDefault()}),onClick:Mt(t,M=>{b(U=>ra(U)?!0:!U),R&&A&&(x.current=M.isPropagationStopped(),x.current||M.stopPropagation())})})});w2.displayName=E2;var T2=E.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:i,checked:a,defaultChecked:l,required:u,disabled:f,value:p,onCheckedChange:g,form:v,...b}=n;return m.jsx(yL,{__scopeCheckbox:t,checked:a,defaultChecked:l,disabled:f,required:u,onCheckedChange:g,name:i,form:v,value:p,internal_do_not_use_render:({isFormControl:x})=>m.jsxs(m.Fragment,{children:[m.jsx(w2,{...b,ref:e,__scopeCheckbox:t}),x&&m.jsx(R2,{__scopeCheckbox:t})]})})});T2.displayName=pm;var S2="CheckboxIndicator",A2=E.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:i,...a}=n,l=c0(S2,t);return m.jsx(x2,{present:i||ra(l.checked)||l.checked===!0,children:m.jsx(vt.span,{"data-state":I2(l.checked),"data-disabled":l.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...n.style}})})});A2.displayName=S2;var C2="CheckboxBubbleInput",R2=E.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:i,hasConsumerStoppedPropagationRef:a,checked:l,defaultChecked:u,required:f,disabled:p,name:g,value:v,form:b,bubbleInput:x,setBubbleInput:A}=c0(C2,n),R=Ut(t,A),C=o0(l),D=i0(i);E.useEffect(()=>{const U=x;if(!U)return;const L=window.HTMLInputElement.prototype,$=Object.getOwnPropertyDescriptor(L,"checked").set,ne=!a.current;if(C!==l&&$){const k=new Event("click",{bubbles:ne});U.indeterminate=ra(l),$.call(U,ra(l)?!1:l),U.dispatchEvent(k)}},[x,C,l,a]);const M=E.useRef(ra(l)?!1:l);return m.jsx(vt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??M.current,required:f,disabled:p,name:g,value:v,form:b,...e,tabIndex:-1,ref:R,style:{...e.style,...D,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});R2.displayName=C2;function vL(n){return typeof n=="function"}function ra(n){return n==="indeterminate"}function I2(n){return ra(n)?"indeterminate":n?"checked":"unchecked"}function Hf({className:n,...e}){return m.jsx(T2,{"data-slot":"checkbox",className:qt("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:m.jsx(A2,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:m.jsx(Wy,{className:"size-3.5"})})})}function _L(){const{currentUser:n}=Ln(),{currentLedger:e,canEdit:t}=pi(),[i,a]=E.useState([]),[l,u]=E.useState([]),[f,p]=E.useState([]),[g,v]=E.useState(!0),[b,x]=E.useState(!1),[A,R]=E.useState(null),[C,D]=E.useState(!1),[M,U]=E.useState(null),[L,q]=E.useState([]),[$,ne]=E.useState(!1),[k,S]=E.useState(""),[j,V]=E.useState(""),[I,B]=E.useState({amount:"",type:"expense",description:"",categoryId:"",paymentMethod:"cash",notes:"",includeInBudget:!0,date:new Date().toISOString().split("T")[0],paidBy:(n==null?void 0:n.uid)||"",splitType:"none",splitWith:[],splitAmounts:{}}),[P,Y]=E.useState("none"),[se,H]=E.useState({categoryId:"",includeInBudget:null}),ee=()=>{B({amount:"",type:"expense",description:"",categoryId:"",paymentMethod:"cash",notes:"",includeInBudget:!0,date:new Date().toISOString().split("T")[0],paidBy:(n==null?void 0:n.uid)||"",splitType:"none",splitWith:[],splitAmounts:{}}),Y("none"),D(!1),U(null),R(null)},K=async()=>{if(e)try{const X=It(Ue,"ledgers",e.id,"transactions"),ye=Zn(X,as("date","desc")),Ee=await An(ye),Ae=[];Ee.forEach(ke=>{var Ve;const lt=ke.data();Ae.push({id:ke.id,...lt,date:((Ve=lt.date)==null?void 0:Ve.toDate())||new Date})}),a(Ae)}catch(X){console.error("Error fetching transactions:",X),S("Failed to fetch transactions")}},ve=async()=>{if(e)try{const X=It(Ue,"ledgers",e.id,"categories"),ye=await An(X),Ee=[];ye.forEach(Ae=>{Ee.push({id:Ae.id,...Ae.data()})}),u(Ee),Ee.length===0&&await ae()}catch(X){console.error("Error fetching categories:",X)}},z=async()=>{if(e!=null&&e.members)try{const X=[],ye=Object.keys(e.members),Ee=10,Ae=new Map;for(let ke=0;ke<ye.length;ke+=Ee){const lt=ye.slice(ke,ke+Ee);try{const Ve=Zn(It(Ue,"users"),ci("__name__","in",lt));(await An(Ve)).forEach(Gt=>{Ae.set(Gt.id,Gt.data())})}catch(Ve){console.error("Error fetching user batch:",Ve)}}for(const[ke,lt]of Object.entries(e.members)){let Ve={uid:ke,role:lt};const Ge=Ae.get(ke);Ge?Ve={...Ve,displayName:Ge.displayName,email:Ge.email,profileColor:Ge.profileColor}:ke===(n==null?void 0:n.uid)?Ve={...Ve,displayName:n.displayName,email:n.email}:Ve={...Ve,displayName:`User ${ke.slice(0,8)}`,email:`${ke.slice(0,8)}@example.com`},X.push(Ve)}p(X)}catch(X){console.error("Error fetching members:",X)}},ae=async()=>{const X=[{name:"Food & Dining",type:"expense"},{name:"Transportation",type:"expense"},{name:"Shopping",type:"expense"},{name:"Entertainment",type:"expense"},{name:"Bills & Utilities",type:"expense"},{name:"Healthcare",type:"expense"},{name:"Salary",type:"income"},{name:"Freelance",type:"income"},{name:"Investment",type:"income"}];try{const ye=It(Ue,"ledgers",e.id,"categories");for(const Ee of X)await Ji(ye,Ee);await ve()}catch(ye){console.error("Error creating default categories:",ye)}},me=async X=>{if(X.preventDefault(),!t()){S("You do not have permission to add transactions");return}try{S("");const ye={...I,amount:parseFloat(I.amount),date:At.fromDate(new Date(I.date)),createdAt:At.now(),userId:n.uid,paidBy:I.paidBy,splitType:I.splitType,splitWith:I.splitWith,splitAmounts:I.splitAmounts};A?(await jr(Nt(Ue,"ledgers",e.id,"transactions",A.id),ye),V("Transaction updated successfully")):(await Ji(It(Ue,"ledgers",e.id,"transactions"),ye),V("Transaction added successfully")),ee(),x(!1),R(null),await K()}catch(ye){console.error("Error adding/updating transaction:",ye),S("Failed to add/update transaction")}},oe=async X=>{if(!t()){S("You do not have permission to delete transactions");return}try{await td(Nt(Ue,"ledgers",e.id,"transactions",X)),V("Transaction deleted successfully"),await K()}catch(ye){console.error("Error deleting transaction:",ye),S("Failed to delete transaction")}},be=async()=>{if(!(!t()||L.length===0)&&window.confirm(`Are you sure you want to delete ${L.length} selected transactions?`))try{S("");const X=500,ye=[];for(let Ee=0;Ee<L.length;Ee+=X){const Ae=Ry(Ue);L.slice(Ee,Ee+X).forEach(lt=>{const Ve=Nt(Ue,"ledgers",e.id,"transactions",lt);Ae.delete(Ve)}),ye.push(Ae)}for(const Ee of ye)await Ee.commit();V(`Deleted ${L.length} transactions`),q([]),await K()}catch(X){console.error("Error batch deleting transactions:",X),S("Failed to delete transactions")}},pe=async()=>{if(!(!t()||L.length===0))try{S("");const X={};se.categoryId&&(X.categoryId=se.categoryId),se.includeInBudget!==null&&(X.includeInBudget=se.includeInBudget);const ye=500,Ee=[];for(let Ae=0;Ae<L.length;Ae+=ye){const ke=Ry(Ue);L.slice(Ae,Ae+ye).forEach(Ve=>{const Ge=Nt(Ue,"ledgers",e.id,"transactions",Ve);ke.update(Ge,X)}),Ee.push(ke)}for(const Ae of Ee)await Ae.commit();V(`Updated ${L.length} transactions`),q([]),ne(!1),H({categoryId:"",includeInBudget:null}),await K()}catch(X){console.error("Error batch updating transactions:",X),S("Failed to update transactions")}},ge=X=>{R(X),D(!0),U(X.id),x(!0),B({...X,date:X.date instanceof Date?X.date.toISOString().split("T")[0]:X.date,splitWith:X.splitWith||[],splitAmounts:X.splitAmounts||{}});const Ee=f.filter(Ae=>Ae.uid!==(n==null?void 0:n.uid)).map(Ae=>Ae.uid);X.splitWith.length===0?Y("none"):X.splitWith.length===Ee.length&&Ee.every(Ae=>X.splitWith.includes(Ae))?Y("everyone"):Y("individuals")},ce=X=>{q(ye=>ye.includes(X)?ye.filter(Ee=>Ee!==X):[...ye,X])},xe=()=>{L.length===i.length?q([]):q(i.map(X=>X.id))},Te=X=>{B(ye=>{const Ee=ye.splitWith||[],Ae=Ee.includes(X)?Ee.filter(ke=>ke!==X):[...Ee,X];return setTimeout(()=>{Se(Ae)},0),{...ye,splitWith:Ae,splitType:Ae.length>0?"equal":"none"}})},Re=X=>{if(Y(X),X==="none")B(ye=>({...ye,splitType:"none",splitWith:[]}));else if(X==="everyone"){const ye=f.filter(Ee=>Ee.uid!==(n==null?void 0:n.uid)).map(Ee=>Ee.uid);B(Ee=>({...Ee,splitType:"equal",splitWith:ye}))}else X==="individuals"&&B(ye=>({...ye,splitType:ye.splitWith&&ye.splitWith.length>0?"equal":"none"}))},Se=X=>{const Ee=f.filter(Ae=>Ae.uid!==(n==null?void 0:n.uid)).map(Ae=>Ae.uid);X.length===0?Y("none"):X.length===Ee.length&&Ee.every(Ae=>X.includes(Ae))?Y("everyone"):Y("individuals")},je=f.length>1;return E.useEffect(()=>{e&&Promise.all([K(),ve(),z()]).finally(()=>v(!1))},[e]),E.useEffect(()=>{n&&B(X=>({...X,paidBy:n.uid}))},[n]),g?m.jsx("div",{className:"p-6",children:"Loading transactions..."}):e?m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Transactions"}),m.jsx("div",{className:"flex space-x-2",children:t()&&m.jsxs(Me,{onClick:()=>x(!0),className:"flex items-center space-x-2",children:[m.jsx(xl,{className:"h-4 w-4"}),m.jsx("span",{children:"Add Transaction"})]})})]}),k&&m.jsx(Vt,{variant:"destructive",children:m.jsx(Lt,{children:k})}),j&&m.jsx(Vt,{children:m.jsx(Lt,{children:j})}),(b||A)&&m.jsxs(dt,{children:[m.jsx(wt,{children:m.jsx(Tt,{children:A?"Edit Transaction":"Add New Transaction"})}),m.jsx(ft,{children:m.jsxs("form",{onSubmit:me,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx(Ye,{htmlFor:"amount",children:"Amount"}),m.jsx(Pt,{id:"amount",type:"number",step:"0.01",value:I.amount,onChange:X=>B({...I,amount:X.target.value}),required:!0})]}),m.jsxs("div",{children:[m.jsx(Ye,{htmlFor:"type",children:"Type"}),m.jsxs(Gi,{value:I.type,onValueChange:X=>B({...I,type:X}),children:[m.jsx(Ki,{children:m.jsx(Yi,{})}),m.jsxs(Qi,{children:[m.jsx(jn,{value:"expense",children:"Expense"}),m.jsx(jn,{value:"income",children:"Income"})]})]})]}),m.jsxs("div",{children:[m.jsx(Ye,{htmlFor:"description",children:"Description"}),m.jsx(Pt,{id:"description",type:"text",value:I.description,onChange:X=>B({...I,description:X.target.value}),required:!0})]}),m.jsxs("div",{children:[m.jsx(Ye,{htmlFor:"category",children:"Category"}),m.jsxs(Gi,{value:I.categoryId,onValueChange:X=>B({...I,categoryId:X}),children:[m.jsx(Ki,{children:m.jsx(Yi,{placeholder:"Select a category"})}),m.jsx(Qi,{children:l.filter(X=>X.type===I.type).map(X=>m.jsx(jn,{value:X.id,children:X.name},X.id))})]})]}),m.jsxs("div",{children:[m.jsx(Ye,{htmlFor:"date",children:"Date"}),m.jsx(Pt,{id:"date",type:"date",value:I.date,onChange:X=>B({...I,date:X.target.value}),required:!0})]}),m.jsxs("div",{children:[m.jsx(Ye,{htmlFor:"paymentMethod",children:"Payment Method"}),m.jsx(Pt,{id:"paymentMethod",type:"text",value:I.paymentMethod,onChange:X=>B({...I,paymentMethod:X.target.value})})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx(Ye,{htmlFor:"notes",children:"Notes"}),m.jsx(b2,{id:"notes",value:I.notes,onChange:X=>B({...I,notes:X.target.value})})]}),m.jsxs("div",{className:"md:col-span-2 flex items-center space-x-2",children:[m.jsx(Hf,{id:"includeInBudget",checked:I.includeInBudget,onCheckedChange:X=>B({...I,includeInBudget:X})}),m.jsx(Ye,{htmlFor:"includeInBudget",children:"Include in Budget"})]})]}),je&&I.type==="expense"&&m.jsxs("div",{className:"space-y-4 border p-4 rounded-md",children:[m.jsx("h3",{className:"text-lg font-semibold",children:"Split Expense"}),m.jsxs("div",{children:[m.jsx(Ye,{htmlFor:"paidBy",children:"Paid By"}),m.jsxs(Gi,{value:I.paidBy,onValueChange:X=>B({...I,paidBy:X}),children:[m.jsx(Ki,{children:m.jsx(Yi,{placeholder:"Select payer"})}),m.jsx(Qi,{children:f.map(X=>m.jsx(jn,{value:X.uid,children:m.jsx(Xa,{user:X})},X.uid))})]})]}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx(Me,{type:"button",variant:P==="none"?"default":"outline",onClick:()=>Re("none"),children:"Don't Split"}),m.jsx(Me,{type:"button",variant:P==="everyone"?"default":"outline",onClick:()=>Re("everyone"),children:"Split Equally (Everyone Else)"}),m.jsx(Me,{type:"button",variant:P==="individuals"?"default":"outline",onClick:()=>Re("individuals"),children:"Split with Individuals"})]}),P==="individuals"&&m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ye,{children:"Select Members to Split With:"}),f.filter(X=>X.uid!==I.paidBy).map(X=>m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(Hf,{id:`split-with-${X.uid}`,checked:(I.splitWith||[]).includes(X.uid),onCheckedChange:()=>Te(X.uid)}),m.jsx(Ye,{htmlFor:`split-with-${X.uid}`,children:m.jsx(Xa,{user:X})})]},X.uid))]}),I.splitType==="equal"&&(I.splitWith||[]).length>0&&m.jsxs("div",{className:"border-t pt-4 mt-4",children:[m.jsx("h4",{className:"font-semibold",children:"Split Details:"}),m.jsxs("p",{children:["Total Amount: ",nh(I.amount||0,e==null?void 0:e.currency)]}),m.jsxs("p",{children:["Paid By: ",m.jsx(Xa,{user:f.find(X=>X.uid===I.paidBy)})]}),m.jsxs("p",{children:["Splitting with ",(I.splitWith||[]).length," other(s):"]}),m.jsxs("ul",{children:[(I.splitWith||[]).map(X=>{const ye=f.find(Ae=>Ae.uid===X),Ee=nh(I.amount/((I.splitWith||[]).length+1),e==null?void 0:e.currency);return m.jsxs("li",{children:["- ",m.jsx(Xa,{user:ye}),": ",Ee]},X)}),m.jsxs("li",{children:["- ",m.jsx(Xa,{user:f.find(X=>X.uid===I.paidBy)})," (Payer): ",nh(I.amount-(I.splitWith||[]).length*(I.amount/((I.splitWith||[]).length+1)),e==null?void 0:e.currency)]})]})]})]}),m.jsxs("div",{className:"flex justify-end space-x-2",children:[m.jsx(Me,{type:"button",variant:"outline",onClick:()=>{x(!1),ee()},children:"Cancel"}),m.jsx(Me,{type:"submit",children:A?"Update Transaction":"Add Transaction"})]})]})})]}),$&&m.jsxs(dt,{children:[m.jsxs(wt,{children:[m.jsx(Tt,{children:"Batch Edit Transactions"}),m.jsxs(dn,{children:["Edit ",L.length," selected transactions"]})]}),m.jsx(ft,{children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(Ye,{htmlFor:"batchCategory",children:"Category"}),m.jsxs(Gi,{value:se.categoryId,onValueChange:X=>H({...se,categoryId:X}),children:[m.jsx(Ki,{children:m.jsx(Yi,{placeholder:"Select a category"})}),m.jsx(Qi,{children:l.map(X=>m.jsx(jn,{value:X.id,children:X.name},X.id))})]})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(Hf,{id:"batchIncludeInBudget",checked:se.includeInBudget===!0,onCheckedChange:X=>H({...se,includeInBudget:X})}),m.jsx(Ye,{htmlFor:"batchIncludeInBudget",children:"Include in Budget"})]}),m.jsxs("div",{className:"flex justify-end space-x-2",children:[m.jsx(Me,{type:"button",variant:"outline",onClick:()=>{ne(!1),H({categoryId:"",includeInBudget:null})},children:"Cancel"}),m.jsxs(Me,{onClick:pe,children:["Update ",L.length," Transactions"]})]})]})})]}),m.jsxs(dt,{children:[m.jsxs(wt,{children:[m.jsx(Tt,{children:"All Transactions"}),m.jsx(dn,{children:"Manage your ledger's financial records."})]}),m.jsx(ft,{children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx(Me,{variant:"outline",onClick:xe,children:L.length===i.length?"Deselect All":"Select All"}),L.length>0&&m.jsxs("div",{className:"flex space-x-2",children:[m.jsxs(Me,{variant:"outline",onClick:()=>ne(!0),className:"flex items-center space-x-2",children:[m.jsx(El,{className:"h-4 w-4"}),m.jsxs("span",{children:["Batch Edit (",L.length,")"]})]}),m.jsxs(Me,{variant:"destructive",onClick:be,children:["Delete Selected (",L.length,")"]})]})]}),i.length===0?m.jsx("p",{children:"No transactions found. Add one above!"}):m.jsx("div",{className:"space-y-4",children:(()=>{const X={};return i.forEach(Ee=>{const Ae=new Date(Ee.date),ke=`${Ae.getFullYear()}-${String(Ae.getMonth()+1).padStart(2,"0")}`;X[ke]||(X[ke]=[]),X[ke].push(Ee)}),Object.keys(X).sort((Ee,Ae)=>Ae.localeCompare(Ee)).map(Ee=>{const Ae=X[Ee],[ke,lt]=Ee.split("-"),Ve=new Date(ke,lt-1).toLocaleDateString("en-US",{year:"numeric",month:"long"});return m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center my-6",children:[m.jsx("div",{className:"flex-grow border-t border-gray-300"}),m.jsx("div",{className:"mx-4 px-3 py-1 bg-gray-100 text-gray-600 text-sm font-medium rounded-full",children:Ve}),m.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),m.jsx("div",{className:"space-y-3",children:Ae.map(Ge=>{const Gt=l.find(Yt=>Yt.id===Ge.categoryId),Gn=f.find(Yt=>Yt.uid===Ge.paidBy),Un=f.filter(Yt=>(Ge.splitWith||[]).includes(Yt.uid));return m.jsxs("div",{className:"border p-4 rounded-md shadow-sm flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[m.jsx(Hf,{checked:L.includes(Ge.id),onCheckedChange:()=>ce(Ge.id)}),m.jsx("div",{className:"flex-1",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx("p",{className:`font-semibold ${Ge.type==="income"?"text-green-600":"text-red-600"}`,children:Ge.description}),m.jsxs("p",{className:"text-sm text-gray-500",children:[Gt==null?void 0:Gt.name," | ",new Date(Ge.date).toLocaleDateString()]}),Ge.type==="expense"&&Ge.splitType!=="none"&&m.jsxs("p",{className:"text-sm text-gray-500",children:["Paid by: ",m.jsx(Xa,{user:Gn}),(Ge.splitWith||[]).length>0&&m.jsxs("span",{children:[", Split with: ",Un.map(Yt=>Yt.displayName||Yt.email).join(", ")]})]}),Ge.type==="income"&&m.jsxs("p",{className:"text-sm text-gray-500",children:["Paid to: ",m.jsx(Xa,{user:Gn})]})]}),m.jsx("div",{className:"text-right",children:m.jsx("p",{className:`font-semibold text-lg ${Ge.type==="income"?"text-green-600":"text-red-600"}`,children:sP(Ge.amount,e==null?void 0:e.currency,Ge.type==="income")})})]})})]}),m.jsxs("div",{className:"flex space-x-2 ml-4",children:[m.jsx(Me,{variant:"outline",size:"sm",onClick:()=>ge(Ge),children:m.jsx(El,{className:"h-4 w-4"})}),m.jsx(Me,{variant:"destructive",size:"sm",onClick:()=>oe(Ge.id),children:m.jsx(wl,{className:"h-4 w-4"})})]})]},Ge.id)})})]},Ee)})})()})]})})]})]}):m.jsx("div",{className:"p-6",children:"Please select a ledger to view transactions."})}var u0="Progress",d0=100,[bL,s9]=Ql(u0),[xL,EL]=bL(u0),N2=E.forwardRef((n,e)=>{const{__scopeProgress:t,value:i=null,max:a,getValueLabel:l=wL,...u}=n;(a||a===0)&&!$w(a)&&console.error(TL(`${a}`,"Progress"));const f=$w(a)?a:d0;i!==null&&!Gw(i,f)&&console.error(SL(`${i}`,"Progress"));const p=Gw(i,f)?i:null,g=Mh(p)?l(p,f):void 0;return m.jsx(xL,{scope:t,value:p,max:f,children:m.jsx(vt.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":Mh(p)?p:void 0,"aria-valuetext":g,role:"progressbar","data-state":O2(p,f),"data-value":p??void 0,"data-max":f,...u,ref:e})})});N2.displayName=u0;var D2="ProgressIndicator",k2=E.forwardRef((n,e)=>{const{__scopeProgress:t,...i}=n,a=EL(D2,t);return m.jsx(vt.div,{"data-state":O2(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...i,ref:e})});k2.displayName=D2;function wL(n,e){return`${Math.round(n/e*100)}%`}function O2(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function Mh(n){return typeof n=="number"}function $w(n){return Mh(n)&&!isNaN(n)&&n>0}function Gw(n,e){return Mh(n)&&!isNaN(n)&&n<=e&&n>=0}function TL(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${d0}\`.`}function SL(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${d0} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var AL=N2,CL=k2;function Uy({className:n,value:e,...t}){return m.jsx(AL,{"data-slot":"progress",className:qt("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",n),...t,children:m.jsx(CL,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}function RL(){const{currentUser:n}=Ln(),{currentLedger:e,canEdit:t}=pi(),[i,a]=E.useState([]),[l,u]=E.useState([]),[f,p]=E.useState([]),[g,v]=E.useState(!0),[b,x]=E.useState(!1),[A,R]=E.useState(null),[C,D]=E.useState(""),[M,U]=E.useState(""),[L,q]=E.useState({name:"",startDate:new Date().toISOString().split("T")[0],endDate:"",totalAmount:"",timeSpan:"monthly",categories:{}}),$=(Y,se)=>{const H=new Date(Y);let ee=new Date(H);switch(se){case"weekly":ee.setDate(H.getDate()+6);break;case"monthly":ee.setMonth(H.getMonth()+1),ee.setDate(H.getDate()-1);break;case"quarterly":ee.setMonth(H.getMonth()+3),ee.setDate(H.getDate()-1);break;case"yearly":ee.setFullYear(H.getFullYear()+1),ee.setDate(H.getDate()-1);break;default:ee.setMonth(H.getMonth()+1),ee.setDate(H.getDate()-1)}return ee.toISOString().split("T")[0]},ne=async()=>{if(e)try{const Y=It(Ue,"ledgers",e.id,"budgets"),se=Zn(Y,as("startDate","desc")),H=await An(se),ee=[];H.forEach(K=>{var z,ae;const ve=K.data();ee.push({id:K.id,...ve,startDate:((z=ve.startDate)==null?void 0:z.toDate())||new Date,endDate:((ae=ve.endDate)==null?void 0:ae.toDate())||new Date})}),a(ee)}catch(Y){console.error("Error fetching budgets:",Y),D("Failed to fetch budgets")}},k=async()=>{if(e)try{const Y=It(Ue,"ledgers",e.id,"categories"),se=await An(Y),H=[];se.forEach(ee=>{H.push({id:ee.id,...ee.data()})}),u(H)}catch(Y){console.error("Error fetching categories:",Y)}},S=async()=>{if(e)try{const Y=It(Ue,"ledgers",e.id,"transactions"),se=Zn(Y,ci("includeInBudget","==",!0)),H=await An(se),ee=[];H.forEach(K=>{var z;const ve=K.data();ee.push({id:K.id,...ve,date:((z=ve.date)==null?void 0:z.toDate())||new Date})}),p(ee)}catch(Y){console.error("Error fetching transactions:",Y)}},j=Y=>{const se=f.filter(K=>{const ve=K.date;return ve>=Y.startDate&&ve<=Y.endDate&&K.type==="expense"}),H=se.reduce((K,ve)=>K+ve.amount,0),ee={};return se.forEach(K=>{K.categoryId&&(ee[K.categoryId]=(ee[K.categoryId]||0)+K.amount)}),{totalSpent:H,categorySpending:ee,transactionCount:se.length}},V=async Y=>{if(Y.preventDefault(),!t()){D("You do not have permission to manage budgets");return}try{D("");const se={...L,totalAmount:parseFloat(L.totalAmount),startDate:At.fromDate(new Date(L.startDate)),endDate:At.fromDate(new Date(L.endDate)),createdAt:At.now(),userId:n.uid};A?(await jr(Nt(Ue,"ledgers",e.id,"budgets",A.id),se),U("Budget updated successfully")):(await Ji(It(Ue,"ledgers",e.id,"budgets"),se),U("Budget created successfully")),q({name:"",startDate:new Date().toISOString().split("T")[0],endDate:"",totalAmount:"",timeSpan:"monthly",categories:{}}),x(!1),R(null),await ne()}catch(se){console.error("Error saving budget:",se),D("Failed to save budget")}},I=async Y=>{if(!t()){D("You do not have permission to delete budgets");return}try{await td(Nt(Ue,"ledgers",e.id,"budgets",Y)),U("Budget deleted successfully"),await ne()}catch(se){console.error("Error deleting budget:",se),D("Failed to delete budget")}},B=(Y,se)=>{q(H=>({...H,categories:{...H.categories,[Y]:parseFloat(se)||0}}))},P=()=>{const Y=Object.values(L.categories).reduce((se,H)=>se+(H||0),0);return(parseFloat(L.totalAmount)||0)-Y};return E.useEffect(()=>{e&&Promise.all([ne(),k(),S()]).finally(()=>v(!1))},[e]),E.useEffect(()=>{if(L.startDate&&L.timeSpan){const Y=$(L.startDate,L.timeSpan);q(se=>({...se,endDate:Y}))}},[L.startDate,L.timeSpan]),g?m.jsx("div",{className:"p-6",children:"Loading budgets..."}):e?m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Budget Management"}),t()&&m.jsxs(Me,{onClick:()=>x(!0),className:"flex items-center space-x-2",children:[m.jsx(xl,{className:"h-4 w-4"}),m.jsx("span",{children:"Create Budget"})]})]}),C&&m.jsx(Vt,{variant:"destructive",children:m.jsx(Lt,{children:C})}),M&&m.jsx(Vt,{children:m.jsx(Lt,{children:M})}),(b||A)&&m.jsxs(dt,{children:[m.jsx(wt,{children:m.jsx(Tt,{children:A?"Edit Budget":"Create New Budget"})}),m.jsx(ft,{children:m.jsxs("form",{onSubmit:V,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx(Ye,{htmlFor:"name",children:"Budget Name"}),m.jsx(Pt,{id:"name",value:L.name,onChange:Y=>q({...L,name:Y.target.value}),placeholder:"e.g., Monthly Budget - June 2025",required:!0})]}),m.jsxs("div",{children:[m.jsx(Ye,{htmlFor:"timeSpan",children:"Time Span"}),m.jsxs(Gi,{value:L.timeSpan,onValueChange:Y=>q({...L,timeSpan:Y}),children:[m.jsx(Ki,{children:m.jsx(Yi,{})}),m.jsxs(Qi,{children:[m.jsx(jn,{value:"weekly",children:"Weekly"}),m.jsx(jn,{value:"monthly",children:"Monthly"}),m.jsx(jn,{value:"quarterly",children:"Quarterly"}),m.jsx(jn,{value:"yearly",children:"Yearly"}),m.jsx(jn,{value:"custom",children:"Custom"})]})]})]}),m.jsxs("div",{children:[m.jsx(Ye,{htmlFor:"startDate",children:"Start Date"}),m.jsx(Pt,{id:"startDate",type:"date",value:L.startDate,onChange:Y=>q({...L,startDate:Y.target.value}),required:!0})]}),m.jsxs("div",{children:[m.jsx(Ye,{htmlFor:"endDate",children:"End Date"}),m.jsx(Pt,{id:"endDate",type:"date",value:L.endDate,onChange:Y=>q({...L,endDate:Y.target.value}),disabled:L.timeSpan!=="custom",required:!0})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx(Ye,{htmlFor:"totalAmount",children:"Total Budget Amount"}),m.jsx(Pt,{id:"totalAmount",type:"number",step:"0.01",value:L.totalAmount,onChange:Y=>q({...L,totalAmount:Y.target.value}),required:!0})]})]}),m.jsxs("div",{children:[m.jsx(Ye,{children:"Category Budget Allocation"}),m.jsxs("div",{className:"mt-2 space-y-2",children:[l.filter(Y=>Y.type==="expense").map(Y=>m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(Ye,{className:"w-32 text-sm",children:Y.name}),m.jsx(Pt,{type:"number",step:"0.01",value:L.categories[Y.id]||"",onChange:se=>B(Y.id,se.target.value),placeholder:"0.00",className:"w-32"})]},Y.id)),m.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[m.jsx(Ye,{className:"w-32 text-sm font-medium",children:"Remaining:"}),m.jsxs("span",{className:`text-sm font-medium ${P()<0?"text-red-600":"text-green-600"}`,children:["$",P().toFixed(2)]})]})]})]}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx(Me,{type:"submit",children:A?"Update Budget":"Create Budget"}),m.jsx(Me,{type:"button",variant:"outline",onClick:()=>{x(!1),R(null),q({name:"",startDate:new Date().toISOString().split("T")[0],endDate:"",totalAmount:"",timeSpan:"monthly",categories:{}})},children:"Cancel"})]})]})})]}),m.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:i.length===0?m.jsx(dt,{className:"lg:col-span-2",children:m.jsxs(ft,{className:"text-center py-8",children:[m.jsx(xD,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No budgets created yet"}),m.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first budget to start tracking your spending goals."}),t()&&m.jsx(Me,{onClick:()=>x(!0),children:"Create Your First Budget"})]})}):i.map(Y=>{const se=j(Y),H=se.totalSpent/Y.totalAmount*100,ee=se.totalSpent>Y.totalAmount,K=Math.ceil((Y.endDate-new Date)/(1e3*60*60*24));return m.jsxs(dt,{children:[m.jsx(wt,{children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx(Tt,{className:"text-lg",children:Y.name}),m.jsxs(dn,{children:[Y.startDate.toLocaleDateString()," - ",Y.endDate.toLocaleDateString()]})]}),t()&&m.jsxs("div",{className:"flex space-x-2",children:[m.jsx(Me,{variant:"ghost",size:"sm",onClick:()=>{R(Y),q({name:Y.name,startDate:Y.startDate.toISOString().split("T")[0],endDate:Y.endDate.toISOString().split("T")[0],totalAmount:Y.totalAmount.toString(),timeSpan:Y.timeSpan||"custom",categories:Y.categories||{}})},children:m.jsx(El,{className:"h-4 w-4"})}),m.jsx(Me,{variant:"ghost",size:"sm",onClick:()=>I(Y.id),children:m.jsx(wl,{className:"h-4 w-4"})})]})]})}),m.jsxs(ft,{className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-sm font-medium",children:"Budget Progress"}),m.jsxs(Tr,{variant:ee?"destructive":H>80?"secondary":"default",children:[H.toFixed(1),"%"]})]}),m.jsx(Uy,{value:Math.min(H,100),className:"h-2"}),m.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[m.jsxs("span",{children:["$",se.totalSpent.toFixed(2)," spent"]}),m.jsxs("span",{children:["$",Y.totalAmount.toFixed(2)," budget"]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[m.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",(Y.totalAmount-se.totalSpent).toFixed(2)]}),m.jsx("div",{className:"text-sm text-gray-600",children:"Remaining"})]}),m.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[m.jsx("div",{className:"text-lg font-semibold text-gray-900",children:K>0?K:0}),m.jsx("div",{className:"text-sm text-gray-600",children:"Days Left"})]})]}),Y.categories&&Object.keys(Y.categories).length>0&&m.jsxs("div",{children:[m.jsx("h4",{className:"text-sm font-medium mb-2",children:"Category Breakdown"}),m.jsx("div",{className:"space-y-2",children:Object.entries(Y.categories).map(([ve,z])=>{const ae=l.find(be=>be.id===ve),me=se.categorySpending[ve]||0,oe=me/z*100;return ae?m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{children:ae.name}),m.jsxs("span",{children:["$",me.toFixed(2)," / $",z.toFixed(2)]})]}),m.jsx(Uy,{value:Math.min(oe,100),className:"h-1"})]},ve):null})})]}),m.jsxs("div",{className:"text-sm text-gray-600",children:[se.transactionCount," transactions in this period"]})]})]},Y.id)})})]}):m.jsx("div",{className:"p-6",children:"Please select a ledger to view budgets."})}/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */var IL=function(){var n={base:"https://twemoji.maxcdn.com/v/14.0.2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:U,toCodePoint:ne},onerror:function(){this.parentNode&&this.parentNode.replaceChild(p(this.alt,!1),this)},parse:L,replace:q,test:$},e={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},t=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd\udec3-\udec5\udef0-\udef6]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedd-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec2\uded0-\uded9\udee0-\udee7]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,i=/\uFE0F/g,a="",l=/[&<>'"]/g,u=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,f=String.fromCharCode;return n;function p(k,S){return document.createTextNode(S?k.replace(i,""):k)}function g(k){return k.replace(l,C)}function v(k,S){return"".concat(S.base,S.size,"/",k,S.ext)}function b(k,S){for(var j=k.childNodes,V=j.length,I,B;V--;)I=j[V],B=I.nodeType,B===3?S.push(I):B===1&&!("ownerSVGElement"in I)&&!u.test(I.nodeName.toLowerCase())&&b(I,S);return S}function x(k){return ne(k.indexOf(a)<0?k.replace(i,""):k)}function A(k,S){for(var j=b(k,[]),V=j.length,I,B,P,Y,se,H,ee,K,ve,z,ae,me,oe;V--;){for(P=!1,Y=document.createDocumentFragment(),se=j[V],H=se.nodeValue,K=0;ee=t.exec(H);){if(ve=ee.index,ve!==K&&Y.appendChild(p(H.slice(K,ve),!0)),ae=ee[0],me=x(ae),K=ve+ae.length,oe=S.callback(me,S),me&&oe){z=new Image,z.onerror=S.onerror,z.setAttribute("draggable","false"),I=S.attributes(ae,me);for(B in I)I.hasOwnProperty(B)&&B.indexOf("on")!==0&&!z.hasAttribute(B)&&z.setAttribute(B,I[B]);z.className=S.className,z.alt=ae,z.src=oe,P=!0,Y.appendChild(z)}z||Y.appendChild(p(ae,!1)),z=null}P&&(K<H.length&&Y.appendChild(p(H.slice(K),!0)),se.parentNode.replaceChild(Y,se))}return k}function R(k,S){return q(k,function(j){var V=j,I=x(j),B=S.callback(I,S),P,Y;if(I&&B){V="<img ".concat('class="',S.className,'" ','draggable="false" ','alt="',j,'"',' src="',B,'"'),P=S.attributes(j,I);for(Y in P)P.hasOwnProperty(Y)&&Y.indexOf("on")!==0&&V.indexOf(" "+Y+"=")===-1&&(V=V.concat(" ",Y,'="',g(P[Y]),'"'));V=V.concat("/>")}return V})}function C(k){return e[k]}function D(){return null}function M(k){return typeof k=="number"?k+"x"+k:k}function U(k){var S=typeof k=="string"?parseInt(k,16):k;return S<65536?f(S):(S-=65536,f(55296+(S>>10),56320+(S&1023)))}function L(k,S){return(!S||typeof S=="function")&&(S={callback:S}),(typeof k=="string"?R:A)(k,{callback:S.callback||v,attributes:typeof S.attributes=="function"?S.attributes:D,base:typeof S.base=="string"?S.base:n.base,ext:S.ext||n.ext,size:S.folder||M(S.size||n.size),className:S.className||n.className,onerror:S.onerror||n.onerror})}function q(k,S){return String(k).replace(t,S)}function $(k){t.lastIndex=0;var S=t.test(k);return t.lastIndex=0,S}function ne(k,S){for(var j=[],V=0,I=0,B=0;B<k.length;)V=k.charCodeAt(B++),I?(j.push((65536+(I-55296<<10)+(V-56320)).toString(16)),I=0):55296<=V&&V<=56319?I=V:j.push(V.toString(16));return j.join(S||"-")}}();const NL=[{name:"Food & Dining",emoji:"",type:"expense"},{name:"Transportation",emoji:"",type:"expense"},{name:"Shopping",emoji:"",type:"expense"},{name:"Entertainment",emoji:"",type:"expense"},{name:"Bills & Utilities",emoji:"",type:"expense"},{name:"Healthcare",emoji:"",type:"expense"},{name:"Education",emoji:"",type:"expense"},{name:"Travel",emoji:"",type:"expense"},{name:"Fitness",emoji:"",type:"expense"},{name:"Personal Care",emoji:"",type:"expense"}],DL=[{name:"Salary",emoji:"",type:"income"},{name:"Freelance",emoji:"",type:"income"},{name:"Investment",emoji:"",type:"income"},{name:"Business",emoji:"",type:"income"},{name:"Rental",emoji:"",type:"income"},{name:"Gift",emoji:"",type:"income"}],kL=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];function OL(){const{currentUser:n}=Ln(),{currentLedger:e,canEdit:t}=pi(),[i,a]=E.useState([]),[l,u]=E.useState(!0),[f,p]=E.useState(!1),[g,v]=E.useState(null),[b,x]=E.useState(""),[A,R]=E.useState(""),[C,D]=E.useState({name:"",emoji:"",type:"expense"}),M=I=>I?m.jsx("span",{dangerouslySetInnerHTML:{__html:IL.parse(I,{folder:"svg",ext:".svg",base:"https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/"})},style:{width:"20px",height:"20px",display:"inline-block"}}):null,U=async()=>{if(e)try{const I=It(Ue,"ledgers",e.id,"categories"),B=Zn(I,as("type"),as("name")),P=await An(B),Y=[];P.forEach(se=>{Y.push({id:se.id,...se.data()})}),a(Y),u(!1)}catch(I){console.error("Error fetching categories:",I),x("Failed to fetch categories"),u(!1)}},L=async()=>{if(!(!e||!t()))try{const I=It(Ue,"ledgers",e.id,"categories");for(const B of NL)await Ji(I,{...B,createdAt:new Date,createdBy:n.uid});for(const B of DL)await Ji(I,{...B,createdAt:new Date,createdBy:n.uid});await U(),R("Default categories created successfully!")}catch(I){console.error("Error creating default categories:",I),x("Failed to create default categories")}},q=async I=>{if(I.preventDefault(),!(!e||!t()))try{const B=It(Ue,"ledgers",e.id,"categories");await Ji(B,{...C,createdAt:new Date,createdBy:n.uid}),D({name:"",emoji:"",type:"expense"}),p(!1),await U(),R("Category added successfully!")}catch(B){console.error("Error adding category:",B),x("Failed to add category")}},$=async I=>{if(I.preventDefault(),!(!g||!t()))try{const B=Nt(Ue,"ledgers",e.id,"categories",g.id);await jr(B,{name:C.name,emoji:C.emoji,type:C.type,updatedAt:new Date,updatedBy:n.uid}),v(null),D({name:"",emoji:"",type:"expense"}),await U(),R("Category updated successfully!")}catch(B){console.error("Error updating category:",B),x("Failed to update category")}},ne=async I=>{if(!(!t()||!confirm("Are you sure you want to delete this category?")))try{const B=Nt(Ue,"ledgers",e.id,"categories",I);await td(B),await U(),R("Category deleted successfully!")}catch(B){console.error("Error deleting category:",B),x("Failed to delete category")}},k=I=>{v(I),D({name:I.name,emoji:I.emoji,type:I.type}),p(!1)},S=()=>{v(null),D({name:"",emoji:"",type:"expense"})};if(E.useEffect(()=>{U()},[e]),E.useEffect(()=>{if(A||b){const I=setTimeout(()=>{R(""),x("")},3e3);return()=>clearTimeout(I)}},[A,b]),l)return m.jsx("div",{className:"p-6",children:m.jsxs("div",{className:"animate-pulse space-y-6",children:[m.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2,3,4].map(I=>m.jsx("div",{className:"h-32 bg-gray-200 rounded"},I))})]})});const j=i.filter(I=>I.type==="expense"),V=i.filter(I=>I.type==="income");return m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Category Management"}),t()&&m.jsxs(Me,{onClick:()=>p(!0),className:"flex items-center space-x-2",children:[m.jsx(xl,{className:"h-4 w-4"}),m.jsx("span",{children:"Add Category"})]})]}),b&&m.jsx(Vt,{variant:"destructive",children:m.jsx(Lt,{children:b})}),A&&m.jsx(Vt,{children:m.jsx(Lt,{children:A})}),(f||g)&&m.jsxs(dt,{children:[m.jsxs(wt,{children:[m.jsx(Tt,{children:g?"Edit Category":"Add New Category"}),m.jsx(dn,{children:g?"Update category details":"Create a new category with emoji"})]}),m.jsx(ft,{children:m.jsxs("form",{onSubmit:g?$:q,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx(Ye,{htmlFor:"name",children:"Category Name"}),m.jsx(Pt,{id:"name",value:C.name,onChange:I=>D({...C,name:I.target.value}),placeholder:"Enter category name",required:!0})]}),m.jsxs("div",{children:[m.jsx(Ye,{htmlFor:"type",children:"Type"}),m.jsxs(Gi,{value:C.type,onValueChange:I=>D({...C,type:I}),children:[m.jsx(Ki,{children:m.jsx(Yi,{})}),m.jsxs(Qi,{children:[m.jsx(jn,{value:"expense",children:"Expense"}),m.jsx(jn,{value:"income",children:"Income"})]})]})]}),m.jsxs("div",{children:[m.jsx(Ye,{htmlFor:"emoji",children:"Emoji"}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(Pt,{id:"emoji",value:C.emoji,onChange:I=>D({...C,emoji:I.target.value}),placeholder:"",className:"w-20"}),m.jsx("div",{className:"flex items-center space-x-1",children:M(C.emoji)})]})]})]}),m.jsxs("div",{children:[m.jsx(Ye,{children:"Popular Emojis"}),m.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:kL.map((I,B)=>m.jsx("button",{type:"button",onClick:()=>D({...C,emoji:I}),className:"p-2 border rounded hover:bg-gray-100 transition-colors",children:M(I)},B))})]}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsxs(Me,{type:"submit",className:"flex items-center space-x-2",children:[m.jsx(Xy,{className:"h-4 w-4"}),m.jsxs("span",{children:[g?"Update":"Add"," Category"]})]}),m.jsxs(Me,{type:"button",variant:"outline",onClick:()=>{p(!1),S()},className:"flex items-center space-x-2",children:[m.jsx(Tl,{className:"h-4 w-4"}),m.jsx("span",{children:"Cancel"})]})]})]})})]}),i.length===0?m.jsx(dt,{children:m.jsxs(ft,{className:"text-center py-8",children:[m.jsx(RT,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Categories Found"}),m.jsx("p",{className:"text-gray-600 mb-4",children:"Create categories to organize your transactions"}),t()&&m.jsxs(Me,{onClick:L,className:"flex items-center space-x-2 mx-auto",children:[m.jsx(xl,{className:"h-4 w-4"}),m.jsx("span",{children:"Create Default Categories"})]})]})}):m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs(dt,{children:[m.jsx(wt,{children:m.jsxs(Tt,{className:"flex items-center space-x-2",children:[m.jsx("span",{children:""}),m.jsx("span",{children:"Expense Categories"}),m.jsx(Tr,{variant:"secondary",children:j.length})]})}),m.jsx(ft,{children:m.jsx("div",{className:"space-y-2",children:j.map(I=>m.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[M(I.emoji),m.jsx("span",{className:"font-medium",children:I.name})]}),t()&&m.jsxs("div",{className:"flex space-x-2",children:[m.jsx(Me,{size:"sm",variant:"ghost",onClick:()=>k(I),className:"h-8 w-8 p-0",children:m.jsx(El,{className:"h-4 w-4"})}),m.jsx(Me,{size:"sm",variant:"ghost",onClick:()=>ne(I.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:m.jsx(wl,{className:"h-4 w-4"})})]})]},I.id))})})]}),m.jsxs(dt,{children:[m.jsx(wt,{children:m.jsxs(Tt,{className:"flex items-center space-x-2",children:[m.jsx("span",{children:""}),m.jsx("span",{children:"Income Categories"}),m.jsx(Tr,{variant:"secondary",children:V.length})]})}),m.jsx(ft,{children:m.jsx("div",{className:"space-y-2",children:V.map(I=>m.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[M(I.emoji),m.jsx("span",{className:"font-medium",children:I.name})]}),t()&&m.jsxs("div",{className:"flex space-x-2",children:[m.jsx(Me,{size:"sm",variant:"ghost",onClick:()=>k(I),className:"h-8 w-8 p-0",children:m.jsx(El,{className:"h-4 w-4"})}),m.jsx(Me,{size:"sm",variant:"ghost",onClick:()=>ne(I.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:m.jsx(wl,{className:"h-4 w-4"})})]})]},I.id))})})]})]})]})}function jL({ledger:n,onClose:e}){const{currentUser:t}=Ln(),{refreshLedgers:i}=pi(),[a,l]=E.useState(!1),[u,f]=E.useState(""),[p,g]=E.useState(""),[v,b]=E.useState([]),[x,A]=E.useState([]),[R,C]=E.useState({email:"",role:"member"}),D=async()=>{if(n)try{const $=It(Ue,"invitations"),ne=Zn($,ci("ledgerId","==",n.id),ci("status","==","pending"),as("createdAt","desc")),k=await An(ne),S=[];k.forEach(j=>{S.push({id:j.id,...j.data()})}),b(S)}catch($){console.error("Error fetching invitations:",$)}},M=async()=>{if(!(!n||!n.members))try{const $=It(Ue,"users"),ne=Object.keys(n.members);if(ne.length===0)return;const k=[];for(const S of ne)try{(await An(Zn($,ci("__name__","==",S)))).forEach(V=>{k.push({id:V.id,...V.data(),role:n.members[S]})})}catch{k.push({id:S,email:"Unknown User",displayName:"Unknown User",role:n.members[S]})}A(k)}catch($){console.error("Error fetching members:",$)}},U=async()=>{if(!t||!n||!R.email.trim())return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(R.email)){f("Please enter a valid email address");return}if(x.find(S=>S.email.toLowerCase()===R.email.toLowerCase())){f("This user is already a member of this ledger");return}if(v.find(S=>S.inviteeEmail.toLowerCase()===R.email.toLowerCase())){f("An invitation has already been sent to this email address");return}try{l(!0),f(""),await Ji(It(Ue,"invitations"),{ledgerId:n.id,ledgerName:n.name,inviterId:t.uid,inviterEmail:t.email,inviterName:t.displayName||t.email,inviteeEmail:R.email.toLowerCase(),role:R.role,status:"pending",createdAt:new Date,expiresAt:new Date(Date.now()+7*24*60*60*1e3)}),await D(),g("Invitation sent successfully!"),C({email:"",role:"member"})}catch(S){console.error("Error sending invitation:",S),f("Failed to send invitation")}finally{l(!1)}},L=async $=>{try{l(!0),await td(Nt(Ue,"invitations",$)),await D(),g("Invitation cancelled successfully!")}catch(ne){console.error("Error cancelling invitation:",ne),f("Failed to cancel invitation")}finally{l(!1)}},q=async $=>{if(confirm("Are you sure you want to remove this member from the ledger?"))try{l(!0);const ne={...n.members};delete ne[$],await jr(Nt(Ue,"ledgers",n.id),{members:ne,updatedAt:new Date}),await i(),await M(),g("Member removed successfully!")}catch(ne){console.error("Error removing member:",ne),f("Failed to remove member")}finally{l(!1)}};return E.useEffect(()=>{D(),M()},[n]),E.useEffect(()=>{if(p||u){const $=setTimeout(()=>{g(""),f("")},3e3);return()=>clearTimeout($)}},[p,u]),m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:m.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Manage Ledger Access: ",n==null?void 0:n.name]}),m.jsx(Me,{variant:"ghost",size:"sm",onClick:e,children:m.jsx(Tl,{className:"h-4 w-4"})})]}),u&&m.jsx(Vt,{variant:"destructive",className:"mb-4",children:m.jsx(Lt,{children:u})}),p&&m.jsx(Vt,{className:"mb-4",children:m.jsx(Lt,{children:p})}),m.jsxs(dt,{className:"mb-6",children:[m.jsxs(wt,{children:[m.jsxs(Tt,{className:"flex items-center",children:[m.jsx(NT,{className:"h-5 w-5 mr-2"}),"Invite New User"]}),m.jsx(dn,{children:"Send an invitation to add a new member to this ledger."})]}),m.jsxs(ft,{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(Ye,{htmlFor:"email",children:"Email Address"}),m.jsx(Pt,{id:"email",type:"email",value:R.email,onChange:$=>C(ne=>({...ne,email:$.target.value})),placeholder:"user@example.com"})]}),m.jsxs("div",{children:[m.jsx(Ye,{htmlFor:"role",children:"Role"}),m.jsxs(Gi,{value:R.role,onValueChange:$=>C(ne=>({...ne,role:$})),children:[m.jsx(Ki,{children:m.jsx(Yi,{placeholder:"Select role"})}),m.jsxs(Qi,{children:[m.jsx(jn,{value:"member",children:"Member"}),m.jsx(jn,{value:"owner",children:"Owner"})]})]})]}),m.jsxs(Me,{onClick:U,disabled:a||!R.email.trim(),className:"w-full",children:[m.jsx(pD,{className:"h-4 w-4 mr-2"}),"Send Invitation"]})]})]}),m.jsxs(dt,{className:"mb-6",children:[m.jsx(wt,{children:m.jsxs(Tt,{className:"flex items-center",children:[m.jsx(kT,{className:"h-5 w-5 mr-2"}),"Current Members (",x.length,")"]})}),m.jsx(ft,{children:m.jsx("div",{className:"space-y-3",children:x.map($=>m.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(jl,{user:$,size:"sm"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:$.displayName||"Unknown User"}),m.jsx("p",{className:"text-sm text-gray-600",children:$.email})]})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(Tr,{variant:$.role==="owner"?"default":"secondary",children:$.role}),$.id!==t.uid&&$.role!=="owner"&&m.jsx(Me,{size:"sm",variant:"destructive",onClick:()=>q($.id),disabled:a,children:m.jsx(wl,{className:"h-3 w-3"})})]})]},$.id))})})]}),v.length>0&&m.jsxs(dt,{children:[m.jsx(wt,{children:m.jsxs(Tt,{className:"flex items-center",children:[m.jsx(Jg,{className:"h-5 w-5 mr-2"}),"Pending Invitations (",v.length,")"]})}),m.jsx(ft,{children:m.jsx("div",{className:"space-y-3",children:v.map($=>m.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(CT,{className:"h-5 w-5 text-gray-400"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:$.inviteeEmail}),m.jsxs("p",{className:"text-sm text-gray-600",children:["Invited ",new Date($.createdAt.toDate()).toLocaleDateString()]})]})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(Tr,{variant:"secondary",children:$.role}),m.jsx(Tr,{variant:"outline",children:"Pending"}),m.jsx(Me,{size:"sm",variant:"destructive",onClick:()=>L($.id),disabled:a,children:m.jsx(Tl,{className:"h-3 w-3"})})]})]},$.id))})})]})]})})})}const ML=[{value:"CNY",label:" Chinese Yuan (CNY)"},{value:"USD",label:"$ US Dollar (USD)"},{value:"EUR",label:" Euro (EUR)"},{value:"GBP",label:" British Pound (GBP)"},{value:"JPY",label:" Japanese Yen (JPY)"}];function PL(){const{currentUser:n}=Ln(),{ledgers:e,currentLedger:t,switchLedger:i,refreshLedgers:a,isOwner:l}=pi(),[u,f]=E.useState(!1),[p,g]=E.useState(!1),[v,b]=E.useState(null),[x,A]=E.useState(!1),[R,C]=E.useState(null),[D,M]=E.useState(""),[U,L]=E.useState(""),[q,$]=E.useState({name:"",currency:"CNY",description:""}),ne=async()=>{if(!(!n||!q.name.trim()))try{f(!0),M("");const Y=await Ji(It(Ue,"ledgers"),{name:q.name.trim(),description:q.description.trim(),currency:q.currency,ownerId:n.uid,createdAt:new Date,members:{[n.uid]:"owner"}});await a(),L("Ledger created successfully!"),g(!1),$({name:"",currency:"CNY",description:""})}catch(Y){console.error("Error creating ledger:",Y),M("Failed to create ledger")}finally{f(!1)}},k=async()=>{if(!(!v||!q.name.trim()))try{f(!0),M(""),await jr(Nt(Ue,"ledgers",v.id),{name:q.name.trim(),description:q.description.trim(),currency:q.currency,updatedAt:new Date}),await a(),L("Ledger updated successfully!"),b(null),$({name:"",currency:"CNY",description:""})}catch(Y){console.error("Error updating ledger:",Y),M("Failed to update ledger")}finally{f(!1)}},S=async Y=>{if(confirm("Are you sure you want to delete this ledger? This action cannot be undone."))try{f(!0),M(""),await td(Nt(Ue,"ledgers",Y)),await a(),L("Ledger deleted successfully!")}catch(se){console.error("Error deleting ledger:",se),M("Failed to delete ledger")}finally{f(!1)}},j=Y=>{b(Y),$({name:Y.name,currency:Y.currency||"CNY",description:Y.description||""}),g(!1)},V=()=>{b(null),g(!1),$({name:"",currency:"CNY",description:""})},I=Y=>!Y.members||!n?null:Y.members[n.uid]||null,B=Y=>Y.members?Object.keys(Y.members).length:0,P=Y=>Y.members?Object.keys(Y.members).map(se=>({uid:se,displayName:se===(n==null?void 0:n.uid)?n.displayName||n.email:`User ${se.slice(0,8)}`,email:se===(n==null?void 0:n.uid)?n.email:`${se.slice(0,8)}@example.com`})):[];return E.useEffect(()=>{if(U||D){const Y=setTimeout(()=>{L(""),M("")},3e3);return()=>clearTimeout(Y)}},[U,D]),m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Ledger Management"}),m.jsxs(Me,{onClick:()=>g(!0),className:"bg-blue-500 hover:bg-blue-600",children:[m.jsx(xl,{className:"h-4 w-4 mr-2"}),"Create Ledger"]})]}),D&&m.jsx(Vt,{variant:"destructive",children:m.jsx(Lt,{children:D})}),U&&m.jsx(Vt,{children:m.jsx(Lt,{children:U})}),(p||v)&&m.jsxs(dt,{children:[m.jsxs(wt,{children:[m.jsx(Tt,{children:v?"Edit Ledger":"Create New Ledger"}),m.jsx(dn,{children:v?"Update the ledger details below.":"Create a new ledger to organize your expenses separately."})]}),m.jsxs(ft,{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(Ye,{htmlFor:"name",children:"Ledger Name"}),m.jsx(Pt,{id:"name",value:q.name,onChange:Y=>$(se=>({...se,name:Y.target.value})),placeholder:"e.g., Personal Expenses, Business Travel, Family Budget"})]}),m.jsxs("div",{children:[m.jsx(Ye,{htmlFor:"currency",children:"Currency"}),m.jsxs(Gi,{value:q.currency,onValueChange:Y=>$(se=>({...se,currency:Y})),children:[m.jsx(Ki,{children:m.jsx(Yi,{placeholder:"Select currency"})}),m.jsx(Qi,{children:ML.map(Y=>m.jsx(jn,{value:Y.value,children:Y.label},Y.value))})]})]}),m.jsxs("div",{children:[m.jsx(Ye,{htmlFor:"description",children:"Description (Optional)"}),m.jsx(Pt,{id:"description",value:q.description,onChange:Y=>$(se=>({...se,description:Y.target.value})),placeholder:"Brief description of this ledger's purpose"})]}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsxs(Me,{onClick:v?k:ne,disabled:u||!q.name.trim(),children:[m.jsx(Xy,{className:"h-4 w-4 mr-2"}),v?"Update":"Create"]}),m.jsxs(Me,{variant:"outline",onClick:V,children:[m.jsx(Tl,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})]}),m.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(Y=>{const se=I(Y),H=B(Y),ee=(t==null?void 0:t.id)===Y.id;return m.jsxs(dt,{className:`cursor-pointer transition-all ${ee?"ring-2 ring-blue-500 bg-blue-50":"hover:shadow-md"}`,onClick:()=>i(Y.id),children:[m.jsx(wt,{className:"pb-3",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs(Tt,{className:"text-lg flex items-center",children:[m.jsx(oh,{className:"h-5 w-5 mr-2"}),Y.name,ee&&m.jsx(Tr,{variant:"secondary",className:"ml-2",children:"Current"})]}),Y.description&&m.jsx(dn,{className:"mt-1",children:Y.description})]}),se==="owner"&&m.jsx(eD,{className:"h-4 w-4 text-yellow-500"})]})}),m.jsxs(ft,{children:[m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-gray-600",children:"Currency:"}),m.jsx("span",{className:"font-medium",children:Y.currency||"CNY"})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-gray-600",children:"Members:"}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(rP,{users:P(Y),size:"xs",maxDisplay:3}),m.jsx("span",{className:"font-medium text-xs",children:H})]})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-gray-600",children:"Role:"}),m.jsx(Tr,{variant:se==="owner"?"default":"secondary",children:se})]})]}),se==="owner"&&m.jsxs("div",{className:"flex space-x-2 mt-4 pt-3 border-t",children:[m.jsxs(Me,{size:"sm",variant:"outline",onClick:K=>{K.stopPropagation(),j(Y)},children:[m.jsx(El,{className:"h-3 w-3 mr-1"}),"Edit"]}),m.jsxs(Me,{size:"sm",variant:"outline",onClick:K=>{K.stopPropagation(),C(Y),A(!0)},children:[m.jsx(NT,{className:"h-3 w-3 mr-1"}),"Invite"]}),e.length>1&&m.jsxs(Me,{size:"sm",variant:"destructive",onClick:K=>{K.stopPropagation(),S(Y.id)},children:[m.jsx(wl,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]})]},Y.id)})}),e.length===0&&m.jsx(dt,{children:m.jsxs(ft,{className:"text-center py-8",children:[m.jsx(oh,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Ledgers Found"}),m.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first ledger to start tracking expenses."}),m.jsxs(Me,{onClick:()=>g(!0),children:[m.jsx(xl,{className:"h-4 w-4 mr-2"}),"Create Your First Ledger"]})]})}),x&&R&&m.jsx(jL,{ledger:R,onClose:()=>{A(!1),C(null)}})]})}function VL(){const{currentUser:n}=Ln(),[e,t]=E.useState(!1),[i,a]=E.useState(""),[l,u]=E.useState(""),[f,p]=E.useState({displayName:"",profileColor:""}),g={...n,displayName:f.displayName,profileColor:f.profileColor},v=async()=>{if(n)try{t(!0);const R=await om(Nt(Ue,"users",n.uid)),C=R.exists()?R.data():{};p({displayName:n.displayName||C.displayName||"",profileColor:C.profileColor||""})}catch(R){console.error("Error loading profile data:",R),a("Failed to load profile data")}finally{t(!1)}},b=async()=>{if(n)try{if(t(!0),a(""),!f.displayName.trim()){a("Display name is required");return}if(f.profileColor&&!nP(f.profileColor)){a("Invalid color selected");return}await yS(n,{displayName:f.displayName.trim()}),await jr(Nt(Ue,"users",n.uid),{displayName:f.displayName.trim(),profileColor:f.profileColor||null,updatedAt:new Date}),u("Profile updated successfully!")}catch(R){console.error("Error saving profile:",R),a("Failed to save profile changes")}finally{t(!1)}},x=()=>{const R=tP();p(C=>({...C,profileColor:R}))},A=()=>{p(R=>({...R,profileColor:""}))};return E.useEffect(()=>{v()},[n]),E.useEffect(()=>{if(l||i){const R=setTimeout(()=>{u(""),a("")},3e3);return()=>clearTimeout(R)}},[l,i]),m.jsxs(dt,{children:[m.jsxs(wt,{children:[m.jsxs(Tt,{className:"flex items-center",children:[m.jsx(DT,{className:"h-5 w-5 mr-2"}),"Profile Settings"]}),m.jsx(dn,{children:"Manage your display name and profile image appearance."})]}),m.jsxs(ft,{className:"space-y-6",children:[i&&m.jsx(Vt,{variant:"destructive",children:m.jsx(Lt,{children:i})}),l&&m.jsx(Vt,{children:m.jsx(Lt,{children:l})}),m.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[m.jsx(jl,{user:g,size:"xl"}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium text-lg",children:"Profile Preview"}),m.jsx("p",{className:"text-sm text-gray-600",children:"This is how your profile will appear to other users"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ye,{htmlFor:"displayName",children:"Display Name"}),m.jsx(Pt,{id:"displayName",value:f.displayName,onChange:R=>p(C=>({...C,displayName:R.target.value})),placeholder:"Enter your display name",disabled:e}),m.jsx("p",{className:"text-xs text-gray-500",children:"This name will be visible to other users in shared ledgers"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(Ye,{children:"Profile Color"}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsxs(Me,{type:"button",size:"sm",variant:"outline",onClick:x,disabled:e,children:[m.jsx(fD,{className:"h-3 w-3 mr-1"}),"Random"]}),m.jsx(Me,{type:"button",size:"sm",variant:"outline",onClick:A,disabled:e,children:"Default"})]})]}),m.jsx("div",{className:"grid grid-cols-10 gap-2",children:Xs.map(R=>m.jsx("button",{type:"button",className:`
                  w-8 h-8 rounded-full border-2 transition-all
                  ${f.profileColor===R?"border-gray-900 scale-110":"border-gray-300 hover:border-gray-500"}
                `,style:{backgroundColor:R},onClick:()=>p(C=>({...C,profileColor:R})),disabled:e,title:R},R))}),m.jsx("p",{className:"text-xs text-gray-500",children:"Choose a color for your profile image background, or leave default for auto-generated color"})]}),m.jsx("div",{className:"flex justify-end",children:m.jsxs(Me,{onClick:b,disabled:e||!f.displayName.trim(),children:[m.jsx(Xy,{className:"h-4 w-4 mr-2"}),e?"Saving...":"Save Changes"]})})]})]})}var gm="Switch",[LL,a9]=Ql(gm),[UL,BL]=LL(gm),j2=E.forwardRef((n,e)=>{const{__scopeSwitch:t,name:i,checked:a,defaultChecked:l,required:u,disabled:f,value:p="on",onCheckedChange:g,form:v,...b}=n,[x,A]=E.useState(null),R=Ut(e,L=>A(L)),C=E.useRef(!1),D=x?v||!!x.closest("form"):!0,[M,U]=Oh({prop:a,defaultProp:l??!1,onChange:g,caller:gm});return m.jsxs(UL,{scope:t,checked:M,disabled:f,children:[m.jsx(vt.button,{type:"button",role:"switch","aria-checked":M,"aria-required":u,"data-state":L2(M),"data-disabled":f?"":void 0,disabled:f,value:p,...b,ref:R,onClick:Mt(n.onClick,L=>{U(q=>!q),D&&(C.current=L.isPropagationStopped(),C.current||L.stopPropagation())})}),D&&m.jsx(V2,{control:x,bubbles:!C.current,name:i,value:p,checked:M,required:u,disabled:f,form:v,style:{transform:"translateX(-100%)"}})]})});j2.displayName=gm;var M2="SwitchThumb",P2=E.forwardRef((n,e)=>{const{__scopeSwitch:t,...i}=n,a=BL(M2,t);return m.jsx(vt.span,{"data-state":L2(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e})});P2.displayName=M2;var zL="SwitchBubbleInput",V2=E.forwardRef(({__scopeSwitch:n,control:e,checked:t,bubbles:i=!0,...a},l)=>{const u=E.useRef(null),f=Ut(u,l),p=o0(t),g=i0(e);return E.useEffect(()=>{const v=u.current;if(!v)return;const b=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(b,"checked").set;if(p!==t&&A){const R=new Event("click",{bubbles:i});A.call(v,t),v.dispatchEvent(R)}},[p,t,i]),m.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...a,tabIndex:-1,ref:f,style:{...a.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});V2.displayName=zL;function L2(n){return n?"checked":"unchecked"}var FL=j2,HL=P2;function qL({className:n,...e}){return m.jsx(FL,{"data-slot":"switch",className:qt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:m.jsx(HL,{"data-slot":"switch-thumb",className:qt("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function $L({smartCategorizationEnabled:n,setSmartCategorizationEnabled:e}){var S,j;const{currentUser:t}=Ln(),{currentLedger:i}=pi(),[a,l]=E.useState(""),[u,f]=E.useState(!1),[p,g]=E.useState(""),[v,b]=E.useState(!1),[x,A]=E.useState(`You are a financial-data assistant. I will provide you with a CSV file of transactions containing at least the following columns: Date, Description, Amount.  Response in JSON and say nothing else:

1. For each row, determine whether it is an **expense** or an **income**.   

2. Assign each transaction to one of the following **Expense** or **Income** categories (or to a special category if needed):

   **Expense Categories**  
   ${((S=i==null?void 0:i.expenseCategories)==null?void 0:S.map(V=>`- ${V.name}`).join(`
`))||'- HTT: (Hard To Tell) if you can"t unambiguously assign one of the above'}

   **Income Categories**  
   ${((j=i==null?void 0:i.incomeCategories)==null?void 0:j.map(V=>`- ${V.name}`).join(`
`))||"- HTT"}

   Use merchant names, keywords in the description, or amount signs to guide your choice.  

3. Output a single JSON object with this exact structure:

\`\`\`json
{
  "transactions": [
    {
      "id": "<self-increment id>",
      "category": "<one of the given categories: Bills & Utilities, , Refund, HTT>"
    }
  ]
}

4.  Optionally, "corrections" showing prior mis-classifications I"ve corrected may be provided to guide this categorization `),[R,C]=E.useState(!1),[D,M]=E.useState(""),[U,L]=E.useState(!1),[q,$]=E.useState(!0);E.useEffect(()=>{(async()=>{if(t){$(!0);try{const I=Nt(Ue,"users",t.uid),B=await om(I);if(B.exists()){const P=B.data();e(P.smartCategorizationEnabled||!1),l(P.llmApiKey||""),P.llmApiKey&&f(!0)}}catch(I){console.error("Error loading smart categorization settings:",I)}finally{$(!1)}}})()},[t,e]),E.useEffect(()=>{t&&!q&&(async()=>{try{const I=Nt(Ue,"users",t.uid);await jr(I,{smartCategorizationEnabled:n,updatedAt:new Date})}catch(I){console.error("Error saving smart categorization setting:",I)}})()},[n,t,q]);const ne=async()=>{if(!a.trim()){g("Please enter an API key.");return}b(!0),g("");try{const V=await fetch("https://ark.cn-beijing.volces.com/api/v3/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({messages:[{content:"hello world",role:"user"}],model:"doubao-seed-1-6-flash-250615"})});if(V.ok){if(f(!0),g(""),t){const I=Nt(Ue,"users",t.uid);await jr(I,{llmApiKey:a,updatedAt:new Date})}}else{const I=await V.json();g(`API Key verification failed: ${I.message||V.statusText}`),f(!1)}}catch(V){g(`Network error: ${V.message}`),f(!1)}finally{b(!1)}},k=()=>{x.trim()?(C(!0),M("")):M("System prompt cannot be empty.")};return q?m.jsxs(dt,{children:[m.jsxs(wt,{children:[m.jsx(Tt,{children:"Smart Categorization Settings"}),m.jsx(dn,{children:"Loading settings..."})]}),m.jsx(ft,{children:m.jsx("p",{children:"Loading..."})})]}):m.jsxs(dt,{children:[m.jsxs(wt,{children:[m.jsx(Tt,{children:"Smart Categorization Settings"}),m.jsx(dn,{children:"Configure settings for LLM-powered transaction categorization."})]}),m.jsxs(ft,{children:[m.jsxs("div",{className:"flex items-center justify-between space-x-2 mb-4",children:[m.jsx(Ye,{htmlFor:"smart-categorization-mode",children:"Enable Smart Categorization"}),m.jsx(qL,{id:"smart-categorization-mode",checked:n,onCheckedChange:e})]}),n&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"space-y-4 mb-4",children:[m.jsx(Ye,{htmlFor:"api-key",children:"Doubao API Key"}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(Pt,{id:"api-key",type:"password",placeholder:"Enter your Doubao API Key",value:a,onChange:V=>l(V.target.value),disabled:u||v}),m.jsx(Me,{onClick:ne,disabled:v||u,children:v?"Verifying...":u?m.jsx(yu,{className:"h-4 w-4"}):"Verify"})]}),p&&m.jsxs(Vt,{variant:"destructive",children:[m.jsx(Zg,{className:"h-4 w-4"}),m.jsx(Lt,{children:p})]}),u&&m.jsxs(Vt,{children:[m.jsx(yu,{className:"h-4 w-4"}),m.jsx(Lt,{children:"API Key verified successfully!"})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(Ye,{htmlFor:"system-prompt",children:"System Prompt"}),m.jsx(b2,{id:"system-prompt",placeholder:"Enter the system prompt for LLM categorization",value:x,onChange:V=>A(V.target.value),rows:10,disabled:R}),m.jsx(Me,{onClick:k,disabled:R,children:R?m.jsx(yu,{className:"h-4 w-4"}):"Confirm Prompt"}),D&&m.jsxs(Vt,{variant:"destructive",children:[m.jsx(Zg,{className:"h-4 w-4"}),m.jsx(Lt,{children:D})]})]})]})]})]})}const cu=[{id:"alipay",name:"Alipay",icon:AT,sampleFields:["","","","","/","","",""],encoding:"GB2312",currency:"CNY"},{id:"wechat",name:"WeChat Pay",icon:yD,sampleFields:["","","","","/","()","",""],encoding:"UTF-8",currency:"CNY"},{id:"llm",name:"Generic (AI Powered)",icon:TT,sampleFields:["Any CSV, TXT, or PDF file"],encoding:"Auto-detect",currency:"Auto-detect"}];function GL(){var ae,me,oe,be;const{currentUser:n}=Ln(),{currentLedger:e,canEdit:t}=pi(),[i,a]=E.useState(""),[l,u]=E.useState(null),[f,p]=E.useState(!1),[g,v]=E.useState(0),[b,x]=E.useState(null),[A,R]=E.useState([]),[C,D]=E.useState(""),[M,U]=E.useState(""),[L,q]=E.useState(!1),[$,ne]=E.useState(""),[k,S]=E.useState(""),[j,V]=E.useState([]),[I,B]=E.useState([]),[P,Y]=E.useState(!1),se=async()=>{if(n)try{const pe=Nt(Ue,"users",n.uid),ge=await om(pe);if(ge.exists()){const ce=ge.data();if(q(ce.smartCategorizationEnabled||!1),ne(ce.llmApiKey||""),e&&A.length>0){const xe=A.filter(Se=>Se.type==="expense"),Te=A.filter(Se=>Se.type==="income"),Re=`You are a financial-data assistant. I will provide you with a CSV file of transactions containing at least the following columns: Date, Description, Amount.  Response in JSON and say nothing else:

1. For each row, determine whether it is an **expense** or an **income**.   

2. Assign each transaction to one of the following **Expense** or **Income** categories (or to a special category if needed):

   **Expense Categories**  
   ${xe.map(Se=>`- ${Se.name}`).join(`
`)||"- HTT: (Hard To Tell) if you can't unambiguously assign one of the above"}

   **Income Categories**  
   ${Te.map(Se=>`- ${Se.name}`).join(`
`)||"- HTT"}

   Use merchant names, keywords in the description, or amount signs to guide your choice.  

3. Output a single JSON object with this exact structure:

\`\`\`json
{
  "transactions": [
    {
      "id": "<self-increment id>",
      "category": "<one of the given categories: ${[...xe,...Te].map(Se=>Se.name).join(", ")}, HTT>"
    }
  ]
}

4.  Optionally, "corrections" showing prior mis-classifications I've corrected may be provided to guide this categorization `;S(Re)}}}catch(pe){console.error("Error loading smart categorization settings:",pe)}},H=async()=>{if(e)try{const pe=It(Ue,"ledgers",e.id,"categories"),ge=await An(pe),ce=[];ge.forEach(xe=>{ce.push({id:xe.id,...xe.data()})}),R(ce)}catch(pe){console.error("Error fetching categories:",pe)}},ee=pe=>{const ge=pe.split(`
`);let ce=-1;for(let Te=0;Te<ge.length;Te++){const Re=ge[Te].trim();if(Re.includes("")&&(Re.includes("")||Re.includes("/"))){ce=Te+1;break}}if(ce===-1){for(let Te=0;Te<ge.length;Te++)if(ge[Te].trim().match(/^\d{4}-\d{2}-\d{2}\s+\d{2}:\d{2}:\d{2}/)){ce=Te;break}}if(ce===-1)throw new Error("Invalid Alipay CSV format: No transaction data found. Please ensure the file contains transaction records.");const xe=[];for(let Te=ce;Te<ge.length;Te++){const Re=ge[Te].trim();if(!Re)continue;const Se=Re.split(",").map(yi=>yi.replace(/^"|"$/g,"").trim());if(Se.length<6)continue;let je,X,ye,Ee,Ae,ke,lt,Ve,Ge;if(Se.length>=12)[je,X,ye,Ee,Ae,ke,lt,Ve,Ge]=Se;else if(Se.length>=8)[je,X,ye,Ae,ke,lt,Ve,Ge]=Se,Ee="";else continue;if(!ke||ke!==""&&ke!=="")continue;const Gt=lt.toString().replace(/[^\d.-]/g,""),Gn=parseFloat(Gt);if(isNaN(Gn))continue;const Un=A.find(yi=>yi.name.toLowerCase().includes(X.toLowerCase())||X.toLowerCase().includes(yi.name.toLowerCase())),Yt=ye?`Counterparty: ${ye}`:"";xe.push({id:Te-ce+1,date:new Date(je),type:ke===""?"expense":"income",amount:Math.abs(Gn),description:Ae||"Unknown Transaction",notes:Yt,categoryId:Un?Un.id:null,categoryName:Un?Un.name:X,paymentMethod:Ve||"Unknown",platform:"alipay",originalData:{category:X,counterparty:ye,account:Ee,status:Ge}})}return xe},K=pe=>{const ge=pe.split(`
`);let ce=-1;for(let Te=0;Te<ge.length;Te++){const Re=ge[Te].trim();if(Re.includes("")&&(Re.includes("")||Re.includes("/"))){ce=Te+1;break}}if(ce===-1){for(let Te=0;Te<ge.length;Te++)if(ge[Te].trim().match(/^\d{4}-\d{2}-\d{2}\s+\d{2}:\d{2}:\d{2}/)){ce=Te;break}}if(ce===-1)throw new Error("Invalid WeChat Pay CSV format: No transaction data found. Please ensure the file contains transaction records.");const xe=[];for(let Te=ce;Te<ge.length;Te++){const Re=ge[Te].trim();if(!Re)continue;const Se=Re.split(",").map(Yt=>Yt.replace(/^"|"$/g,"").trim());if(Se.length<6)continue;let je,X,ye,Ee,Ae,ke,lt,Ve;if(Se.length>=11)[je,X,ye,Ee,Ae,ke,lt,Ve]=Se;else if(Se.length>=8)[je,X,ye,Ee,Ae,ke,lt,Ve]=Se;else continue;if(!Ae||Ae!==""&&Ae!=="")continue;const Ge=ke.toString().replace(/[,\s]/g,"").replace(/[^\d.-]/g,""),Gt=parseFloat(Ge);if(isNaN(Gt))continue;const Gn=A.find(Yt=>Yt.name.toLowerCase().includes(X.toLowerCase())||X.toLowerCase().includes(Yt.name.toLowerCase())),Un=ye?`Counterparty: ${ye}`:"";xe.push({id:Te-ce+1,date:new Date(je),type:Ae===""?"expense":"income",amount:Math.abs(Gt),description:Ee||"Unknown Transaction",notes:Un,categoryId:Gn?Gn.id:null,categoryName:Gn?Gn.name:X,paymentMethod:lt||"Unknown",platform:"wechat",originalData:{transactionType:X,counterparty:ye,status:Ve}})}return xe},ve=async pe=>{if(!e||!t())return;const ge=It(Ue,"ledgers",e.id,"transactions");let ce=0,xe=0;const Te=Zn(ge),Re=await An(Te),Se=new Set;Re.forEach(ye=>{var ke,lt;const Ee=ye.data(),Ae=`${(lt=(ke=Ee.date)==null?void 0:ke.toDate())==null?void 0:lt.toISOString()}-${Ee.amount}-${Ee.description}`;Se.add(Ae)});const je=500,X=[];for(let ye=0;ye<pe.length;ye+=je){const Ee=Ry(Ue),Ae=pe.slice(ye,ye+je);let ke=0,lt=0;for(const Ve of Ae){const Ge=`${Ve.date.toISOString()}-${Ve.amount}-${Ve.description}`;if(Se.has(Ge)){lt++;continue}const Gt=Nt(ge);Ee.set(Gt,{date:At.fromDate(Ve.date),type:Ve.type,amount:Ve.amount,description:Ve.description,notes:Ve.notes||"",categoryId:Ve.categoryId,categoryName:Ve.categoryName,paymentMethod:Ve.paymentMethod,includeInBudget:!0,platform:Ve.platform,originalData:Ve.originalData,createdAt:new Date,createdBy:n.uid,paidBy:n.uid}),ke++,Se.add(Ge)}ke>0?X.push({batch:Ee,imported:ke,skipped:lt}):xe+=lt}for(let ye=0;ye<X.length;ye++)try{await X[ye].batch.commit(),ce+=X[ye].imported,xe+=X[ye].skipped;const Ee=Math.round((ye+1)/X.length*100);v(Ee)}catch(Ee){console.error("Error committing batch:",Ee),xe+=X[ye].imported}x({imported:ce,skipped:xe})},z=async pe=>{const ge=pe.target.files[0];if(ge){u(ge),p(!0),v(0),x(null),D(""),U("");try{let ce=[];if(i==="alipay"){const xe=await ge.arrayBuffer(),Re=new TextDecoder("gb2312").decode(xe);ce=ee(Re)}else if(i==="wechat"){const xe=await ge.text();ce=K(xe)}else if(i==="llm")throw new Error("LLM parsing not yet implemented.");if(ce.length===0)throw new Error("No valid transactions found in the file.");V(ce),B(ce.map(xe=>({...xe,llmCategory:null,llmProcessing:!1}))),L&&$&&(i==="alipay"||i==="wechat")?(Y(!0),console.log("Smart categorization enabled, will process with LLM")):(await ve(ce),U(`Successfully imported ${(b==null?void 0:b.imported)||0} transactions!`))}catch(ce){console.error("Import error:",ce),D(`Import error: ${ce.message}`)}finally{(!L||!$)&&p(!1)}}};return E.useEffect(()=>{H()},[e]),E.useEffect(()=>{A.length>0&&se()},[n,e,A]),E.useEffect(()=>{if(M||C){const pe=setTimeout(()=>{U(""),D("")},3e3);return()=>clearTimeout(pe)}},[M,C]),e?f?m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:P?"Processing with Smart Categorization...":"Importing Transactions..."}),I.length>0&&m.jsxs(dt,{children:[m.jsxs(wt,{children:[m.jsx(Tt,{children:"Imported Transactions"}),m.jsx(dn,{children:P?"AI is categorizing transactions...":"Processing transactions..."})]}),m.jsx(ft,{children:m.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:I.map((pe,ge)=>m.jsxs("div",{className:"flex justify-between items-center p-2 border rounded",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"font-medium",children:pe.description}),m.jsxs("div",{className:"text-sm text-gray-500",children:[pe.date.toLocaleDateString(),"  ",pe.amount," CNY"]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx(Tr,{variant:pe.type==="expense"?"destructive":"default",children:pe.type}),P&&m.jsx("div",{className:"text-sm text-gray-500 mt-1",children:pe.llmCategory||"Processing..."})]})]},ge))})})]}),!P&&m.jsxs(m.Fragment,{children:[m.jsx(Uy,{value:g,className:"w-full"}),m.jsxs("p",{className:"text-center text-gray-600",children:[g,"% Complete"]})]})]}):b?m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Import Complete!"}),m.jsxs(Vt,{variant:"default",children:[m.jsx(yu,{className:"h-4 w-4"}),m.jsxs(Lt,{children:["Successfully imported ",b.imported," transactions.",b.skipped>0&&` ${b.skipped} transactions skipped (duplicates or errors).`]})]}),m.jsx(Me,{onClick:()=>x(null),children:"Import More"})]}):m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Import Transactions"}),C&&m.jsxs(Vt,{variant:"destructive",children:[m.jsx(Zg,{className:"h-4 w-4"}),m.jsx(Lt,{children:C})]}),M&&m.jsxs(Vt,{children:[m.jsx(yu,{className:"h-4 w-4"}),m.jsx(Lt,{children:M})]}),L&&m.jsxs(Vt,{children:[m.jsx(TT,{className:"h-4 w-4"}),m.jsx(Lt,{children:"Smart Categorization is enabled. Transactions will be automatically categorized using AI."})]}),m.jsxs(dt,{children:[m.jsxs(wt,{children:[m.jsx(Tt,{children:"Select Import Platform"}),m.jsx(dn,{children:"Choose the platform you want to import transactions from."})]}),m.jsx(ft,{children:m.jsxs(Gi,{value:i,onValueChange:a,children:[m.jsx(Ki,{className:"w-[240px]",children:m.jsx(Yi,{placeholder:"Select a platform"})}),m.jsx(Qi,{children:cu.map(pe=>m.jsx(jn,{value:pe.id,children:m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(pe.icon,{className:"h-4 w-4"}),m.jsx("span",{children:pe.name})]})},pe.id))})]})})]}),i&&m.jsxs(dt,{children:[m.jsxs(wt,{children:[m.jsxs(Tt,{children:["Upload ",(ae=cu.find(pe=>pe.id===i))==null?void 0:ae.name," File"]}),m.jsxs(dn,{children:["Upload your exported ",(me=cu.find(pe=>pe.id===i))==null?void 0:me.name," CSV file. Ensure it's the correct format."]})]}),m.jsxs(ft,{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsxs(Ye,{htmlFor:"file-upload",className:"cursor-pointer bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600",children:[m.jsx(IT,{className:"h-4 w-4 inline-block mr-2"})," Choose File"]}),m.jsx(Pt,{id:"file-upload",type:"file",className:"hidden",onChange:z,accept:".csv,.txt"}),l&&m.jsx(Tr,{variant:"secondary",children:l.name})]}),m.jsxs("div",{className:"text-sm text-gray-500",children:[m.jsxs("p",{children:["Expected fields for ",(oe=cu.find(pe=>pe.id===i))==null?void 0:oe.name,":"]}),m.jsx("ol",{className:"list-decimal list-inside",children:(be=cu.find(pe=>pe.id===i))==null?void 0:be.sampleFields.map((pe,ge)=>m.jsx("li",{children:pe},ge))})]})]})]})]}):m.jsx("div",{className:"p-6 text-center text-gray-500",children:"Please select a ledger to manage categories."})}function YL({isMobileMenuOpen:n,setIsMobileMenuOpen:e}){const t=cs(),{currentUser:i,logout:a}=Ln(),l=[{path:"/",label:"Dashboard",icon:sD},{path:"/transactions",label:"Transactions",icon:AT},{path:"/budgets",label:"Budgets",icon:FN},{path:"/categories",label:"Categories",icon:RT},{path:"/ledgers",label:"Ledgers",icon:oh},{path:"/splits",label:"Expense Splits",icon:kT},{path:"/import",label:"Import",icon:IT},{path:"/settings",label:"Settings",icon:XN}],u=async()=>{try{await a()}catch(f){console.error("Failed to log out:",f)}};return m.jsxs(m.Fragment,{children:[m.jsx("nav",{className:"hidden md:flex bg-white border-b border-gray-200 px-6 py-4",children:m.jsxs("div",{className:"flex items-center justify-between w-full",children:[m.jsxs("div",{className:"flex items-center space-x-8",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(bl,{className:"h-8 w-8 text-blue-600"}),m.jsx("span",{className:"text-xl font-bold text-gray-900",children:"ExpenseTracker"})]}),m.jsx("div",{className:"flex space-x-6",children:l.map(f=>{const p=f.icon,g=t.pathname===f.path;return m.jsxs(_l,{to:f.path,className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${g?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[m.jsx(p,{className:"h-4 w-4"}),m.jsx("span",{children:f.label})]},f.path)})})]}),i&&m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsxs("span",{className:"text-sm text-gray-600",children:["Welcome, ",i.displayName||i.email]}),m.jsxs(Me,{variant:"ghost",size:"sm",onClick:u,className:"flex items-center space-x-2",children:[m.jsx(Gx,{className:"h-4 w-4"}),m.jsx("span",{children:"Logout"})]})]})]})}),m.jsxs("nav",{className:"md:hidden bg-white border-b border-gray-200",children:[m.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(bl,{className:"h-6 w-6 text-blue-600"}),m.jsx("span",{className:"text-lg font-bold text-gray-900",children:"ExpenseTracker"})]}),m.jsx(Me,{variant:"ghost",size:"sm",onClick:()=>e(!n),children:n?m.jsx(Tl,{className:"h-6 w-6"}):m.jsx(cD,{className:"h-6 w-6"})})]}),n&&m.jsxs("div",{className:"border-t border-gray-200 px-4 py-4 space-y-2",children:[l.map(f=>{const p=f.icon,g=t.pathname===f.path;return m.jsxs(_l,{to:f.path,onClick:()=>e(!1),className:`flex items-center space-x-3 px-3 py-2 rounded-md text-sm font-medium transition-colors ${g?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[m.jsx(p,{className:"h-4 w-4"}),m.jsx("span",{children:f.label})]},f.path)}),i&&m.jsxs(Me,{variant:"ghost",size:"sm",onClick:u,className:"flex items-center space-x-3 px-3 py-2 w-full justify-start",children:[m.jsx(Gx,{className:"h-4 w-4"}),m.jsx("span",{children:"Logout"})]})]})]})]})}function KL(){return m.jsx(_L,{})}function QL(){return m.jsx(RL,{})}function WL(){return m.jsx(OL,{})}function XL(){return m.jsxs("div",{className:"p-6",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Expense Splits"}),m.jsxs(dt,{children:[m.jsxs(wt,{children:[m.jsx(Tt,{children:"Split Expenses"}),m.jsx(dn,{children:"Share expenses with friends and track balances"})]}),m.jsx(ft,{children:m.jsx("p",{className:"text-gray-600",children:"Expense splitting interface will be implemented here."})})]})]})}function ZL(){return m.jsx(GL,{})}function JL(){const[n,e]=E.useState(!1);return m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),m.jsx(VL,{}),m.jsx($L,{smartCategorizationEnabled:n,setSmartCategorizationEnabled:e}),m.jsxs(dt,{children:[m.jsxs(wt,{children:[m.jsx(Tt,{children:"Application Preferences"}),m.jsx(dn,{children:"Additional application settings will be available here"})]}),m.jsx(ft,{children:m.jsx("p",{className:"text-gray-600",children:"More settings options coming soon..."})})]})]})}function e9(){const[n,e]=E.useState(!1),{currentUser:t}=Ln();return m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t&&m.jsx(YL,{isMobileMenuOpen:n,setIsMobileMenuOpen:e}),m.jsx("main",{className:t?"max-w-7xl mx-auto":"",children:m.jsxs(cI,{children:[m.jsx(Dr,{path:"/login",element:t?m.jsx(Yg,{to:"/"}):m.jsx(KM,{})}),m.jsx(Dr,{path:"/signup",element:t?m.jsx(Yg,{to:"/"}):m.jsx(QM,{})}),m.jsx(Dr,{path:"/",element:m.jsx(Hs,{children:m.jsx(aP,{})})}),m.jsx(Dr,{path:"/transactions",element:m.jsx(Hs,{children:m.jsx(KL,{})})}),m.jsx(Dr,{path:"/budgets",element:m.jsx(Hs,{children:m.jsx(QL,{})})}),m.jsx(Dr,{path:"/categories",element:m.jsx(Hs,{children:m.jsx(WL,{})})}),m.jsx(Dr,{path:"/ledgers",element:m.jsx(Hs,{children:m.jsx(PL,{})})}),m.jsx(Dr,{path:"/splits",element:m.jsx(Hs,{children:m.jsx(XL,{})})}),m.jsx(Dr,{path:"/import",element:m.jsx(Hs,{children:m.jsx(ZL,{})})}),m.jsx(Dr,{path:"/settings",element:m.jsx(Hs,{children:m.jsx(JL,{})})})]})})]})}function t9(){return m.jsx(OI,{children:m.jsx(zM,{children:m.jsx(FM,{children:m.jsx(e9,{})})})})}vR.createRoot(document.getElementById("root")).render(m.jsx(E.StrictMode,{children:m.jsx(t9,{})}));
