function qN(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in n)){const o=Object.getOwnPropertyDescriptor(s,a);o&&Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function vS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ty={exports:{}},$u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lw;function $N(){if(Lw)return $u;Lw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:n,type:s,key:u,ref:a!==void 0?a:null,props:o}}return $u.Fragment=e,$u.jsx=t,$u.jsxs=t,$u}var Vw;function GN(){return Vw||(Vw=1,Ty.exports=$N()),Ty.exports}var h=GN(),Sy={exports:{}},it={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uw;function YN(){if(Uw)return it;Uw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function _(z){return z===null||typeof z!="object"?null:(z=b&&z[b]||z["@@iterator"],typeof z=="function"?z:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,R={};function N(z,ae,me){this.props=z,this.context=ae,this.refs=R,this.updater=me||S}N.prototype.isReactComponent={},N.prototype.setState=function(z,ae){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ae,"setState")},N.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function j(){}j.prototype=N.prototype;function U(z,ae,me){this.props=z,this.context=ae,this.refs=R,this.updater=me||S}var V=U.prototype=new j;V.constructor=U,C(V,N.prototype),V.isPureReactComponent=!0;var $=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},Q=Object.prototype.hasOwnProperty;function I(z,ae,me,le,be,Be){return me=Be.ref,{$$typeof:n,type:z,key:ae,ref:me!==void 0?me:null,props:Be}}function A(z,ae){return I(z.type,ae,void 0,void 0,void 0,z.props)}function M(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function B(z){var ae={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(me){return ae[me]})}var D=/\/+/g;function L(z,ae){return typeof z=="object"&&z!==null&&z.key!=null?B(""+z.key):ae.toString(36)}function P(){}function G(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(P,P):(z.status="pending",z.then(function(ae){z.status==="pending"&&(z.status="fulfilled",z.value=ae)},function(ae){z.status==="pending"&&(z.status="rejected",z.reason=ae)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function se(z,ae,me,le,be){var Be=typeof z;(Be==="undefined"||Be==="boolean")&&(z=null);var De=!1;if(z===null)De=!0;else switch(Be){case"bigint":case"string":case"number":De=!0;break;case"object":switch(z.$$typeof){case n:case e:De=!0;break;case v:return De=z._init,se(De(z._payload),ae,me,le,be)}}if(De)return be=be(z),De=le===""?"."+L(z,0):le,$(be)?(me="",De!=null&&(me=De.replace(D,"$&/")+"/"),se(be,ae,me,"",function(ht){return ht})):be!=null&&(M(be)&&(be=A(be,me+(be.key==null||z&&z.key===be.key?"":(""+be.key).replace(D,"$&/")+"/")+De)),ae.push(be)),1;De=0;var ve=le===""?".":le+":";if($(z))for(var je=0;je<z.length;je++)le=z[je],Be=ve+L(le,je),De+=se(le,ae,me,Be,be);else if(je=_(z),typeof je=="function")for(z=je.call(z),je=0;!(le=z.next()).done;)le=le.value,Be=ve+L(le,je++),De+=se(le,ae,me,Be,be);else if(Be==="object"){if(typeof z.then=="function")return se(G(z),ae,me,le,be);throw ae=String(z),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return De}function q(z,ae,me){if(z==null)return z;var le=[],be=0;return se(z,le,"","",function(Be){return ae.call(me,Be,be++)}),le}function ee(z){if(z._status===-1){var ae=z._result;ae=ae(),ae.then(function(me){(z._status===0||z._status===-1)&&(z._status=1,z._result=me)},function(me){(z._status===0||z._status===-1)&&(z._status=2,z._result=me)}),z._status===-1&&(z._status=0,z._result=ae)}if(z._status===1)return z._result.default;throw z._result}var K=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function ye(){}return it.Children={map:q,forEach:function(z,ae,me){q(z,function(){ae.apply(this,arguments)},me)},count:function(z){var ae=0;return q(z,function(){ae++}),ae},toArray:function(z){return q(z,function(ae){return ae})||[]},only:function(z){if(!M(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},it.Component=N,it.Fragment=t,it.Profiler=a,it.PureComponent=U,it.StrictMode=s,it.Suspense=m,it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,it.__COMPILER_RUNTIME={__proto__:null,c:function(z){return H.H.useMemoCache(z)}},it.cache=function(z){return function(){return z.apply(null,arguments)}},it.cloneElement=function(z,ae,me){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var le=C({},z.props),be=z.key,Be=void 0;if(ae!=null)for(De in ae.ref!==void 0&&(Be=void 0),ae.key!==void 0&&(be=""+ae.key),ae)!Q.call(ae,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ae.ref===void 0||(le[De]=ae[De]);var De=arguments.length-2;if(De===1)le.children=me;else if(1<De){for(var ve=Array(De),je=0;je<De;je++)ve[je]=arguments[je+2];le.children=ve}return I(z.type,be,void 0,void 0,Be,le)},it.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},it.createElement=function(z,ae,me){var le,be={},Be=null;if(ae!=null)for(le in ae.key!==void 0&&(Be=""+ae.key),ae)Q.call(ae,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(be[le]=ae[le]);var De=arguments.length-2;if(De===1)be.children=me;else if(1<De){for(var ve=Array(De),je=0;je<De;je++)ve[je]=arguments[je+2];be.children=ve}if(z&&z.defaultProps)for(le in De=z.defaultProps,De)be[le]===void 0&&(be[le]=De[le]);return I(z,Be,void 0,void 0,null,be)},it.createRef=function(){return{current:null}},it.forwardRef=function(z){return{$$typeof:d,render:z}},it.isValidElement=M,it.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:ee}},it.memo=function(z,ae){return{$$typeof:p,type:z,compare:ae===void 0?null:ae}},it.startTransition=function(z){var ae=H.T,me={};H.T=me;try{var le=z(),be=H.S;be!==null&&be(me,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ye,K)}catch(Be){K(Be)}finally{H.T=ae}},it.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},it.use=function(z){return H.H.use(z)},it.useActionState=function(z,ae,me){return H.H.useActionState(z,ae,me)},it.useCallback=function(z,ae){return H.H.useCallback(z,ae)},it.useContext=function(z){return H.H.useContext(z)},it.useDebugValue=function(){},it.useDeferredValue=function(z,ae){return H.H.useDeferredValue(z,ae)},it.useEffect=function(z,ae,me){var le=H.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(z,ae)},it.useId=function(){return H.H.useId()},it.useImperativeHandle=function(z,ae,me){return H.H.useImperativeHandle(z,ae,me)},it.useInsertionEffect=function(z,ae){return H.H.useInsertionEffect(z,ae)},it.useLayoutEffect=function(z,ae){return H.H.useLayoutEffect(z,ae)},it.useMemo=function(z,ae){return H.H.useMemo(z,ae)},it.useOptimistic=function(z,ae){return H.H.useOptimistic(z,ae)},it.useReducer=function(z,ae,me){return H.H.useReducer(z,ae,me)},it.useRef=function(z){return H.H.useRef(z)},it.useState=function(z){return H.H.useState(z)},it.useSyncExternalStore=function(z,ae,me){return H.H.useSyncExternalStore(z,ae,me)},it.useTransition=function(){return H.H.useTransition()},it.version="19.1.0",it}var Bw;function e0(){return Bw||(Bw=1,Sy.exports=YN()),Sy.exports}var w=e0();const ba=vS(w),_S=qN({__proto__:null,default:ba},[w]);var Ay={exports:{}},Gu={},Cy={exports:{}},Ry={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zw;function KN(){return zw||(zw=1,function(n){function e(q,ee){var K=q.length;q.push(ee);e:for(;0<K;){var ye=K-1>>>1,z=q[ye];if(0<a(z,ee))q[ye]=ee,q[K]=z,K=ye;else break e}}function t(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var ee=q[0],K=q.pop();if(K!==ee){q[0]=K;e:for(var ye=0,z=q.length,ae=z>>>1;ye<ae;){var me=2*(ye+1)-1,le=q[me],be=me+1,Be=q[be];if(0>a(le,K))be<z&&0>a(Be,le)?(q[ye]=Be,q[be]=K,ye=be):(q[ye]=le,q[me]=K,ye=me);else if(be<z&&0>a(Be,K))q[ye]=Be,q[be]=K,ye=be;else break e}}return ee}function a(q,ee){var K=q.sortIndex-ee.sortIndex;return K!==0?K:q.id-ee.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var m=[],p=[],v=1,b=null,_=3,S=!1,C=!1,R=!1,N=!1,j=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function $(q){for(var ee=t(p);ee!==null;){if(ee.callback===null)s(p);else if(ee.startTime<=q)s(p),ee.sortIndex=ee.expirationTime,e(m,ee);else break;ee=t(p)}}function H(q){if(R=!1,$(q),!C)if(t(m)!==null)C=!0,Q||(Q=!0,L());else{var ee=t(p);ee!==null&&se(H,ee.startTime-q)}}var Q=!1,I=-1,A=5,M=-1;function B(){return N?!0:!(n.unstable_now()-M<A)}function D(){if(N=!1,Q){var q=n.unstable_now();M=q;var ee=!0;try{e:{C=!1,R&&(R=!1,U(I),I=-1),S=!0;var K=_;try{t:{for($(q),b=t(m);b!==null&&!(b.expirationTime>q&&B());){var ye=b.callback;if(typeof ye=="function"){b.callback=null,_=b.priorityLevel;var z=ye(b.expirationTime<=q);if(q=n.unstable_now(),typeof z=="function"){b.callback=z,$(q),ee=!0;break t}b===t(m)&&s(m),$(q)}else s(m);b=t(m)}if(b!==null)ee=!0;else{var ae=t(p);ae!==null&&se(H,ae.startTime-q),ee=!1}}break e}finally{b=null,_=K,S=!1}ee=void 0}}finally{ee?L():Q=!1}}}var L;if(typeof V=="function")L=function(){V(D)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,G=P.port2;P.port1.onmessage=D,L=function(){G.postMessage(null)}}else L=function(){j(D,0)};function se(q,ee){I=j(function(){q(n.unstable_now())},ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(q){switch(_){case 1:case 2:case 3:var ee=3;break;default:ee=_}var K=_;_=ee;try{return q()}finally{_=K}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(q,ee){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var K=_;_=q;try{return ee()}finally{_=K}},n.unstable_scheduleCallback=function(q,ee,K){var ye=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ye+K:ye):K=ye,q){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=K+z,q={id:v++,callback:ee,priorityLevel:q,startTime:K,expirationTime:z,sortIndex:-1},K>ye?(q.sortIndex=K,e(p,q),t(m)===null&&q===t(p)&&(R?(U(I),I=-1):R=!0,se(H,K-ye))):(q.sortIndex=z,e(m,q),C||S||(C=!0,Q||(Q=!0,L()))),q},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(q){var ee=_;return function(){var K=_;_=ee;try{return q.apply(this,arguments)}finally{_=K}}}}(Ry)),Ry}var Fw;function ZN(){return Fw||(Fw=1,Cy.exports=KN()),Cy.exports}var Ny={exports:{}},Zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw;function QN(){if(Hw)return Zn;Hw=1;var n=e0();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(m,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:p,implementation:v}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zn.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(m,p,null,v)},Zn.flushSync=function(m){var p=u.T,v=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=p,s.p=v,s.d.f()}},Zn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},Zn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Zn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,b=d(v,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:S}):v==="script"&&s.d.X(m,{crossOrigin:b,integrity:_,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Zn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},Zn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=d(v,p.crossOrigin);s.d.L(m,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Zn.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=d(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},Zn.requestFormReset=function(m){s.d.r(m)},Zn.unstable_batchedUpdates=function(m,p){return m(p)},Zn.useFormState=function(m,p,v){return u.H.useFormState(m,p,v)},Zn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Zn.version="19.1.0",Zn}var qw;function bS(){if(qw)return Ny.exports;qw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ny.exports=QN(),Ny.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $w;function WN(){if($w)return Gu;$w=1;var n=ZN(),e=e0(),t=bS();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function u(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(s(188))}function m(r){var i=r.alternate;if(!i){if(i=o(r),i===null)throw Error(s(188));return i!==r?null:r}for(var l=r,c=i;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(c=g.return,c!==null){l=c;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return d(g),r;if(y===c)return d(g),i;y=y.sibling}throw Error(s(188))}if(l.return!==c.return)l=g,c=y;else{for(var T=!1,k=g.child;k;){if(k===l){T=!0,l=g,c=y;break}if(k===c){T=!0,c=g,l=y;break}k=k.sibling}if(!T){for(k=y.child;k;){if(k===l){T=!0,l=y,c=g;break}if(k===c){T=!0,c=y,l=g;break}k=k.sibling}if(!T)throw Error(s(189))}}if(l.alternate!==c)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?r:i}function p(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=p(r),i!==null)return i;r=r.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),V=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function G(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case N:return"Profiler";case R:return"StrictMode";case H:return"Suspense";case Q:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case V:return(r.displayName||"Context")+".Provider";case U:return(r._context.displayName||"Context")+".Consumer";case $:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case I:return i=r.displayName||null,i!==null?i:G(r.type)||"Memo";case A:i=r._payload,r=r._init;try{return G(r(i))}catch{}}return null}var se=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ye=[],z=-1;function ae(r){return{current:r}}function me(r){0>z||(r.current=ye[z],ye[z]=null,z--)}function le(r,i){z++,ye[z]=r.current,r.current=i}var be=ae(null),Be=ae(null),De=ae(null),ve=ae(null);function je(r,i){switch(le(De,i),le(Be,r),le(be,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?dw(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=dw(i),r=fw(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}me(be),le(be,r)}function ht(){me(be),me(Be),me(De)}function We(r){r.memoizedState!==null&&le(ve,r);var i=be.current,l=fw(i,r.type);i!==l&&(le(Be,r),le(be,l))}function Xe(r){Be.current===r&&(me(be),me(Be)),ve.current===r&&(me(ve),Bu._currentValue=K)}var Je=Object.prototype.hasOwnProperty,re=n.unstable_scheduleCallback,Ce=n.unstable_cancelCallback,Re=n.unstable_shouldYield,Pe=n.unstable_requestPaint,he=n.unstable_now,Me=n.unstable_getCurrentPriorityLevel,pe=n.unstable_ImmediatePriority,Ae=n.unstable_UserBlockingPriority,Ee=n.unstable_NormalPriority,St=n.unstable_LowPriority,rt=n.unstable_IdlePriority,Pt=n.log,At=n.unstable_setDisableYieldValue,Ue=null,qe=null;function Lt(r){if(typeof Pt=="function"&&At(r),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Ue,r)}catch{}}var yt=Math.clz32?Math.clz32:Yn,wn=Math.log,$t=Math.LN2;function Yn(r){return r>>>=0,r===0?32:31-(wn(r)/$t|0)|0}var fr=256,sr=4194304;function kn(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function _r(r,i,l){var c=r.pendingLanes;if(c===0)return 0;var g=0,y=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var k=c&134217727;return k!==0?(c=k&~y,c!==0?g=kn(c):(T&=k,T!==0?g=kn(T):l||(l=k&~r,l!==0&&(g=kn(l))))):(k=c&~y,k!==0?g=kn(k):T!==0?g=kn(T):l||(l=c&~r,l!==0&&(g=kn(l)))),g===0?0:i!==0&&i!==g&&(i&y)===0&&(y=g&-g,l=i&-i,y>=l||y===32&&(l&4194048)!==0)?i:g}function Or(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Bc(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zc(){var r=fr;return fr<<=1,(fr&4194048)===0&&(fr=256),r}function Fc(){var r=sr;return sr<<=1,(sr&62914560)===0&&(sr=4194304),r}function Zs(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function Qs(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Hc(r,i,l,c,g,y){var T=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var k=r.entanglements,F=r.expirationTimes,J=r.hiddenUpdates;for(l=T&~l;0<l;){var oe=31-yt(l),de=1<<oe;k[oe]=0,F[oe]=-1;var te=J[oe];if(te!==null)for(J[oe]=null,oe=0;oe<te.length;oe++){var ne=te[oe];ne!==null&&(ne.lane&=-536870913)}l&=~de}c!==0&&fs(r,c,0),y!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=y&~(T&~i))}function fs(r,i,l){r.pendingLanes|=i,r.suspendedLanes&=~i;var c=31-yt(i);r.entangledLanes|=i,r.entanglements[c]=r.entanglements[c]|1073741824|l&4194090}function qc(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var c=31-yt(l),g=1<<c;g&i|r[c]&i&&(r[c]|=i),l&=~g}}function Hi(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Zo(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function qi(){var r=ee.p;return r!==0?r:(r=window.event,r===void 0?32:kw(r.type))}function of(r,i){var l=ee.p;try{return ee.p=r,i()}finally{ee.p=l}}var Zt=Math.random().toString(36).slice(2),En="__reactFiber$"+Zt,gn="__reactProps$"+Zt,jr="__reactContainer$"+Zt,$c="__reactEvents$"+Zt,Cp="__reactListeners$"+Zt,$i="__reactHandles$"+Zt,lf="__reactResources$"+Zt,Wa="__reactMarker$"+Zt;function Gi(r){delete r[En],delete r[gn],delete r[$c],delete r[Cp],delete r[$i]}function Ws(r){var i=r[En];if(i)return i;for(var l=r.parentNode;l;){if(i=l[jr]||l[En]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=gw(r);r!==null;){if(l=r[En])return l;r=gw(r)}return i}r=l,l=r.parentNode}return null}function hs(r){if(r=r[En]||r[jr]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function ms(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function ir(r){var i=r[lf];return i||(i=r[lf]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function fn(r){r[Wa]=!0}var Gc=new Set,Qo={};function Yr(r,i){Xs(r,i),Xs(r+"Capture",i)}function Xs(r,i){for(Qo[r]=i,r=0;r<i.length;r++)Gc.add(i[r])}var cf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uf={},Xa={};function df(r){return Je.call(Xa,r)?!0:Je.call(uf,r)?!1:cf.test(r)?Xa[r]=!0:(uf[r]=!0,!1)}function Yi(r,i,l){if(df(i))if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+l)}}function ps(r,i,l){if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+l)}}function Vn(r,i,l,c){if(c===null)r.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(i,l,""+c)}}var Ja,ff;function Js(r){if(Ja===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Ja=i&&i[1]||"",ff=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ja+r+ff}var Wo=!1;function Xo(r,i){if(!r||Wo)return"";Wo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ne){var te=ne}Reflect.construct(r,[],de)}else{try{de.call()}catch(ne){te=ne}r.call(de.prototype)}}else{try{throw Error()}catch(ne){te=ne}(de=r())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),T=y[0],k=y[1];if(T&&k){var F=T.split(`
`),J=k.split(`
`);for(g=c=0;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;for(;g<J.length&&!J[g].includes("DetermineComponentFrameRoot");)g++;if(c===F.length||g===J.length)for(c=F.length-1,g=J.length-1;1<=c&&0<=g&&F[c]!==J[g];)g--;for(;1<=c&&0<=g;c--,g--)if(F[c]!==J[g]){if(c!==1||g!==1)do if(c--,g--,0>g||F[c]!==J[g]){var oe=`
`+F[c].replace(" at new "," at ");return r.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",r.displayName)),oe}while(1<=c&&0<=g);break}}}finally{Wo=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?Js(l):""}function Yc(r){switch(r.tag){case 26:case 27:case 5:return Js(r.type);case 16:return Js("Lazy");case 13:return Js("Suspense");case 19:return Js("SuspenseList");case 0:case 15:return Xo(r.type,!1);case 11:return Xo(r.type.render,!1);case 1:return Xo(r.type,!0);case 31:return Js("Activity");default:return""}}function Jo(r){try{var i="";do i+=Yc(r),r=r.return;while(r);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function ar(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Kc(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Rp(r){var i=Kc(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),c=""+r[i];if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,y=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return g.call(this)},set:function(T){c=""+T,y.call(this,T)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function el(r){r._valueTracker||(r._valueTracker=Rp(r))}function Zc(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),c="";return r&&(c=Kc(r)?r.checked?"true":"false":r.value),r=c,r!==l?(i.setValue(r),!0):!1}function eo(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Np=/[\n"\\]/g;function yn(r){return r.replace(Np,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function br(r,i,l,c,g,y,T,k){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),i!=null?T==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+ar(i)):r.value!==""+ar(i)&&(r.value=""+ar(i)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),i!=null?Ki(r,T,ar(i)):l!=null?Ki(r,T,ar(l)):c!=null&&r.removeAttribute("value"),g==null&&y!=null&&(r.defaultChecked=!!y),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?r.name=""+ar(k):r.removeAttribute("name")}function to(r,i,l,c,g,y,T,k){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),i!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||i!=null))return;l=l!=null?""+ar(l):"",i=i!=null?""+ar(i):l,k||i===r.value||(r.value=i),r.defaultValue=i}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=k?r.checked:!!c,r.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function Ki(r,i,l){i==="number"&&eo(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function ei(r,i,l,c){if(r=r.options,i){i={};for(var g=0;g<l.length;g++)i["$"+l[g]]=!0;for(l=0;l<r.length;l++)g=i.hasOwnProperty("$"+r[l].value),r[l].selected!==g&&(r[l].selected=g),g&&c&&(r[l].defaultSelected=!0)}else{for(l=""+ar(l),i=null,g=0;g<r.length;g++){if(r[g].value===l){r[g].selected=!0,c&&(r[g].defaultSelected=!0);return}i!==null||r[g].disabled||(i=r[g])}i!==null&&(i.selected=!0)}}function Vt(r,i,l){if(i!=null&&(i=""+ar(i),i!==r.value&&(r.value=i),l==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=l!=null?""+ar(l):""}function no(r,i,l,c){if(i==null){if(c!=null){if(l!=null)throw Error(s(92));if(se(c)){if(1<c.length)throw Error(s(93));c=c[0]}l=c}l==null&&(l=""),i=l}l=ar(i),r.defaultValue=l,c=r.textContent,c===l&&c!==""&&c!==null&&(r.value=c)}function Mr(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var ro=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hf(r,i,l){var c=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":c?r.setProperty(i,l):typeof l!="number"||l===0||ro.has(i)?i==="float"?r.cssFloat=l:r[i]=(""+l).trim():r[i]=l+"px"}function Qc(r,i,l){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var g in i)c=i[g],i.hasOwnProperty(g)&&l[g]!==c&&hf(r,g,c)}else for(var y in i)i.hasOwnProperty(y)&&hf(r,y,i[y])}function Wc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ip=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tl(r){return kp.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var ti=null;function Pr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ni=null,ri=null;function Xc(r){var i=hs(r);if(i&&(r=i.stateNode)){var l=r[gn]||null;e:switch(r=i.stateNode,i.type){case"input":if(br(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+yn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var c=l[i];if(c!==r&&c.form===r.form){var g=c[gn]||null;if(!g)throw Error(s(90));br(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<l.length;i++)c=l[i],c.form===r.form&&Zc(c)}break e;case"textarea":Vt(r,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ei(r,!!l.multiple,i,!1)}}}var gs=!1;function mf(r,i,l){if(gs)return r(i,l);gs=!0;try{var c=r(i);return c}finally{if(gs=!1,(ni!==null||ri!==null)&&(oh(),ni&&(i=ni,r=ri,ri=ni=null,Xc(i),r)))for(i=0;i<r.length;i++)Xc(r[i])}}function so(r,i){var l=r.stateNode;if(l===null)return null;var c=l[gn]||null;if(c===null)return null;l=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(s(231,i,typeof l));return l}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lr=!1;if(Kr)try{var io={};Object.defineProperty(io,"passive",{get:function(){Lr=!0}}),window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{Lr=!1}var ys=null,Zi=null,si=null;function Jc(){if(si)return si;var r,i=Zi,l=i.length,c,g="value"in ys?ys.value:ys.textContent,y=g.length;for(r=0;r<l&&i[r]===g[r];r++);var T=l-r;for(c=1;c<=T&&i[l-c]===g[y-c];c++);return si=g.slice(r,1<c?1-c:void 0)}function vs(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function _s(){return!0}function eu(){return!1}function Dn(r){function i(l,c,g,y,T){this._reactName=l,this._targetInst=g,this.type=c,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(l=r[k],this[k]=l?l(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?_s:eu,this.isPropagationStopped=eu,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),i}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nl=Dn(kt),ao=v({},kt,{view:0,detail:0}),pf=Dn(ao),rl,sl,bs,oo=v({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uo,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==bs&&(bs&&r.type==="mousemove"?(rl=r.screenX-bs.screenX,sl=r.screenY-bs.screenY):sl=rl=0,bs=r),rl)},movementY:function(r){return"movementY"in r?r.movementY:sl}}),Vr=Dn(oo),gf=v({},oo,{dataTransfer:0}),Dp=Dn(gf),lo=v({},ao,{relatedTarget:0}),il=Dn(lo),tu=v({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),al=Dn(tu),yf=v({},kt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ol=Dn(yf),Op=v({},kt,{data:0}),nu=Dn(Op),co={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_f={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ru(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=_f[r])?!!i[r]:!1}function uo(){return ru}var bf=v({},ao,{key:function(r){if(r.key){var i=co[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=vs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?vf[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uo,charCode:function(r){return r.type==="keypress"?vs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?vs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ll=Dn(bf),xf=v({},oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),su=Dn(xf),ii=v({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uo}),wf=Dn(ii),Ef=v({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tf=Dn(Ef),Sf=v({},oo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),cl=Dn(Sf),or=v({},kt,{newState:0,oldState:0}),Af=Dn(or),Cf=[9,13,27,32],xs=Kr&&"CompositionEvent"in window,f=null;Kr&&"documentMode"in document&&(f=document.documentMode);var x=Kr&&"TextEvent"in window&&!f,E=Kr&&(!xs||f&&8<f&&11>=f),O=" ",W=!1;function ie(r,i){switch(r){case"keyup":return Cf.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _e(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var vt=!1;function Tn(r,i){switch(r){case"compositionend":return _e(i);case"keypress":return i.which!==32?null:(W=!0,O);case"textInput":return r=i.data,r===O&&W?null:r;default:return null}}function _t(r,i){if(vt)return r==="compositionend"||!xs&&ie(r,i)?(r=Jc(),si=Zi=ys=null,vt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return E&&i.locale!=="ko"?null:i.data;default:return null}}var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sn(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!On[r.type]:i==="textarea"}function ai(r,i,l,c){ni?ri?ri.push(c):ri=[c]:ni=c,i=hh(i,"onChange"),0<i.length&&(l=new nl("onChange","change",null,l,c),r.push({event:l,listeners:i}))}var Un=null,ws=null;function iu(r){aw(r,0)}function Rf(r){var i=ms(r);if(Zc(i))return r}function C_(r,i){if(r==="change")return i}var R_=!1;if(Kr){var jp;if(Kr){var Mp="oninput"in document;if(!Mp){var N_=document.createElement("div");N_.setAttribute("oninput","return;"),Mp=typeof N_.oninput=="function"}jp=Mp}else jp=!1;R_=jp&&(!document.documentMode||9<document.documentMode)}function I_(){Un&&(Un.detachEvent("onpropertychange",k_),ws=Un=null)}function k_(r){if(r.propertyName==="value"&&Rf(ws)){var i=[];ai(i,ws,r,Pr(r)),mf(iu,i)}}function bR(r,i,l){r==="focusin"?(I_(),Un=i,ws=l,Un.attachEvent("onpropertychange",k_)):r==="focusout"&&I_()}function xR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Rf(ws)}function wR(r,i){if(r==="click")return Rf(i)}function ER(r,i){if(r==="input"||r==="change")return Rf(i)}function TR(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var xr=typeof Object.is=="function"?Object.is:TR;function au(r,i){if(xr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),c=Object.keys(i);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var g=l[c];if(!Je.call(i,g)||!xr(r[g],i[g]))return!1}return!0}function D_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function O_(r,i){var l=D_(r);r=0;for(var c;l;){if(l.nodeType===3){if(c=r+l.textContent.length,r<=i&&c>=i)return{node:l,offset:i-r};r=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=D_(l)}}function j_(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?j_(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function M_(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=eo(r.document);i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=eo(r.document)}return i}function Pp(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var SR=Kr&&"documentMode"in document&&11>=document.documentMode,ul=null,Lp=null,ou=null,Vp=!1;function P_(r,i,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Vp||ul==null||ul!==eo(c)||(c=ul,"selectionStart"in c&&Pp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ou&&au(ou,c)||(ou=c,c=hh(Lp,"onSelect"),0<c.length&&(i=new nl("onSelect","select",null,i,l),r.push({event:i,listeners:c}),i.target=ul)))}function fo(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var dl={animationend:fo("Animation","AnimationEnd"),animationiteration:fo("Animation","AnimationIteration"),animationstart:fo("Animation","AnimationStart"),transitionrun:fo("Transition","TransitionRun"),transitionstart:fo("Transition","TransitionStart"),transitioncancel:fo("Transition","TransitionCancel"),transitionend:fo("Transition","TransitionEnd")},Up={},L_={};Kr&&(L_=document.createElement("div").style,"AnimationEvent"in window||(delete dl.animationend.animation,delete dl.animationiteration.animation,delete dl.animationstart.animation),"TransitionEvent"in window||delete dl.transitionend.transition);function ho(r){if(Up[r])return Up[r];if(!dl[r])return r;var i=dl[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in L_)return Up[r]=i[l];return r}var V_=ho("animationend"),U_=ho("animationiteration"),B_=ho("animationstart"),AR=ho("transitionrun"),CR=ho("transitionstart"),RR=ho("transitioncancel"),z_=ho("transitionend"),F_=new Map,Bp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bp.push("scrollEnd");function Zr(r,i){F_.set(r,i),Yr(i,[r])}var H_=new WeakMap;function Ur(r,i){if(typeof r=="object"&&r!==null){var l=H_.get(r);return l!==void 0?l:(i={value:r,source:i,stack:Jo(i)},H_.set(r,i),i)}return{value:r,source:i,stack:Jo(i)}}var Br=[],fl=0,zp=0;function Nf(){for(var r=fl,i=zp=fl=0;i<r;){var l=Br[i];Br[i++]=null;var c=Br[i];Br[i++]=null;var g=Br[i];Br[i++]=null;var y=Br[i];if(Br[i++]=null,c!==null&&g!==null){var T=c.pending;T===null?g.next=g:(g.next=T.next,T.next=g),c.pending=g}y!==0&&q_(l,g,y)}}function If(r,i,l,c){Br[fl++]=r,Br[fl++]=i,Br[fl++]=l,Br[fl++]=c,zp|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Fp(r,i,l,c){return If(r,i,l,c),kf(r)}function hl(r,i){return If(r,null,null,i),kf(r)}function q_(r,i,l){r.lanes|=l;var c=r.alternate;c!==null&&(c.lanes|=l);for(var g=!1,y=r.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(g=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,g&&i!==null&&(g=31-yt(l),r=y.hiddenUpdates,c=r[g],c===null?r[g]=[i]:c.push(i),i.lane=l|536870912),y):null}function kf(r){if(50<Du)throw Du=0,Kg=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var ml={};function NR(r,i,l,c){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(r,i,l,c){return new NR(r,i,l,c)}function Hp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function oi(r,i){var l=r.alternate;return l===null?(l=wr(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function $_(r,i){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,i=l.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Df(r,i,l,c,g,y){var T=0;if(c=r,typeof r=="function")Hp(r)&&(T=1);else if(typeof r=="string")T=kN(r,l,be.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case M:return r=wr(31,l,i,g),r.elementType=M,r.lanes=y,r;case C:return mo(l.children,g,y,i);case R:T=8,g|=24;break;case N:return r=wr(12,l,i,g|2),r.elementType=N,r.lanes=y,r;case H:return r=wr(13,l,i,g),r.elementType=H,r.lanes=y,r;case Q:return r=wr(19,l,i,g),r.elementType=Q,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case j:case V:T=10;break e;case U:T=9;break e;case $:T=11;break e;case I:T=14;break e;case A:T=16,c=null;break e}T=29,l=Error(s(130,r===null?"null":typeof r,"")),c=null}return i=wr(T,l,i,g),i.elementType=r,i.type=c,i.lanes=y,i}function mo(r,i,l,c){return r=wr(7,r,c,i),r.lanes=l,r}function qp(r,i,l){return r=wr(6,r,null,i),r.lanes=l,r}function $p(r,i,l){return i=wr(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var pl=[],gl=0,Of=null,jf=0,zr=[],Fr=0,po=null,li=1,ci="";function go(r,i){pl[gl++]=jf,pl[gl++]=Of,Of=r,jf=i}function G_(r,i,l){zr[Fr++]=li,zr[Fr++]=ci,zr[Fr++]=po,po=r;var c=li;r=ci;var g=32-yt(c)-1;c&=~(1<<g),l+=1;var y=32-yt(i)+g;if(30<y){var T=g-g%5;y=(c&(1<<T)-1).toString(32),c>>=T,g-=T,li=1<<32-yt(i)+g|l<<g|c,ci=y+r}else li=1<<y|l<<g|c,ci=r}function Gp(r){r.return!==null&&(go(r,1),G_(r,1,0))}function Yp(r){for(;r===Of;)Of=pl[--gl],pl[gl]=null,jf=pl[--gl],pl[gl]=null;for(;r===po;)po=zr[--Fr],zr[Fr]=null,ci=zr[--Fr],zr[Fr]=null,li=zr[--Fr],zr[Fr]=null}var lr=null,on=null,Rt=!1,yo=null,Es=!1,Kp=Error(s(519));function vo(r){var i=Error(s(418,""));throw uu(Ur(i,r)),Kp}function Y_(r){var i=r.stateNode,l=r.type,c=r.memoizedProps;switch(i[En]=r,i[gn]=c,l){case"dialog":ft("cancel",i),ft("close",i);break;case"iframe":case"object":case"embed":ft("load",i);break;case"video":case"audio":for(l=0;l<ju.length;l++)ft(ju[l],i);break;case"source":ft("error",i);break;case"img":case"image":case"link":ft("error",i),ft("load",i);break;case"details":ft("toggle",i);break;case"input":ft("invalid",i),to(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),el(i);break;case"select":ft("invalid",i);break;case"textarea":ft("invalid",i),no(i,c.value,c.defaultValue,c.children),el(i)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||c.suppressHydrationWarning===!0||uw(i.textContent,l)?(c.popover!=null&&(ft("beforetoggle",i),ft("toggle",i)),c.onScroll!=null&&ft("scroll",i),c.onScrollEnd!=null&&ft("scrollend",i),c.onClick!=null&&(i.onclick=mh),i=!0):i=!1,i||vo(r)}function K_(r){for(lr=r.return;lr;)switch(lr.tag){case 5:case 13:Es=!1;return;case 27:case 3:Es=!0;return;default:lr=lr.return}}function lu(r){if(r!==lr)return!1;if(!Rt)return K_(r),Rt=!0,!1;var i=r.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||uy(r.type,r.memoizedProps)),l=!l),l&&on&&vo(r),K_(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(i===0){on=Wr(r.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;r=r.nextSibling}on=null}}else i===27?(i=on,da(r.type)?(r=my,my=null,on=r):on=i):on=lr?Wr(r.stateNode.nextSibling):null;return!0}function cu(){on=lr=null,Rt=!1}function Z_(){var r=yo;return r!==null&&(pr===null?pr=r:pr.push.apply(pr,r),yo=null),r}function uu(r){yo===null?yo=[r]:yo.push(r)}var Zp=ae(null),_o=null,ui=null;function Qi(r,i,l){le(Zp,i._currentValue),i._currentValue=l}function di(r){r._currentValue=Zp.current,me(Zp)}function Qp(r,i,l){for(;r!==null;){var c=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),r===l)break;r=r.return}}function Wp(r,i,l,c){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var y=g.dependencies;if(y!==null){var T=g.child;y=y.firstContext;e:for(;y!==null;){var k=y;y=g;for(var F=0;F<i.length;F++)if(k.context===i[F]){y.lanes|=l,k=y.alternate,k!==null&&(k.lanes|=l),Qp(y.return,l,r),c||(T=null);break e}y=k.next}}else if(g.tag===18){if(T=g.return,T===null)throw Error(s(341));T.lanes|=l,y=T.alternate,y!==null&&(y.lanes|=l),Qp(T,l,r),T=null}else T=g.child;if(T!==null)T.return=g;else for(T=g;T!==null;){if(T===r){T=null;break}if(g=T.sibling,g!==null){g.return=T.return,T=g;break}T=T.return}g=T}}function du(r,i,l,c){r=null;for(var g=i,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var T=g.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var k=g.type;xr(g.pendingProps.value,T.value)||(r!==null?r.push(k):r=[k])}}else if(g===ve.current){if(T=g.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(Bu):r=[Bu])}g=g.return}r!==null&&Wp(i,r,l,c),i.flags|=262144}function Mf(r){for(r=r.firstContext;r!==null;){if(!xr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function bo(r){_o=r,ui=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Kn(r){return Q_(_o,r)}function Pf(r,i){return _o===null&&bo(r),Q_(r,i)}function Q_(r,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},ui===null){if(r===null)throw Error(s(308));ui=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else ui=ui.next=i;return l}var IR=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(l,c){r.push(c)}};this.abort=function(){i.aborted=!0,r.forEach(function(l){return l()})}},kR=n.unstable_scheduleCallback,DR=n.unstable_NormalPriority,An={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xp(){return{controller:new IR,data:new Map,refCount:0}}function fu(r){r.refCount--,r.refCount===0&&kR(DR,function(){r.controller.abort()})}var hu=null,Jp=0,yl=0,vl=null;function OR(r,i){if(hu===null){var l=hu=[];Jp=0,yl=ty(),vl={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Jp++,i.then(W_,W_),i}function W_(){if(--Jp===0&&hu!==null){vl!==null&&(vl.status="fulfilled");var r=hu;hu=null,yl=0,vl=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function jR(r,i){var l=[],c={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return r.then(function(){c.status="fulfilled",c.value=i;for(var g=0;g<l.length;g++)(0,l[g])(i)},function(g){for(c.status="rejected",c.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),c}var X_=q.S;q.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&OR(r,i),X_!==null&&X_(r,i)};var xo=ae(null);function eg(){var r=xo.current;return r!==null?r:qt.pooledCache}function Lf(r,i){i===null?le(xo,xo.current):le(xo,i.pool)}function J_(){var r=eg();return r===null?null:{parent:An._currentValue,pool:r}}var mu=Error(s(460)),eb=Error(s(474)),Vf=Error(s(542)),tg={then:function(){}};function tb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Uf(){}function nb(r,i,l){switch(l=r[l],l===void 0?r.push(i):l!==i&&(i.then(Uf,Uf),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,sb(r),r;default:if(typeof i.status=="string")i.then(Uf,Uf);else{if(r=qt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(c){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=c}},function(c){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,sb(r),r}throw pu=i,mu}}var pu=null;function rb(){if(pu===null)throw Error(s(459));var r=pu;return pu=null,r}function sb(r){if(r===mu||r===Vf)throw Error(s(483))}var Wi=!1;function ng(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rg(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Xi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ji(r,i,l){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Ot&2)!==0){var g=c.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),c.pending=i,i=kf(r),q_(r,null,l),i}return If(r,c,i,l),kf(r)}function gu(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var c=i.lanes;c&=r.pendingLanes,l|=c,i.lanes=l,qc(r,l)}}function sg(r,i){var l=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?g=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?g=y=i:y=y.next=i}else g=y=i;l={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}var ig=!1;function yu(){if(ig){var r=vl;if(r!==null)throw r}}function vu(r,i,l,c){ig=!1;var g=r.updateQueue;Wi=!1;var y=g.firstBaseUpdate,T=g.lastBaseUpdate,k=g.shared.pending;if(k!==null){g.shared.pending=null;var F=k,J=F.next;F.next=null,T===null?y=J:T.next=J,T=F;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,k=oe.lastBaseUpdate,k!==T&&(k===null?oe.firstBaseUpdate=J:k.next=J,oe.lastBaseUpdate=F))}if(y!==null){var de=g.baseState;T=0,oe=J=F=null,k=y;do{var te=k.lane&-536870913,ne=te!==k.lane;if(ne?(bt&te)===te:(c&te)===te){te!==0&&te===yl&&(ig=!0),oe!==null&&(oe=oe.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Ze=r,Fe=k;te=i;var zt=l;switch(Fe.tag){case 1:if(Ze=Fe.payload,typeof Ze=="function"){de=Ze.call(zt,de,te);break e}de=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=Fe.payload,te=typeof Ze=="function"?Ze.call(zt,de,te):Ze,te==null)break e;de=v({},de,te);break e;case 2:Wi=!0}}te=k.callback,te!==null&&(r.flags|=64,ne&&(r.flags|=8192),ne=g.callbacks,ne===null?g.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:k.tag,payload:k.payload,callback:k.callback,next:null},oe===null?(J=oe=ne,F=de):oe=oe.next=ne,T|=te;if(k=k.next,k===null){if(k=g.shared.pending,k===null)break;ne=k,k=ne.next,ne.next=null,g.lastBaseUpdate=ne,g.shared.pending=null}}while(!0);oe===null&&(F=de),g.baseState=F,g.firstBaseUpdate=J,g.lastBaseUpdate=oe,y===null&&(g.shared.lanes=0),oa|=T,r.lanes=T,r.memoizedState=de}}function ib(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function ab(r,i){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)ib(l[r],i)}var _l=ae(null),Bf=ae(0);function ob(r,i){r=vi,le(Bf,r),le(_l,i),vi=r|i.baseLanes}function ag(){le(Bf,vi),le(_l,_l.current)}function og(){vi=Bf.current,me(_l),me(Bf)}var ea=0,ot=null,Ut=null,vn=null,zf=!1,bl=!1,wo=!1,Ff=0,_u=0,xl=null,MR=0;function hn(){throw Error(s(321))}function lg(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!xr(r[l],i[l]))return!1;return!0}function cg(r,i,l,c,g,y){return ea=y,ot=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,q.H=r===null||r.memoizedState===null?qb:$b,wo=!1,y=l(c,g),wo=!1,bl&&(y=cb(i,l,c,g)),lb(r),y}function lb(r){q.H=Kf;var i=Ut!==null&&Ut.next!==null;if(ea=0,vn=Ut=ot=null,zf=!1,_u=0,xl=null,i)throw Error(s(300));r===null||jn||(r=r.dependencies,r!==null&&Mf(r)&&(jn=!0))}function cb(r,i,l,c){ot=r;var g=0;do{if(bl&&(xl=null),_u=0,bl=!1,25<=g)throw Error(s(301));if(g+=1,vn=Ut=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}q.H=FR,y=i(l,c)}while(bl);return y}function PR(){var r=q.H,i=r.useState()[0];return i=typeof i.then=="function"?bu(i):i,r=r.useState()[0],(Ut!==null?Ut.memoizedState:null)!==r&&(ot.flags|=1024),i}function ug(){var r=Ff!==0;return Ff=0,r}function dg(r,i,l){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~l}function fg(r){if(zf){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}zf=!1}ea=0,vn=Ut=ot=null,bl=!1,_u=Ff=0,xl=null}function hr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?ot.memoizedState=vn=r:vn=vn.next=r,vn}function _n(){if(Ut===null){var r=ot.alternate;r=r!==null?r.memoizedState:null}else r=Ut.next;var i=vn===null?ot.memoizedState:vn.next;if(i!==null)vn=i,Ut=r;else{if(r===null)throw ot.alternate===null?Error(s(467)):Error(s(310));Ut=r,r={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},vn===null?ot.memoizedState=vn=r:vn=vn.next=r}return vn}function hg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bu(r){var i=_u;return _u+=1,xl===null&&(xl=[]),r=nb(xl,r,i),i=ot,(vn===null?i.memoizedState:vn.next)===null&&(i=i.alternate,q.H=i===null||i.memoizedState===null?qb:$b),r}function Hf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return bu(r);if(r.$$typeof===V)return Kn(r)}throw Error(s(438,String(r)))}function mg(r){var i=null,l=ot.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var c=ot.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=hg(),ot.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(r),c=0;c<r;c++)l[c]=B;return i.index++,l}function fi(r,i){return typeof i=="function"?i(r):i}function qf(r){var i=_n();return pg(i,Ut,r)}function pg(r,i,l){var c=r.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=l;var g=r.baseQueue,y=c.pending;if(y!==null){if(g!==null){var T=g.next;g.next=y.next,y.next=T}i.baseQueue=g=y,c.pending=null}if(y=r.baseState,g===null)r.memoizedState=y;else{i=g.next;var k=T=null,F=null,J=i,oe=!1;do{var de=J.lane&-536870913;if(de!==J.lane?(bt&de)===de:(ea&de)===de){var te=J.revertLane;if(te===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),de===yl&&(oe=!0);else if((ea&te)===te){J=J.next,te===yl&&(oe=!0);continue}else de={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},F===null?(k=F=de,T=y):F=F.next=de,ot.lanes|=te,oa|=te;de=J.action,wo&&l(y,de),y=J.hasEagerState?J.eagerState:l(y,de)}else te={lane:de,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},F===null?(k=F=te,T=y):F=F.next=te,ot.lanes|=de,oa|=de;J=J.next}while(J!==null&&J!==i);if(F===null?T=y:F.next=k,!xr(y,r.memoizedState)&&(jn=!0,oe&&(l=vl,l!==null)))throw l;r.memoizedState=y,r.baseState=T,r.baseQueue=F,c.lastRenderedState=y}return g===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function gg(r){var i=_n(),l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=l.dispatch,g=l.pending,y=i.memoizedState;if(g!==null){l.pending=null;var T=g=g.next;do y=r(y,T.action),T=T.next;while(T!==g);xr(y,i.memoizedState)||(jn=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,c]}function ub(r,i,l){var c=ot,g=_n(),y=Rt;if(y){if(l===void 0)throw Error(s(407));l=l()}else l=i();var T=!xr((Ut||g).memoizedState,l);T&&(g.memoizedState=l,jn=!0),g=g.queue;var k=hb.bind(null,c,g,r);if(xu(2048,8,k,[r]),g.getSnapshot!==i||T||vn!==null&&vn.memoizedState.tag&1){if(c.flags|=2048,wl(9,$f(),fb.bind(null,c,g,l,i),null),qt===null)throw Error(s(349));y||(ea&124)!==0||db(c,i,l)}return l}function db(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=ot.updateQueue,i===null?(i=hg(),ot.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function fb(r,i,l,c){i.value=l,i.getSnapshot=c,mb(i)&&pb(r)}function hb(r,i,l){return l(function(){mb(i)&&pb(r)})}function mb(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!xr(r,l)}catch{return!0}}function pb(r){var i=hl(r,2);i!==null&&Cr(i,r,2)}function yg(r){var i=hr();if(typeof r=="function"){var l=r;if(r=l(),wo){Lt(!0);try{l()}finally{Lt(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:r},i}function gb(r,i,l,c){return r.baseState=l,pg(r,Ut,typeof c=="function"?c:fi)}function LR(r,i,l,c,g){if(Yf(r))throw Error(s(485));if(r=i.action,r!==null){var y={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};q.T!==null?l(!0):y.isTransition=!1,c(y),l=i.pending,l===null?(y.next=i.pending=y,yb(i,y)):(y.next=l.next,i.pending=l.next=y)}}function yb(r,i){var l=i.action,c=i.payload,g=r.state;if(i.isTransition){var y=q.T,T={};q.T=T;try{var k=l(g,c),F=q.S;F!==null&&F(T,k),vb(r,i,k)}catch(J){vg(r,i,J)}finally{q.T=y}}else try{y=l(g,c),vb(r,i,y)}catch(J){vg(r,i,J)}}function vb(r,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){_b(r,i,c)},function(c){return vg(r,i,c)}):_b(r,i,l)}function _b(r,i,l){i.status="fulfilled",i.value=l,bb(i),r.state=l,i=r.pending,i!==null&&(l=i.next,l===i?r.pending=null:(l=l.next,i.next=l,yb(r,l)))}function vg(r,i,l){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=l,bb(i),i=i.next;while(i!==c)}r.action=null}function bb(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function xb(r,i){return i}function wb(r,i){if(Rt){var l=qt.formState;if(l!==null){e:{var c=ot;if(Rt){if(on){t:{for(var g=on,y=Es;g.nodeType!==8;){if(!y){g=null;break t}if(g=Wr(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){on=Wr(g.nextSibling),c=g.data==="F!";break e}}vo(c)}c=!1}c&&(i=l[0])}}return l=hr(),l.memoizedState=l.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xb,lastRenderedState:i},l.queue=c,l=zb.bind(null,ot,c),c.dispatch=l,c=yg(!1),y=Eg.bind(null,ot,!1,c.queue),c=hr(),g={state:i,dispatch:null,action:r,pending:null},c.queue=g,l=LR.bind(null,ot,g,y,l),g.dispatch=l,c.memoizedState=r,[i,l,!1]}function Eb(r){var i=_n();return Tb(i,Ut,r)}function Tb(r,i,l){if(i=pg(r,i,xb)[0],r=qf(fi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=bu(i)}catch(T){throw T===mu?Vf:T}else c=i;i=_n();var g=i.queue,y=g.dispatch;return l!==i.memoizedState&&(ot.flags|=2048,wl(9,$f(),VR.bind(null,g,l),null)),[c,y,r]}function VR(r,i){r.action=i}function Sb(r){var i=_n(),l=Ut;if(l!==null)return Tb(i,l,r);_n(),i=i.memoizedState,l=_n();var c=l.queue.dispatch;return l.memoizedState=r,[i,c,!1]}function wl(r,i,l,c){return r={tag:r,create:l,deps:c,inst:i,next:null},i=ot.updateQueue,i===null&&(i=hg(),ot.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=r.next=r:(c=l.next,l.next=r,r.next=c,i.lastEffect=r),r}function $f(){return{destroy:void 0,resource:void 0}}function Ab(){return _n().memoizedState}function Gf(r,i,l,c){var g=hr();c=c===void 0?null:c,ot.flags|=r,g.memoizedState=wl(1|i,$f(),l,c)}function xu(r,i,l,c){var g=_n();c=c===void 0?null:c;var y=g.memoizedState.inst;Ut!==null&&c!==null&&lg(c,Ut.memoizedState.deps)?g.memoizedState=wl(i,y,l,c):(ot.flags|=r,g.memoizedState=wl(1|i,y,l,c))}function Cb(r,i){Gf(8390656,8,r,i)}function Rb(r,i){xu(2048,8,r,i)}function Nb(r,i){return xu(4,2,r,i)}function Ib(r,i){return xu(4,4,r,i)}function kb(r,i){if(typeof i=="function"){r=r();var l=i(r);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Db(r,i,l){l=l!=null?l.concat([r]):null,xu(4,4,kb.bind(null,i,r),l)}function _g(){}function Ob(r,i){var l=_n();i=i===void 0?null:i;var c=l.memoizedState;return i!==null&&lg(i,c[1])?c[0]:(l.memoizedState=[r,i],r)}function jb(r,i){var l=_n();i=i===void 0?null:i;var c=l.memoizedState;if(i!==null&&lg(i,c[1]))return c[0];if(c=r(),wo){Lt(!0);try{r()}finally{Lt(!1)}}return l.memoizedState=[c,i],c}function bg(r,i,l){return l===void 0||(ea&1073741824)!==0?r.memoizedState=i:(r.memoizedState=l,r=Lx(),ot.lanes|=r,oa|=r,l)}function Mb(r,i,l,c){return xr(l,i)?l:_l.current!==null?(r=bg(r,l,c),xr(r,i)||(jn=!0),r):(ea&42)===0?(jn=!0,r.memoizedState=l):(r=Lx(),ot.lanes|=r,oa|=r,i)}function Pb(r,i,l,c,g){var y=ee.p;ee.p=y!==0&&8>y?y:8;var T=q.T,k={};q.T=k,Eg(r,!1,i,l);try{var F=g(),J=q.S;if(J!==null&&J(k,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var oe=jR(F,c);wu(r,i,oe,Ar(r))}else wu(r,i,c,Ar(r))}catch(de){wu(r,i,{then:function(){},status:"rejected",reason:de},Ar())}finally{ee.p=y,q.T=T}}function UR(){}function xg(r,i,l,c){if(r.tag!==5)throw Error(s(476));var g=Lb(r).queue;Pb(r,g,i,K,l===null?UR:function(){return Vb(r),l(c)})}function Lb(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:K},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:l},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function Vb(r){var i=Lb(r).next.queue;wu(r,i,{},Ar())}function wg(){return Kn(Bu)}function Ub(){return _n().memoizedState}function Bb(){return _n().memoizedState}function BR(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var l=Ar();r=Xi(l);var c=Ji(i,r,l);c!==null&&(Cr(c,i,l),gu(c,i,l)),i={cache:Xp()},r.payload=i;return}i=i.return}}function zR(r,i,l){var c=Ar();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Yf(r)?Fb(i,l):(l=Fp(r,i,l,c),l!==null&&(Cr(l,r,c),Hb(l,i,c)))}function zb(r,i,l){var c=Ar();wu(r,i,l,c)}function wu(r,i,l,c){var g={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Yf(r))Fb(i,g);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var T=i.lastRenderedState,k=y(T,l);if(g.hasEagerState=!0,g.eagerState=k,xr(k,T))return If(r,i,g,0),qt===null&&Nf(),!1}catch{}finally{}if(l=Fp(r,i,g,c),l!==null)return Cr(l,r,c),Hb(l,i,c),!0}return!1}function Eg(r,i,l,c){if(c={lane:2,revertLane:ty(),action:c,hasEagerState:!1,eagerState:null,next:null},Yf(r)){if(i)throw Error(s(479))}else i=Fp(r,l,c,2),i!==null&&Cr(i,r,2)}function Yf(r){var i=r.alternate;return r===ot||i!==null&&i===ot}function Fb(r,i){bl=zf=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function Hb(r,i,l){if((l&4194048)!==0){var c=i.lanes;c&=r.pendingLanes,l|=c,i.lanes=l,qc(r,l)}}var Kf={readContext:Kn,use:Hf,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useLayoutEffect:hn,useInsertionEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useSyncExternalStore:hn,useId:hn,useHostTransitionStatus:hn,useFormState:hn,useActionState:hn,useOptimistic:hn,useMemoCache:hn,useCacheRefresh:hn},qb={readContext:Kn,use:Hf,useCallback:function(r,i){return hr().memoizedState=[r,i===void 0?null:i],r},useContext:Kn,useEffect:Cb,useImperativeHandle:function(r,i,l){l=l!=null?l.concat([r]):null,Gf(4194308,4,kb.bind(null,i,r),l)},useLayoutEffect:function(r,i){return Gf(4194308,4,r,i)},useInsertionEffect:function(r,i){Gf(4,2,r,i)},useMemo:function(r,i){var l=hr();i=i===void 0?null:i;var c=r();if(wo){Lt(!0);try{r()}finally{Lt(!1)}}return l.memoizedState=[c,i],c},useReducer:function(r,i,l){var c=hr();if(l!==void 0){var g=l(i);if(wo){Lt(!0);try{l(i)}finally{Lt(!1)}}}else g=i;return c.memoizedState=c.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},c.queue=r,r=r.dispatch=zR.bind(null,ot,r),[c.memoizedState,r]},useRef:function(r){var i=hr();return r={current:r},i.memoizedState=r},useState:function(r){r=yg(r);var i=r.queue,l=zb.bind(null,ot,i);return i.dispatch=l,[r.memoizedState,l]},useDebugValue:_g,useDeferredValue:function(r,i){var l=hr();return bg(l,r,i)},useTransition:function(){var r=yg(!1);return r=Pb.bind(null,ot,r.queue,!0,!1),hr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,l){var c=ot,g=hr();if(Rt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=i(),qt===null)throw Error(s(349));(bt&124)!==0||db(c,i,l)}g.memoizedState=l;var y={value:l,getSnapshot:i};return g.queue=y,Cb(hb.bind(null,c,y,r),[r]),c.flags|=2048,wl(9,$f(),fb.bind(null,c,y,l,i),null),l},useId:function(){var r=hr(),i=qt.identifierPrefix;if(Rt){var l=ci,c=li;l=(c&~(1<<32-yt(c)-1)).toString(32)+l,i="«"+i+"R"+l,l=Ff++,0<l&&(i+="H"+l.toString(32)),i+="»"}else l=MR++,i="«"+i+"r"+l.toString(32)+"»";return r.memoizedState=i},useHostTransitionStatus:wg,useFormState:wb,useActionState:wb,useOptimistic:function(r){var i=hr();i.memoizedState=i.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Eg.bind(null,ot,!0,l),l.dispatch=i,[r,i]},useMemoCache:mg,useCacheRefresh:function(){return hr().memoizedState=BR.bind(null,ot)}},$b={readContext:Kn,use:Hf,useCallback:Ob,useContext:Kn,useEffect:Rb,useImperativeHandle:Db,useInsertionEffect:Nb,useLayoutEffect:Ib,useMemo:jb,useReducer:qf,useRef:Ab,useState:function(){return qf(fi)},useDebugValue:_g,useDeferredValue:function(r,i){var l=_n();return Mb(l,Ut.memoizedState,r,i)},useTransition:function(){var r=qf(fi)[0],i=_n().memoizedState;return[typeof r=="boolean"?r:bu(r),i]},useSyncExternalStore:ub,useId:Ub,useHostTransitionStatus:wg,useFormState:Eb,useActionState:Eb,useOptimistic:function(r,i){var l=_n();return gb(l,Ut,r,i)},useMemoCache:mg,useCacheRefresh:Bb},FR={readContext:Kn,use:Hf,useCallback:Ob,useContext:Kn,useEffect:Rb,useImperativeHandle:Db,useInsertionEffect:Nb,useLayoutEffect:Ib,useMemo:jb,useReducer:gg,useRef:Ab,useState:function(){return gg(fi)},useDebugValue:_g,useDeferredValue:function(r,i){var l=_n();return Ut===null?bg(l,r,i):Mb(l,Ut.memoizedState,r,i)},useTransition:function(){var r=gg(fi)[0],i=_n().memoizedState;return[typeof r=="boolean"?r:bu(r),i]},useSyncExternalStore:ub,useId:Ub,useHostTransitionStatus:wg,useFormState:Sb,useActionState:Sb,useOptimistic:function(r,i){var l=_n();return Ut!==null?gb(l,Ut,r,i):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:mg,useCacheRefresh:Bb},El=null,Eu=0;function Zf(r){var i=Eu;return Eu+=1,El===null&&(El=[]),nb(El,r,i)}function Tu(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Qf(r,i){throw i.$$typeof===b?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function Gb(r){var i=r._init;return i(r._payload)}function Yb(r){function i(Z,Y){if(r){var X=Z.deletions;X===null?(Z.deletions=[Y],Z.flags|=16):X.push(Y)}}function l(Z,Y){if(!r)return null;for(;Y!==null;)i(Z,Y),Y=Y.sibling;return null}function c(Z){for(var Y=new Map;Z!==null;)Z.key!==null?Y.set(Z.key,Z):Y.set(Z.index,Z),Z=Z.sibling;return Y}function g(Z,Y){return Z=oi(Z,Y),Z.index=0,Z.sibling=null,Z}function y(Z,Y,X){return Z.index=X,r?(X=Z.alternate,X!==null?(X=X.index,X<Y?(Z.flags|=67108866,Y):X):(Z.flags|=67108866,Y)):(Z.flags|=1048576,Y)}function T(Z){return r&&Z.alternate===null&&(Z.flags|=67108866),Z}function k(Z,Y,X,ce){return Y===null||Y.tag!==6?(Y=qp(X,Z.mode,ce),Y.return=Z,Y):(Y=g(Y,X),Y.return=Z,Y)}function F(Z,Y,X,ce){var Ne=X.type;return Ne===C?oe(Z,Y,X.props.children,ce,X.key):Y!==null&&(Y.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===A&&Gb(Ne)===Y.type)?(Y=g(Y,X.props),Tu(Y,X),Y.return=Z,Y):(Y=Df(X.type,X.key,X.props,null,Z.mode,ce),Tu(Y,X),Y.return=Z,Y)}function J(Z,Y,X,ce){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==X.containerInfo||Y.stateNode.implementation!==X.implementation?(Y=$p(X,Z.mode,ce),Y.return=Z,Y):(Y=g(Y,X.children||[]),Y.return=Z,Y)}function oe(Z,Y,X,ce,Ne){return Y===null||Y.tag!==7?(Y=mo(X,Z.mode,ce,Ne),Y.return=Z,Y):(Y=g(Y,X),Y.return=Z,Y)}function de(Z,Y,X){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=qp(""+Y,Z.mode,X),Y.return=Z,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case _:return X=Df(Y.type,Y.key,Y.props,null,Z.mode,X),Tu(X,Y),X.return=Z,X;case S:return Y=$p(Y,Z.mode,X),Y.return=Z,Y;case A:var ce=Y._init;return Y=ce(Y._payload),de(Z,Y,X)}if(se(Y)||L(Y))return Y=mo(Y,Z.mode,X,null),Y.return=Z,Y;if(typeof Y.then=="function")return de(Z,Zf(Y),X);if(Y.$$typeof===V)return de(Z,Pf(Z,Y),X);Qf(Z,Y)}return null}function te(Z,Y,X,ce){var Ne=Y!==null?Y.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ne!==null?null:k(Z,Y,""+X,ce);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case _:return X.key===Ne?F(Z,Y,X,ce):null;case S:return X.key===Ne?J(Z,Y,X,ce):null;case A:return Ne=X._init,X=Ne(X._payload),te(Z,Y,X,ce)}if(se(X)||L(X))return Ne!==null?null:oe(Z,Y,X,ce,null);if(typeof X.then=="function")return te(Z,Y,Zf(X),ce);if(X.$$typeof===V)return te(Z,Y,Pf(Z,X),ce);Qf(Z,X)}return null}function ne(Z,Y,X,ce,Ne){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Z=Z.get(X)||null,k(Y,Z,""+ce,Ne);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case _:return Z=Z.get(ce.key===null?X:ce.key)||null,F(Y,Z,ce,Ne);case S:return Z=Z.get(ce.key===null?X:ce.key)||null,J(Y,Z,ce,Ne);case A:var ut=ce._init;return ce=ut(ce._payload),ne(Z,Y,X,ce,Ne)}if(se(ce)||L(ce))return Z=Z.get(X)||null,oe(Y,Z,ce,Ne,null);if(typeof ce.then=="function")return ne(Z,Y,X,Zf(ce),Ne);if(ce.$$typeof===V)return ne(Z,Y,X,Pf(Y,ce),Ne);Qf(Y,ce)}return null}function Ze(Z,Y,X,ce){for(var Ne=null,ut=null,Le=Y,$e=Y=0,Pn=null;Le!==null&&$e<X.length;$e++){Le.index>$e?(Pn=Le,Le=null):Pn=Le.sibling;var Ct=te(Z,Le,X[$e],ce);if(Ct===null){Le===null&&(Le=Pn);break}r&&Le&&Ct.alternate===null&&i(Z,Le),Y=y(Ct,Y,$e),ut===null?Ne=Ct:ut.sibling=Ct,ut=Ct,Le=Pn}if($e===X.length)return l(Z,Le),Rt&&go(Z,$e),Ne;if(Le===null){for(;$e<X.length;$e++)Le=de(Z,X[$e],ce),Le!==null&&(Y=y(Le,Y,$e),ut===null?Ne=Le:ut.sibling=Le,ut=Le);return Rt&&go(Z,$e),Ne}for(Le=c(Le);$e<X.length;$e++)Pn=ne(Le,Z,$e,X[$e],ce),Pn!==null&&(r&&Pn.alternate!==null&&Le.delete(Pn.key===null?$e:Pn.key),Y=y(Pn,Y,$e),ut===null?Ne=Pn:ut.sibling=Pn,ut=Pn);return r&&Le.forEach(function(ga){return i(Z,ga)}),Rt&&go(Z,$e),Ne}function Fe(Z,Y,X,ce){if(X==null)throw Error(s(151));for(var Ne=null,ut=null,Le=Y,$e=Y=0,Pn=null,Ct=X.next();Le!==null&&!Ct.done;$e++,Ct=X.next()){Le.index>$e?(Pn=Le,Le=null):Pn=Le.sibling;var ga=te(Z,Le,Ct.value,ce);if(ga===null){Le===null&&(Le=Pn);break}r&&Le&&ga.alternate===null&&i(Z,Le),Y=y(ga,Y,$e),ut===null?Ne=ga:ut.sibling=ga,ut=ga,Le=Pn}if(Ct.done)return l(Z,Le),Rt&&go(Z,$e),Ne;if(Le===null){for(;!Ct.done;$e++,Ct=X.next())Ct=de(Z,Ct.value,ce),Ct!==null&&(Y=y(Ct,Y,$e),ut===null?Ne=Ct:ut.sibling=Ct,ut=Ct);return Rt&&go(Z,$e),Ne}for(Le=c(Le);!Ct.done;$e++,Ct=X.next())Ct=ne(Le,Z,$e,Ct.value,ce),Ct!==null&&(r&&Ct.alternate!==null&&Le.delete(Ct.key===null?$e:Ct.key),Y=y(Ct,Y,$e),ut===null?Ne=Ct:ut.sibling=Ct,ut=Ct);return r&&Le.forEach(function(HN){return i(Z,HN)}),Rt&&go(Z,$e),Ne}function zt(Z,Y,X,ce){if(typeof X=="object"&&X!==null&&X.type===C&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case _:e:{for(var Ne=X.key;Y!==null;){if(Y.key===Ne){if(Ne=X.type,Ne===C){if(Y.tag===7){l(Z,Y.sibling),ce=g(Y,X.props.children),ce.return=Z,Z=ce;break e}}else if(Y.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===A&&Gb(Ne)===Y.type){l(Z,Y.sibling),ce=g(Y,X.props),Tu(ce,X),ce.return=Z,Z=ce;break e}l(Z,Y);break}else i(Z,Y);Y=Y.sibling}X.type===C?(ce=mo(X.props.children,Z.mode,ce,X.key),ce.return=Z,Z=ce):(ce=Df(X.type,X.key,X.props,null,Z.mode,ce),Tu(ce,X),ce.return=Z,Z=ce)}return T(Z);case S:e:{for(Ne=X.key;Y!==null;){if(Y.key===Ne)if(Y.tag===4&&Y.stateNode.containerInfo===X.containerInfo&&Y.stateNode.implementation===X.implementation){l(Z,Y.sibling),ce=g(Y,X.children||[]),ce.return=Z,Z=ce;break e}else{l(Z,Y);break}else i(Z,Y);Y=Y.sibling}ce=$p(X,Z.mode,ce),ce.return=Z,Z=ce}return T(Z);case A:return Ne=X._init,X=Ne(X._payload),zt(Z,Y,X,ce)}if(se(X))return Ze(Z,Y,X,ce);if(L(X)){if(Ne=L(X),typeof Ne!="function")throw Error(s(150));return X=Ne.call(X),Fe(Z,Y,X,ce)}if(typeof X.then=="function")return zt(Z,Y,Zf(X),ce);if(X.$$typeof===V)return zt(Z,Y,Pf(Z,X),ce);Qf(Z,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,Y!==null&&Y.tag===6?(l(Z,Y.sibling),ce=g(Y,X),ce.return=Z,Z=ce):(l(Z,Y),ce=qp(X,Z.mode,ce),ce.return=Z,Z=ce),T(Z)):l(Z,Y)}return function(Z,Y,X,ce){try{Eu=0;var Ne=zt(Z,Y,X,ce);return El=null,Ne}catch(Le){if(Le===mu||Le===Vf)throw Le;var ut=wr(29,Le,null,Z.mode);return ut.lanes=ce,ut.return=Z,ut}finally{}}}var Tl=Yb(!0),Kb=Yb(!1),Hr=ae(null),Ts=null;function ta(r){var i=r.alternate;le(Cn,Cn.current&1),le(Hr,r),Ts===null&&(i===null||_l.current!==null||i.memoizedState!==null)&&(Ts=r)}function Zb(r){if(r.tag===22){if(le(Cn,Cn.current),le(Hr,r),Ts===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(Ts=r)}}else na()}function na(){le(Cn,Cn.current),le(Hr,Hr.current)}function hi(r){me(Hr),Ts===r&&(Ts=null),me(Cn)}var Cn=ae(0);function Wf(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||hy(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Tg(r,i,l,c){i=r.memoizedState,l=l(c,i),l=l==null?i:v({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Sg={enqueueSetState:function(r,i,l){r=r._reactInternals;var c=Ar(),g=Xi(c);g.payload=i,l!=null&&(g.callback=l),i=Ji(r,g,c),i!==null&&(Cr(i,r,c),gu(i,r,c))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var c=Ar(),g=Xi(c);g.tag=1,g.payload=i,l!=null&&(g.callback=l),i=Ji(r,g,c),i!==null&&(Cr(i,r,c),gu(i,r,c))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=Ar(),c=Xi(l);c.tag=2,i!=null&&(c.callback=i),i=Ji(r,c,l),i!==null&&(Cr(i,r,l),gu(i,r,l))}};function Qb(r,i,l,c,g,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,T):i.prototype&&i.prototype.isPureReactComponent?!au(l,c)||!au(g,y):!0}function Wb(r,i,l,c){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,c),i.state!==r&&Sg.enqueueReplaceState(i,i.state,null)}function Eo(r,i){var l=i;if("ref"in i){l={};for(var c in i)c!=="ref"&&(l[c]=i[c])}if(r=r.defaultProps){l===i&&(l=v({},l));for(var g in r)l[g]===void 0&&(l[g]=r[g])}return l}var Xf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Xb(r){Xf(r)}function Jb(r){console.error(r)}function ex(r){Xf(r)}function Jf(r,i){try{var l=r.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function tx(r,i,l){try{var c=r.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Ag(r,i,l){return l=Xi(l),l.tag=3,l.payload={element:null},l.callback=function(){Jf(r,i)},l}function nx(r){return r=Xi(r),r.tag=3,r}function rx(r,i,l,c){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var y=c.value;r.payload=function(){return g(y)},r.callback=function(){tx(i,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){tx(i,l,c),typeof g!="function"&&(la===null?la=new Set([this]):la.add(this));var k=c.stack;this.componentDidCatch(c.value,{componentStack:k!==null?k:""})})}function HR(r,i,l,c,g){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=l.alternate,i!==null&&du(i,l,g,!0),l=Hr.current,l!==null){switch(l.tag){case 13:return Ts===null?Qg():l.alternate===null&&ln===0&&(ln=3),l.flags&=-257,l.flags|=65536,l.lanes=g,c===tg?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([c]):i.add(c),Xg(r,c,g)),!1;case 22:return l.flags|=65536,c===tg?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([c]):l.add(c)),Xg(r,c,g)),!1}throw Error(s(435,l.tag))}return Xg(r,c,g),Qg(),!1}if(Rt)return i=Hr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,c!==Kp&&(r=Error(s(422),{cause:c}),uu(Ur(r,l)))):(c!==Kp&&(i=Error(s(423),{cause:c}),uu(Ur(i,l))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,c=Ur(c,l),g=Ag(r.stateNode,c,g),sg(r,g),ln!==4&&(ln=2)),!1;var y=Error(s(520),{cause:c});if(y=Ur(y,l),ku===null?ku=[y]:ku.push(y),ln!==4&&(ln=2),i===null)return!0;c=Ur(c,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,r=g&-g,l.lanes|=r,r=Ag(l.stateNode,c,r),sg(l,r),!1;case 1:if(i=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(la===null||!la.has(y))))return l.flags|=65536,g&=-g,l.lanes|=g,g=nx(g),rx(g,r,l,c),sg(l,g),!1}l=l.return}while(l!==null);return!1}var sx=Error(s(461)),jn=!1;function Bn(r,i,l,c){i.child=r===null?Kb(i,null,l,c):Tl(i,r.child,l,c)}function ix(r,i,l,c,g){l=l.render;var y=i.ref;if("ref"in c){var T={};for(var k in c)k!=="ref"&&(T[k]=c[k])}else T=c;return bo(i),c=cg(r,i,l,T,y,g),k=ug(),r!==null&&!jn?(dg(r,i,g),mi(r,i,g)):(Rt&&k&&Gp(i),i.flags|=1,Bn(r,i,c,g),i.child)}function ax(r,i,l,c,g){if(r===null){var y=l.type;return typeof y=="function"&&!Hp(y)&&y.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=y,ox(r,i,y,c,g)):(r=Df(l.type,null,c,i,i.mode,g),r.ref=i.ref,r.return=i,i.child=r)}if(y=r.child,!jg(r,g)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:au,l(T,c)&&r.ref===i.ref)return mi(r,i,g)}return i.flags|=1,r=oi(y,c),r.ref=i.ref,r.return=i,i.child=r}function ox(r,i,l,c,g){if(r!==null){var y=r.memoizedProps;if(au(y,c)&&r.ref===i.ref)if(jn=!1,i.pendingProps=c=y,jg(r,g))(r.flags&131072)!==0&&(jn=!0);else return i.lanes=r.lanes,mi(r,i,g)}return Cg(r,i,l,c,g)}function lx(r,i,l){var c=i.pendingProps,g=c.children,y=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,r!==null){for(g=i.child=r.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;i.childLanes=y&~c}else i.childLanes=0,i.child=null;return cx(r,i,c,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Lf(i,y!==null?y.cachePool:null),y!==null?ob(i,y):ag(),Zb(i);else return i.lanes=i.childLanes=536870912,cx(r,i,y!==null?y.baseLanes|l:l,l)}else y!==null?(Lf(i,y.cachePool),ob(i,y),na(),i.memoizedState=null):(r!==null&&Lf(i,null),ag(),na());return Bn(r,i,g,l),i.child}function cx(r,i,l,c){var g=eg();return g=g===null?null:{parent:An._currentValue,pool:g},i.memoizedState={baseLanes:l,cachePool:g},r!==null&&Lf(i,null),ag(),Zb(i),r!==null&&du(r,i,c,!0),null}function eh(r,i){var l=i.ref;if(l===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(r===null||r.ref!==l)&&(i.flags|=4194816)}}function Cg(r,i,l,c,g){return bo(i),l=cg(r,i,l,c,void 0,g),c=ug(),r!==null&&!jn?(dg(r,i,g),mi(r,i,g)):(Rt&&c&&Gp(i),i.flags|=1,Bn(r,i,l,g),i.child)}function ux(r,i,l,c,g,y){return bo(i),i.updateQueue=null,l=cb(i,c,l,g),lb(r),c=ug(),r!==null&&!jn?(dg(r,i,y),mi(r,i,y)):(Rt&&c&&Gp(i),i.flags|=1,Bn(r,i,l,y),i.child)}function dx(r,i,l,c,g){if(bo(i),i.stateNode===null){var y=ml,T=l.contextType;typeof T=="object"&&T!==null&&(y=Kn(T)),y=new l(c,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Sg,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=c,y.state=i.memoizedState,y.refs={},ng(i),T=l.contextType,y.context=typeof T=="object"&&T!==null?Kn(T):ml,y.state=i.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Tg(i,l,T,c),y.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&Sg.enqueueReplaceState(y,y.state,null),vu(i,c,y,g),yu(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(r===null){y=i.stateNode;var k=i.memoizedProps,F=Eo(l,k);y.props=F;var J=y.context,oe=l.contextType;T=ml,typeof oe=="object"&&oe!==null&&(T=Kn(oe));var de=l.getDerivedStateFromProps;oe=typeof de=="function"||typeof y.getSnapshotBeforeUpdate=="function",k=i.pendingProps!==k,oe||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k||J!==T)&&Wb(i,y,c,T),Wi=!1;var te=i.memoizedState;y.state=te,vu(i,c,y,g),yu(),J=i.memoizedState,k||te!==J||Wi?(typeof de=="function"&&(Tg(i,l,de,c),J=i.memoizedState),(F=Wi||Qb(i,l,F,c,te,J,T))?(oe||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=J),y.props=c,y.state=J,y.context=T,c=F):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{y=i.stateNode,rg(r,i),T=i.memoizedProps,oe=Eo(l,T),y.props=oe,de=i.pendingProps,te=y.context,J=l.contextType,F=ml,typeof J=="object"&&J!==null&&(F=Kn(J)),k=l.getDerivedStateFromProps,(J=typeof k=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==de||te!==F)&&Wb(i,y,c,F),Wi=!1,te=i.memoizedState,y.state=te,vu(i,c,y,g),yu();var ne=i.memoizedState;T!==de||te!==ne||Wi||r!==null&&r.dependencies!==null&&Mf(r.dependencies)?(typeof k=="function"&&(Tg(i,l,k,c),ne=i.memoizedState),(oe=Wi||Qb(i,l,oe,c,te,ne,F)||r!==null&&r.dependencies!==null&&Mf(r.dependencies))?(J||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,ne,F),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,ne,F)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&te===r.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&te===r.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ne),y.props=c,y.state=ne,y.context=F,c=oe):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&te===r.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&te===r.memoizedState||(i.flags|=1024),c=!1)}return y=c,eh(r,i),c=(i.flags&128)!==0,y||c?(y=i.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,r!==null&&c?(i.child=Tl(i,r.child,null,g),i.child=Tl(i,null,l,g)):Bn(r,i,l,g),i.memoizedState=y.state,r=i.child):r=mi(r,i,g),r}function fx(r,i,l,c){return cu(),i.flags|=256,Bn(r,i,l,c),i.child}var Rg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ng(r){return{baseLanes:r,cachePool:J_()}}function Ig(r,i,l){return r=r!==null?r.childLanes&~l:0,i&&(r|=qr),r}function hx(r,i,l){var c=i.pendingProps,g=!1,y=(i.flags&128)!==0,T;if((T=y)||(T=r!==null&&r.memoizedState===null?!1:(Cn.current&2)!==0),T&&(g=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,r===null){if(Rt){if(g?ta(i):na(),Rt){var k=on,F;if(F=k){e:{for(F=k,k=Es;F.nodeType!==8;){if(!k){k=null;break e}if(F=Wr(F.nextSibling),F===null){k=null;break e}}k=F}k!==null?(i.memoizedState={dehydrated:k,treeContext:po!==null?{id:li,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},F=wr(18,null,null,0),F.stateNode=k,F.return=i,i.child=F,lr=i,on=null,F=!0):F=!1}F||vo(i)}if(k=i.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return hy(k)?i.lanes=32:i.lanes=536870912,null;hi(i)}return k=c.children,c=c.fallback,g?(na(),g=i.mode,k=th({mode:"hidden",children:k},g),c=mo(c,g,l,null),k.return=i,c.return=i,k.sibling=c,i.child=k,g=i.child,g.memoizedState=Ng(l),g.childLanes=Ig(r,T,l),i.memoizedState=Rg,c):(ta(i),kg(i,k))}if(F=r.memoizedState,F!==null&&(k=F.dehydrated,k!==null)){if(y)i.flags&256?(ta(i),i.flags&=-257,i=Dg(r,i,l)):i.memoizedState!==null?(na(),i.child=r.child,i.flags|=128,i=null):(na(),g=c.fallback,k=i.mode,c=th({mode:"visible",children:c.children},k),g=mo(g,k,l,null),g.flags|=2,c.return=i,g.return=i,c.sibling=g,i.child=c,Tl(i,r.child,null,l),c=i.child,c.memoizedState=Ng(l),c.childLanes=Ig(r,T,l),i.memoizedState=Rg,i=g);else if(ta(i),hy(k)){if(T=k.nextSibling&&k.nextSibling.dataset,T)var J=T.dgst;T=J,c=Error(s(419)),c.stack="",c.digest=T,uu({value:c,source:null,stack:null}),i=Dg(r,i,l)}else if(jn||du(r,i,l,!1),T=(l&r.childLanes)!==0,jn||T){if(T=qt,T!==null&&(c=l&-l,c=(c&42)!==0?1:Hi(c),c=(c&(T.suspendedLanes|l))!==0?0:c,c!==0&&c!==F.retryLane))throw F.retryLane=c,hl(r,c),Cr(T,r,c),sx;k.data==="$?"||Qg(),i=Dg(r,i,l)}else k.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=F.treeContext,on=Wr(k.nextSibling),lr=i,Rt=!0,yo=null,Es=!1,r!==null&&(zr[Fr++]=li,zr[Fr++]=ci,zr[Fr++]=po,li=r.id,ci=r.overflow,po=i),i=kg(i,c.children),i.flags|=4096);return i}return g?(na(),g=c.fallback,k=i.mode,F=r.child,J=F.sibling,c=oi(F,{mode:"hidden",children:c.children}),c.subtreeFlags=F.subtreeFlags&65011712,J!==null?g=oi(J,g):(g=mo(g,k,l,null),g.flags|=2),g.return=i,c.return=i,c.sibling=g,i.child=c,c=g,g=i.child,k=r.child.memoizedState,k===null?k=Ng(l):(F=k.cachePool,F!==null?(J=An._currentValue,F=F.parent!==J?{parent:J,pool:J}:F):F=J_(),k={baseLanes:k.baseLanes|l,cachePool:F}),g.memoizedState=k,g.childLanes=Ig(r,T,l),i.memoizedState=Rg,c):(ta(i),l=r.child,r=l.sibling,l=oi(l,{mode:"visible",children:c.children}),l.return=i,l.sibling=null,r!==null&&(T=i.deletions,T===null?(i.deletions=[r],i.flags|=16):T.push(r)),i.child=l,i.memoizedState=null,l)}function kg(r,i){return i=th({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function th(r,i){return r=wr(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Dg(r,i,l){return Tl(i,r.child,null,l),r=kg(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function mx(r,i,l){r.lanes|=i;var c=r.alternate;c!==null&&(c.lanes|=i),Qp(r.return,i,l)}function Og(r,i,l,c,g){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:g}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=g)}function px(r,i,l){var c=i.pendingProps,g=c.revealOrder,y=c.tail;if(Bn(r,i,c.children,l),c=Cn.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&mx(r,l,i);else if(r.tag===19)mx(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(le(Cn,c),g){case"forwards":for(l=i.child,g=null;l!==null;)r=l.alternate,r!==null&&Wf(r)===null&&(g=l),l=l.sibling;l=g,l===null?(g=i.child,i.child=null):(g=l.sibling,l.sibling=null),Og(i,!1,g,l,y);break;case"backwards":for(l=null,g=i.child,i.child=null;g!==null;){if(r=g.alternate,r!==null&&Wf(r)===null){i.child=g;break}r=g.sibling,g.sibling=l,l=g,g=r}Og(i,!0,l,null,y);break;case"together":Og(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function mi(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),oa|=i.lanes,(l&i.childLanes)===0)if(r!==null){if(du(r,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,l=oi(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=oi(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function jg(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Mf(r)))}function qR(r,i,l){switch(i.tag){case 3:je(i,i.stateNode.containerInfo),Qi(i,An,r.memoizedState.cache),cu();break;case 27:case 5:We(i);break;case 4:je(i,i.stateNode.containerInfo);break;case 10:Qi(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(ta(i),i.flags|=128,null):(l&i.child.childLanes)!==0?hx(r,i,l):(ta(i),r=mi(r,i,l),r!==null?r.sibling:null);ta(i);break;case 19:var g=(r.flags&128)!==0;if(c=(l&i.childLanes)!==0,c||(du(r,i,l,!1),c=(l&i.childLanes)!==0),g){if(c)return px(r,i,l);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),le(Cn,Cn.current),c)break;return null;case 22:case 23:return i.lanes=0,lx(r,i,l);case 24:Qi(i,An,r.memoizedState.cache)}return mi(r,i,l)}function gx(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps)jn=!0;else{if(!jg(r,l)&&(i.flags&128)===0)return jn=!1,qR(r,i,l);jn=(r.flags&131072)!==0}else jn=!1,Rt&&(i.flags&1048576)!==0&&G_(i,jf,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var c=i.elementType,g=c._init;if(c=g(c._payload),i.type=c,typeof c=="function")Hp(c)?(r=Eo(c,r),i.tag=1,i=dx(null,i,c,r,l)):(i.tag=0,i=Cg(null,i,c,r,l));else{if(c!=null){if(g=c.$$typeof,g===$){i.tag=11,i=ix(null,i,c,r,l);break e}else if(g===I){i.tag=14,i=ax(null,i,c,r,l);break e}}throw i=G(c)||c,Error(s(306,i,""))}}return i;case 0:return Cg(r,i,i.type,i.pendingProps,l);case 1:return c=i.type,g=Eo(c,i.pendingProps),dx(r,i,c,g,l);case 3:e:{if(je(i,i.stateNode.containerInfo),r===null)throw Error(s(387));c=i.pendingProps;var y=i.memoizedState;g=y.element,rg(r,i),vu(i,c,null,l);var T=i.memoizedState;if(c=T.cache,Qi(i,An,c),c!==y.cache&&Wp(i,[An],l,!0),yu(),c=T.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=fx(r,i,c,l);break e}else if(c!==g){g=Ur(Error(s(424)),i),uu(g),i=fx(r,i,c,l);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(on=Wr(r.firstChild),lr=i,Rt=!0,yo=null,Es=!0,l=Kb(i,null,c,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(cu(),c===g){i=mi(r,i,l);break e}Bn(r,i,c,l)}i=i.child}return i;case 26:return eh(r,i),r===null?(l=bw(i.type,null,i.pendingProps,null))?i.memoizedState=l:Rt||(l=i.type,r=i.pendingProps,c=ph(De.current).createElement(l),c[En]=i,c[gn]=r,Fn(c,l,r),fn(c),i.stateNode=c):i.memoizedState=bw(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return We(i),r===null&&Rt&&(c=i.stateNode=yw(i.type,i.pendingProps,De.current),lr=i,Es=!0,g=on,da(i.type)?(my=g,on=Wr(c.firstChild)):on=g),Bn(r,i,i.pendingProps.children,l),eh(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Rt&&((g=c=on)&&(c=vN(c,i.type,i.pendingProps,Es),c!==null?(i.stateNode=c,lr=i,on=Wr(c.firstChild),Es=!1,g=!0):g=!1),g||vo(i)),We(i),g=i.type,y=i.pendingProps,T=r!==null?r.memoizedProps:null,c=y.children,uy(g,y)?c=null:T!==null&&uy(g,T)&&(i.flags|=32),i.memoizedState!==null&&(g=cg(r,i,PR,null,null,l),Bu._currentValue=g),eh(r,i),Bn(r,i,c,l),i.child;case 6:return r===null&&Rt&&((r=l=on)&&(l=_N(l,i.pendingProps,Es),l!==null?(i.stateNode=l,lr=i,on=null,r=!0):r=!1),r||vo(i)),null;case 13:return hx(r,i,l);case 4:return je(i,i.stateNode.containerInfo),c=i.pendingProps,r===null?i.child=Tl(i,null,c,l):Bn(r,i,c,l),i.child;case 11:return ix(r,i,i.type,i.pendingProps,l);case 7:return Bn(r,i,i.pendingProps,l),i.child;case 8:return Bn(r,i,i.pendingProps.children,l),i.child;case 12:return Bn(r,i,i.pendingProps.children,l),i.child;case 10:return c=i.pendingProps,Qi(i,i.type,c.value),Bn(r,i,c.children,l),i.child;case 9:return g=i.type._context,c=i.pendingProps.children,bo(i),g=Kn(g),c=c(g),i.flags|=1,Bn(r,i,c,l),i.child;case 14:return ax(r,i,i.type,i.pendingProps,l);case 15:return ox(r,i,i.type,i.pendingProps,l);case 19:return px(r,i,l);case 31:return c=i.pendingProps,l=i.mode,c={mode:c.mode,children:c.children},r===null?(l=th(c,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=oi(r.child,c),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return lx(r,i,l);case 24:return bo(i),c=Kn(An),r===null?(g=eg(),g===null&&(g=qt,y=Xp(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=l),g=y),i.memoizedState={parent:c,cache:g},ng(i),Qi(i,An,g)):((r.lanes&l)!==0&&(rg(r,i),vu(i,null,null,l),yu()),g=r.memoizedState,y=i.memoizedState,g.parent!==c?(g={parent:c,cache:c},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),Qi(i,An,c)):(c=y.cache,Qi(i,An,c),c!==g.cache&&Wp(i,[An],l,!0))),Bn(r,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function pi(r){r.flags|=4}function yx(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Sw(i)){if(i=Hr.current,i!==null&&((bt&4194048)===bt?Ts!==null:(bt&62914560)!==bt&&(bt&536870912)===0||i!==Ts))throw pu=tg,eb;r.flags|=8192}}function nh(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Fc():536870912,r.lanes|=i,Rl|=i)}function Su(r,i){if(!Rt)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function en(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,c=0;if(i)for(var g=r.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=c,r.childLanes=l,i}function $R(r,i,l){var c=i.pendingProps;switch(Yp(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(i),null;case 1:return en(i),null;case 3:return l=i.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),di(An),ht(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(lu(i)?pi(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Z_())),en(i),null;case 26:return l=i.memoizedState,r===null?(pi(i),l!==null?(en(i),yx(i,l)):(en(i),i.flags&=-16777217)):l?l!==r.memoizedState?(pi(i),en(i),yx(i,l)):(en(i),i.flags&=-16777217):(r.memoizedProps!==c&&pi(i),en(i),i.flags&=-16777217),null;case 27:Xe(i),l=De.current;var g=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==c&&pi(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return en(i),null}r=be.current,lu(i)?Y_(i):(r=yw(g,c,l),i.stateNode=r,pi(i))}return en(i),null;case 5:if(Xe(i),l=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==c&&pi(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return en(i),null}if(r=be.current,lu(i))Y_(i);else{switch(g=ph(De.current),r){case 1:r=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?g.createElement("select",{is:c.is}):g.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?g.createElement(l,{is:c.is}):g.createElement(l)}}r[En]=i,r[gn]=c;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)r.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=r;e:switch(Fn(r,l,c),l){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&pi(i)}}return en(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==c&&pi(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(s(166));if(r=De.current,lu(i)){if(r=i.stateNode,l=i.memoizedProps,c=null,g=lr,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}r[En]=i,r=!!(r.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||uw(r.nodeValue,l)),r||vo(i)}else r=ph(r).createTextNode(c),r[En]=i,i.stateNode=r}return en(i),null;case 13:if(c=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=lu(i),c!==null&&c.dehydrated!==null){if(r===null){if(!g)throw Error(s(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[En]=i}else cu(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;en(i),g=!1}else g=Z_(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(hi(i),i):(hi(i),null)}if(hi(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=c!==null,r=r!==null&&r.memoizedState!==null,l){c=i.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==g&&(c.flags|=2048)}return l!==r&&l&&(i.child.flags|=8192),nh(i,i.updateQueue),en(i),null;case 4:return ht(),r===null&&iy(i.stateNode.containerInfo),en(i),null;case 10:return di(i.type),en(i),null;case 19:if(me(Cn),g=i.memoizedState,g===null)return en(i),null;if(c=(i.flags&128)!==0,y=g.rendering,y===null)if(c)Su(g,!1);else{if(ln!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(y=Wf(r),y!==null){for(i.flags|=128,Su(g,!1),r=y.updateQueue,i.updateQueue=r,nh(i,r),i.subtreeFlags=0,r=l,l=i.child;l!==null;)$_(l,r),l=l.sibling;return le(Cn,Cn.current&1|2),i.child}r=r.sibling}g.tail!==null&&he()>ih&&(i.flags|=128,c=!0,Su(g,!1),i.lanes=4194304)}else{if(!c)if(r=Wf(y),r!==null){if(i.flags|=128,c=!0,r=r.updateQueue,i.updateQueue=r,nh(i,r),Su(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!Rt)return en(i),null}else 2*he()-g.renderingStartTime>ih&&l!==536870912&&(i.flags|=128,c=!0,Su(g,!1),i.lanes=4194304);g.isBackwards?(y.sibling=i.child,i.child=y):(r=g.last,r!==null?r.sibling=y:i.child=y,g.last=y)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=he(),i.sibling=null,r=Cn.current,le(Cn,c?r&1|2:r&1),i):(en(i),null);case 22:case 23:return hi(i),og(),c=i.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(l&536870912)!==0&&(i.flags&128)===0&&(en(i),i.subtreeFlags&6&&(i.flags|=8192)):en(i),l=i.updateQueue,l!==null&&nh(i,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==l&&(i.flags|=2048),r!==null&&me(xo),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),di(An),en(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function GR(r,i){switch(Yp(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return di(An),ht(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Xe(i),null;case 13:if(hi(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));cu()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return me(Cn),null;case 4:return ht(),null;case 10:return di(i.type),null;case 22:case 23:return hi(i),og(),r!==null&&me(xo),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return di(An),null;case 25:return null;default:return null}}function vx(r,i){switch(Yp(i),i.tag){case 3:di(An),ht();break;case 26:case 27:case 5:Xe(i);break;case 4:ht();break;case 13:hi(i);break;case 19:me(Cn);break;case 10:di(i.type);break;case 22:case 23:hi(i),og(),r!==null&&me(xo);break;case 24:di(An)}}function Au(r,i){try{var l=i.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var g=c.next;l=g;do{if((l.tag&r)===r){c=void 0;var y=l.create,T=l.inst;c=y(),T.destroy=c}l=l.next}while(l!==g)}}catch(k){Ft(i,i.return,k)}}function ra(r,i,l){try{var c=i.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var y=g.next;c=y;do{if((c.tag&r)===r){var T=c.inst,k=T.destroy;if(k!==void 0){T.destroy=void 0,g=i;var F=l,J=k;try{J()}catch(oe){Ft(g,F,oe)}}}c=c.next}while(c!==y)}}catch(oe){Ft(i,i.return,oe)}}function _x(r){var i=r.updateQueue;if(i!==null){var l=r.stateNode;try{ab(i,l)}catch(c){Ft(r,r.return,c)}}}function bx(r,i,l){l.props=Eo(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(c){Ft(r,i,c)}}function Cu(r,i){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof l=="function"?r.refCleanup=l(c):l.current=c}}catch(g){Ft(r,i,g)}}function Ss(r,i){var l=r.ref,c=r.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(g){Ft(r,i,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Ft(r,i,g)}else l.current=null}function xx(r){var i=r.type,l=r.memoizedProps,c=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(g){Ft(r,r.return,g)}}function Mg(r,i,l){try{var c=r.stateNode;hN(c,r.type,l,i),c[gn]=i}catch(g){Ft(r,r.return,g)}}function wx(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&da(r.type)||r.tag===4}function Pg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||wx(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&da(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Lg(r,i,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(r),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=mh));else if(c!==4&&(c===27&&da(r.type)&&(l=r.stateNode,i=null),r=r.child,r!==null))for(Lg(r,i,l),r=r.sibling;r!==null;)Lg(r,i,l),r=r.sibling}function rh(r,i,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(c!==4&&(c===27&&da(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(rh(r,i,l),r=r.sibling;r!==null;)rh(r,i,l),r=r.sibling}function Ex(r){var i=r.stateNode,l=r.memoizedProps;try{for(var c=r.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);Fn(i,c,l),i[En]=r,i[gn]=l}catch(y){Ft(r,r.return,y)}}var gi=!1,mn=!1,Vg=!1,Tx=typeof WeakSet=="function"?WeakSet:Set,Mn=null;function YR(r,i){if(r=r.containerInfo,ly=xh,r=M_(r),Pp(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var g=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,k=-1,F=-1,J=0,oe=0,de=r,te=null;t:for(;;){for(var ne;de!==l||g!==0&&de.nodeType!==3||(k=T+g),de!==y||c!==0&&de.nodeType!==3||(F=T+c),de.nodeType===3&&(T+=de.nodeValue.length),(ne=de.firstChild)!==null;)te=de,de=ne;for(;;){if(de===r)break t;if(te===l&&++J===g&&(k=T),te===y&&++oe===c&&(F=T),(ne=de.nextSibling)!==null)break;de=te,te=de.parentNode}de=ne}l=k===-1||F===-1?null:{start:k,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(cy={focusedElem:r,selectionRange:l},xh=!1,Mn=i;Mn!==null;)if(i=Mn,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,Mn=r;else for(;Mn!==null;){switch(i=Mn,y=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,l=i,g=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Ze=Eo(l.type,g,l.elementType===l.type);r=c.getSnapshotBeforeUpdate(Ze,y),c.__reactInternalSnapshotBeforeUpdate=r}catch(Fe){Ft(l,l.return,Fe)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,l=r.nodeType,l===9)fy(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":fy(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,Mn=r;break}Mn=i.return}}function Sx(r,i,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:sa(r,l),c&4&&Au(5,l);break;case 1:if(sa(r,l),c&4)if(r=l.stateNode,i===null)try{r.componentDidMount()}catch(T){Ft(l,l.return,T)}else{var g=Eo(l.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(g,i,r.__reactInternalSnapshotBeforeUpdate)}catch(T){Ft(l,l.return,T)}}c&64&&_x(l),c&512&&Cu(l,l.return);break;case 3:if(sa(r,l),c&64&&(r=l.updateQueue,r!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{ab(r,i)}catch(T){Ft(l,l.return,T)}}break;case 27:i===null&&c&4&&Ex(l);case 26:case 5:sa(r,l),i===null&&c&4&&xx(l),c&512&&Cu(l,l.return);break;case 12:sa(r,l);break;case 13:sa(r,l),c&4&&Rx(r,l),c&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=nN.bind(null,l),bN(r,l))));break;case 22:if(c=l.memoizedState!==null||gi,!c){i=i!==null&&i.memoizedState!==null||mn,g=gi;var y=mn;gi=c,(mn=i)&&!y?ia(r,l,(l.subtreeFlags&8772)!==0):sa(r,l),gi=g,mn=y}break;case 30:break;default:sa(r,l)}}function Ax(r){var i=r.alternate;i!==null&&(r.alternate=null,Ax(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Gi(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Qt=null,mr=!1;function yi(r,i,l){for(l=l.child;l!==null;)Cx(r,i,l),l=l.sibling}function Cx(r,i,l){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Ue,l)}catch{}switch(l.tag){case 26:mn||Ss(l,i),yi(r,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:mn||Ss(l,i);var c=Qt,g=mr;da(l.type)&&(Qt=l.stateNode,mr=!1),yi(r,i,l),Pu(l.stateNode),Qt=c,mr=g;break;case 5:mn||Ss(l,i);case 6:if(c=Qt,g=mr,Qt=null,yi(r,i,l),Qt=c,mr=g,Qt!==null)if(mr)try{(Qt.nodeType===9?Qt.body:Qt.nodeName==="HTML"?Qt.ownerDocument.body:Qt).removeChild(l.stateNode)}catch(y){Ft(l,i,y)}else try{Qt.removeChild(l.stateNode)}catch(y){Ft(l,i,y)}break;case 18:Qt!==null&&(mr?(r=Qt,pw(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),qu(r)):pw(Qt,l.stateNode));break;case 4:c=Qt,g=mr,Qt=l.stateNode.containerInfo,mr=!0,yi(r,i,l),Qt=c,mr=g;break;case 0:case 11:case 14:case 15:mn||ra(2,l,i),mn||ra(4,l,i),yi(r,i,l);break;case 1:mn||(Ss(l,i),c=l.stateNode,typeof c.componentWillUnmount=="function"&&bx(l,i,c)),yi(r,i,l);break;case 21:yi(r,i,l);break;case 22:mn=(c=mn)||l.memoizedState!==null,yi(r,i,l),mn=c;break;default:yi(r,i,l)}}function Rx(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{qu(r)}catch(l){Ft(i,i.return,l)}}function KR(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new Tx),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new Tx),i;default:throw Error(s(435,r.tag))}}function Ug(r,i){var l=KR(r);i.forEach(function(c){var g=rN.bind(null,r,c);l.has(c)||(l.add(c),c.then(g,g))})}function Er(r,i){var l=i.deletions;if(l!==null)for(var c=0;c<l.length;c++){var g=l[c],y=r,T=i,k=T;e:for(;k!==null;){switch(k.tag){case 27:if(da(k.type)){Qt=k.stateNode,mr=!1;break e}break;case 5:Qt=k.stateNode,mr=!1;break e;case 3:case 4:Qt=k.stateNode.containerInfo,mr=!0;break e}k=k.return}if(Qt===null)throw Error(s(160));Cx(y,T,g),Qt=null,mr=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Nx(i,r),i=i.sibling}var Qr=null;function Nx(r,i){var l=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Er(i,r),Tr(r),c&4&&(ra(3,r,r.return),Au(3,r),ra(5,r,r.return));break;case 1:Er(i,r),Tr(r),c&512&&(mn||l===null||Ss(l,l.return)),c&64&&gi&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var g=Qr;if(Er(i,r),Tr(r),c&512&&(mn||l===null||Ss(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=r.memoizedState,l===null)if(c===null)if(r.stateNode===null){e:{c=r.type,l=r.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Wa]||y[En]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(c),g.head.insertBefore(y,g.querySelector("head > title"))),Fn(y,c,l),y[En]=r,fn(y),c=y;break e;case"link":var T=Ew("link","href",g).get(c+(l.href||""));if(T){for(var k=0;k<T.length;k++)if(y=T[k],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(k,1);break t}}y=g.createElement(c),Fn(y,c,l),g.head.appendChild(y);break;case"meta":if(T=Ew("meta","content",g).get(c+(l.content||""))){for(k=0;k<T.length;k++)if(y=T[k],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(k,1);break t}}y=g.createElement(c),Fn(y,c,l),g.head.appendChild(y);break;default:throw Error(s(468,c))}y[En]=r,fn(y),c=y}r.stateNode=c}else Tw(g,r.type,r.stateNode);else r.stateNode=ww(g,c,r.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?Tw(g,r.type,r.stateNode):ww(g,c,r.memoizedProps)):c===null&&r.stateNode!==null&&Mg(r,r.memoizedProps,l.memoizedProps)}break;case 27:Er(i,r),Tr(r),c&512&&(mn||l===null||Ss(l,l.return)),l!==null&&c&4&&Mg(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Er(i,r),Tr(r),c&512&&(mn||l===null||Ss(l,l.return)),r.flags&32){g=r.stateNode;try{Mr(g,"")}catch(ne){Ft(r,r.return,ne)}}c&4&&r.stateNode!=null&&(g=r.memoizedProps,Mg(r,g,l!==null?l.memoizedProps:g)),c&1024&&(Vg=!0);break;case 6:if(Er(i,r),Tr(r),c&4){if(r.stateNode===null)throw Error(s(162));c=r.memoizedProps,l=r.stateNode;try{l.nodeValue=c}catch(ne){Ft(r,r.return,ne)}}break;case 3:if(vh=null,g=Qr,Qr=gh(i.containerInfo),Er(i,r),Qr=g,Tr(r),c&4&&l!==null&&l.memoizedState.isDehydrated)try{qu(i.containerInfo)}catch(ne){Ft(r,r.return,ne)}Vg&&(Vg=!1,Ix(r));break;case 4:c=Qr,Qr=gh(r.stateNode.containerInfo),Er(i,r),Tr(r),Qr=c;break;case 12:Er(i,r),Tr(r);break;case 13:Er(i,r),Tr(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&($g=he()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Ug(r,c)));break;case 22:g=r.memoizedState!==null;var F=l!==null&&l.memoizedState!==null,J=gi,oe=mn;if(gi=J||g,mn=oe||F,Er(i,r),mn=oe,gi=J,Tr(r),c&8192)e:for(i=r.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(l===null||F||gi||mn||To(r)),l=null,i=r;;){if(i.tag===5||i.tag===26){if(l===null){F=l=i;try{if(y=F.stateNode,g)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{k=F.stateNode;var de=F.memoizedProps.style,te=de!=null&&de.hasOwnProperty("display")?de.display:null;k.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){Ft(F,F.return,ne)}}}else if(i.tag===6){if(l===null){F=i;try{F.stateNode.nodeValue=g?"":F.memoizedProps}catch(ne){Ft(F,F.return,ne)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=r.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Ug(r,l))));break;case 19:Er(i,r),Tr(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Ug(r,c)));break;case 30:break;case 21:break;default:Er(i,r),Tr(r)}}function Tr(r){var i=r.flags;if(i&2){try{for(var l,c=r.return;c!==null;){if(wx(c)){l=c;break}c=c.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var g=l.stateNode,y=Pg(r);rh(r,y,g);break;case 5:var T=l.stateNode;l.flags&32&&(Mr(T,""),l.flags&=-33);var k=Pg(r);rh(r,k,T);break;case 3:case 4:var F=l.stateNode.containerInfo,J=Pg(r);Lg(r,J,F);break;default:throw Error(s(161))}}catch(oe){Ft(r,r.return,oe)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Ix(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Ix(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function sa(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Sx(r,i.alternate,i),i=i.sibling}function To(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:ra(4,i,i.return),To(i);break;case 1:Ss(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&bx(i,i.return,l),To(i);break;case 27:Pu(i.stateNode);case 26:case 5:Ss(i,i.return),To(i);break;case 22:i.memoizedState===null&&To(i);break;case 30:To(i);break;default:To(i)}r=r.sibling}}function ia(r,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,g=r,y=i,T=y.flags;switch(y.tag){case 0:case 11:case 15:ia(g,y,l),Au(4,y);break;case 1:if(ia(g,y,l),c=y,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(J){Ft(c,c.return,J)}if(c=y,g=c.updateQueue,g!==null){var k=c.stateNode;try{var F=g.shared.hiddenCallbacks;if(F!==null)for(g.shared.hiddenCallbacks=null,g=0;g<F.length;g++)ib(F[g],k)}catch(J){Ft(c,c.return,J)}}l&&T&64&&_x(y),Cu(y,y.return);break;case 27:Ex(y);case 26:case 5:ia(g,y,l),l&&c===null&&T&4&&xx(y),Cu(y,y.return);break;case 12:ia(g,y,l);break;case 13:ia(g,y,l),l&&T&4&&Rx(g,y);break;case 22:y.memoizedState===null&&ia(g,y,l),Cu(y,y.return);break;case 30:break;default:ia(g,y,l)}i=i.sibling}}function Bg(r,i){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&fu(l))}function zg(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&fu(r))}function As(r,i,l,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)kx(r,i,l,c),i=i.sibling}function kx(r,i,l,c){var g=i.flags;switch(i.tag){case 0:case 11:case 15:As(r,i,l,c),g&2048&&Au(9,i);break;case 1:As(r,i,l,c);break;case 3:As(r,i,l,c),g&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&fu(r)));break;case 12:if(g&2048){As(r,i,l,c),r=i.stateNode;try{var y=i.memoizedProps,T=y.id,k=y.onPostCommit;typeof k=="function"&&k(T,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(F){Ft(i,i.return,F)}}else As(r,i,l,c);break;case 13:As(r,i,l,c);break;case 23:break;case 22:y=i.stateNode,T=i.alternate,i.memoizedState!==null?y._visibility&2?As(r,i,l,c):Ru(r,i):y._visibility&2?As(r,i,l,c):(y._visibility|=2,Sl(r,i,l,c,(i.subtreeFlags&10256)!==0)),g&2048&&Bg(T,i);break;case 24:As(r,i,l,c),g&2048&&zg(i.alternate,i);break;default:As(r,i,l,c)}}function Sl(r,i,l,c,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var y=r,T=i,k=l,F=c,J=T.flags;switch(T.tag){case 0:case 11:case 15:Sl(y,T,k,F,g),Au(8,T);break;case 23:break;case 22:var oe=T.stateNode;T.memoizedState!==null?oe._visibility&2?Sl(y,T,k,F,g):Ru(y,T):(oe._visibility|=2,Sl(y,T,k,F,g)),g&&J&2048&&Bg(T.alternate,T);break;case 24:Sl(y,T,k,F,g),g&&J&2048&&zg(T.alternate,T);break;default:Sl(y,T,k,F,g)}i=i.sibling}}function Ru(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=r,c=i,g=c.flags;switch(c.tag){case 22:Ru(l,c),g&2048&&Bg(c.alternate,c);break;case 24:Ru(l,c),g&2048&&zg(c.alternate,c);break;default:Ru(l,c)}i=i.sibling}}var Nu=8192;function Al(r){if(r.subtreeFlags&Nu)for(r=r.child;r!==null;)Dx(r),r=r.sibling}function Dx(r){switch(r.tag){case 26:Al(r),r.flags&Nu&&r.memoizedState!==null&&ON(Qr,r.memoizedState,r.memoizedProps);break;case 5:Al(r);break;case 3:case 4:var i=Qr;Qr=gh(r.stateNode.containerInfo),Al(r),Qr=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=Nu,Nu=16777216,Al(r),Nu=i):Al(r));break;default:Al(r)}}function Ox(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Iu(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];Mn=c,Mx(c,r)}Ox(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)jx(r),r=r.sibling}function jx(r){switch(r.tag){case 0:case 11:case 15:Iu(r),r.flags&2048&&ra(9,r,r.return);break;case 3:Iu(r);break;case 12:Iu(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,sh(r)):Iu(r);break;default:Iu(r)}}function sh(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];Mn=c,Mx(c,r)}Ox(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:ra(8,i,i.return),sh(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,sh(i));break;default:sh(i)}r=r.sibling}}function Mx(r,i){for(;Mn!==null;){var l=Mn;switch(l.tag){case 0:case 11:case 15:ra(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:fu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Mn=c;else e:for(l=r;Mn!==null;){c=Mn;var g=c.sibling,y=c.return;if(Ax(c),c===l){Mn=null;break e}if(g!==null){g.return=y,Mn=g;break e}Mn=y}}}var ZR={getCacheForType:function(r){var i=Kn(An),l=i.data.get(r);return l===void 0&&(l=r(),i.data.set(r,l)),l}},QR=typeof WeakMap=="function"?WeakMap:Map,Ot=0,qt=null,dt=null,bt=0,jt=0,Sr=null,aa=!1,Cl=!1,Fg=!1,vi=0,ln=0,oa=0,So=0,Hg=0,qr=0,Rl=0,ku=null,pr=null,qg=!1,$g=0,ih=1/0,ah=null,la=null,zn=0,ca=null,Nl=null,Il=0,Gg=0,Yg=null,Px=null,Du=0,Kg=null;function Ar(){if((Ot&2)!==0&&bt!==0)return bt&-bt;if(q.T!==null){var r=yl;return r!==0?r:ty()}return qi()}function Lx(){qr===0&&(qr=(bt&536870912)===0||Rt?zc():536870912);var r=Hr.current;return r!==null&&(r.flags|=32),qr}function Cr(r,i,l){(r===qt&&(jt===2||jt===9)||r.cancelPendingCommit!==null)&&(kl(r,0),ua(r,bt,qr,!1)),Qs(r,l),((Ot&2)===0||r!==qt)&&(r===qt&&((Ot&2)===0&&(So|=l),ln===4&&ua(r,bt,qr,!1)),Cs(r))}function Vx(r,i,l){if((Ot&6)!==0)throw Error(s(327));var c=!l&&(i&124)===0&&(i&r.expiredLanes)===0||Or(r,i),g=c?JR(r,i):Wg(r,i,!0),y=c;do{if(g===0){Cl&&!c&&ua(r,i,0,!1);break}else{if(l=r.current.alternate,y&&!WR(l)){g=Wg(r,i,!1),y=!1;continue}if(g===2){if(y=i,r.errorRecoveryDisabledLanes&y)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var k=r;g=ku;var F=k.current.memoizedState.isDehydrated;if(F&&(kl(k,T).flags|=256),T=Wg(k,T,!1),T!==2){if(Fg&&!F){k.errorRecoveryDisabledLanes|=y,So|=y,g=4;break e}y=pr,pr=g,y!==null&&(pr===null?pr=y:pr.push.apply(pr,y))}g=T}if(y=!1,g!==2)continue}}if(g===1){kl(r,0),ua(r,i,0,!0);break}e:{switch(c=r,y=g,y){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ua(c,i,qr,!aa);break e;case 2:pr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(g=$g+300-he(),10<g)){if(ua(c,i,qr,!aa),_r(c,0,!0)!==0)break e;c.timeoutHandle=hw(Ux.bind(null,c,l,pr,ah,qg,i,qr,So,Rl,aa,y,2,-0,0),g);break e}Ux(c,l,pr,ah,qg,i,qr,So,Rl,aa,y,0,-0,0)}}break}while(!0);Cs(r)}function Ux(r,i,l,c,g,y,T,k,F,J,oe,de,te,ne){if(r.timeoutHandle=-1,de=i.subtreeFlags,(de&8192||(de&16785408)===16785408)&&(Uu={stylesheets:null,count:0,unsuspend:DN},Dx(i),de=jN(),de!==null)){r.cancelPendingCommit=de(Gx.bind(null,r,i,y,l,c,g,T,k,F,oe,1,te,ne)),ua(r,y,T,!J);return}Gx(r,i,y,l,c,g,T,k,F)}function WR(r){for(var i=r;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var g=l[c],y=g.getSnapshot;g=g.value;try{if(!xr(y(),g))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ua(r,i,l,c){i&=~Hg,i&=~So,r.suspendedLanes|=i,r.pingedLanes&=~i,c&&(r.warmLanes|=i),c=r.expirationTimes;for(var g=i;0<g;){var y=31-yt(g),T=1<<y;c[y]=-1,g&=~T}l!==0&&fs(r,l,i)}function oh(){return(Ot&6)===0?(Ou(0),!1):!0}function Zg(){if(dt!==null){if(jt===0)var r=dt.return;else r=dt,ui=_o=null,fg(r),El=null,Eu=0,r=dt;for(;r!==null;)vx(r.alternate,r),r=r.return;dt=null}}function kl(r,i){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,pN(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Zg(),qt=r,dt=l=oi(r.current,null),bt=i,jt=0,Sr=null,aa=!1,Cl=Or(r,i),Fg=!1,Rl=qr=Hg=So=oa=ln=0,pr=ku=null,qg=!1,(i&8)!==0&&(i|=i&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=i;0<c;){var g=31-yt(c),y=1<<g;i|=r[g],c&=~y}return vi=i,Nf(),l}function Bx(r,i){ot=null,q.H=Kf,i===mu||i===Vf?(i=rb(),jt=3):i===eb?(i=rb(),jt=4):jt=i===sx?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sr=i,dt===null&&(ln=1,Jf(r,Ur(i,r.current)))}function zx(){var r=q.H;return q.H=Kf,r===null?Kf:r}function Fx(){var r=q.A;return q.A=ZR,r}function Qg(){ln=4,aa||(bt&4194048)!==bt&&Hr.current!==null||(Cl=!0),(oa&134217727)===0&&(So&134217727)===0||qt===null||ua(qt,bt,qr,!1)}function Wg(r,i,l){var c=Ot;Ot|=2;var g=zx(),y=Fx();(qt!==r||bt!==i)&&(ah=null,kl(r,i)),i=!1;var T=ln;e:do try{if(jt!==0&&dt!==null){var k=dt,F=Sr;switch(jt){case 8:Zg(),T=6;break e;case 3:case 2:case 9:case 6:Hr.current===null&&(i=!0);var J=jt;if(jt=0,Sr=null,Dl(r,k,F,J),l&&Cl){T=0;break e}break;default:J=jt,jt=0,Sr=null,Dl(r,k,F,J)}}XR(),T=ln;break}catch(oe){Bx(r,oe)}while(!0);return i&&r.shellSuspendCounter++,ui=_o=null,Ot=c,q.H=g,q.A=y,dt===null&&(qt=null,bt=0,Nf()),T}function XR(){for(;dt!==null;)Hx(dt)}function JR(r,i){var l=Ot;Ot|=2;var c=zx(),g=Fx();qt!==r||bt!==i?(ah=null,ih=he()+500,kl(r,i)):Cl=Or(r,i);e:do try{if(jt!==0&&dt!==null){i=dt;var y=Sr;t:switch(jt){case 1:jt=0,Sr=null,Dl(r,i,y,1);break;case 2:case 9:if(tb(y)){jt=0,Sr=null,qx(i);break}i=function(){jt!==2&&jt!==9||qt!==r||(jt=7),Cs(r)},y.then(i,i);break e;case 3:jt=7;break e;case 4:jt=5;break e;case 7:tb(y)?(jt=0,Sr=null,qx(i)):(jt=0,Sr=null,Dl(r,i,y,7));break;case 5:var T=null;switch(dt.tag){case 26:T=dt.memoizedState;case 5:case 27:var k=dt;if(!T||Sw(T)){jt=0,Sr=null;var F=k.sibling;if(F!==null)dt=F;else{var J=k.return;J!==null?(dt=J,lh(J)):dt=null}break t}}jt=0,Sr=null,Dl(r,i,y,5);break;case 6:jt=0,Sr=null,Dl(r,i,y,6);break;case 8:Zg(),ln=6;break e;default:throw Error(s(462))}}eN();break}catch(oe){Bx(r,oe)}while(!0);return ui=_o=null,q.H=c,q.A=g,Ot=l,dt!==null?0:(qt=null,bt=0,Nf(),ln)}function eN(){for(;dt!==null&&!Re();)Hx(dt)}function Hx(r){var i=gx(r.alternate,r,vi);r.memoizedProps=r.pendingProps,i===null?lh(r):dt=i}function qx(r){var i=r,l=i.alternate;switch(i.tag){case 15:case 0:i=ux(l,i,i.pendingProps,i.type,void 0,bt);break;case 11:i=ux(l,i,i.pendingProps,i.type.render,i.ref,bt);break;case 5:fg(i);default:vx(l,i),i=dt=$_(i,vi),i=gx(l,i,vi)}r.memoizedProps=r.pendingProps,i===null?lh(r):dt=i}function Dl(r,i,l,c){ui=_o=null,fg(i),El=null,Eu=0;var g=i.return;try{if(HR(r,g,i,l,bt)){ln=1,Jf(r,Ur(l,r.current)),dt=null;return}}catch(y){if(g!==null)throw dt=g,y;ln=1,Jf(r,Ur(l,r.current)),dt=null;return}i.flags&32768?(Rt||c===1?r=!0:Cl||(bt&536870912)!==0?r=!1:(aa=r=!0,(c===2||c===9||c===3||c===6)&&(c=Hr.current,c!==null&&c.tag===13&&(c.flags|=16384))),$x(i,r)):lh(i)}function lh(r){var i=r;do{if((i.flags&32768)!==0){$x(i,aa);return}r=i.return;var l=$R(i.alternate,i,vi);if(l!==null){dt=l;return}if(i=i.sibling,i!==null){dt=i;return}dt=i=r}while(i!==null);ln===0&&(ln=5)}function $x(r,i){do{var l=GR(r.alternate,r);if(l!==null){l.flags&=32767,dt=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(r=r.sibling,r!==null)){dt=r;return}dt=r=l}while(r!==null);ln=6,dt=null}function Gx(r,i,l,c,g,y,T,k,F){r.cancelPendingCommit=null;do ch();while(zn!==0);if((Ot&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(y=i.lanes|i.childLanes,y|=zp,Hc(r,l,y,T,k,F),r===qt&&(dt=qt=null,bt=0),Nl=i,ca=r,Il=l,Gg=y,Yg=g,Px=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,sN(Ee,function(){return Wx(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=q.T,q.T=null,g=ee.p,ee.p=2,T=Ot,Ot|=4;try{YR(r,i,l)}finally{Ot=T,ee.p=g,q.T=c}}zn=1,Yx(),Kx(),Zx()}}function Yx(){if(zn===1){zn=0;var r=ca,i=Nl,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=q.T,q.T=null;var c=ee.p;ee.p=2;var g=Ot;Ot|=4;try{Nx(i,r);var y=cy,T=M_(r.containerInfo),k=y.focusedElem,F=y.selectionRange;if(T!==k&&k&&k.ownerDocument&&j_(k.ownerDocument.documentElement,k)){if(F!==null&&Pp(k)){var J=F.start,oe=F.end;if(oe===void 0&&(oe=J),"selectionStart"in k)k.selectionStart=J,k.selectionEnd=Math.min(oe,k.value.length);else{var de=k.ownerDocument||document,te=de&&de.defaultView||window;if(te.getSelection){var ne=te.getSelection(),Ze=k.textContent.length,Fe=Math.min(F.start,Ze),zt=F.end===void 0?Fe:Math.min(F.end,Ze);!ne.extend&&Fe>zt&&(T=zt,zt=Fe,Fe=T);var Z=O_(k,Fe),Y=O_(k,zt);if(Z&&Y&&(ne.rangeCount!==1||ne.anchorNode!==Z.node||ne.anchorOffset!==Z.offset||ne.focusNode!==Y.node||ne.focusOffset!==Y.offset)){var X=de.createRange();X.setStart(Z.node,Z.offset),ne.removeAllRanges(),Fe>zt?(ne.addRange(X),ne.extend(Y.node,Y.offset)):(X.setEnd(Y.node,Y.offset),ne.addRange(X))}}}}for(de=[],ne=k;ne=ne.parentNode;)ne.nodeType===1&&de.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<de.length;k++){var ce=de[k];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}xh=!!ly,cy=ly=null}finally{Ot=g,ee.p=c,q.T=l}}r.current=i,zn=2}}function Kx(){if(zn===2){zn=0;var r=ca,i=Nl,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=q.T,q.T=null;var c=ee.p;ee.p=2;var g=Ot;Ot|=4;try{Sx(r,i.alternate,i)}finally{Ot=g,ee.p=c,q.T=l}}zn=3}}function Zx(){if(zn===4||zn===3){zn=0,Pe();var r=ca,i=Nl,l=Il,c=Px;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?zn=5:(zn=0,Nl=ca=null,Qx(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(la=null),Zo(l),i=i.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Ue,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=q.T,g=ee.p,ee.p=2,q.T=null;try{for(var y=r.onRecoverableError,T=0;T<c.length;T++){var k=c[T];y(k.value,{componentStack:k.stack})}}finally{q.T=i,ee.p=g}}(Il&3)!==0&&ch(),Cs(r),g=r.pendingLanes,(l&4194090)!==0&&(g&42)!==0?r===Kg?Du++:(Du=0,Kg=r):Du=0,Ou(0)}}function Qx(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,fu(i)))}function ch(r){return Yx(),Kx(),Zx(),Wx()}function Wx(){if(zn!==5)return!1;var r=ca,i=Gg;Gg=0;var l=Zo(Il),c=q.T,g=ee.p;try{ee.p=32>l?32:l,q.T=null,l=Yg,Yg=null;var y=ca,T=Il;if(zn=0,Nl=ca=null,Il=0,(Ot&6)!==0)throw Error(s(331));var k=Ot;if(Ot|=4,jx(y.current),kx(y,y.current,T,l),Ot=k,Ou(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Ue,y)}catch{}return!0}finally{ee.p=g,q.T=c,Qx(r,i)}}function Xx(r,i,l){i=Ur(l,i),i=Ag(r.stateNode,i,2),r=Ji(r,i,2),r!==null&&(Qs(r,2),Cs(r))}function Ft(r,i,l){if(r.tag===3)Xx(r,r,l);else for(;i!==null;){if(i.tag===3){Xx(i,r,l);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(la===null||!la.has(c))){r=Ur(l,r),l=nx(2),c=Ji(i,l,2),c!==null&&(rx(l,c,i,r),Qs(c,2),Cs(c));break}}i=i.return}}function Xg(r,i,l){var c=r.pingCache;if(c===null){c=r.pingCache=new QR;var g=new Set;c.set(i,g)}else g=c.get(i),g===void 0&&(g=new Set,c.set(i,g));g.has(l)||(Fg=!0,g.add(l),r=tN.bind(null,r,i,l),i.then(r,r))}function tN(r,i,l){var c=r.pingCache;c!==null&&c.delete(i),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,qt===r&&(bt&l)===l&&(ln===4||ln===3&&(bt&62914560)===bt&&300>he()-$g?(Ot&2)===0&&kl(r,0):Hg|=l,Rl===bt&&(Rl=0)),Cs(r)}function Jx(r,i){i===0&&(i=Fc()),r=hl(r,i),r!==null&&(Qs(r,i),Cs(r))}function nN(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),Jx(r,l)}function rN(r,i){var l=0;switch(r.tag){case 13:var c=r.stateNode,g=r.memoizedState;g!==null&&(l=g.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(i),Jx(r,l)}function sN(r,i){return re(r,i)}var uh=null,Ol=null,Jg=!1,dh=!1,ey=!1,Ao=0;function Cs(r){r!==Ol&&r.next===null&&(Ol===null?uh=Ol=r:Ol=Ol.next=r),dh=!0,Jg||(Jg=!0,aN())}function Ou(r,i){if(!ey&&dh){ey=!0;do for(var l=!1,c=uh;c!==null;){if(r!==0){var g=c.pendingLanes;if(g===0)var y=0;else{var T=c.suspendedLanes,k=c.pingedLanes;y=(1<<31-yt(42|r)+1)-1,y&=g&~(T&~k),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,rw(c,y))}else y=bt,y=_r(c,c===qt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Or(c,y)||(l=!0,rw(c,y));c=c.next}while(l);ey=!1}}function iN(){ew()}function ew(){dh=Jg=!1;var r=0;Ao!==0&&(mN()&&(r=Ao),Ao=0);for(var i=he(),l=null,c=uh;c!==null;){var g=c.next,y=tw(c,i);y===0?(c.next=null,l===null?uh=g:l.next=g,g===null&&(Ol=l)):(l=c,(r!==0||(y&3)!==0)&&(dh=!0)),c=g}Ou(r)}function tw(r,i){for(var l=r.suspendedLanes,c=r.pingedLanes,g=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var T=31-yt(y),k=1<<T,F=g[T];F===-1?((k&l)===0||(k&c)!==0)&&(g[T]=Bc(k,i)):F<=i&&(r.expiredLanes|=k),y&=~k}if(i=qt,l=bt,l=_r(r,r===i?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,l===0||r===i&&(jt===2||jt===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Ce(c),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||Or(r,l)){if(i=l&-l,i===r.callbackPriority)return i;switch(c!==null&&Ce(c),Zo(l)){case 2:case 8:l=Ae;break;case 32:l=Ee;break;case 268435456:l=rt;break;default:l=Ee}return c=nw.bind(null,r),l=re(l,c),r.callbackPriority=i,r.callbackNode=l,i}return c!==null&&c!==null&&Ce(c),r.callbackPriority=2,r.callbackNode=null,2}function nw(r,i){if(zn!==0&&zn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(ch()&&r.callbackNode!==l)return null;var c=bt;return c=_r(r,r===qt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(Vx(r,c,i),tw(r,he()),r.callbackNode!=null&&r.callbackNode===l?nw.bind(null,r):null)}function rw(r,i){if(ch())return null;Vx(r,i,!0)}function aN(){gN(function(){(Ot&6)!==0?re(pe,iN):ew()})}function ty(){return Ao===0&&(Ao=zc()),Ao}function sw(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:tl(""+r)}function iw(r,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,r.id&&l.setAttribute("form",r.id),i.parentNode.insertBefore(l,i),r=new FormData(r),l.parentNode.removeChild(l),r}function oN(r,i,l,c,g){if(i==="submit"&&l&&l.stateNode===g){var y=sw((g[gn]||null).action),T=c.submitter;T&&(i=(i=T[gn]||null)?sw(i.formAction):T.getAttribute("formAction"),i!==null&&(y=i,T=null));var k=new nl("action","action",null,c,g);r.push({event:k,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ao!==0){var F=T?iw(g,T):new FormData(g);xg(l,{pending:!0,data:F,method:g.method,action:y},null,F)}}else typeof y=="function"&&(k.preventDefault(),F=T?iw(g,T):new FormData(g),xg(l,{pending:!0,data:F,method:g.method,action:y},y,F))},currentTarget:g}]})}}for(var ny=0;ny<Bp.length;ny++){var ry=Bp[ny],lN=ry.toLowerCase(),cN=ry[0].toUpperCase()+ry.slice(1);Zr(lN,"on"+cN)}Zr(V_,"onAnimationEnd"),Zr(U_,"onAnimationIteration"),Zr(B_,"onAnimationStart"),Zr("dblclick","onDoubleClick"),Zr("focusin","onFocus"),Zr("focusout","onBlur"),Zr(AR,"onTransitionRun"),Zr(CR,"onTransitionStart"),Zr(RR,"onTransitionCancel"),Zr(z_,"onTransitionEnd"),Xs("onMouseEnter",["mouseout","mouseover"]),Xs("onMouseLeave",["mouseout","mouseover"]),Xs("onPointerEnter",["pointerout","pointerover"]),Xs("onPointerLeave",["pointerout","pointerover"]),Yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ju));function aw(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var c=r[l],g=c.event;c=c.listeners;e:{var y=void 0;if(i)for(var T=c.length-1;0<=T;T--){var k=c[T],F=k.instance,J=k.currentTarget;if(k=k.listener,F!==y&&g.isPropagationStopped())break e;y=k,g.currentTarget=J;try{y(g)}catch(oe){Xf(oe)}g.currentTarget=null,y=F}else for(T=0;T<c.length;T++){if(k=c[T],F=k.instance,J=k.currentTarget,k=k.listener,F!==y&&g.isPropagationStopped())break e;y=k,g.currentTarget=J;try{y(g)}catch(oe){Xf(oe)}g.currentTarget=null,y=F}}}}function ft(r,i){var l=i[$c];l===void 0&&(l=i[$c]=new Set);var c=r+"__bubble";l.has(c)||(ow(i,r,2,!1),l.add(c))}function sy(r,i,l){var c=0;i&&(c|=4),ow(l,r,c,i)}var fh="_reactListening"+Math.random().toString(36).slice(2);function iy(r){if(!r[fh]){r[fh]=!0,Gc.forEach(function(l){l!=="selectionchange"&&(uN.has(l)||sy(l,!1,r),sy(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[fh]||(i[fh]=!0,sy("selectionchange",!1,i))}}function ow(r,i,l,c){switch(kw(i)){case 2:var g=LN;break;case 8:g=VN;break;default:g=_y}l=g.bind(null,i,l,r),g=void 0,!Lr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),c?g!==void 0?r.addEventListener(i,l,{capture:!0,passive:g}):r.addEventListener(i,l,!0):g!==void 0?r.addEventListener(i,l,{passive:g}):r.addEventListener(i,l,!1)}function ay(r,i,l,c,g){var y=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var k=c.stateNode.containerInfo;if(k===g)break;if(T===4)for(T=c.return;T!==null;){var F=T.tag;if((F===3||F===4)&&T.stateNode.containerInfo===g)return;T=T.return}for(;k!==null;){if(T=Ws(k),T===null)return;if(F=T.tag,F===5||F===6||F===26||F===27){c=y=T;continue e}k=k.parentNode}}c=c.return}mf(function(){var J=y,oe=Pr(l),de=[];e:{var te=F_.get(r);if(te!==void 0){var ne=nl,Ze=r;switch(r){case"keypress":if(vs(l)===0)break e;case"keydown":case"keyup":ne=ll;break;case"focusin":Ze="focus",ne=il;break;case"focusout":Ze="blur",ne=il;break;case"beforeblur":case"afterblur":ne=il;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Vr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Dp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=wf;break;case V_:case U_:case B_:ne=al;break;case z_:ne=Tf;break;case"scroll":case"scrollend":ne=pf;break;case"wheel":ne=cl;break;case"copy":case"cut":case"paste":ne=ol;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=su;break;case"toggle":case"beforetoggle":ne=Af}var Fe=(i&4)!==0,zt=!Fe&&(r==="scroll"||r==="scrollend"),Z=Fe?te!==null?te+"Capture":null:te;Fe=[];for(var Y=J,X;Y!==null;){var ce=Y;if(X=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||X===null||Z===null||(ce=so(Y,Z),ce!=null&&Fe.push(Mu(Y,ce,X))),zt)break;Y=Y.return}0<Fe.length&&(te=new ne(te,Ze,null,l,oe),de.push({event:te,listeners:Fe}))}}if((i&7)===0){e:{if(te=r==="mouseover"||r==="pointerover",ne=r==="mouseout"||r==="pointerout",te&&l!==ti&&(Ze=l.relatedTarget||l.fromElement)&&(Ws(Ze)||Ze[jr]))break e;if((ne||te)&&(te=oe.window===oe?oe:(te=oe.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(Ze=l.relatedTarget||l.toElement,ne=J,Ze=Ze?Ws(Ze):null,Ze!==null&&(zt=o(Ze),Fe=Ze.tag,Ze!==zt||Fe!==5&&Fe!==27&&Fe!==6)&&(Ze=null)):(ne=null,Ze=J),ne!==Ze)){if(Fe=Vr,ce="onMouseLeave",Z="onMouseEnter",Y="mouse",(r==="pointerout"||r==="pointerover")&&(Fe=su,ce="onPointerLeave",Z="onPointerEnter",Y="pointer"),zt=ne==null?te:ms(ne),X=Ze==null?te:ms(Ze),te=new Fe(ce,Y+"leave",ne,l,oe),te.target=zt,te.relatedTarget=X,ce=null,Ws(oe)===J&&(Fe=new Fe(Z,Y+"enter",Ze,l,oe),Fe.target=X,Fe.relatedTarget=zt,ce=Fe),zt=ce,ne&&Ze)t:{for(Fe=ne,Z=Ze,Y=0,X=Fe;X;X=jl(X))Y++;for(X=0,ce=Z;ce;ce=jl(ce))X++;for(;0<Y-X;)Fe=jl(Fe),Y--;for(;0<X-Y;)Z=jl(Z),X--;for(;Y--;){if(Fe===Z||Z!==null&&Fe===Z.alternate)break t;Fe=jl(Fe),Z=jl(Z)}Fe=null}else Fe=null;ne!==null&&lw(de,te,ne,Fe,!1),Ze!==null&&zt!==null&&lw(de,zt,Ze,Fe,!0)}}e:{if(te=J?ms(J):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Ne=C_;else if(Sn(te))if(R_)Ne=ER;else{Ne=xR;var ut=bR}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&Wc(J.elementType)&&(Ne=C_):Ne=wR;if(Ne&&(Ne=Ne(r,J))){ai(de,Ne,l,oe);break e}ut&&ut(r,te,J),r==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&Ki(te,"number",te.value)}switch(ut=J?ms(J):window,r){case"focusin":(Sn(ut)||ut.contentEditable==="true")&&(ul=ut,Lp=J,ou=null);break;case"focusout":ou=Lp=ul=null;break;case"mousedown":Vp=!0;break;case"contextmenu":case"mouseup":case"dragend":Vp=!1,P_(de,l,oe);break;case"selectionchange":if(SR)break;case"keydown":case"keyup":P_(de,l,oe)}var Le;if(xs)e:{switch(r){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else vt?ie(r,l)&&($e="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&($e="onCompositionStart");$e&&(E&&l.locale!=="ko"&&(vt||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&vt&&(Le=Jc()):(ys=oe,Zi="value"in ys?ys.value:ys.textContent,vt=!0)),ut=hh(J,$e),0<ut.length&&($e=new nu($e,r,null,l,oe),de.push({event:$e,listeners:ut}),Le?$e.data=Le:(Le=_e(l),Le!==null&&($e.data=Le)))),(Le=x?Tn(r,l):_t(r,l))&&($e=hh(J,"onBeforeInput"),0<$e.length&&(ut=new nu("onBeforeInput","beforeinput",null,l,oe),de.push({event:ut,listeners:$e}),ut.data=Le)),oN(de,r,J,l,oe)}aw(de,i)})}function Mu(r,i,l){return{instance:r,listener:i,currentTarget:l}}function hh(r,i){for(var l=i+"Capture",c=[];r!==null;){var g=r,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=so(r,l),g!=null&&c.unshift(Mu(r,g,y)),g=so(r,i),g!=null&&c.push(Mu(r,g,y))),r.tag===3)return c;r=r.return}return[]}function jl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function lw(r,i,l,c,g){for(var y=i._reactName,T=[];l!==null&&l!==c;){var k=l,F=k.alternate,J=k.stateNode;if(k=k.tag,F!==null&&F===c)break;k!==5&&k!==26&&k!==27||J===null||(F=J,g?(J=so(l,y),J!=null&&T.unshift(Mu(l,J,F))):g||(J=so(l,y),J!=null&&T.push(Mu(l,J,F)))),l=l.return}T.length!==0&&r.push({event:i,listeners:T})}var dN=/\r\n?/g,fN=/\u0000|\uFFFD/g;function cw(r){return(typeof r=="string"?r:""+r).replace(dN,`
`).replace(fN,"")}function uw(r,i){return i=cw(i),cw(r)===i}function mh(){}function Bt(r,i,l,c,g,y){switch(l){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Mr(r,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Mr(r,""+c);break;case"className":ps(r,"class",c);break;case"tabIndex":ps(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ps(r,l,c);break;case"style":Qc(r,c,y);break;case"data":if(i!=="object"){ps(r,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||l!=="href")){r.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=tl(""+c),r.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(i!=="input"&&Bt(r,i,"name",g.name,g,null),Bt(r,i,"formEncType",g.formEncType,g,null),Bt(r,i,"formMethod",g.formMethod,g,null),Bt(r,i,"formTarget",g.formTarget,g,null)):(Bt(r,i,"encType",g.encType,g,null),Bt(r,i,"method",g.method,g,null),Bt(r,i,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=tl(""+c),r.setAttribute(l,c);break;case"onClick":c!=null&&(r.onclick=mh);break;case"onScroll":c!=null&&ft("scroll",r);break;case"onScrollEnd":c!=null&&ft("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}l=tl(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""+c):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":c===!0?r.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,c):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(l,c):r.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(l):r.setAttribute(l,c);break;case"popover":ft("beforetoggle",r),ft("toggle",r),Yi(r,"popover",c);break;case"xlinkActuate":Vn(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Vn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Vn(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Vn(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Vn(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Vn(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Vn(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Vn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Vn(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Yi(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ip.get(l)||l,Yi(r,l,c))}}function oy(r,i,l,c,g,y){switch(l){case"style":Qc(r,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"children":typeof c=="string"?Mr(r,c):(typeof c=="number"||typeof c=="bigint")&&Mr(r,""+c);break;case"onScroll":c!=null&&ft("scroll",r);break;case"onScrollEnd":c!=null&&ft("scrollend",r);break;case"onClick":c!=null&&(r.onclick=mh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qo.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),i=l.slice(2,g?l.length-7:void 0),y=r[gn]||null,y=y!=null?y[l]:null,typeof y=="function"&&r.removeEventListener(i,y,g),typeof c=="function")){typeof y!="function"&&y!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(i,c,g);break e}l in r?r[l]=c:c===!0?r.setAttribute(l,""):Yi(r,l,c)}}}function Fn(r,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",r),ft("load",r);var c=!1,g=!1,y;for(y in l)if(l.hasOwnProperty(y)){var T=l[y];if(T!=null)switch(y){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Bt(r,i,y,T,l,null)}}g&&Bt(r,i,"srcSet",l.srcSet,l,null),c&&Bt(r,i,"src",l.src,l,null);return;case"input":ft("invalid",r);var k=y=T=g=null,F=null,J=null;for(c in l)if(l.hasOwnProperty(c)){var oe=l[c];if(oe!=null)switch(c){case"name":g=oe;break;case"type":T=oe;break;case"checked":F=oe;break;case"defaultChecked":J=oe;break;case"value":y=oe;break;case"defaultValue":k=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,i));break;default:Bt(r,i,c,oe,l,null)}}to(r,y,k,F,J,T,g,!1),el(r);return;case"select":ft("invalid",r),c=T=y=null;for(g in l)if(l.hasOwnProperty(g)&&(k=l[g],k!=null))switch(g){case"value":y=k;break;case"defaultValue":T=k;break;case"multiple":c=k;default:Bt(r,i,g,k,l,null)}i=y,l=T,r.multiple=!!c,i!=null?ei(r,!!c,i,!1):l!=null&&ei(r,!!c,l,!0);return;case"textarea":ft("invalid",r),y=g=c=null;for(T in l)if(l.hasOwnProperty(T)&&(k=l[T],k!=null))switch(T){case"value":c=k;break;case"defaultValue":g=k;break;case"children":y=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(91));break;default:Bt(r,i,T,k,l,null)}no(r,c,g,y),el(r);return;case"option":for(F in l)if(l.hasOwnProperty(F)&&(c=l[F],c!=null))switch(F){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Bt(r,i,F,c,l,null)}return;case"dialog":ft("beforetoggle",r),ft("toggle",r),ft("cancel",r),ft("close",r);break;case"iframe":case"object":ft("load",r);break;case"video":case"audio":for(c=0;c<ju.length;c++)ft(ju[c],r);break;case"image":ft("error",r),ft("load",r);break;case"details":ft("toggle",r);break;case"embed":case"source":case"link":ft("error",r),ft("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in l)if(l.hasOwnProperty(J)&&(c=l[J],c!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Bt(r,i,J,c,l,null)}return;default:if(Wc(i)){for(oe in l)l.hasOwnProperty(oe)&&(c=l[oe],c!==void 0&&oy(r,i,oe,c,l,void 0));return}}for(k in l)l.hasOwnProperty(k)&&(c=l[k],c!=null&&Bt(r,i,k,c,l,null))}function hN(r,i,l,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,T=null,k=null,F=null,J=null,oe=null;for(ne in l){var de=l[ne];if(l.hasOwnProperty(ne)&&de!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":F=de;default:c.hasOwnProperty(ne)||Bt(r,i,ne,null,c,de)}}for(var te in c){var ne=c[te];if(de=l[te],c.hasOwnProperty(te)&&(ne!=null||de!=null))switch(te){case"type":y=ne;break;case"name":g=ne;break;case"checked":J=ne;break;case"defaultChecked":oe=ne;break;case"value":T=ne;break;case"defaultValue":k=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,i));break;default:ne!==de&&Bt(r,i,te,ne,c,de)}}br(r,T,k,F,J,oe,y,g);return;case"select":ne=T=k=te=null;for(y in l)if(F=l[y],l.hasOwnProperty(y)&&F!=null)switch(y){case"value":break;case"multiple":ne=F;default:c.hasOwnProperty(y)||Bt(r,i,y,null,c,F)}for(g in c)if(y=c[g],F=l[g],c.hasOwnProperty(g)&&(y!=null||F!=null))switch(g){case"value":te=y;break;case"defaultValue":k=y;break;case"multiple":T=y;default:y!==F&&Bt(r,i,g,y,c,F)}i=k,l=T,c=ne,te!=null?ei(r,!!l,te,!1):!!c!=!!l&&(i!=null?ei(r,!!l,i,!0):ei(r,!!l,l?[]:"",!1));return;case"textarea":ne=te=null;for(k in l)if(g=l[k],l.hasOwnProperty(k)&&g!=null&&!c.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Bt(r,i,k,null,c,g)}for(T in c)if(g=c[T],y=l[T],c.hasOwnProperty(T)&&(g!=null||y!=null))switch(T){case"value":te=g;break;case"defaultValue":ne=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==y&&Bt(r,i,T,g,c,y)}Vt(r,te,ne);return;case"option":for(var Ze in l)if(te=l[Ze],l.hasOwnProperty(Ze)&&te!=null&&!c.hasOwnProperty(Ze))switch(Ze){case"selected":r.selected=!1;break;default:Bt(r,i,Ze,null,c,te)}for(F in c)if(te=c[F],ne=l[F],c.hasOwnProperty(F)&&te!==ne&&(te!=null||ne!=null))switch(F){case"selected":r.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Bt(r,i,F,te,c,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in l)te=l[Fe],l.hasOwnProperty(Fe)&&te!=null&&!c.hasOwnProperty(Fe)&&Bt(r,i,Fe,null,c,te);for(J in c)if(te=c[J],ne=l[J],c.hasOwnProperty(J)&&te!==ne&&(te!=null||ne!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,i));break;default:Bt(r,i,J,te,c,ne)}return;default:if(Wc(i)){for(var zt in l)te=l[zt],l.hasOwnProperty(zt)&&te!==void 0&&!c.hasOwnProperty(zt)&&oy(r,i,zt,void 0,c,te);for(oe in c)te=c[oe],ne=l[oe],!c.hasOwnProperty(oe)||te===ne||te===void 0&&ne===void 0||oy(r,i,oe,te,c,ne);return}}for(var Z in l)te=l[Z],l.hasOwnProperty(Z)&&te!=null&&!c.hasOwnProperty(Z)&&Bt(r,i,Z,null,c,te);for(de in c)te=c[de],ne=l[de],!c.hasOwnProperty(de)||te===ne||te==null&&ne==null||Bt(r,i,de,te,c,ne)}var ly=null,cy=null;function ph(r){return r.nodeType===9?r:r.ownerDocument}function dw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fw(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function uy(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var dy=null;function mN(){var r=window.event;return r&&r.type==="popstate"?r===dy?!1:(dy=r,!0):(dy=null,!1)}var hw=typeof setTimeout=="function"?setTimeout:void 0,pN=typeof clearTimeout=="function"?clearTimeout:void 0,mw=typeof Promise=="function"?Promise:void 0,gN=typeof queueMicrotask=="function"?queueMicrotask:typeof mw<"u"?function(r){return mw.resolve(null).then(r).catch(yN)}:hw;function yN(r){setTimeout(function(){throw r})}function da(r){return r==="head"}function pw(r,i){var l=i,c=0,g=0;do{var y=l.nextSibling;if(r.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var T=r.ownerDocument;if(l&1&&Pu(T.documentElement),l&2&&Pu(T.body),l&4)for(l=T.head,Pu(l),T=l.firstChild;T;){var k=T.nextSibling,F=T.nodeName;T[Wa]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=k}}if(g===0){r.removeChild(y),qu(i);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);qu(i)}function fy(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":fy(l),Gi(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function vN(r,i,l,c){for(;r.nodeType===1;){var g=l;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Wa])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Wr(r.nextSibling),r===null)break}return null}function _N(r,i,l){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Wr(r.nextSibling),r===null))return null;return r}function hy(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function bN(r,i){var l=r.ownerDocument;if(r.data!=="$?"||l.readyState==="complete")i();else{var c=function(){i(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function Wr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var my=null;function gw(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return r;i--}else l==="/$"&&i++}r=r.previousSibling}return null}function yw(r,i,l){switch(i=ph(l),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function Pu(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Gi(r)}var $r=new Map,vw=new Set;function gh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var _i=ee.d;ee.d={f:xN,r:wN,D:EN,C:TN,L:SN,m:AN,X:RN,S:CN,M:NN};function xN(){var r=_i.f(),i=oh();return r||i}function wN(r){var i=hs(r);i!==null&&i.tag===5&&i.type==="form"?Vb(i):_i.r(r)}var Ml=typeof document>"u"?null:document;function _w(r,i,l){var c=Ml;if(c&&typeof i=="string"&&i){var g=yn(i);g='link[rel="'+r+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),vw.has(g)||(vw.add(g),r={rel:r,crossOrigin:l,href:i},c.querySelector(g)===null&&(i=c.createElement("link"),Fn(i,"link",r),fn(i),c.head.appendChild(i)))}}function EN(r){_i.D(r),_w("dns-prefetch",r,null)}function TN(r,i){_i.C(r,i),_w("preconnect",r,i)}function SN(r,i,l){_i.L(r,i,l);var c=Ml;if(c&&r&&i){var g='link[rel="preload"][as="'+yn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+yn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+yn(l.imageSizes)+'"]')):g+='[href="'+yn(r)+'"]';var y=g;switch(i){case"style":y=Pl(r);break;case"script":y=Ll(r)}$r.has(y)||(r=v({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:r,as:i},l),$r.set(y,r),c.querySelector(g)!==null||i==="style"&&c.querySelector(Lu(y))||i==="script"&&c.querySelector(Vu(y))||(i=c.createElement("link"),Fn(i,"link",r),fn(i),c.head.appendChild(i)))}}function AN(r,i){_i.m(r,i);var l=Ml;if(l&&r){var c=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+yn(c)+'"][href="'+yn(r)+'"]',y=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ll(r)}if(!$r.has(y)&&(r=v({rel:"modulepreload",href:r},i),$r.set(y,r),l.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Vu(y)))return}c=l.createElement("link"),Fn(c,"link",r),fn(c),l.head.appendChild(c)}}}function CN(r,i,l){_i.S(r,i,l);var c=Ml;if(c&&r){var g=ir(c).hoistableStyles,y=Pl(r);i=i||"default";var T=g.get(y);if(!T){var k={loading:0,preload:null};if(T=c.querySelector(Lu(y)))k.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":i},l),(l=$r.get(y))&&py(r,l);var F=T=c.createElement("link");fn(F),Fn(F,"link",r),F._p=new Promise(function(J,oe){F.onload=J,F.onerror=oe}),F.addEventListener("load",function(){k.loading|=1}),F.addEventListener("error",function(){k.loading|=2}),k.loading|=4,yh(T,i,c)}T={type:"stylesheet",instance:T,count:1,state:k},g.set(y,T)}}}function RN(r,i){_i.X(r,i);var l=Ml;if(l&&r){var c=ir(l).hoistableScripts,g=Ll(r),y=c.get(g);y||(y=l.querySelector(Vu(g)),y||(r=v({src:r,async:!0},i),(i=$r.get(g))&&gy(r,i),y=l.createElement("script"),fn(y),Fn(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function NN(r,i){_i.M(r,i);var l=Ml;if(l&&r){var c=ir(l).hoistableScripts,g=Ll(r),y=c.get(g);y||(y=l.querySelector(Vu(g)),y||(r=v({src:r,async:!0,type:"module"},i),(i=$r.get(g))&&gy(r,i),y=l.createElement("script"),fn(y),Fn(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function bw(r,i,l,c){var g=(g=De.current)?gh(g):null;if(!g)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=Pl(l.href),l=ir(g).hoistableStyles,c=l.get(i),c||(c={type:"style",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=Pl(l.href);var y=ir(g).hoistableStyles,T=y.get(r);if(T||(g=g.ownerDocument||g,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,T),(y=g.querySelector(Lu(r)))&&!y._p&&(T.instance=y,T.state.loading=5),$r.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},$r.set(r,l),y||IN(g,r,l,T.state))),i&&c===null)throw Error(s(528,""));return T}if(i&&c!==null)throw Error(s(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ll(l),l=ir(g).hoistableScripts,c=l.get(i),c||(c={type:"script",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Pl(r){return'href="'+yn(r)+'"'}function Lu(r){return'link[rel="stylesheet"]['+r+"]"}function xw(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function IN(r,i,l,c){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=r.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Fn(i,"link",l),fn(i),r.head.appendChild(i))}function Ll(r){return'[src="'+yn(r)+'"]'}function Vu(r){return"script[async]"+r}function ww(r,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var c=r.querySelector('style[data-href~="'+yn(l.href)+'"]');if(c)return i.instance=c,fn(c),c;var g=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),fn(c),Fn(c,"style",g),yh(c,l.precedence,r),i.instance=c;case"stylesheet":g=Pl(l.href);var y=r.querySelector(Lu(g));if(y)return i.state.loading|=4,i.instance=y,fn(y),y;c=xw(l),(g=$r.get(g))&&py(c,g),y=(r.ownerDocument||r).createElement("link"),fn(y);var T=y;return T._p=new Promise(function(k,F){T.onload=k,T.onerror=F}),Fn(y,"link",c),i.state.loading|=4,yh(y,l.precedence,r),i.instance=y;case"script":return y=Ll(l.src),(g=r.querySelector(Vu(y)))?(i.instance=g,fn(g),g):(c=l,(g=$r.get(y))&&(c=v({},l),gy(c,g)),r=r.ownerDocument||r,g=r.createElement("script"),fn(g),Fn(g,"link",c),r.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,yh(c,l.precedence,r));return i.instance}function yh(r,i,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,y=g,T=0;T<c.length;T++){var k=c[T];if(k.dataset.precedence===i)y=k;else if(y!==g)break}y?y.parentNode.insertBefore(r,y.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(r,i.firstChild))}function py(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function gy(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var vh=null;function Ew(r,i,l){if(vh===null){var c=new Map,g=vh=new Map;g.set(l,c)}else g=vh,c=g.get(l),c||(c=new Map,g.set(l,c));if(c.has(r))return c;for(c.set(r,null),l=l.getElementsByTagName(r),g=0;g<l.length;g++){var y=l[g];if(!(y[Wa]||y[En]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(i)||"";T=r+T;var k=c.get(T);k?k.push(y):c.set(T,[y])}}return c}function Tw(r,i,l){r=r.ownerDocument||r,r.head.insertBefore(l,i==="title"?r.querySelector("head > title"):null)}function kN(r,i,l){if(l===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Sw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Uu=null;function DN(){}function ON(r,i,l){if(Uu===null)throw Error(s(475));var c=Uu;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=Pl(l.href),y=r.querySelector(Lu(g));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=_h.bind(c),r.then(c,c)),i.state.loading|=4,i.instance=y,fn(y);return}y=r.ownerDocument||r,l=xw(l),(g=$r.get(g))&&py(l,g),y=y.createElement("link"),fn(y);var T=y;T._p=new Promise(function(k,F){T.onload=k,T.onerror=F}),Fn(y,"link",l),i.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=_h.bind(c),r.addEventListener("load",i),r.addEventListener("error",i))}}function jN(){if(Uu===null)throw Error(s(475));var r=Uu;return r.stylesheets&&r.count===0&&yy(r,r.stylesheets),0<r.count?function(i){var l=setTimeout(function(){if(r.stylesheets&&yy(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(l)}}:null}function _h(){if(this.count--,this.count===0){if(this.stylesheets)yy(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var bh=null;function yy(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,bh=new Map,i.forEach(MN,r),bh=null,_h.call(r))}function MN(r,i){if(!(i.state.loading&4)){var l=bh.get(r);if(l)var c=l.get(null);else{l=new Map,bh.set(r,l);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var T=g[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}g=i.instance,T=g.getAttribute("data-precedence"),y=l.get(T)||c,y===c&&l.set(null,g),l.set(T,g),this.count++,c=_h.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),y?y.parentNode.insertBefore(g,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),i.state.loading|=4}}var Bu={$$typeof:V,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function PN(r,i,l,c,g,y,T,k){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zs(0),this.hiddenUpdates=Zs(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Aw(r,i,l,c,g,y,T,k,F,J,oe,de){return r=new PN(r,i,l,T,k,F,J,de),i=1,y===!0&&(i|=24),y=wr(3,null,null,i),r.current=y,y.stateNode=r,i=Xp(),i.refCount++,r.pooledCache=i,i.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:i},ng(y),r}function Cw(r){return r?(r=ml,r):ml}function Rw(r,i,l,c,g,y){g=Cw(g),c.context===null?c.context=g:c.pendingContext=g,c=Xi(i),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=Ji(r,c,i),l!==null&&(Cr(l,r,i),gu(l,r,i))}function Nw(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function vy(r,i){Nw(r,i),(r=r.alternate)&&Nw(r,i)}function Iw(r){if(r.tag===13){var i=hl(r,67108864);i!==null&&Cr(i,r,67108864),vy(r,67108864)}}var xh=!0;function LN(r,i,l,c){var g=q.T;q.T=null;var y=ee.p;try{ee.p=2,_y(r,i,l,c)}finally{ee.p=y,q.T=g}}function VN(r,i,l,c){var g=q.T;q.T=null;var y=ee.p;try{ee.p=8,_y(r,i,l,c)}finally{ee.p=y,q.T=g}}function _y(r,i,l,c){if(xh){var g=by(c);if(g===null)ay(r,i,c,wh,l),Dw(r,c);else if(BN(g,r,i,l,c))c.stopPropagation();else if(Dw(r,c),i&4&&-1<UN.indexOf(r)){for(;g!==null;){var y=hs(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=kn(y.pendingLanes);if(T!==0){var k=y;for(k.pendingLanes|=2,k.entangledLanes|=2;T;){var F=1<<31-yt(T);k.entanglements[1]|=F,T&=~F}Cs(y),(Ot&6)===0&&(ih=he()+500,Ou(0))}}break;case 13:k=hl(y,2),k!==null&&Cr(k,y,2),oh(),vy(y,2)}if(y=by(c),y===null&&ay(r,i,c,wh,l),y===g)break;g=y}g!==null&&c.stopPropagation()}else ay(r,i,c,null,l)}}function by(r){return r=Pr(r),xy(r)}var wh=null;function xy(r){if(wh=null,r=Ws(r),r!==null){var i=o(r);if(i===null)r=null;else{var l=i.tag;if(l===13){if(r=u(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return wh=r,null}function kw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Me()){case pe:return 2;case Ae:return 8;case Ee:case St:return 32;case rt:return 268435456;default:return 32}default:return 32}}var wy=!1,fa=null,ha=null,ma=null,zu=new Map,Fu=new Map,pa=[],UN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dw(r,i){switch(r){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":zu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fu.delete(i.pointerId)}}function Hu(r,i,l,c,g,y){return r===null||r.nativeEvent!==y?(r={blockedOn:i,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[g]},i!==null&&(i=hs(i),i!==null&&Iw(i)),r):(r.eventSystemFlags|=c,i=r.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),r)}function BN(r,i,l,c,g){switch(i){case"focusin":return fa=Hu(fa,r,i,l,c,g),!0;case"dragenter":return ha=Hu(ha,r,i,l,c,g),!0;case"mouseover":return ma=Hu(ma,r,i,l,c,g),!0;case"pointerover":var y=g.pointerId;return zu.set(y,Hu(zu.get(y)||null,r,i,l,c,g)),!0;case"gotpointercapture":return y=g.pointerId,Fu.set(y,Hu(Fu.get(y)||null,r,i,l,c,g)),!0}return!1}function Ow(r){var i=Ws(r.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=u(l),i!==null){r.blockedOn=i,of(r.priority,function(){if(l.tag===13){var c=Ar();c=Hi(c);var g=hl(l,c);g!==null&&Cr(g,l,c),vy(l,c)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Eh(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=by(r.nativeEvent);if(l===null){l=r.nativeEvent;var c=new l.constructor(l.type,l);ti=c,l.target.dispatchEvent(c),ti=null}else return i=hs(l),i!==null&&Iw(i),r.blockedOn=l,!1;i.shift()}return!0}function jw(r,i,l){Eh(r)&&l.delete(i)}function zN(){wy=!1,fa!==null&&Eh(fa)&&(fa=null),ha!==null&&Eh(ha)&&(ha=null),ma!==null&&Eh(ma)&&(ma=null),zu.forEach(jw),Fu.forEach(jw)}function Th(r,i){r.blockedOn===i&&(r.blockedOn=null,wy||(wy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,zN)))}var Sh=null;function Mw(r){Sh!==r&&(Sh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Sh===r&&(Sh=null);for(var i=0;i<r.length;i+=3){var l=r[i],c=r[i+1],g=r[i+2];if(typeof c!="function"){if(xy(c||l)===null)continue;break}var y=hs(l);y!==null&&(r.splice(i,3),i-=3,xg(y,{pending:!0,data:g,method:l.method,action:c},c,g))}}))}function qu(r){function i(F){return Th(F,r)}fa!==null&&Th(fa,r),ha!==null&&Th(ha,r),ma!==null&&Th(ma,r),zu.forEach(i),Fu.forEach(i);for(var l=0;l<pa.length;l++){var c=pa[l];c.blockedOn===r&&(c.blockedOn=null)}for(;0<pa.length&&(l=pa[0],l.blockedOn===null);)Ow(l),l.blockedOn===null&&pa.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var g=l[c],y=l[c+1],T=g[gn]||null;if(typeof y=="function")T||Mw(l);else if(T){var k=null;if(y&&y.hasAttribute("formAction")){if(g=y,T=y[gn]||null)k=T.formAction;else if(xy(g)!==null)continue}else k=T.action;typeof k=="function"?l[c+1]=k:(l.splice(c,3),c-=3),Mw(l)}}}function Ey(r){this._internalRoot=r}Ah.prototype.render=Ey.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var l=i.current,c=Ar();Rw(l,c,r,i,null,null)},Ah.prototype.unmount=Ey.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Rw(r.current,2,null,r,null,null),oh(),i[jr]=null}};function Ah(r){this._internalRoot=r}Ah.prototype.unstable_scheduleHydration=function(r){if(r){var i=qi();r={blockedOn:null,target:r,priority:i};for(var l=0;l<pa.length&&i!==0&&i<pa[l].priority;l++);pa.splice(l,0,r),l===0&&Ow(r)}};var Pw=e.version;if(Pw!=="19.1.0")throw Error(s(527,Pw,"19.1.0"));ee.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=m(i),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var FN={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ch.isDisabled&&Ch.supportsFiber)try{Ue=Ch.inject(FN),qe=Ch}catch{}}return Gu.createRoot=function(r,i){if(!a(r))throw Error(s(299));var l=!1,c="",g=Xb,y=Jb,T=ex,k=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(k=i.unstable_transitionCallbacks)),i=Aw(r,1,!1,null,null,l,c,g,y,T,k,null),r[jr]=i.current,iy(r),new Ey(i)},Gu.hydrateRoot=function(r,i,l){if(!a(r))throw Error(s(299));var c=!1,g="",y=Xb,T=Jb,k=ex,F=null,J=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(F=l.unstable_transitionCallbacks),l.formState!==void 0&&(J=l.formState)),i=Aw(r,1,!0,i,l??null,c,g,y,T,k,F,J),i.context=Cw(null),l=i.current,c=Ar(),c=Hi(c),g=Xi(c),g.callback=null,Ji(l,g,c),l=c,i.current.lanes=l,Qs(i,l),Cs(i),r[jr]=i.current,iy(r),new Ah(i)},Gu.version="19.1.0",Gu}var Gw;function XN(){if(Gw)return Ay.exports;Gw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ay.exports=WN(),Ay.exports}var JN=XN(),Yu={},Yw;function eI(){if(Yw)return Yu;Yw=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.parse=u,Yu.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function u(_,S){const C=new o,R=_.length;if(R<2)return C;const N=(S==null?void 0:S.decode)||v;let j=0;do{const U=_.indexOf("=",j);if(U===-1)break;const V=_.indexOf(";",j),$=V===-1?R:V;if(U>$){j=_.lastIndexOf(";",U-1)+1;continue}const H=d(_,j,U),Q=m(_,U,H),I=_.slice(H,Q);if(C[I]===void 0){let A=d(_,U+1,$),M=m(_,$,A);const B=N(_.slice(A,M));C[I]=B}j=$+1}while(j<R);return C}function d(_,S,C){do{const R=_.charCodeAt(S);if(R!==32&&R!==9)return S}while(++S<C);return C}function m(_,S,C){for(;S>C;){const R=_.charCodeAt(--S);if(R!==32&&R!==9)return S+1}return C}function p(_,S,C){const R=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const N=R(S);if(!e.test(N))throw new TypeError(`argument val is invalid: ${S}`);let j=_+"="+N;if(!C)return j;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);j+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);j+="; Domain="+C.domain}if(C.path){if(!s.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);j+="; Path="+C.path}if(C.expires){if(!b(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);j+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(j+="; HttpOnly"),C.secure&&(j+="; Secure"),C.partitioned&&(j+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return j}function v(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function b(_){return a.call(_)==="[object Date]"}return Yu}eI();var Kw="popstate";function tI(n={}){function e(s,a){let{pathname:o,search:u,hash:d}=s.location;return rv("",{pathname:o,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){return typeof a=="string"?a:fd(a)}return rI(e,t,null,n)}function Jt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function is(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nI(){return Math.random().toString(36).substring(2,10)}function Zw(n,e){return{usr:n.state,key:n.key,idx:e}}function rv(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ec(e):e,state:t,key:e&&e.key||s||nI()}}function fd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ec(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function rI(n,e,t,s={}){let{window:a=document.defaultView,v5Compat:o=!1}=s,u=a.history,d="POP",m=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function b(){d="POP";let N=v(),j=N==null?null:N-p;p=N,m&&m({action:d,location:R.location,delta:j})}function _(N,j){d="PUSH";let U=rv(R.location,N,j);p=v()+1;let V=Zw(U,p),$=R.createHref(U);try{u.pushState(V,"",$)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;a.location.assign($)}o&&m&&m({action:d,location:R.location,delta:1})}function S(N,j){d="REPLACE";let U=rv(R.location,N,j);p=v();let V=Zw(U,p),$=R.createHref(U);u.replaceState(V,"",$),o&&m&&m({action:d,location:R.location,delta:0})}function C(N){return sI(N)}let R={get action(){return d},get location(){return n(a,u)},listen(N){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(Kw,b),m=N,()=>{a.removeEventListener(Kw,b),m=null}},createHref(N){return e(a,N)},createURL:C,encodeLocation(N){let j=C(N);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:_,replace:S,go(N){return u.go(N)}};return R}function sI(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Jt(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:fd(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function xS(n,e,t="/"){return iI(n,e,t,!1)}function iI(n,e,t,s){let a=typeof e=="string"?Ec(e):e,o=Ii(a.pathname||"/",t);if(o==null)return null;let u=wS(n);aI(u);let d=null;for(let m=0;d==null&&m<u.length;++m){let p=yI(o);d=pI(u[m],p,s)}return d}function wS(n,e=[],t=[],s=""){let a=(o,u,d)=>{let m={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};m.relativePath.startsWith("/")&&(Jt(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let p=Si([s,m.relativePath]),v=t.concat(m);o.children&&o.children.length>0&&(Jt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),wS(o.children,e,v,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:hI(p,o.index),routesMeta:v})};return n.forEach((o,u)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,u);else for(let m of ES(o.path))a(o,u,m)}),e}function ES(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let u=ES(s.join("/")),d=[];return d.push(...u.map(m=>m===""?o:[o,m].join("/"))),a&&d.push(...u),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function aI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:mI(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var oI=/^:[\w-]+$/,lI=3,cI=2,uI=1,dI=10,fI=-2,Qw=n=>n==="*";function hI(n,e){let t=n.split("/"),s=t.length;return t.some(Qw)&&(s+=fI),e&&(s+=cI),t.filter(a=>!Qw(a)).reduce((a,o)=>a+(oI.test(o)?lI:o===""?uI:dI),s)}function mI(n,e){return n.length===e.length&&n.slice(0,-1).every((s,a)=>s===e[a])?n[n.length-1]-e[e.length-1]:0}function pI(n,e,t=!1){let{routesMeta:s}=n,a={},o="/",u=[];for(let d=0;d<s.length;++d){let m=s[d],p=d===s.length-1,v=o==="/"?e:e.slice(o.length)||"/",b=om({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),_=m.route;if(!b&&p&&t&&!s[s.length-1].route.index&&(b=om({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),u.push({params:a,pathname:Si([o,b.pathname]),pathnameBase:xI(Si([o,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(o=Si([o,b.pathnameBase]))}return u}function om(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=gI(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((p,{paramName:v,isOptional:b},_)=>{if(v==="*"){let C=d[_]||"";u=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const S=d[_];return b&&!S?p[v]=void 0:p[v]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:u,pattern:n}}function gI(n,e=!1,t=!0){is(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function yI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return is(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ii(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function vI(n,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof n=="string"?Ec(n):n;return{pathname:t?t.startsWith("/")?t:_I(t,e):e,search:wI(s),hash:EI(a)}}function _I(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Iy(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function t0(n){let e=bI(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function n0(n,e,t,s=!1){let a;typeof n=="string"?a=Ec(n):(a={...n},Jt(!a.pathname||!a.pathname.includes("?"),Iy("?","pathname","search",a)),Jt(!a.pathname||!a.pathname.includes("#"),Iy("#","pathname","hash",a)),Jt(!a.search||!a.search.includes("#"),Iy("#","search","hash",a)));let o=n===""||a.pathname==="",u=o?"/":a.pathname,d;if(u==null)d=t;else{let b=e.length-1;if(!s&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),b-=1;a.pathname=_.join("/")}d=b>=0?e[b]:"/"}let m=vI(a,d),p=u&&u!=="/"&&u.endsWith("/"),v=(o||u===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var Si=n=>n.join("/").replace(/\/\/+/g,"/"),xI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),wI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,EI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function TI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var TS=["POST","PUT","PATCH","DELETE"];new Set(TS);var SI=["GET",...TS];new Set(SI);var Tc=w.createContext(null);Tc.displayName="DataRouter";var $m=w.createContext(null);$m.displayName="DataRouterState";var SS=w.createContext({isTransitioning:!1});SS.displayName="ViewTransition";var AI=w.createContext(new Map);AI.displayName="Fetchers";var CI=w.createContext(null);CI.displayName="Await";var ds=w.createContext(null);ds.displayName="Navigation";var Vd=w.createContext(null);Vd.displayName="Location";var Gs=w.createContext({outlet:null,matches:[],isDataRoute:!1});Gs.displayName="Route";var r0=w.createContext(null);r0.displayName="RouteError";function RI(n,{relative:e}={}){Jt(Sc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=w.useContext(ds),{hash:a,pathname:o,search:u}=Ud(n,{relative:e}),d=o;return t!=="/"&&(d=o==="/"?t:Si([t,o])),s.createHref({pathname:d,search:u,hash:a})}function Sc(){return w.useContext(Vd)!=null}function Ui(){return Jt(Sc(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Vd).location}var AS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CS(n){w.useContext(ds).static||w.useLayoutEffect(n)}function Gm(){let{isDataRoute:n}=w.useContext(Gs);return n?zI():NI()}function NI(){Jt(Sc(),"useNavigate() may be used only in the context of a <Router> component.");let n=w.useContext(Tc),{basename:e,navigator:t}=w.useContext(ds),{matches:s}=w.useContext(Gs),{pathname:a}=Ui(),o=JSON.stringify(t0(s)),u=w.useRef(!1);return CS(()=>{u.current=!0}),w.useCallback((m,p={})=>{if(is(u.current,AS),!u.current)return;if(typeof m=="number"){t.go(m);return}let v=n0(m,JSON.parse(o),a,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Si([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,o,a,n])}w.createContext(null);function Ud(n,{relative:e}={}){let{matches:t}=w.useContext(Gs),{pathname:s}=Ui(),a=JSON.stringify(t0(t));return w.useMemo(()=>n0(n,JSON.parse(a),s,e==="path"),[n,a,s,e])}function II(n,e){return RS(n,e)}function RS(n,e,t,s){var j;Jt(Sc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=w.useContext(ds),{matches:o}=w.useContext(Gs),u=o[o.length-1],d=u?u.params:{},m=u?u.pathname:"/",p=u?u.pathnameBase:"/",v=u&&u.route;{let U=v&&v.path||"";NS(m,!v||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let b=Ui(),_;if(e){let U=typeof e=="string"?Ec(e):e;Jt(p==="/"||((j=U.pathname)==null?void 0:j.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${U.pathname}" was given in the \`location\` prop.`),_=U}else _=b;let S=_.pathname||"/",C=S;if(p!=="/"){let U=p.replace(/^\//,"").split("/");C="/"+S.replace(/^\//,"").split("/").slice(U.length).join("/")}let R=xS(n,{pathname:C});is(v||R!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),is(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=MI(R&&R.map(U=>Object.assign({},U,{params:Object.assign({},d,U.params),pathname:Si([p,a.encodeLocation?a.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?p:Si([p,a.encodeLocation?a.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),o,t,s);return e&&N?w.createElement(Vd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},N):N}function kI(){let n=BI(),e=TI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:o},"ErrorBoundary")," or"," ",w.createElement("code",{style:o},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:a},t):null,u)}var DI=w.createElement(kI,null),OI=class extends w.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?w.createElement(Gs.Provider,{value:this.props.routeContext},w.createElement(r0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jI({routeContext:n,match:e,children:t}){let s=w.useContext(Tc);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Gs.Provider,{value:n},t)}function MI(n,e=[],t=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let m=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);Jt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let u=!1,d=-1;if(t)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:v,errors:b}=t,_=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||_){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,p,v)=>{let b,_=!1,S=null,C=null;t&&(b=o&&p.route.id?o[p.route.id]:void 0,S=p.route.errorElement||DI,u&&(d<0&&v===0?(NS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,C=null):d===v&&(_=!0,C=p.route.hydrateFallbackElement||null)));let R=e.concat(a.slice(0,v+1)),N=()=>{let j;return b?j=S:_?j=C:p.route.Component?j=w.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=m,w.createElement(jI,{match:p,routeContext:{outlet:m,matches:R,isDataRoute:t!=null},children:j})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?w.createElement(OI,{location:t.location,revalidation:t.revalidation,component:S,error:b,children:N(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):N()},null)}function s0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PI(n){let e=w.useContext(Tc);return Jt(e,s0(n)),e}function LI(n){let e=w.useContext($m);return Jt(e,s0(n)),e}function VI(n){let e=w.useContext(Gs);return Jt(e,s0(n)),e}function i0(n){let e=VI(n),t=e.matches[e.matches.length-1];return Jt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function UI(){return i0("useRouteId")}function BI(){var s;let n=w.useContext(r0),e=LI("useRouteError"),t=i0("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[t]}function zI(){let{router:n}=PI("useNavigate"),e=i0("useNavigate"),t=w.useRef(!1);return CS(()=>{t.current=!0}),w.useCallback(async(a,o={})=>{is(t.current,AS),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var Ww={};function NS(n,e,t){!e&&!Ww[n]&&(Ww[n]=!0,is(!1,t))}w.memo(FI);function FI({routes:n,future:e,state:t}){return RS(n,void 0,t,e)}function sv({to:n,replace:e,state:t,relative:s}){Jt(Sc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=w.useContext(ds);is(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=w.useContext(Gs),{pathname:u}=Ui(),d=Gm(),m=n0(n,t0(o),u,s==="path"),p=JSON.stringify(m);return w.useEffect(()=>{d(JSON.parse(p),{replace:e,state:t,relative:s})},[d,p,s,e,t]),null}function Xr(n){Jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function HI({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:o=!1}){Jt(!Sc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof t=="string"&&(t=Ec(t));let{pathname:m="/",search:p="",hash:v="",state:b=null,key:_="default"}=t,S=w.useMemo(()=>{let C=Ii(m,u);return C==null?null:{location:{pathname:C,search:p,hash:v,state:b,key:_},navigationType:s}},[u,m,p,v,b,_,s]);return is(S!=null,`<Router basename="${u}"> is not able to match the URL "${m}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:w.createElement(ds.Provider,{value:d},w.createElement(Vd.Provider,{children:e,value:S}))}function qI({children:n,location:e}){return II(iv(n),e)}function iv(n,e=[]){let t=[];return w.Children.forEach(n,(s,a)=>{if(!w.isValidElement(s))return;let o=[...e,a];if(s.type===w.Fragment){t.push.apply(t,iv(s.props.children,o));return}Jt(s.type===Xr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Jt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=iv(s.props.children,o)),t.push(u)}),t}var $h="get",Gh="application/x-www-form-urlencoded";function Ym(n){return n!=null&&typeof n.tagName=="string"}function $I(n){return Ym(n)&&n.tagName.toLowerCase()==="button"}function GI(n){return Ym(n)&&n.tagName.toLowerCase()==="form"}function YI(n){return Ym(n)&&n.tagName.toLowerCase()==="input"}function KI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function ZI(n,e){return n.button===0&&(!e||e==="_self")&&!KI(n)}var Rh=null;function QI(){if(Rh===null)try{new FormData(document.createElement("form"),0),Rh=!1}catch{Rh=!0}return Rh}var WI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ky(n){return n!=null&&!WI.has(n)?(is(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gh}"`),null):n}function XI(n,e){let t,s,a,o,u;if(GI(n)){let d=n.getAttribute("action");s=d?Ii(d,e):null,t=n.getAttribute("method")||$h,a=ky(n.getAttribute("enctype"))||Gh,o=new FormData(n)}else if($I(n)||YI(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(s=m?Ii(m,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||$h,a=ky(n.getAttribute("formenctype"))||ky(d.getAttribute("enctype"))||Gh,o=new FormData(d,n),!QI()){let{name:p,type:v,value:b}=n;if(v==="image"){let _=p?`${p}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else p&&o.append(p,b)}}else{if(Ym(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=$h,s=null,a=Gh,u=n}return o&&a==="text/plain"&&(u=o,o=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:o,body:u}}function a0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function JI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ek(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function tk(n,e,t){let s=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await JI(o,t);return u.links?u.links():[]}return[]}));return ik(s.flat(1).filter(ek).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Xw(n,e,t,s,a,o){let u=(m,p)=>t[p]?m.route.id!==t[p].route.id:!0,d=(m,p)=>{var v;return t[p].pathname!==m.pathname||((v=t[p].route.path)==null?void 0:v.endsWith("*"))&&t[p].params["*"]!==m.params["*"]};return o==="assets"?e.filter((m,p)=>u(m,p)||d(m,p)):o==="data"?e.filter((m,p)=>{var b;let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function nk(n,e,{includeHydrateFallback:t}={}){return rk(n.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function rk(n){return[...new Set(n)]}function sk(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function ik(n,e){let t=new Set;return new Set(e),n.reduce((s,a)=>{let o=JSON.stringify(sk(a));return t.has(o)||(t.add(o),s.push({key:o,link:a})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ak=new Set([100,101,204,205]);function ok(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ii(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function IS(){let n=w.useContext(Tc);return a0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function lk(){let n=w.useContext($m);return a0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var o0=w.createContext(void 0);o0.displayName="FrameworkContext";function kS(){let n=w.useContext(o0);return a0(n,"You must render this element inside a <HydratedRouter> element"),n}function ck(n,e){let t=w.useContext(o0),[s,a]=w.useState(!1),[o,u]=w.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=e,_=w.useRef(null);w.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let R=j=>{j.forEach(U=>{u(U.isIntersecting)})},N=new IntersectionObserver(R,{threshold:.5});return _.current&&N.observe(_.current),()=>{N.disconnect()}}},[n]),w.useEffect(()=>{if(s){let R=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(R)}}},[s]);let S=()=>{a(!0)},C=()=>{a(!1),u(!1)};return t?n!=="intent"?[o,_,{}]:[o,_,{onFocus:Ku(d,S),onBlur:Ku(m,C),onMouseEnter:Ku(p,S),onMouseLeave:Ku(v,C),onTouchStart:Ku(b,S)}]:[!1,_,{}]}function Ku(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function uk({page:n,...e}){let{router:t}=IS(),s=w.useMemo(()=>xS(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?w.createElement(fk,{page:n,matches:s,...e}):null}function dk(n){let{manifest:e,routeModules:t}=kS(),[s,a]=w.useState([]);return w.useEffect(()=>{let o=!1;return tk(n,e,t).then(u=>{o||a(u)}),()=>{o=!0}},[n,e,t]),s}function fk({page:n,matches:e,...t}){let s=Ui(),{manifest:a,routeModules:o}=kS(),{basename:u}=IS(),{loaderData:d,matches:m}=lk(),p=w.useMemo(()=>Xw(n,e,m,a,s,"data"),[n,e,m,a,s]),v=w.useMemo(()=>Xw(n,e,m,a,s,"assets"),[n,e,m,a,s]),b=w.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let C=new Set,R=!1;if(e.forEach(j=>{var V;let U=a.routes[j.route.id];!U||!U.hasLoader||(!p.some($=>$.route.id===j.route.id)&&j.route.id in d&&((V=o[j.route.id])!=null&&V.shouldRevalidate)||U.hasClientLoader?R=!0:C.add(j.route.id))}),C.size===0)return[];let N=ok(n,u);return R&&C.size>0&&N.searchParams.set("_routes",e.filter(j=>C.has(j.route.id)).map(j=>j.route.id).join(",")),[N.pathname+N.search]},[u,d,s,a,p,e,n,o]),_=w.useMemo(()=>nk(v,a),[v,a]),S=dk(v);return w.createElement(w.Fragment,null,b.map(C=>w.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),_.map(C=>w.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),S.map(({key:C,link:R})=>w.createElement("link",{key:C,...R})))}function hk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var DS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DS&&(window.__reactRouterVersion="7.6.1")}catch{}function mk({basename:n,children:e,window:t}){let s=w.useRef();s.current==null&&(s.current=tI({window:t,v5Compat:!0}));let a=s.current,[o,u]=w.useState({action:a.action,location:a.location}),d=w.useCallback(m=>{w.startTransition(()=>u(m))},[u]);return w.useLayoutEffect(()=>a.listen(d),[a,d]),w.createElement(HI,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:a})}var OS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rc=w.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:o,replace:u,state:d,target:m,to:p,preventScrollReset:v,viewTransition:b,..._},S){let{basename:C}=w.useContext(ds),R=typeof p=="string"&&OS.test(p),N,j=!1;if(typeof p=="string"&&R&&(N=p,DS))try{let M=new URL(window.location.href),B=p.startsWith("//")?new URL(M.protocol+p):new URL(p),D=Ii(B.pathname,C);B.origin===M.origin&&D!=null?p=D+B.search+B.hash:j=!0}catch{is(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=RI(p,{relative:a}),[V,$,H]=ck(s,_),Q=vk(p,{replace:u,state:d,target:m,preventScrollReset:v,relative:a,viewTransition:b});function I(M){e&&e(M),M.defaultPrevented||Q(M)}let A=w.createElement("a",{..._,...H,href:N||U,onClick:j||o?e:I,ref:hk(S,$),target:m,"data-discover":!R&&t==="render"?"true":void 0});return V&&!R?w.createElement(w.Fragment,null,A,w.createElement(uk,{page:U})):A});rc.displayName="Link";var pk=w.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:o,to:u,viewTransition:d,children:m,...p},v){let b=Ud(u,{relative:p.relative}),_=Ui(),S=w.useContext($m),{navigator:C,basename:R}=w.useContext(ds),N=S!=null&&Ek(b)&&d===!0,j=C.encodeLocation?C.encodeLocation(b).pathname:b.pathname,U=_.pathname,V=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(U=U.toLowerCase(),V=V?V.toLowerCase():null,j=j.toLowerCase()),V&&R&&(V=Ii(V,R)||V);const $=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let H=U===j||!a&&U.startsWith(j)&&U.charAt($)==="/",Q=V!=null&&(V===j||!a&&V.startsWith(j)&&V.charAt(j.length)==="/"),I={isActive:H,isPending:Q,isTransitioning:N},A=H?e:void 0,M;typeof s=="function"?M=s(I):M=[s,H?"active":null,Q?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(I):o;return w.createElement(rc,{...p,"aria-current":A,className:M,ref:v,style:B,to:u,viewTransition:d},typeof m=="function"?m(I):m)});pk.displayName="NavLink";var gk=w.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:o,method:u=$h,action:d,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:b,..._},S)=>{let C=xk(),R=wk(d,{relative:p}),N=u.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&OS.test(d),U=V=>{if(m&&m(V),V.defaultPrevented)return;V.preventDefault();let $=V.nativeEvent.submitter,H=($==null?void 0:$.getAttribute("formmethod"))||u;C($||V.currentTarget,{fetcherKey:e,method:H,navigate:t,replace:a,state:o,relative:p,preventScrollReset:v,viewTransition:b})};return w.createElement("form",{ref:S,method:N,action:R,onSubmit:s?m:U,..._,"data-discover":!j&&n==="render"?"true":void 0})});gk.displayName="Form";function yk(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jS(n){let e=w.useContext(Tc);return Jt(e,yk(n)),e}function vk(n,{target:e,replace:t,state:s,preventScrollReset:a,relative:o,viewTransition:u}={}){let d=Gm(),m=Ui(),p=Ud(n,{relative:o});return w.useCallback(v=>{if(ZI(v,e)){v.preventDefault();let b=t!==void 0?t:fd(m)===fd(p);d(n,{replace:b,state:s,preventScrollReset:a,relative:o,viewTransition:u})}},[m,d,p,t,s,e,n,a,o,u])}var _k=0,bk=()=>`__${String(++_k)}__`;function xk(){let{router:n}=jS("useSubmit"),{basename:e}=w.useContext(ds),t=UI();return w.useCallback(async(s,a={})=>{let{action:o,method:u,encType:d,formData:m,body:p}=XI(s,e);if(a.navigate===!1){let v=a.fetcherKey||bk();await n.fetch(v,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||u,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||u,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function wk(n,{relative:e}={}){let{basename:t}=w.useContext(ds),s=w.useContext(Gs);Jt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),o={...Ud(n||".",{relative:e})},u=Ui();if(n==null){o.search=u.search;let d=new URLSearchParams(o.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();o.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Si([t,o.pathname])),fd(o)}function Ek(n,e={}){let t=w.useContext(SS);Jt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=jS("useViewTransitionState"),a=Ud(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Ii(t.currentLocation.pathname,s)||t.currentLocation.pathname,u=Ii(t.nextLocation.pathname,s)||t.nextLocation.pathname;return om(a.pathname,u)!=null||om(a.pathname,o)!=null}[...ak];var Bd=bS();const Tk=vS(Bd);function Jw(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Sk(...n){return e=>{let t=!1;const s=n.map(a=>{const o=Jw(a,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let a=0;a<s.length;a++){const o=s[a];typeof o=="function"?o():Jw(n[a],null)}}}}function sn(...n){return w.useCallback(Sk(...n),n)}function hd(n){const e=Ak(n),t=w.forwardRef((s,a)=>{const{children:o,...u}=s,d=w.Children.toArray(o),m=d.find(Rk);if(m){const p=m.props.children,v=d.map(b=>b===m?w.Children.count(p)>1?w.Children.only(null):w.isValidElement(p)?p.props.children:null:b);return h.jsx(e,{...u,ref:a,children:w.isValidElement(p)?w.cloneElement(p,void 0,v):null})}return h.jsx(e,{...u,ref:a,children:o})});return t.displayName=`${n}.Slot`,t}var MS=hd("Slot");function Ak(n){const e=w.forwardRef((t,s)=>{const{children:a,...o}=t,u=w.isValidElement(a)?Ik(a):void 0,d=sn(u,s);if(w.isValidElement(a)){const m=Nk(o,a.props);return a.type!==w.Fragment&&(m.ref=d),w.cloneElement(a,m)}return w.Children.count(a)>1?w.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var Ck=Symbol("radix.slottable");function Rk(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===Ck}function Nk(n,e){const t={...e};for(const s in e){const a=n[s],o=e[s];/^on[A-Z]/.test(s)?a&&o?t[s]=(...d)=>{const m=o(...d);return a(...d),m}:a&&(t[s]=a):s==="style"?t[s]={...a,...o}:s==="className"&&(t[s]=[a,o].filter(Boolean).join(" "))}return{...n,...t}}function Ik(n){var s,a;let e=(s=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function PS(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=PS(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function LS(){for(var n,e,t=0,s="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=PS(n))&&(s&&(s+=" "),s+=e);return s}const eE=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,tE=LS,l0=(n,e)=>t=>{var s;if((e==null?void 0:e.variants)==null)return tE(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:a,defaultVariants:o}=e,u=Object.keys(a).map(p=>{const v=t==null?void 0:t[p],b=o==null?void 0:o[p];if(v===null)return null;const _=eE(v)||eE(b);return a[p][_]}),d=t&&Object.entries(t).reduce((p,v)=>{let[b,_]=v;return _===void 0||(p[b]=_),p},{}),m=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((p,v)=>{let{class:b,className:_,...S}=v;return Object.entries(S).every(C=>{let[R,N]=C;return Array.isArray(N)?N.includes({...o,...d}[R]):{...o,...d}[R]===N})?[...p,b,_]:p},[]);return tE(n,u,m,t==null?void 0:t.class,t==null?void 0:t.className)},c0="-",kk=n=>{const e=Ok(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=n;return{getClassGroupId:u=>{const d=u.split(c0);return d[0]===""&&d.length!==1&&d.shift(),VS(d,e)||Dk(u)},getConflictingClassGroupIds:(u,d)=>{const m=t[u]||[];return d&&s[u]?[...m,...s[u]]:m}}},VS=(n,e)=>{var u;if(n.length===0)return e.classGroupId;const t=n[0],s=e.nextPart.get(t),a=s?VS(n.slice(1),s):void 0;if(a)return a;if(e.validators.length===0)return;const o=n.join(c0);return(u=e.validators.find(({validator:d})=>d(o)))==null?void 0:u.classGroupId},nE=/^\[(.+)\]$/,Dk=n=>{if(nE.test(n)){const e=nE.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},Ok=n=>{const{theme:e,classGroups:t}=n,s={nextPart:new Map,validators:[]};for(const a in t)av(t[a],s,a,e);return s},av=(n,e,t,s)=>{n.forEach(a=>{if(typeof a=="string"){const o=a===""?e:rE(e,a);o.classGroupId=t;return}if(typeof a=="function"){if(jk(a)){av(a(s),e,t,s);return}e.validators.push({validator:a,classGroupId:t});return}Object.entries(a).forEach(([o,u])=>{av(u,rE(e,o),t,s)})})},rE=(n,e)=>{let t=n;return e.split(c0).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},jk=n=>n.isThemeGetter,Mk=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,s=new Map;const a=(o,u)=>{t.set(o,u),e++,e>n&&(e=0,s=t,t=new Map)};return{get(o){let u=t.get(o);if(u!==void 0)return u;if((u=s.get(o))!==void 0)return a(o,u),u},set(o,u){t.has(o)?t.set(o,u):a(o,u)}}},ov="!",lv=":",Pk=lv.length,Lk=n=>{const{prefix:e,experimentalParseClassName:t}=n;let s=a=>{const o=[];let u=0,d=0,m=0,p;for(let C=0;C<a.length;C++){let R=a[C];if(u===0&&d===0){if(R===lv){o.push(a.slice(m,C)),m=C+Pk;continue}if(R==="/"){p=C;continue}}R==="["?u++:R==="]"?u--:R==="("?d++:R===")"&&d--}const v=o.length===0?a:a.substring(m),b=Vk(v),_=b!==v,S=p&&p>m?p-m:void 0;return{modifiers:o,hasImportantModifier:_,baseClassName:b,maybePostfixModifierPosition:S}};if(e){const a=e+lv,o=s;s=u=>u.startsWith(a)?o(u.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(t){const a=s;s=o=>t({className:o,parseClassName:a})}return s},Vk=n=>n.endsWith(ov)?n.substring(0,n.length-1):n.startsWith(ov)?n.substring(1):n,Uk=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const a=[];let o=[];return s.forEach(u=>{u[0]==="["||e[u]?(a.push(...o.sort(),u),o=[]):o.push(u)}),a.push(...o.sort()),a}},Bk=n=>({cache:Mk(n.cacheSize),parseClassName:Lk(n),sortModifiers:Uk(n),...kk(n)}),zk=/\s+/,Fk=(n,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:o}=e,u=[],d=n.trim().split(zk);let m="";for(let p=d.length-1;p>=0;p-=1){const v=d[p],{isExternal:b,modifiers:_,hasImportantModifier:S,baseClassName:C,maybePostfixModifierPosition:R}=t(v);if(b){m=v+(m.length>0?" "+m:m);continue}let N=!!R,j=s(N?C.substring(0,R):C);if(!j){if(!N){m=v+(m.length>0?" "+m:m);continue}if(j=s(C),!j){m=v+(m.length>0?" "+m:m);continue}N=!1}const U=o(_).join(":"),V=S?U+ov:U,$=V+j;if(u.includes($))continue;u.push($);const H=a(j,N);for(let Q=0;Q<H.length;++Q){const I=H[Q];u.push(V+I)}m=v+(m.length>0?" "+m:m)}return m};function Hk(){let n=0,e,t,s="";for(;n<arguments.length;)(e=arguments[n++])&&(t=US(e))&&(s&&(s+=" "),s+=t);return s}const US=n=>{if(typeof n=="string")return n;let e,t="";for(let s=0;s<n.length;s++)n[s]&&(e=US(n[s]))&&(t&&(t+=" "),t+=e);return t};function qk(n,...e){let t,s,a,o=u;function u(m){const p=e.reduce((v,b)=>b(v),n());return t=Bk(p),s=t.cache.get,a=t.cache.set,o=d,d(m)}function d(m){const p=s(m);if(p)return p;const v=Fk(m,t);return a(m,v),v}return function(){return o(Hk.apply(null,arguments))}}const Rn=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},BS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,zS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,$k=/^\d+\/\d+$/,Gk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Yk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Kk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Zk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Qk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vl=n=>$k.test(n),lt=n=>!!n&&!Number.isNaN(Number(n)),ya=n=>!!n&&Number.isInteger(Number(n)),Dy=n=>n.endsWith("%")&&lt(n.slice(0,-1)),bi=n=>Gk.test(n),Wk=()=>!0,Xk=n=>Yk.test(n)&&!Kk.test(n),FS=()=>!1,Jk=n=>Zk.test(n),eD=n=>Qk.test(n),tD=n=>!Ie(n)&&!ke(n),nD=n=>Ac(n,$S,FS),Ie=n=>BS.test(n),Co=n=>Ac(n,GS,Xk),Oy=n=>Ac(n,oD,lt),sE=n=>Ac(n,HS,FS),rD=n=>Ac(n,qS,eD),Nh=n=>Ac(n,YS,Jk),ke=n=>zS.test(n),Zu=n=>Cc(n,GS),sD=n=>Cc(n,lD),iE=n=>Cc(n,HS),iD=n=>Cc(n,$S),aD=n=>Cc(n,qS),Ih=n=>Cc(n,YS,!0),Ac=(n,e,t)=>{const s=BS.exec(n);return s?s[1]?e(s[1]):t(s[2]):!1},Cc=(n,e,t=!1)=>{const s=zS.exec(n);return s?s[1]?e(s[1]):t:!1},HS=n=>n==="position"||n==="percentage",qS=n=>n==="image"||n==="url",$S=n=>n==="length"||n==="size"||n==="bg-size",GS=n=>n==="length",oD=n=>n==="number",lD=n=>n==="family-name",YS=n=>n==="shadow",cD=()=>{const n=Rn("color"),e=Rn("font"),t=Rn("text"),s=Rn("font-weight"),a=Rn("tracking"),o=Rn("leading"),u=Rn("breakpoint"),d=Rn("container"),m=Rn("spacing"),p=Rn("radius"),v=Rn("shadow"),b=Rn("inset-shadow"),_=Rn("text-shadow"),S=Rn("drop-shadow"),C=Rn("blur"),R=Rn("perspective"),N=Rn("aspect"),j=Rn("ease"),U=Rn("animate"),V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],H=()=>[...$(),ke,Ie],Q=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],A=()=>[ke,Ie,m],M=()=>[Vl,"full","auto",...A()],B=()=>[ya,"none","subgrid",ke,Ie],D=()=>["auto",{span:["full",ya,ke,Ie]},ya,ke,Ie],L=()=>[ya,"auto",ke,Ie],P=()=>["auto","min","max","fr",ke,Ie],G=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],se=()=>["start","end","center","stretch","center-safe","end-safe"],q=()=>["auto",...A()],ee=()=>[Vl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],K=()=>[n,ke,Ie],ye=()=>[...$(),iE,sE,{position:[ke,Ie]}],z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ae=()=>["auto","cover","contain",iD,nD,{size:[ke,Ie]}],me=()=>[Dy,Zu,Co],le=()=>["","none","full",p,ke,Ie],be=()=>["",lt,Zu,Co],Be=()=>["solid","dashed","dotted","double"],De=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>[lt,Dy,iE,sE],je=()=>["","none",C,ke,Ie],ht=()=>["none",lt,ke,Ie],We=()=>["none",lt,ke,Ie],Xe=()=>[lt,ke,Ie],Je=()=>[Vl,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[bi],breakpoint:[bi],color:[Wk],container:[bi],"drop-shadow":[bi],ease:["in","out","in-out"],font:[tD],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[bi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[bi],shadow:[bi],spacing:["px",lt],text:[bi],"text-shadow":[bi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Vl,Ie,ke,N]}],container:["container"],columns:[{columns:[lt,Ie,ke,d]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:H()}],overflow:[{overflow:Q()}],"overflow-x":[{"overflow-x":Q()}],"overflow-y":[{"overflow-y":Q()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[ya,"auto",ke,Ie]}],basis:[{basis:[Vl,"full","auto",d,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[lt,Vl,"auto","initial","none",Ie]}],grow:[{grow:["",lt,ke,Ie]}],shrink:[{shrink:["",lt,ke,Ie]}],order:[{order:[ya,"first","last","none",ke,Ie]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...G(),"normal"]}],"justify-items":[{"justify-items":[...se(),"normal"]}],"justify-self":[{"justify-self":["auto",...se()]}],"align-content":[{content:["normal",...G()]}],"align-items":[{items:[...se(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...se(),{baseline:["","last"]}]}],"place-content":[{"place-content":G()}],"place-items":[{"place-items":[...se(),"baseline"]}],"place-self":[{"place-self":["auto",...se()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:q()}],mx:[{mx:q()}],my:[{my:q()}],ms:[{ms:q()}],me:[{me:q()}],mt:[{mt:q()}],mr:[{mr:q()}],mb:[{mb:q()}],ml:[{ml:q()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[d,"screen",...ee()]}],"min-w":[{"min-w":[d,"screen","none",...ee()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",t,Zu,Co]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,ke,Oy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Dy,Ie]}],"font-family":[{font:[sD,Ie,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ke,Ie]}],"line-clamp":[{"line-clamp":[lt,"none",ke,Oy]}],leading:[{leading:[o,...A()]}],"list-image":[{"list-image":["none",ke,Ie]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ke,Ie]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Be(),"wavy"]}],"text-decoration-thickness":[{decoration:[lt,"from-font","auto",ke,Co]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[lt,"auto",ke,Ie]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke,Ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke,Ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ye()}],"bg-repeat":[{bg:z()}],"bg-size":[{bg:ae()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ya,ke,Ie],radial:["",ke,Ie],conic:[ya,ke,Ie]},aD,rD]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:me()}],"gradient-via-pos":[{via:me()}],"gradient-to-pos":[{to:me()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:le()}],"rounded-s":[{"rounded-s":le()}],"rounded-e":[{"rounded-e":le()}],"rounded-t":[{"rounded-t":le()}],"rounded-r":[{"rounded-r":le()}],"rounded-b":[{"rounded-b":le()}],"rounded-l":[{"rounded-l":le()}],"rounded-ss":[{"rounded-ss":le()}],"rounded-se":[{"rounded-se":le()}],"rounded-ee":[{"rounded-ee":le()}],"rounded-es":[{"rounded-es":le()}],"rounded-tl":[{"rounded-tl":le()}],"rounded-tr":[{"rounded-tr":le()}],"rounded-br":[{"rounded-br":le()}],"rounded-bl":[{"rounded-bl":le()}],"border-w":[{border:be()}],"border-w-x":[{"border-x":be()}],"border-w-y":[{"border-y":be()}],"border-w-s":[{"border-s":be()}],"border-w-e":[{"border-e":be()}],"border-w-t":[{"border-t":be()}],"border-w-r":[{"border-r":be()}],"border-w-b":[{"border-b":be()}],"border-w-l":[{"border-l":be()}],"divide-x":[{"divide-x":be()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":be()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Be(),"hidden","none"]}],"divide-style":[{divide:[...Be(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...Be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[lt,ke,Ie]}],"outline-w":[{outline:["",lt,Zu,Co]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",v,Ih,Nh]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",b,Ih,Nh]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:be()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[lt,Co]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":be()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",_,Ih,Nh]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[lt,ke,Ie]}],"mix-blend":[{"mix-blend":[...De(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":De()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[lt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ve()}],"mask-image-linear-to-pos":[{"mask-linear-to":ve()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":ve()}],"mask-image-t-to-pos":[{"mask-t-to":ve()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":ve()}],"mask-image-r-to-pos":[{"mask-r-to":ve()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":ve()}],"mask-image-b-to-pos":[{"mask-b-to":ve()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":ve()}],"mask-image-l-to-pos":[{"mask-l-to":ve()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":ve()}],"mask-image-x-to-pos":[{"mask-x-to":ve()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":ve()}],"mask-image-y-to-pos":[{"mask-y-to":ve()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[ke,Ie]}],"mask-image-radial-from-pos":[{"mask-radial-from":ve()}],"mask-image-radial-to-pos":[{"mask-radial-to":ve()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":$()}],"mask-image-conic-pos":[{"mask-conic":[lt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ve()}],"mask-image-conic-to-pos":[{"mask-conic-to":ve()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ye()}],"mask-repeat":[{mask:z()}],"mask-size":[{mask:ae()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ke,Ie]}],filter:[{filter:["","none",ke,Ie]}],blur:[{blur:je()}],brightness:[{brightness:[lt,ke,Ie]}],contrast:[{contrast:[lt,ke,Ie]}],"drop-shadow":[{"drop-shadow":["","none",S,Ih,Nh]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",lt,ke,Ie]}],"hue-rotate":[{"hue-rotate":[lt,ke,Ie]}],invert:[{invert:["",lt,ke,Ie]}],saturate:[{saturate:[lt,ke,Ie]}],sepia:[{sepia:["",lt,ke,Ie]}],"backdrop-filter":[{"backdrop-filter":["","none",ke,Ie]}],"backdrop-blur":[{"backdrop-blur":je()}],"backdrop-brightness":[{"backdrop-brightness":[lt,ke,Ie]}],"backdrop-contrast":[{"backdrop-contrast":[lt,ke,Ie]}],"backdrop-grayscale":[{"backdrop-grayscale":["",lt,ke,Ie]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[lt,ke,Ie]}],"backdrop-invert":[{"backdrop-invert":["",lt,ke,Ie]}],"backdrop-opacity":[{"backdrop-opacity":[lt,ke,Ie]}],"backdrop-saturate":[{"backdrop-saturate":[lt,ke,Ie]}],"backdrop-sepia":[{"backdrop-sepia":["",lt,ke,Ie]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ke,Ie]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[lt,"initial",ke,Ie]}],ease:[{ease:["linear","initial",j,ke,Ie]}],delay:[{delay:[lt,ke,Ie]}],animate:[{animate:["none",U,ke,Ie]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[R,ke,Ie]}],"perspective-origin":[{"perspective-origin":H()}],rotate:[{rotate:ht()}],"rotate-x":[{"rotate-x":ht()}],"rotate-y":[{"rotate-y":ht()}],"rotate-z":[{"rotate-z":ht()}],scale:[{scale:We()}],"scale-x":[{"scale-x":We()}],"scale-y":[{"scale-y":We()}],"scale-z":[{"scale-z":We()}],"scale-3d":["scale-3d"],skew:[{skew:Xe()}],"skew-x":[{"skew-x":Xe()}],"skew-y":[{"skew-y":Xe()}],transform:[{transform:[ke,Ie,"","none","gpu","cpu"]}],"transform-origin":[{origin:H()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Je()}],"translate-x":[{"translate-x":Je()}],"translate-y":[{"translate-y":Je()}],"translate-z":[{"translate-z":Je()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke,Ie]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke,Ie]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[lt,Zu,Co,Oy]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},uD=qk(cD);function un(...n){return uD(LS(n))}const dD=l0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Ve({className:n,variant:e,size:t,asChild:s=!1,...a}){const o=s?MS:"button";return h.jsx(o,{"data-slot":"button",className:un(dD({variant:e,size:t,className:n})),...a})}function wt({className:n,...e}){return h.jsx("div",{"data-slot":"card",className:un("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...e})}function Nt({className:n,...e}){return h.jsx("div",{"data-slot":"card-header",className:un("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function It({className:n,...e}){return h.jsx("div",{"data-slot":"card-title",className:un("leading-none font-semibold",n),...e})}function cn({className:n,...e}){return h.jsx("div",{"data-slot":"card-description",className:un("text-muted-foreground text-sm",n),...e})}function Et({className:n,...e}){return h.jsx("div",{"data-slot":"card-content",className:un("px-6",n),...e})}const fD=l0("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Ir({className:n,variant:e,asChild:t=!1,...s}){const a=t?MS:"span";return h.jsx(a,{"data-slot":"badge",className:un(fD({variant:e}),n),...s})}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mD=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),aE=n=>{const e=mD(n);return e.charAt(0).toUpperCase()+e.slice(1)},KS=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),pD=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=w.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:u,...d},m)=>w.createElement("svg",{ref:m,...gD,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:KS("lucide",a),...!o&&!pD(d)&&{"aria-hidden":"true"},...d},[...u.map(([p,v])=>w.createElement(p,v)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=(n,e)=>{const t=w.forwardRef(({className:s,...a},o)=>w.createElement(yD,{ref:o,iconNode:e,className:KS(`lucide-${hD(aE(n))}`,`lucide-${n}`,s),...a}));return t.displayName=aE(n),t};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],lm=gt("book-open",vD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],ZS=gt("bot",_D);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],xD=gt("calendar",bD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],ED=gt("chart-pie",wD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],u0=gt("check",TD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],QS=gt("chevron-down",SD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],CD=gt("chevron-up",AD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],cm=gt("circle-alert",RD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Zl=gt("circle-check-big",ND);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],oE=gt("circle-x",ID);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],cv=gt("clock",kD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]],OD=gt("cog",DD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],WS=gt("credit-card",jD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],PD=gt("crown",MD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],sc=gt("dollar-sign",LD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],uv=gt("eye-off",VD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dv=gt("eye",UD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],zD=gt("house",BD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],lE=gt("log-out",FD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],XS=gt("mail",HD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],$D=gt("menu",qD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ic=gt("plus",GD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],KD=gt("refresh-cw",YD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],d0=gt("save",ZD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],WD=gt("send",QD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],JD=gt("smartphone",XD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ac=gt("square-pen",eO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],JS=gt("tag",tO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],rO=gt("target",nO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],oc=gt("trash-2",sO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],aO=gt("trending-down",iO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],e1=gt("upload",oO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],t1=gt("user-plus",lO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],n1=gt("user",cO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],r1=gt("users",uO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lc=gt("x",dO);/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=()=>{};var cE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},hO=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const a=n[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[s++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],u=n[t++],d=n[t++],m=((a&7)<<18|(o&63)<<12|(u&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const o=n[t++],u=n[t++];e[s++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},i1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,d=u?n[a+1]:0,m=a+2<n.length,p=m?n[a+2]:0,v=o>>2,b=(o&3)<<4|d>>4;let _=(d&15)<<2|p>>6,S=p&63;m||(S=64,u||(_=64)),s.push(t[v],t[b],t[_],t[S])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(s1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):hO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const b=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||d==null||p==null||b==null)throw new mO;const _=o<<2|d>>4;if(s.push(_),p!==64){const S=d<<4&240|p>>2;if(s.push(S),b!==64){const C=p<<6&192|b;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class mO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pO=function(n){const e=s1(n);return i1.encodeByteArray(e,!0)},um=function(n){return pO(n).replace(/\./g,"")},a1=function(n){try{return i1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=()=>gO().__FIREBASE_DEFAULTS__,vO=()=>{if(typeof process>"u"||typeof cE>"u")return;const n=cE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},_O=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&a1(n[1]);return e&&JSON.parse(e)},Km=()=>{try{return fO()||yO()||vO()||_O()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},o1=n=>{var e,t;return(t=(e=Km())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},bO=n=>{const e=o1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},l1=()=>{var n;return(n=Km())===null||n===void 0?void 0:n.config},c1=n=>{var e;return(e=Km())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(n){return n.endsWith(".cloudworkstations.dev")}async function u1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[um(JSON.stringify(t)),um(JSON.stringify(u)),""].join(".")}const ad={};function EO(){const n={prod:[],emulator:[]};for(const e of Object.keys(ad))ad[e]?n.emulator.push(e):n.prod.push(e);return n}function TO(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let uE=!1;function d1(n,e){if(typeof window>"u"||typeof document>"u"||!Rc(window.location.host)||ad[n]===e||ad[n]||uE)return;ad[n]=e;function t(_){return`__firebase__banner__${_}`}const s="__firebase__banner",o=EO().prod.length>0;function u(){const _=document.getElementById(s);_&&_.remove()}function d(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function m(_,S){_.setAttribute("width","24"),_.setAttribute("id",S),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function p(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{uE=!0,u()},_}function v(_,S){_.setAttribute("id",S),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function b(){const _=TO(s),S=t("text"),C=document.getElementById(S)||document.createElement("span"),R=t("learnmore"),N=document.getElementById(R)||document.createElement("a"),j=t("preprendIcon"),U=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const V=_.element;d(V),v(N,R);const $=p();m(U,j),V.append(U,C,N,$),document.body.appendChild(V)}o?(C.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(er())}function AO(){var n;const e=(n=Km())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function NO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IO(){const n=er();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function kO(){return!AO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DO(){try{return typeof indexedDB=="object"}catch{return!1}}function OO(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="FirebaseError";class Bi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=jO,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zd.prototype.create)}}class zd{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?MO(o,s):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new Bi(a,d,s)}}function MO(n,e){return n.replace(PO,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const PO=/\{\$([^}]+)}/g;function LO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Oo(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const o=n[a],u=e[a];if(dE(o)&&dE(u)){if(!Oo(o,u))return!1}else if(o!==u)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function dE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Wu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,o]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Xu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function VO(n,e){const t=new UO(n,e);return t.subscribe.bind(t)}class UO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");BO(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=jy),a.error===void 0&&(a.error=jy),a.complete===void 0&&(a.complete=jy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BO(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function jy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(n){return n&&n._delegate?n._delegate:n}class jo{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new xO;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HO(e))try{this.getOrInitializeService({instanceIdentifier:Io})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});s.resolve(o)}catch{}}}}clearInstance(e=Io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Io){return this.instances.has(e)}getOptions(e=Io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[o,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);s===d&&u.resolve(a)}return a}onInit(e,t){var s;const a=this.normalizeInstanceIdentifier(t),o=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:FO(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Io){return this.component?this.component.multipleInstances?e:Io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FO(n){return n===Io?void 0:n}function HO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new zO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(mt||(mt={}));const $O={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},GO=mt.INFO,YO={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},KO=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=YO[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class f0{constructor(e){this.name=e,this._logLevel=GO,this._logHandler=KO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$O[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...e),this._logHandler(this,mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...e),this._logHandler(this,mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...e),this._logHandler(this,mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...e),this._logHandler(this,mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...e),this._logHandler(this,mt.ERROR,...e)}}const ZO=(n,e)=>e.some(t=>n instanceof t);let fE,hE;function QO(){return fE||(fE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WO(){return hE||(hE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f1=new WeakMap,fv=new WeakMap,h1=new WeakMap,My=new WeakMap,h0=new WeakMap;function XO(n){const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Ra(n.result)),a()},u=()=>{s(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&f1.set(t,n)}).catch(()=>{}),h0.set(e,n),e}function JO(n){if(fv.has(n))return;const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),a()},u=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});fv.set(n,e)}let hv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return fv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||h1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ra(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function e3(n){hv=n(hv)}function t3(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Py(this),e,...t);return h1.set(s,e.sort?e.sort():[e]),Ra(s)}:WO().includes(n)?function(...e){return n.apply(Py(this),e),Ra(f1.get(this))}:function(...e){return Ra(n.apply(Py(this),e))}}function n3(n){return typeof n=="function"?t3(n):(n instanceof IDBTransaction&&JO(n),ZO(n,QO())?new Proxy(n,hv):n)}function Ra(n){if(n instanceof IDBRequest)return XO(n);if(My.has(n))return My.get(n);const e=n3(n);return e!==n&&(My.set(n,e),h0.set(e,n)),e}const Py=n=>h0.get(n);function r3(n,e,{blocked:t,upgrade:s,blocking:a,terminated:o}={}){const u=indexedDB.open(n,e),d=Ra(u);return s&&u.addEventListener("upgradeneeded",m=>{s(Ra(u.result),m.oldVersion,m.newVersion,Ra(u.transaction),m)}),t&&u.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{o&&m.addEventListener("close",()=>o()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const s3=["get","getKey","getAll","getAllKeys","count"],i3=["put","add","delete","clear"],Ly=new Map;function mE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ly.get(e))return Ly.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=i3.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||s3.includes(t)))return;const o=async function(u,...d){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),a&&m.done]))[0]};return Ly.set(e,o),o}e3(n=>({...n,get:(e,t,s)=>mE(e,t)||n.get(e,t,s),has:(e,t)=>!!mE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(o3(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function o3(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mv="@firebase/app",pE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new f0("@firebase/app"),l3="@firebase/app-compat",c3="@firebase/analytics-compat",u3="@firebase/analytics",d3="@firebase/app-check-compat",f3="@firebase/app-check",h3="@firebase/auth",m3="@firebase/auth-compat",p3="@firebase/database",g3="@firebase/data-connect",y3="@firebase/database-compat",v3="@firebase/functions",_3="@firebase/functions-compat",b3="@firebase/installations",x3="@firebase/installations-compat",w3="@firebase/messaging",E3="@firebase/messaging-compat",T3="@firebase/performance",S3="@firebase/performance-compat",A3="@firebase/remote-config",C3="@firebase/remote-config-compat",R3="@firebase/storage",N3="@firebase/storage-compat",I3="@firebase/firestore",k3="@firebase/ai",D3="@firebase/firestore-compat",O3="firebase",j3="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="[DEFAULT]",M3={[mv]:"fire-core",[l3]:"fire-core-compat",[u3]:"fire-analytics",[c3]:"fire-analytics-compat",[f3]:"fire-app-check",[d3]:"fire-app-check-compat",[h3]:"fire-auth",[m3]:"fire-auth-compat",[p3]:"fire-rtdb",[g3]:"fire-data-connect",[y3]:"fire-rtdb-compat",[v3]:"fire-fn",[_3]:"fire-fn-compat",[b3]:"fire-iid",[x3]:"fire-iid-compat",[w3]:"fire-fcm",[E3]:"fire-fcm-compat",[T3]:"fire-perf",[S3]:"fire-perf-compat",[A3]:"fire-rc",[C3]:"fire-rc-compat",[R3]:"fire-gcs",[N3]:"fire-gcs-compat",[I3]:"fire-fst",[D3]:"fire-fst-compat",[k3]:"fire-vertex","fire-js":"fire-js",[O3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm=new Map,P3=new Map,gv=new Map;function gE(n,e){try{n.container.addComponent(e)}catch(t){ki.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function cc(n){const e=n.name;if(gv.has(e))return ki.debug(`There were multiple attempts to register component ${e}.`),!1;gv.set(e,n);for(const t of dm.values())gE(t,n);for(const t of P3.values())gE(t,n);return!0}function m0(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Gr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Na=new zd("app","Firebase",L3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new jo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=j3;function m1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:pv,automaticDataCollectionEnabled:!0},e),a=s.name;if(typeof a!="string"||!a)throw Na.create("bad-app-name",{appName:String(a)});if(t||(t=l1()),!t)throw Na.create("no-options");const o=dm.get(a);if(o){if(Oo(t,o.options)&&Oo(s,o.config))return o;throw Na.create("duplicate-app",{appName:a})}const u=new qO(a);for(const m of gv.values())u.addComponent(m);const d=new V3(t,s,u);return dm.set(a,d),d}function p1(n=pv){const e=dm.get(n);if(!e&&n===pv&&l1())return m1();if(!e)throw Na.create("no-app",{appName:n});return e}function Ia(n,e,t){var s;let a=(s=M3[n])!==null&&s!==void 0?s:n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ki.warn(d.join(" "));return}cc(new jo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3="firebase-heartbeat-database",B3=1,md="firebase-heartbeat-store";let Vy=null;function g1(){return Vy||(Vy=r3(U3,B3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(md)}catch(t){console.warn(t)}}}}).catch(n=>{throw Na.create("idb-open",{originalErrorMessage:n.message})})),Vy}async function z3(n){try{const t=(await g1()).transaction(md),s=await t.objectStore(md).get(y1(n));return await t.done,s}catch(e){if(e instanceof Bi)ki.warn(e.message);else{const t=Na.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ki.warn(t.message)}}}async function yE(n,e){try{const s=(await g1()).transaction(md,"readwrite");await s.objectStore(md).put(e,y1(n)),await s.done}catch(t){if(t instanceof Bi)ki.warn(t.message);else{const s=Na.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ki.warn(s.message)}}}function y1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=1024,H3=30;class q3{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new G3(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=vE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>H3){const u=Y3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ki.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=vE(),{heartbeatsToSend:s,unsentEntries:a}=$3(this._heartbeatsCache.heartbeats),o=um(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ki.warn(t),""}}}function vE(){return new Date().toISOString().substring(0,10)}function $3(n,e=F3){const t=[];let s=n.slice();for(const a of n){const o=t.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),_E(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),_E(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class G3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DO()?OO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await z3(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return yE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return yE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function _E(n){return um(JSON.stringify({version:2,heartbeats:n})).length}function Y3(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(n){cc(new jo("platform-logger",e=>new a3(e),"PRIVATE")),cc(new jo("heartbeat",e=>new q3(e),"PRIVATE")),Ia(mv,pE,n),Ia(mv,pE,"esm2017"),Ia("fire-js","")}K3("");var Ns=function(){return Ns=Object.assign||function(e){for(var t,s=1,a=arguments.length;s<a;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ns.apply(this,arguments)};function Hd(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(t[s[a]]=n[s[a]]);return t}function Z3(n,e,t){if(t||arguments.length===2)for(var s=0,a=e.length,o;s<a;s++)(o||!(s in e))&&(o||(o=Array.prototype.slice.call(e,0,s)),o[s]=e[s]);return n.concat(o||Array.prototype.slice.call(e))}function v1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Q3=v1,_1=new zd("auth","Firebase",v1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm=new f0("@firebase/auth");function W3(n,...e){fm.logLevel<=mt.WARN&&fm.warn(`Auth (${Nc}): ${n}`,...e)}function Yh(n,...e){fm.logLevel<=mt.ERROR&&fm.error(`Auth (${Nc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(n,...e){throw p0(n,...e)}function js(n,...e){return p0(n,...e)}function b1(n,e,t){const s=Object.assign(Object.assign({},Q3()),{[e]:t});return new zd("auth","Firebase",s).create(e,{appName:n.name})}function Ai(n){return b1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function p0(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return _1.create(n,...e)}function Ge(n,e,...t){if(!n)throw p0(e,...t)}function Ei(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Yh(e),new Error(e)}function Di(n,e){n||Ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function X3(){return bE()==="http:"||bE()==="https:"}function bE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X3()||RO()||"connection"in navigator)?navigator.onLine:!0}function ej(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Di(t>e,"Short delay should be less than long delay!"),this.isMobile=SO()||NO()}get(){return J3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(n,e){Di(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rj=new qd(3e4,6e4);function Ga(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function zi(n,e,t,s,a={}){return w1(n,a,async()=>{let o={},u={};s&&(e==="GET"?u=s:o={body:JSON.stringify(s)});const d=Fd(Object.assign({key:n.config.apiKey},u)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:m},o);return CO()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Rc(n.emulatorConfig.host)&&(p.credentials="include"),x1.fetch()(await E1(n,n.config.apiHost,t,d),p)})}async function w1(n,e,t){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},tj),e);try{const a=new ij(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw kh(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const d=o.ok?u.errorMessage:u.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw kh(n,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw kh(n,"email-already-in-use",u);if(m==="USER_DISABLED")throw kh(n,"user-disabled",u);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw b1(n,v,p);as(n,v)}}catch(a){if(a instanceof Bi)throw a;as(n,"network-request-failed",{message:String(a)})}}async function $d(n,e,t,s,a={}){const o=await zi(n,e,t,s,a);return"mfaPendingCredential"in o&&as(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function E1(n,e,t,s){const a=`${e}${t}?${s}`,o=n,u=o.config.emulator?g0(n.config,a):`${n.config.apiScheme}://${a}`;return nj.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function sj(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ij{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(js(this.auth,"network-request-failed")),rj.get())})}}function kh(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=js(n,e,s);return a.customData._tokenResponse=t,a}function xE(n){return n!==void 0&&n.enterprise!==void 0}class aj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return sj(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oj(n,e){return zi(n,"GET","/v2/recaptchaConfig",Ga(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lj(n,e){return zi(n,"POST","/v1/accounts:delete",e)}async function hm(n,e){return zi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cj(n,e=!1){const t=dn(n),s=await t.getIdToken(e),a=y0(s);Ge(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:a,token:s,authTime:od(Uy(a.auth_time)),issuedAtTime:od(Uy(a.iat)),expirationTime:od(Uy(a.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Uy(n){return Number(n)*1e3}function y0(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Yh("JWT malformed, contained fewer than 3 sections"),null;try{const a=a1(t);return a?JSON.parse(a):(Yh("Failed to decode base64 JWT payload"),null)}catch(a){return Yh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function wE(n){const e=y0(n);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Bi&&uj(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function uj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=od(this.lastLoginAt),this.creationTime=od(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mm(n){var e;const t=n.auth,s=await n.getIdToken(),a=await uc(n,hm(t,{idToken:s}));Ge(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?T1(o.providerUserInfo):[],d=hj(n.providerData,u),m=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(d!=null&&d.length),v=m?p:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new vv(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(n,b)}async function fj(n){const e=dn(n);await mm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hj(n,e){return[...n.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function T1(n){return n.map(e=>{var{providerId:t}=e,s=Hd(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mj(n,e){const t=await w1(n,{},async()=>{const s=Fd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,u=await E1(n,a,"/v1/token",`key=${o}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return n.emulatorConfig&&Rc(n.emulatorConfig.host)&&(m.credentials="include"),x1.fetch()(u,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function pj(n,e){return zi(n,"POST","/v2/accounts:revokeToken",Ga(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ge(e.length!==0,"internal-error");const t=wE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:o}=await mj(e,t);this.updateTokensAndExpiration(s,a,Number(o))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:o}=t,u=new Ql;return s&&(Ge(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Ge(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(Ge(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ql,this.toJSON())}_performRefresh(){return Ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(n,e){Ge(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ts{constructor(e){var{uid:t,auth:s,stsTokenManager:a}=e,o=Hd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await uc(this,this.stsTokenManager.getToken(this.auth,e));return Ge(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return cj(this,e)}reload(){return fj(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ts(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await mm(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gr(this.auth.app))return Promise.reject(Ai(this.auth));const e=await this.getIdToken();return await uc(this,lj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,a,o,u,d,m,p,v;const b=(s=t.displayName)!==null&&s!==void 0?s:void 0,_=(a=t.email)!==null&&a!==void 0?a:void 0,S=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,C=(u=t.photoURL)!==null&&u!==void 0?u:void 0,R=(d=t.tenantId)!==null&&d!==void 0?d:void 0,N=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,j=(p=t.createdAt)!==null&&p!==void 0?p:void 0,U=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:V,emailVerified:$,isAnonymous:H,providerData:Q,stsTokenManager:I}=t;Ge(V&&I,e,"internal-error");const A=Ql.fromJSON(this.name,I);Ge(typeof V=="string",e,"internal-error"),va(b,e.name),va(_,e.name),Ge(typeof $=="boolean",e,"internal-error"),Ge(typeof H=="boolean",e,"internal-error"),va(S,e.name),va(C,e.name),va(R,e.name),va(N,e.name),va(j,e.name),va(U,e.name);const M=new ts({uid:V,auth:e,email:_,emailVerified:$,displayName:b,isAnonymous:H,photoURL:C,phoneNumber:S,tenantId:R,stsTokenManager:A,createdAt:j,lastLoginAt:U});return Q&&Array.isArray(Q)&&(M.providerData=Q.map(B=>Object.assign({},B))),N&&(M._redirectEventId=N),M}static async _fromIdTokenResponse(e,t,s=!1){const a=new Ql;a.updateFromServerResponse(t);const o=new ts({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await mm(o),o}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];Ge(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?T1(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),d=new Ql;d.updateFromIdToken(s);const m=new ts({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new vv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;function Ti(n){Di(n instanceof Function,"Expected a class definition");let e=EE.get(n);return e?(Di(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,EE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}S1.type="NONE";const TE=S1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(n,e,t){return`firebase:${n}:${e}:${t}`}class Wl{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:o}=this.auth;this.fullUserKey=Kh(this.userKey,a.apiKey,o),this.fullPersistenceKey=Kh("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await hm(this.auth,{idToken:e}).catch(()=>{});return t?ts._fromGetAccountInfoResponse(this.auth,t,e):null}return ts._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Wl(Ti(TE),e,s);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=a[0]||Ti(TE);const u=Kh(s,e.config.apiKey,e.name);let d=null;for(const p of t)try{const v=await p._get(u);if(v){let b;if(typeof v=="string"){const _=await hm(e,{idToken:v}).catch(()=>{});if(!_)break;b=await ts._fromGetAccountInfoResponse(e,_,v)}else b=ts._fromJSON(e,v);p!==o&&(d=b),o=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!m.length?new Wl(o,e,s):(o=m[0],d&&await o._set(u,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(u)}catch{}})),new Wl(o,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(N1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(A1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k1(e))return"Blackberry";if(D1(e))return"Webos";if(C1(e))return"Safari";if((e.includes("chrome/")||R1(e))&&!e.includes("edge/"))return"Chrome";if(I1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function A1(n=er()){return/firefox\//i.test(n)}function C1(n=er()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function R1(n=er()){return/crios\//i.test(n)}function N1(n=er()){return/iemobile/i.test(n)}function I1(n=er()){return/android/i.test(n)}function k1(n=er()){return/blackberry/i.test(n)}function D1(n=er()){return/webos/i.test(n)}function v0(n=er()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function gj(n=er()){var e;return v0(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yj(){return IO()&&document.documentMode===10}function O1(n=er()){return v0(n)||I1(n)||D1(n)||k1(n)||/windows phone/i.test(n)||N1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(n,e=[]){let t;switch(n){case"Browser":t=SE(er());break;case"Worker":t=`${SE(er())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Nc}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=o=>new Promise((u,d)=>{try{const m=e(o);u(m)}catch(m){d(m)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _j(n,e={}){return zi(n,"GET","/v2/passwordPolicy",Ga(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=6;class xj{constructor(e){var t,s,a,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:bj,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,a,o,u,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(o=m.containsUppercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsNumericCharacter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AE(this),this.idTokenSubscription=new AE(this),this.beforeStateQueue=new vj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ti(t)),this._initializationPromise=this.queue(async()=>{var s,a,o;if(!this._deleted&&(this.persistenceManager=await Wl.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await hm(this,{idToken:e}),s=await ts._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Gr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===d)&&(m!=null&&m.user)&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await mm(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ej()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gr(this.app))return Promise.reject(Ai(this));const t=e?dn(e):null;return t&&Ge(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gr(this.app)?Promise.reject(Ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gr(this.app)?Promise.reject(Ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _j(this),t=new xj(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zd("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await pj(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ti(e)||this._popupRedirectResolver;Ge(t,this,"argument-error"),this.redirectPersistenceManager=await Wl.create(this,[Ti(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(d,this,"internal-error"),d.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,a);return()=>{u=!0,m()}}else{const m=e.addObserver(t);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=j1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Gr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&W3(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Go(n){return dn(n)}class AE{constructor(e){this.auth=e,this.observer=null,this.addObserver=VO(t=>this.observer=t)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ej(n){Zm=n}function M1(n){return Zm.loadJS(n)}function Tj(){return Zm.recaptchaEnterpriseScript}function Sj(){return Zm.gapiScript}function Aj(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Cj{constructor(){this.enterprise=new Rj}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Rj{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Nj="recaptcha-enterprise",P1="NO_RECAPTCHA";class Ij{constructor(e){this.type=Nj,this.auth=Go(e)}async verify(e="verify",t=!1){async function s(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,d)=>{oj(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new aj(m);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,u(p.siteKey)}}).catch(m=>{d(m)})})}function a(o,u,d){const m=window.grecaptcha;xE(m)?m.enterprise.ready(()=>{m.enterprise.execute(o,{action:e}).then(p=>{u(p)}).catch(()=>{u(P1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Cj().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{s(this.auth).then(d=>{if(!t&&xE(window.grecaptcha))a(d,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=Tj();m.length!==0&&(m+=d),M1(m).then(()=>{a(d,o,u)}).catch(p=>{u(p)})}}).catch(d=>{u(d)})})}}async function CE(n,e,t,s=!1,a=!1){const o=new Ij(n);let u;if(a)u=P1;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function _v(n,e,t,s,a){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await CE(n,e,t,t==="getOobCode");return s(n,u)}else return s(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await CE(n,e,t,t==="getOobCode");return s(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(n,e){const t=m0(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Oo(o,e??{}))return a;as(a,"already-initialized")}return t.initialize({options:e})}function Dj(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Ti);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Oj(n,e,t){const s=Go(n);Ge(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,o=L1(e),{host:u,port:d}=jj(e),m=d===null?"":`:${d}`,p={url:`${o}//${u}${m}/`},v=Object.freeze({host:u,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ge(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ge(Oo(p,s.config.emulator)&&Oo(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Rc(u)?(u1(`${o}//${u}${m}`),d1("Auth",!0)):Mj()}function L1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function jj(n){const e=L1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const o=a[1];return{host:o,port:RE(s.substr(o.length+1))}}else{const[o,u]=s.split(":");return{host:o,port:RE(u)}}}function RE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Mj(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ei("not implemented")}_getIdTokenResponse(e){return Ei("not implemented")}_linkToIdToken(e,t){return Ei("not implemented")}_getReauthenticationResolver(e){return Ei("not implemented")}}async function Pj(n,e){return zi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lj(n,e){return $d(n,"POST","/v1/accounts:signInWithPassword",Ga(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vj(n,e){return $d(n,"POST","/v1/accounts:signInWithEmailLink",Ga(n,e))}async function Uj(n,e){return $d(n,"POST","/v1/accounts:signInWithEmailLink",Ga(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd extends _0{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new pd(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new pd(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _v(e,t,"signInWithPassword",Lj);case"emailLink":return Vj(e,{email:this._email,oobCode:this._password});default:as(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _v(e,s,"signUpPassword",Pj);case"emailLink":return Uj(e,{idToken:t,email:this._email,oobCode:this._password});default:as(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(n,e){return $d(n,"POST","/v1/accounts:signInWithIdp",Ga(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj="http://localhost";class Mo extends _0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):as("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=t,o=Hd(t,["providerId","signInMethod"]);if(!s||!a)return null;const u=new Mo(s,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Xl(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Xl(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xl(e,t)}buildRequest(){const e={requestUri:Bj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Fd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Fj(n){const e=Wu(Xu(n)).link,t=e?Wu(Xu(e)).deep_link_id:null,s=Wu(Xu(n)).deep_link_id;return(s?Wu(Xu(s)).link:null)||s||t||e||n}class b0{constructor(e){var t,s,a,o,u,d;const m=Wu(Xu(e)),p=(t=m.apiKey)!==null&&t!==void 0?t:null,v=(s=m.oobCode)!==null&&s!==void 0?s:null,b=zj((a=m.mode)!==null&&a!==void 0?a:null);Ge(p&&v&&b,"argument-error"),this.apiKey=p,this.operation=b,this.code=v,this.continueUrl=(o=m.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=m.lang)!==null&&u!==void 0?u:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=Fj(e);try{return new b0(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(){this.providerId=Ic.PROVIDER_ID}static credential(e,t){return pd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=b0.parseLink(t);return Ge(s,"argument-error"),pd._fromEmailAndCode(e,s.code,s.tenantId)}}Ic.PROVIDER_ID="password";Ic.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ic.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd extends V1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends Gd{constructor(){super("facebook.com")}static credential(e){return Mo._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wa.credential(e.oauthAccessToken)}catch{return null}}}wa.FACEBOOK_SIGN_IN_METHOD="facebook.com";wa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends Gd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Mo._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ea.credentialFromTaggedObject(e)}static credentialFromError(e){return Ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Ea.credential(t,s)}catch{return null}}}Ea.GOOGLE_SIGN_IN_METHOD="google.com";Ea.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends Gd{constructor(){super("github.com")}static credential(e){return Mo._fromParams({providerId:Ta.PROVIDER_ID,signInMethod:Ta.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ta.credentialFromTaggedObject(e)}static credentialFromError(e){return Ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ta.credential(e.oauthAccessToken)}catch{return null}}}Ta.GITHUB_SIGN_IN_METHOD="github.com";Ta.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends Gd{constructor(){super("twitter.com")}static credential(e,t){return Mo._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Sa.credential(t,s)}catch{return null}}}Sa.TWITTER_SIGN_IN_METHOD="twitter.com";Sa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hj(n,e){return $d(n,"POST","/v1/accounts:signUp",Ga(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const o=await ts._fromIdTokenResponse(e,s,a),u=NE(s);return new Po({user:o,providerId:u,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=NE(s);return new Po({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function NE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm extends Bi{constructor(e,t,s,a){var o;super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,pm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new pm(e,t,s,a)}}function U1(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?pm._fromErrorAndOperation(n,o,e,s):o})}async function qj(n,e,t=!1){const s=await uc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Po._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $j(n,e,t=!1){const{auth:s}=n;if(Gr(s.app))return Promise.reject(Ai(s));const a="reauthenticate";try{const o=await uc(n,U1(s,a,e,n),t);Ge(o.idToken,s,"internal-error");const u=y0(o.idToken);Ge(u,s,"internal-error");const{sub:d}=u;return Ge(n.uid===d,s,"user-mismatch"),Po._forOperation(n,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&as(s,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B1(n,e,t=!1){if(Gr(n.app))return Promise.reject(Ai(n));const s="signIn",a=await U1(n,s,e),o=await Po._fromIdTokenResponse(n,s,a);return t||await n._updateCurrentUser(o.user),o}async function Gj(n,e){return B1(Go(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z1(n){const e=Go(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Yj(n,e,t){if(Gr(n.app))return Promise.reject(Ai(n));const s=Go(n),u=await _v(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Hj).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&z1(n),m}),d=await Po._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(d.user),d}function Kj(n,e,t){return Gr(n.app)?Promise.reject(Ai(n)):Gj(dn(n),Ic.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&z1(n),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zj(n,e){return zi(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F1(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=dn(n),o={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await uc(s,Zj(s.auth,o));s.displayName=u.displayName||null,s.photoURL=u.photoUrl||null;const d=s.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=s.displayName,d.photoURL=s.photoURL),await s._updateTokensIfNecessary(u)}function Qj(n,e,t,s){return dn(n).onIdTokenChanged(e,t,s)}function Wj(n,e,t){return dn(n).beforeAuthStateChanged(e,t)}function Xj(n,e,t,s){return dn(n).onAuthStateChanged(e,t,s)}function Jj(n){return dn(n).signOut()}const gm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gm,"1"),this.storage.removeItem(gm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=1e3,t4=10;class q1 extends H1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=O1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,m)=>{this.notifyListeners(u,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!t&&this.localCache[s]===u||this.notifyListeners(s,u)},o=this.storage.getItem(s);yj()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,t4):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},e4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}q1.type="LOCAL";const n4=q1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1 extends H1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}$1.type="SESSION";const G1=$1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new Qm(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:o}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(u).map(async p=>p(t.origin,o)),m=await r4(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((d,m)=>{const p=x0("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(b){const _=b;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(_.data.response);break;default:clearTimeout(v),clearTimeout(o),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(){return window}function i4(n){Ms().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(){return typeof Ms().WorkerGlobalScope<"u"&&typeof Ms().importScripts=="function"}async function a4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function o4(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function l4(){return Y1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="firebaseLocalStorageDb",c4=1,ym="firebaseLocalStorage",Z1="fbase_key";class Yd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Wm(n,e){return n.transaction([ym],e?"readwrite":"readonly").objectStore(ym)}function u4(){const n=indexedDB.deleteDatabase(K1);return new Yd(n).toPromise()}function bv(){const n=indexedDB.open(K1,c4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(ym,{keyPath:Z1})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(ym)?e(s):(s.close(),await u4(),e(await bv()))})})}async function IE(n,e,t){const s=Wm(n,!0).put({[Z1]:e,value:t});return new Yd(s).toPromise()}async function d4(n,e){const t=Wm(n,!1).get(e),s=await new Yd(t).toPromise();return s===void 0?null:s.value}function kE(n,e){const t=Wm(n,!0).delete(e);return new Yd(t).toPromise()}const f4=800,h4=3;class Q1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>h4)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Y1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qm._getInstance(l4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await a4(),!this.activeServiceWorker)return;this.sender=new s4(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||o4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bv();return await IE(e,gm,"1"),await kE(e,gm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>IE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>d4(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>kE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Wm(a,!1).getAll();return new Yd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),f4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Q1.type="LOCAL";const m4=Q1;new qd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(n,e){return e?Ti(e):(Ge(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0 extends _0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function g4(n){return B1(n.auth,new w0(n),n.bypassAuthState)}function y4(n){const{auth:e,user:t}=n;return Ge(t,e,"internal-error"),$j(t,new w0(n),n.bypassAuthState)}async function v4(n){const{auth:e,user:t}=n;return Ge(t,e,"internal-error"),qj(t,new w0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,t,s,a,o=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:o,error:u,type:d}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return g4;case"linkViaPopup":case"linkViaRedirect":return v4;case"reauthViaPopup":case"reauthViaRedirect":return y4;default:as(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=new qd(2e3,1e4);class Yl extends W1{constructor(e,t,s,a,o){super(e,t,a,o),this.provider=s,this.authWindow=null,this.pollId=null,Yl.currentPopupAction&&Yl.currentPopupAction.cancel(),Yl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ge(e,this.auth,"internal-error"),e}async onExecution(){Di(this.filter.length===1,"Popup operations only handle one event");const e=x0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(js(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(js(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(js(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_4.get())};e()}}Yl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="pendingRedirect",Zh=new Map;class x4 extends W1{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Zh.get(this.auth._key());if(!e){try{const s=await w4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Zh.set(this.auth._key(),e)}return this.bypassAuthState||Zh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function w4(n,e){const t=S4(e),s=T4(n);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function E4(n,e){Zh.set(n._key(),e)}function T4(n){return Ti(n._redirectPersistence)}function S4(n){return Kh(b4,n.config.apiKey,n.name)}async function A4(n,e,t=!1){if(Gr(n.app))return Promise.reject(Ai(n));const s=Go(n),a=p4(s,e),u=await new x4(s,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=10*60*1e3;class R4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!N4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!X1(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(js(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=C4&&this.cachedEventUids.clear(),this.cachedEventUids.has(DE(e))}saveEventToCache(e){this.cachedEventUids.add(DE(e)),this.lastProcessedEventTime=Date.now()}}function DE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function X1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function N4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4(n,e={}){return zi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,D4=/^https?/;async function O4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await I4(n);for(const t of e)try{if(j4(t))return}catch{}as(n,"unauthorized-domain")}function j4(n){const e=yv(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===s}if(!D4.test(t))return!1;if(k4.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=new qd(3e4,6e4);function OE(){const n=Ms().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function P4(n){return new Promise((e,t)=>{var s,a,o;function u(){OE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OE(),t(js(n,"network-request-failed"))},timeout:M4.get()})}if(!((a=(s=Ms().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=Ms().gapi)===null||o===void 0)&&o.load)u();else{const d=Aj("iframefcb");return Ms()[d]=()=>{gapi.load?u():t(js(n,"network-request-failed"))},M1(`${Sj()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw Qh=null,e})}let Qh=null;function L4(n){return Qh=Qh||P4(n),Qh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=new qd(5e3,15e3),U4="__/auth/iframe",B4="emulator/auth/iframe",z4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},F4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function H4(n){const e=n.config;Ge(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?g0(e,B4):`https://${n.config.authDomain}/${U4}`,s={apiKey:e.apiKey,appName:n.name,v:Nc},a=F4.get(n.config.apiHost);a&&(s.eid=a);const o=n._getFrameworks();return o.length&&(s.fw=o.join(",")),`${t}?${Fd(s).slice(1)}`}async function q4(n){const e=await L4(n),t=Ms().gapi;return Ge(t,n,"internal-error"),e.open({where:document.body,url:H4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:z4,dontclear:!0},s=>new Promise(async(a,o)=>{await s.restyle({setHideOnLeave:!1});const u=js(n,"network-request-failed"),d=Ms().setTimeout(()=>{o(u)},V4.get());function m(){Ms().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},G4=500,Y4=600,K4="_blank",Z4="http://localhost";class jE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Q4(n,e,t,s=G4,a=Y4){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m=Object.assign(Object.assign({},$4),{width:s.toString(),height:a.toString(),top:o,left:u}),p=er().toLowerCase();t&&(d=R1(p)?K4:t),A1(p)&&(e=e||Z4,m.scrollbars="yes");const v=Object.entries(m).reduce((_,[S,C])=>`${_}${S}=${C},`,"");if(gj(p)&&d!=="_self")return W4(e||"",d),new jE(null);const b=window.open(e||"",d,v);Ge(b,n,"popup-blocked");try{b.focus()}catch{}return new jE(b)}function W4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="__/auth/handler",J4="emulator/auth/handler",eM=encodeURIComponent("fac");async function ME(n,e,t,s,a,o){Ge(n.config.authDomain,n,"auth-domain-config-required"),Ge(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Nc,eventId:a};if(e instanceof V1){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",LO(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))u[v]=b}if(e instanceof Gd){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await n._getAppCheckToken(),p=m?`#${eM}=${encodeURIComponent(m)}`:"";return`${tM(n)}?${Fd(d).slice(1)}${p}`}function tM({config:n}){return n.emulator?g0(n,J4):`https://${n.authDomain}/${X4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="webStorageSupport";class nM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=G1,this._completeRedirectFn=A4,this._overrideRedirectResult=E4}async _openPopup(e,t,s,a){var o;Di((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await ME(e,t,s,yv(),a);return Q4(e,u,x0())}async _openRedirect(e,t,s,a){await this._originValidation(e);const o=await ME(e,t,s,yv(),a);return i4(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Di(o,"If manager is not set, promise should be"),o)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await q4(e),s=new R4(e);return t.register("authEvent",a=>(Ge(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(By,{type:By},a=>{var o;const u=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[By];u!==void 0&&t(!!u),as(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=O4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return O1()||C1()||v0()}}const rM=nM;var PE="@firebase/auth",LE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aM(n){cc(new jo("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=s.options;Ge(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j1(n)},p=new wj(s,a,o,m);return Dj(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),cc(new jo("auth-internal",e=>{const t=Go(e.getProvider("auth").getImmediate());return(s=>new sM(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ia(PE,LE,iM(n)),Ia(PE,LE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=5*60,lM=c1("authIdTokenMaxAge")||oM;let VE=null;const cM=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>lM)return;const a=t==null?void 0:t.token;VE!==a&&(VE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function uM(n=p1()){const e=m0(n,"auth");if(e.isInitialized())return e.getImmediate();const t=kj(n,{popupRedirectResolver:rM,persistence:[m4,n4,G1]}),s=c1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(s,location.origin);if(location.origin===o.origin){const u=cM(o.toString());Wj(t,u,()=>u(t.currentUser)),Qj(t,d=>u(d))}}const a=o1("auth");return a&&Oj(t,`http://${a}`),t}function dM(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Ej({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=a=>{const o=js("internal-error");o.customData=a,t(o)},s.type="text/javascript",s.charset="UTF-8",dM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aM("Browser");var UE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ka,J1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,A){function M(){}M.prototype=A.prototype,I.D=A.prototype,I.prototype=new M,I.prototype.constructor=I,I.C=function(B,D,L){for(var P=Array(arguments.length-2),G=2;G<arguments.length;G++)P[G-2]=arguments[G];return A.prototype[D].apply(B,P)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,A,M){M||(M=0);var B=Array(16);if(typeof A=="string")for(var D=0;16>D;++D)B[D]=A.charCodeAt(M++)|A.charCodeAt(M++)<<8|A.charCodeAt(M++)<<16|A.charCodeAt(M++)<<24;else for(D=0;16>D;++D)B[D]=A[M++]|A[M++]<<8|A[M++]<<16|A[M++]<<24;A=I.g[0],M=I.g[1],D=I.g[2];var L=I.g[3],P=A+(L^M&(D^L))+B[0]+3614090360&4294967295;A=M+(P<<7&4294967295|P>>>25),P=L+(D^A&(M^D))+B[1]+3905402710&4294967295,L=A+(P<<12&4294967295|P>>>20),P=D+(M^L&(A^M))+B[2]+606105819&4294967295,D=L+(P<<17&4294967295|P>>>15),P=M+(A^D&(L^A))+B[3]+3250441966&4294967295,M=D+(P<<22&4294967295|P>>>10),P=A+(L^M&(D^L))+B[4]+4118548399&4294967295,A=M+(P<<7&4294967295|P>>>25),P=L+(D^A&(M^D))+B[5]+1200080426&4294967295,L=A+(P<<12&4294967295|P>>>20),P=D+(M^L&(A^M))+B[6]+2821735955&4294967295,D=L+(P<<17&4294967295|P>>>15),P=M+(A^D&(L^A))+B[7]+4249261313&4294967295,M=D+(P<<22&4294967295|P>>>10),P=A+(L^M&(D^L))+B[8]+1770035416&4294967295,A=M+(P<<7&4294967295|P>>>25),P=L+(D^A&(M^D))+B[9]+2336552879&4294967295,L=A+(P<<12&4294967295|P>>>20),P=D+(M^L&(A^M))+B[10]+4294925233&4294967295,D=L+(P<<17&4294967295|P>>>15),P=M+(A^D&(L^A))+B[11]+2304563134&4294967295,M=D+(P<<22&4294967295|P>>>10),P=A+(L^M&(D^L))+B[12]+1804603682&4294967295,A=M+(P<<7&4294967295|P>>>25),P=L+(D^A&(M^D))+B[13]+4254626195&4294967295,L=A+(P<<12&4294967295|P>>>20),P=D+(M^L&(A^M))+B[14]+2792965006&4294967295,D=L+(P<<17&4294967295|P>>>15),P=M+(A^D&(L^A))+B[15]+1236535329&4294967295,M=D+(P<<22&4294967295|P>>>10),P=A+(D^L&(M^D))+B[1]+4129170786&4294967295,A=M+(P<<5&4294967295|P>>>27),P=L+(M^D&(A^M))+B[6]+3225465664&4294967295,L=A+(P<<9&4294967295|P>>>23),P=D+(A^M&(L^A))+B[11]+643717713&4294967295,D=L+(P<<14&4294967295|P>>>18),P=M+(L^A&(D^L))+B[0]+3921069994&4294967295,M=D+(P<<20&4294967295|P>>>12),P=A+(D^L&(M^D))+B[5]+3593408605&4294967295,A=M+(P<<5&4294967295|P>>>27),P=L+(M^D&(A^M))+B[10]+38016083&4294967295,L=A+(P<<9&4294967295|P>>>23),P=D+(A^M&(L^A))+B[15]+3634488961&4294967295,D=L+(P<<14&4294967295|P>>>18),P=M+(L^A&(D^L))+B[4]+3889429448&4294967295,M=D+(P<<20&4294967295|P>>>12),P=A+(D^L&(M^D))+B[9]+568446438&4294967295,A=M+(P<<5&4294967295|P>>>27),P=L+(M^D&(A^M))+B[14]+3275163606&4294967295,L=A+(P<<9&4294967295|P>>>23),P=D+(A^M&(L^A))+B[3]+4107603335&4294967295,D=L+(P<<14&4294967295|P>>>18),P=M+(L^A&(D^L))+B[8]+1163531501&4294967295,M=D+(P<<20&4294967295|P>>>12),P=A+(D^L&(M^D))+B[13]+2850285829&4294967295,A=M+(P<<5&4294967295|P>>>27),P=L+(M^D&(A^M))+B[2]+4243563512&4294967295,L=A+(P<<9&4294967295|P>>>23),P=D+(A^M&(L^A))+B[7]+1735328473&4294967295,D=L+(P<<14&4294967295|P>>>18),P=M+(L^A&(D^L))+B[12]+2368359562&4294967295,M=D+(P<<20&4294967295|P>>>12),P=A+(M^D^L)+B[5]+4294588738&4294967295,A=M+(P<<4&4294967295|P>>>28),P=L+(A^M^D)+B[8]+2272392833&4294967295,L=A+(P<<11&4294967295|P>>>21),P=D+(L^A^M)+B[11]+1839030562&4294967295,D=L+(P<<16&4294967295|P>>>16),P=M+(D^L^A)+B[14]+4259657740&4294967295,M=D+(P<<23&4294967295|P>>>9),P=A+(M^D^L)+B[1]+2763975236&4294967295,A=M+(P<<4&4294967295|P>>>28),P=L+(A^M^D)+B[4]+1272893353&4294967295,L=A+(P<<11&4294967295|P>>>21),P=D+(L^A^M)+B[7]+4139469664&4294967295,D=L+(P<<16&4294967295|P>>>16),P=M+(D^L^A)+B[10]+3200236656&4294967295,M=D+(P<<23&4294967295|P>>>9),P=A+(M^D^L)+B[13]+681279174&4294967295,A=M+(P<<4&4294967295|P>>>28),P=L+(A^M^D)+B[0]+3936430074&4294967295,L=A+(P<<11&4294967295|P>>>21),P=D+(L^A^M)+B[3]+3572445317&4294967295,D=L+(P<<16&4294967295|P>>>16),P=M+(D^L^A)+B[6]+76029189&4294967295,M=D+(P<<23&4294967295|P>>>9),P=A+(M^D^L)+B[9]+3654602809&4294967295,A=M+(P<<4&4294967295|P>>>28),P=L+(A^M^D)+B[12]+3873151461&4294967295,L=A+(P<<11&4294967295|P>>>21),P=D+(L^A^M)+B[15]+530742520&4294967295,D=L+(P<<16&4294967295|P>>>16),P=M+(D^L^A)+B[2]+3299628645&4294967295,M=D+(P<<23&4294967295|P>>>9),P=A+(D^(M|~L))+B[0]+4096336452&4294967295,A=M+(P<<6&4294967295|P>>>26),P=L+(M^(A|~D))+B[7]+1126891415&4294967295,L=A+(P<<10&4294967295|P>>>22),P=D+(A^(L|~M))+B[14]+2878612391&4294967295,D=L+(P<<15&4294967295|P>>>17),P=M+(L^(D|~A))+B[5]+4237533241&4294967295,M=D+(P<<21&4294967295|P>>>11),P=A+(D^(M|~L))+B[12]+1700485571&4294967295,A=M+(P<<6&4294967295|P>>>26),P=L+(M^(A|~D))+B[3]+2399980690&4294967295,L=A+(P<<10&4294967295|P>>>22),P=D+(A^(L|~M))+B[10]+4293915773&4294967295,D=L+(P<<15&4294967295|P>>>17),P=M+(L^(D|~A))+B[1]+2240044497&4294967295,M=D+(P<<21&4294967295|P>>>11),P=A+(D^(M|~L))+B[8]+1873313359&4294967295,A=M+(P<<6&4294967295|P>>>26),P=L+(M^(A|~D))+B[15]+4264355552&4294967295,L=A+(P<<10&4294967295|P>>>22),P=D+(A^(L|~M))+B[6]+2734768916&4294967295,D=L+(P<<15&4294967295|P>>>17),P=M+(L^(D|~A))+B[13]+1309151649&4294967295,M=D+(P<<21&4294967295|P>>>11),P=A+(D^(M|~L))+B[4]+4149444226&4294967295,A=M+(P<<6&4294967295|P>>>26),P=L+(M^(A|~D))+B[11]+3174756917&4294967295,L=A+(P<<10&4294967295|P>>>22),P=D+(A^(L|~M))+B[2]+718787259&4294967295,D=L+(P<<15&4294967295|P>>>17),P=M+(L^(D|~A))+B[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(D+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+L&4294967295}s.prototype.u=function(I,A){A===void 0&&(A=I.length);for(var M=A-this.blockSize,B=this.B,D=this.h,L=0;L<A;){if(D==0)for(;L<=M;)a(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<A;)if(B[D++]=I.charCodeAt(L++),D==this.blockSize){a(this,B),D=0;break}}else for(;L<A;)if(B[D++]=I[L++],D==this.blockSize){a(this,B),D=0;break}}this.h=D,this.o+=A},s.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;var M=8*this.o;for(A=I.length-8;A<I.length;++A)I[A]=M&255,M/=256;for(this.u(I),I=Array(16),A=M=0;4>A;++A)for(var B=0;32>B;B+=8)I[M++]=this.g[A]>>>B&255;return I};function o(I,A){var M=d;return Object.prototype.hasOwnProperty.call(M,I)?M[I]:M[I]=A(I)}function u(I,A){this.h=A;for(var M=[],B=!0,D=I.length-1;0<=D;D--){var L=I[D]|0;B&&L==A||(M[D]=L,B=!1)}this.g=M}var d={};function m(I){return-128<=I&&128>I?o(I,function(A){return new u([A|0],0>A?-1:0)}):new u([I|0],0>I?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return b;if(0>I)return N(p(-I));for(var A=[],M=1,B=0;I>=M;B++)A[B]=I/M|0,M*=4294967296;return new u(A,0)}function v(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return N(v(I.substring(1),A));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=p(Math.pow(A,8)),B=b,D=0;D<I.length;D+=8){var L=Math.min(8,I.length-D),P=parseInt(I.substring(D,D+L),A);8>L?(L=p(Math.pow(A,L)),B=B.j(L).add(p(P))):(B=B.j(M),B=B.add(p(P)))}return B}var b=m(0),_=m(1),S=m(16777216);n=u.prototype,n.m=function(){if(R(this))return-N(this).m();for(var I=0,A=1,M=0;M<this.g.length;M++){var B=this.i(M);I+=(0<=B?B:4294967296+B)*A,A*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C(this))return"0";if(R(this))return"-"+N(this).toString(I);for(var A=p(Math.pow(I,6)),M=this,B="";;){var D=$(M,A).g;M=j(M,D.j(A));var L=((0<M.g.length?M.g[0]:M.h)>>>0).toString(I);if(M=D,C(M))return L+B;for(;6>L.length;)L="0"+L;B=L+B}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function C(I){if(I.h!=0)return!1;for(var A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function R(I){return I.h==-1}n.l=function(I){return I=j(this,I),R(I)?-1:C(I)?0:1};function N(I){for(var A=I.g.length,M=[],B=0;B<A;B++)M[B]=~I.g[B];return new u(M,~I.h).add(_)}n.abs=function(){return R(this)?N(this):this},n.add=function(I){for(var A=Math.max(this.g.length,I.g.length),M=[],B=0,D=0;D<=A;D++){var L=B+(this.i(D)&65535)+(I.i(D)&65535),P=(L>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);B=P>>>16,L&=65535,P&=65535,M[D]=P<<16|L}return new u(M,M[M.length-1]&-2147483648?-1:0)};function j(I,A){return I.add(N(A))}n.j=function(I){if(C(this)||C(I))return b;if(R(this))return R(I)?N(this).j(N(I)):N(N(this).j(I));if(R(I))return N(this.j(N(I)));if(0>this.l(S)&&0>I.l(S))return p(this.m()*I.m());for(var A=this.g.length+I.g.length,M=[],B=0;B<2*A;B++)M[B]=0;for(B=0;B<this.g.length;B++)for(var D=0;D<I.g.length;D++){var L=this.i(B)>>>16,P=this.i(B)&65535,G=I.i(D)>>>16,se=I.i(D)&65535;M[2*B+2*D]+=P*se,U(M,2*B+2*D),M[2*B+2*D+1]+=L*se,U(M,2*B+2*D+1),M[2*B+2*D+1]+=P*G,U(M,2*B+2*D+1),M[2*B+2*D+2]+=L*G,U(M,2*B+2*D+2)}for(B=0;B<A;B++)M[B]=M[2*B+1]<<16|M[2*B];for(B=A;B<2*A;B++)M[B]=0;return new u(M,0)};function U(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function V(I,A){this.g=I,this.h=A}function $(I,A){if(C(A))throw Error("division by zero");if(C(I))return new V(b,b);if(R(I))return A=$(N(I),A),new V(N(A.g),N(A.h));if(R(A))return A=$(I,N(A)),new V(N(A.g),A.h);if(30<I.g.length){if(R(I)||R(A))throw Error("slowDivide_ only works with positive integers.");for(var M=_,B=A;0>=B.l(I);)M=H(M),B=H(B);var D=Q(M,1),L=Q(B,1);for(B=Q(B,2),M=Q(M,2);!C(B);){var P=L.add(B);0>=P.l(I)&&(D=D.add(M),L=P),B=Q(B,1),M=Q(M,1)}return A=j(I,D.j(A)),new V(D,A)}for(D=b;0<=I.l(A);){for(M=Math.max(1,Math.floor(I.m()/A.m())),B=Math.ceil(Math.log(M)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),L=p(M),P=L.j(A);R(P)||0<P.l(I);)M-=B,L=p(M),P=L.j(A);C(L)&&(L=_),D=D.add(L),I=j(I,P)}return new V(D,I)}n.A=function(I){return $(this,I).h},n.and=function(I){for(var A=Math.max(this.g.length,I.g.length),M=[],B=0;B<A;B++)M[B]=this.i(B)&I.i(B);return new u(M,this.h&I.h)},n.or=function(I){for(var A=Math.max(this.g.length,I.g.length),M=[],B=0;B<A;B++)M[B]=this.i(B)|I.i(B);return new u(M,this.h|I.h)},n.xor=function(I){for(var A=Math.max(this.g.length,I.g.length),M=[],B=0;B<A;B++)M[B]=this.i(B)^I.i(B);return new u(M,this.h^I.h)};function H(I){for(var A=I.g.length+1,M=[],B=0;B<A;B++)M[B]=I.i(B)<<1|I.i(B-1)>>>31;return new u(M,I.h)}function Q(I,A){var M=A>>5;A%=32;for(var B=I.g.length-M,D=[],L=0;L<B;L++)D[L]=0<A?I.i(L+M)>>>A|I.i(L+M+1)<<32-A:I.i(L+M);return new u(D,I.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,J1=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,ka=u}).apply(typeof UE<"u"?UE:typeof self<"u"?self:typeof window<"u"?window:{});var Dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eA,Ju,tA,Wh,xv,nA,rA,sA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,x,E){return f==Array.prototype||f==Object.prototype||(f[x]=E.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dh=="object"&&Dh];for(var x=0;x<f.length;++x){var E=f[x];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=t(this);function a(f,x){if(x)e:{var E=s;f=f.split(".");for(var O=0;O<f.length-1;O++){var W=f[O];if(!(W in E))break e;E=E[W]}f=f[f.length-1],O=E[f],x=x(O),x!=O&&x!=null&&e(E,f,{configurable:!0,writable:!0,value:x})}}function o(f,x){f instanceof String&&(f+="");var E=0,O=!1,W={next:function(){if(!O&&E<f.length){var ie=E++;return{value:x(ie,f[ie]),done:!1}}return O=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}a("Array.prototype.values",function(f){return f||function(){return o(this,function(x,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function m(f){var x=typeof f;return x=x!="object"?x:f?Array.isArray(f)?"array":x:"null",x=="array"||x=="object"&&typeof f.length=="number"}function p(f){var x=typeof f;return x=="object"&&f!=null||x=="function"}function v(f,x,E){return f.call.apply(f.bind,arguments)}function b(f,x,E){if(!f)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,O),f.apply(x,W)}}return function(){return f.apply(x,arguments)}}function _(f,x,E){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,_.apply(null,arguments)}function S(f,x){var E=Array.prototype.slice.call(arguments,1);return function(){var O=E.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function C(f,x){function E(){}E.prototype=x.prototype,f.aa=x.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(O,W,ie){for(var _e=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)_e[vt-2]=arguments[vt];return x.prototype[W].apply(O,_e)}}function R(f){const x=f.length;if(0<x){const E=Array(x);for(let O=0;O<x;O++)E[O]=f[O];return E}return[]}function N(f,x){for(let E=1;E<arguments.length;E++){const O=arguments[E];if(m(O)){const W=f.length||0,ie=O.length||0;f.length=W+ie;for(let _e=0;_e<ie;_e++)f[W+_e]=O[_e]}else f.push(O)}}class j{constructor(x,E){this.i=x,this.j=E,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function U(f){return/^[\s\xa0]*$/.test(f)}function V(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function $(f){return $[" "](f),f}$[" "]=function(){};var H=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function Q(f,x,E){for(const O in f)x.call(E,f[O],O,f)}function I(f,x){for(const E in f)x.call(void 0,f[E],E,f)}function A(f){const x={};for(const E in f)x[E]=f[E];return x}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(f,x){let E,O;for(let W=1;W<arguments.length;W++){O=arguments[W];for(E in O)f[E]=O[E];for(let ie=0;ie<M.length;ie++)E=M[ie],Object.prototype.hasOwnProperty.call(O,E)&&(f[E]=O[E])}}function D(f){var x=1;f=f.split(":");const E=[];for(;0<x&&f.length;)E.push(f.shift()),x--;return f.length&&E.push(f.join(":")),E}function L(f){d.setTimeout(()=>{throw f},0)}function P(){var f=ye;let x=null;return f.g&&(x=f.g,f.g=f.g.next,f.g||(f.h=null),x.next=null),x}class G{constructor(){this.h=this.g=null}add(x,E){const O=se.get();O.set(x,E),this.h?this.h.next=O:this.g=O,this.h=O}}var se=new j(()=>new q,f=>f.reset());class q{constructor(){this.next=this.g=this.h=null}set(x,E){this.h=x,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,K=!1,ye=new G,z=()=>{const f=d.Promise.resolve(void 0);ee=()=>{f.then(ae)}};var ae=()=>{for(var f;f=P();){try{f.h.call(f.g)}catch(E){L(E)}var x=se;x.j(f),100>x.h&&(x.h++,f.next=x.g,x.g=f)}K=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(f,x){this.type=f,this.g=this.target=x,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,x=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};d.addEventListener("test",E,x),d.removeEventListener("test",E,x)}catch{}return f}();function Be(f,x){if(le.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=x,x=f.relatedTarget){if(H){e:{try{$(x.nodeName);var W=!0;break e}catch{}W=!1}W||(x=null)}}else E=="mouseover"?x=f.fromElement:E=="mouseout"&&(x=f.toElement);this.relatedTarget=x,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:De[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Be.aa.h.call(this)}}C(Be,le);var De={2:"touch",3:"pen",4:"mouse"};Be.prototype.h=function(){Be.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),je=0;function ht(f,x,E,O,W){this.listener=f,this.proxy=null,this.src=x,this.type=E,this.capture=!!O,this.ha=W,this.key=++je,this.da=this.fa=!1}function We(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Xe(f){this.src=f,this.g={},this.h=0}Xe.prototype.add=function(f,x,E,O,W){var ie=f.toString();f=this.g[ie],f||(f=this.g[ie]=[],this.h++);var _e=re(f,x,O,W);return-1<_e?(x=f[_e],E||(x.fa=!1)):(x=new ht(x,this.src,ie,!!O,W),x.fa=E,f.push(x)),x};function Je(f,x){var E=x.type;if(E in f.g){var O=f.g[E],W=Array.prototype.indexOf.call(O,x,void 0),ie;(ie=0<=W)&&Array.prototype.splice.call(O,W,1),ie&&(We(x),f.g[E].length==0&&(delete f.g[E],f.h--))}}function re(f,x,E,O){for(var W=0;W<f.length;++W){var ie=f[W];if(!ie.da&&ie.listener==x&&ie.capture==!!E&&ie.ha==O)return W}return-1}var Ce="closure_lm_"+(1e6*Math.random()|0),Re={};function Pe(f,x,E,O,W){if(Array.isArray(x)){for(var ie=0;ie<x.length;ie++)Pe(f,x[ie],E,O,W);return null}return E=At(E),f&&f[ve]?f.K(x,E,p(O)?!!O.capture:!1,W):he(f,x,E,!1,O,W)}function he(f,x,E,O,W,ie){if(!x)throw Error("Invalid event type");var _e=p(W)?!!W.capture:!!W,vt=rt(f);if(vt||(f[Ce]=vt=new Xe(f)),E=vt.add(x,E,O,_e,ie),E.proxy)return E;if(O=Me(),E.proxy=O,O.src=f,O.listener=E,f.addEventListener)be||(W=_e),W===void 0&&(W=!1),f.addEventListener(x.toString(),O,W);else if(f.attachEvent)f.attachEvent(Ee(x.toString()),O);else if(f.addListener&&f.removeListener)f.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Me(){function f(E){return x.call(f.src,f.listener,E)}const x=St;return f}function pe(f,x,E,O,W){if(Array.isArray(x))for(var ie=0;ie<x.length;ie++)pe(f,x[ie],E,O,W);else O=p(O)?!!O.capture:!!O,E=At(E),f&&f[ve]?(f=f.i,x=String(x).toString(),x in f.g&&(ie=f.g[x],E=re(ie,E,O,W),-1<E&&(We(ie[E]),Array.prototype.splice.call(ie,E,1),ie.length==0&&(delete f.g[x],f.h--)))):f&&(f=rt(f))&&(x=f.g[x.toString()],f=-1,x&&(f=re(x,E,O,W)),(E=-1<f?x[f]:null)&&Ae(E))}function Ae(f){if(typeof f!="number"&&f&&!f.da){var x=f.src;if(x&&x[ve])Je(x.i,f);else{var E=f.type,O=f.proxy;x.removeEventListener?x.removeEventListener(E,O,f.capture):x.detachEvent?x.detachEvent(Ee(E),O):x.addListener&&x.removeListener&&x.removeListener(O),(E=rt(x))?(Je(E,f),E.h==0&&(E.src=null,x[Ce]=null)):We(f)}}}function Ee(f){return f in Re?Re[f]:Re[f]="on"+f}function St(f,x){if(f.da)f=!0;else{x=new Be(x,this);var E=f.listener,O=f.ha||f.src;f.fa&&Ae(f),f=E.call(O,x)}return f}function rt(f){return f=f[Ce],f instanceof Xe?f:null}var Pt="__closure_events_fn_"+(1e9*Math.random()>>>0);function At(f){return typeof f=="function"?f:(f[Pt]||(f[Pt]=function(x){return f.handleEvent(x)}),f[Pt])}function Ue(){me.call(this),this.i=new Xe(this),this.M=this,this.F=null}C(Ue,me),Ue.prototype[ve]=!0,Ue.prototype.removeEventListener=function(f,x,E,O){pe(this,f,x,E,O)};function qe(f,x){var E,O=f.F;if(O)for(E=[];O;O=O.F)E.push(O);if(f=f.M,O=x.type||x,typeof x=="string")x=new le(x,f);else if(x instanceof le)x.target=x.target||f;else{var W=x;x=new le(O,f),B(x,W)}if(W=!0,E)for(var ie=E.length-1;0<=ie;ie--){var _e=x.g=E[ie];W=Lt(_e,O,!0,x)&&W}if(_e=x.g=f,W=Lt(_e,O,!0,x)&&W,W=Lt(_e,O,!1,x)&&W,E)for(ie=0;ie<E.length;ie++)_e=x.g=E[ie],W=Lt(_e,O,!1,x)&&W}Ue.prototype.N=function(){if(Ue.aa.N.call(this),this.i){var f=this.i,x;for(x in f.g){for(var E=f.g[x],O=0;O<E.length;O++)We(E[O]);delete f.g[x],f.h--}}this.F=null},Ue.prototype.K=function(f,x,E,O){return this.i.add(String(f),x,!1,E,O)},Ue.prototype.L=function(f,x,E,O){return this.i.add(String(f),x,!0,E,O)};function Lt(f,x,E,O){if(x=f.i.g[String(x)],!x)return!0;x=x.concat();for(var W=!0,ie=0;ie<x.length;++ie){var _e=x[ie];if(_e&&!_e.da&&_e.capture==E){var vt=_e.listener,Tn=_e.ha||_e.src;_e.fa&&Je(f.i,_e),W=vt.call(Tn,O)!==!1&&W}}return W&&!O.defaultPrevented}function yt(f,x,E){if(typeof f=="function")E&&(f=_(f,E));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:d.setTimeout(f,x||0)}function wn(f){f.g=yt(()=>{f.g=null,f.i&&(f.i=!1,wn(f))},f.l);const x=f.h;f.h=null,f.m.apply(null,x)}class $t extends me{constructor(x,E){super(),this.m=x,this.l=E,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:wn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yn(f){me.call(this),this.h=f,this.g={}}C(Yn,me);var fr=[];function sr(f){Q(f.g,function(x,E){this.g.hasOwnProperty(E)&&Ae(x)},f),f.g={}}Yn.prototype.N=function(){Yn.aa.N.call(this),sr(this)},Yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kn=d.JSON.stringify,_r=d.JSON.parse,Or=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function Bc(){}Bc.prototype.h=null;function zc(f){return f.h||(f.h=f.i())}function Fc(){}var Zs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qs(){le.call(this,"d")}C(Qs,le);function Hc(){le.call(this,"c")}C(Hc,le);var fs={},qc=null;function Hi(){return qc=qc||new Ue}fs.La="serverreachability";function Zo(f){le.call(this,fs.La,f)}C(Zo,le);function qi(f){const x=Hi();qe(x,new Zo(x))}fs.STAT_EVENT="statevent";function of(f,x){le.call(this,fs.STAT_EVENT,f),this.stat=x}C(of,le);function Zt(f){const x=Hi();qe(x,new of(x,f))}fs.Ma="timingevent";function En(f,x){le.call(this,fs.Ma,f),this.size=x}C(En,le);function gn(f,x){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},x)}function jr(){this.g=!0}jr.prototype.xa=function(){this.g=!1};function $c(f,x,E,O,W,ie){f.info(function(){if(f.g)if(ie)for(var _e="",vt=ie.split("&"),Tn=0;Tn<vt.length;Tn++){var _t=vt[Tn].split("=");if(1<_t.length){var On=_t[0];_t=_t[1];var Sn=On.split("_");_e=2<=Sn.length&&Sn[1]=="type"?_e+(On+"="+_t+"&"):_e+(On+"=redacted&")}}else _e=null;else _e=ie;return"XMLHTTP REQ ("+O+") [attempt "+W+"]: "+x+`
`+E+`
`+_e})}function Cp(f,x,E,O,W,ie,_e){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+W+"]: "+x+`
`+E+`
`+ie+" "+_e})}function $i(f,x,E,O){f.info(function(){return"XMLHTTP TEXT ("+x+"): "+Wa(f,E)+(O?" "+O:"")})}function lf(f,x){f.info(function(){return"TIMEOUT: "+x})}jr.prototype.info=function(){};function Wa(f,x){if(!f.g)return x;if(!x)return null;try{var E=JSON.parse(x);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var O=E[f];if(!(2>O.length)){var W=O[1];if(Array.isArray(W)&&!(1>W.length)){var ie=W[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var _e=1;_e<W.length;_e++)W[_e]=""}}}}return kn(E)}catch{return x}}var Gi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ws={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hs;function ms(){}C(ms,Bc),ms.prototype.g=function(){return new XMLHttpRequest},ms.prototype.i=function(){return{}},hs=new ms;function ir(f,x,E,O){this.j=f,this.i=x,this.l=E,this.R=O||1,this.U=new Yn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fn}function fn(){this.i=null,this.g="",this.h=!1}var Gc={},Qo={};function Yr(f,x,E){f.L=1,f.v=no(br(x)),f.m=E,f.P=!0,Xs(f,null)}function Xs(f,x){f.F=Date.now(),Xa(f),f.A=br(f.v);var E=f.A,O=f.R;Array.isArray(O)||(O=[String(O)]),Xc(E.i,"t",O),f.C=0,E=f.j.J,f.h=new fn,f.g=Tf(f.j,E?x:null,!f.m),0<f.O&&(f.M=new $t(_(f.Y,f,f.g),f.O)),x=f.U,E=f.g,O=f.ca;var W="readystatechange";Array.isArray(W)||(W&&(fr[0]=W.toString()),W=fr);for(var ie=0;ie<W.length;ie++){var _e=Pe(E,W[ie],O||x.handleEvent,!1,x.h||x);if(!_e)break;x.g[_e.key]=_e}x=f.H?A(f.H):{},f.m?(f.u||(f.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,x)):(f.u="GET",f.g.ea(f.A,f.u,null,x)),qi(),$c(f.i,f.u,f.A,f.l,f.R,f.m)}ir.prototype.ca=function(f){f=f.target;const x=this.M;x&&Vr(f)==3?x.j():this.Y(f)},ir.prototype.Y=function(f){try{if(f==this.g)e:{const Sn=Vr(this.g);var x=this.g.Ba();const ai=this.g.Z();if(!(3>Sn)&&(Sn!=3||this.g&&(this.h.h||this.g.oa()||gf(this.g)))){this.J||Sn!=4||x==7||(x==8||0>=ai?qi(3):qi(2)),Yi(this);var E=this.g.Z();this.X=E;t:if(cf(this)){var O=gf(this.g);f="";var W=O.length,ie=Vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vn(this),ps(this);var _e="";break t}this.h.i=new d.TextDecoder}for(x=0;x<W;x++)this.h.h=!0,f+=this.h.i.decode(O[x],{stream:!(ie&&x==W-1)});O.length=0,this.h.g+=f,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=E==200,Cp(this.i,this.u,this.A,this.l,this.R,Sn,E),this.o){if(this.T&&!this.K){t:{if(this.g){var vt,Tn=this.g;if((vt=Tn.g?Tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(vt)){var _t=vt;break t}}_t=null}if(E=_t)$i(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ja(this,E);else{this.o=!1,this.s=3,Zt(12),Vn(this),ps(this);break e}}if(this.P){E=!0;let Un;for(;!this.J&&this.C<_e.length;)if(Un=uf(this,_e),Un==Qo){Sn==4&&(this.s=4,Zt(14),E=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(Un==Gc){this.s=4,Zt(15),$i(this.i,this.l,_e,"[Invalid Chunk]"),E=!1;break}else $i(this.i,this.l,Un,null),Ja(this,Un);if(cf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Sn!=4||_e.length!=0||this.h.h||(this.s=1,Zt(16),E=!1),this.o=this.o&&E,!E)$i(this.i,this.l,_e,"[Invalid Chunked Response]"),Vn(this),ps(this);else if(0<_e.length&&!this.W){this.W=!0;var On=this.j;On.g==this&&On.ba&&!On.M&&(On.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),uo(On),On.M=!0,Zt(11))}}else $i(this.i,this.l,_e,null),Ja(this,_e);Sn==4&&Vn(this),this.o&&!this.J&&(Sn==4?xf(this.j,this):(this.o=!1,Xa(this)))}else Dp(this.g),E==400&&0<_e.indexOf("Unknown SID")?(this.s=3,Zt(12)):(this.s=0,Zt(13)),Vn(this),ps(this)}}}catch{}finally{}};function cf(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function uf(f,x){var E=f.C,O=x.indexOf(`
`,E);return O==-1?Qo:(E=Number(x.substring(E,O)),isNaN(E)?Gc:(O+=1,O+E>x.length?Qo:(x=x.slice(O,O+E),f.C=O+E,x)))}ir.prototype.cancel=function(){this.J=!0,Vn(this)};function Xa(f){f.S=Date.now()+f.I,df(f,f.I)}function df(f,x){if(f.B!=null)throw Error("WatchDog timer not null");f.B=gn(_(f.ba,f),x)}function Yi(f){f.B&&(d.clearTimeout(f.B),f.B=null)}ir.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(lf(this.i,this.A),this.L!=2&&(qi(),Zt(17)),Vn(this),this.s=2,ps(this)):df(this,this.S-f)};function ps(f){f.j.G==0||f.J||xf(f.j,f)}function Vn(f){Yi(f);var x=f.M;x&&typeof x.ma=="function"&&x.ma(),f.M=null,sr(f.U),f.g&&(x=f.g,f.g=null,x.abort(),x.ma())}function Ja(f,x){try{var E=f.j;if(E.G!=0&&(E.g==f||Yc(E.h,f))){if(!f.K&&Yc(E.h,f)&&E.G==3){try{var O=E.Da.g.parse(x)}catch{O=null}if(Array.isArray(O)&&O.length==3){var W=O;if(W[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)ll(E),al(E);else break e;ru(E),Zt(18)}}else E.za=W[1],0<E.za-E.T&&37500>W[2]&&E.F&&E.v==0&&!E.C&&(E.C=gn(_(E.Za,E),6e3));if(1>=Xo(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ii(E,11)}else if((f.K||E.g==f)&&ll(E),!U(x))for(W=E.Da.g.parse(x),x=0;x<W.length;x++){let _t=W[x];if(E.T=_t[0],_t=_t[1],E.G==2)if(_t[0]=="c"){E.K=_t[1],E.ia=_t[2];const On=_t[3];On!=null&&(E.la=On,E.j.info("VER="+E.la));const Sn=_t[4];Sn!=null&&(E.Aa=Sn,E.j.info("SVER="+E.Aa));const ai=_t[5];ai!=null&&typeof ai=="number"&&0<ai&&(O=1.5*ai,E.L=O,E.j.info("backChannelRequestTimeoutMs_="+O)),O=E;const Un=f.g;if(Un){const ws=Un.g?Un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ws){var ie=O.h;ie.g||ws.indexOf("spdy")==-1&&ws.indexOf("quic")==-1&&ws.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Jo(ie,ie.h),ie.h=null))}if(O.D){const iu=Un.g?Un.g.getResponseHeader("X-HTTP-Session-Id"):null;iu&&(O.ya=iu,Vt(O.I,O.D,iu))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),O=E;var _e=f;if(O.qa=Ef(O,O.J?O.ia:null,O.W),_e.K){ar(O.h,_e);var vt=_e,Tn=O.L;Tn&&(vt.I=Tn),vt.B&&(Yi(vt),Xa(vt)),O.g=_e}else _f(O);0<E.i.length&&ol(E)}else _t[0]!="stop"&&_t[0]!="close"||ii(E,7);else E.G==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?ii(E,7):tu(E):_t[0]!="noop"&&E.l&&E.l.ta(_t),E.v=0)}}qi(4)}catch{}}var ff=class{constructor(f,x){this.g=f,this.map=x}};function Js(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Xo(f){return f.h?1:f.g?f.g.size:0}function Yc(f,x){return f.h?f.h==x:f.g?f.g.has(x):!1}function Jo(f,x){f.g?f.g.add(x):f.h=x}function ar(f,x){f.h&&f.h==x?f.h=null:f.g&&f.g.has(x)&&f.g.delete(x)}Js.prototype.cancel=function(){if(this.i=Kc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Kc(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let x=f.i;for(const E of f.g.values())x=x.concat(E.D);return x}return R(f.i)}function Rp(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(m(f)){for(var x=[],E=f.length,O=0;O<E;O++)x.push(f[O]);return x}x=[],E=0;for(O in f)x[E++]=f[O];return x}function el(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(m(f)||typeof f=="string"){var x=[];f=f.length;for(var E=0;E<f;E++)x.push(E);return x}x=[],E=0;for(const O in f)x[E++]=O;return x}}}function Zc(f,x){if(f.forEach&&typeof f.forEach=="function")f.forEach(x,void 0);else if(m(f)||typeof f=="string")Array.prototype.forEach.call(f,x,void 0);else for(var E=el(f),O=Rp(f),W=O.length,ie=0;ie<W;ie++)x.call(void 0,O[ie],E&&E[ie],f)}var eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Np(f,x){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var O=f[E].indexOf("="),W=null;if(0<=O){var ie=f[E].substring(0,O);W=f[E].substring(O+1)}else ie=f[E];x(ie,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function yn(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof yn){this.h=f.h,to(this,f.j),this.o=f.o,this.g=f.g,Ki(this,f.s),this.l=f.l;var x=f.i,E=new ti;E.i=x.i,x.g&&(E.g=new Map(x.g),E.h=x.h),ei(this,E),this.m=f.m}else f&&(x=String(f).match(eo))?(this.h=!1,to(this,x[1]||"",!0),this.o=Mr(x[2]||""),this.g=Mr(x[3]||"",!0),Ki(this,x[4]),this.l=Mr(x[5]||"",!0),ei(this,x[6]||"",!0),this.m=Mr(x[7]||"")):(this.h=!1,this.i=new ti(null,this.h))}yn.prototype.toString=function(){var f=[],x=this.j;x&&f.push(ro(x,Qc,!0),":");var E=this.g;return(E||x=="file")&&(f.push("//"),(x=this.o)&&f.push(ro(x,Qc,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(ro(E,E.charAt(0)=="/"?Ip:Wc,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",ro(E,tl)),f.join("")};function br(f){return new yn(f)}function to(f,x,E){f.j=E?Mr(x,!0):x,f.j&&(f.j=f.j.replace(/:$/,""))}function Ki(f,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);f.s=x}else f.s=null}function ei(f,x,E){x instanceof ti?(f.i=x,mf(f.i,f.h)):(E||(x=ro(x,kp)),f.i=new ti(x,f.h))}function Vt(f,x,E){f.i.set(x,E)}function no(f){return Vt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Mr(f,x){return f?x?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ro(f,x,E){return typeof f=="string"?(f=encodeURI(f).replace(x,hf),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function hf(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Qc=/[#\/\?@]/g,Wc=/[#\?:]/g,Ip=/[#\?]/g,kp=/[#\?@]/g,tl=/#/g;function ti(f,x){this.h=this.g=null,this.i=f||null,this.j=!!x}function Pr(f){f.g||(f.g=new Map,f.h=0,f.i&&Np(f.i,function(x,E){f.add(decodeURIComponent(x.replace(/\+/g," ")),E)}))}n=ti.prototype,n.add=function(f,x){Pr(this),this.i=null,f=gs(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(x),this.h+=1,this};function ni(f,x){Pr(f),x=gs(f,x),f.g.has(x)&&(f.i=null,f.h-=f.g.get(x).length,f.g.delete(x))}function ri(f,x){return Pr(f),x=gs(f,x),f.g.has(x)}n.forEach=function(f,x){Pr(this),this.g.forEach(function(E,O){E.forEach(function(W){f.call(x,W,O,this)},this)},this)},n.na=function(){Pr(this);const f=Array.from(this.g.values()),x=Array.from(this.g.keys()),E=[];for(let O=0;O<x.length;O++){const W=f[O];for(let ie=0;ie<W.length;ie++)E.push(x[O])}return E},n.V=function(f){Pr(this);let x=[];if(typeof f=="string")ri(this,f)&&(x=x.concat(this.g.get(gs(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)x=x.concat(f[E])}return x},n.set=function(f,x){return Pr(this),this.i=null,f=gs(this,f),ri(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[x]),this.h+=1,this},n.get=function(f,x){return f?(f=this.V(f),0<f.length?String(f[0]):x):x};function Xc(f,x,E){ni(f,x),0<E.length&&(f.i=null,f.g.set(gs(f,x),R(E)),f.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],x=Array.from(this.g.keys());for(var E=0;E<x.length;E++){var O=x[E];const ie=encodeURIComponent(String(O)),_e=this.V(O);for(O=0;O<_e.length;O++){var W=ie;_e[O]!==""&&(W+="="+encodeURIComponent(String(_e[O]))),f.push(W)}}return this.i=f.join("&")};function gs(f,x){return x=String(x),f.j&&(x=x.toLowerCase()),x}function mf(f,x){x&&!f.j&&(Pr(f),f.i=null,f.g.forEach(function(E,O){var W=O.toLowerCase();O!=W&&(ni(this,O),Xc(this,W,E))},f)),f.j=x}function so(f,x){const E=new jr;if(d.Image){const O=new Image;O.onload=S(Lr,E,"TestLoadImage: loaded",!0,x,O),O.onerror=S(Lr,E,"TestLoadImage: error",!1,x,O),O.onabort=S(Lr,E,"TestLoadImage: abort",!1,x,O),O.ontimeout=S(Lr,E,"TestLoadImage: timeout",!1,x,O),d.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else x(!1)}function Kr(f,x){const E=new jr,O=new AbortController,W=setTimeout(()=>{O.abort(),Lr(E,"TestPingServer: timeout",!1,x)},1e4);fetch(f,{signal:O.signal}).then(ie=>{clearTimeout(W),ie.ok?Lr(E,"TestPingServer: ok",!0,x):Lr(E,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(W),Lr(E,"TestPingServer: error",!1,x)})}function Lr(f,x,E,O,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),O(E)}catch{}}function io(){this.g=new Or}function ys(f,x,E){const O=E||"";try{Zc(f,function(W,ie){let _e=W;p(W)&&(_e=kn(W)),x.push(O+ie+"="+encodeURIComponent(_e))})}catch(W){throw x.push(O+"type="+encodeURIComponent("_badmap")),W}}function Zi(f){this.l=f.Ub||null,this.j=f.eb||!1}C(Zi,Bc),Zi.prototype.g=function(){return new si(this.l,this.j)},Zi.prototype.i=function(f){return function(){return f}}({});function si(f,x){Ue.call(this),this.D=f,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(si,Ue),n=si.prototype,n.open=function(f,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=x,this.readyState=1,_s(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(x.body=f),(this.D||d).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vs(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,_s(this)),this.g&&(this.readyState=3,_s(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jc(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jc(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var x=f.value?f.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!f.done}))&&(this.response=this.responseText+=x)}f.done?vs(this):_s(this),this.readyState==3&&Jc(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,vs(this))},n.Qa=function(f){this.g&&(this.response=f,vs(this))},n.ga=function(){this.g&&vs(this)};function vs(f){f.readyState=4,f.l=null,f.j=null,f.v=null,_s(f)}n.setRequestHeader=function(f,x){this.u.append(f,x)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],x=this.h.entries();for(var E=x.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=x.next();return f.join(`\r
`)};function _s(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function eu(f){let x="";return Q(f,function(E,O){x+=O,x+=":",x+=E,x+=`\r
`}),x}function Dn(f,x,E){e:{for(O in E){var O=!1;break e}O=!0}O||(E=eu(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):Vt(f,x,E))}function kt(f){Ue.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(kt,Ue);var nl=/^https?$/i,ao=["POST","PUT"];n=kt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,x,E,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);x=x?x.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hs.g(),this.v=this.o?zc(this.o):zc(hs),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(x,String(f),!0),this.B=!1}catch(ie){pf(this,ie);return}if(f=E||"",E=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var W in O)E.set(W,O[W]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const ie of O.keys())E.set(ie,O.get(ie));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(E.keys()).find(ie=>ie.toLowerCase()=="content-type"),W=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ao,x,void 0))||O||W||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,_e]of E)this.g.setRequestHeader(ie,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oo(this),this.u=!0,this.g.send(f),this.u=!1}catch(ie){pf(this,ie)}};function pf(f,x){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=x,f.m=5,rl(f),bs(f)}function rl(f){f.A||(f.A=!0,qe(f,"complete"),qe(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,qe(this,"complete"),qe(this,"abort"),bs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bs(this,!0)),kt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?sl(this):this.bb())},n.bb=function(){sl(this)};function sl(f){if(f.h&&typeof u<"u"&&(!f.v[1]||Vr(f)!=4||f.Z()!=2)){if(f.u&&Vr(f)==4)yt(f.Ea,0,f);else if(qe(f,"readystatechange"),Vr(f)==4){f.h=!1;try{const _e=f.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var E;if(!(E=x)){var O;if(O=_e===0){var W=String(f.D).match(eo)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),O=!nl.test(W?W.toLowerCase():"")}E=O}if(E)qe(f,"complete"),qe(f,"success");else{f.m=6;try{var ie=2<Vr(f)?f.g.statusText:""}catch{ie=""}f.l=ie+" ["+f.Z()+"]",rl(f)}}finally{bs(f)}}}}function bs(f,x){if(f.g){oo(f);const E=f.g,O=f.v[0]?()=>{}:null;f.g=null,f.v=null,x||qe(f,"ready");try{E.onreadystatechange=O}catch{}}}function oo(f){f.I&&(d.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Vr(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Vr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var x=this.g.responseText;return f&&x.indexOf(f)==0&&(x=x.substring(f.length)),_r(x)}};function gf(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Dp(f){const x={};f=(f.g&&2<=Vr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<f.length;O++){if(U(f[O]))continue;var E=D(f[O]);const W=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ie=x[W]||[];x[W]=ie,ie.push(E)}I(x,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lo(f,x,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||x}function il(f){this.Aa=0,this.i=[],this.j=new jr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lo("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lo("baseRetryDelayMs",5e3,f),this.cb=lo("retryDelaySeedMs",1e4,f),this.Wa=lo("forwardChannelMaxRetries",2,f),this.wa=lo("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Js(f&&f.concurrentRequestLimit),this.Da=new io,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=il.prototype,n.la=8,n.G=1,n.connect=function(f,x,E,O){Zt(0),this.W=f,this.H=x||{},E&&O!==void 0&&(this.H.OSID=E,this.H.OAID=O),this.F=this.X,this.I=Ef(this,null,this.W),ol(this)};function tu(f){if(yf(f),f.G==3){var x=f.U++,E=br(f.I);if(Vt(E,"SID",f.K),Vt(E,"RID",x),Vt(E,"TYPE","terminate"),co(f,E),x=new ir(f,f.j,x),x.L=2,x.v=no(br(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(x.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=x.v,E=!0),E||(x.g=Tf(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Xa(x)}wf(f)}function al(f){f.g&&(uo(f),f.g.cancel(),f.g=null)}function yf(f){al(f),f.u&&(d.clearTimeout(f.u),f.u=null),ll(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function ol(f){if(!Wo(f.h)&&!f.s){f.s=!0;var x=f.Ga;ee||z(),K||(ee(),K=!0),ye.add(x,f),f.B=0}}function Op(f,x){return Xo(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=x.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=gn(_(f.Ga,f,x),su(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const W=new ir(this,this.j,f);let ie=this.o;if(this.S&&(ie?(ie=A(ie),B(ie,this.S)):ie=this.S),this.m!==null||this.O||(W.H=ie,ie=null),this.P)e:{for(var x=0,E=0;E<this.i.length;E++){t:{var O=this.i[E];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(x+=O,4096<x){x=E;break e}if(x===4096||E===this.i.length-1){x=E+1;break e}}x=1e3}else x=1e3;x=vf(this,W,x),E=br(this.I),Vt(E,"RID",f),Vt(E,"CVER",22),this.D&&Vt(E,"X-HTTP-Session-Id",this.D),co(this,E),ie&&(this.O?x="headers="+encodeURIComponent(String(eu(ie)))+"&"+x:this.m&&Dn(E,this.m,ie)),Jo(this.h,W),this.Ua&&Vt(E,"TYPE","init"),this.P?(Vt(E,"$req",x),Vt(E,"SID","null"),W.T=!0,Yr(W,E,null)):Yr(W,E,x),this.G=2}}else this.G==3&&(f?nu(this,f):this.i.length==0||Wo(this.h)||nu(this))};function nu(f,x){var E;x?E=x.l:E=f.U++;const O=br(f.I);Vt(O,"SID",f.K),Vt(O,"RID",E),Vt(O,"AID",f.T),co(f,O),f.m&&f.o&&Dn(O,f.m,f.o),E=new ir(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),x&&(f.i=x.D.concat(f.i)),x=vf(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Jo(f.h,E),Yr(E,O,x)}function co(f,x){f.H&&Q(f.H,function(E,O){Vt(x,O,E)}),f.l&&Zc({},function(E,O){Vt(x,O,E)})}function vf(f,x,E){E=Math.min(f.i.length,E);var O=f.l?_(f.l.Na,f.l,f):null;e:{var W=f.i;let ie=-1;for(;;){const _e=["count="+E];ie==-1?0<E?(ie=W[0].g,_e.push("ofs="+ie)):ie=0:_e.push("ofs="+ie);let vt=!0;for(let Tn=0;Tn<E;Tn++){let _t=W[Tn].g;const On=W[Tn].map;if(_t-=ie,0>_t)ie=Math.max(0,W[Tn].g-100),vt=!1;else try{ys(On,_e,"req"+_t+"_")}catch{O&&O(On)}}if(vt){O=_e.join("&");break e}}}return f=f.i.splice(0,E),x.D=f,O}function _f(f){if(!f.g&&!f.u){f.Y=1;var x=f.Fa;ee||z(),K||(ee(),K=!0),ye.add(x,f),f.v=0}}function ru(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=gn(_(f.Fa,f),su(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,bf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=gn(_(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zt(10),al(this),bf(this))};function uo(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function bf(f){f.g=new ir(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var x=br(f.qa);Vt(x,"RID","rpc"),Vt(x,"SID",f.K),Vt(x,"AID",f.T),Vt(x,"CI",f.F?"0":"1"),!f.F&&f.ja&&Vt(x,"TO",f.ja),Vt(x,"TYPE","xmlhttp"),co(f,x),f.m&&f.o&&Dn(x,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=no(br(x)),E.m=null,E.P=!0,Xs(E,f)}n.Za=function(){this.C!=null&&(this.C=null,al(this),ru(this),Zt(19))};function ll(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function xf(f,x){var E=null;if(f.g==x){ll(f),uo(f),f.g=null;var O=2}else if(Yc(f.h,x))E=x.D,ar(f.h,x),O=1;else return;if(f.G!=0){if(x.o)if(O==1){E=x.m?x.m.length:0,x=Date.now()-x.F;var W=f.B;O=Hi(),qe(O,new En(O,E)),ol(f)}else _f(f);else if(W=x.s,W==3||W==0&&0<x.X||!(O==1&&Op(f,x)||O==2&&ru(f)))switch(E&&0<E.length&&(x=f.h,x.i=x.i.concat(E)),W){case 1:ii(f,5);break;case 4:ii(f,10);break;case 3:ii(f,6);break;default:ii(f,2)}}}function su(f,x){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*x}function ii(f,x){if(f.j.info("Error code "+x),x==2){var E=_(f.fb,f),O=f.Xa;const W=!O;O=new yn(O||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||to(O,"https"),no(O),W?so(O.toString(),E):Kr(O.toString(),E)}else Zt(2);f.G=0,f.l&&f.l.sa(x),wf(f),yf(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Zt(2)):(this.j.info("Failed to ping google.com"),Zt(1))};function wf(f){if(f.G=0,f.ka=[],f.l){const x=Kc(f.h);(x.length!=0||f.i.length!=0)&&(N(f.ka,x),N(f.ka,f.i),f.h.i.length=0,R(f.i),f.i.length=0),f.l.ra()}}function Ef(f,x,E){var O=E instanceof yn?br(E):new yn(E);if(O.g!="")x&&(O.g=x+"."+O.g),Ki(O,O.s);else{var W=d.location;O=W.protocol,x=x?x+"."+W.hostname:W.hostname,W=+W.port;var ie=new yn(null);O&&to(ie,O),x&&(ie.g=x),W&&Ki(ie,W),E&&(ie.l=E),O=ie}return E=f.D,x=f.ya,E&&x&&Vt(O,E,x),Vt(O,"VER",f.la),co(f,O),O}function Tf(f,x,E){if(x&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=f.Ca&&!f.pa?new kt(new Zi({eb:E})):new kt(f.pa),x.Ha(f.J),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sf(){}n=Sf.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function cl(){}cl.prototype.g=function(f,x){return new or(f,x)};function or(f,x){Ue.call(this),this.g=new il(x),this.l=f,this.h=x&&x.messageUrlParams||null,f=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(f?f["X-WebChannel-Content-Type"]=x.messageContentType:f={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(f?f["X-WebChannel-Client-Profile"]=x.va:f={"X-WebChannel-Client-Profile":x.va}),this.g.S=f,(f=x&&x.Sb)&&!U(f)&&(this.g.m=f),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!U(x)&&(this.g.D=x,f=this.h,f!==null&&x in f&&(f=this.h,x in f&&delete f[x])),this.j=new xs(this)}C(or,Ue),or.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},or.prototype.close=function(){tu(this.g)},or.prototype.o=function(f){var x=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=kn(f),f=E);x.i.push(new ff(x.Ya++,f)),x.G==3&&ol(x)},or.prototype.N=function(){this.g.l=null,delete this.j,tu(this.g),delete this.g,or.aa.N.call(this)};function Af(f){Qs.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var x=f.__sm__;if(x){e:{for(const E in x){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,x=x!==null&&f in x?x[f]:void 0),this.data=x}else this.data=f}C(Af,Qs);function Cf(){Hc.call(this),this.status=1}C(Cf,Hc);function xs(f){this.g=f}C(xs,Sf),xs.prototype.ua=function(){qe(this.g,"a")},xs.prototype.ta=function(f){qe(this.g,new Af(f))},xs.prototype.sa=function(f){qe(this.g,new Cf)},xs.prototype.ra=function(){qe(this.g,"b")},cl.prototype.createWebChannel=cl.prototype.g,or.prototype.send=or.prototype.o,or.prototype.open=or.prototype.m,or.prototype.close=or.prototype.close,sA=function(){return new cl},rA=function(){return Hi()},nA=fs,xv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gi.NO_ERROR=0,Gi.TIMEOUT=8,Gi.HTTP_ERROR=6,Wh=Gi,Ws.COMPLETE="complete",tA=Ws,Fc.EventType=Zs,Zs.OPEN="a",Zs.CLOSE="b",Zs.ERROR="c",Zs.MESSAGE="d",Ue.prototype.listen=Ue.prototype.K,Ju=Fc,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,eA=kt}).apply(typeof Dh<"u"?Dh:typeof self<"u"?self:typeof window<"u"?window:{});const BE="@firebase/firestore",zE="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wn.UNAUTHENTICATED=new Wn(null),Wn.GOOGLE_CREDENTIALS=new Wn("google-credentials-uid"),Wn.FIRST_PARTY=new Wn("first-party-uid"),Wn.MOCK_USER=new Wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new f0("@firebase/firestore");function Fl(){return Lo.logLevel}function Se(n,...e){if(Lo.logLevel<=mt.DEBUG){const t=e.map(E0);Lo.debug(`Firestore (${kc}): ${n}`,...t)}}function Oi(n,...e){if(Lo.logLevel<=mt.ERROR){const t=e.map(E0);Lo.error(`Firestore (${kc}): ${n}`,...t)}}function dc(n,...e){if(Lo.logLevel<=mt.WARN){const t=e.map(E0);Lo.warn(`Firestore (${kc}): ${n}`,...t)}}function E0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,iA(n,s,t)}function iA(n,e,t){let s=`FIRESTORE (${kc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Oi(s),new Error(s)}function Dt(n,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,n||iA(e,a,s)}function tt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Bi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wn.UNAUTHENTICATED))}shutdown(){}}class hM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class mM{constructor(e){this.t=e,this.currentUser=Wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Dt(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let o=new Ci;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ci,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const m=o;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ci)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Dt(typeof s.accessToken=="string",31837,{l:s}),new aA(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Dt(e===null||typeof e=="string",2055,{h:e}),new Wn(e)}}class pM{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gM{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new pM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Wn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Dt(this.o===void 0,3512);const s=o=>{o.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Se("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>s(o))};const a=o=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new FE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Dt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new FE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=vM(40);for(let o=0;o<a.length;++o)s.length<20&&a[o]<t&&(s+=e.charAt(a[o]%62))}return s}}function ct(n,e){return n<e?-1:n>e?1:0}function wv(n,e){let t=0;for(;t<n.length&&t<e.length;){const s=n.codePointAt(t),a=e.codePointAt(t);if(s!==a){if(s<128&&a<128)return ct(s,a);{const o=oA(),u=_M(o.encode(HE(n,t)),o.encode(HE(e,t)));return u!==0?u:ct(s,a)}}t+=s>65535?2:1}return ct(n.length,e.length)}function HE(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function _M(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ct(n[t],e[t]);return ct(n.length,e.length)}function fc(n,e,t){return n.length===e.length&&n.every((s,a)=>t(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=-62135596800,$E=1e6;class Ht{static now(){return Ht.fromMillis(Date.now())}static fromDate(e){return Ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*$E);return new Ht(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<qE)throw new we(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$E}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-qE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{static fromTimestamp(e){return new et(e)}static min(){return new et(new Ht(0,0))}static max(){return new et(new Ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="__name__";class Rs{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ye(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ye(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Rs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Rs?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const o=Rs.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return ct(e.length,t.length)}static compareSegments(e,t){const s=Rs.isNumericId(e),a=Rs.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?Rs.extractNumericId(e).compare(Rs.extractNumericId(t)):wv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ka.fromString(e.substring(4,e.length-2))}}class Gt extends Rs{construct(e,t,s){return new Gt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new we(ue.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Gt(t)}static emptyPath(){return new Gt([])}}const bM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qn extends Rs{construct(e,t,s){return new qn(e,t,s)}static isValidIdentifier(e){return bM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===GE}static keyField(){return new qn([GE])}static fromServerFormat(e){const t=[];let s="",a=0;const o=()=>{if(s.length===0)throw new we(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new we(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new we(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(s+=d,a++):(o(),a++)}if(o(),u)throw new we(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qn(t)}static emptyPath(){return new qn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.path=e}static fromPath(e){return new ze(Gt.fromString(e))}static fromName(e){return new ze(Gt.fromString(e).popFirst(5))}static empty(){return new ze(Gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new Gt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=-1;function xM(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=et.fromTimestamp(s===1e9?new Ht(t+1,0):new Ht(t,s));return new ja(a,ze.empty(),e)}function wM(n){return new ja(n.readTime,n.key,gd)}class ja{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ja(et.min(),ze.empty(),gd)}static max(){return new ja(et.max(),ze.empty(),gd)}}function EM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ze.comparator(n.documentKey,e.documentKey),t!==0?t:ct(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==TM)throw n;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((s,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(s,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,s)=>{t(e)})}static reject(e){return new fe((t,s)=>{s(e)})}static waitFor(e){return new fe((t,s)=>{let a=0,o=0,u=!1;e.forEach(d=>{++a,d.next(()=>{++o,u&&o===a&&t()},m=>s(m))}),u=!0,o===a&&t()})}static or(e){let t=fe.resolve(!1);for(const s of e)t=t.next(a=>a?fe.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,o)=>{s.push(t.call(this,a,o))}),this.waitFor(s)}static mapArray(e,t){return new fe((s,a)=>{const o=e.length,u=new Array(o);let d=0;for(let m=0;m<o;m++){const p=m;t(e[p]).next(v=>{u[p]=v,++d,d===o&&s(u)},v=>a(v))}})}static doWhile(e,t){return new fe((s,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):s()};o()})}}function AM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Oc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>t.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Xm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=-1;function Jm(n){return n==null}function vm(n){return n===0&&1/n==-1/0}function CM(n){return typeof n=="number"&&Number.isInteger(n)&&!vm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="";function RM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=YE(e)),e=NM(n.get(t),e);return YE(e)}function NM(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case cA:t+="";break;default:t+=o}}return t}function YE(n){return n+cA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ya(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function uA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,t){this.comparator=e,this.root=t||Hn.EMPTY}insert(e,t){return new an(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hn.BLACK,null,null))}remove(e){return new an(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oh(this.root,e,this.comparator,!0)}}class Oh{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?s(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hn{constructor(e,t,s,a,o){this.key=e,this.value=t,this.color=s??Hn.RED,this.left=a??Hn.EMPTY,this.right=o??Hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,o){return new Hn(e??this.key,t??this.value,s??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const o=s(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,s),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Hn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ye(27949);return e+(this.isRed()?0:1)}}Hn.EMPTY=null,Hn.RED=!0,Hn.BLACK=!1;Hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye(57766)}get value(){throw Ye(16141)}get color(){throw Ye(16727)}get left(){throw Ye(29726)}get right(){throw Ye(36894)}copy(e,t,s,a,o){return this}insert(e,t,s){return new Hn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.comparator=e,this.data=new an(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ZE(this.data.getIterator())}getIteratorFrom(e){return new ZE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof In)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=s.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new In(this.comparator);return t.data=e,t}}class ZE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.fields=e,e.sort(qn.comparator)}static empty(){return new Nr([])}unionWith(e){let t=new In(qn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Nr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fc(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new dA("Invalid base64 string: "+o):o}}(e);return new Gn(t)}static fromUint8Array(e){const t=function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(e);return new Gn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gn.EMPTY_BYTE_STRING=new Gn("");const IM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ma(n){if(Dt(!!n,39018),typeof n=="string"){let e=0;const t=IM.exec(n);if(Dt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pn(n.seconds),nanos:pn(n.nanos)}}function pn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Pa(n){return typeof n=="string"?Gn.fromBase64String(n):Gn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="server_timestamp",hA="__type__",mA="__previous_value__",pA="__local_write_time__";function S0(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[hA])===null||t===void 0?void 0:t.stringValue)===fA}function ep(n){const e=n.mapValue.fields[mA];return S0(e)?ep(e):e}function yd(n){const e=Ma(n.mapValue.fields[pA].timestampValue);return new Ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,t,s,a,o,u,d,m,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v}}const _m="(default)";class vd{constructor(e,t){this.projectId=e,this.database=t||_m}static empty(){return new vd("","")}get isDefaultDatabase(){return this.database===_m}isEqual(e){return e instanceof vd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="__type__",DM="__max__",jh={mapValue:{}},yA="__vector__",bm="value";function La(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?S0(n)?4:jM(n)?9007199254740991:OM(n)?10:11:Ye(28295,{value:n})}function zs(n,e){if(n===e)return!0;const t=La(n);if(t!==La(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return yd(n).isEqual(yd(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Ma(a.timestampValue),d=Ma(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,o){return Pa(a.bytesValue).isEqual(Pa(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,o){return pn(a.geoPointValue.latitude)===pn(o.geoPointValue.latitude)&&pn(a.geoPointValue.longitude)===pn(o.geoPointValue.longitude)}(n,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return pn(a.integerValue)===pn(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=pn(a.doubleValue),d=pn(o.doubleValue);return u===d?vm(u)===vm(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return fc(n.arrayValue.values||[],e.arrayValue.values||[],zs);case 10:case 11:return function(a,o){const u=a.mapValue.fields||{},d=o.mapValue.fields||{};if(KE(u)!==KE(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(d[m]===void 0||!zs(u[m],d[m])))return!1;return!0}(n,e);default:return Ye(52216,{left:n})}}function _d(n,e){return(n.values||[]).find(t=>zs(t,e))!==void 0}function hc(n,e){if(n===e)return 0;const t=La(n),s=La(e);if(t!==s)return ct(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ct(n.booleanValue,e.booleanValue);case 2:return function(o,u){const d=pn(o.integerValue||o.doubleValue),m=pn(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return QE(n.timestampValue,e.timestampValue);case 4:return QE(yd(n),yd(e));case 5:return wv(n.stringValue,e.stringValue);case 6:return function(o,u){const d=Pa(o),m=Pa(u);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),m=u.split("/");for(let p=0;p<d.length&&p<m.length;p++){const v=ct(d[p],m[p]);if(v!==0)return v}return ct(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const d=ct(pn(o.latitude),pn(u.latitude));return d!==0?d:ct(pn(o.longitude),pn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return WE(n.arrayValue,e.arrayValue);case 10:return function(o,u){var d,m,p,v;const b=o.fields||{},_=u.fields||{},S=(d=b[bm])===null||d===void 0?void 0:d.arrayValue,C=(m=_[bm])===null||m===void 0?void 0:m.arrayValue,R=ct(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((v=C==null?void 0:C.values)===null||v===void 0?void 0:v.length)||0);return R!==0?R:WE(S,C)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===jh.mapValue&&u===jh.mapValue)return 0;if(o===jh.mapValue)return 1;if(u===jh.mapValue)return-1;const d=o.fields||{},m=Object.keys(d),p=u.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let b=0;b<m.length&&b<v.length;++b){const _=wv(m[b],v[b]);if(_!==0)return _;const S=hc(d[m[b]],p[v[b]]);if(S!==0)return S}return ct(m.length,v.length)}(n.mapValue,e.mapValue);default:throw Ye(23264,{Pe:t})}}function QE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ct(n,e);const t=Ma(n),s=Ma(e),a=ct(t.seconds,s.seconds);return a!==0?a:ct(t.nanos,s.nanos)}function WE(n,e){const t=n.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const o=hc(t[a],s[a]);if(o)return o}return ct(t.length,s.length)}function mc(n){return Ev(n)}function Ev(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const s=Ma(t);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Pa(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ze.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let s="[",a=!0;for(const o of t.values||[])a?a=!1:s+=",",s+=Ev(o);return s+"]"}(n.arrayValue):"mapValue"in n?function(t){const s=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const u of s)o?o=!1:a+=",",a+=`${u}:${Ev(t.fields[u])}`;return a+"}"}(n.mapValue):Ye(61005,{value:n})}function Xh(n){switch(La(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ep(n);return e?16+Xh(e):16;case 5:return 2*n.stringValue.length;case 6:return Pa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,o)=>a+Xh(o),0)}(n.arrayValue);case 10:case 11:return function(s){let a=0;return Ya(s.fields,(o,u)=>{a+=o.length+Xh(u)}),a}(n.mapValue);default:throw Ye(13486,{value:n})}}function XE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Tv(n){return!!n&&"integerValue"in n}function A0(n){return!!n&&"arrayValue"in n}function JE(n){return!!n&&"nullValue"in n}function eT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Jh(n){return!!n&&"mapValue"in n}function OM(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[gA])===null||t===void 0?void 0:t.stringValue)===yA}function ld(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ya(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=ld(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ld(n.arrayValue.values[t]);return e}return Object.assign({},n)}function jM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===DM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.value=e}static empty(){return new yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Jh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ld(t)}setAll(e){let t=qn.emptyPath(),s={},a=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,s,a),s={},a=[],t=d.popLast()}u?s[d.lastSegment()]=ld(u):a.push(d.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,s,a)}delete(e){const t=this.field(e.popLast());Jh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Jh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Ya(t,(a,o)=>e[a]=o);for(const a of s)delete e[a]}clone(){return new yr(ld(this.value))}}function vA(n){const e=[];return Ya(n.fields,(t,s)=>{const a=new qn([t]);if(Jh(s)){const o=vA(s.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)}),new Nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,t,s,a,o,u,d){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=o,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Xn(e,0,et.min(),et.min(),et.min(),yr.empty(),0)}static newFoundDocument(e,t,s,a){return new Xn(e,1,t,et.min(),s,a,0)}static newNoDocument(e,t){return new Xn(e,2,t,et.min(),et.min(),yr.empty(),0)}static newUnknownDocument(e,t){return new Xn(e,3,t,et.min(),et.min(),yr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,t){this.position=e,this.inclusive=t}}function tT(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const o=e[a],u=n.position[a];if(o.field.isKeyField()?s=ze.comparator(ze.fromName(u.referenceValue),t.key):s=hc(u,t.data.field(o.field)),o.dir==="desc"&&(s*=-1),s!==0)break}return s}function nT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!zs(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,t="asc"){this.field=e,this.dir=t}}function MM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{}class xn extends _A{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new LM(e,t,s):t==="array-contains"?new BM(e,s):t==="in"?new zM(e,s):t==="not-in"?new FM(e,s):t==="array-contains-any"?new HM(e,s):new xn(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new VM(e,s):new UM(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(hc(t,this.value)):t!==null&&La(this.value)===La(t)&&this.matchesComparison(hc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class os extends _A{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new os(e,t)}matches(e){return bA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function bA(n){return n.op==="and"}function xA(n){return PM(n)&&bA(n)}function PM(n){for(const e of n.filters)if(e instanceof os)return!1;return!0}function Sv(n){if(n instanceof xn)return n.field.canonicalString()+n.op.toString()+mc(n.value);if(xA(n))return n.filters.map(e=>Sv(e)).join(",");{const e=n.filters.map(t=>Sv(t)).join(",");return`${n.op}(${e})`}}function wA(n,e){return n instanceof xn?function(s,a){return a instanceof xn&&s.op===a.op&&s.field.isEqual(a.field)&&zs(s.value,a.value)}(n,e):n instanceof os?function(s,a){return a instanceof os&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((o,u,d)=>o&&wA(u,a.filters[d]),!0):!1}(n,e):void Ye(19439)}function EA(n){return n instanceof xn?function(t){return`${t.field.canonicalString()} ${t.op} ${mc(t.value)}`}(n):n instanceof os?function(t){return t.op.toString()+" {"+t.getFilters().map(EA).join(" ,")+"}"}(n):"Filter"}class LM extends xn{constructor(e,t,s){super(e,t,s),this.key=ze.fromName(s.referenceValue)}matches(e){const t=ze.comparator(e.key,this.key);return this.matchesComparison(t)}}class VM extends xn{constructor(e,t){super(e,"in",t),this.keys=TA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class UM extends xn{constructor(e,t){super(e,"not-in",t),this.keys=TA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function TA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ze.fromName(s.referenceValue))}class BM extends xn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return A0(t)&&_d(t.arrayValue,this.value)}}class zM extends xn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_d(this.value.arrayValue,t)}}class FM extends xn{constructor(e,t){super(e,"not-in",t)}matches(e){if(_d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!_d(this.value.arrayValue,t)}}class HM extends xn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!A0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>_d(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,t=null,s=[],a=[],o=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=o,this.startAt=u,this.endAt=d,this.Ie=null}}function rT(n,e=null,t=[],s=[],a=null,o=null,u=null){return new qM(n,e,t,s,a,o,u)}function C0(n){const e=tt(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Sv(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(o){return o.field.canonicalString()+o.dir}(s)).join(","),Jm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>mc(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>mc(s)).join(",")),e.Ie=t}return e.Ie}function R0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!MM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!wA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!nT(n.startAt,e.startAt)&&nT(n.endAt,e.endAt)}function Av(n){return ze.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,t=null,s=[],a=[],o=null,u="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=o,this.limitType=u,this.startAt=d,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function $M(n,e,t,s,a,o,u,d){return new jc(n,e,t,s,a,o,u,d)}function tp(n){return new jc(n)}function sT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function SA(n){return n.collectionGroup!==null}function cd(n){const e=tt(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new In(qn.comparator);return u.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new bd(o,s))}),t.has(qn.keyField().canonicalString())||e.Ee.push(new bd(qn.keyField(),s))}return e.Ee}function Ps(n){const e=tt(n);return e.de||(e.de=GM(e,cd(n))),e.de}function GM(n,e){if(n.limitType==="F")return rT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new bd(a.field,o)});const t=n.endAt?new xm(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new xm(n.startAt.position,n.startAt.inclusive):null;return rT(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Cv(n,e){const t=n.filters.concat([e]);return new jc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function wm(n,e,t){return new jc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function np(n,e){return R0(Ps(n),Ps(e))&&n.limitType===e.limitType}function AA(n){return`${C0(Ps(n))}|lt:${n.limitType}`}function Hl(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(a=>EA(a)).join(", ")}]`),Jm(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(a=>mc(a)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(a=>mc(a)).join(",")),`Target(${s})`}(Ps(n))}; limitType=${n.limitType})`}function rp(n,e){return e.isFoundDocument()&&function(s,a){const o=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(o):ze.isDocumentKey(s.path)?s.path.isEqual(o):s.path.isImmediateParentOf(o)}(n,e)&&function(s,a){for(const o of cd(s))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,e)&&function(s,a){for(const o of s.filters)if(!o.matches(a))return!1;return!0}(n,e)&&function(s,a){return!(s.startAt&&!function(u,d,m){const p=tT(u,d,m);return u.inclusive?p<=0:p<0}(s.startAt,cd(s),a)||s.endAt&&!function(u,d,m){const p=tT(u,d,m);return u.inclusive?p>=0:p>0}(s.endAt,cd(s),a))}(n,e)}function YM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function CA(n){return(e,t)=>{let s=!1;for(const a of cd(n)){const o=KM(a,e,t);if(o!==0)return o;s=s||a.field.isKeyField()}return 0}}function KM(n,e,t){const s=n.field.isKeyField()?ze.comparator(e.key,t.key):function(o,u,d){const m=u.data.field(o),p=d.data.field(o);return m!==null&&p!==null?hc(m,p):Ye(42886)}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Ye(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,o]of s)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ya(this.inner,(t,s)=>{for(const[a,o]of s)e(a,o)})}isEmpty(){return uA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=new an(ze.comparator);function ji(){return ZM}const RA=new an(ze.comparator);function ed(...n){let e=RA;for(const t of n)e=e.insert(t.key,t);return e}function NA(n){let e=RA;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ko(){return ud()}function IA(){return ud()}function ud(){return new Yo(n=>n.toString(),(n,e)=>n.isEqual(e))}const QM=new an(ze.comparator),WM=new In(ze.comparator);function pt(...n){let e=WM;for(const t of n)e=e.add(t);return e}const XM=new In(ct);function JM(){return XM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vm(e)?"-0":e}}function kA(n){return{integerValue:""+n}}function e6(n,e){return CM(e)?kA(e):N0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(){this._=void 0}}function t6(n,e,t){return n instanceof Em?function(a,o){const u={fields:{[hA]:{stringValue:fA},[pA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&S0(o)&&(o=ep(o)),o&&(u.fields[mA]=o),{mapValue:u}}(t,e):n instanceof xd?OA(n,e):n instanceof wd?jA(n,e):function(a,o){const u=DA(a,o),d=iT(u)+iT(a.Re);return Tv(u)&&Tv(a.Re)?kA(d):N0(a.serializer,d)}(n,e)}function n6(n,e,t){return n instanceof xd?OA(n,e):n instanceof wd?jA(n,e):t}function DA(n,e){return n instanceof Tm?function(s){return Tv(s)||function(o){return!!o&&"doubleValue"in o}(s)}(e)?e:{integerValue:0}:null}class Em extends sp{}class xd extends sp{constructor(e){super(),this.elements=e}}function OA(n,e){const t=MA(e);for(const s of n.elements)t.some(a=>zs(a,s))||t.push(s);return{arrayValue:{values:t}}}class wd extends sp{constructor(e){super(),this.elements=e}}function jA(n,e){let t=MA(e);for(const s of n.elements)t=t.filter(a=>!zs(a,s));return{arrayValue:{values:t}}}class Tm extends sp{constructor(e,t){super(),this.serializer=e,this.Re=t}}function iT(n){return pn(n.integerValue||n.doubleValue)}function MA(n){return A0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function r6(n,e){return n.field.isEqual(e.field)&&function(s,a){return s instanceof xd&&a instanceof xd||s instanceof wd&&a instanceof wd?fc(s.elements,a.elements,zs):s instanceof Tm&&a instanceof Tm?zs(s.Re,a.Re):s instanceof Em&&a instanceof Em}(n.transform,e.transform)}class s6{constructor(e,t){this.version=e,this.transformResults=t}}class cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function em(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ip{}function PA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ap(n.key,cr.none()):new Kd(n.key,n.data,cr.none());{const t=n.data,s=yr.empty();let a=new In(qn.comparator);for(let o of e.fields)if(!a.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?s.delete(o):s.set(o,u),a=a.add(o)}return new Ka(n.key,s,new Nr(a.toArray()),cr.none())}}function i6(n,e,t){n instanceof Kd?function(a,o,u){const d=a.value.clone(),m=oT(a.fieldTransforms,o,u.transformResults);d.setAll(m),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ka?function(a,o,u){if(!em(a.precondition,o))return void o.convertToUnknownDocument(u.version);const d=oT(a.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(LA(a)),m.setAll(d),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function dd(n,e,t,s){return n instanceof Kd?function(o,u,d,m){if(!em(o.precondition,u))return d;const p=o.value.clone(),v=lT(o.fieldTransforms,m,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,s):n instanceof Ka?function(o,u,d,m){if(!em(o.precondition,u))return d;const p=lT(o.fieldTransforms,m,u),v=u.data;return v.setAll(LA(o)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(b=>b.field))}(n,e,t,s):function(o,u,d){return em(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function a6(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),o=DA(s.transform,a||null);o!=null&&(t===null&&(t=yr.empty()),t.set(s.field,o))}return t||null}function aT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&fc(s,a,(o,u)=>r6(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Kd extends ip{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ka extends ip{constructor(e,t,s,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function LA(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function oT(n,e,t){const s=new Map;Dt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const o=n[a],u=o.transform,d=e.data.field(o.field);s.set(o.field,n6(u,d,t[a]))}return s}function lT(n,e,t){const s=new Map;for(const a of n){const o=a.transform,u=t.data.field(a.field);s.set(a.field,t6(o,u,e))}return s}class ap extends ip{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class o6 extends ip{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&i6(o,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=dd(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=dd(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=IA();return this.mutations.forEach(a=>{const o=e.get(a.key),u=o.overlayedDocument;let d=this.applyToLocalView(u,o.mutatedFields);d=t.has(a.key)?null:d;const m=PA(u,d);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(et.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pt())}isEqual(e){return this.batchId===e.batchId&&fc(this.mutations,e.mutations,(t,s)=>aT(t,s))&&fc(this.baseMutations,e.baseMutations,(t,s)=>aT(t,s))}}class I0{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Dt(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let a=function(){return QM}();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,s[u].version);return new I0(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bn,xt;function d6(n){switch(n){case ue.OK:return Ye(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Ye(15467,{code:n})}}function VA(n){if(n===void 0)return Oi("GRPC error has no .code"),ue.UNKNOWN;switch(n){case bn.OK:return ue.OK;case bn.CANCELLED:return ue.CANCELLED;case bn.UNKNOWN:return ue.UNKNOWN;case bn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case bn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case bn.INTERNAL:return ue.INTERNAL;case bn.UNAVAILABLE:return ue.UNAVAILABLE;case bn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case bn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case bn.NOT_FOUND:return ue.NOT_FOUND;case bn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case bn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case bn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case bn.ABORTED:return ue.ABORTED;case bn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case bn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case bn.DATA_LOSS:return ue.DATA_LOSS;default:return Ye(39323,{code:n})}}(xt=bn||(bn={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=new ka([4294967295,4294967295],0);function cT(n){const e=oA().encode(n),t=new J1;return t.update(e),new Uint8Array(t.digest())}function uT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ka([t,s],0),new ka([a,o],0)]}class k0{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new td(`Invalid padding: ${t}`);if(s<0)throw new td(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new td(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new td(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=ka.fromNumber(this.pe)}we(e,t,s){let a=e.add(t.multiply(ka.fromNumber(s)));return a.compare(f6)===1&&(a=new ka([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=cT(e),[s,a]=uT(t);for(let o=0;o<this.hashCount;o++){const u=this.we(s,a,o);if(!this.be(u))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new k0(o,a,t);return s.forEach(d=>u.insert(d)),u}insert(e){if(this.pe===0)return;const t=cT(e),[s,a]=uT(t);for(let o=0;o<this.hashCount;o++){const u=this.we(s,a,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class td extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,t,s,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Zd.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new op(et.min(),a,new an(ct),ji(),pt())}}class Zd{constructor(e,t,s,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Zd(s,t,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,t,s,a){this.De=e,this.removedTargetIds=t,this.key=s,this.ve=a}}class UA{constructor(e,t){this.targetId=e,this.Ce=t}}class BA{constructor(e,t,s=Gn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class dT{constructor(){this.Fe=0,this.Me=fT(),this.xe=Gn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=pt(),t=pt(),s=pt();return this.Me.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Ye(38017,{changeType:o})}}),new Zd(this.xe,this.Oe,e,t,s)}Qe(){this.Ne=!1,this.Me=fT()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Dt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class h6{constructor(e){this.ze=e,this.je=new Map,this.He=ji(),this.Je=Mh(),this.Ye=Mh(),this.Ze=new an(ct)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const s=this.rt(t);switch(e.state){case 0:this.it(t)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(t);break;case 3:this.it(t)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),s.ke(e.resumeToken));break;default:Ye(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((s,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,s=e.Ce.count,a=this._t(t);if(a){const o=a.target;if(Av(o))if(s===0){const u=new ze(o.path);this.tt(t,u,Xn.newNoDocument(u,et.min()))}else Dt(s===1,20013,{expectedCount:s});else{const u=this.ut(t);if(u!==s){const d=this.ct(e),m=d?this.lt(d,e,u):1;if(m!==0){this.st(t);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:o=0}=t;let u,d;try{u=Pa(s).toUint8Array()}catch(m){if(m instanceof dA)return dc("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new k0(u,a,o)}catch(m){return dc(m instanceof td?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.pe===0?null:d}lt(e,t,s){return t.Ce.count===s-this.Tt(e,t.targetId)?0:2}Tt(e,t){const s=this.ze.getRemoteKeysForTarget(t);let a=0;return s.forEach(o=>{const u=this.ze.Pt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,o,null),a++)}),a}It(e){const t=new Map;this.je.forEach((o,u)=>{const d=this._t(u);if(d){if(o.current&&Av(d.target)){const m=new ze(d.target.path);this.Et(m).has(u)||this.dt(u,m)||this.tt(u,m,Xn.newNoDocument(m,e))}o.Le&&(t.set(u,o.qe()),o.Qe())}});let s=pt();this.Ye.forEach((o,u)=>{let d=!0;u.forEachWhile(m=>{const p=this._t(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const a=new op(e,t,this.Ze,this.He,s);return this.He=ji(),this.Je=Mh(),this.Ye=Mh(),this.Ze=new an(ct),a}et(e,t){if(!this.it(e))return;const s=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,s),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,s){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),s&&(this.He=this.He.insert(t,s))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new dT,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new In(ct),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new In(ct),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Se("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new dT),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Mh(){return new an(ze.comparator)}function fT(){return new an(ze.comparator)}const m6={asc:"ASCENDING",desc:"DESCENDING"},p6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},g6={and:"AND",or:"OR"};class y6{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Rv(n,e){return n.useProto3Json||Jm(e)?e:{value:e}}function Sm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function v6(n,e){return Sm(n,e.toTimestamp())}function Ls(n){return Dt(!!n,49232),et.fromTimestamp(function(t){const s=Ma(t);return new Ht(s.seconds,s.nanos)}(n))}function D0(n,e){return Nv(n,e).canonicalString()}function Nv(n,e){const t=function(a){return new Gt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function FA(n){const e=Gt.fromString(n);return Dt(YA(e),10190,{key:e.toString()}),e}function Iv(n,e){return D0(n.databaseId,e.path)}function zy(n,e){const t=FA(e);if(t.get(1)!==n.databaseId.projectId)throw new we(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new we(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ze(qA(t))}function HA(n,e){return D0(n.databaseId,e)}function _6(n){const e=FA(n);return e.length===4?Gt.emptyPath():qA(e)}function kv(n){return new Gt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function qA(n){return Dt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function hT(n,e,t){return{name:Iv(n,e),fields:t.value.mapValue.fields}}function b6(n,e){let t;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ye(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(p,v){return p.useProto3Json?(Dt(v===void 0||typeof v=="string",58123),Gn.fromBase64String(v||"")):(Dt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Gn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(p){const v=p.code===void 0?ue.UNKNOWN:VA(p.code);return new we(v,p.message||"")}(u);t=new BA(s,a,o,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=zy(n,s.document.name),o=Ls(s.document.updateTime),u=s.document.createTime?Ls(s.document.createTime):et.min(),d=new yr({mapValue:{fields:s.document.fields}}),m=Xn.newFoundDocument(a,o,u,d),p=s.targetIds||[],v=s.removedTargetIds||[];t=new tm(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=zy(n,s.document),o=s.readTime?Ls(s.readTime):et.min(),u=Xn.newNoDocument(a,o),d=s.removedTargetIds||[];t=new tm([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=zy(n,s.document),o=s.removedTargetIds||[];t=new tm([],o,a,null)}else{if(!("filter"in e))return Ye(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:o}=s,u=new u6(a,o),d=s.targetId;t=new UA(d,u)}}return t}function x6(n,e){let t;if(e instanceof Kd)t={update:hT(n,e.key,e.value)};else if(e instanceof ap)t={delete:Iv(n,e.key)};else if(e instanceof Ka)t={update:hT(n,e.key,e.data),updateMask:I6(e.fieldMask)};else{if(!(e instanceof o6))return Ye(16599,{ft:e.type});t={verify:Iv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(o,u){const d=u.transform;if(d instanceof Em)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof xd)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof wd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Tm)return{fieldPath:u.field.canonicalString(),increment:d.Re};throw Ye(20930,{transform:u.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:v6(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ye(27497)}(n,e.precondition)),t}function w6(n,e){return n&&n.length>0?(Dt(e!==void 0,14353),n.map(t=>function(a,o){let u=a.updateTime?Ls(a.updateTime):Ls(o);return u.isEqual(et.min())&&(u=Ls(o)),new s6(u,a.transformResults||[])}(t,e))):[]}function E6(n,e){return{documents:[HA(n,e.path)]}}function T6(n,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=HA(n,a);const o=function(p){if(p.length!==0)return GA(os.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(p){if(p.length!==0)return p.map(v=>function(_){return{field:ql(_.field),direction:C6(_.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=Rv(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:a}}function S6(n){let e=_6(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Dt(s===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let o=[];t.where&&(o=function(b){const _=$A(b);return _ instanceof os&&xA(_)?_.getFilters():[_]}(t.where));let u=[];t.orderBy&&(u=function(b){return b.map(_=>function(C){return new bd($l(C.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(_))}(t.orderBy));let d=null;t.limit&&(d=function(b){let _;return _=typeof b=="object"?b.value:b,Jm(_)?null:_}(t.limit));let m=null;t.startAt&&(m=function(b){const _=!!b.before,S=b.values||[];return new xm(S,_)}(t.startAt));let p=null;return t.endAt&&(p=function(b){const _=!b.before,S=b.values||[];return new xm(S,_)}(t.endAt)),$M(e,a,u,o,d,"F",m,p)}function A6(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ye(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function $A(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=$l(t.unaryFilter.field);return xn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=$l(t.unaryFilter.field);return xn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=$l(t.unaryFilter.field);return xn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=$l(t.unaryFilter.field);return xn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ye(61313);default:return Ye(60726)}}(n):n.fieldFilter!==void 0?function(t){return xn.create($l(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ye(58110);default:return Ye(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return os.create(t.compositeFilter.filters.map(s=>$A(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ye(1026)}}(t.compositeFilter.op))}(n):Ye(30097,{filter:n})}function C6(n){return m6[n]}function R6(n){return p6[n]}function N6(n){return g6[n]}function ql(n){return{fieldPath:n.canonicalString()}}function $l(n){return qn.fromServerFormat(n.fieldPath)}function GA(n){return n instanceof xn?function(t){if(t.op==="=="){if(eT(t.value))return{unaryFilter:{field:ql(t.field),op:"IS_NAN"}};if(JE(t.value))return{unaryFilter:{field:ql(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(eT(t.value))return{unaryFilter:{field:ql(t.field),op:"IS_NOT_NAN"}};if(JE(t.value))return{unaryFilter:{field:ql(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ql(t.field),op:R6(t.op),value:t.value}}}(n):n instanceof os?function(t){const s=t.getFilters().map(a=>GA(a));return s.length===1?s[0]:{compositeFilter:{op:N6(t.op),filters:s}}}(n):Ye(54877,{filter:n})}function I6(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function YA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,t,s,a,o=et.min(),u=et.min(),d=Gn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.wt=e}}function D6(n){const e=S6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?wm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(){this.Cn=new j6}addToCollectionParentIndex(e,t){return this.Cn.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(ja.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(ja.min())}updateCollectionGroup(e,t,s){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class j6{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new In(Gt.comparator),o=!a.has(s);return this.index[t]=a.add(s),o}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new In(Gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},KA=41943040;class gr{static withCacheSize(e){return new gr(e,gr.DEFAULT_COLLECTION_PERCENTILE,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr.DEFAULT_COLLECTION_PERCENTILE=10,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gr.DEFAULT=new gr(KA,gr.DEFAULT_COLLECTION_PERCENTILE,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gr.DISABLED=new gr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new pc(0)}static lr(){return new pc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="LruGarbageCollector",M6=1048576;function gT([n,e],[t,s]){const a=ct(n,t);return a===0?ct(e,s):a}class P6{constructor(e){this.Er=e,this.buffer=new In(gT),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();gT(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class L6{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Se(pT,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Oc(t)?Se(pT,"Ignoring IndexedDB error during garbage collection: ",t):await Dc(t)}await this.mr(3e5)})}}class V6{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return fe.resolve(Xm.le);const s=new P6(t);return this.gr.forEachTarget(e,a=>s.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>s.Rr(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.gr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(mT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mT):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let s,a,o,u,d,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,u=Date.now(),this.nthSequenceNumber(e,a))).next(b=>(s=b,d=Date.now(),this.removeTargets(e,s,t))).next(b=>(o=b,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(p=Date.now(),Fl()<=mt.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${o} targets in `+(m-d)+`ms
	Removed ${b} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:b})))}}function U6(n,e){return new V6(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(){this.changes=new Yo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?fe.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(s!==null&&dd(s.mutation,a,Nr.empty(),Ht.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,pt()).next(()=>s))}getLocalViewOfDocuments(e,t,s=pt()){const a=ko();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(o=>{let u=ed();return o.forEach((d,m)=>{u=u.insert(d,m.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const s=ko();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,pt()))}populateOverlays(e,t,s){const a=[];return s.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,s,a){let o=ji();const u=ud(),d=function(){return ud()}();return t.forEach((m,p)=>{const v=s.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Ka)?o=o.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),dd(v.mutation,p,v.mutation.getFieldMask(),Ht.now())):u.set(p.key,Nr.empty())}),this.recalculateAndSaveOverlays(e,o).next(m=>(m.forEach((p,v)=>u.set(p,v)),t.forEach((p,v)=>{var b;return d.set(p,new z6(v,(b=u.get(p))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,t){const s=ud();let a=new an((u,d)=>u-d),o=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(m=>{const p=t.get(m);if(p===null)return;let v=s.get(m)||Nr.empty();v=d.applyToLocalView(p,v),s.set(m,v);const b=(a.get(d.batchId)||pt()).add(m);a=a.insert(d.batchId,b)})}).next(()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,v=m.value,b=IA();v.forEach(_=>{if(!o.has(_)){const S=PA(t.get(_),s.get(_));S!==null&&b.set(_,S),o=o.add(_)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,b))}return fe.waitFor(u)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,a){return function(u){return ze.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):SA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-o.size):fe.resolve(ko());let d=gd,m=o;return u.next(p=>fe.forEach(p,(v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),o.get(v)?fe.resolve():this.remoteDocumentCache.getEntry(e,v).next(_=>{m=m.insert(v,_)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,m,p,pt())).next(v=>({batchId:d,changes:NA(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ze(t)).next(s=>{let a=ed();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const o=t.collectionGroup;let u=ed();return this.indexManager.getCollectionParents(e,o).next(d=>fe.forEach(d,m=>{const p=function(b,_){return new jc(_,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,m.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next(v=>{v.forEach((b,_)=>{u=u.insert(b,_)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,s,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,o,a))).next(u=>{o.forEach((m,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,Xn.newInvalidDocument(v)))});let d=ed();return u.forEach((m,p)=>{const v=o.get(m);v!==void 0&&dd(v.mutation,p,Nr.empty(),Ht.now()),rp(t,p)&&(d=d.insert(m,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return fe.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Ls(a.createTime)}}(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(a){return{name:a.name,query:D6(a.bundledQuery),readTime:Ls(a.readTime)}}(t)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(){this.overlays=new an(ze.comparator),this.Qr=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ko();return fe.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&s.set(a,o)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,o)=>{this.St(e,t,o)}),fe.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.Qr.get(s);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(s)),fe.resolve()}getOverlaysForCollection(e,t,s){const a=ko(),o=t.length+1,u=new ze(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&m.largestBatchId>s&&a.set(m.getKey(),m)}return fe.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let o=new an((p,v)=>p-v);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>s){let v=o.get(p.largestBatchId);v===null&&(v=ko(),o=o.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=ko(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,v)=>d.set(p,v)),!(d.size()>=a)););return fe.resolve(d)}St(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Qr.get(a.largestBatchId).delete(s.key);this.Qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new c6(t,s));let o=this.Qr.get(t);o===void 0&&(o=pt(),this.Qr.set(t,o)),this.Qr.set(t,o.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(){this.sessionToken=Gn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(){this.$r=new In(Ln.Ur),this.Kr=new In(Ln.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const s=new Ln(e,t);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.zr(new Ln(e,t))}jr(e,t){e.forEach(s=>this.removeReference(s,t))}Hr(e){const t=new ze(new Gt([])),s=new Ln(t,e),a=new Ln(t,e+1),o=[];return this.Kr.forEachInRange([s,a],u=>{this.zr(u),o.push(u.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new ze(new Gt([])),s=new Ln(t,e),a=new Ln(t,e+1);let o=pt();return this.Kr.forEachInRange([s,a],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Ln(e,0),s=this.$r.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ln{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ze.comparator(e.key,t.key)||ct(e.Zr,t.Zr)}static Wr(e,t){return ct(e.Zr,t.Zr)||ze.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new In(Ln.Ur)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new l6(o,t,s,a);this.mutationQueue.push(u);for(const d of a)this.Xr=this.Xr.add(new Ln(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return fe.resolve(u)}lookupMutationBatch(e,t){return fe.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.ti(s),o=a<0?0:a;return fe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?T0:this.nr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ln(t,0),a=new Ln(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([s,a],u=>{const d=this.ei(u.Zr);o.push(d)}),fe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new In(ct);return t.forEach(a=>{const o=new Ln(a,0),u=new Ln(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,u],d=>{s=s.add(d.Zr)})}),fe.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let o=s;ze.isDocumentKey(o)||(o=o.child(""));const u=new Ln(new ze(o),0);let d=new In(ct);return this.Xr.forEachWhile(m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Zr)),!0)},u),fe.resolve(this.ni(d))}ni(e){const t=[];return e.forEach(s=>{const a=this.ei(s);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Dt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return fe.forEach(t.mutations,a=>{const o=new Ln(a.key,t.batchId);return s=s.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,t){const s=new Ln(t,0),a=this.Xr.firstAfterOrEqual(s);return fe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e){this.ii=e,this.docs=function(){return new an(ze.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),o=a?a.size:0,u=this.ii(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return fe.resolve(s?s.document.mutableCopy():Xn.newInvalidDocument(t))}getEntries(e,t){let s=ji();return t.forEach(a=>{const o=this.docs.get(a);s=s.insert(a,o?o.document.mutableCopy():Xn.newInvalidDocument(a))}),fe.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let o=ji();const u=t.path,d=new ze(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||EM(wM(v),s)<=0||(a.has(v.key)||rp(t,v))&&(o=o.insert(v.key,v.mutableCopy()))}return fe.resolve(o)}getAllFromCollectionGroup(e,t,s,a){Ye(9500)}si(e,t){return fe.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new K6(this)}getSize(e){return fe.resolve(this.size)}}class K6 extends B6{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.Br.addEntry(e,a)):this.Br.removeEntry(s)}),fe.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e){this.persistence=e,this.oi=new Yo(t=>C0(t),R0),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this._i=0,this.ai=new O0,this.targetCount=0,this.ui=pc.cr()}forEachTarget(e,t){return this.oi.forEach((s,a)=>t(a)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this._i&&(this._i=t),fe.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new pc(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.Tr(t),fe.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,s){let a=0;const o=[];return this.oi.forEach((u,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.oi.delete(u),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),fe.waitFor(o).next(()=>a)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const s=this.oi.get(t)||null;return fe.resolve(s)}addMatchingKeys(e,t,s){return this.ai.Gr(t,s),fe.resolve()}removeMatchingKeys(e,t,s){this.ai.jr(t,s);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(u=>{o.push(a.markPotentiallyOrphaned(e,u))}),fe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ai.Yr(t);return fe.resolve(s)}containsKey(e,t){return fe.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,t){this.ci={},this.overlays={},this.li=new Xm(0),this.hi=!1,this.hi=!0,this.Pi=new $6,this.referenceDelegate=e(this),this.Ti=new Z6(this),this.indexManager=new O6,this.remoteDocumentCache=function(a){return new Y6(a)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new k6(t),this.Ei=new H6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new q6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ci[e.toKey()];return s||(s=new G6(t,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,s){Se("MemoryPersistence","Starting transaction:",e);const a=new Q6(this.li.next());return this.referenceDelegate.di(),s(a).next(o=>this.referenceDelegate.Ai(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Ri(e,t){return fe.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,t)))}}class Q6 extends SM{constructor(e){super(),this.currentSequenceNumber=e}}class j0{constructor(e){this.persistence=e,this.Vi=new O0,this.mi=null}static fi(e){return new j0(e)}get gi(){if(this.mi)return this.mi;throw Ye(60996)}addReference(e,t,s){return this.Vi.addReference(s,t),this.gi.delete(s.toString()),fe.resolve()}removeReference(e,t,s){return this.Vi.removeReference(s,t),this.gi.add(s.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(a=>this.gi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.gi.add(o.toString()))}).next(()=>s.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.gi,s=>{const a=ze.fromPath(s);return this.pi(e,a).next(o=>{o||t.removeEntry(a,et.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(s=>{s?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return fe.or([()=>fe.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Am{constructor(e,t){this.persistence=e,this.yi=new Yo(s=>RM(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=U6(this,t)}static fi(e,t){return new Am(e,t)}di(){}Ai(e){return fe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}br(e){let t=0;return this.yr(e,s=>{t++}).next(()=>t)}yr(e,t){return fe.forEach(this.yi,(s,a)=>this.Dr(e,s,a).next(o=>o?fe.resolve():t(a)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.si(e,u=>this.Dr(e,u,t).next(d=>{d||(s++,o.removeEntry(u,et.min()))})).next(()=>o.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),fe.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),fe.resolve()}removeReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),fe.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Xh(e.data.value)),t}Dr(e,t,s){return fe.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.yi.get(t);return fe.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.ds=s,this.As=a}static Rs(e,t){let s=pt(),a=pt();for(const o of t.docChanges)switch(o.type){case 0:s=s.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new M0(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return kO()?8:AM(er())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,s,a){const o={result:null};return this.ws(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.bs(e,t,a,s).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new W6;return this.Ss(e,t,u).next(d=>{if(o.result=d,this.fs)return this.Ds(e,t,u,d.size)})}).next(()=>o.result)}Ds(e,t,s,a){return s.documentReadCount<this.gs?(Fl()<=mt.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",Hl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),fe.resolve()):(Fl()<=mt.DEBUG&&Se("QueryEngine","Query:",Hl(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ps*a?(Fl()<=mt.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",Hl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ps(t))):fe.resolve())}ws(e,t){if(sT(t))return fe.resolve(null);let s=Ps(t);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=wm(t,null,"F"),s=Ps(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(o=>{const u=pt(...o);return this.ys.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,s).next(m=>{const p=this.vs(t,d);return this.Cs(t,p,u,m.readTime)?this.ws(e,wm(t,null,"F")):this.Fs(e,p,t,m)}))})))}bs(e,t,s,a){return sT(t)||a.isEqual(et.min())?fe.resolve(null):this.ys.getDocuments(e,s).next(o=>{const u=this.vs(t,o);return this.Cs(t,u,s,a)?fe.resolve(null):(Fl()<=mt.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Hl(t)),this.Fs(e,u,t,xM(a,gd)).next(d=>d))})}vs(e,t){let s=new In(CA(e));return t.forEach((a,o)=>{rp(e,o)&&(s=s.add(o))}),s}Cs(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,t,s){return Fl()<=mt.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",Hl(t)),this.ys.getDocumentsMatchingQuery(e,t,ja.min(),s)}Fs(e,t,s,a){return this.ys.getDocumentsMatchingQuery(e,s,a).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="LocalStore",J6=3e8;class eP{constructor(e,t,s,a){this.persistence=e,this.Ms=t,this.serializer=a,this.xs=new an(ct),this.Os=new Yo(o=>C0(o),R0),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new F6(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function tP(n,e,t,s){return new eP(n,e,t,s)}async function QA(n,e){const t=tt(n);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(o=>(a=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(s))).next(o=>{const u=[],d=[];let m=pt();for(const p of a){u.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of o){d.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(s,m).next(p=>({ks:p,removedBatchIds:u,addedBatchIds:d}))})})}function nP(n,e){const t=tt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(d,m,p,v){const b=p.batch,_=b.keys();let S=fe.resolve();return _.forEach(C=>{S=S.next(()=>v.getEntry(m,C)).next(R=>{const N=p.docVersions.get(C);Dt(N!==null,48541),R.version.compareTo(N)<0&&(b.applyToRemoteDocument(R,p),R.isValidDocument()&&(R.setReadTime(p.commitVersion),v.addEntry(R)))})}),S.next(()=>d.mutationQueue.removeMutationBatch(m,b))}(t,s,e,o).next(()=>o.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let m=pt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function WA(n){const e=tt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function rP(n,e){const t=tt(n),s=e.snapshotVersion;let a=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Bs.newChangeBuffer({trackRemovals:!0});a=t.xs;const d=[];e.targetChanges.forEach((v,b)=>{const _=a.get(b);if(!_)return;d.push(t.Ti.removeMatchingKeys(o,v.removedDocuments,b).next(()=>t.Ti.addMatchingKeys(o,v.addedDocuments,b)));let S=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?S=S.withResumeToken(Gn.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,s)),a=a.insert(b,S),function(R,N,j){return R.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=J6?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(_,S,v)&&d.push(t.Ti.updateTargetData(o,S))});let m=ji(),p=pt();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(o,v))}),d.push(sP(o,u,e.documentUpdates).next(v=>{m=v.qs,p=v.Qs})),!s.isEqual(et.min())){const v=t.Ti.getLastRemoteSnapshotVersion(o).next(b=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,s));d.push(v)}return fe.waitFor(d).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,m,p)).next(()=>m)}).then(o=>(t.xs=a,o))}function sP(n,e,t){let s=pt(),a=pt();return t.forEach(o=>s=s.add(o)),e.getEntries(n,s).next(o=>{let u=ji();return t.forEach((d,m)=>{const p=o.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(et.min())?(e.removeEntry(d,m.readTime),u=u.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(d,m)):Se(P0,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)}),{qs:u,Qs:a}})}function iP(n,e){const t=tt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=T0),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function aP(n,e){const t=tt(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Ti.getTargetData(s,e).next(o=>o?(a=o,fe.resolve(a)):t.Ti.allocateTargetId(s).next(u=>(a=new Aa(e,u,"TargetPurposeListen",s.currentSequenceNumber),t.Ti.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.xs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.xs=t.xs.insert(s.targetId,s),t.Os.set(e,s.targetId)),s})}async function Dv(n,e,t){const s=tt(n),a=s.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",o,u=>s.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Oc(u))throw u;Se(P0,`Failed to update sequence numbers for target ${e}: ${u}`)}s.xs=s.xs.remove(e),s.Os.delete(a.target)}function yT(n,e,t){const s=tt(n);let a=et.min(),o=pt();return s.persistence.runTransaction("Execute query","readwrite",u=>function(m,p,v){const b=tt(m),_=b.Os.get(v);return _!==void 0?fe.resolve(b.xs.get(_)):b.Ti.getTargetData(p,v)}(s,u,Ps(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(u,d.targetId).next(m=>{o=m})}).next(()=>s.Ms.getDocumentsMatchingQuery(u,e,t?a:et.min(),t?o:pt())).next(d=>(oP(s,YM(e),d),{documents:d,$s:o})))}function oP(n,e,t){let s=n.Ns.get(e)||et.min();t.forEach((a,o)=>{o.readTime.compareTo(s)>0&&(s=o.readTime)}),n.Ns.set(e,s)}class vT{constructor(){this.activeTargetIds=JM()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lP{constructor(){this.xo=new vT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,s){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new vT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="ConnectivityMonitor";class bT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Se(_T,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Se(_T,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph=null;function Ov(){return Ph===null?Ph=function(){return 268435456+Math.round(2147483648*Math.random())}():Ph++,"0x"+Ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="RestConnection",uP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dP{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${s}/databases/${a}`,this.Go=this.databaseId.database===_m?`project_id=${s}`:`project_id=${s}&database_id=${a}`}zo(e,t,s,a,o){const u=Ov(),d=this.jo(e,t.toUriEncodedString());Se(Fy,`Sending RPC '${e}' ${u}:`,d,s);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,a,o);const{host:p}=new URL(d),v=Rc(p);return this.Jo(e,d,m,s,v).then(b=>(Se(Fy,`Received RPC '${e}' ${u}: `,b),b),b=>{throw dc(Fy,`RPC '${e}' ${u} failed with error: `,b,"url: ",d,"request:",s),b})}Yo(e,t,s,a,o,u){return this.zo(e,t,s,a,o)}Ho(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+kc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),s&&s.headers.forEach((a,o)=>e[o]=a)}jo(e,t){const s=uP[e];return`${this.Ko}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="WebChannelConnection";class hP extends dP{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,a,o){const u=Ov();return new Promise((d,m)=>{const p=new eA;p.setWithCredentials(!0),p.listenOnce(tA.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Wh.NO_ERROR:const b=p.getResponseJson();Se(Qn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),d(b);break;case Wh.TIMEOUT:Se(Qn,`RPC '${e}' ${u} timed out`),m(new we(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Wh.HTTP_ERROR:const _=p.getStatus();if(Se(Qn,`RPC '${e}' ${u} failed with status:`,_,"response text:",p.getResponseText()),_>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const C=S==null?void 0:S.error;if(C&&C.status&&C.message){const R=function(j){const U=j.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(U)>=0?U:ue.UNKNOWN}(C.status);m(new we(R,C.message))}else m(new we(ue.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new we(ue.UNAVAILABLE,"Connection failed."));break;default:Ye(9055,{h_:e,streamId:u,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{Se(Qn,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(a);Se(Qn,`RPC '${e}' ${u} sending request:`,a),p.send(t,"POST",v,s,15)})}I_(e,t,s){const a=Ov(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=sA(),d=rA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const v=o.join("");Se(Qn,`Creating RPC '${e}' stream ${a}: ${v}`,m);const b=u.createWebChannel(v,m);this.E_(b);let _=!1,S=!1;const C=new fP({Zo:N=>{S?Se(Qn,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(_||(Se(Qn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),_=!0),Se(Qn,`RPC '${e}' stream ${a} sending:`,N),b.send(N))},Xo:()=>b.close()}),R=(N,j,U)=>{N.listen(j,V=>{try{U(V)}catch($){setTimeout(()=>{throw $},0)}})};return R(b,Ju.EventType.OPEN,()=>{S||(Se(Qn,`RPC '${e}' stream ${a} transport opened.`),C.__())}),R(b,Ju.EventType.CLOSE,()=>{S||(S=!0,Se(Qn,`RPC '${e}' stream ${a} transport closed`),C.u_(),this.d_(b))}),R(b,Ju.EventType.ERROR,N=>{S||(S=!0,dc(Qn,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),C.u_(new we(ue.UNAVAILABLE,"The operation could not be completed")))}),R(b,Ju.EventType.MESSAGE,N=>{var j;if(!S){const U=N.data[0];Dt(!!U,16349);const V=U,$=(V==null?void 0:V.error)||((j=V[0])===null||j===void 0?void 0:j.error);if($){Se(Qn,`RPC '${e}' stream ${a} received error:`,$);const H=$.status;let Q=function(M){const B=bn[M];if(B!==void 0)return VA(B)}(H),I=$.message;Q===void 0&&(Q=ue.INTERNAL,I="Unknown error status: "+H+" with message "+$.message),S=!0,C.u_(new we(Q,I)),b.close()}else Se(Qn,`RPC '${e}' stream ${a} received:`,U),C.c_(U)}}),R(d,nA.STAT_EVENT,N=>{N.stat===xv.PROXY?Se(Qn,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===xv.NOPROXY&&Se(Qn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Hy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(n){return new y6(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,t,s=1e3,a=1.5,o=6e4){this.xi=e,this.timerId=t,this.A_=s,this.R_=a,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),a=Math.max(0,t-s);a>0&&Se("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="PersistentStream";class JA{constructor(e,t,s,a,o,u,d,m){this.xi=e,this.S_=s,this.D_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new XA(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(Oi(t.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.v_===t&&this.z_(s,a)},s=>{e(()=>{const a=new we(ue.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(a)})})}z_(e,t){const s=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{s(()=>this.j_(a))}),this.stream.onMessage(a=>{s(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Se(xT,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(Se(xT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mP extends JA{constructor(e,t,s,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,u),this.serializer=o}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=b6(this.serializer,e),s=function(o){if(!("targetChange"in o))return et.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?et.min():u.readTime?Ls(u.readTime):et.min()}(e);return this.listener.Y_(t,s)}Z_(e){const t={};t.database=kv(this.serializer),t.addTarget=function(o,u){let d;const m=u.target;if(d=Av(m)?{documents:E6(o,m)}:{query:T6(o,m).gt},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=zA(o,u.resumeToken);const p=Rv(o,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(et.min())>0){d.readTime=Sm(o,u.snapshotVersion.toTimestamp());const p=Rv(o,u.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const s=A6(this.serializer,e);s&&(t.labels=s),this.Q_(t)}X_(e){const t={};t.database=kv(this.serializer),t.removeTarget=e,this.Q_(t)}}class pP extends JA{constructor(e,t,s,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,u),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=w6(e.writeResults,e.commitTime),s=Ls(e.commitTime);return this.listener.ra(s,t)}ia(){const e={};e.database=kv(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>x6(this.serializer,s))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{}class yP extends gP{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new we(ue.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,s,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.zo(e,Nv(t,s),a,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new we(ue.UNKNOWN,o.toString())})}Yo(e,t,s,a,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Yo(e,Nv(t,s),a,u,d,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new we(ue.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class vP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Oi(t),this.ua=!1):Se("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="RemoteStore";class _P{constructor(e,t,s,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(u=>{s.enqueueAndForget(async()=>{Ko(this)&&(Se(Vo,"Restarting streams for network reachability change."),await async function(m){const p=tt(m);p.da.add(4),await Qd(p),p.Va.set("Unknown"),p.da.delete(4),await cp(p)}(this))})}),this.Va=new vP(s,a)}}async function cp(n){if(Ko(n))for(const e of n.Aa)await e(!0)}async function Qd(n){for(const e of n.Aa)await e(!1)}function eC(n,e){const t=tt(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),B0(t)?U0(t):Mc(t).N_()&&V0(t,e))}function L0(n,e){const t=tt(n),s=Mc(t);t.Ea.delete(e),s.N_()&&tC(t,e),t.Ea.size===0&&(s.N_()?s.k_():Ko(t)&&t.Va.set("Unknown"))}function V0(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(et.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Mc(n).Z_(e)}function tC(n,e){n.ma.Ke(e),Mc(n).X_(e)}function U0(n){n.ma=new h6({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Mc(n).start(),n.Va.ca()}function B0(n){return Ko(n)&&!Mc(n).O_()&&n.Ea.size>0}function Ko(n){return tt(n).da.size===0}function nC(n){n.ma=void 0}async function bP(n){n.Va.set("Online")}async function xP(n){n.Ea.forEach((e,t)=>{V0(n,e)})}async function wP(n,e){nC(n),B0(n)?(n.Va.Pa(e),U0(n)):n.Va.set("Unknown")}async function EP(n,e,t){if(n.Va.set("Online"),e instanceof BA&&e.state===2&&e.cause)try{await async function(a,o){const u=o.cause;for(const d of o.targetIds)a.Ea.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ea.delete(d),a.ma.removeTarget(d))}(n,e)}catch(s){Se(Vo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Cm(n,s)}else if(e instanceof tm?n.ma.Xe(e):e instanceof UA?n.ma.ot(e):n.ma.nt(e),!t.isEqual(et.min()))try{const s=await WA(n.localStore);t.compareTo(s)>=0&&await function(o,u){const d=o.ma.It(u);return d.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=o.Ea.get(p);v&&o.Ea.set(p,v.withResumeToken(m.resumeToken,u))}}),d.targetMismatches.forEach((m,p)=>{const v=o.Ea.get(m);if(!v)return;o.Ea.set(m,v.withResumeToken(Gn.EMPTY_BYTE_STRING,v.snapshotVersion)),tC(o,m);const b=new Aa(v.target,m,p,v.sequenceNumber);V0(o,b)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(s){Se(Vo,"Failed to raise snapshot:",s),await Cm(n,s)}}async function Cm(n,e,t){if(!Oc(e))throw e;n.da.add(1),await Qd(n),n.Va.set("Offline"),t||(t=()=>WA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Se(Vo,"Retrying IndexedDB access"),await t(),n.da.delete(1),await cp(n)})}function rC(n,e){return e().catch(t=>Cm(n,t,e))}async function up(n){const e=tt(n),t=Va(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:T0;for(;TP(e);)try{const a=await iP(e.localStore,s);if(a===null){e.Ia.length===0&&t.k_();break}s=a.batchId,SP(e,a)}catch(a){await Cm(e,a)}sC(e)&&iC(e)}function TP(n){return Ko(n)&&n.Ia.length<10}function SP(n,e){n.Ia.push(e);const t=Va(n);t.N_()&&t.ea&&t.ta(e.mutations)}function sC(n){return Ko(n)&&!Va(n).O_()&&n.Ia.length>0}function iC(n){Va(n).start()}async function AP(n){Va(n).ia()}async function CP(n){const e=Va(n);for(const t of n.Ia)e.ta(t.mutations)}async function RP(n,e,t){const s=n.Ia.shift(),a=I0.from(s,e,t);await rC(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await up(n)}async function NP(n,e){e&&Va(n).ea&&await async function(s,a){if(function(u){return d6(u)&&u!==ue.ABORTED}(a.code)){const o=s.Ia.shift();Va(s).L_(),await rC(s,()=>s.remoteSyncer.rejectFailedWrite(o.batchId,a)),await up(s)}}(n,e),sC(n)&&iC(n)}async function wT(n,e){const t=tt(n);t.asyncQueue.verifyOperationInProgress(),Se(Vo,"RemoteStore received new credentials");const s=Ko(t);t.da.add(3),await Qd(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await cp(t)}async function IP(n,e){const t=tt(n);e?(t.da.delete(2),await cp(t)):e||(t.da.add(2),await Qd(t),t.Va.set("Unknown"))}function Mc(n){return n.fa||(n.fa=function(t,s,a){const o=tt(t);return o.oa(),new mP(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{e_:bP.bind(null,n),n_:xP.bind(null,n),i_:wP.bind(null,n),Y_:EP.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),B0(n)?U0(n):n.Va.set("Unknown")):(await n.fa.stop(),nC(n))})),n.fa}function Va(n){return n.ga||(n.ga=function(t,s,a){const o=tt(t);return o.oa(),new pP(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:AP.bind(null,n),i_:NP.bind(null,n),na:CP.bind(null,n),ra:RP.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await up(n)):(await n.ga.stop(),n.Ia.length>0&&(Se(Vo,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,t,s,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=o,this.deferred=new Ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,o){const u=Date.now()+s,d=new z0(e,t,u,a,o);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function F0(n,e){if(Oi("AsyncQueue",`${e}: ${n}`),Oc(n))return new we(ue.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{static emptySet(e){return new Jl(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ze.comparator(t.key,s.key):(t,s)=>ze.comparator(t.key,s.key),this.keyedMap=ed(),this.sortedSet=new an(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=s.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Jl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.pa=new an(ze.comparator)}track(e){const t=e.doc.key,s=this.pa.get(t);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(t,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(t):e.type===1&&s.type===2?this.pa=this.pa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Ye(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,s)=>{e.push(s)}),e}}class gc{constructor(e,t,s,a,o,u,d,m,p){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,t,s,a,o){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new gc(e,t,Jl.emptySet(t),u,s,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&np(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class DP{constructor(){this.queries=TT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const a=tt(t),o=a.queries;a.queries=TT(),o.forEach((u,d)=>{for(const m of d.Sa)m.onError(s)})})(this,new we(ue.ABORTED,"Firestore shutting down"))}}function TT(){return new Yo(n=>AA(n),np)}async function H0(n,e){const t=tt(n);let s=3;const a=e.query;let o=t.queries.get(a);o?!o.Da()&&e.va()&&(s=2):(o=new kP,s=e.va()?0:1);try{switch(s){case 0:o.ba=await t.onListen(a,!0);break;case 1:o.ba=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const d=F0(u,`Initialization of query '${Hl(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,o),o.Sa.push(e),e.Fa(t.onlineState),o.ba&&e.Ma(o.ba)&&$0(t)}async function q0(n,e){const t=tt(n),s=e.query;let a=3;const o=t.queries.get(s);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?a=e.va()?0:1:!o.Da()&&e.va()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function OP(n,e){const t=tt(n);let s=!1;for(const a of e){const o=a.query,u=t.queries.get(o);if(u){for(const d of u.Sa)d.Ma(a)&&(s=!0);u.ba=a}}s&&$0(t)}function jP(n,e,t){const s=tt(n),a=s.queries.get(e);if(a)for(const o of a.Sa)o.onError(t);s.queries.delete(e)}function $0(n){n.Ca.forEach(e=>{e.next()})}var jv,ST;(ST=jv||(jv={})).xa="default",ST.Cache="cache";class G0{constructor(e,t,s){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new gc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const s=t!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=gc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==jv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.key=e}}class oC{constructor(e){this.key=e}}class MP{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=pt(),this.mutatedKeys=pt(),this.Za=CA(e),this.Xa=new Jl(this.Za)}get eu(){return this.Ha}tu(e,t){const s=t?t.nu:new ET,a=t?t.Xa:this.Xa;let o=t?t.mutatedKeys:this.mutatedKeys,u=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,b)=>{const _=a.get(v),S=rp(this.query,b)?b:null,C=!!_&&this.mutatedKeys.has(_.key),R=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let N=!1;_&&S?_.data.isEqual(S.data)?C!==R&&(s.track({type:3,doc:S}),N=!0):this.ru(_,S)||(s.track({type:2,doc:S}),N=!0,(m&&this.Za(S,m)>0||p&&this.Za(S,p)<0)&&(d=!0)):!_&&S?(s.track({type:0,doc:S}),N=!0):_&&!S&&(s.track({type:1,doc:_}),N=!0,(m||p)&&(d=!0)),N&&(S?(u=u.add(S),o=R?o.add(v):o.delete(v)):(u=u.delete(v),o=o.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),o=o.delete(v.key),s.track({type:1,doc:v})}return{Xa:u,nu:s,Cs:d,mutatedKeys:o}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const u=e.nu.wa();u.sort((v,b)=>function(S,C){const R=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ye(20277,{Vt:N})}};return R(S)-R(C)}(v.type,b.type)||this.Za(v.doc,b.doc)),this.iu(s),a=a!=null&&a;const d=t&&!a?this.su():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Ja;return this.Ja=m,u.length!==0||p?{snapshot:new gc(this.query,e.Xa,o,u,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new ET,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=pt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const t=[];return e.forEach(s=>{this.Ya.has(s)||t.push(new oC(s))}),this.Ya.forEach(s=>{e.has(s)||t.push(new aC(s))}),t}au(e){this.Ha=e.$s,this.Ya=pt();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return gc.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Y0="SyncEngine";class PP{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class LP{constructor(e){this.key=e,this.cu=!1}}class VP{constructor(e,t,s,a,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new Yo(d=>AA(d),np),this.Pu=new Map,this.Tu=new Set,this.Iu=new an(ze.comparator),this.Eu=new Map,this.du=new O0,this.Au={},this.Ru=new Map,this.Vu=pc.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function UP(n,e,t=!0){const s=hC(n);let a;const o=s.hu.get(e);return o?(s.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.uu()):a=await lC(s,e,t,!0),a}async function BP(n,e){const t=hC(n);await lC(t,e,!0,!1)}async function lC(n,e,t,s){const a=await aP(n.localStore,Ps(e)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let d;return s&&(d=await zP(n,e,o,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&eC(n.remoteStore,a),d}async function zP(n,e,t,s,a){n.fu=(b,_,S)=>async function(R,N,j,U){let V=N.view.tu(j);V.Cs&&(V=await yT(R.localStore,N.query,!1).then(({documents:I})=>N.view.tu(I,V)));const $=U&&U.targetChanges.get(N.targetId),H=U&&U.targetMismatches.get(N.targetId)!=null,Q=N.view.applyChanges(V,R.isPrimaryClient,$,H);return CT(R,N.targetId,Q.ou),Q.snapshot}(n,b,_,S);const o=await yT(n.localStore,e,!0),u=new MP(e,o.$s),d=u.tu(o.documents),m=Zd.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",a),p=u.applyChanges(d,n.isPrimaryClient,m);CT(n,t,p.ou);const v=new PP(e,t,u);return n.hu.set(e,v),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),p.snapshot}async function FP(n,e,t){const s=tt(n),a=s.hu.get(e),o=s.Pu.get(a.targetId);if(o.length>1)return s.Pu.set(a.targetId,o.filter(u=>!np(u,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Dv(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),t&&L0(s.remoteStore,a.targetId),Mv(s,a.targetId)}).catch(Dc)):(Mv(s,a.targetId),await Dv(s.localStore,a.targetId,!0))}async function HP(n,e){const t=tt(n),s=t.hu.get(e),a=t.Pu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),L0(t.remoteStore,s.targetId))}async function qP(n,e,t){const s=WP(n);try{const a=await function(u,d){const m=tt(u),p=Ht.now(),v=d.reduce((S,C)=>S.add(C.key),pt());let b,_;return m.persistence.runTransaction("Locally write mutations","readwrite",S=>{let C=ji(),R=pt();return m.Bs.getEntries(S,v).next(N=>{C=N,C.forEach((j,U)=>{U.isValidDocument()||(R=R.add(j))})}).next(()=>m.localDocuments.getOverlayedDocuments(S,C)).next(N=>{b=N;const j=[];for(const U of d){const V=a6(U,b.get(U.key).overlayedDocument);V!=null&&j.push(new Ka(U.key,V,vA(V.value.mapValue),cr.exists(!0)))}return m.mutationQueue.addMutationBatch(S,p,j,d)}).next(N=>{_=N;const j=N.applyToLocalDocumentSet(b,R);return m.documentOverlayCache.saveOverlays(S,N.batchId,j)})}).then(()=>({batchId:_.batchId,changes:NA(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(u,d,m){let p=u.Au[u.currentUser.toKey()];p||(p=new an(ct)),p=p.insert(d,m),u.Au[u.currentUser.toKey()]=p}(s,a.batchId,t),await Wd(s,a.changes),await up(s.remoteStore)}catch(a){const o=F0(a,"Failed to persist write");t.reject(o)}}async function cC(n,e){const t=tt(n);try{const s=await rP(t.localStore,e);e.targetChanges.forEach((a,o)=>{const u=t.Eu.get(o);u&&(Dt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.cu=!0:a.modifiedDocuments.size>0?Dt(u.cu,14607):a.removedDocuments.size>0&&(Dt(u.cu,42227),u.cu=!1))}),await Wd(t,s,e)}catch(s){await Dc(s)}}function AT(n,e,t){const s=tt(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.hu.forEach((o,u)=>{const d=u.view.Fa(e);d.snapshot&&a.push(d.snapshot)}),function(u,d){const m=tt(u);m.onlineState=d;let p=!1;m.queries.forEach((v,b)=>{for(const _ of b.Sa)_.Fa(d)&&(p=!0)}),p&&$0(m)}(s.eventManager,e),a.length&&s.lu.Y_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function $P(n,e,t){const s=tt(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Eu.get(e),o=a&&a.key;if(o){let u=new an(ze.comparator);u=u.insert(o,Xn.newNoDocument(o,et.min()));const d=pt().add(o),m=new op(et.min(),new Map,new an(ct),u,d);await cC(s,m),s.Iu=s.Iu.remove(o),s.Eu.delete(e),K0(s)}else await Dv(s.localStore,e,!1).then(()=>Mv(s,e,t)).catch(Dc)}async function GP(n,e){const t=tt(n),s=e.batch.batchId;try{const a=await nP(t.localStore,e);dC(t,s,null),uC(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Wd(t,a)}catch(a){await Dc(a)}}async function YP(n,e,t){const s=tt(n);try{const a=await function(u,d){const m=tt(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return m.mutationQueue.lookupMutationBatch(p,d).next(b=>(Dt(b!==null,37113),v=b.keys(),m.mutationQueue.removeMutationBatch(p,b))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>m.localDocuments.getDocuments(p,v))})}(s.localStore,e);dC(s,e,t),uC(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Wd(s,a)}catch(a){await Dc(a)}}function uC(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function dC(n,e,t){const s=tt(n);let a=s.Au[s.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),s.Au[s.currentUser.toKey()]=a}}function Mv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Pu.get(e))n.hu.delete(s),t&&n.lu.gu(s,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(s=>{n.du.containsKey(s)||fC(n,s)})}function fC(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(L0(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),K0(n))}function CT(n,e,t){for(const s of t)s instanceof aC?(n.du.addReference(s.key,e),KP(n,s)):s instanceof oC?(Se(Y0,"Document no longer in limbo: "+s.key),n.du.removeReference(s.key,e),n.du.containsKey(s.key)||fC(n,s.key)):Ye(19791,{pu:s})}function KP(n,e){const t=e.key,s=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(s)||(Se(Y0,"New document in limbo: "+t),n.Tu.add(s),K0(n))}function K0(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new ze(Gt.fromString(e)),s=n.Vu.next();n.Eu.set(s,new LP(t)),n.Iu=n.Iu.insert(t,s),eC(n.remoteStore,new Aa(Ps(tp(t.path)),s,"TargetPurposeLimboResolution",Xm.le))}}async function Wd(n,e,t){const s=tt(n),a=[],o=[],u=[];s.hu.isEmpty()||(s.hu.forEach((d,m)=>{u.push(s.fu(m,e,t).then(p=>{var v;if((p||t)&&s.isPrimaryClient){const b=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(m.targetId,b?"current":"not-current")}if(p){a.push(p);const b=M0.Rs(m.targetId,p);o.push(b)}}))}),await Promise.all(u),s.lu.Y_(a),await async function(m,p){const v=tt(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>fe.forEach(p,_=>fe.forEach(_.ds,S=>v.persistence.referenceDelegate.addReference(b,_.targetId,S)).next(()=>fe.forEach(_.As,S=>v.persistence.referenceDelegate.removeReference(b,_.targetId,S)))))}catch(b){if(!Oc(b))throw b;Se(P0,"Failed to update sequence numbers: "+b)}for(const b of p){const _=b.targetId;if(!b.fromCache){const S=v.xs.get(_),C=S.snapshotVersion,R=S.withLastLimboFreeSnapshotVersion(C);v.xs=v.xs.insert(_,R)}}}(s.localStore,o))}async function ZP(n,e){const t=tt(n);if(!t.currentUser.isEqual(e)){Se(Y0,"User change. New user:",e.toKey());const s=await QA(t.localStore,e);t.currentUser=e,function(o,u){o.Ru.forEach(d=>{d.forEach(m=>{m.reject(new we(ue.CANCELLED,u))})}),o.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Wd(t,s.ks)}}function QP(n,e){const t=tt(n),s=t.Eu.get(e);if(s&&s.cu)return pt().add(s.key);{let a=pt();const o=t.Pu.get(e);if(!o)return a;for(const u of o){const d=t.hu.get(u);a=a.unionWith(d.view.eu)}return a}}function hC(n){const e=tt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=cC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$P.bind(null,e),e.lu.Y_=OP.bind(null,e.eventManager),e.lu.gu=jP.bind(null,e.eventManager),e}function WP(n){const e=tt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YP.bind(null,e),e}class Rm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lp(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return tP(this.persistence,new X6,e.initialUser,this.serializer)}Su(e){return new ZA(j0.fi,this.serializer)}bu(e){return new lP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rm.provider={build:()=>new Rm};class XP extends Rm{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Dt(this.persistence.referenceDelegate instanceof Am,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new L6(s,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?gr.withCacheSize(this.cacheSizeBytes):gr.DEFAULT;return new ZA(s=>Am.fi(s,t),this.serializer)}}class Pv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>AT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZP.bind(null,this.syncEngine),await IP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DP}()}createDatastore(e){const t=lp(e.databaseInfo.databaseId),s=function(o){return new hP(o)}(e.databaseInfo);return function(o,u,d,m){return new yP(o,u,d,m)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,a,o,u,d){return new _P(s,a,o,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>AT(this.syncEngine,t,0),function(){return bT.C()?new bT:new cP}())}createSyncEngine(e,t){return function(a,o,u,d,m,p,v){const b=new VP(a,o,u,d,m,p);return v&&(b.mu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=tt(a);Se(Vo,"RemoteStore shutting down."),o.da.add(5),await Qd(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Pv.provider={build:()=>new Pv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="FirestoreClient";class JP{constructor(e,t,s,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Wn.UNAUTHENTICATED,this.clientId=lA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(s,async u=>{Se(Ua,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(s,u=>(Se(Ua,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=F0(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function qy(n,e){n.asyncQueue.verifyOperationInProgress(),Se(Ua,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(async a=>{s.isEqual(a)||(await QA(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function RT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await e8(n);Se(Ua,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(s=>wT(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,a)=>wT(e.remoteStore,a)),n._onlineComponents=e}async function e8(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Se(Ua,"Using user provided OfflineComponentProvider");try{await qy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ue.FAILED_PRECONDITION||a.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;dc("Error using user provided cache. Falling back to memory cache: "+t),await qy(n,new Rm)}}else Se(Ua,"Using default OfflineComponentProvider"),await qy(n,new XP(void 0));return n._offlineComponents}async function mC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Se(Ua,"Using user provided OnlineComponentProvider"),await RT(n,n._uninitializedComponentsProvider._online)):(Se(Ua,"Using default OnlineComponentProvider"),await RT(n,new Pv))),n._onlineComponents}function t8(n){return mC(n).then(e=>e.syncEngine)}async function Nm(n){const e=await mC(n),t=e.eventManager;return t.onListen=UP.bind(null,e.syncEngine),t.onUnlisten=FP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=BP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=HP.bind(null,e.syncEngine),t}function n8(n,e,t={}){const s=new Ci;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,d,m,p){const v=new Z0({next:_=>{v.xu(),u.enqueueAndForget(()=>q0(o,b));const S=_.docs.has(d);!S&&_.fromCache?p.reject(new we(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&_.fromCache&&m&&m.source==="server"?p.reject(new we(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(_)},error:_=>p.reject(_)}),b=new G0(tp(d.path),v,{includeMetadataChanges:!0,Qa:!0});return H0(o,b)}(await Nm(n),n.asyncQueue,e,t,s)),s.promise}function r8(n,e,t={}){const s=new Ci;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,d,m,p){const v=new Z0({next:_=>{v.xu(),u.enqueueAndForget(()=>q0(o,b)),_.fromCache&&m.source==="server"?p.reject(new we(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),b=new G0(d,v,{includeMetadataChanges:!0,Qa:!0});return H0(o,b)}(await Nm(n),n.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(n,e,t){if(!t)throw new we(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function s8(n,e,t,s){if(e===!0&&s===!0)throw new we(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function IT(n){if(!ze.isDocumentKey(n))throw new we(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kT(n){if(ze.isDocumentKey(n))throw new we(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ye(12329,{type:typeof n})}function ur(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dp(n);throw new we(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function i8(n,e){if(e<=0)throw new we(ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="firestore.googleapis.com",DT=!0;class OT{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new we(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yC,this.ssl=DT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:DT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=KA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<M6)throw new we(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}s8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pC((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new we(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new we(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new we(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fp{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new fM;switch(s.type){case"firstParty":return new gM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new we(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=NT.get(t);s&&(Se("ComponentProvider","Removing Datastore"),NT.delete(t),s.terminate())}(this),Promise.resolve()}}function a8(n,e,t,s={}){var a;n=ur(n,fp);const o=Rc(e),u=n._getSettings(),d=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),m=`${e}:${t}`;o&&(u1(`https://${m}`),d1("Firestore",!0)),u.host!==yC&&u.host!==m&&dc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:o,emulatorOptions:s});if(!Oo(p,d)&&(n._setSettings(p),s.mockUserToken)){let v,b;if(typeof s.mockUserToken=="string")v=s.mockUserToken,b=Wn.MOCK_USER;else{v=wO(s.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new we(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Wn(_)}n._authCredentials=new hM(new aA(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Fi(this.firestore,e,this._query)}}class Jn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class Da extends Fi{constructor(e,t,s){super(e,t,tp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new ze(e))}withConverter(e){return new Da(this.firestore,e,this._path)}}function Yt(n,e,...t){if(n=dn(n),gC("collection","path",e),n instanceof fp){const s=Gt.fromString(e,...t);return kT(s),new Da(n,null,s)}{if(!(n instanceof Jn||n instanceof Da))throw new we(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Gt.fromString(e,...t));return kT(s),new Da(n.firestore,null,s)}}function Kt(n,e,...t){if(n=dn(n),arguments.length===1&&(e=lA.newId()),gC("doc","path",e),n instanceof fp){const s=Gt.fromString(e,...t);return IT(s),new Jn(n,null,new ze(s))}{if(!(n instanceof Jn||n instanceof Da))throw new we(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Gt.fromString(e,...t));return IT(s),new Jn(n.firestore,n instanceof Da?n.converter:null,new ze(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="AsyncQueue";class MT{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new XA(this,"async_queue_retry"),this.rc=()=>{const s=Hy();s&&Se(jT,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const t=Hy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Hy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Ci;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Oc(e))throw e;Se(jT,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,Oi("INTERNAL UNHANDLED ERROR: ",PT(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=t,t}enqueueAfterDelay(e,t,s){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const a=z0.createAndSchedule(this,e,t,s,o=>this.uc(o));return this.Zu.push(a),a}oc(){this.Xu&&Ye(47125,{cc:PT(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function PT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(n){return function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of s)if(o in a&&typeof a[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Fs extends fp{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new MT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new MT(e),this._firestoreClient=void 0,await e}}}function o8(n,e){const t=typeof n=="object"?n:p1(),s=typeof n=="string"?n:_m,a=m0(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const o=bO("firestore");o&&a8(a,...o)}return a}function Xd(n){if(n._terminated)throw new we(ue.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||l8(n),n._firestoreClient}function l8(n){var e,t,s;const a=n._freezeSettings(),o=function(d,m,p,v){return new kM(d,m,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,pC(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new JP(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yc(Gn.fromBase64String(e))}catch(t){throw new we(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yc(Gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let o=0;o<s.length;++o)if(s[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=/^__.*__$/;class u8{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ka(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kd(e,this.data,t,this.fieldTransforms)}}class vC{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ka(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _C(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ye(40011,{Ic:n})}}class J0{constructor(e,t,s,a,o,u){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new J0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:s,Rc:!1});return a.Vc(e),a}mc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:s,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Im(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(_C(this.Ic)&&c8.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class d8{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||lp(e)}bc(e,t,s,a=!1){return new J0({Ic:e,methodName:t,wc:s,path:qn.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ef(n){const e=n._freezeSettings(),t=lp(n._databaseId);return new d8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function e_(n,e,t,s,a,o={}){const u=n.bc(o.merge||o.mergeFields?2:0,e,t,a);t_("Data must be an object, but it was:",u,s);const d=wC(s,u);let m,p;if(o.merge)m=new Nr(u.fieldMask),p=u.fieldTransforms;else if(o.mergeFields){const v=[];for(const b of o.mergeFields){const _=Lv(e,b,t);if(!u.contains(_))throw new we(ue.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);TC(v,_)||v.push(_)}m=new Nr(v),p=u.fieldTransforms.filter(b=>m.covers(b.field))}else m=null,p=u.fieldTransforms;return new u8(new yr(d),m,p)}class hp extends Q0{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hp}}function bC(n,e,t,s){const a=n.bc(1,e,t);t_("Data must be an object, but it was:",a,s);const o=[],u=yr.empty();Ya(s,(m,p)=>{const v=n_(e,m,t);p=dn(p);const b=a.mc(v);if(p instanceof hp)o.push(v);else{const _=tf(p,b);_!=null&&(o.push(v),u.set(v,_))}});const d=new Nr(o);return new vC(u,d,a.fieldTransforms)}function xC(n,e,t,s,a,o){const u=n.bc(1,e,t),d=[Lv(e,s,t)],m=[a];if(o.length%2!=0)throw new we(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)d.push(Lv(e,o[_])),m.push(o[_+1]);const p=[],v=yr.empty();for(let _=d.length-1;_>=0;--_)if(!TC(p,d[_])){const S=d[_];let C=m[_];C=dn(C);const R=u.mc(S);if(C instanceof hp)p.push(S);else{const N=tf(C,R);N!=null&&(p.push(S),v.set(S,N))}}const b=new Nr(p);return new vC(v,b,u.fieldTransforms)}function f8(n,e,t,s=!1){return tf(t,n.bc(s?4:3,e))}function tf(n,e){if(EC(n=dn(n)))return t_("Unsupported field value:",e,n),wC(n,e);if(n instanceof Q0)return function(s,a){if(!_C(a.Ic))throw a.gc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${s._methodName}() is not currently supported inside arrays`);const o=s._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,a){const o=[];let u=0;for(const d of s){let m=tf(d,a.fc(u));m==null&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(n,e)}return function(s,a){if((s=dn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return e6(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const o=Ht.fromDate(s);return{timestampValue:Sm(a.serializer,o)}}if(s instanceof Ht){const o=new Ht(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Sm(a.serializer,o)}}if(s instanceof W0)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof yc)return{bytesValue:zA(a.serializer,s._byteString)};if(s instanceof Jn){const o=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(o))throw a.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:D0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof X0)return function(u,d){return{mapValue:{fields:{[gA]:{stringValue:yA},[bm]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw d.gc("VectorValues must only contain numeric values.");return N0(d.serializer,p)})}}}}}}(s,a);throw a.gc(`Unsupported field value: ${dp(s)}`)}(n,e)}function wC(n,e){const t={};return uA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ya(n,(s,a)=>{const o=tf(a,e.Ac(s));o!=null&&(t[s]=o)}),{mapValue:{fields:t}}}function EC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ht||n instanceof W0||n instanceof yc||n instanceof Jn||n instanceof Q0||n instanceof X0)}function t_(n,e,t){if(!EC(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const s=dp(t);throw s==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+s)}}function Lv(n,e,t){if((e=dn(e))instanceof Jd)return e._internalPath;if(typeof e=="string")return n_(n,e);throw Im("Field path arguments must be of type string or ",n,!1,void 0,t)}const h8=new RegExp("[~\\*/\\[\\]]");function n_(n,e,t){if(e.search(h8)>=0)throw Im(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Jd(...e.split("."))._internalPath}catch{throw Im(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Im(n,e,t,s,a){const o=s&&!s.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(o||u)&&(m+=" (found",o&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new we(ue.INVALID_ARGUMENT,d+n+m)}function TC(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,t,s,a,o){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class m8 extends SC{data(){return super.data()}}function mp(n,e){return typeof e=="string"?n_(n,e):e instanceof Jd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new we(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class r_{}class s_ extends r_{}function vr(n,e,...t){let s=[];e instanceof r_&&s.push(e),s=s.concat(t),function(o){const u=o.filter(m=>m instanceof i_).length,d=o.filter(m=>m instanceof pp).length;if(u>1||u>0&&d>0)throw new we(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)n=a._apply(n);return n}class pp extends s_{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new pp(e,t,s)}_apply(e){const t=this._parse(e);return RC(e._query,t),new Fi(e.firestore,e.converter,Cv(e._query,t))}_parse(e){const t=ef(e.firestore);return function(o,u,d,m,p,v,b){let _;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new we(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){UT(b,v);const C=[];for(const R of b)C.push(VT(m,o,R));_={arrayValue:{values:C}}}else _=VT(m,o,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||UT(b,v),_=f8(d,u,b,v==="in"||v==="not-in");return xn.create(p,v,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Vs(n,e,t){const s=e,a=mp("where",n);return pp._create(a,s,t)}class i_ extends r_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new i_(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:os.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let u=a;const d=o.getFlattenedFilters();for(const m of d)RC(u,m),u=Cv(u,m)}(e._query,t),new Fi(e.firestore,e.converter,Cv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class a_ extends s_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new a_(e,t)}_apply(e){const t=function(a,o,u){if(a.startAt!==null)throw new we(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new we(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bd(o,u)}(e._query,this._field,this._direction);return new Fi(e.firestore,e.converter,function(a,o){const u=a.explicitOrderBy.concat([o]);return new jc(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function Mi(n,e="asc"){const t=e,s=mp("orderBy",n);return a_._create(s,t)}class o_ extends s_{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new o_(e,t,s)}_apply(e){return new Fi(e.firestore,e.converter,wm(e._query,this._limit,this._limitType))}}function CC(n){return i8("limit",n),o_._create("limit",n,"F")}function VT(n,e,t){if(typeof(t=dn(t))=="string"){if(t==="")throw new we(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SA(e)&&t.indexOf("/")!==-1)throw new we(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Gt.fromString(t));if(!ze.isDocumentKey(s))throw new we(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return XE(n,new ze(s))}if(t instanceof Jn)return XE(n,t._key);throw new we(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dp(t)}.`)}function UT(n,e){if(!Array.isArray(n)||n.length===0)throw new we(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RC(n,e){const t=function(a,o){for(const u of a)for(const d of u.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new we(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class p8{convertValue(e,t="none"){switch(La(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ye(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ya(e,(a,o)=>{s[a]=this.convertValue(o,t)}),s}convertVectorValue(e){var t,s,a;const o=(a=(s=(t=e.fields)===null||t===void 0?void 0:t[bm].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(u=>pn(u.doubleValue));return new X0(o)}convertGeoPoint(e){return new W0(pn(e.latitude),pn(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=ep(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(yd(e));default:return null}}convertTimestamp(e){const t=Ma(e);return new Ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Gt.fromString(e);Dt(YA(s),9688,{name:e});const a=new vd(s.get(1),s.get(3)),o=new ze(s.popFirst(5));return a.isEqual(t)||Oi(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class NC extends SC{constructor(e,t,s,a,o,u){super(e,t,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new nm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(mp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class nm extends NC{data(e={}){return super.data(e)}}class IC{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new nd(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new nm(this._firestore,this._userDataWriter,s.key,s,new nd(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(d=>{const m=new nm(a._firestore,a._userDataWriter,d.doc.key,d.doc,new nd(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const m=new nm(a._firestore,a._userDataWriter,d.doc.key,d.doc,new nd(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:g8(d.type),doc:m,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function g8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(n){n=ur(n,Jn);const e=ur(n.firestore,Fs);return n8(Xd(e),n._key).then(t=>kC(e,n,t))}class c_ extends p8{constructor(e){super(),this.firestore=e}convertBytes(e){return new yc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}function $n(n){n=ur(n,Fi);const e=ur(n.firestore,Fs),t=Xd(e),s=new c_(e);return AC(n._query),r8(t,n._query).then(a=>new IC(e,s,n,a))}function y8(n,e,t){n=ur(n,Jn);const s=ur(n.firestore,Fs),a=l_(n.converter,e,t);return rf(s,[e_(ef(s),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,cr.none())])}function rs(n,e,t,...s){n=ur(n,Jn);const a=ur(n.firestore,Fs),o=ef(a);let u;return u=typeof(e=dn(e))=="string"||e instanceof Jd?xC(o,"updateDoc",n._key,e,t,s):bC(o,"updateDoc",n._key,e),rf(a,[u.toMutation(n._key,cr.exists(!0))])}function nf(n){return rf(ur(n.firestore,Fs),[new ap(n._key,cr.none())])}function Ri(n,e){const t=ur(n.firestore,Fs),s=Kt(n),a=l_(n.converter,e);return rf(t,[e_(ef(n.firestore),"addDoc",s._key,a,n.converter!==null,{}).toMutation(s._key,cr.exists(!1))]).then(()=>s)}function v8(n,...e){var t,s,a;n=dn(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||LT(e[u])||(o=e[u],u++);const d={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(LT(e[u])){const b=e[u];e[u]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[u+1]=(s=b.error)===null||s===void 0?void 0:s.bind(b),e[u+2]=(a=b.complete)===null||a===void 0?void 0:a.bind(b)}let m,p,v;if(n instanceof Jn)p=ur(n.firestore,Fs),v=tp(n._key.path),m={next:b=>{e[u]&&e[u](kC(p,n,b))},error:e[u+1],complete:e[u+2]};else{const b=ur(n,Fi);p=ur(b.firestore,Fs),v=b._query;const _=new c_(p);m={next:S=>{e[u]&&e[u](new IC(p,_,b,S))},error:e[u+1],complete:e[u+2]},AC(n._query)}return function(_,S,C,R){const N=new Z0(R),j=new G0(S,N,C);return _.asyncQueue.enqueueAndForget(async()=>H0(await Nm(_),j)),()=>{N.xu(),_.asyncQueue.enqueueAndForget(async()=>q0(await Nm(_),j))}}(Xd(p),v,d,m)}function rf(n,e){return function(s,a){const o=new Ci;return s.asyncQueue.enqueueAndForget(async()=>qP(await t8(s),a,o)),o.promise}(Xd(n),e)}function kC(n,e,t){const s=t.docs.get(e._key),a=new c_(n);return new NC(n,a,e._key,s,new nd(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ef(e)}set(e,t,s){this._verifyNotCommitted();const a=$y(e,this._firestore),o=l_(a.converter,t,s),u=e_(this._dataReader,"WriteBatch.set",a._key,o,a.converter!==null,s);return this._mutations.push(u.toMutation(a._key,cr.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const o=$y(e,this._firestore);let u;return u=typeof(t=dn(t))=="string"||t instanceof Jd?xC(this._dataReader,"WriteBatch.update",o._key,t,s,a):bC(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,cr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=$y(e,this._firestore);return this._mutations=this._mutations.concat(new ap(t._key,cr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new we(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $y(n,e){if((n=dn(n)).firestore!==e)throw new we(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(n){return Xd(n=ur(n,Fs)),new _8(n,e=>rf(n,e))}(function(e,t=!0){(function(a){kc=a})(Nc),cc(new jo("firestore",(s,{instanceIdentifier:a,options:o})=>{const u=s.getProvider("app").getImmediate(),d=new Fs(new mM(s.getProvider("auth-internal")),new yM(u,s.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new we(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vd(p.options.projectId,v)}(u,a),u);return o=Object.assign({useFetchStreams:t},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),Ia(BE,zE,e),Ia(BE,zE,"esm2017")})();var b8="firebase",x8="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ia(b8,x8,"app");const w8={apiKey:"AIzaSyBWOaRM6RgB2B63wqHfawl7dMBU2uTMPbI",authDomain:"billybilly-8f5a5.firebaseapp.com",projectId:"billybilly-8f5a5",storageBucket:"billybilly-8f5a5.firebasestorage.app",messagingSenderId:"667395219625",appId:"1:667395219625:web:da57f0bb7b1319838349b8"},DC=m1(w8),Lh=uM(DC),He=o8(DC),OC=w.createContext();function rr(){return w.useContext(OC)}function E8({children:n}){const[e,t]=w.useState(null),[s,a]=w.useState(!0);function o(p,v,b){return Yj(Lh,p,v).then(async _=>(await F1(_.user,{displayName:b}),await y8(Kt(He,"users",_.user.uid),{email:_.user.email,displayName:b,createdAt:new Date,preferences:{currency:"CNY",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}}),await Ri(Yt(He,"ledgers"),{name:"Personal Expenses",ownerId:_.user.uid,createdAt:new Date,members:{[_.user.uid]:"owner"},currency:"CNY"}),_))}function u(p,v){return Kj(Lh,p,v)}function d(){return Jj(Lh)}w.useEffect(()=>Xj(Lh,async v=>{t(v||null),a(!1)}),[]);const m={currentUser:e,signup:o,login:u,logout:d};return h.jsx(OC.Provider,{value:m,children:!s&&n})}const jC=w.createContext();function Ys(){return w.useContext(jC)}function T8({children:n}){const{currentUser:e}=rr(),[t,s]=w.useState([]),[a,o]=w.useState(null),[u,d]=w.useState(!0),m=async()=>{if(!e){s([]),o(null),d(!1);return}try{const R=Yt(He,"ledgers"),N=await $n(R),j=[];N.forEach(U=>{const V=U.data();V.members&&V.members[e.uid]&&j.push({id:U.id,...V})}),s(j),j.length>0?o(j[0]):o(null)}catch(R){console.error("Error fetching ledgers:",R)}finally{d(!1)}},p=async()=>{d(!0),await m()},v=async R=>{try{const N=await gp(Kt(He,"ledgers",R));if(N.exists()){const j={id:N.id,...N.data()};o(j)}}catch(N){console.error("Error switching ledger:",N)}},b=()=>!a||!e?null:a.members[e.uid]||null,_=()=>b()==="owner",S=()=>{const R=b();return R==="owner"||R==="member"};w.useEffect(()=>{m()},[e]),w.useEffect(()=>{if(e&&t.length===0&&!u){const R=setTimeout(()=>{p()},1e3);return()=>clearTimeout(R)}},[e,t.length,u]);const C={ledgers:t,currentLedger:a,loading:u,switchLedger:v,fetchLedgers:m,refreshLedgers:p,getUserRole:b,isOwner:_,canEdit:S};return h.jsx(jC.Provider,{value:C,children:n})}function _a({children:n}){const{currentUser:e}=rr();return e?n:h.jsx(sv,{to:"/login"})}function rn({className:n,type:e,...t}){return h.jsx("input",{type:e,"data-slot":"input",className:un("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var S8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Mt=S8.reduce((n,e)=>{const t=hd(`Primitive.${e}`),s=w.forwardRef((a,o)=>{const{asChild:u,...d}=a,m=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(m,{...d,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{});function A8(n,e){n&&Bd.flushSync(()=>n.dispatchEvent(e))}var C8="Label",MC=w.forwardRef((n,e)=>h.jsx(Mt.label,{...n,ref:e,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||((a=n.onMouseDown)==null||a.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));MC.displayName=C8;var R8=MC;function nt({className:n,...e}){return h.jsx(R8,{"data-slot":"label",className:un("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}const N8=l0("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Wt({className:n,variant:e,...t}){return h.jsx("div",{"data-slot":"alert",role:"alert",className:un(N8({variant:e}),n),...t})}function Xt({className:n,...e}){return h.jsx("div",{"data-slot":"alert-description",className:un("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}function I8(){const[n,e]=w.useState(""),[t,s]=w.useState(""),[a,o]=w.useState(!1),[u,d]=w.useState(""),[m,p]=w.useState(!1),{login:v}=rr(),b=Gm();async function _(S){S.preventDefault();try{d(""),p(!0),await v(n,t),b("/")}catch(C){d("Failed to log in: "+C.message)}p(!1)}return h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-md w-full space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx(sc,{className:"h-12 w-12 text-blue-600"})}),h.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Sign in to ExpenseTracker"}),h.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",h.jsx(rc,{to:"/signup",className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]}),h.jsxs(wt,{children:[h.jsxs(Nt,{children:[h.jsx(It,{children:"Welcome back"}),h.jsx(cn,{children:"Enter your credentials to access your account"})]}),h.jsxs(Et,{children:[u&&h.jsx(Wt,{className:"mb-4",variant:"destructive",children:h.jsx(Xt,{children:u})}),h.jsxs("form",{onSubmit:_,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(nt,{htmlFor:"email",children:"Email address"}),h.jsx(rn,{id:"email",type:"email",value:n,onChange:S=>e(S.target.value),required:!0,className:"mt-1",placeholder:"Enter your email"})]}),h.jsxs("div",{children:[h.jsx(nt,{htmlFor:"password",children:"Password"}),h.jsxs("div",{className:"relative mt-1",children:[h.jsx(rn,{id:"password",type:a?"text":"password",value:t,onChange:S=>s(S.target.value),required:!0,placeholder:"Enter your password"}),h.jsx(Ve,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>o(!a),children:a?h.jsx(uv,{className:"h-4 w-4"}):h.jsx(dv,{className:"h-4 w-4"})})]})]}),h.jsx(Ve,{type:"submit",className:"w-full",disabled:m,children:m?"Signing in...":"Sign in"})]})]})]})]})})}function k8(){const[n,e]=w.useState(""),[t,s]=w.useState(""),[a,o]=w.useState(""),[u,d]=w.useState(""),[m,p]=w.useState(!1),[v,b]=w.useState(!1),[_,S]=w.useState(""),[C,R]=w.useState(!1),{signup:N}=rr(),{refreshLedgers:j}=Ys(),U=Gm();async function V($){if($.preventDefault(),t!==a)return S("Passwords do not match");if(t.length<6)return S("Password must be at least 6 characters");try{S(""),R(!0),await N(n,t,u),setTimeout(async()=>{await j(),U("/")},500)}catch(H){S("Failed to create an account: "+H.message),R(!1)}}return h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-md w-full space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx(sc,{className:"h-12 w-12 text-blue-600"})}),h.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Create your account"}),h.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",h.jsx(rc,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"sign in to your existing account"})]})]}),h.jsxs(wt,{children:[h.jsxs(Nt,{children:[h.jsx(It,{children:"Get started"}),h.jsx(cn,{children:"Create your account to start tracking expenses"})]}),h.jsxs(Et,{children:[_&&h.jsx(Wt,{className:"mb-4",variant:"destructive",children:h.jsx(Xt,{children:_})}),h.jsxs("form",{onSubmit:V,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(nt,{htmlFor:"displayName",children:"Full Name"}),h.jsx(rn,{id:"displayName",type:"text",value:u,onChange:$=>d($.target.value),required:!0,className:"mt-1",placeholder:"Enter your full name"})]}),h.jsxs("div",{children:[h.jsx(nt,{htmlFor:"email",children:"Email address"}),h.jsx(rn,{id:"email",type:"email",value:n,onChange:$=>e($.target.value),required:!0,className:"mt-1",placeholder:"Enter your email"})]}),h.jsxs("div",{children:[h.jsx(nt,{htmlFor:"password",children:"Password"}),h.jsxs("div",{className:"relative mt-1",children:[h.jsx(rn,{id:"password",type:m?"text":"password",value:t,onChange:$=>s($.target.value),required:!0,placeholder:"Create a password"}),h.jsx(Ve,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>p(!m),children:m?h.jsx(uv,{className:"h-4 w-4"}):h.jsx(dv,{className:"h-4 w-4"})})]})]}),h.jsxs("div",{children:[h.jsx(nt,{htmlFor:"confirmPassword",children:"Confirm Password"}),h.jsxs("div",{className:"relative mt-1",children:[h.jsx(rn,{id:"confirmPassword",type:v?"text":"password",value:a,onChange:$=>o($.target.value),required:!0,placeholder:"Confirm your password"}),h.jsx(Ve,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>b(!v),children:v?h.jsx(uv,{className:"h-4 w-4"}):h.jsx(dv,{className:"h-4 w-4"})})]})]}),h.jsx(Ve,{type:"submit",className:"w-full",disabled:C,children:C?"Creating account...":"Create account"})]})]})]})]})})}function D8(n){const[e,t]=w.useState(Date.now());return w.useEffect(()=>{if(!n)return;const s=Yt(He,"ledgers",n,"transactions"),a=vr(s,Mi("createdAt","desc"),CC(1)),o=v8(a,u=>{u.empty||t(Date.now())});return()=>o()},[n]),e}function O8(){const{currentUser:n}=rr(),{refreshLedgers:e}=Ys(),[t,s]=w.useState([]),[a,o]=w.useState(!1),[u,d]=w.useState(""),[m,p]=w.useState(""),v=async()=>{if(n)try{o(!0);const S=Yt(He,"invitations"),C=vr(S,Vs("inviteeEmail","==",n.email.toLowerCase()),Vs("status","==","pending"),Mi("createdAt","desc")),R=await $n(C),N=[];R.forEach(j=>{var $;const U=j.data(),V=($=U.expiresAt)==null?void 0:$.toDate();(!V||V>new Date)&&N.push({id:j.id,...U})}),s(N)}catch(S){console.error("Error fetching invitations:",S),d("Failed to fetch invitations")}finally{o(!1)}},b=async S=>{try{o(!0),d("");const C=Kt(He,"ledgers",S.ledgerId),R=await $n(vr(Yt(He,"ledgers"),Vs("__name__","==",S.ledgerId)));if(R.empty)throw new Error("Ledger not found");const j={...R.docs[0].data().members,[n.uid]:S.role};await rs(C,{members:j,updatedAt:new Date}),await rs(Kt(He,"invitations",S.id),{status:"accepted",acceptedAt:new Date}),await e(),await v(),p(`Successfully joined "${S.ledgerName}"!`)}catch(C){console.error("Error accepting invitation:",C),d("Failed to accept invitation")}finally{o(!1)}},_=async S=>{try{o(!0),d(""),await rs(Kt(He,"invitations",S),{status:"declined",declinedAt:new Date}),await v(),p("Invitation declined")}catch(C){console.error("Error declining invitation:",C),d("Failed to decline invitation")}finally{o(!1)}};return w.useEffect(()=>{v()},[n]),w.useEffect(()=>{if(m||u){const S=setTimeout(()=>{p(""),d("")},3e3);return()=>clearTimeout(S)}},[m,u]),t.length===0&&!a?null:h.jsx("div",{className:"mb-6",children:h.jsxs(wt,{children:[h.jsxs(Nt,{children:[h.jsxs(It,{className:"flex items-center",children:[h.jsx(XS,{className:"h-5 w-5 mr-2"}),"Pending Invitations (",t.length,")"]}),h.jsx(cn,{children:"You have been invited to join the following ledgers."})]}),h.jsxs(Et,{children:[u&&h.jsx(Wt,{variant:"destructive",className:"mb-4",children:h.jsx(Xt,{children:u})}),m&&h.jsx(Wt,{className:"mb-4",children:h.jsx(Xt,{children:m})}),h.jsx("div",{className:"space-y-4",children:t.map(S=>h.jsx("div",{className:"border rounded-lg p-4",children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[h.jsx(lm,{className:"h-5 w-5 text-blue-600"}),h.jsx("h3",{className:"font-semibold text-lg",children:S.ledgerName}),h.jsx(Ir,{variant:"secondary",children:S.role})]}),h.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(n1,{className:"h-4 w-4"}),h.jsxs("span",{children:["Invited by: ",S.inviterName]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(cv,{className:"h-4 w-4"}),h.jsxs("span",{children:["Invited: ",new Date(S.createdAt.toDate()).toLocaleDateString()]})]}),S.expiresAt&&h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(cv,{className:"h-4 w-4"}),h.jsxs("span",{children:["Expires: ",new Date(S.expiresAt.toDate()).toLocaleDateString()]})]})]})]}),h.jsxs("div",{className:"flex space-x-2 ml-4",children:[h.jsxs(Ve,{size:"sm",onClick:()=>b(S),disabled:a,className:"bg-green-600 hover:bg-green-700",children:[h.jsx(u0,{className:"h-4 w-4 mr-1"}),"Accept"]}),h.jsxs(Ve,{size:"sm",variant:"destructive",onClick:()=>_(S.id),disabled:a,children:[h.jsx(lc,{className:"h-4 w-4 mr-1"}),"Decline"]})]})]})},S.id))})]})]})})}const Ca=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9","#F8C471","#82E0AA","#F1948A","#85929E","#D7BDE2","#A9DFBF","#F9E79F","#AED6F1","#F5B7B1","#D5A6BD"],j8=n=>{if(typeof n!="string")return"?";const e=n.trim();if(e.length===0)return"?";const t=e.charAt(0);return/[\u4e00-\u9fff]/.test(t)?t:t.toUpperCase()},M8=(n,e=null)=>{if(e&&Ca.includes(e))return e;if(!n)return Ca[0];let t=0;for(let a=0;a<n.length;a++){const o=n.charCodeAt(a);t=(t<<5)-t+o,t=t&t}const s=Math.abs(t)%Ca.length;return Ca[s]},P8=n=>{const e=(n==null?void 0:n.displayName)||(n==null?void 0:n.email)||"Unknown",t=j8(e),s=M8(n==null?void 0:n.uid,n==null?void 0:n.profileColor);return{initial:t,backgroundColor:s,textColor:"#FFFFFF"}},L8=()=>{const n=Math.floor(Math.random()*Ca.length);return Ca[n]},V8=n=>Ca.includes(n);function vc({user:n,size:e="md",className:t="",showTooltip:s=!0}){const a=P8(n),o={xs:"w-6 h-6 text-xs",sm:"w-8 h-8 text-sm",md:"w-10 h-10 text-base",lg:"w-12 h-12 text-lg",xl:"w-16 h-16 text-xl","2xl":"w-20 h-20 text-2xl"},u=o[e]||o.md,d=(n==null?void 0:n.displayName)||(n==null?void 0:n.email)||"Unknown User";return h.jsx("div",{className:`
        ${u}
        rounded-full
        flex
        items-center
        justify-center
        font-semibold
        select-none
        flex-shrink-0
        ${t}
      `,style:{backgroundColor:a.backgroundColor,color:a.textColor},title:s?d:void 0,children:a.initial})}function Ro({user:n,size:e="md",className:t="",nameClassName:s="",showEmail:a=!1}){var d;const o=(n==null?void 0:n.displayName)||((d=n==null?void 0:n.email)==null?void 0:d.split("@")[0])||"Unknown User",u=n==null?void 0:n.email;return h.jsxs("div",{className:`flex items-center space-x-2 ${t}`,children:[h.jsx(vc,{user:n,size:e,showTooltip:!1}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:`font-medium ${s}`,children:o}),a&&u&&h.jsx("span",{className:"text-xs text-gray-500",children:u})]})]})}function U8({users:n=[],size:e="sm",maxDisplay:t=3,className:s=""}){const a=n.slice(0,t),o=n.length-t;return h.jsx("div",{className:`flex items-center ${s}`,children:h.jsxs("div",{className:"flex -space-x-1",children:[a.map((u,d)=>h.jsx("div",{className:"ring-2 ring-white",style:{zIndex:a.length-d},children:h.jsx(vc,{user:u,size:e})},(u==null?void 0:u.uid)||d)),o>0&&h.jsxs("div",{className:`
              ${e==="xs"?"w-6 h-6 text-xs":e==="sm"?"w-8 h-8 text-xs":"w-10 h-10 text-sm"}
              rounded-full
              bg-gray-300
              text-gray-600
              flex
              items-center
              justify-center
              font-medium
              ring-2
              ring-white
            `,children:["+",o]})]})})}const B8={CNY:"¥",USD:"$",EUR:"€",GBP:"£",JPY:"¥"};function PC(n){return B8[n]||"$"}function rm(n,e="USD"){return`${PC(e)}${n.toFixed(2)}`}function z8(n,e="USD",t=!1){const s=PC(e);return`${t?"+":"-"}${s}${Math.abs(n).toFixed(2)}`}function F8(){var v;const{currentUser:n}=rr(),{currentLedger:e}=Ys(),t=D8(e==null?void 0:e.id),[s,a]=w.useState({totalBalance:0,monthlySpending:0,budgetRemaining:0,recentTransactions:[],memberStats:{},loading:!0}),o=async()=>{if(!e){a(b=>({...b,loading:!1}));return}try{const b=new Date,_=new Date(b.getFullYear(),b.getMonth(),1),S=new Date(b.getFullYear(),b.getMonth()+1,0),C=Yt(He,"ledgers",e.id,"transactions"),R=vr(C,Mi("date","desc"),CC(5)),N=await $n(R),j=[];N.forEach(L=>{var G;const P=L.data();j.push({id:L.id,...P,date:((G=P.date)==null?void 0:G.toDate())||new Date})});const U=vr(C,Mi("date","desc")),V=await $n(U);let $=0,H=0;const Q={};e.members&&Object.keys(e.members).forEach(L=>{Q[L]={monthlyIncome:0,monthlySpending:0,totalIncome:0,totalSpending:0}}),V.forEach(L=>{var K;const P=L.data(),G=((K=P.date)==null?void 0:K.toDate())||new Date,se=P.amount||0,q=P.userId||P.paidBy||(n==null?void 0:n.uid),ee=G>=_&&G<=S;q&&!Q[q]&&(Q[q]={monthlyIncome:0,monthlySpending:0,totalIncome:0,totalSpending:0}),P.type==="income"?($+=se,q&&Q[q]&&(Q[q].totalIncome+=se,ee&&(Q[q].monthlyIncome+=se))):($-=se,q&&Q[q]&&(Q[q].totalSpending+=se,ee&&(Q[q].monthlySpending+=se,H+=se)))});const I=Yt(He,"ledgers",e.id,"budgets"),A=vr(I,Vs("startDate","<=",Ht.fromDate(b)),Vs("endDate",">=",Ht.fromDate(b))),M=await $n(A);let B=0;M.forEach(L=>{const P=L.data();B+=P.totalAmount||0});const D=B-H;a({totalBalance:$,monthlySpending:H,budgetRemaining:D,recentTransactions:j,memberStats:Q,loading:!1})}catch(b){console.error("Error calculating dashboard stats:",b),a(_=>({..._,loading:!1}))}};w.useEffect(()=>{o()},[e,t]);const u=b=>rm(b,e==null?void 0:e.currency),d=b=>{const S=Math.abs(new Date-b),C=Math.ceil(S/(1e3*60*60*24));return C===1?"Today":C===2?"Yesterday":C<=7?`${C-1} days ago`:b.toLocaleDateString()},m=b=>b===(n==null?void 0:n.uid)?{uid:b,displayName:n.displayName||n.email,email:n.email}:{uid:b,displayName:`User ${b.slice(0,8)}`,email:`${b.slice(0,8)}@example.com`},p=()=>!s.memberStats||!(e!=null&&e.members)?[]:Object.keys(e.members).map(b=>({...m(b),stats:s.memberStats[b]||{monthlyIncome:0,monthlySpending:0,totalIncome:0,totalSpending:0}}));return s.loading?h.jsx("div",{className:"p-6",children:h.jsxs("div",{className:"animate-pulse space-y-6",children:[h.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(b=>h.jsx("div",{className:"h-32 bg-gray-200 rounded"},b))}),h.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsx(O8,{}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),h.jsxs(Ir,{variant:"secondary",className:"text-sm",children:["Welcome back, ",(n==null?void 0:n.displayName)||((v=n==null?void 0:n.email)==null?void 0:v.split("@")[0])||"User","!"]})]}),e&&h.jsxs("div",{className:"text-sm text-gray-600",children:["Current Ledger: ",h.jsx("span",{className:"font-medium",children:e.name})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs(wt,{children:[h.jsxs(Nt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[h.jsx(It,{className:"text-sm font-medium",children:"Total Balance"}),h.jsx(sc,{className:"h-4 w-4 text-muted-foreground"})]}),h.jsxs(Et,{children:[h.jsx("div",{className:`text-2xl font-bold ${s.totalBalance>=0?"text-green-600":"text-red-600"}`,children:u(s.totalBalance)}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"All time balance"})]})]}),h.jsxs(wt,{children:[h.jsxs(Nt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[h.jsx(It,{className:"text-sm font-medium",children:"Monthly Spending"}),h.jsx(aO,{className:"h-4 w-4 text-muted-foreground"})]}),h.jsxs(Et,{children:[h.jsx("div",{className:"text-2xl font-bold text-red-600",children:u(s.monthlySpending)}),h.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"This month's expenses"}),p().length>1&&h.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[h.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Member Breakdown:"}),p().map(b=>h.jsxs("div",{className:"flex items-center justify-between text-xs",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(vc,{user:b,size:"xs"}),h.jsx("span",{className:"text-gray-600",children:b.displayName===(n==null?void 0:n.displayName)?"You":b.displayName})]}),h.jsxs("div",{className:"flex space-x-3 text-right",children:[h.jsxs("span",{className:"text-green-600",children:["+",u(b.stats.monthlyIncome)]}),h.jsxs("span",{className:"text-red-600",children:["-",u(b.stats.monthlySpending)]})]})]},b.uid))]})]})]}),h.jsxs(wt,{children:[h.jsxs(Nt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[h.jsx(It,{className:"text-sm font-medium",children:"Budget Remaining"}),h.jsx(xD,{className:"h-4 w-4 text-muted-foreground"})]}),h.jsxs(Et,{children:[h.jsx("div",{className:`text-2xl font-bold ${s.budgetRemaining>=0?"text-green-600":"text-red-600"}`,children:u(s.budgetRemaining)}),h.jsx("p",{className:"text-xs text-muted-foreground",children:s.budgetRemaining>=0?"Remaining this month":"Over budget"})]})]})]}),h.jsxs(wt,{children:[h.jsxs(Nt,{children:[h.jsx(It,{children:"Recent Transactions"}),h.jsx(cn,{children:"Your latest financial activity"})]}),h.jsx(Et,{children:s.recentTransactions.length===0?h.jsxs("div",{className:"text-center py-8 text-gray-500",children:[h.jsx(sc,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),h.jsx("p",{children:"No transactions yet"}),h.jsx("p",{className:"text-sm",children:"Add your first transaction to get started"})]}):h.jsx("div",{className:"space-y-4",children:s.recentTransactions.map(b=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[h.jsx(vc,{user:{uid:b.userId||(n==null?void 0:n.uid),displayName:b.userName||(n==null?void 0:n.displayName),email:b.userEmail||(n==null?void 0:n.email)},size:"sm"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"font-medium text-gray-900",children:b.description}),h.jsxs("p",{className:"text-sm text-gray-500",children:[b.paymentMethod," • ",d(b.date)]})]})]}),h.jsxs("div",{className:`font-semibold ${b.type==="income"?"text-green-600":"text-red-600"}`,children:[b.type==="income"?"+":"-",u(b.amount)]})]},b.id))})})]})]})}function BT(n,[e,t]){return Math.min(t,Math.max(e,n))}function nn(n,e,{checkForDefaultPrevented:t=!0}={}){return function(a){if(n==null||n(a),t===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function Pc(n,e=[]){let t=[];function s(o,u){const d=w.createContext(u),m=t.length;t=[...t,u];const p=b=>{var j;const{scope:_,children:S,...C}=b,R=((j=_==null?void 0:_[n])==null?void 0:j[m])||d,N=w.useMemo(()=>C,Object.values(C));return h.jsx(R.Provider,{value:N,children:S})};p.displayName=o+"Provider";function v(b,_){var R;const S=((R=_==null?void 0:_[n])==null?void 0:R[m])||d,C=w.useContext(S);if(C)return C;if(u!==void 0)return u;throw new Error(`\`${b}\` must be used within \`${o}\``)}return[p,v]}const a=()=>{const o=t.map(u=>w.createContext(u));return function(d){const m=(d==null?void 0:d[n])||o;return w.useMemo(()=>({[`__scope${n}`]:{...d,[n]:m}}),[d,m])}};return a.scopeName=n,[s,H8(a,...e)]}function H8(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const s=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const u=s.reduce((d,{useScope:m,scopeName:p})=>{const b=m(o)[`__scope${p}`];return{...d,...b}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function q8(n){const e=n+"CollectionProvider",[t,s]=Pc(e),[a,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=R=>{const{scope:N,children:j}=R,U=ba.useRef(null),V=ba.useRef(new Map).current;return h.jsx(a,{scope:N,itemMap:V,collectionRef:U,children:j})};u.displayName=e;const d=n+"CollectionSlot",m=hd(d),p=ba.forwardRef((R,N)=>{const{scope:j,children:U}=R,V=o(d,j),$=sn(N,V.collectionRef);return h.jsx(m,{ref:$,children:U})});p.displayName=d;const v=n+"CollectionItemSlot",b="data-radix-collection-item",_=hd(v),S=ba.forwardRef((R,N)=>{const{scope:j,children:U,...V}=R,$=ba.useRef(null),H=sn(N,$),Q=o(v,j);return ba.useEffect(()=>(Q.itemMap.set($,{ref:$,...V}),()=>void Q.itemMap.delete($))),h.jsx(_,{[b]:"",ref:H,children:U})});S.displayName=v;function C(R){const N=o(n+"CollectionConsumer",R);return ba.useCallback(()=>{const U=N.collectionRef.current;if(!U)return[];const V=Array.from(U.querySelectorAll(`[${b}]`));return Array.from(N.itemMap.values()).sort((Q,I)=>V.indexOf(Q.ref.current)-V.indexOf(I.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:u,Slot:p,ItemSlot:S},C,s]}var $8=w.createContext(void 0);function G8(n){const e=w.useContext($8);return n||e||"ltr"}function Uo(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n}),w.useMemo(()=>(...t)=>{var s;return(s=e.current)==null?void 0:s.call(e,...t)},[])}function Y8(n,e=globalThis==null?void 0:globalThis.document){const t=Uo(n);w.useEffect(()=>{const s=a=>{a.key==="Escape"&&t(a)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[t,e])}var K8="DismissableLayer",Uv="dismissableLayer.update",Z8="dismissableLayer.pointerDownOutside",Q8="dismissableLayer.focusOutside",zT,LC=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),VC=w.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:u,onDismiss:d,...m}=n,p=w.useContext(LC),[v,b]=w.useState(null),_=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=w.useState({}),C=sn(e,I=>b(I)),R=Array.from(p.layers),[N]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),j=R.indexOf(N),U=v?R.indexOf(v):-1,V=p.layersWithOutsidePointerEventsDisabled.size>0,$=U>=j,H=J8(I=>{const A=I.target,M=[...p.branches].some(B=>B.contains(A));!$||M||(a==null||a(I),u==null||u(I),I.defaultPrevented||d==null||d())},_),Q=eL(I=>{const A=I.target;[...p.branches].some(B=>B.contains(A))||(o==null||o(I),u==null||u(I),I.defaultPrevented||d==null||d())},_);return Y8(I=>{U===p.layers.size-1&&(s==null||s(I),!I.defaultPrevented&&d&&(I.preventDefault(),d()))},_),w.useEffect(()=>{if(v)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(zT=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),FT(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=zT)}},[v,_,t,p]),w.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),FT())},[v,p]),w.useEffect(()=>{const I=()=>S({});return document.addEventListener(Uv,I),()=>document.removeEventListener(Uv,I)},[]),h.jsx(Mt.div,{...m,ref:C,style:{pointerEvents:V?$?"auto":"none":void 0,...n.style},onFocusCapture:nn(n.onFocusCapture,Q.onFocusCapture),onBlurCapture:nn(n.onBlurCapture,Q.onBlurCapture),onPointerDownCapture:nn(n.onPointerDownCapture,H.onPointerDownCapture)})});VC.displayName=K8;var W8="DismissableLayerBranch",X8=w.forwardRef((n,e)=>{const t=w.useContext(LC),s=w.useRef(null),a=sn(e,s);return w.useEffect(()=>{const o=s.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),h.jsx(Mt.div,{...n,ref:a})});X8.displayName=W8;function J8(n,e=globalThis==null?void 0:globalThis.document){const t=Uo(n),s=w.useRef(!1),a=w.useRef(()=>{});return w.useEffect(()=>{const o=d=>{if(d.target&&!s.current){let m=function(){UC(Z8,t,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=m,e.addEventListener("click",a.current,{once:!0})):m()}else e.removeEventListener("click",a.current);s.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",o),e.removeEventListener("click",a.current)}},[e,t]),{onPointerDownCapture:()=>s.current=!0}}function eL(n,e=globalThis==null?void 0:globalThis.document){const t=Uo(n),s=w.useRef(!1);return w.useEffect(()=>{const a=o=>{o.target&&!s.current&&UC(Q8,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,t]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function FT(){const n=new CustomEvent(Uv);document.dispatchEvent(n)}function UC(n,e,t,{discrete:s}){const a=t.originalEvent.target,o=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&a.addEventListener(n,e,{once:!0}),s?A8(a,o):a.dispatchEvent(o)}var Gy=0;function tL(){w.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??HT()),document.body.insertAdjacentElement("beforeend",n[1]??HT()),Gy++,()=>{Gy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Gy--}},[])}function HT(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Yy="focusScope.autoFocusOnMount",Ky="focusScope.autoFocusOnUnmount",qT={bubbles:!1,cancelable:!0},nL="FocusScope",BC=w.forwardRef((n,e)=>{const{loop:t=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...u}=n,[d,m]=w.useState(null),p=Uo(a),v=Uo(o),b=w.useRef(null),_=sn(e,R=>m(R)),S=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(s){let R=function(V){if(S.paused||!d)return;const $=V.target;d.contains($)?b.current=$:xa(b.current,{select:!0})},N=function(V){if(S.paused||!d)return;const $=V.relatedTarget;$!==null&&(d.contains($)||xa(b.current,{select:!0}))},j=function(V){if(document.activeElement===document.body)for(const H of V)H.removedNodes.length>0&&xa(d)};document.addEventListener("focusin",R),document.addEventListener("focusout",N);const U=new MutationObserver(j);return d&&U.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",R),document.removeEventListener("focusout",N),U.disconnect()}}},[s,d,S.paused]),w.useEffect(()=>{if(d){GT.add(S);const R=document.activeElement;if(!d.contains(R)){const j=new CustomEvent(Yy,qT);d.addEventListener(Yy,p),d.dispatchEvent(j),j.defaultPrevented||(rL(lL(zC(d)),{select:!0}),document.activeElement===R&&xa(d))}return()=>{d.removeEventListener(Yy,p),setTimeout(()=>{const j=new CustomEvent(Ky,qT);d.addEventListener(Ky,v),d.dispatchEvent(j),j.defaultPrevented||xa(R??document.body,{select:!0}),d.removeEventListener(Ky,v),GT.remove(S)},0)}}},[d,p,v,S]);const C=w.useCallback(R=>{if(!t&&!s||S.paused)return;const N=R.key==="Tab"&&!R.altKey&&!R.ctrlKey&&!R.metaKey,j=document.activeElement;if(N&&j){const U=R.currentTarget,[V,$]=sL(U);V&&$?!R.shiftKey&&j===$?(R.preventDefault(),t&&xa(V,{select:!0})):R.shiftKey&&j===V&&(R.preventDefault(),t&&xa($,{select:!0})):j===U&&R.preventDefault()}},[t,s,S.paused]);return h.jsx(Mt.div,{tabIndex:-1,...u,ref:_,onKeyDown:C})});BC.displayName=nL;function rL(n,{select:e=!1}={}){const t=document.activeElement;for(const s of n)if(xa(s,{select:e}),document.activeElement!==t)return}function sL(n){const e=zC(n),t=$T(e,n),s=$T(e.reverse(),n);return[t,s]}function zC(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function $T(n,e){for(const t of n)if(!iL(t,{upTo:e}))return t}function iL(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function aL(n){return n instanceof HTMLInputElement&&"select"in n}function xa(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&aL(n)&&e&&n.select()}}var GT=oL();function oL(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=YT(n,e),n.unshift(e)},remove(e){var t;n=YT(n,e),(t=n[0])==null||t.resume()}}}function YT(n,e){const t=[...n],s=t.indexOf(e);return s!==-1&&t.splice(s,1),t}function lL(n){return n.filter(e=>e.tagName!=="A")}var tr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},cL=_S[" useId ".trim().toString()]||(()=>{}),uL=0;function u_(n){const[e,t]=w.useState(cL());return tr(()=>{t(s=>s??String(uL++))},[n]),n||(e?`radix-${e}`:"")}const dL=["top","right","bottom","left"],Ba=Math.min,Rr=Math.max,km=Math.round,Vh=Math.floor,Us=n=>({x:n,y:n}),fL={left:"right",right:"left",bottom:"top",top:"bottom"},hL={start:"end",end:"start"};function Bv(n,e,t){return Rr(n,Ba(e,t))}function Pi(n,e){return typeof n=="function"?n(e):n}function Li(n){return n.split("-")[0]}function Lc(n){return n.split("-")[1]}function d_(n){return n==="x"?"y":"x"}function f_(n){return n==="y"?"height":"width"}function Ni(n){return["top","bottom"].includes(Li(n))?"y":"x"}function h_(n){return d_(Ni(n))}function mL(n,e,t){t===void 0&&(t=!1);const s=Lc(n),a=h_(n),o=f_(a);let u=a==="x"?s===(t?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(u=Dm(u)),[u,Dm(u)]}function pL(n){const e=Dm(n);return[zv(n),e,zv(e)]}function zv(n){return n.replace(/start|end/g,e=>hL[e])}function gL(n,e,t){const s=["left","right"],a=["right","left"],o=["top","bottom"],u=["bottom","top"];switch(n){case"top":case"bottom":return t?e?a:s:e?s:a;case"left":case"right":return e?o:u;default:return[]}}function yL(n,e,t,s){const a=Lc(n);let o=gL(Li(n),t==="start",s);return a&&(o=o.map(u=>u+"-"+a),e&&(o=o.concat(o.map(zv)))),o}function Dm(n){return n.replace(/left|right|bottom|top/g,e=>fL[e])}function vL(n){return{top:0,right:0,bottom:0,left:0,...n}}function FC(n){return typeof n!="number"?vL(n):{top:n,right:n,bottom:n,left:n}}function Om(n){const{x:e,y:t,width:s,height:a}=n;return{width:s,height:a,top:t,left:e,right:e+s,bottom:t+a,x:e,y:t}}function KT(n,e,t){let{reference:s,floating:a}=n;const o=Ni(e),u=h_(e),d=f_(u),m=Li(e),p=o==="y",v=s.x+s.width/2-a.width/2,b=s.y+s.height/2-a.height/2,_=s[d]/2-a[d]/2;let S;switch(m){case"top":S={x:v,y:s.y-a.height};break;case"bottom":S={x:v,y:s.y+s.height};break;case"right":S={x:s.x+s.width,y:b};break;case"left":S={x:s.x-a.width,y:b};break;default:S={x:s.x,y:s.y}}switch(Lc(e)){case"start":S[u]-=_*(t&&p?-1:1);break;case"end":S[u]+=_*(t&&p?-1:1);break}return S}const _L=async(n,e,t)=>{const{placement:s="bottom",strategy:a="absolute",middleware:o=[],platform:u}=t,d=o.filter(Boolean),m=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:n,floating:e,strategy:a}),{x:v,y:b}=KT(p,s,m),_=s,S={},C=0;for(let R=0;R<d.length;R++){const{name:N,fn:j}=d[R],{x:U,y:V,data:$,reset:H}=await j({x:v,y:b,initialPlacement:s,placement:_,strategy:a,middlewareData:S,rects:p,platform:u,elements:{reference:n,floating:e}});v=U??v,b=V??b,S={...S,[N]:{...S[N],...$}},H&&C<=50&&(C++,typeof H=="object"&&(H.placement&&(_=H.placement),H.rects&&(p=H.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:a}):H.rects),{x:v,y:b}=KT(p,_,m)),R=-1)}return{x:v,y:b,placement:_,strategy:a,middlewareData:S}};async function Ed(n,e){var t;e===void 0&&(e={});const{x:s,y:a,platform:o,rects:u,elements:d,strategy:m}=n,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:b="floating",altBoundary:_=!1,padding:S=0}=Pi(e,n),C=FC(S),N=d[_?b==="floating"?"reference":"floating":b],j=Om(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(N)))==null||t?N:N.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:p,rootBoundary:v,strategy:m})),U=b==="floating"?{x:s,y:a,width:u.floating.width,height:u.floating.height}:u.reference,V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating)),$=await(o.isElement==null?void 0:o.isElement(V))?await(o.getScale==null?void 0:o.getScale(V))||{x:1,y:1}:{x:1,y:1},H=Om(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:U,offsetParent:V,strategy:m}):U);return{top:(j.top-H.top+C.top)/$.y,bottom:(H.bottom-j.bottom+C.bottom)/$.y,left:(j.left-H.left+C.left)/$.x,right:(H.right-j.right+C.right)/$.x}}const bL=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:s,placement:a,rects:o,platform:u,elements:d,middlewareData:m}=e,{element:p,padding:v=0}=Pi(n,e)||{};if(p==null)return{};const b=FC(v),_={x:t,y:s},S=h_(a),C=f_(S),R=await u.getDimensions(p),N=S==="y",j=N?"top":"left",U=N?"bottom":"right",V=N?"clientHeight":"clientWidth",$=o.reference[C]+o.reference[S]-_[S]-o.floating[C],H=_[S]-o.reference[S],Q=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let I=Q?Q[V]:0;(!I||!await(u.isElement==null?void 0:u.isElement(Q)))&&(I=d.floating[V]||o.floating[C]);const A=$/2-H/2,M=I/2-R[C]/2-1,B=Ba(b[j],M),D=Ba(b[U],M),L=B,P=I-R[C]-D,G=I/2-R[C]/2+A,se=Bv(L,G,P),q=!m.arrow&&Lc(a)!=null&&G!==se&&o.reference[C]/2-(G<L?B:D)-R[C]/2<0,ee=q?G<L?G-L:G-P:0;return{[S]:_[S]+ee,data:{[S]:se,centerOffset:G-se-ee,...q&&{alignmentOffset:ee}},reset:q}}}),xL=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,s;const{placement:a,middlewareData:o,rects:u,initialPlacement:d,platform:m,elements:p}=e,{mainAxis:v=!0,crossAxis:b=!0,fallbackPlacements:_,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:R=!0,...N}=Pi(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const j=Li(a),U=Ni(d),V=Li(d)===d,$=await(m.isRTL==null?void 0:m.isRTL(p.floating)),H=_||(V||!R?[Dm(d)]:pL(d)),Q=C!=="none";!_&&Q&&H.push(...yL(d,R,C,$));const I=[d,...H],A=await Ed(e,N),M=[];let B=((s=o.flip)==null?void 0:s.overflows)||[];if(v&&M.push(A[j]),b){const se=mL(a,u,$);M.push(A[se[0]],A[se[1]])}if(B=[...B,{placement:a,overflows:M}],!M.every(se=>se<=0)){var D,L;const se=(((D=o.flip)==null?void 0:D.index)||0)+1,q=I[se];if(q){var P;const K=b==="alignment"?U!==Ni(q):!1,ye=((P=B[0])==null?void 0:P.overflows[0])>0;if(!K||ye)return{data:{index:se,overflows:B},reset:{placement:q}}}let ee=(L=B.filter(K=>K.overflows[0]<=0).sort((K,ye)=>K.overflows[1]-ye.overflows[1])[0])==null?void 0:L.placement;if(!ee)switch(S){case"bestFit":{var G;const K=(G=B.filter(ye=>{if(Q){const z=Ni(ye.placement);return z===U||z==="y"}return!0}).map(ye=>[ye.placement,ye.overflows.filter(z=>z>0).reduce((z,ae)=>z+ae,0)]).sort((ye,z)=>ye[1]-z[1])[0])==null?void 0:G[0];K&&(ee=K);break}case"initialPlacement":ee=d;break}if(a!==ee)return{reset:{placement:ee}}}return{}}}};function ZT(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function QT(n){return dL.some(e=>n[e]>=0)}const wL=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:s="referenceHidden",...a}=Pi(n,e);switch(s){case"referenceHidden":{const o=await Ed(e,{...a,elementContext:"reference"}),u=ZT(o,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:QT(u)}}}case"escaped":{const o=await Ed(e,{...a,altBoundary:!0}),u=ZT(o,t.floating);return{data:{escapedOffsets:u,escaped:QT(u)}}}default:return{}}}}};async function EL(n,e){const{placement:t,platform:s,elements:a}=n,o=await(s.isRTL==null?void 0:s.isRTL(a.floating)),u=Li(t),d=Lc(t),m=Ni(t)==="y",p=["left","top"].includes(u)?-1:1,v=o&&m?-1:1,b=Pi(e,n);let{mainAxis:_,crossAxis:S,alignmentAxis:C}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return d&&typeof C=="number"&&(S=d==="end"?C*-1:C),m?{x:S*v,y:_*p}:{x:_*p,y:S*v}}const TL=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,s;const{x:a,y:o,placement:u,middlewareData:d}=e,m=await EL(e,n);return u===((t=d.offset)==null?void 0:t.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:a+m.x,y:o+m.y,data:{...m,placement:u}}}}},SL=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:s,placement:a}=e,{mainAxis:o=!0,crossAxis:u=!1,limiter:d={fn:N=>{let{x:j,y:U}=N;return{x:j,y:U}}},...m}=Pi(n,e),p={x:t,y:s},v=await Ed(e,m),b=Ni(Li(a)),_=d_(b);let S=p[_],C=p[b];if(o){const N=_==="y"?"top":"left",j=_==="y"?"bottom":"right",U=S+v[N],V=S-v[j];S=Bv(U,S,V)}if(u){const N=b==="y"?"top":"left",j=b==="y"?"bottom":"right",U=C+v[N],V=C-v[j];C=Bv(U,C,V)}const R=d.fn({...e,[_]:S,[b]:C});return{...R,data:{x:R.x-t,y:R.y-s,enabled:{[_]:o,[b]:u}}}}}},AL=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:s,placement:a,rects:o,middlewareData:u}=e,{offset:d=0,mainAxis:m=!0,crossAxis:p=!0}=Pi(n,e),v={x:t,y:s},b=Ni(a),_=d_(b);let S=v[_],C=v[b];const R=Pi(d,e),N=typeof R=="number"?{mainAxis:R,crossAxis:0}:{mainAxis:0,crossAxis:0,...R};if(m){const V=_==="y"?"height":"width",$=o.reference[_]-o.floating[V]+N.mainAxis,H=o.reference[_]+o.reference[V]-N.mainAxis;S<$?S=$:S>H&&(S=H)}if(p){var j,U;const V=_==="y"?"width":"height",$=["top","left"].includes(Li(a)),H=o.reference[b]-o.floating[V]+($&&((j=u.offset)==null?void 0:j[b])||0)+($?0:N.crossAxis),Q=o.reference[b]+o.reference[V]+($?0:((U=u.offset)==null?void 0:U[b])||0)-($?N.crossAxis:0);C<H?C=H:C>Q&&(C=Q)}return{[_]:S,[b]:C}}}},CL=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,s;const{placement:a,rects:o,platform:u,elements:d}=e,{apply:m=()=>{},...p}=Pi(n,e),v=await Ed(e,p),b=Li(a),_=Lc(a),S=Ni(a)==="y",{width:C,height:R}=o.floating;let N,j;b==="top"||b==="bottom"?(N=b,j=_===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(j=b,N=_==="end"?"top":"bottom");const U=R-v.top-v.bottom,V=C-v.left-v.right,$=Ba(R-v[N],U),H=Ba(C-v[j],V),Q=!e.middlewareData.shift;let I=$,A=H;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(A=V),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(I=U),Q&&!_){const B=Rr(v.left,0),D=Rr(v.right,0),L=Rr(v.top,0),P=Rr(v.bottom,0);S?A=C-2*(B!==0||D!==0?B+D:Rr(v.left,v.right)):I=R-2*(L!==0||P!==0?L+P:Rr(v.top,v.bottom))}await m({...e,availableWidth:A,availableHeight:I});const M=await u.getDimensions(d.floating);return C!==M.width||R!==M.height?{reset:{rects:!0}}:{}}}};function yp(){return typeof window<"u"}function Vc(n){return HC(n)?(n.nodeName||"").toLowerCase():"#document"}function kr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Ks(n){var e;return(e=(HC(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function HC(n){return yp()?n instanceof Node||n instanceof kr(n).Node:!1}function ls(n){return yp()?n instanceof Element||n instanceof kr(n).Element:!1}function Hs(n){return yp()?n instanceof HTMLElement||n instanceof kr(n).HTMLElement:!1}function WT(n){return!yp()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof kr(n).ShadowRoot}function sf(n){const{overflow:e,overflowX:t,overflowY:s,display:a}=cs(n);return/auto|scroll|overlay|hidden|clip/.test(e+s+t)&&!["inline","contents"].includes(a)}function RL(n){return["table","td","th"].includes(Vc(n))}function vp(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function m_(n){const e=p_(),t=ls(n)?cs(n):n;return["transform","translate","scale","rotate","perspective"].some(s=>t[s]?t[s]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(t.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(t.contain||"").includes(s))}function NL(n){let e=za(n);for(;Hs(e)&&!_c(e);){if(m_(e))return e;if(vp(e))return null;e=za(e)}return null}function p_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _c(n){return["html","body","#document"].includes(Vc(n))}function cs(n){return kr(n).getComputedStyle(n)}function _p(n){return ls(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function za(n){if(Vc(n)==="html")return n;const e=n.assignedSlot||n.parentNode||WT(n)&&n.host||Ks(n);return WT(e)?e.host:e}function qC(n){const e=za(n);return _c(e)?n.ownerDocument?n.ownerDocument.body:n.body:Hs(e)&&sf(e)?e:qC(e)}function Td(n,e,t){var s;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=qC(n),o=a===((s=n.ownerDocument)==null?void 0:s.body),u=kr(a);if(o){const d=Fv(u);return e.concat(u,u.visualViewport||[],sf(a)?a:[],d&&t?Td(d):[])}return e.concat(a,Td(a,[],t))}function Fv(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function $C(n){const e=cs(n);let t=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const a=Hs(n),o=a?n.offsetWidth:t,u=a?n.offsetHeight:s,d=km(t)!==o||km(s)!==u;return d&&(t=o,s=u),{width:t,height:s,$:d}}function g_(n){return ls(n)?n:n.contextElement}function ec(n){const e=g_(n);if(!Hs(e))return Us(1);const t=e.getBoundingClientRect(),{width:s,height:a,$:o}=$C(e);let u=(o?km(t.width):t.width)/s,d=(o?km(t.height):t.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const IL=Us(0);function GC(n){const e=kr(n);return!p_()||!e.visualViewport?IL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function kL(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==kr(n)?!1:e}function Bo(n,e,t,s){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),o=g_(n);let u=Us(1);e&&(s?ls(s)&&(u=ec(s)):u=ec(n));const d=kL(o,t,s)?GC(o):Us(0);let m=(a.left+d.x)/u.x,p=(a.top+d.y)/u.y,v=a.width/u.x,b=a.height/u.y;if(o){const _=kr(o),S=s&&ls(s)?kr(s):s;let C=_,R=Fv(C);for(;R&&s&&S!==C;){const N=ec(R),j=R.getBoundingClientRect(),U=cs(R),V=j.left+(R.clientLeft+parseFloat(U.paddingLeft))*N.x,$=j.top+(R.clientTop+parseFloat(U.paddingTop))*N.y;m*=N.x,p*=N.y,v*=N.x,b*=N.y,m+=V,p+=$,C=kr(R),R=Fv(C)}}return Om({width:v,height:b,x:m,y:p})}function y_(n,e){const t=_p(n).scrollLeft;return e?e.left+t:Bo(Ks(n)).left+t}function YC(n,e,t){t===void 0&&(t=!1);const s=n.getBoundingClientRect(),a=s.left+e.scrollLeft-(t?0:y_(n,s)),o=s.top+e.scrollTop;return{x:a,y:o}}function DL(n){let{elements:e,rect:t,offsetParent:s,strategy:a}=n;const o=a==="fixed",u=Ks(s),d=e?vp(e.floating):!1;if(s===u||d&&o)return t;let m={scrollLeft:0,scrollTop:0},p=Us(1);const v=Us(0),b=Hs(s);if((b||!b&&!o)&&((Vc(s)!=="body"||sf(u))&&(m=_p(s)),Hs(s))){const S=Bo(s);p=ec(s),v.x=S.x+s.clientLeft,v.y=S.y+s.clientTop}const _=u&&!b&&!o?YC(u,m,!0):Us(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-m.scrollLeft*p.x+v.x+_.x,y:t.y*p.y-m.scrollTop*p.y+v.y+_.y}}function OL(n){return Array.from(n.getClientRects())}function jL(n){const e=Ks(n),t=_p(n),s=n.ownerDocument.body,a=Rr(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),o=Rr(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let u=-t.scrollLeft+y_(n);const d=-t.scrollTop;return cs(s).direction==="rtl"&&(u+=Rr(e.clientWidth,s.clientWidth)-a),{width:a,height:o,x:u,y:d}}function ML(n,e){const t=kr(n),s=Ks(n),a=t.visualViewport;let o=s.clientWidth,u=s.clientHeight,d=0,m=0;if(a){o=a.width,u=a.height;const p=p_();(!p||p&&e==="fixed")&&(d=a.offsetLeft,m=a.offsetTop)}return{width:o,height:u,x:d,y:m}}function PL(n,e){const t=Bo(n,!0,e==="fixed"),s=t.top+n.clientTop,a=t.left+n.clientLeft,o=Hs(n)?ec(n):Us(1),u=n.clientWidth*o.x,d=n.clientHeight*o.y,m=a*o.x,p=s*o.y;return{width:u,height:d,x:m,y:p}}function XT(n,e,t){let s;if(e==="viewport")s=ML(n,t);else if(e==="document")s=jL(Ks(n));else if(ls(e))s=PL(e,t);else{const a=GC(n);s={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Om(s)}function KC(n,e){const t=za(n);return t===e||!ls(t)||_c(t)?!1:cs(t).position==="fixed"||KC(t,e)}function LL(n,e){const t=e.get(n);if(t)return t;let s=Td(n,[],!1).filter(d=>ls(d)&&Vc(d)!=="body"),a=null;const o=cs(n).position==="fixed";let u=o?za(n):n;for(;ls(u)&&!_c(u);){const d=cs(u),m=m_(u);!m&&d.position==="fixed"&&(a=null),(o?!m&&!a:!m&&d.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||sf(u)&&!m&&KC(n,u))?s=s.filter(v=>v!==u):a=d,u=za(u)}return e.set(n,s),s}function VL(n){let{element:e,boundary:t,rootBoundary:s,strategy:a}=n;const u=[...t==="clippingAncestors"?vp(e)?[]:LL(e,this._c):[].concat(t),s],d=u[0],m=u.reduce((p,v)=>{const b=XT(e,v,a);return p.top=Rr(b.top,p.top),p.right=Ba(b.right,p.right),p.bottom=Ba(b.bottom,p.bottom),p.left=Rr(b.left,p.left),p},XT(e,d,a));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function UL(n){const{width:e,height:t}=$C(n);return{width:e,height:t}}function BL(n,e,t){const s=Hs(e),a=Ks(e),o=t==="fixed",u=Bo(n,!0,o,e);let d={scrollLeft:0,scrollTop:0};const m=Us(0);function p(){m.x=y_(a)}if(s||!s&&!o)if((Vc(e)!=="body"||sf(a))&&(d=_p(e)),s){const S=Bo(e,!0,o,e);m.x=S.x+e.clientLeft,m.y=S.y+e.clientTop}else a&&p();o&&!s&&a&&p();const v=a&&!s&&!o?YC(a,d):Us(0),b=u.left+d.scrollLeft-m.x-v.x,_=u.top+d.scrollTop-m.y-v.y;return{x:b,y:_,width:u.width,height:u.height}}function Zy(n){return cs(n).position==="static"}function JT(n,e){if(!Hs(n)||cs(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Ks(n)===t&&(t=t.ownerDocument.body),t}function ZC(n,e){const t=kr(n);if(vp(n))return t;if(!Hs(n)){let a=za(n);for(;a&&!_c(a);){if(ls(a)&&!Zy(a))return a;a=za(a)}return t}let s=JT(n,e);for(;s&&RL(s)&&Zy(s);)s=JT(s,e);return s&&_c(s)&&Zy(s)&&!m_(s)?t:s||NL(n)||t}const zL=async function(n){const e=this.getOffsetParent||ZC,t=this.getDimensions,s=await t(n.floating);return{reference:BL(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function FL(n){return cs(n).direction==="rtl"}const HL={convertOffsetParentRelativeRectToViewportRelativeRect:DL,getDocumentElement:Ks,getClippingRect:VL,getOffsetParent:ZC,getElementRects:zL,getClientRects:OL,getDimensions:UL,getScale:ec,isElement:ls,isRTL:FL};function QC(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function qL(n,e){let t=null,s;const a=Ks(n);function o(){var d;clearTimeout(s),(d=t)==null||d.disconnect(),t=null}function u(d,m){d===void 0&&(d=!1),m===void 0&&(m=1),o();const p=n.getBoundingClientRect(),{left:v,top:b,width:_,height:S}=p;if(d||e(),!_||!S)return;const C=Vh(b),R=Vh(a.clientWidth-(v+_)),N=Vh(a.clientHeight-(b+S)),j=Vh(v),V={rootMargin:-C+"px "+-R+"px "+-N+"px "+-j+"px",threshold:Rr(0,Ba(1,m))||1};let $=!0;function H(Q){const I=Q[0].intersectionRatio;if(I!==m){if(!$)return u();I?u(!1,I):s=setTimeout(()=>{u(!1,1e-7)},1e3)}I===1&&!QC(p,n.getBoundingClientRect())&&u(),$=!1}try{t=new IntersectionObserver(H,{...V,root:a.ownerDocument})}catch{t=new IntersectionObserver(H,V)}t.observe(n)}return u(!0),o}function $L(n,e,t,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:m=!1}=s,p=g_(n),v=a||o?[...p?Td(p):[],...Td(e)]:[];v.forEach(j=>{a&&j.addEventListener("scroll",t,{passive:!0}),o&&j.addEventListener("resize",t)});const b=p&&d?qL(p,t):null;let _=-1,S=null;u&&(S=new ResizeObserver(j=>{let[U]=j;U&&U.target===p&&S&&(S.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var V;(V=S)==null||V.observe(e)})),t()}),p&&!m&&S.observe(p),S.observe(e));let C,R=m?Bo(n):null;m&&N();function N(){const j=Bo(n);R&&!QC(R,j)&&t(),R=j,C=requestAnimationFrame(N)}return t(),()=>{var j;v.forEach(U=>{a&&U.removeEventListener("scroll",t),o&&U.removeEventListener("resize",t)}),b==null||b(),(j=S)==null||j.disconnect(),S=null,m&&cancelAnimationFrame(C)}}const GL=TL,YL=SL,KL=xL,ZL=CL,QL=wL,eS=bL,WL=AL,XL=(n,e,t)=>{const s=new Map,a={platform:HL,...t},o={...a.platform,_c:s};return _L(n,e,{...a,platform:o})};var sm=typeof document<"u"?w.useLayoutEffect:w.useEffect;function jm(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,s,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(s=t;s--!==0;)if(!jm(n[s],e[s]))return!1;return!0}if(a=Object.keys(n),t=a.length,t!==Object.keys(e).length)return!1;for(s=t;s--!==0;)if(!{}.hasOwnProperty.call(e,a[s]))return!1;for(s=t;s--!==0;){const o=a[s];if(!(o==="_owner"&&n.$$typeof)&&!jm(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function WC(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function tS(n,e){const t=WC(n);return Math.round(e*t)/t}function Qy(n){const e=w.useRef(n);return sm(()=>{e.current=n}),e}function JL(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:s=[],platform:a,elements:{reference:o,floating:u}={},transform:d=!0,whileElementsMounted:m,open:p}=n,[v,b]=w.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[_,S]=w.useState(s);jm(_,s)||S(s);const[C,R]=w.useState(null),[N,j]=w.useState(null),U=w.useCallback(K=>{K!==Q.current&&(Q.current=K,R(K))},[]),V=w.useCallback(K=>{K!==I.current&&(I.current=K,j(K))},[]),$=o||C,H=u||N,Q=w.useRef(null),I=w.useRef(null),A=w.useRef(v),M=m!=null,B=Qy(m),D=Qy(a),L=Qy(p),P=w.useCallback(()=>{if(!Q.current||!I.current)return;const K={placement:e,strategy:t,middleware:_};D.current&&(K.platform=D.current),XL(Q.current,I.current,K).then(ye=>{const z={...ye,isPositioned:L.current!==!1};G.current&&!jm(A.current,z)&&(A.current=z,Bd.flushSync(()=>{b(z)}))})},[_,e,t,D,L]);sm(()=>{p===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,b(K=>({...K,isPositioned:!1})))},[p]);const G=w.useRef(!1);sm(()=>(G.current=!0,()=>{G.current=!1}),[]),sm(()=>{if($&&(Q.current=$),H&&(I.current=H),$&&H){if(B.current)return B.current($,H,P);P()}},[$,H,P,B,M]);const se=w.useMemo(()=>({reference:Q,floating:I,setReference:U,setFloating:V}),[U,V]),q=w.useMemo(()=>({reference:$,floating:H}),[$,H]),ee=w.useMemo(()=>{const K={position:t,left:0,top:0};if(!q.floating)return K;const ye=tS(q.floating,v.x),z=tS(q.floating,v.y);return d?{...K,transform:"translate("+ye+"px, "+z+"px)",...WC(q.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ye,top:z}},[t,d,q.floating,v.x,v.y]);return w.useMemo(()=>({...v,update:P,refs:se,elements:q,floatingStyles:ee}),[v,P,se,q,ee])}const eV=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:s,padding:a}=typeof n=="function"?n(t):n;return s&&e(s)?s.current!=null?eS({element:s.current,padding:a}).fn(t):{}:s?eS({element:s,padding:a}).fn(t):{}}}},tV=(n,e)=>({...GL(n),options:[n,e]}),nV=(n,e)=>({...YL(n),options:[n,e]}),rV=(n,e)=>({...WL(n),options:[n,e]}),sV=(n,e)=>({...KL(n),options:[n,e]}),iV=(n,e)=>({...ZL(n),options:[n,e]}),aV=(n,e)=>({...QL(n),options:[n,e]}),oV=(n,e)=>({...eV(n),options:[n,e]});var lV="Arrow",XC=w.forwardRef((n,e)=>{const{children:t,width:s=10,height:a=5,...o}=n;return h.jsx(Mt.svg,{...o,ref:e,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});XC.displayName=lV;var cV=XC;function v_(n){const[e,t]=w.useState(void 0);return tr(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let u,d;if("borderBoxSize"in o){const m=o.borderBoxSize,p=Array.isArray(m)?m[0]:m;u=p.inlineSize,d=p.blockSize}else u=n.offsetWidth,d=n.offsetHeight;t({width:u,height:d})});return s.observe(n,{box:"border-box"}),()=>s.unobserve(n)}else t(void 0)},[n]),e}var __="Popper",[JC,e2]=Pc(__),[uV,t2]=JC(__),n2=n=>{const{__scopePopper:e,children:t}=n,[s,a]=w.useState(null);return h.jsx(uV,{scope:e,anchor:s,onAnchorChange:a,children:t})};n2.displayName=__;var r2="PopperAnchor",s2=w.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:s,...a}=n,o=t2(r2,t),u=w.useRef(null),d=sn(e,u);return w.useEffect(()=>{o.onAnchorChange((s==null?void 0:s.current)||u.current)}),s?null:h.jsx(Mt.div,{...a,ref:d})});s2.displayName=r2;var b_="PopperContent",[dV,fV]=JC(b_),i2=w.forwardRef((n,e)=>{var ve,je,ht,We,Xe,Je;const{__scopePopper:t,side:s="bottom",sideOffset:a=0,align:o="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:m=!0,collisionBoundary:p=[],collisionPadding:v=0,sticky:b="partial",hideWhenDetached:_=!1,updatePositionStrategy:S="optimized",onPlaced:C,...R}=n,N=t2(b_,t),[j,U]=w.useState(null),V=sn(e,re=>U(re)),[$,H]=w.useState(null),Q=v_($),I=(Q==null?void 0:Q.width)??0,A=(Q==null?void 0:Q.height)??0,M=s+(o!=="center"?"-"+o:""),B=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},D=Array.isArray(p)?p:[p],L=D.length>0,P={padding:B,boundary:D.filter(mV),altBoundary:L},{refs:G,floatingStyles:se,placement:q,isPositioned:ee,middlewareData:K}=JL({strategy:"fixed",placement:M,whileElementsMounted:(...re)=>$L(...re,{animationFrame:S==="always"}),elements:{reference:N.anchor},middleware:[tV({mainAxis:a+A,alignmentAxis:u}),m&&nV({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?rV():void 0,...P}),m&&sV({...P}),iV({...P,apply:({elements:re,rects:Ce,availableWidth:Re,availableHeight:Pe})=>{const{width:he,height:Me}=Ce.reference,pe=re.floating.style;pe.setProperty("--radix-popper-available-width",`${Re}px`),pe.setProperty("--radix-popper-available-height",`${Pe}px`),pe.setProperty("--radix-popper-anchor-width",`${he}px`),pe.setProperty("--radix-popper-anchor-height",`${Me}px`)}}),$&&oV({element:$,padding:d}),pV({arrowWidth:I,arrowHeight:A}),_&&aV({strategy:"referenceHidden",...P})]}),[ye,z]=l2(q),ae=Uo(C);tr(()=>{ee&&(ae==null||ae())},[ee,ae]);const me=(ve=K.arrow)==null?void 0:ve.x,le=(je=K.arrow)==null?void 0:je.y,be=((ht=K.arrow)==null?void 0:ht.centerOffset)!==0,[Be,De]=w.useState();return tr(()=>{j&&De(window.getComputedStyle(j).zIndex)},[j]),h.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:ee?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Be,"--radix-popper-transform-origin":[(We=K.transformOrigin)==null?void 0:We.x,(Xe=K.transformOrigin)==null?void 0:Xe.y].join(" "),...((Je=K.hide)==null?void 0:Je.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:h.jsx(dV,{scope:t,placedSide:ye,onArrowChange:H,arrowX:me,arrowY:le,shouldHideArrow:be,children:h.jsx(Mt.div,{"data-side":ye,"data-align":z,...R,ref:V,style:{...R.style,animation:ee?void 0:"none"}})})})});i2.displayName=b_;var a2="PopperArrow",hV={top:"bottom",right:"left",bottom:"top",left:"right"},o2=w.forwardRef(function(e,t){const{__scopePopper:s,...a}=e,o=fV(a2,s),u=hV[o.placedSide];return h.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:h.jsx(cV,{...a,ref:t,style:{...a.style,display:"block"}})})});o2.displayName=a2;function mV(n){return n!==null}var pV=n=>({name:"transformOrigin",options:n,fn(e){var N,j,U;const{placement:t,rects:s,middlewareData:a}=e,u=((N=a.arrow)==null?void 0:N.centerOffset)!==0,d=u?0:n.arrowWidth,m=u?0:n.arrowHeight,[p,v]=l2(t),b={start:"0%",center:"50%",end:"100%"}[v],_=(((j=a.arrow)==null?void 0:j.x)??0)+d/2,S=(((U=a.arrow)==null?void 0:U.y)??0)+m/2;let C="",R="";return p==="bottom"?(C=u?b:`${_}px`,R=`${-m}px`):p==="top"?(C=u?b:`${_}px`,R=`${s.floating.height+m}px`):p==="right"?(C=`${-m}px`,R=u?b:`${S}px`):p==="left"&&(C=`${s.floating.width+m}px`,R=u?b:`${S}px`),{data:{x:C,y:R}}}});function l2(n){const[e,t="center"]=n.split("-");return[e,t]}var gV=n2,yV=s2,vV=i2,_V=o2,bV="Portal",c2=w.forwardRef((n,e)=>{var d;const{container:t,...s}=n,[a,o]=w.useState(!1);tr(()=>o(!0),[]);const u=t||a&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return u?Tk.createPortal(h.jsx(Mt.div,{...s,ref:e}),u):null});c2.displayName=bV;var xV=_S[" useInsertionEffect ".trim().toString()]||tr;function Mm({prop:n,defaultProp:e,onChange:t=()=>{},caller:s}){const[a,o,u]=wV({defaultProp:e,onChange:t}),d=n!==void 0,m=d?n:a;{const v=w.useRef(n!==void 0);w.useEffect(()=>{const b=v.current;b!==d&&console.warn(`${s} is changing from ${b?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=d},[d,s])}const p=w.useCallback(v=>{var b;if(d){const _=EV(v)?v(n):v;_!==n&&((b=u.current)==null||b.call(u,_))}else o(v)},[d,n,o,u]);return[m,p]}function wV({defaultProp:n,onChange:e}){const[t,s]=w.useState(n),a=w.useRef(t),o=w.useRef(e);return xV(()=>{o.current=e},[e]),w.useEffect(()=>{var u;a.current!==t&&((u=o.current)==null||u.call(o,t),a.current=t)},[t,a]),[t,s,o]}function EV(n){return typeof n=="function"}function x_(n){const e=w.useRef({value:n,previous:n});return w.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var u2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),TV="VisuallyHidden",SV=w.forwardRef((n,e)=>h.jsx(Mt.span,{...n,ref:e,style:{...u2,...n.style}}));SV.displayName=TV;var AV=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Ul=new WeakMap,Uh=new WeakMap,Bh={},Wy=0,d2=function(n){return n&&(n.host||d2(n.parentNode))},CV=function(n,e){return e.map(function(t){if(n.contains(t))return t;var s=d2(t);return s&&n.contains(s)?s:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},RV=function(n,e,t,s){var a=CV(e,Array.isArray(n)?n:[n]);Bh[t]||(Bh[t]=new WeakMap);var o=Bh[t],u=[],d=new Set,m=new Set(a),p=function(b){!b||d.has(b)||(d.add(b),p(b.parentNode))};a.forEach(p);var v=function(b){!b||m.has(b)||Array.prototype.forEach.call(b.children,function(_){if(d.has(_))v(_);else try{var S=_.getAttribute(s),C=S!==null&&S!=="false",R=(Ul.get(_)||0)+1,N=(o.get(_)||0)+1;Ul.set(_,R),o.set(_,N),u.push(_),R===1&&C&&Uh.set(_,!0),N===1&&_.setAttribute(t,"true"),C||_.setAttribute(s,"true")}catch(j){console.error("aria-hidden: cannot operate on ",_,j)}})};return v(e),d.clear(),Wy++,function(){u.forEach(function(b){var _=Ul.get(b)-1,S=o.get(b)-1;Ul.set(b,_),o.set(b,S),_||(Uh.has(b)||b.removeAttribute(s),Uh.delete(b)),S||b.removeAttribute(t)}),Wy--,Wy||(Ul=new WeakMap,Ul=new WeakMap,Uh=new WeakMap,Bh={})}},NV=function(n,e,t){t===void 0&&(t="data-aria-hidden");var s=Array.from(Array.isArray(n)?n:[n]),a=AV(n);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),RV(s,a,t,"aria-hidden")):function(){return null}},im="right-scroll-bar-position",am="width-before-scroll-bar",IV="with-scroll-bars-hidden",kV="--removed-body-scroll-bar-size";function Xy(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function DV(n,e){var t=w.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(s){var a=t.value;a!==s&&(t.value=s,t.callback(s,a))}}}})[0];return t.callback=e,t.facade}var OV=typeof window<"u"?w.useLayoutEffect:w.useEffect,nS=new WeakMap;function jV(n,e){var t=DV(null,function(s){return n.forEach(function(a){return Xy(a,s)})});return OV(function(){var s=nS.get(t);if(s){var a=new Set(s),o=new Set(n),u=t.current;a.forEach(function(d){o.has(d)||Xy(d,null)}),o.forEach(function(d){a.has(d)||Xy(d,u)})}nS.set(t,n)},[n]),t}function MV(n){return n}function PV(n,e){e===void 0&&(e=MV);var t=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(o){var u=e(o,s);return t.push(u),function(){t=t.filter(function(d){return d!==u})}},assignSyncMedium:function(o){for(s=!0;t.length;){var u=t;t=[],u.forEach(o)}t={push:function(d){return o(d)},filter:function(){return t}}},assignMedium:function(o){s=!0;var u=[];if(t.length){var d=t;t=[],d.forEach(o),u=t}var m=function(){var v=u;u=[],v.forEach(o)},p=function(){return Promise.resolve().then(m)};p(),t={push:function(v){u.push(v),p()},filter:function(v){return u=u.filter(v),t}}}};return a}function LV(n){n===void 0&&(n={});var e=PV(null);return e.options=Ns({async:!0,ssr:!1},n),e}var f2=function(n){var e=n.sideCar,t=Hd(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return w.createElement(s,Ns({},t))};f2.isSideCarExport=!0;function VV(n,e){return n.useMedium(e),f2}var h2=LV(),Jy=function(){},bp=w.forwardRef(function(n,e){var t=w.useRef(null),s=w.useState({onScrollCapture:Jy,onWheelCapture:Jy,onTouchMoveCapture:Jy}),a=s[0],o=s[1],u=n.forwardProps,d=n.children,m=n.className,p=n.removeScrollBar,v=n.enabled,b=n.shards,_=n.sideCar,S=n.noIsolation,C=n.inert,R=n.allowPinchZoom,N=n.as,j=N===void 0?"div":N,U=n.gapMode,V=Hd(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=_,H=jV([t,e]),Q=Ns(Ns({},V),a);return w.createElement(w.Fragment,null,v&&w.createElement($,{sideCar:h2,removeScrollBar:p,shards:b,noIsolation:S,inert:C,setCallbacks:o,allowPinchZoom:!!R,lockRef:t,gapMode:U}),u?w.cloneElement(w.Children.only(d),Ns(Ns({},Q),{ref:H})):w.createElement(j,Ns({},Q,{className:m,ref:H}),d))});bp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bp.classNames={fullWidth:am,zeroRight:im};var UV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function BV(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=UV();return e&&n.setAttribute("nonce",e),n}function zV(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function FV(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var HV=function(){var n=0,e=null;return{add:function(t){n==0&&(e=BV())&&(zV(e,t),FV(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},qV=function(){var n=HV();return function(e,t){w.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},m2=function(){var n=qV(),e=function(t){var s=t.styles,a=t.dynamic;return n(s,a),null};return e},$V={left:0,top:0,right:0,gap:0},ev=function(n){return parseInt(n||"",10)||0},GV=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],s=e[n==="padding"?"paddingTop":"marginTop"],a=e[n==="padding"?"paddingRight":"marginRight"];return[ev(t),ev(s),ev(a)]},YV=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return $V;var e=GV(n),t=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-t+e[2]-e[0])}},KV=m2(),tc="data-scroll-locked",ZV=function(n,e,t,s){var a=n.left,o=n.top,u=n.right,d=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(IV,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(tc,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),t==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),t==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(im,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(am,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(im," .").concat(im,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(am," .").concat(am,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(tc,`] {
    `).concat(kV,": ").concat(d,`px;
  }
`)},rS=function(){var n=parseInt(document.body.getAttribute(tc)||"0",10);return isFinite(n)?n:0},QV=function(){w.useEffect(function(){return document.body.setAttribute(tc,(rS()+1).toString()),function(){var n=rS()-1;n<=0?document.body.removeAttribute(tc):document.body.setAttribute(tc,n.toString())}},[])},WV=function(n){var e=n.noRelative,t=n.noImportant,s=n.gapMode,a=s===void 0?"margin":s;QV();var o=w.useMemo(function(){return YV(a)},[a]);return w.createElement(KV,{styles:ZV(o,!e,a,t?"":"!important")})},Hv=!1;if(typeof window<"u")try{var zh=Object.defineProperty({},"passive",{get:function(){return Hv=!0,!0}});window.addEventListener("test",zh,zh),window.removeEventListener("test",zh,zh)}catch{Hv=!1}var Bl=Hv?{passive:!1}:!1,XV=function(n){return n.tagName==="TEXTAREA"},p2=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!XV(n)&&t[e]==="visible")},JV=function(n){return p2(n,"overflowY")},e9=function(n){return p2(n,"overflowX")},sS=function(n,e){var t=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=g2(n,s);if(a){var o=y2(n,s),u=o[1],d=o[2];if(u>d)return!0}s=s.parentNode}while(s&&s!==t.body);return!1},t9=function(n){var e=n.scrollTop,t=n.scrollHeight,s=n.clientHeight;return[e,t,s]},n9=function(n){var e=n.scrollLeft,t=n.scrollWidth,s=n.clientWidth;return[e,t,s]},g2=function(n,e){return n==="v"?JV(e):e9(e)},y2=function(n,e){return n==="v"?t9(e):n9(e)},r9=function(n,e){return n==="h"&&e==="rtl"?-1:1},s9=function(n,e,t,s,a){var o=r9(n,window.getComputedStyle(e).direction),u=o*s,d=t.target,m=e.contains(d),p=!1,v=u>0,b=0,_=0;do{var S=y2(n,d),C=S[0],R=S[1],N=S[2],j=R-N-o*C;(C||j)&&g2(n,d)&&(b+=j,_+=C),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!m&&d!==document.body||m&&(e.contains(d)||e===d));return(v&&Math.abs(b)<1||!v&&Math.abs(_)<1)&&(p=!0),p},Fh=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},iS=function(n){return[n.deltaX,n.deltaY]},aS=function(n){return n&&"current"in n?n.current:n},i9=function(n,e){return n[0]===e[0]&&n[1]===e[1]},a9=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},o9=0,zl=[];function l9(n){var e=w.useRef([]),t=w.useRef([0,0]),s=w.useRef(),a=w.useState(o9++)[0],o=w.useState(m2)[0],u=w.useRef(n);w.useEffect(function(){u.current=n},[n]),w.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(a));var R=Z3([n.lockRef.current],(n.shards||[]).map(aS),!0).filter(Boolean);return R.forEach(function(N){return N.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),R.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(a))})}}},[n.inert,n.lockRef.current,n.shards]);var d=w.useCallback(function(R,N){if("touches"in R&&R.touches.length===2||R.type==="wheel"&&R.ctrlKey)return!u.current.allowPinchZoom;var j=Fh(R),U=t.current,V="deltaX"in R?R.deltaX:U[0]-j[0],$="deltaY"in R?R.deltaY:U[1]-j[1],H,Q=R.target,I=Math.abs(V)>Math.abs($)?"h":"v";if("touches"in R&&I==="h"&&Q.type==="range")return!1;var A=sS(I,Q);if(!A)return!0;if(A?H=I:(H=I==="v"?"h":"v",A=sS(I,Q)),!A)return!1;if(!s.current&&"changedTouches"in R&&(V||$)&&(s.current=H),!H)return!0;var M=s.current||H;return s9(M,N,R,M==="h"?V:$)},[]),m=w.useCallback(function(R){var N=R;if(!(!zl.length||zl[zl.length-1]!==o)){var j="deltaY"in N?iS(N):Fh(N),U=e.current.filter(function(H){return H.name===N.type&&(H.target===N.target||N.target===H.shadowParent)&&i9(H.delta,j)})[0];if(U&&U.should){N.cancelable&&N.preventDefault();return}if(!U){var V=(u.current.shards||[]).map(aS).filter(Boolean).filter(function(H){return H.contains(N.target)}),$=V.length>0?d(N,V[0]):!u.current.noIsolation;$&&N.cancelable&&N.preventDefault()}}},[]),p=w.useCallback(function(R,N,j,U){var V={name:R,delta:N,target:j,should:U,shadowParent:c9(j)};e.current.push(V),setTimeout(function(){e.current=e.current.filter(function($){return $!==V})},1)},[]),v=w.useCallback(function(R){t.current=Fh(R),s.current=void 0},[]),b=w.useCallback(function(R){p(R.type,iS(R),R.target,d(R,n.lockRef.current))},[]),_=w.useCallback(function(R){p(R.type,Fh(R),R.target,d(R,n.lockRef.current))},[]);w.useEffect(function(){return zl.push(o),n.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:_}),document.addEventListener("wheel",m,Bl),document.addEventListener("touchmove",m,Bl),document.addEventListener("touchstart",v,Bl),function(){zl=zl.filter(function(R){return R!==o}),document.removeEventListener("wheel",m,Bl),document.removeEventListener("touchmove",m,Bl),document.removeEventListener("touchstart",v,Bl)}},[]);var S=n.removeScrollBar,C=n.inert;return w.createElement(w.Fragment,null,C?w.createElement(o,{styles:a9(a)}):null,S?w.createElement(WV,{gapMode:n.gapMode}):null)}function c9(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const u9=VV(h2,l9);var v2=w.forwardRef(function(n,e){return w.createElement(bp,Ns({},n,{ref:e,sideCar:u9}))});v2.classNames=bp.classNames;var d9=[" ","Enter","ArrowUp","ArrowDown"],f9=[" ","Enter"],zo="Select",[xp,wp,h9]=q8(zo),[Uc,Q5]=Pc(zo,[h9,e2]),Ep=e2(),[m9,Za]=Uc(zo),[p9,g9]=Uc(zo),_2=n=>{const{__scopeSelect:e,children:t,open:s,defaultOpen:a,onOpenChange:o,value:u,defaultValue:d,onValueChange:m,dir:p,name:v,autoComplete:b,disabled:_,required:S,form:C}=n,R=Ep(e),[N,j]=w.useState(null),[U,V]=w.useState(null),[$,H]=w.useState(!1),Q=G8(p),[I,A]=Mm({prop:s,defaultProp:a??!1,onChange:o,caller:zo}),[M,B]=Mm({prop:u,defaultProp:d,onChange:m,caller:zo}),D=w.useRef(null),L=N?C||!!N.closest("form"):!0,[P,G]=w.useState(new Set),se=Array.from(P).map(q=>q.props.value).join(";");return h.jsx(gV,{...R,children:h.jsxs(m9,{required:S,scope:e,trigger:N,onTriggerChange:j,valueNode:U,onValueNodeChange:V,valueNodeHasChildren:$,onValueNodeHasChildrenChange:H,contentId:u_(),value:M,onValueChange:B,open:I,onOpenChange:A,dir:Q,triggerPointerDownPosRef:D,disabled:_,children:[h.jsx(xp.Provider,{scope:e,children:h.jsx(p9,{scope:n.__scopeSelect,onNativeOptionAdd:w.useCallback(q=>{G(ee=>new Set(ee).add(q))},[]),onNativeOptionRemove:w.useCallback(q=>{G(ee=>{const K=new Set(ee);return K.delete(q),K})},[]),children:t})}),L?h.jsxs(z2,{"aria-hidden":!0,required:S,tabIndex:-1,name:v,autoComplete:b,value:M,onChange:q=>B(q.target.value),disabled:_,form:C,children:[M===void 0?h.jsx("option",{value:""}):null,Array.from(P)]},se):null]})})};_2.displayName=zo;var b2="SelectTrigger",x2=w.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:s=!1,...a}=n,o=Ep(t),u=Za(b2,t),d=u.disabled||s,m=sn(e,u.onTriggerChange),p=wp(t),v=w.useRef("touch"),[b,_,S]=H2(R=>{const N=p().filter(V=>!V.disabled),j=N.find(V=>V.value===u.value),U=q2(N,R,j);U!==void 0&&u.onValueChange(U.value)}),C=R=>{d||(u.onOpenChange(!0),S()),R&&(u.triggerPointerDownPosRef.current={x:Math.round(R.pageX),y:Math.round(R.pageY)})};return h.jsx(yV,{asChild:!0,...o,children:h.jsx(Mt.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":F2(u.value)?"":void 0,...a,ref:m,onClick:nn(a.onClick,R=>{R.currentTarget.focus(),v.current!=="mouse"&&C(R)}),onPointerDown:nn(a.onPointerDown,R=>{v.current=R.pointerType;const N=R.target;N.hasPointerCapture(R.pointerId)&&N.releasePointerCapture(R.pointerId),R.button===0&&R.ctrlKey===!1&&R.pointerType==="mouse"&&(C(R),R.preventDefault())}),onKeyDown:nn(a.onKeyDown,R=>{const N=b.current!=="";!(R.ctrlKey||R.altKey||R.metaKey)&&R.key.length===1&&_(R.key),!(N&&R.key===" ")&&d9.includes(R.key)&&(C(),R.preventDefault())})})})});x2.displayName=b2;var w2="SelectValue",E2=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:s,style:a,children:o,placeholder:u="",...d}=n,m=Za(w2,t),{onValueNodeHasChildrenChange:p}=m,v=o!==void 0,b=sn(e,m.onValueNodeChange);return tr(()=>{p(v)},[p,v]),h.jsx(Mt.span,{...d,ref:b,style:{pointerEvents:"none"},children:F2(m.value)?h.jsx(h.Fragment,{children:u}):o})});E2.displayName=w2;var y9="SelectIcon",T2=w.forwardRef((n,e)=>{const{__scopeSelect:t,children:s,...a}=n;return h.jsx(Mt.span,{"aria-hidden":!0,...a,ref:e,children:s||"▼"})});T2.displayName=y9;var v9="SelectPortal",S2=n=>h.jsx(c2,{asChild:!0,...n});S2.displayName=v9;var Fo="SelectContent",A2=w.forwardRef((n,e)=>{const t=Za(Fo,n.__scopeSelect),[s,a]=w.useState();if(tr(()=>{a(new DocumentFragment)},[]),!t.open){const o=s;return o?Bd.createPortal(h.jsx(C2,{scope:n.__scopeSelect,children:h.jsx(xp.Slot,{scope:n.__scopeSelect,children:h.jsx("div",{children:n.children})})}),o):null}return h.jsx(R2,{...n,ref:e})});A2.displayName=Fo;var Jr=10,[C2,Qa]=Uc(Fo),_9="SelectContentImpl",b9=hd("SelectContent.RemoveScroll"),R2=w.forwardRef((n,e)=>{const{__scopeSelect:t,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:u,side:d,sideOffset:m,align:p,alignOffset:v,arrowPadding:b,collisionBoundary:_,collisionPadding:S,sticky:C,hideWhenDetached:R,avoidCollisions:N,...j}=n,U=Za(Fo,t),[V,$]=w.useState(null),[H,Q]=w.useState(null),I=sn(e,ve=>$(ve)),[A,M]=w.useState(null),[B,D]=w.useState(null),L=wp(t),[P,G]=w.useState(!1),se=w.useRef(!1);w.useEffect(()=>{if(V)return NV(V)},[V]),tL();const q=w.useCallback(ve=>{const[je,...ht]=L().map(Je=>Je.ref.current),[We]=ht.slice(-1),Xe=document.activeElement;for(const Je of ve)if(Je===Xe||(Je==null||Je.scrollIntoView({block:"nearest"}),Je===je&&H&&(H.scrollTop=0),Je===We&&H&&(H.scrollTop=H.scrollHeight),Je==null||Je.focus(),document.activeElement!==Xe))return},[L,H]),ee=w.useCallback(()=>q([A,V]),[q,A,V]);w.useEffect(()=>{P&&ee()},[P,ee]);const{onOpenChange:K,triggerPointerDownPosRef:ye}=U;w.useEffect(()=>{if(V){let ve={x:0,y:0};const je=We=>{var Xe,Je;ve={x:Math.abs(Math.round(We.pageX)-(((Xe=ye.current)==null?void 0:Xe.x)??0)),y:Math.abs(Math.round(We.pageY)-(((Je=ye.current)==null?void 0:Je.y)??0))}},ht=We=>{ve.x<=10&&ve.y<=10?We.preventDefault():V.contains(We.target)||K(!1),document.removeEventListener("pointermove",je),ye.current=null};return ye.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",ht,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",ht,{capture:!0})}}},[V,K,ye]),w.useEffect(()=>{const ve=()=>K(!1);return window.addEventListener("blur",ve),window.addEventListener("resize",ve),()=>{window.removeEventListener("blur",ve),window.removeEventListener("resize",ve)}},[K]);const[z,ae]=H2(ve=>{const je=L().filter(Xe=>!Xe.disabled),ht=je.find(Xe=>Xe.ref.current===document.activeElement),We=q2(je,ve,ht);We&&setTimeout(()=>We.ref.current.focus())}),me=w.useCallback((ve,je,ht)=>{const We=!se.current&&!ht;(U.value!==void 0&&U.value===je||We)&&(M(ve),We&&(se.current=!0))},[U.value]),le=w.useCallback(()=>V==null?void 0:V.focus(),[V]),be=w.useCallback((ve,je,ht)=>{const We=!se.current&&!ht;(U.value!==void 0&&U.value===je||We)&&D(ve)},[U.value]),Be=s==="popper"?qv:N2,De=Be===qv?{side:d,sideOffset:m,align:p,alignOffset:v,arrowPadding:b,collisionBoundary:_,collisionPadding:S,sticky:C,hideWhenDetached:R,avoidCollisions:N}:{};return h.jsx(C2,{scope:t,content:V,viewport:H,onViewportChange:Q,itemRefCallback:me,selectedItem:A,onItemLeave:le,itemTextRefCallback:be,focusSelectedItem:ee,selectedItemText:B,position:s,isPositioned:P,searchRef:z,children:h.jsx(v2,{as:b9,allowPinchZoom:!0,children:h.jsx(BC,{asChild:!0,trapped:U.open,onMountAutoFocus:ve=>{ve.preventDefault()},onUnmountAutoFocus:nn(a,ve=>{var je;(je=U.trigger)==null||je.focus({preventScroll:!0}),ve.preventDefault()}),children:h.jsx(VC,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:u,onFocusOutside:ve=>ve.preventDefault(),onDismiss:()=>U.onOpenChange(!1),children:h.jsx(Be,{role:"listbox",id:U.contentId,"data-state":U.open?"open":"closed",dir:U.dir,onContextMenu:ve=>ve.preventDefault(),...j,...De,onPlaced:()=>G(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:nn(j.onKeyDown,ve=>{const je=ve.ctrlKey||ve.altKey||ve.metaKey;if(ve.key==="Tab"&&ve.preventDefault(),!je&&ve.key.length===1&&ae(ve.key),["ArrowUp","ArrowDown","Home","End"].includes(ve.key)){let We=L().filter(Xe=>!Xe.disabled).map(Xe=>Xe.ref.current);if(["ArrowUp","End"].includes(ve.key)&&(We=We.slice().reverse()),["ArrowUp","ArrowDown"].includes(ve.key)){const Xe=ve.target,Je=We.indexOf(Xe);We=We.slice(Je+1)}setTimeout(()=>q(We)),ve.preventDefault()}})})})})})})});R2.displayName=_9;var x9="SelectItemAlignedPosition",N2=w.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:s,...a}=n,o=Za(Fo,t),u=Qa(Fo,t),[d,m]=w.useState(null),[p,v]=w.useState(null),b=sn(e,I=>v(I)),_=wp(t),S=w.useRef(!1),C=w.useRef(!0),{viewport:R,selectedItem:N,selectedItemText:j,focusSelectedItem:U}=u,V=w.useCallback(()=>{if(o.trigger&&o.valueNode&&d&&p&&R&&N&&j){const I=o.trigger.getBoundingClientRect(),A=p.getBoundingClientRect(),M=o.valueNode.getBoundingClientRect(),B=j.getBoundingClientRect();if(o.dir!=="rtl"){const Xe=B.left-A.left,Je=M.left-Xe,re=I.left-Je,Ce=I.width+re,Re=Math.max(Ce,A.width),Pe=window.innerWidth-Jr,he=BT(Je,[Jr,Math.max(Jr,Pe-Re)]);d.style.minWidth=Ce+"px",d.style.left=he+"px"}else{const Xe=A.right-B.right,Je=window.innerWidth-M.right-Xe,re=window.innerWidth-I.right-Je,Ce=I.width+re,Re=Math.max(Ce,A.width),Pe=window.innerWidth-Jr,he=BT(Je,[Jr,Math.max(Jr,Pe-Re)]);d.style.minWidth=Ce+"px",d.style.right=he+"px"}const D=_(),L=window.innerHeight-Jr*2,P=R.scrollHeight,G=window.getComputedStyle(p),se=parseInt(G.borderTopWidth,10),q=parseInt(G.paddingTop,10),ee=parseInt(G.borderBottomWidth,10),K=parseInt(G.paddingBottom,10),ye=se+q+P+K+ee,z=Math.min(N.offsetHeight*5,ye),ae=window.getComputedStyle(R),me=parseInt(ae.paddingTop,10),le=parseInt(ae.paddingBottom,10),be=I.top+I.height/2-Jr,Be=L-be,De=N.offsetHeight/2,ve=N.offsetTop+De,je=se+q+ve,ht=ye-je;if(je<=be){const Xe=D.length>0&&N===D[D.length-1].ref.current;d.style.bottom="0px";const Je=p.clientHeight-R.offsetTop-R.offsetHeight,re=Math.max(Be,De+(Xe?le:0)+Je+ee),Ce=je+re;d.style.height=Ce+"px"}else{const Xe=D.length>0&&N===D[0].ref.current;d.style.top="0px";const re=Math.max(be,se+R.offsetTop+(Xe?me:0)+De)+ht;d.style.height=re+"px",R.scrollTop=je-be+R.offsetTop}d.style.margin=`${Jr}px 0`,d.style.minHeight=z+"px",d.style.maxHeight=L+"px",s==null||s(),requestAnimationFrame(()=>S.current=!0)}},[_,o.trigger,o.valueNode,d,p,R,N,j,o.dir,s]);tr(()=>V(),[V]);const[$,H]=w.useState();tr(()=>{p&&H(window.getComputedStyle(p).zIndex)},[p]);const Q=w.useCallback(I=>{I&&C.current===!0&&(V(),U==null||U(),C.current=!1)},[V,U]);return h.jsx(E9,{scope:t,contentWrapper:d,shouldExpandOnScrollRef:S,onScrollButtonChange:Q,children:h.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:$},children:h.jsx(Mt.div,{...a,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});N2.displayName=x9;var w9="SelectPopperPosition",qv=w.forwardRef((n,e)=>{const{__scopeSelect:t,align:s="start",collisionPadding:a=Jr,...o}=n,u=Ep(t);return h.jsx(vV,{...u,...o,ref:e,align:s,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});qv.displayName=w9;var[E9,w_]=Uc(Fo,{}),$v="SelectViewport",I2=w.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:s,...a}=n,o=Qa($v,t),u=w_($v,t),d=sn(e,o.onViewportChange),m=w.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),h.jsx(xp.Slot,{scope:t,children:h.jsx(Mt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:nn(a.onScroll,p=>{const v=p.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:_}=u;if(_!=null&&_.current&&b){const S=Math.abs(m.current-v.scrollTop);if(S>0){const C=window.innerHeight-Jr*2,R=parseFloat(b.style.minHeight),N=parseFloat(b.style.height),j=Math.max(R,N);if(j<C){const U=j+S,V=Math.min(C,U),$=U-V;b.style.height=V+"px",b.style.bottom==="0px"&&(v.scrollTop=$>0?$:0,b.style.justifyContent="flex-end")}}}m.current=v.scrollTop})})})]})});I2.displayName=$v;var k2="SelectGroup",[T9,S9]=Uc(k2),A9=w.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,a=u_();return h.jsx(T9,{scope:t,id:a,children:h.jsx(Mt.div,{role:"group","aria-labelledby":a,...s,ref:e})})});A9.displayName=k2;var D2="SelectLabel",C9=w.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,a=S9(D2,t);return h.jsx(Mt.div,{id:a.id,...s,ref:e})});C9.displayName=D2;var Pm="SelectItem",[R9,O2]=Uc(Pm),j2=w.forwardRef((n,e)=>{const{__scopeSelect:t,value:s,disabled:a=!1,textValue:o,...u}=n,d=Za(Pm,t),m=Qa(Pm,t),p=d.value===s,[v,b]=w.useState(o??""),[_,S]=w.useState(!1),C=sn(e,U=>{var V;return(V=m.itemRefCallback)==null?void 0:V.call(m,U,s,a)}),R=u_(),N=w.useRef("touch"),j=()=>{a||(d.onValueChange(s),d.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(R9,{scope:t,value:s,disabled:a,textId:R,isSelected:p,onItemTextChange:w.useCallback(U=>{b(V=>V||((U==null?void 0:U.textContent)??"").trim())},[]),children:h.jsx(xp.ItemSlot,{scope:t,value:s,disabled:a,textValue:v,children:h.jsx(Mt.div,{role:"option","aria-labelledby":R,"data-highlighted":_?"":void 0,"aria-selected":p&&_,"data-state":p?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...u,ref:C,onFocus:nn(u.onFocus,()=>S(!0)),onBlur:nn(u.onBlur,()=>S(!1)),onClick:nn(u.onClick,()=>{N.current!=="mouse"&&j()}),onPointerUp:nn(u.onPointerUp,()=>{N.current==="mouse"&&j()}),onPointerDown:nn(u.onPointerDown,U=>{N.current=U.pointerType}),onPointerMove:nn(u.onPointerMove,U=>{var V;N.current=U.pointerType,a?(V=m.onItemLeave)==null||V.call(m):N.current==="mouse"&&U.currentTarget.focus({preventScroll:!0})}),onPointerLeave:nn(u.onPointerLeave,U=>{var V;U.currentTarget===document.activeElement&&((V=m.onItemLeave)==null||V.call(m))}),onKeyDown:nn(u.onKeyDown,U=>{var $;(($=m.searchRef)==null?void 0:$.current)!==""&&U.key===" "||(f9.includes(U.key)&&j(),U.key===" "&&U.preventDefault())})})})})});j2.displayName=Pm;var rd="SelectItemText",M2=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:s,style:a,...o}=n,u=Za(rd,t),d=Qa(rd,t),m=O2(rd,t),p=g9(rd,t),[v,b]=w.useState(null),_=sn(e,j=>b(j),m.onItemTextChange,j=>{var U;return(U=d.itemTextRefCallback)==null?void 0:U.call(d,j,m.value,m.disabled)}),S=v==null?void 0:v.textContent,C=w.useMemo(()=>h.jsx("option",{value:m.value,disabled:m.disabled,children:S},m.value),[m.disabled,m.value,S]),{onNativeOptionAdd:R,onNativeOptionRemove:N}=p;return tr(()=>(R(C),()=>N(C)),[R,N,C]),h.jsxs(h.Fragment,{children:[h.jsx(Mt.span,{id:m.textId,...o,ref:_}),m.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Bd.createPortal(o.children,u.valueNode):null]})});M2.displayName=rd;var P2="SelectItemIndicator",L2=w.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n;return O2(P2,t).isSelected?h.jsx(Mt.span,{"aria-hidden":!0,...s,ref:e}):null});L2.displayName=P2;var Gv="SelectScrollUpButton",V2=w.forwardRef((n,e)=>{const t=Qa(Gv,n.__scopeSelect),s=w_(Gv,n.__scopeSelect),[a,o]=w.useState(!1),u=sn(e,s.onScrollButtonChange);return tr(()=>{if(t.viewport&&t.isPositioned){let d=function(){const p=m.scrollTop>0;o(p)};const m=t.viewport;return d(),m.addEventListener("scroll",d),()=>m.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),a?h.jsx(B2,{...n,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:m}=t;d&&m&&(d.scrollTop=d.scrollTop-m.offsetHeight)}}):null});V2.displayName=Gv;var Yv="SelectScrollDownButton",U2=w.forwardRef((n,e)=>{const t=Qa(Yv,n.__scopeSelect),s=w_(Yv,n.__scopeSelect),[a,o]=w.useState(!1),u=sn(e,s.onScrollButtonChange);return tr(()=>{if(t.viewport&&t.isPositioned){let d=function(){const p=m.scrollHeight-m.clientHeight,v=Math.ceil(m.scrollTop)<p;o(v)};const m=t.viewport;return d(),m.addEventListener("scroll",d),()=>m.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),a?h.jsx(B2,{...n,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:m}=t;d&&m&&(d.scrollTop=d.scrollTop+m.offsetHeight)}}):null});U2.displayName=Yv;var B2=w.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:s,...a}=n,o=Qa("SelectScrollButton",t),u=w.useRef(null),d=wp(t),m=w.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return w.useEffect(()=>()=>m(),[m]),tr(()=>{var v;const p=d().find(b=>b.ref.current===document.activeElement);(v=p==null?void 0:p.ref.current)==null||v.scrollIntoView({block:"nearest"})},[d]),h.jsx(Mt.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:nn(a.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(s,50))}),onPointerMove:nn(a.onPointerMove,()=>{var p;(p=o.onItemLeave)==null||p.call(o),u.current===null&&(u.current=window.setInterval(s,50))}),onPointerLeave:nn(a.onPointerLeave,()=>{m()})})}),N9="SelectSeparator",I9=w.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n;return h.jsx(Mt.div,{"aria-hidden":!0,...s,ref:e})});I9.displayName=N9;var Kv="SelectArrow",k9=w.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,a=Ep(t),o=Za(Kv,t),u=Qa(Kv,t);return o.open&&u.position==="popper"?h.jsx(_V,{...a,...s,ref:e}):null});k9.displayName=Kv;var D9="SelectBubbleInput",z2=w.forwardRef(({__scopeSelect:n,value:e,...t},s)=>{const a=w.useRef(null),o=sn(s,a),u=x_(e);return w.useEffect(()=>{const d=a.current;if(!d)return;const m=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(m,"value").set;if(u!==e&&v){const b=new Event("change",{bubbles:!0});v.call(d,e),d.dispatchEvent(b)}},[u,e]),h.jsx(Mt.select,{...t,style:{...u2,...t.style},ref:o,defaultValue:e})});z2.displayName=D9;function F2(n){return n===""||n===void 0}function H2(n){const e=Uo(n),t=w.useRef(""),s=w.useRef(0),a=w.useCallback(u=>{const d=t.current+u;e(d),function m(p){t.current=p,window.clearTimeout(s.current),p!==""&&(s.current=window.setTimeout(()=>m(""),1e3))}(d)},[e]),o=w.useCallback(()=>{t.current="",window.clearTimeout(s.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(s.current),[]),[t,a,o]}function q2(n,e,t){const a=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let u=O9(n,Math.max(o,0));a.length===1&&(u=u.filter(p=>p!==t));const m=u.find(p=>p.textValue.toLowerCase().startsWith(a.toLowerCase()));return m!==t?m:void 0}function O9(n,e){return n.map((t,s)=>n[(e+s)%n.length])}var j9=_2,M9=x2,P9=E2,L9=T2,V9=S2,U9=A2,B9=I2,z9=j2,F9=M2,H9=L2,q9=V2,$9=U2;function Is({...n}){return h.jsx(j9,{"data-slot":"select",...n})}function ks({...n}){return h.jsx(P9,{"data-slot":"select-value",...n})}function Ds({className:n,size:e="default",children:t,...s}){return h.jsxs(M9,{"data-slot":"select-trigger","data-size":e,className:un("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...s,children:[t,h.jsx(L9,{asChild:!0,children:h.jsx(QS,{className:"size-4 opacity-50"})})]})}function Os({className:n,children:e,position:t="popper",...s}){return h.jsx(V9,{children:h.jsxs(U9,{"data-slot":"select-content",className:un("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...s,children:[h.jsx(G9,{}),h.jsx(B9,{className:un("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),h.jsx(Y9,{})]})})}function Nn({className:n,children:e,...t}){return h.jsxs(z9,{"data-slot":"select-item",className:un("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[h.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:h.jsx(H9,{children:h.jsx(u0,{className:"size-4"})})}),h.jsx(F9,{children:e})]})}function G9({className:n,...e}){return h.jsx(q9,{"data-slot":"select-scroll-up-button",className:un("flex cursor-default items-center justify-center py-1",n),...e,children:h.jsx(CD,{className:"size-4"})})}function Y9({className:n,...e}){return h.jsx($9,{"data-slot":"select-scroll-down-button",className:un("flex cursor-default items-center justify-center py-1",n),...e,children:h.jsx(QS,{className:"size-4"})})}function $2({className:n,...e}){return h.jsx("textarea",{"data-slot":"textarea",className:un("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}function K9(n,e){return w.useReducer((t,s)=>e[t][s]??t,n)}var G2=n=>{const{present:e,children:t}=n,s=Z9(e),a=typeof t=="function"?t({present:s.isPresent}):w.Children.only(t),o=sn(s.ref,Q9(a));return typeof t=="function"||s.isPresent?w.cloneElement(a,{ref:o}):null};G2.displayName="Presence";function Z9(n){const[e,t]=w.useState(),s=w.useRef(null),a=w.useRef(n),o=w.useRef("none"),u=n?"mounted":"unmounted",[d,m]=K9(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const p=Hh(s.current);o.current=d==="mounted"?p:"none"},[d]),tr(()=>{const p=s.current,v=a.current;if(v!==n){const _=o.current,S=Hh(p);n?m("MOUNT"):S==="none"||(p==null?void 0:p.display)==="none"?m("UNMOUNT"):m(v&&_!==S?"ANIMATION_OUT":"UNMOUNT"),a.current=n}},[n,m]),tr(()=>{if(e){let p;const v=e.ownerDocument.defaultView??window,b=S=>{const R=Hh(s.current).includes(S.animationName);if(S.target===e&&R&&(m("ANIMATION_END"),!a.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",p=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},_=S=>{S.target===e&&(o.current=Hh(s.current))};return e.addEventListener("animationstart",_),e.addEventListener("animationcancel",b),e.addEventListener("animationend",b),()=>{v.clearTimeout(p),e.removeEventListener("animationstart",_),e.removeEventListener("animationcancel",b),e.removeEventListener("animationend",b)}}else m("ANIMATION_END")},[e,m]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:w.useCallback(p=>{s.current=p?getComputedStyle(p):null,t(p)},[])}}function Hh(n){return(n==null?void 0:n.animationName)||"none"}function Q9(n){var s,a;let e=(s=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Tp="Checkbox",[W9,W5]=Pc(Tp),[X9,E_]=W9(Tp);function J9(n){const{__scopeCheckbox:e,checked:t,children:s,defaultChecked:a,disabled:o,form:u,name:d,onCheckedChange:m,required:p,value:v="on",internal_do_not_use_render:b}=n,[_,S]=Mm({prop:t,defaultProp:a??!1,onChange:m,caller:Tp}),[C,R]=w.useState(null),[N,j]=w.useState(null),U=w.useRef(!1),V=C?!!u||!!C.closest("form"):!0,$={checked:_,disabled:o,setChecked:S,control:C,setControl:R,name:d,form:u,value:v,hasConsumerStoppedPropagationRef:U,required:p,defaultChecked:Oa(a)?!1:a,isFormControl:V,bubbleInput:N,setBubbleInput:j};return h.jsx(X9,{scope:e,...$,children:eU(b)?b($):s})}var Y2="CheckboxTrigger",K2=w.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...s},a)=>{const{control:o,value:u,disabled:d,checked:m,required:p,setControl:v,setChecked:b,hasConsumerStoppedPropagationRef:_,isFormControl:S,bubbleInput:C}=E_(Y2,n),R=sn(a,v),N=w.useRef(m);return w.useEffect(()=>{const j=o==null?void 0:o.form;if(j){const U=()=>b(N.current);return j.addEventListener("reset",U),()=>j.removeEventListener("reset",U)}},[o,b]),h.jsx(Mt.button,{type:"button",role:"checkbox","aria-checked":Oa(m)?"mixed":m,"aria-required":p,"data-state":eR(m),"data-disabled":d?"":void 0,disabled:d,value:u,...s,ref:R,onKeyDown:nn(e,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:nn(t,j=>{b(U=>Oa(U)?!0:!U),C&&S&&(_.current=j.isPropagationStopped(),_.current||j.stopPropagation())})})});K2.displayName=Y2;var Z2=w.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:s,checked:a,defaultChecked:o,required:u,disabled:d,value:m,onCheckedChange:p,form:v,...b}=n;return h.jsx(J9,{__scopeCheckbox:t,checked:a,defaultChecked:o,disabled:d,required:u,onCheckedChange:p,name:s,form:v,value:m,internal_do_not_use_render:({isFormControl:_})=>h.jsxs(h.Fragment,{children:[h.jsx(K2,{...b,ref:e,__scopeCheckbox:t}),_&&h.jsx(J2,{__scopeCheckbox:t})]})})});Z2.displayName=Tp;var Q2="CheckboxIndicator",W2=w.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:s,...a}=n,o=E_(Q2,t);return h.jsx(G2,{present:s||Oa(o.checked)||o.checked===!0,children:h.jsx(Mt.span,{"data-state":eR(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...n.style}})})});W2.displayName=Q2;var X2="CheckboxBubbleInput",J2=w.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:o,defaultChecked:u,required:d,disabled:m,name:p,value:v,form:b,bubbleInput:_,setBubbleInput:S}=E_(X2,n),C=sn(t,S),R=x_(o),N=v_(s);w.useEffect(()=>{const U=_;if(!U)return;const V=window.HTMLInputElement.prototype,H=Object.getOwnPropertyDescriptor(V,"checked").set,Q=!a.current;if(R!==o&&H){const I=new Event("click",{bubbles:Q});U.indeterminate=Oa(o),H.call(U,Oa(o)?!1:o),U.dispatchEvent(I)}},[_,R,o,a]);const j=w.useRef(Oa(o)?!1:o);return h.jsx(Mt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??j.current,required:d,disabled:m,name:p,value:v,form:b,...e,tabIndex:-1,ref:C,style:{...e.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});J2.displayName=X2;function eU(n){return typeof n=="function"}function Oa(n){return n==="indeterminate"}function eR(n){return Oa(n)?"indeterminate":n?"checked":"unchecked"}function qh({className:n,...e}){return h.jsx(Z2,{"data-slot":"checkbox",className:un("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:h.jsx(W2,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:h.jsx(u0,{className:"size-3.5"})})})}function tU(){const{currentUser:n}=rr(),{currentLedger:e,canEdit:t}=Ys(),[s,a]=w.useState([]),[o,u]=w.useState([]),[d,m]=w.useState([]),[p,v]=w.useState(!0),[b,_]=w.useState(!1),[S,C]=w.useState(null),[R,N]=w.useState(!1),[j,U]=w.useState(null),[V,$]=w.useState([]),[H,Q]=w.useState(!1),[I,A]=w.useState(""),[M,B]=w.useState(""),[D,L]=w.useState({amount:"",type:"expense",description:"",categoryId:"",paymentMethod:"cash",notes:"",includeInBudget:!0,date:new Date().toISOString().split("T")[0],paidBy:(n==null?void 0:n.uid)||"",splitType:"none",splitWith:[],splitAmounts:{}}),[P,G]=w.useState("none"),[se,q]=w.useState({categoryId:"",includeInBudget:null}),ee=()=>{L({amount:"",type:"expense",description:"",categoryId:"",paymentMethod:"cash",notes:"",includeInBudget:!0,date:new Date().toISOString().split("T")[0],paidBy:(n==null?void 0:n.uid)||"",splitType:"none",splitWith:[],splitAmounts:{}}),G("none"),N(!1),U(null),C(null)},K=async()=>{if(e)try{const re=Yt(He,"ledgers",e.id,"transactions"),Ce=vr(re,Mi("date","desc")),Re=await $n(Ce),Pe=[];Re.forEach(he=>{var pe;const Me=he.data();Pe.push({id:he.id,...Me,date:((pe=Me.date)==null?void 0:pe.toDate())||new Date})}),a(Pe)}catch(re){console.error("Error fetching transactions:",re),A("Failed to fetch transactions")}},ye=async()=>{if(e)try{const re=Yt(He,"ledgers",e.id,"categories"),Ce=await $n(re),Re=[];Ce.forEach(Pe=>{Re.push({id:Pe.id,...Pe.data()})}),u(Re),Re.length===0&&await ae()}catch(re){console.error("Error fetching categories:",re)}},z=async()=>{if(e!=null&&e.members)try{const re=[],Ce=Object.keys(e.members),Re=10,Pe=new Map;for(let he=0;he<Ce.length;he+=Re){const Me=Ce.slice(he,he+Re);try{const pe=vr(Yt(He,"users"),Vs("__name__","in",Me));(await $n(pe)).forEach(Ee=>{Pe.set(Ee.id,Ee.data())})}catch(pe){console.error("Error fetching user batch:",pe)}}for(const[he,Me]of Object.entries(e.members)){let pe={uid:he,role:Me};const Ae=Pe.get(he);Ae?pe={...pe,displayName:Ae.displayName,email:Ae.email,profileColor:Ae.profileColor}:he===(n==null?void 0:n.uid)?pe={...pe,displayName:n.displayName,email:n.email}:pe={...pe,displayName:`User ${he.slice(0,8)}`,email:`${he.slice(0,8)}@example.com`},re.push(pe)}m(re)}catch(re){console.error("Error fetching members:",re)}},ae=async()=>{const re=[{name:"Food & Dining",type:"expense"},{name:"Transportation",type:"expense"},{name:"Shopping",type:"expense"},{name:"Entertainment",type:"expense"},{name:"Bills & Utilities",type:"expense"},{name:"Healthcare",type:"expense"},{name:"Salary",type:"income"},{name:"Freelance",type:"income"},{name:"Investment",type:"income"}];try{const Ce=Yt(He,"ledgers",e.id,"categories");for(const Re of re)await Ri(Ce,Re);await ye()}catch(Ce){console.error("Error creating default categories:",Ce)}},me=async re=>{if(re.preventDefault(),!t()){A("You do not have permission to add transactions");return}try{A("");const Ce={...D,amount:parseFloat(D.amount),date:Ht.fromDate(new Date(D.date)),createdAt:Ht.now(),userId:n.uid,paidBy:D.paidBy,splitType:D.splitType,splitWith:D.splitWith,splitAmounts:D.splitAmounts};S?(await rs(Kt(He,"ledgers",e.id,"transactions",S.id),Ce),B("Transaction updated successfully")):(await Ri(Yt(He,"ledgers",e.id,"transactions"),Ce),B("Transaction added successfully")),ee(),_(!1),C(null),await K()}catch(Ce){console.error("Error adding/updating transaction:",Ce),A("Failed to add/update transaction")}},le=async re=>{if(!t()){A("You do not have permission to delete transactions");return}try{await nf(Kt(He,"ledgers",e.id,"transactions",re)),B("Transaction deleted successfully"),await K()}catch(Ce){console.error("Error deleting transaction:",Ce),A("Failed to delete transaction")}},be=async()=>{if(!(!t()||V.length===0)&&window.confirm(`Are you sure you want to delete ${V.length} selected transactions?`))try{A("");const re=500,Ce=[];for(let Re=0;Re<V.length;Re+=re){const Pe=Vv(He);V.slice(Re,Re+re).forEach(Me=>{const pe=Kt(He,"ledgers",e.id,"transactions",Me);Pe.delete(pe)}),Ce.push(Pe)}for(const Re of Ce)await Re.commit();B(`Deleted ${V.length} transactions`),$([]),await K()}catch(re){console.error("Error batch deleting transactions:",re),A("Failed to delete transactions")}},Be=async()=>{if(!(!t()||V.length===0))try{A("");const re={};se.categoryId&&(re.categoryId=se.categoryId),se.includeInBudget!==null&&(re.includeInBudget=se.includeInBudget);const Ce=500,Re=[];for(let Pe=0;Pe<V.length;Pe+=Ce){const he=Vv(He);V.slice(Pe,Pe+Ce).forEach(pe=>{const Ae=Kt(He,"ledgers",e.id,"transactions",pe);he.update(Ae,re)}),Re.push(he)}for(const Pe of Re)await Pe.commit();B(`Updated ${V.length} transactions`),$([]),Q(!1),q({categoryId:"",includeInBudget:null}),await K()}catch(re){console.error("Error batch updating transactions:",re),A("Failed to update transactions")}},De=re=>{C(re),N(!0),U(re.id),_(!0),L({...re,date:re.date instanceof Date?re.date.toISOString().split("T")[0]:re.date,splitWith:re.splitWith||[],splitAmounts:re.splitAmounts||{}});const Re=d.filter(Pe=>Pe.uid!==(n==null?void 0:n.uid)).map(Pe=>Pe.uid);re.splitWith.length===0?G("none"):re.splitWith.length===Re.length&&Re.every(Pe=>re.splitWith.includes(Pe))?G("everyone"):G("individuals")},ve=re=>{$(Ce=>Ce.includes(re)?Ce.filter(Re=>Re!==re):[...Ce,re])},je=()=>{V.length===s.length?$([]):$(s.map(re=>re.id))},ht=re=>{L(Ce=>{const Re=Ce.splitWith||[],Pe=Re.includes(re)?Re.filter(he=>he!==re):[...Re,re];return setTimeout(()=>{Xe(Pe)},0),{...Ce,splitWith:Pe,splitType:Pe.length>0?"equal":"none"}})},We=re=>{if(G(re),re==="none")L(Ce=>({...Ce,splitType:"none",splitWith:[]}));else if(re==="everyone"){const Ce=d.filter(Re=>Re.uid!==(n==null?void 0:n.uid)).map(Re=>Re.uid);L(Re=>({...Re,splitType:"equal",splitWith:Ce}))}else re==="individuals"&&L(Ce=>({...Ce,splitType:Ce.splitWith&&Ce.splitWith.length>0?"equal":"none"}))},Xe=re=>{const Re=d.filter(Pe=>Pe.uid!==(n==null?void 0:n.uid)).map(Pe=>Pe.uid);re.length===0?G("none"):re.length===Re.length&&Re.every(Pe=>re.includes(Pe))?G("everyone"):G("individuals")},Je=d.length>1;return w.useEffect(()=>{e&&Promise.all([K(),ye(),z()]).finally(()=>v(!1))},[e]),w.useEffect(()=>{n&&L(re=>({...re,paidBy:n.uid}))},[n]),p?h.jsx("div",{className:"p-6",children:"Loading transactions..."}):e?h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Transactions"}),h.jsx("div",{className:"flex space-x-2",children:t()&&h.jsxs(Ve,{onClick:()=>_(!0),className:"flex items-center space-x-2",children:[h.jsx(ic,{className:"h-4 w-4"}),h.jsx("span",{children:"Add Transaction"})]})})]}),I&&h.jsx(Wt,{variant:"destructive",children:h.jsx(Xt,{children:I})}),M&&h.jsx(Wt,{children:h.jsx(Xt,{children:M})}),(b||S)&&h.jsxs(wt,{children:[h.jsx(Nt,{children:h.jsx(It,{children:S?"Edit Transaction":"Add New Transaction"})}),h.jsx(Et,{children:h.jsxs("form",{onSubmit:me,className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx(nt,{htmlFor:"amount",children:"Amount"}),h.jsx(rn,{id:"amount",type:"number",step:"0.01",value:D.amount,onChange:re=>L({...D,amount:re.target.value}),required:!0})]}),h.jsxs("div",{children:[h.jsx(nt,{htmlFor:"type",children:"Type"}),h.jsxs(Is,{value:D.type,onValueChange:re=>L({...D,type:re}),children:[h.jsx(Ds,{children:h.jsx(ks,{})}),h.jsxs(Os,{children:[h.jsx(Nn,{value:"expense",children:"Expense"}),h.jsx(Nn,{value:"income",children:"Income"})]})]})]}),h.jsxs("div",{children:[h.jsx(nt,{htmlFor:"description",children:"Description"}),h.jsx(rn,{id:"description",type:"text",value:D.description,onChange:re=>L({...D,description:re.target.value}),required:!0})]}),h.jsxs("div",{children:[h.jsx(nt,{htmlFor:"category",children:"Category"}),h.jsxs(Is,{value:D.categoryId,onValueChange:re=>L({...D,categoryId:re}),children:[h.jsx(Ds,{children:h.jsx(ks,{placeholder:"Select a category"})}),h.jsx(Os,{children:o.filter(re=>re.type===D.type).map(re=>h.jsx(Nn,{value:re.id,children:re.name},re.id))})]})]}),h.jsxs("div",{children:[h.jsx(nt,{htmlFor:"date",children:"Date"}),h.jsx(rn,{id:"date",type:"date",value:D.date,onChange:re=>L({...D,date:re.target.value}),required:!0})]}),h.jsxs("div",{children:[h.jsx(nt,{htmlFor:"paymentMethod",children:"Payment Method"}),h.jsx(rn,{id:"paymentMethod",type:"text",value:D.paymentMethod,onChange:re=>L({...D,paymentMethod:re.target.value})})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx(nt,{htmlFor:"notes",children:"Notes"}),h.jsx($2,{id:"notes",value:D.notes,onChange:re=>L({...D,notes:re.target.value})})]}),h.jsxs("div",{className:"md:col-span-2 flex items-center space-x-2",children:[h.jsx(qh,{id:"includeInBudget",checked:D.includeInBudget,onCheckedChange:re=>L({...D,includeInBudget:re})}),h.jsx(nt,{htmlFor:"includeInBudget",children:"Include in Budget"})]})]}),Je&&D.type==="expense"&&h.jsxs("div",{className:"space-y-4 border p-4 rounded-md",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Split Expense"}),h.jsxs("div",{children:[h.jsx(nt,{htmlFor:"paidBy",children:"Paid By"}),h.jsxs(Is,{value:D.paidBy,onValueChange:re=>L({...D,paidBy:re}),children:[h.jsx(Ds,{children:h.jsx(ks,{placeholder:"Select payer"})}),h.jsx(Os,{children:d.map(re=>h.jsx(Nn,{value:re.uid,children:h.jsx(Ro,{user:re})},re.uid))})]})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Ve,{type:"button",variant:P==="none"?"default":"outline",onClick:()=>We("none"),children:"Don't Split"}),h.jsx(Ve,{type:"button",variant:P==="everyone"?"default":"outline",onClick:()=>We("everyone"),children:"Split Equally (Everyone Else)"}),h.jsx(Ve,{type:"button",variant:P==="individuals"?"default":"outline",onClick:()=>We("individuals"),children:"Split with Individuals"})]}),P==="individuals"&&h.jsxs("div",{className:"space-y-2",children:[h.jsx(nt,{children:"Select Members to Split With:"}),d.filter(re=>re.uid!==D.paidBy).map(re=>h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(qh,{id:`split-with-${re.uid}`,checked:(D.splitWith||[]).includes(re.uid),onCheckedChange:()=>ht(re.uid)}),h.jsx(nt,{htmlFor:`split-with-${re.uid}`,children:h.jsx(Ro,{user:re})})]},re.uid))]}),D.splitType==="equal"&&(D.splitWith||[]).length>0&&h.jsxs("div",{className:"border-t pt-4 mt-4",children:[h.jsx("h4",{className:"font-semibold",children:"Split Details:"}),h.jsxs("p",{children:["Total Amount: ",rm(D.amount||0,e==null?void 0:e.currency)]}),h.jsxs("p",{children:["Paid By: ",h.jsx(Ro,{user:d.find(re=>re.uid===D.paidBy)})]}),h.jsxs("p",{children:["Splitting with ",(D.splitWith||[]).length," other(s):"]}),h.jsxs("ul",{children:[(D.splitWith||[]).map(re=>{const Ce=d.find(Pe=>Pe.uid===re),Re=rm(D.amount/((D.splitWith||[]).length+1),e==null?void 0:e.currency);return h.jsxs("li",{children:["- ",h.jsx(Ro,{user:Ce}),": ",Re]},re)}),h.jsxs("li",{children:["- ",h.jsx(Ro,{user:d.find(re=>re.uid===D.paidBy)})," (Payer): ",rm(D.amount-(D.splitWith||[]).length*(D.amount/((D.splitWith||[]).length+1)),e==null?void 0:e.currency)]})]})]})]}),h.jsxs("div",{className:"flex justify-end space-x-2",children:[h.jsx(Ve,{type:"button",variant:"outline",onClick:()=>{_(!1),ee()},children:"Cancel"}),h.jsx(Ve,{type:"submit",children:S?"Update Transaction":"Add Transaction"})]})]})})]}),H&&h.jsxs(wt,{children:[h.jsxs(Nt,{children:[h.jsx(It,{children:"Batch Edit Transactions"}),h.jsxs(cn,{children:["Edit ",V.length," selected transactions"]})]}),h.jsx(Et,{children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(nt,{htmlFor:"batchCategory",children:"Category"}),h.jsxs(Is,{value:se.categoryId,onValueChange:re=>q({...se,categoryId:re}),children:[h.jsx(Ds,{children:h.jsx(ks,{placeholder:"Select a category"})}),h.jsx(Os,{children:o.map(re=>h.jsx(Nn,{value:re.id,children:re.name},re.id))})]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(qh,{id:"batchIncludeInBudget",checked:se.includeInBudget===!0,onCheckedChange:re=>q({...se,includeInBudget:re})}),h.jsx(nt,{htmlFor:"batchIncludeInBudget",children:"Include in Budget"})]}),h.jsxs("div",{className:"flex justify-end space-x-2",children:[h.jsx(Ve,{type:"button",variant:"outline",onClick:()=>{Q(!1),q({categoryId:"",includeInBudget:null})},children:"Cancel"}),h.jsxs(Ve,{onClick:Be,children:["Update ",V.length," Transactions"]})]})]})})]}),h.jsxs(wt,{children:[h.jsxs(Nt,{children:[h.jsx(It,{children:"All Transactions"}),h.jsx(cn,{children:"Manage your ledger's financial records."})]}),h.jsx(Et,{children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx(Ve,{variant:"outline",onClick:je,children:V.length===s.length?"Deselect All":"Select All"}),V.length>0&&h.jsxs("div",{className:"flex space-x-2",children:[h.jsxs(Ve,{variant:"outline",onClick:()=>Q(!0),className:"flex items-center space-x-2",children:[h.jsx(ac,{className:"h-4 w-4"}),h.jsxs("span",{children:["Batch Edit (",V.length,")"]})]}),h.jsxs(Ve,{variant:"destructive",onClick:be,children:["Delete Selected (",V.length,")"]})]})]}),s.length===0?h.jsx("p",{children:"No transactions found. Add one above!"}):h.jsx("div",{className:"space-y-4",children:(()=>{const re={};return s.forEach(Re=>{const Pe=new Date(Re.date),he=`${Pe.getFullYear()}-${String(Pe.getMonth()+1).padStart(2,"0")}`;re[he]||(re[he]=[]),re[he].push(Re)}),Object.keys(re).sort((Re,Pe)=>Pe.localeCompare(Re)).map(Re=>{const Pe=re[Re],[he,Me]=Re.split("-"),pe=new Date(he,Me-1).toLocaleDateString("en-US",{year:"numeric",month:"long"});return h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center my-6",children:[h.jsx("div",{className:"flex-grow border-t border-gray-300"}),h.jsx("div",{className:"mx-4 px-3 py-1 bg-gray-100 text-gray-600 text-sm font-medium rounded-full",children:pe}),h.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),h.jsx("div",{className:"space-y-3",children:Pe.map(Ae=>{const Ee=o.find(Pt=>Pt.id===Ae.categoryId),St=d.find(Pt=>Pt.uid===Ae.paidBy),rt=d.filter(Pt=>(Ae.splitWith||[]).includes(Pt.uid));return h.jsxs("div",{className:"border p-4 rounded-md shadow-sm flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[h.jsx(qh,{checked:V.includes(Ae.id),onCheckedChange:()=>ve(Ae.id)}),h.jsx("div",{className:"flex-1",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("p",{className:`font-semibold ${Ae.type==="income"?"text-green-600":"text-red-600"}`,children:Ae.description}),h.jsxs("p",{className:"text-sm text-gray-500",children:[Ee==null?void 0:Ee.name," | ",new Date(Ae.date).toLocaleDateString()]}),Ae.type==="expense"&&Ae.splitType!=="none"&&h.jsxs("p",{className:"text-sm text-gray-500",children:["Paid by: ",h.jsx(Ro,{user:St}),(Ae.splitWith||[]).length>0&&h.jsxs("span",{children:[", Split with: ",rt.map(Pt=>Pt.displayName||Pt.email).join(", ")]})]}),Ae.type==="income"&&h.jsxs("p",{className:"text-sm text-gray-500",children:["Paid to: ",h.jsx(Ro,{user:St})]})]}),h.jsx("div",{className:"text-right",children:h.jsx("p",{className:`font-semibold text-lg ${Ae.type==="income"?"text-green-600":"text-red-600"}`,children:z8(Ae.amount,e==null?void 0:e.currency,Ae.type==="income")})})]})})]}),h.jsxs("div",{className:"flex space-x-2 ml-4",children:[h.jsx(Ve,{variant:"outline",size:"sm",onClick:()=>De(Ae),children:h.jsx(ac,{className:"h-4 w-4"})}),h.jsx(Ve,{variant:"destructive",size:"sm",onClick:()=>le(Ae.id),children:h.jsx(oc,{className:"h-4 w-4"})})]})]},Ae.id)})})]},Re)})})()})]})})]})]}):h.jsx("div",{className:"p-6",children:"Please select a ledger to view transactions."})}var T_="Progress",S_=100,[nU,X5]=Pc(T_),[rU,sU]=nU(T_),tR=w.forwardRef((n,e)=>{const{__scopeProgress:t,value:s=null,max:a,getValueLabel:o=iU,...u}=n;(a||a===0)&&!oS(a)&&console.error(aU(`${a}`,"Progress"));const d=oS(a)?a:S_;s!==null&&!lS(s,d)&&console.error(oU(`${s}`,"Progress"));const m=lS(s,d)?s:null,p=Lm(m)?o(m,d):void 0;return h.jsx(rU,{scope:t,value:m,max:d,children:h.jsx(Mt.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":Lm(m)?m:void 0,"aria-valuetext":p,role:"progressbar","data-state":sR(m,d),"data-value":m??void 0,"data-max":d,...u,ref:e})})});tR.displayName=T_;var nR="ProgressIndicator",rR=w.forwardRef((n,e)=>{const{__scopeProgress:t,...s}=n,a=sU(nR,t);return h.jsx(Mt.div,{"data-state":sR(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:e})});rR.displayName=nR;function iU(n,e){return`${Math.round(n/e*100)}%`}function sR(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function Lm(n){return typeof n=="number"}function oS(n){return Lm(n)&&!isNaN(n)&&n>0}function lS(n,e){return Lm(n)&&!isNaN(n)&&n<=e&&n>=0}function aU(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${S_}\`.`}function oU(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${S_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var lU=tR,cU=rR;function Zv({className:n,value:e,...t}){return h.jsx(lU,{"data-slot":"progress",className:un("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",n),...t,children:h.jsx(cU,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}function uU(){const{currentUser:n}=rr(),{currentLedger:e,canEdit:t}=Ys(),[s,a]=w.useState([]),[o,u]=w.useState([]),[d,m]=w.useState([]),[p,v]=w.useState(!0),[b,_]=w.useState(!1),[S,C]=w.useState(null),[R,N]=w.useState(""),[j,U]=w.useState(""),[V,$]=w.useState({name:"",startDate:new Date().toISOString().split("T")[0],endDate:"",totalAmount:"",timeSpan:"monthly",categories:{}}),H=(G,se)=>{const q=new Date(G);let ee=new Date(q);switch(se){case"weekly":ee.setDate(q.getDate()+6);break;case"monthly":ee.setMonth(q.getMonth()+1),ee.setDate(q.getDate()-1);break;case"quarterly":ee.setMonth(q.getMonth()+3),ee.setDate(q.getDate()-1);break;case"yearly":ee.setFullYear(q.getFullYear()+1),ee.setDate(q.getDate()-1);break;default:ee.setMonth(q.getMonth()+1),ee.setDate(q.getDate()-1)}return ee.toISOString().split("T")[0]},Q=async()=>{if(e)try{const G=Yt(He,"ledgers",e.id,"budgets"),se=vr(G,Mi("startDate","desc")),q=await $n(se),ee=[];q.forEach(K=>{var z,ae;const ye=K.data();ee.push({id:K.id,...ye,startDate:((z=ye.startDate)==null?void 0:z.toDate())||new Date,endDate:((ae=ye.endDate)==null?void 0:ae.toDate())||new Date})}),a(ee)}catch(G){console.error("Error fetching budgets:",G),N("Failed to fetch budgets")}},I=async()=>{if(e)try{const G=Yt(He,"ledgers",e.id,"categories"),se=await $n(G),q=[];se.forEach(ee=>{q.push({id:ee.id,...ee.data()})}),u(q)}catch(G){console.error("Error fetching categories:",G)}},A=async()=>{if(e)try{const G=Yt(He,"ledgers",e.id,"transactions"),se=vr(G,Vs("includeInBudget","==",!0)),q=await $n(se),ee=[];q.forEach(K=>{var z;const ye=K.data();ee.push({id:K.id,...ye,date:((z=ye.date)==null?void 0:z.toDate())||new Date})}),m(ee)}catch(G){console.error("Error fetching transactions:",G)}},M=G=>{const se=d.filter(K=>{const ye=K.date;return ye>=G.startDate&&ye<=G.endDate&&K.type==="expense"}),q=se.reduce((K,ye)=>K+ye.amount,0),ee={};return se.forEach(K=>{K.categoryId&&(ee[K.categoryId]=(ee[K.categoryId]||0)+K.amount)}),{totalSpent:q,categorySpending:ee,transactionCount:se.length}},B=async G=>{if(G.preventDefault(),!t()){N("You do not have permission to manage budgets");return}try{N("");const se={...V,totalAmount:parseFloat(V.totalAmount),startDate:Ht.fromDate(new Date(V.startDate)),endDate:Ht.fromDate(new Date(V.endDate)),createdAt:Ht.now(),userId:n.uid};S?(await rs(Kt(He,"ledgers",e.id,"budgets",S.id),se),U("Budget updated successfully")):(await Ri(Yt(He,"ledgers",e.id,"budgets"),se),U("Budget created successfully")),$({name:"",startDate:new Date().toISOString().split("T")[0],endDate:"",totalAmount:"",timeSpan:"monthly",categories:{}}),_(!1),C(null),await Q()}catch(se){console.error("Error saving budget:",se),N("Failed to save budget")}},D=async G=>{if(!t()){N("You do not have permission to delete budgets");return}try{await nf(Kt(He,"ledgers",e.id,"budgets",G)),U("Budget deleted successfully"),await Q()}catch(se){console.error("Error deleting budget:",se),N("Failed to delete budget")}},L=(G,se)=>{$(q=>({...q,categories:{...q.categories,[G]:parseFloat(se)||0}}))},P=()=>{const G=Object.values(V.categories).reduce((se,q)=>se+(q||0),0);return(parseFloat(V.totalAmount)||0)-G};return w.useEffect(()=>{e&&Promise.all([Q(),I(),A()]).finally(()=>v(!1))},[e]),w.useEffect(()=>{if(V.startDate&&V.timeSpan){const G=H(V.startDate,V.timeSpan);$(se=>({...se,endDate:G}))}},[V.startDate,V.timeSpan]),p?h.jsx("div",{className:"p-6",children:"Loading budgets..."}):e?h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Budget Management"}),t()&&h.jsxs(Ve,{onClick:()=>_(!0),className:"flex items-center space-x-2",children:[h.jsx(ic,{className:"h-4 w-4"}),h.jsx("span",{children:"Create Budget"})]})]}),R&&h.jsx(Wt,{variant:"destructive",children:h.jsx(Xt,{children:R})}),j&&h.jsx(Wt,{children:h.jsx(Xt,{children:j})}),(b||S)&&h.jsxs(wt,{children:[h.jsx(Nt,{children:h.jsx(It,{children:S?"Edit Budget":"Create New Budget"})}),h.jsx(Et,{children:h.jsxs("form",{onSubmit:B,className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx(nt,{htmlFor:"name",children:"Budget Name"}),h.jsx(rn,{id:"name",value:V.name,onChange:G=>$({...V,name:G.target.value}),placeholder:"e.g., Monthly Budget - June 2025",required:!0})]}),h.jsxs("div",{children:[h.jsx(nt,{htmlFor:"timeSpan",children:"Time Span"}),h.jsxs(Is,{value:V.timeSpan,onValueChange:G=>$({...V,timeSpan:G}),children:[h.jsx(Ds,{children:h.jsx(ks,{})}),h.jsxs(Os,{children:[h.jsx(Nn,{value:"weekly",children:"Weekly"}),h.jsx(Nn,{value:"monthly",children:"Monthly"}),h.jsx(Nn,{value:"quarterly",children:"Quarterly"}),h.jsx(Nn,{value:"yearly",children:"Yearly"}),h.jsx(Nn,{value:"custom",children:"Custom"})]})]})]}),h.jsxs("div",{children:[h.jsx(nt,{htmlFor:"startDate",children:"Start Date"}),h.jsx(rn,{id:"startDate",type:"date",value:V.startDate,onChange:G=>$({...V,startDate:G.target.value}),required:!0})]}),h.jsxs("div",{children:[h.jsx(nt,{htmlFor:"endDate",children:"End Date"}),h.jsx(rn,{id:"endDate",type:"date",value:V.endDate,onChange:G=>$({...V,endDate:G.target.value}),disabled:V.timeSpan!=="custom",required:!0})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx(nt,{htmlFor:"totalAmount",children:"Total Budget Amount"}),h.jsx(rn,{id:"totalAmount",type:"number",step:"0.01",value:V.totalAmount,onChange:G=>$({...V,totalAmount:G.target.value}),required:!0})]})]}),h.jsxs("div",{children:[h.jsx(nt,{children:"Category Budget Allocation"}),h.jsxs("div",{className:"mt-2 space-y-2",children:[o.filter(G=>G.type==="expense").map(G=>h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(nt,{className:"w-32 text-sm",children:G.name}),h.jsx(rn,{type:"number",step:"0.01",value:V.categories[G.id]||"",onChange:se=>L(G.id,se.target.value),placeholder:"0.00",className:"w-32"})]},G.id)),h.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[h.jsx(nt,{className:"w-32 text-sm font-medium",children:"Remaining:"}),h.jsxs("span",{className:`text-sm font-medium ${P()<0?"text-red-600":"text-green-600"}`,children:["$",P().toFixed(2)]})]})]})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Ve,{type:"submit",children:S?"Update Budget":"Create Budget"}),h.jsx(Ve,{type:"button",variant:"outline",onClick:()=>{_(!1),C(null),$({name:"",startDate:new Date().toISOString().split("T")[0],endDate:"",totalAmount:"",timeSpan:"monthly",categories:{}})},children:"Cancel"})]})]})})]}),h.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.length===0?h.jsx(wt,{className:"lg:col-span-2",children:h.jsxs(Et,{className:"text-center py-8",children:[h.jsx(rO,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No budgets created yet"}),h.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first budget to start tracking your spending goals."}),t()&&h.jsx(Ve,{onClick:()=>_(!0),children:"Create Your First Budget"})]})}):s.map(G=>{const se=M(G),q=se.totalSpent/G.totalAmount*100,ee=se.totalSpent>G.totalAmount,K=Math.ceil((G.endDate-new Date)/(1e3*60*60*24));return h.jsxs(wt,{children:[h.jsx(Nt,{children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx(It,{className:"text-lg",children:G.name}),h.jsxs(cn,{children:[G.startDate.toLocaleDateString()," - ",G.endDate.toLocaleDateString()]})]}),t()&&h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Ve,{variant:"ghost",size:"sm",onClick:()=>{C(G),$({name:G.name,startDate:G.startDate.toISOString().split("T")[0],endDate:G.endDate.toISOString().split("T")[0],totalAmount:G.totalAmount.toString(),timeSpan:G.timeSpan||"custom",categories:G.categories||{}})},children:h.jsx(ac,{className:"h-4 w-4"})}),h.jsx(Ve,{variant:"ghost",size:"sm",onClick:()=>D(G.id),children:h.jsx(oc,{className:"h-4 w-4"})})]})]})}),h.jsxs(Et,{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm font-medium",children:"Budget Progress"}),h.jsxs(Ir,{variant:ee?"destructive":q>80?"secondary":"default",children:[q.toFixed(1),"%"]})]}),h.jsx(Zv,{value:Math.min(q,100),className:"h-2"}),h.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[h.jsxs("span",{children:["$",se.totalSpent.toFixed(2)," spent"]}),h.jsxs("span",{children:["$",G.totalAmount.toFixed(2)," budget"]})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[h.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",(G.totalAmount-se.totalSpent).toFixed(2)]}),h.jsx("div",{className:"text-sm text-gray-600",children:"Remaining"})]}),h.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[h.jsx("div",{className:"text-lg font-semibold text-gray-900",children:K>0?K:0}),h.jsx("div",{className:"text-sm text-gray-600",children:"Days Left"})]})]}),G.categories&&Object.keys(G.categories).length>0&&h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-medium mb-2",children:"Category Breakdown"}),h.jsx("div",{className:"space-y-2",children:Object.entries(G.categories).map(([ye,z])=>{const ae=o.find(be=>be.id===ye),me=se.categorySpending[ye]||0,le=me/z*100;return ae?h.jsxs("div",{className:"space-y-1",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{children:ae.name}),h.jsxs("span",{children:["$",me.toFixed(2)," / $",z.toFixed(2)]})]}),h.jsx(Zv,{value:Math.min(le,100),className:"h-1"})]},ye):null})})]}),h.jsxs("div",{className:"text-sm text-gray-600",children:[se.transactionCount," transactions in this period"]})]})]},G.id)})})]}):h.jsx("div",{className:"p-6",children:"Please select a ledger to view budgets."})}/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */var dU=function(){var n={base:"https://twemoji.maxcdn.com/v/14.0.2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:U,toCodePoint:Q},onerror:function(){this.parentNode&&this.parentNode.replaceChild(m(this.alt,!1),this)},parse:V,replace:$,test:H},e={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},t=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[©®\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd\udec3-\udec5\udef0-\udef6]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedd-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec2\uded0-\uded9\udee0-\udee7]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,s=/\uFE0F/g,a="‍",o=/[&<>'"]/g,u=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,d=String.fromCharCode;return n;function m(I,A){return document.createTextNode(A?I.replace(s,""):I)}function p(I){return I.replace(o,R)}function v(I,A){return"".concat(A.base,A.size,"/",I,A.ext)}function b(I,A){for(var M=I.childNodes,B=M.length,D,L;B--;)D=M[B],L=D.nodeType,L===3?A.push(D):L===1&&!("ownerSVGElement"in D)&&!u.test(D.nodeName.toLowerCase())&&b(D,A);return A}function _(I){return Q(I.indexOf(a)<0?I.replace(s,""):I)}function S(I,A){for(var M=b(I,[]),B=M.length,D,L,P,G,se,q,ee,K,ye,z,ae,me,le;B--;){for(P=!1,G=document.createDocumentFragment(),se=M[B],q=se.nodeValue,K=0;ee=t.exec(q);){if(ye=ee.index,ye!==K&&G.appendChild(m(q.slice(K,ye),!0)),ae=ee[0],me=_(ae),K=ye+ae.length,le=A.callback(me,A),me&&le){z=new Image,z.onerror=A.onerror,z.setAttribute("draggable","false"),D=A.attributes(ae,me);for(L in D)D.hasOwnProperty(L)&&L.indexOf("on")!==0&&!z.hasAttribute(L)&&z.setAttribute(L,D[L]);z.className=A.className,z.alt=ae,z.src=le,P=!0,G.appendChild(z)}z||G.appendChild(m(ae,!1)),z=null}P&&(K<q.length&&G.appendChild(m(q.slice(K),!0)),se.parentNode.replaceChild(G,se))}return I}function C(I,A){return $(I,function(M){var B=M,D=_(M),L=A.callback(D,A),P,G;if(D&&L){B="<img ".concat('class="',A.className,'" ','draggable="false" ','alt="',M,'"',' src="',L,'"'),P=A.attributes(M,D);for(G in P)P.hasOwnProperty(G)&&G.indexOf("on")!==0&&B.indexOf(" "+G+"=")===-1&&(B=B.concat(" ",G,'="',p(P[G]),'"'));B=B.concat("/>")}return B})}function R(I){return e[I]}function N(){return null}function j(I){return typeof I=="number"?I+"x"+I:I}function U(I){var A=typeof I=="string"?parseInt(I,16):I;return A<65536?d(A):(A-=65536,d(55296+(A>>10),56320+(A&1023)))}function V(I,A){return(!A||typeof A=="function")&&(A={callback:A}),(typeof I=="string"?C:S)(I,{callback:A.callback||v,attributes:typeof A.attributes=="function"?A.attributes:N,base:typeof A.base=="string"?A.base:n.base,ext:A.ext||n.ext,size:A.folder||j(A.size||n.size),className:A.className||n.className,onerror:A.onerror||n.onerror})}function $(I,A){return String(I).replace(t,A)}function H(I){t.lastIndex=0;var A=t.test(I);return t.lastIndex=0,A}function Q(I,A){for(var M=[],B=0,D=0,L=0;L<I.length;)B=I.charCodeAt(L++),D?(M.push((65536+(D-55296<<10)+(B-56320)).toString(16)),D=0):55296<=B&&B<=56319?D=B:M.push(B.toString(16));return M.join(A||"-")}}();const fU=[{name:"Food & Dining",emoji:"🍽️",type:"expense"},{name:"Transportation",emoji:"🚗",type:"expense"},{name:"Shopping",emoji:"🛍️",type:"expense"},{name:"Entertainment",emoji:"🎬",type:"expense"},{name:"Bills & Utilities",emoji:"💡",type:"expense"},{name:"Healthcare",emoji:"🏥",type:"expense"},{name:"Education",emoji:"📚",type:"expense"},{name:"Travel",emoji:"✈️",type:"expense"},{name:"Fitness",emoji:"💪",type:"expense"},{name:"Personal Care",emoji:"💄",type:"expense"}],hU=[{name:"Salary",emoji:"💰",type:"income"},{name:"Freelance",emoji:"💻",type:"income"},{name:"Investment",emoji:"📈",type:"income"},{name:"Business",emoji:"🏢",type:"income"},{name:"Rental",emoji:"🏠",type:"income"},{name:"Gift",emoji:"🎁",type:"income"}],mU=["🍽️","🚗","🛍️","🎬","💡","🏥","📚","✈️","💪","💄","💰","💻","📈","🏢","🏠","🎁","☕","🍕","🎵","🎮","📱","👕","⛽","🚌","🚇","🏪","🍺","🎪","🎨","📖","💊","🏋️","🧘","🎯","🎲","🎸","📺","🎤","🎭","🎪"];function pU(){const{currentUser:n}=rr(),{currentLedger:e,canEdit:t}=Ys(),[s,a]=w.useState([]),[o,u]=w.useState(!0),[d,m]=w.useState(!1),[p,v]=w.useState(null),[b,_]=w.useState(""),[S,C]=w.useState(""),[R,N]=w.useState({name:"",emoji:"📝",type:"expense"}),j=D=>D?h.jsx("span",{dangerouslySetInnerHTML:{__html:dU.parse(D,{folder:"svg",ext:".svg",base:"https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/"})},style:{width:"20px",height:"20px",display:"inline-block"}}):null,U=async()=>{if(e)try{const D=Yt(He,"ledgers",e.id,"categories"),L=vr(D,Mi("type"),Mi("name")),P=await $n(L),G=[];P.forEach(se=>{G.push({id:se.id,...se.data()})}),a(G),u(!1)}catch(D){console.error("Error fetching categories:",D),_("Failed to fetch categories"),u(!1)}},V=async()=>{if(!(!e||!t()))try{const D=Yt(He,"ledgers",e.id,"categories");for(const L of fU)await Ri(D,{...L,createdAt:new Date,createdBy:n.uid});for(const L of hU)await Ri(D,{...L,createdAt:new Date,createdBy:n.uid});await U(),C("Default categories created successfully!")}catch(D){console.error("Error creating default categories:",D),_("Failed to create default categories")}},$=async D=>{if(D.preventDefault(),!(!e||!t()))try{const L=Yt(He,"ledgers",e.id,"categories");await Ri(L,{...R,createdAt:new Date,createdBy:n.uid}),N({name:"",emoji:"📝",type:"expense"}),m(!1),await U(),C("Category added successfully!")}catch(L){console.error("Error adding category:",L),_("Failed to add category")}},H=async D=>{if(D.preventDefault(),!(!p||!t()))try{const L=Kt(He,"ledgers",e.id,"categories",p.id);await rs(L,{name:R.name,emoji:R.emoji,type:R.type,updatedAt:new Date,updatedBy:n.uid}),v(null),N({name:"",emoji:"📝",type:"expense"}),await U(),C("Category updated successfully!")}catch(L){console.error("Error updating category:",L),_("Failed to update category")}},Q=async D=>{if(!(!t()||!confirm("Are you sure you want to delete this category?")))try{const L=Kt(He,"ledgers",e.id,"categories",D);await nf(L),await U(),C("Category deleted successfully!")}catch(L){console.error("Error deleting category:",L),_("Failed to delete category")}},I=D=>{v(D),N({name:D.name,emoji:D.emoji,type:D.type}),m(!1)},A=()=>{v(null),N({name:"",emoji:"📝",type:"expense"})};if(w.useEffect(()=>{U()},[e]),w.useEffect(()=>{if(S||b){const D=setTimeout(()=>{C(""),_("")},3e3);return()=>clearTimeout(D)}},[S,b]),o)return h.jsx("div",{className:"p-6",children:h.jsxs("div",{className:"animate-pulse space-y-6",children:[h.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2,3,4].map(D=>h.jsx("div",{className:"h-32 bg-gray-200 rounded"},D))})]})});const M=s.filter(D=>D.type==="expense"),B=s.filter(D=>D.type==="income");return h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Category Management"}),t()&&h.jsxs(Ve,{onClick:()=>m(!0),className:"flex items-center space-x-2",children:[h.jsx(ic,{className:"h-4 w-4"}),h.jsx("span",{children:"Add Category"})]})]}),b&&h.jsx(Wt,{variant:"destructive",children:h.jsx(Xt,{children:b})}),S&&h.jsx(Wt,{children:h.jsx(Xt,{children:S})}),(d||p)&&h.jsxs(wt,{children:[h.jsxs(Nt,{children:[h.jsx(It,{children:p?"Edit Category":"Add New Category"}),h.jsx(cn,{children:p?"Update category details":"Create a new category with emoji"})]}),h.jsx(Et,{children:h.jsxs("form",{onSubmit:p?H:$,className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx(nt,{htmlFor:"name",children:"Category Name"}),h.jsx(rn,{id:"name",value:R.name,onChange:D=>N({...R,name:D.target.value}),placeholder:"Enter category name",required:!0})]}),h.jsxs("div",{children:[h.jsx(nt,{htmlFor:"type",children:"Type"}),h.jsxs(Is,{value:R.type,onValueChange:D=>N({...R,type:D}),children:[h.jsx(Ds,{children:h.jsx(ks,{})}),h.jsxs(Os,{children:[h.jsx(Nn,{value:"expense",children:"Expense"}),h.jsx(Nn,{value:"income",children:"Income"})]})]})]}),h.jsxs("div",{children:[h.jsx(nt,{htmlFor:"emoji",children:"Emoji"}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(rn,{id:"emoji",value:R.emoji,onChange:D=>N({...R,emoji:D.target.value}),placeholder:"📝",className:"w-20"}),h.jsx("div",{className:"flex items-center space-x-1",children:j(R.emoji)})]})]})]}),h.jsxs("div",{children:[h.jsx(nt,{children:"Popular Emojis"}),h.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:mU.map((D,L)=>h.jsx("button",{type:"button",onClick:()=>N({...R,emoji:D}),className:"p-2 border rounded hover:bg-gray-100 transition-colors",children:j(D)},L))})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsxs(Ve,{type:"submit",className:"flex items-center space-x-2",children:[h.jsx(d0,{className:"h-4 w-4"}),h.jsxs("span",{children:[p?"Update":"Add"," Category"]})]}),h.jsxs(Ve,{type:"button",variant:"outline",onClick:()=>{m(!1),A()},className:"flex items-center space-x-2",children:[h.jsx(lc,{className:"h-4 w-4"}),h.jsx("span",{children:"Cancel"})]})]})]})})]}),s.length===0?h.jsx(wt,{children:h.jsxs(Et,{className:"text-center py-8",children:[h.jsx(JS,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Categories Found"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"Create categories to organize your transactions"}),t()&&h.jsxs(Ve,{onClick:V,className:"flex items-center space-x-2 mx-auto",children:[h.jsx(ic,{className:"h-4 w-4"}),h.jsx("span",{children:"Create Default Categories"})]})]})}):h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs(wt,{children:[h.jsx(Nt,{children:h.jsxs(It,{className:"flex items-center space-x-2",children:[h.jsx("span",{children:"💸"}),h.jsx("span",{children:"Expense Categories"}),h.jsx(Ir,{variant:"secondary",children:M.length})]})}),h.jsx(Et,{children:h.jsx("div",{className:"space-y-2",children:M.map(D=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[j(D.emoji),h.jsx("span",{className:"font-medium",children:D.name})]}),t()&&h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Ve,{size:"sm",variant:"ghost",onClick:()=>I(D),className:"h-8 w-8 p-0",children:h.jsx(ac,{className:"h-4 w-4"})}),h.jsx(Ve,{size:"sm",variant:"ghost",onClick:()=>Q(D.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:h.jsx(oc,{className:"h-4 w-4"})})]})]},D.id))})})]}),h.jsxs(wt,{children:[h.jsx(Nt,{children:h.jsxs(It,{className:"flex items-center space-x-2",children:[h.jsx("span",{children:"💰"}),h.jsx("span",{children:"Income Categories"}),h.jsx(Ir,{variant:"secondary",children:B.length})]})}),h.jsx(Et,{children:h.jsx("div",{className:"space-y-2",children:B.map(D=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[j(D.emoji),h.jsx("span",{className:"font-medium",children:D.name})]}),t()&&h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Ve,{size:"sm",variant:"ghost",onClick:()=>I(D),className:"h-8 w-8 p-0",children:h.jsx(ac,{className:"h-4 w-4"})}),h.jsx(Ve,{size:"sm",variant:"ghost",onClick:()=>Q(D.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:h.jsx(oc,{className:"h-4 w-4"})})]})]},D.id))})})]})]})]})}function gU({ledger:n,onClose:e}){const{currentUser:t}=rr(),{refreshLedgers:s}=Ys(),[a,o]=w.useState(!1),[u,d]=w.useState(""),[m,p]=w.useState(""),[v,b]=w.useState([]),[_,S]=w.useState([]),[C,R]=w.useState({email:"",role:"member"}),N=async()=>{if(n)try{const H=Yt(He,"invitations"),Q=vr(H,Vs("ledgerId","==",n.id),Vs("status","==","pending"),Mi("createdAt","desc")),I=await $n(Q),A=[];I.forEach(M=>{A.push({id:M.id,...M.data()})}),b(A)}catch(H){console.error("Error fetching invitations:",H)}},j=async()=>{if(!(!n||!n.members))try{const H=Yt(He,"users"),Q=Object.keys(n.members);if(Q.length===0)return;const I=[];for(const A of Q)try{(await $n(vr(H,Vs("__name__","==",A)))).forEach(B=>{I.push({id:B.id,...B.data(),role:n.members[A]})})}catch{I.push({id:A,email:"Unknown User",displayName:"Unknown User",role:n.members[A]})}S(I)}catch(H){console.error("Error fetching members:",H)}},U=async()=>{if(!t||!n||!C.email.trim())return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(C.email)){d("Please enter a valid email address");return}if(_.find(A=>A.email.toLowerCase()===C.email.toLowerCase())){d("This user is already a member of this ledger");return}if(v.find(A=>A.inviteeEmail.toLowerCase()===C.email.toLowerCase())){d("An invitation has already been sent to this email address");return}try{o(!0),d(""),await Ri(Yt(He,"invitations"),{ledgerId:n.id,ledgerName:n.name,inviterId:t.uid,inviterEmail:t.email,inviterName:t.displayName||t.email,inviteeEmail:C.email.toLowerCase(),role:C.role,status:"pending",createdAt:new Date,expiresAt:new Date(Date.now()+7*24*60*60*1e3)}),await N(),p("Invitation sent successfully!"),R({email:"",role:"member"})}catch(A){console.error("Error sending invitation:",A),d("Failed to send invitation")}finally{o(!1)}},V=async H=>{try{o(!0),await nf(Kt(He,"invitations",H)),await N(),p("Invitation cancelled successfully!")}catch(Q){console.error("Error cancelling invitation:",Q),d("Failed to cancel invitation")}finally{o(!1)}},$=async H=>{if(confirm("Are you sure you want to remove this member from the ledger?"))try{o(!0);const Q={...n.members};delete Q[H],await rs(Kt(He,"ledgers",n.id),{members:Q,updatedAt:new Date}),await s(),await j(),p("Member removed successfully!")}catch(Q){console.error("Error removing member:",Q),d("Failed to remove member")}finally{o(!1)}};return w.useEffect(()=>{N(),j()},[n]),w.useEffect(()=>{if(m||u){const H=setTimeout(()=>{p(""),d("")},3e3);return()=>clearTimeout(H)}},[m,u]),h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Manage Ledger Access: ",n==null?void 0:n.name]}),h.jsx(Ve,{variant:"ghost",size:"sm",onClick:e,children:h.jsx(lc,{className:"h-4 w-4"})})]}),u&&h.jsx(Wt,{variant:"destructive",className:"mb-4",children:h.jsx(Xt,{children:u})}),m&&h.jsx(Wt,{className:"mb-4",children:h.jsx(Xt,{children:m})}),h.jsxs(wt,{className:"mb-6",children:[h.jsxs(Nt,{children:[h.jsxs(It,{className:"flex items-center",children:[h.jsx(t1,{className:"h-5 w-5 mr-2"}),"Invite New User"]}),h.jsx(cn,{children:"Send an invitation to add a new member to this ledger."})]}),h.jsxs(Et,{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(nt,{htmlFor:"email",children:"Email Address"}),h.jsx(rn,{id:"email",type:"email",value:C.email,onChange:H=>R(Q=>({...Q,email:H.target.value})),placeholder:"user@example.com"})]}),h.jsxs("div",{children:[h.jsx(nt,{htmlFor:"role",children:"Role"}),h.jsxs(Is,{value:C.role,onValueChange:H=>R(Q=>({...Q,role:H})),children:[h.jsx(Ds,{children:h.jsx(ks,{placeholder:"Select role"})}),h.jsxs(Os,{children:[h.jsx(Nn,{value:"member",children:"Member"}),h.jsx(Nn,{value:"owner",children:"Owner"})]})]})]}),h.jsxs(Ve,{onClick:U,disabled:a||!C.email.trim(),className:"w-full",children:[h.jsx(WD,{className:"h-4 w-4 mr-2"}),"Send Invitation"]})]})]}),h.jsxs(wt,{className:"mb-6",children:[h.jsx(Nt,{children:h.jsxs(It,{className:"flex items-center",children:[h.jsx(r1,{className:"h-5 w-5 mr-2"}),"Current Members (",_.length,")"]})}),h.jsx(Et,{children:h.jsx("div",{className:"space-y-3",children:_.map(H=>h.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(vc,{user:H,size:"sm"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium",children:H.displayName||"Unknown User"}),h.jsx("p",{className:"text-sm text-gray-600",children:H.email})]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Ir,{variant:H.role==="owner"?"default":"secondary",children:H.role}),H.id!==t.uid&&H.role!=="owner"&&h.jsx(Ve,{size:"sm",variant:"destructive",onClick:()=>$(H.id),disabled:a,children:h.jsx(oc,{className:"h-3 w-3"})})]})]},H.id))})})]}),v.length>0&&h.jsxs(wt,{children:[h.jsx(Nt,{children:h.jsxs(It,{className:"flex items-center",children:[h.jsx(cv,{className:"h-5 w-5 mr-2"}),"Pending Invitations (",v.length,")"]})}),h.jsx(Et,{children:h.jsx("div",{className:"space-y-3",children:v.map(H=>h.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(XS,{className:"h-5 w-5 text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium",children:H.inviteeEmail}),h.jsxs("p",{className:"text-sm text-gray-600",children:["Invited ",new Date(H.createdAt.toDate()).toLocaleDateString()]})]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Ir,{variant:"secondary",children:H.role}),h.jsx(Ir,{variant:"outline",children:"Pending"}),h.jsx(Ve,{size:"sm",variant:"destructive",onClick:()=>V(H.id),disabled:a,children:h.jsx(lc,{className:"h-3 w-3"})})]})]},H.id))})})]})]})})})}const yU=[{value:"CNY",label:"¥ Chinese Yuan (CNY)"},{value:"USD",label:"$ US Dollar (USD)"},{value:"EUR",label:"€ Euro (EUR)"},{value:"GBP",label:"£ British Pound (GBP)"},{value:"JPY",label:"¥ Japanese Yen (JPY)"}];function vU(){const{currentUser:n}=rr(),{ledgers:e,currentLedger:t,switchLedger:s,refreshLedgers:a,isOwner:o}=Ys(),[u,d]=w.useState(!1),[m,p]=w.useState(!1),[v,b]=w.useState(null),[_,S]=w.useState(!1),[C,R]=w.useState(null),[N,j]=w.useState(""),[U,V]=w.useState(""),[$,H]=w.useState({name:"",currency:"CNY",description:""}),Q=async()=>{if(!(!n||!$.name.trim()))try{d(!0),j("");const G=await Ri(Yt(He,"ledgers"),{name:$.name.trim(),description:$.description.trim(),currency:$.currency,ownerId:n.uid,createdAt:new Date,members:{[n.uid]:"owner"}});await a(),V("Ledger created successfully!"),p(!1),H({name:"",currency:"CNY",description:""})}catch(G){console.error("Error creating ledger:",G),j("Failed to create ledger")}finally{d(!1)}},I=async()=>{if(!(!v||!$.name.trim()))try{d(!0),j(""),await rs(Kt(He,"ledgers",v.id),{name:$.name.trim(),description:$.description.trim(),currency:$.currency,updatedAt:new Date}),await a(),V("Ledger updated successfully!"),b(null),H({name:"",currency:"CNY",description:""})}catch(G){console.error("Error updating ledger:",G),j("Failed to update ledger")}finally{d(!1)}},A=async G=>{if(confirm("Are you sure you want to delete this ledger? This action cannot be undone."))try{d(!0),j(""),await nf(Kt(He,"ledgers",G)),await a(),V("Ledger deleted successfully!")}catch(se){console.error("Error deleting ledger:",se),j("Failed to delete ledger")}finally{d(!1)}},M=G=>{b(G),H({name:G.name,currency:G.currency||"CNY",description:G.description||""}),p(!1)},B=()=>{b(null),p(!1),H({name:"",currency:"CNY",description:""})},D=G=>!G.members||!n?null:G.members[n.uid]||null,L=G=>G.members?Object.keys(G.members).length:0,P=G=>G.members?Object.keys(G.members).map(se=>({uid:se,displayName:se===(n==null?void 0:n.uid)?n.displayName||n.email:`User ${se.slice(0,8)}`,email:se===(n==null?void 0:n.uid)?n.email:`${se.slice(0,8)}@example.com`})):[];return w.useEffect(()=>{if(U||N){const G=setTimeout(()=>{V(""),j("")},3e3);return()=>clearTimeout(G)}},[U,N]),h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Ledger Management"}),h.jsxs(Ve,{onClick:()=>p(!0),className:"bg-blue-500 hover:bg-blue-600",children:[h.jsx(ic,{className:"h-4 w-4 mr-2"}),"Create Ledger"]})]}),N&&h.jsx(Wt,{variant:"destructive",children:h.jsx(Xt,{children:N})}),U&&h.jsx(Wt,{children:h.jsx(Xt,{children:U})}),(m||v)&&h.jsxs(wt,{children:[h.jsxs(Nt,{children:[h.jsx(It,{children:v?"Edit Ledger":"Create New Ledger"}),h.jsx(cn,{children:v?"Update the ledger details below.":"Create a new ledger to organize your expenses separately."})]}),h.jsxs(Et,{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(nt,{htmlFor:"name",children:"Ledger Name"}),h.jsx(rn,{id:"name",value:$.name,onChange:G=>H(se=>({...se,name:G.target.value})),placeholder:"e.g., Personal Expenses, Business Travel, Family Budget"})]}),h.jsxs("div",{children:[h.jsx(nt,{htmlFor:"currency",children:"Currency"}),h.jsxs(Is,{value:$.currency,onValueChange:G=>H(se=>({...se,currency:G})),children:[h.jsx(Ds,{children:h.jsx(ks,{placeholder:"Select currency"})}),h.jsx(Os,{children:yU.map(G=>h.jsx(Nn,{value:G.value,children:G.label},G.value))})]})]}),h.jsxs("div",{children:[h.jsx(nt,{htmlFor:"description",children:"Description (Optional)"}),h.jsx(rn,{id:"description",value:$.description,onChange:G=>H(se=>({...se,description:G.target.value})),placeholder:"Brief description of this ledger's purpose"})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsxs(Ve,{onClick:v?I:Q,disabled:u||!$.name.trim(),children:[h.jsx(d0,{className:"h-4 w-4 mr-2"}),v?"Update":"Create"]}),h.jsxs(Ve,{variant:"outline",onClick:B,children:[h.jsx(lc,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})]}),h.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(G=>{const se=D(G),q=L(G),ee=(t==null?void 0:t.id)===G.id;return h.jsxs(wt,{className:`cursor-pointer transition-all ${ee?"ring-2 ring-blue-500 bg-blue-50":"hover:shadow-md"}`,onClick:()=>s(G.id),children:[h.jsx(Nt,{className:"pb-3",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs(It,{className:"text-lg flex items-center",children:[h.jsx(lm,{className:"h-5 w-5 mr-2"}),G.name,ee&&h.jsx(Ir,{variant:"secondary",className:"ml-2",children:"Current"})]}),G.description&&h.jsx(cn,{className:"mt-1",children:G.description})]}),se==="owner"&&h.jsx(PD,{className:"h-4 w-4 text-yellow-500"})]})}),h.jsxs(Et,{children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-600",children:"Currency:"}),h.jsx("span",{className:"font-medium",children:G.currency||"CNY"})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-600",children:"Members:"}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(U8,{users:P(G),size:"xs",maxDisplay:3}),h.jsx("span",{className:"font-medium text-xs",children:q})]})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-600",children:"Role:"}),h.jsx(Ir,{variant:se==="owner"?"default":"secondary",children:se})]})]}),se==="owner"&&h.jsxs("div",{className:"flex space-x-2 mt-4 pt-3 border-t",children:[h.jsxs(Ve,{size:"sm",variant:"outline",onClick:K=>{K.stopPropagation(),M(G)},children:[h.jsx(ac,{className:"h-3 w-3 mr-1"}),"Edit"]}),h.jsxs(Ve,{size:"sm",variant:"outline",onClick:K=>{K.stopPropagation(),R(G),S(!0)},children:[h.jsx(t1,{className:"h-3 w-3 mr-1"}),"Invite"]}),e.length>1&&h.jsxs(Ve,{size:"sm",variant:"destructive",onClick:K=>{K.stopPropagation(),A(G.id)},children:[h.jsx(oc,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]})]},G.id)})}),e.length===0&&h.jsx(wt,{children:h.jsxs(Et,{className:"text-center py-8",children:[h.jsx(lm,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Ledgers Found"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first ledger to start tracking expenses."}),h.jsxs(Ve,{onClick:()=>p(!0),children:[h.jsx(ic,{className:"h-4 w-4 mr-2"}),"Create Your First Ledger"]})]})}),_&&C&&h.jsx(gU,{ledger:C,onClose:()=>{S(!1),R(null)}})]})}function _U(){const{currentUser:n}=rr(),[e,t]=w.useState(!1),[s,a]=w.useState(""),[o,u]=w.useState(""),[d,m]=w.useState({displayName:"",profileColor:""}),p={...n,displayName:d.displayName,profileColor:d.profileColor},v=async()=>{if(n)try{t(!0);const C=await gp(Kt(He,"users",n.uid)),R=C.exists()?C.data():{};m({displayName:n.displayName||R.displayName||"",profileColor:R.profileColor||""})}catch(C){console.error("Error loading profile data:",C),a("Failed to load profile data")}finally{t(!1)}},b=async()=>{if(n)try{if(t(!0),a(""),!d.displayName.trim()){a("Display name is required");return}if(d.profileColor&&!V8(d.profileColor)){a("Invalid color selected");return}await F1(n,{displayName:d.displayName.trim()}),await rs(Kt(He,"users",n.uid),{displayName:d.displayName.trim(),profileColor:d.profileColor||null,updatedAt:new Date}),u("Profile updated successfully!")}catch(C){console.error("Error saving profile:",C),a("Failed to save profile changes")}finally{t(!1)}},_=()=>{const C=L8();m(R=>({...R,profileColor:C}))},S=()=>{m(C=>({...C,profileColor:""}))};return w.useEffect(()=>{v()},[n]),w.useEffect(()=>{if(o||s){const C=setTimeout(()=>{u(""),a("")},3e3);return()=>clearTimeout(C)}},[o,s]),h.jsxs(wt,{children:[h.jsxs(Nt,{children:[h.jsxs(It,{className:"flex items-center",children:[h.jsx(n1,{className:"h-5 w-5 mr-2"}),"Profile Settings"]}),h.jsx(cn,{children:"Manage your display name and profile image appearance."})]}),h.jsxs(Et,{className:"space-y-6",children:[s&&h.jsx(Wt,{variant:"destructive",children:h.jsx(Xt,{children:s})}),o&&h.jsx(Wt,{children:h.jsx(Xt,{children:o})}),h.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[h.jsx(vc,{user:p,size:"xl"}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-lg",children:"Profile Preview"}),h.jsx("p",{className:"text-sm text-gray-600",children:"This is how your profile will appear to other users"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(nt,{htmlFor:"displayName",children:"Display Name"}),h.jsx(rn,{id:"displayName",value:d.displayName,onChange:C=>m(R=>({...R,displayName:C.target.value})),placeholder:"Enter your display name",disabled:e}),h.jsx("p",{className:"text-xs text-gray-500",children:"This name will be visible to other users in shared ledgers"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(nt,{children:"Profile Color"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsxs(Ve,{type:"button",size:"sm",variant:"outline",onClick:_,disabled:e,children:[h.jsx(KD,{className:"h-3 w-3 mr-1"}),"Random"]}),h.jsx(Ve,{type:"button",size:"sm",variant:"outline",onClick:S,disabled:e,children:"Default"})]})]}),h.jsx("div",{className:"grid grid-cols-10 gap-2",children:Ca.map(C=>h.jsx("button",{type:"button",className:`
                  w-8 h-8 rounded-full border-2 transition-all
                  ${d.profileColor===C?"border-gray-900 scale-110":"border-gray-300 hover:border-gray-500"}
                `,style:{backgroundColor:C},onClick:()=>m(R=>({...R,profileColor:C})),disabled:e,title:C},C))}),h.jsx("p",{className:"text-xs text-gray-500",children:"Choose a color for your profile image background, or leave default for auto-generated color"})]}),h.jsx("div",{className:"flex justify-end",children:h.jsxs(Ve,{onClick:b,disabled:e||!d.displayName.trim(),children:[h.jsx(d0,{className:"h-4 w-4 mr-2"}),e?"Saving...":"Save Changes"]})})]})]})}var Sp="Switch",[bU,J5]=Pc(Sp),[xU,wU]=bU(Sp),iR=w.forwardRef((n,e)=>{const{__scopeSwitch:t,name:s,checked:a,defaultChecked:o,required:u,disabled:d,value:m="on",onCheckedChange:p,form:v,...b}=n,[_,S]=w.useState(null),C=sn(e,V=>S(V)),R=w.useRef(!1),N=_?v||!!_.closest("form"):!0,[j,U]=Mm({prop:a,defaultProp:o??!1,onChange:p,caller:Sp});return h.jsxs(xU,{scope:t,checked:j,disabled:d,children:[h.jsx(Mt.button,{type:"button",role:"switch","aria-checked":j,"aria-required":u,"data-state":cR(j),"data-disabled":d?"":void 0,disabled:d,value:m,...b,ref:C,onClick:nn(n.onClick,V=>{U($=>!$),N&&(R.current=V.isPropagationStopped(),R.current||V.stopPropagation())})}),N&&h.jsx(lR,{control:_,bubbles:!R.current,name:s,value:m,checked:j,required:u,disabled:d,form:v,style:{transform:"translateX(-100%)"}})]})});iR.displayName=Sp;var aR="SwitchThumb",oR=w.forwardRef((n,e)=>{const{__scopeSwitch:t,...s}=n,a=wU(aR,t);return h.jsx(Mt.span,{"data-state":cR(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:e})});oR.displayName=aR;var EU="SwitchBubbleInput",lR=w.forwardRef(({__scopeSwitch:n,control:e,checked:t,bubbles:s=!0,...a},o)=>{const u=w.useRef(null),d=sn(u,o),m=x_(t),p=v_(e);return w.useEffect(()=>{const v=u.current;if(!v)return;const b=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(b,"checked").set;if(m!==t&&S){const C=new Event("click",{bubbles:s});S.call(v,t),v.dispatchEvent(C)}},[m,t,s]),h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...a,tabIndex:-1,ref:d,style:{...a.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});lR.displayName=EU;function cR(n){return n?"checked":"unchecked"}var TU=iR,SU=oR;function cS({className:n,...e}){return h.jsx(TU,{"data-slot":"switch",className:un("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:h.jsx(SU,{"data-slot":"switch-thumb",className:un("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function AU({smartCategorizationEnabled:n,setSmartCategorizationEnabled:e,debugModeEnabled:t,setDebugModeEnabled:s}){var B,D;const{currentUser:a}=rr(),{currentLedger:o}=Ys(),[u,d]=w.useState(""),[m,p]=w.useState(!1),[v,b]=w.useState(""),[_,S]=w.useState(!1),[C,R]=w.useState(`You are a financial-data assistant. I will provide you with a CSV file of transactions containing at least the following columns: Date, Description, Amount.  Response in JSON and say nothing else:

1. For each row, determine whether it is an **expense** or an **income**.   

2. Assign each transaction to one of the following **Expense** or **Income** categories (or to a special category if needed):

   **Expense Categories**  
   ${((B=o==null?void 0:o.expenseCategories)==null?void 0:B.map(L=>`- ${L.name}`).join("\\n"))||'- HTT: (Hard To Tell) if you can\\"t unambiguously assign one of the above'}

   **Income Categories**  
   ${((D=o==null?void 0:o.incomeCategories)==null?void 0:D.map(L=>`- ${L.name}`).join("\\n"))||"- HTT"}

   Use merchant names, keywords in the description, or amount signs to guide your choice.  

3. Output a single JSON object with this exact structure:

{
  "transactions": [
    {
      "id": "<self-increment id>",
      "category": "<one of the given categories: Bills & Utilities, …, Refund, HTT>"
    }
  ]
}

4.  Optionally, "corrections" showing prior mis-classifications I\\"ve corrected may be provided to guide this categorization `),[N,j]=w.useState(!1),[U,V]=w.useState(""),[$,H]=w.useState(!1),[Q,I]=w.useState(!0);w.useEffect(()=>{(async()=>{if(a){I(!0);try{const P=Kt(He,"users",a.uid),G=await gp(P);if(G.exists()){const se=G.data();e(se.smartCategorizationEnabled||!1),d(se.llmApiKey||""),se.llmApiKey&&p(!0)}}catch(P){console.error("Error loading smart categorization settings:",P)}finally{I(!1)}}})()},[a,e]),w.useEffect(()=>{a&&!Q&&(async()=>{try{const P=Kt(He,"users",a.uid);await rs(P,{smartCategorizationEnabled:n,updatedAt:new Date})}catch(P){console.error("Error saving smart categorization setting:",P)}})()},[n,a,Q]);const A=async()=>{if(!u.trim()){b("Please enter an API key.");return}S(!0),b("");try{const L=await fetch("https://ark.cn-beijing.volces.com/api/v3/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({messages:[{content:"hello world",role:"user"}],model:"doubao-seed-1-6-flash-250615"})});if(L.ok){if(p(!0),b(""),a){const P=Kt(He,"users",a.uid);await rs(P,{llmApiKey:u,updatedAt:new Date})}}else{const P=await L.json();b(`API Key verification failed: ${P.message||L.statusText}`),p(!1)}}catch(L){b(`Network error: ${L.message}`),p(!1)}finally{S(!1)}},M=()=>{C.trim()?(j(!0),V("")):V("System prompt cannot be empty.")};return Q?h.jsxs(wt,{children:[h.jsxs(Nt,{children:[h.jsx(It,{children:"Smart Categorization Settings"}),h.jsx(cn,{children:"Loading settings..."})]}),h.jsx(Et,{children:h.jsx("p",{children:"Loading..."})})]}):h.jsxs(wt,{children:[h.jsxs(Nt,{children:[h.jsx(It,{children:"Smart Categorization Settings"}),h.jsx(cn,{children:"Configure settings for LLM-powered transaction categorization."})]}),h.jsxs(Et,{children:[h.jsxs("div",{className:"flex items-center justify-between space-x-2 mb-4",children:[h.jsx(nt,{htmlFor:"smart-categorization-mode",children:"Enable Smart Categorization"}),h.jsx(cS,{id:"smart-categorization-mode",checked:n,onCheckedChange:e})]}),n&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between space-x-2 mb-4",children:[h.jsx(nt,{htmlFor:"debug-mode",children:"Enable Debug Mode (Session Only)"}),h.jsx(cS,{id:"debug-mode",checked:t,onCheckedChange:s})]}),h.jsxs("div",{className:"space-y-4 mb-4",children:[h.jsx(nt,{htmlFor:"api-key",children:"Doubao API Key"}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(rn,{id:"api-key",type:"password",placeholder:"Enter your Doubao API Key",value:u,onChange:L=>d(L.target.value),disabled:m||_}),h.jsx(Ve,{onClick:A,disabled:_||m,children:_?"Verifying...":m?h.jsx(Zl,{className:"h-4 w-4"}):"Verify"})]}),v&&h.jsxs(Wt,{variant:"destructive",children:[h.jsx(cm,{className:"h-4 w-4"}),h.jsx(Xt,{children:v})]}),m&&h.jsxs(Wt,{children:[h.jsx(Zl,{className:"h-4 w-4"}),h.jsx(Xt,{children:"API Key verified successfully!"})]})]}),t&&h.jsxs("div",{className:"space-y-4",children:[h.jsx(nt,{htmlFor:"system-prompt",children:"System Prompt"}),h.jsx($2,{id:"system-prompt",placeholder:"Enter the system prompt for LLM categorization",value:C,onChange:L=>R(L.target.value),rows:10,disabled:N}),h.jsx(Ve,{onClick:M,disabled:N,children:N?h.jsx(Zl,{className:"h-4 w-4"}):"Confirm Prompt"}),U&&h.jsxs(Wt,{variant:"destructive",children:[h.jsx(cm,{className:"h-4 w-4"}),h.jsx(Xt,{children:U})]})]})]})]})]})}var Tt;(function(n){n.assertEqual=a=>a;function e(a){}n.assertIs=e;function t(a){throw new Error}n.assertNever=t,n.arrayToEnum=a=>{const o={};for(const u of a)o[u]=u;return o},n.getValidEnumValues=a=>{const o=n.objectKeys(a).filter(d=>typeof a[a[d]]!="number"),u={};for(const d of o)u[d]=a[d];return n.objectValues(u)},n.objectValues=a=>n.objectKeys(a).map(function(o){return a[o]}),n.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const o=[];for(const u in a)Object.prototype.hasOwnProperty.call(a,u)&&o.push(u);return o},n.find=(a,o)=>{for(const u of a)if(o(u))return u},n.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function s(a,o=" | "){return a.map(u=>typeof u=="string"?`'${u}'`:u).join(o)}n.joinValues=s,n.jsonStringifyReplacer=(a,o)=>typeof o=="bigint"?o.toString():o})(Tt||(Tt={}));var Qv;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(Qv||(Qv={}));const Te=Tt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),wi=n=>{switch(typeof n){case"undefined":return Te.undefined;case"string":return Te.string;case"number":return isNaN(n)?Te.nan:Te.number;case"boolean":return Te.boolean;case"function":return Te.function;case"bigint":return Te.bigint;case"symbol":return Te.symbol;case"object":return Array.isArray(n)?Te.array:n===null?Te.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?Te.promise:typeof Map<"u"&&n instanceof Map?Te.map:typeof Set<"u"&&n instanceof Set?Te.set:typeof Date<"u"&&n instanceof Date?Te.date:Te.object;default:return Te.unknown}},ge=Tt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),CU=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class Dr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(o){return o.message},s={_errors:[]},a=o=>{for(const u of o.issues)if(u.code==="invalid_union")u.unionErrors.map(a);else if(u.code==="invalid_return_type")a(u.returnTypeError);else if(u.code==="invalid_arguments")a(u.argumentsError);else if(u.path.length===0)s._errors.push(t(u));else{let d=s,m=0;for(;m<u.path.length;){const p=u.path[m];m===u.path.length-1?(d[p]=d[p]||{_errors:[]},d[p]._errors.push(t(u))):d[p]=d[p]||{_errors:[]},d=d[p],m++}}};return a(this),s}static assert(e){if(!(e instanceof Dr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Tt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},s=[];for(const a of this.issues)a.path.length>0?(t[a.path[0]]=t[a.path[0]]||[],t[a.path[0]].push(e(a))):s.push(e(a));return{formErrors:s,fieldErrors:t}}get formErrors(){return this.flatten()}}Dr.create=n=>new Dr(n);const bc=(n,e)=>{let t;switch(n.code){case ge.invalid_type:n.received===Te.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case ge.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Tt.jsonStringifyReplacer)}`;break;case ge.unrecognized_keys:t=`Unrecognized key(s) in object: ${Tt.joinValues(n.keys,", ")}`;break;case ge.invalid_union:t="Invalid input";break;case ge.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Tt.joinValues(n.options)}`;break;case ge.invalid_enum_value:t=`Invalid enum value. Expected ${Tt.joinValues(n.options)}, received '${n.received}'`;break;case ge.invalid_arguments:t="Invalid function arguments";break;case ge.invalid_return_type:t="Invalid function return type";break;case ge.invalid_date:t="Invalid date";break;case ge.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Tt.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case ge.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case ge.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case ge.custom:t="Invalid input";break;case ge.invalid_intersection_types:t="Intersection results could not be merged";break;case ge.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case ge.not_finite:t="Number must be finite";break;default:t=e.defaultError,Tt.assertNever(n)}return{message:t}};let uR=bc;function RU(n){uR=n}function Vm(){return uR}const Um=n=>{const{data:e,path:t,errorMaps:s,issueData:a}=n,o=[...t,...a.path||[]],u={...a,path:o};if(a.message!==void 0)return{...a,path:o,message:a.message};let d="";const m=s.filter(p=>!!p).slice().reverse();for(const p of m)d=p(u,{data:e,defaultError:d}).message;return{...a,path:o,message:d}},NU=[];function xe(n,e){const t=Vm(),s=Um({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===bc?void 0:bc].filter(a=>!!a)});n.common.issues.push(s)}class nr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const s=[];for(const a of t){if(a.status==="aborted")return Qe;a.status==="dirty"&&e.dirty(),s.push(a.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,t){const s=[];for(const a of t){const o=await a.key,u=await a.value;s.push({key:o,value:u})}return nr.mergeObjectSync(e,s)}static mergeObjectSync(e,t){const s={};for(const a of t){const{key:o,value:u}=a;if(o.status==="aborted"||u.status==="aborted")return Qe;o.status==="dirty"&&e.dirty(),u.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof u.value<"u"||a.alwaysSet)&&(s[o.value]=u.value)}return{status:e.value,value:s}}}const Qe=Object.freeze({status:"aborted"}),Kl=n=>({status:"dirty",value:n}),dr=n=>({status:"valid",value:n}),Wv=n=>n.status==="aborted",Xv=n=>n.status==="dirty",Ho=n=>n.status==="valid",Sd=n=>typeof Promise<"u"&&n instanceof Promise;function Bm(n,e,t,s){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function dR(n,e,t,s,a){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var Oe;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Oe||(Oe={}));var sd,id;class qs{constructor(e,t,s,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=s,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const uS=(n,e)=>{if(Ho(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Dr(n.common.issues);return this._error=t,this._error}}};function st(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:s,description:a}=n;if(e&&(t||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(u,d)=>{var m,p;const{message:v}=n;return u.code==="invalid_enum_value"?{message:v??d.defaultError}:typeof d.data>"u"?{message:(m=v??s)!==null&&m!==void 0?m:d.defaultError}:u.code!=="invalid_type"?{message:d.defaultError}:{message:(p=v??t)!==null&&p!==void 0?p:d.defaultError}},description:a}}class at{get description(){return this._def.description}_getType(e){return wi(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:wi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new nr,ctx:{common:e.parent.common,data:e.data,parsedType:wi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Sd(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const s=this.safeParse(e,t);if(s.success)return s.data;throw s.error}safeParse(e,t){var s;const a={common:{issues:[],async:(s=t==null?void 0:t.async)!==null&&s!==void 0?s:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:wi(e)},o=this._parseSync({data:e,path:a.path,parent:a});return uS(a,o)}"~validate"(e){var t,s;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:wi(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:a});return Ho(o)?{value:o.value}:{issues:a.common.issues}}catch(o){!((s=(t=o==null?void 0:o.message)===null||t===void 0?void 0:t.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:a}).then(o=>Ho(o)?{value:o.value}:{issues:a.common.issues})}async parseAsync(e,t){const s=await this.safeParseAsync(e,t);if(s.success)return s.data;throw s.error}async safeParseAsync(e,t){const s={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:wi(e)},a=this._parse({data:e,path:s.path,parent:s}),o=await(Sd(a)?a:Promise.resolve(a));return uS(s,o)}refine(e,t){const s=a=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(a):t;return this._refinement((a,o)=>{const u=e(a),d=()=>o.addIssue({code:ge.custom,...s(a)});return typeof Promise<"u"&&u instanceof Promise?u.then(m=>m?!0:(d(),!1)):u?!0:(d(),!1)})}refinement(e,t){return this._refinement((s,a)=>e(s)?!0:(a.addIssue(typeof t=="function"?t(s,a):t),!1))}_refinement(e){return new us({schema:this,typeName:Ke.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Bs.create(this,this._def)}nullable(){return $a.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ss.create(this)}promise(){return wc.create(this,this._def)}or(e){return Nd.create([this,e],this._def)}and(e){return Id.create(this,e,this._def)}transform(e){return new us({...st(this._def),schema:this,typeName:Ke.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Md({...st(this._def),innerType:this,defaultValue:t,typeName:Ke.ZodDefault})}brand(){return new A_({typeName:Ke.ZodBranded,type:this,...st(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Pd({...st(this._def),innerType:this,catchValue:t,typeName:Ke.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return af.create(this,e)}readonly(){return Ld.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const IU=/^c[^\s-]{8,}$/i,kU=/^[0-9a-z]+$/,DU=/^[0-9A-HJKMNP-TV-Z]{26}$/i,OU=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,jU=/^[a-z0-9_-]{21}$/i,MU=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,PU=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,LU=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,VU="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let tv;const UU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,BU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,zU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,FU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,HU=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,qU=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,fR="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$U=new RegExp(`^${fR}$`);function hR(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function GU(n){return new RegExp(`^${hR(n)}$`)}function mR(n){let e=`${fR}T${hR(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function YU(n,e){return!!((e==="v4"||!e)&&UU.test(n)||(e==="v6"||!e)&&zU.test(n))}function KU(n,e){if(!MU.test(n))return!1;try{const[t]=n.split("."),s=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||!a.typ||!a.alg||e&&a.alg!==e)}catch{return!1}}function ZU(n,e){return!!((e==="v4"||!e)&&BU.test(n)||(e==="v6"||!e)&&FU.test(n))}class ns extends at{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Te.string){const o=this._getOrReturnCtx(e);return xe(o,{code:ge.invalid_type,expected:Te.string,received:o.parsedType}),Qe}const s=new nr;let a;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(a=this._getOrReturnCtx(e,a),xe(a,{code:ge.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),s.dirty());else if(o.kind==="max")e.data.length>o.value&&(a=this._getOrReturnCtx(e,a),xe(a,{code:ge.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),s.dirty());else if(o.kind==="length"){const u=e.data.length>o.value,d=e.data.length<o.value;(u||d)&&(a=this._getOrReturnCtx(e,a),u?xe(a,{code:ge.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):d&&xe(a,{code:ge.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),s.dirty())}else if(o.kind==="email")LU.test(e.data)||(a=this._getOrReturnCtx(e,a),xe(a,{validation:"email",code:ge.invalid_string,message:o.message}),s.dirty());else if(o.kind==="emoji")tv||(tv=new RegExp(VU,"u")),tv.test(e.data)||(a=this._getOrReturnCtx(e,a),xe(a,{validation:"emoji",code:ge.invalid_string,message:o.message}),s.dirty());else if(o.kind==="uuid")OU.test(e.data)||(a=this._getOrReturnCtx(e,a),xe(a,{validation:"uuid",code:ge.invalid_string,message:o.message}),s.dirty());else if(o.kind==="nanoid")jU.test(e.data)||(a=this._getOrReturnCtx(e,a),xe(a,{validation:"nanoid",code:ge.invalid_string,message:o.message}),s.dirty());else if(o.kind==="cuid")IU.test(e.data)||(a=this._getOrReturnCtx(e,a),xe(a,{validation:"cuid",code:ge.invalid_string,message:o.message}),s.dirty());else if(o.kind==="cuid2")kU.test(e.data)||(a=this._getOrReturnCtx(e,a),xe(a,{validation:"cuid2",code:ge.invalid_string,message:o.message}),s.dirty());else if(o.kind==="ulid")DU.test(e.data)||(a=this._getOrReturnCtx(e,a),xe(a,{validation:"ulid",code:ge.invalid_string,message:o.message}),s.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),xe(a,{validation:"url",code:ge.invalid_string,message:o.message}),s.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),xe(a,{validation:"regex",code:ge.invalid_string,message:o.message}),s.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(a=this._getOrReturnCtx(e,a),xe(a,{code:ge.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),s.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(a=this._getOrReturnCtx(e,a),xe(a,{code:ge.invalid_string,validation:{startsWith:o.value},message:o.message}),s.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(a=this._getOrReturnCtx(e,a),xe(a,{code:ge.invalid_string,validation:{endsWith:o.value},message:o.message}),s.dirty()):o.kind==="datetime"?mR(o).test(e.data)||(a=this._getOrReturnCtx(e,a),xe(a,{code:ge.invalid_string,validation:"datetime",message:o.message}),s.dirty()):o.kind==="date"?$U.test(e.data)||(a=this._getOrReturnCtx(e,a),xe(a,{code:ge.invalid_string,validation:"date",message:o.message}),s.dirty()):o.kind==="time"?GU(o).test(e.data)||(a=this._getOrReturnCtx(e,a),xe(a,{code:ge.invalid_string,validation:"time",message:o.message}),s.dirty()):o.kind==="duration"?PU.test(e.data)||(a=this._getOrReturnCtx(e,a),xe(a,{validation:"duration",code:ge.invalid_string,message:o.message}),s.dirty()):o.kind==="ip"?YU(e.data,o.version)||(a=this._getOrReturnCtx(e,a),xe(a,{validation:"ip",code:ge.invalid_string,message:o.message}),s.dirty()):o.kind==="jwt"?KU(e.data,o.alg)||(a=this._getOrReturnCtx(e,a),xe(a,{validation:"jwt",code:ge.invalid_string,message:o.message}),s.dirty()):o.kind==="cidr"?ZU(e.data,o.version)||(a=this._getOrReturnCtx(e,a),xe(a,{validation:"cidr",code:ge.invalid_string,message:o.message}),s.dirty()):o.kind==="base64"?HU.test(e.data)||(a=this._getOrReturnCtx(e,a),xe(a,{validation:"base64",code:ge.invalid_string,message:o.message}),s.dirty()):o.kind==="base64url"?qU.test(e.data)||(a=this._getOrReturnCtx(e,a),xe(a,{validation:"base64url",code:ge.invalid_string,message:o.message}),s.dirty()):Tt.assertNever(o);return{status:s.value,value:e.data}}_regex(e,t,s){return this.refinement(a=>e.test(a),{validation:t,code:ge.invalid_string,...Oe.errToObj(s)})}_addCheck(e){return new ns({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Oe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Oe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Oe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Oe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Oe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Oe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Oe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Oe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Oe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Oe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Oe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Oe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Oe.errToObj(e)})}datetime(e){var t,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(s=e==null?void 0:e.local)!==null&&s!==void 0?s:!1,...Oe.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Oe.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Oe.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Oe.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...Oe.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Oe.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Oe.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Oe.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Oe.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Oe.errToObj(t)})}nonempty(e){return this.min(1,Oe.errToObj(e))}trim(){return new ns({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ns({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ns({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}ns.create=n=>{var e;return new ns({checks:[],typeName:Ke.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...st(n)})};function QU(n,e){const t=(n.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,a=t>s?t:s,o=parseInt(n.toFixed(a).replace(".","")),u=parseInt(e.toFixed(a).replace(".",""));return o%u/Math.pow(10,a)}class Fa extends at{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Te.number){const o=this._getOrReturnCtx(e);return xe(o,{code:ge.invalid_type,expected:Te.number,received:o.parsedType}),Qe}let s;const a=new nr;for(const o of this._def.checks)o.kind==="int"?Tt.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),xe(s,{code:ge.invalid_type,expected:"integer",received:"float",message:o.message}),a.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(s=this._getOrReturnCtx(e,s),xe(s,{code:ge.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(s=this._getOrReturnCtx(e,s),xe(s,{code:ge.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="multipleOf"?QU(e.data,o.value)!==0&&(s=this._getOrReturnCtx(e,s),xe(s,{code:ge.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),xe(s,{code:ge.not_finite,message:o.message}),a.dirty()):Tt.assertNever(o);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Oe.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Oe.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Oe.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Oe.toString(t))}setLimit(e,t,s,a){return new Fa({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:Oe.toString(a)}]})}_addCheck(e){return new Fa({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Oe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Oe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Oe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Oe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Oe.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Oe.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Oe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Oe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Oe.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Tt.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(t===null||s.value>t)&&(t=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Fa.create=n=>new Fa({checks:[],typeName:Ke.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...st(n)});class Ha extends at{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Te.bigint)return this._getInvalidInput(e);let s;const a=new nr;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(s=this._getOrReturnCtx(e,s),xe(s,{code:ge.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(s=this._getOrReturnCtx(e,s),xe(s,{code:ge.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),xe(s,{code:ge.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):Tt.assertNever(o);return{status:a.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return xe(t,{code:ge.invalid_type,expected:Te.bigint,received:t.parsedType}),Qe}gte(e,t){return this.setLimit("min",e,!0,Oe.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Oe.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Oe.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Oe.toString(t))}setLimit(e,t,s,a){return new Ha({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:Oe.toString(a)}]})}_addCheck(e){return new Ha({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Oe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Oe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Oe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Oe.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Oe.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ha.create=n=>{var e;return new Ha({checks:[],typeName:Ke.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...st(n)})};class Ad extends at{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Te.boolean){const s=this._getOrReturnCtx(e);return xe(s,{code:ge.invalid_type,expected:Te.boolean,received:s.parsedType}),Qe}return dr(e.data)}}Ad.create=n=>new Ad({typeName:Ke.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...st(n)});class qo extends at{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Te.date){const o=this._getOrReturnCtx(e);return xe(o,{code:ge.invalid_type,expected:Te.date,received:o.parsedType}),Qe}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return xe(o,{code:ge.invalid_date}),Qe}const s=new nr;let a;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(a=this._getOrReturnCtx(e,a),xe(a,{code:ge.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),s.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(a=this._getOrReturnCtx(e,a),xe(a,{code:ge.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),s.dirty()):Tt.assertNever(o);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new qo({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Oe.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Oe.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}qo.create=n=>new qo({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:Ke.ZodDate,...st(n)});class zm extends at{_parse(e){if(this._getType(e)!==Te.symbol){const s=this._getOrReturnCtx(e);return xe(s,{code:ge.invalid_type,expected:Te.symbol,received:s.parsedType}),Qe}return dr(e.data)}}zm.create=n=>new zm({typeName:Ke.ZodSymbol,...st(n)});class Cd extends at{_parse(e){if(this._getType(e)!==Te.undefined){const s=this._getOrReturnCtx(e);return xe(s,{code:ge.invalid_type,expected:Te.undefined,received:s.parsedType}),Qe}return dr(e.data)}}Cd.create=n=>new Cd({typeName:Ke.ZodUndefined,...st(n)});class Rd extends at{_parse(e){if(this._getType(e)!==Te.null){const s=this._getOrReturnCtx(e);return xe(s,{code:ge.invalid_type,expected:Te.null,received:s.parsedType}),Qe}return dr(e.data)}}Rd.create=n=>new Rd({typeName:Ke.ZodNull,...st(n)});class xc extends at{constructor(){super(...arguments),this._any=!0}_parse(e){return dr(e.data)}}xc.create=n=>new xc({typeName:Ke.ZodAny,...st(n)});class Do extends at{constructor(){super(...arguments),this._unknown=!0}_parse(e){return dr(e.data)}}Do.create=n=>new Do({typeName:Ke.ZodUnknown,...st(n)});class Vi extends at{_parse(e){const t=this._getOrReturnCtx(e);return xe(t,{code:ge.invalid_type,expected:Te.never,received:t.parsedType}),Qe}}Vi.create=n=>new Vi({typeName:Ke.ZodNever,...st(n)});class Fm extends at{_parse(e){if(this._getType(e)!==Te.undefined){const s=this._getOrReturnCtx(e);return xe(s,{code:ge.invalid_type,expected:Te.void,received:s.parsedType}),Qe}return dr(e.data)}}Fm.create=n=>new Fm({typeName:Ke.ZodVoid,...st(n)});class ss extends at{_parse(e){const{ctx:t,status:s}=this._processInputParams(e),a=this._def;if(t.parsedType!==Te.array)return xe(t,{code:ge.invalid_type,expected:Te.array,received:t.parsedType}),Qe;if(a.exactLength!==null){const u=t.data.length>a.exactLength.value,d=t.data.length<a.exactLength.value;(u||d)&&(xe(t,{code:u?ge.too_big:ge.too_small,minimum:d?a.exactLength.value:void 0,maximum:u?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&t.data.length<a.minLength.value&&(xe(t,{code:ge.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&t.data.length>a.maxLength.value&&(xe(t,{code:ge.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),t.common.async)return Promise.all([...t.data].map((u,d)=>a.type._parseAsync(new qs(t,u,t.path,d)))).then(u=>nr.mergeArray(s,u));const o=[...t.data].map((u,d)=>a.type._parseSync(new qs(t,u,t.path,d)));return nr.mergeArray(s,o)}get element(){return this._def.type}min(e,t){return new ss({...this._def,minLength:{value:e,message:Oe.toString(t)}})}max(e,t){return new ss({...this._def,maxLength:{value:e,message:Oe.toString(t)}})}length(e,t){return new ss({...this._def,exactLength:{value:e,message:Oe.toString(t)}})}nonempty(e){return this.min(1,e)}}ss.create=(n,e)=>new ss({type:n,minLength:null,maxLength:null,exactLength:null,typeName:Ke.ZodArray,...st(e)});function Gl(n){if(n instanceof tn){const e={};for(const t in n.shape){const s=n.shape[t];e[t]=Bs.create(Gl(s))}return new tn({...n._def,shape:()=>e})}else return n instanceof ss?new ss({...n._def,type:Gl(n.element)}):n instanceof Bs?Bs.create(Gl(n.unwrap())):n instanceof $a?$a.create(Gl(n.unwrap())):n instanceof $s?$s.create(n.items.map(e=>Gl(e))):n}class tn extends at{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Tt.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Te.object){const p=this._getOrReturnCtx(e);return xe(p,{code:ge.invalid_type,expected:Te.object,received:p.parsedType}),Qe}const{status:s,ctx:a}=this._processInputParams(e),{shape:o,keys:u}=this._getCached(),d=[];if(!(this._def.catchall instanceof Vi&&this._def.unknownKeys==="strip"))for(const p in a.data)u.includes(p)||d.push(p);const m=[];for(const p of u){const v=o[p],b=a.data[p];m.push({key:{status:"valid",value:p},value:v._parse(new qs(a,b,a.path,p)),alwaysSet:p in a.data})}if(this._def.catchall instanceof Vi){const p=this._def.unknownKeys;if(p==="passthrough")for(const v of d)m.push({key:{status:"valid",value:v},value:{status:"valid",value:a.data[v]}});else if(p==="strict")d.length>0&&(xe(a,{code:ge.unrecognized_keys,keys:d}),s.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const v of d){const b=a.data[v];m.push({key:{status:"valid",value:v},value:p._parse(new qs(a,b,a.path,v)),alwaysSet:v in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const p=[];for(const v of m){const b=await v.key,_=await v.value;p.push({key:b,value:_,alwaysSet:v.alwaysSet})}return p}).then(p=>nr.mergeObjectSync(s,p)):nr.mergeObjectSync(s,m)}get shape(){return this._def.shape()}strict(e){return Oe.errToObj,new tn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,s)=>{var a,o,u,d;const m=(u=(o=(a=this._def).errorMap)===null||o===void 0?void 0:o.call(a,t,s).message)!==null&&u!==void 0?u:s.defaultError;return t.code==="unrecognized_keys"?{message:(d=Oe.errToObj(e).message)!==null&&d!==void 0?d:m}:{message:m}}}:{}})}strip(){return new tn({...this._def,unknownKeys:"strip"})}passthrough(){return new tn({...this._def,unknownKeys:"passthrough"})}extend(e){return new tn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new tn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ke.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new tn({...this._def,catchall:e})}pick(e){const t={};return Tt.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(t[s]=this.shape[s])}),new tn({...this._def,shape:()=>t})}omit(e){const t={};return Tt.objectKeys(this.shape).forEach(s=>{e[s]||(t[s]=this.shape[s])}),new tn({...this._def,shape:()=>t})}deepPartial(){return Gl(this)}partial(e){const t={};return Tt.objectKeys(this.shape).forEach(s=>{const a=this.shape[s];e&&!e[s]?t[s]=a:t[s]=a.optional()}),new tn({...this._def,shape:()=>t})}required(e){const t={};return Tt.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])t[s]=this.shape[s];else{let o=this.shape[s];for(;o instanceof Bs;)o=o._def.innerType;t[s]=o}}),new tn({...this._def,shape:()=>t})}keyof(){return pR(Tt.objectKeys(this.shape))}}tn.create=(n,e)=>new tn({shape:()=>n,unknownKeys:"strip",catchall:Vi.create(),typeName:Ke.ZodObject,...st(e)});tn.strictCreate=(n,e)=>new tn({shape:()=>n,unknownKeys:"strict",catchall:Vi.create(),typeName:Ke.ZodObject,...st(e)});tn.lazycreate=(n,e)=>new tn({shape:n,unknownKeys:"strip",catchall:Vi.create(),typeName:Ke.ZodObject,...st(e)});class Nd extends at{_parse(e){const{ctx:t}=this._processInputParams(e),s=this._def.options;function a(o){for(const d of o)if(d.result.status==="valid")return d.result;for(const d of o)if(d.result.status==="dirty")return t.common.issues.push(...d.ctx.common.issues),d.result;const u=o.map(d=>new Dr(d.ctx.common.issues));return xe(t,{code:ge.invalid_union,unionErrors:u}),Qe}if(t.common.async)return Promise.all(s.map(async o=>{const u={...t,common:{...t.common,issues:[]},parent:null};return{result:await o._parseAsync({data:t.data,path:t.path,parent:u}),ctx:u}})).then(a);{let o;const u=[];for(const m of s){const p={...t,common:{...t.common,issues:[]},parent:null},v=m._parseSync({data:t.data,path:t.path,parent:p});if(v.status==="valid")return v;v.status==="dirty"&&!o&&(o={result:v,ctx:p}),p.common.issues.length&&u.push(p.common.issues)}if(o)return t.common.issues.push(...o.ctx.common.issues),o.result;const d=u.map(m=>new Dr(m));return xe(t,{code:ge.invalid_union,unionErrors:d}),Qe}}get options(){return this._def.options}}Nd.create=(n,e)=>new Nd({options:n,typeName:Ke.ZodUnion,...st(e)});const xi=n=>n instanceof Dd?xi(n.schema):n instanceof us?xi(n.innerType()):n instanceof Od?[n.value]:n instanceof qa?n.options:n instanceof jd?Tt.objectValues(n.enum):n instanceof Md?xi(n._def.innerType):n instanceof Cd?[void 0]:n instanceof Rd?[null]:n instanceof Bs?[void 0,...xi(n.unwrap())]:n instanceof $a?[null,...xi(n.unwrap())]:n instanceof A_||n instanceof Ld?xi(n.unwrap()):n instanceof Pd?xi(n._def.innerType):[];class Ap extends at{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Te.object)return xe(t,{code:ge.invalid_type,expected:Te.object,received:t.parsedType}),Qe;const s=this.discriminator,a=t.data[s],o=this.optionsMap.get(a);return o?t.common.async?o._parseAsync({data:t.data,path:t.path,parent:t}):o._parseSync({data:t.data,path:t.path,parent:t}):(xe(t,{code:ge.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),Qe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,s){const a=new Map;for(const o of t){const u=xi(o.shape[e]);if(!u.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const d of u){if(a.has(d))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(d)}`);a.set(d,o)}}return new Ap({typeName:Ke.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:a,...st(s)})}}function Jv(n,e){const t=wi(n),s=wi(e);if(n===e)return{valid:!0,data:n};if(t===Te.object&&s===Te.object){const a=Tt.objectKeys(e),o=Tt.objectKeys(n).filter(d=>a.indexOf(d)!==-1),u={...n,...e};for(const d of o){const m=Jv(n[d],e[d]);if(!m.valid)return{valid:!1};u[d]=m.data}return{valid:!0,data:u}}else if(t===Te.array&&s===Te.array){if(n.length!==e.length)return{valid:!1};const a=[];for(let o=0;o<n.length;o++){const u=n[o],d=e[o],m=Jv(u,d);if(!m.valid)return{valid:!1};a.push(m.data)}return{valid:!0,data:a}}else return t===Te.date&&s===Te.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Id extends at{_parse(e){const{status:t,ctx:s}=this._processInputParams(e),a=(o,u)=>{if(Wv(o)||Wv(u))return Qe;const d=Jv(o.value,u.value);return d.valid?((Xv(o)||Xv(u))&&t.dirty(),{status:t.value,value:d.data}):(xe(s,{code:ge.invalid_intersection_types}),Qe)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([o,u])=>a(o,u)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Id.create=(n,e,t)=>new Id({left:n,right:e,typeName:Ke.ZodIntersection,...st(t)});class $s extends at{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==Te.array)return xe(s,{code:ge.invalid_type,expected:Te.array,received:s.parsedType}),Qe;if(s.data.length<this._def.items.length)return xe(s,{code:ge.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Qe;!this._def.rest&&s.data.length>this._def.items.length&&(xe(s,{code:ge.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const o=[...s.data].map((u,d)=>{const m=this._def.items[d]||this._def.rest;return m?m._parse(new qs(s,u,s.path,d)):null}).filter(u=>!!u);return s.common.async?Promise.all(o).then(u=>nr.mergeArray(t,u)):nr.mergeArray(t,o)}get items(){return this._def.items}rest(e){return new $s({...this._def,rest:e})}}$s.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new $s({items:n,typeName:Ke.ZodTuple,rest:null,...st(e)})};class kd extends at{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==Te.object)return xe(s,{code:ge.invalid_type,expected:Te.object,received:s.parsedType}),Qe;const a=[],o=this._def.keyType,u=this._def.valueType;for(const d in s.data)a.push({key:o._parse(new qs(s,d,s.path,d)),value:u._parse(new qs(s,s.data[d],s.path,d)),alwaysSet:d in s.data});return s.common.async?nr.mergeObjectAsync(t,a):nr.mergeObjectSync(t,a)}get element(){return this._def.valueType}static create(e,t,s){return t instanceof at?new kd({keyType:e,valueType:t,typeName:Ke.ZodRecord,...st(s)}):new kd({keyType:ns.create(),valueType:e,typeName:Ke.ZodRecord,...st(t)})}}class Hm extends at{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==Te.map)return xe(s,{code:ge.invalid_type,expected:Te.map,received:s.parsedType}),Qe;const a=this._def.keyType,o=this._def.valueType,u=[...s.data.entries()].map(([d,m],p)=>({key:a._parse(new qs(s,d,s.path,[p,"key"])),value:o._parse(new qs(s,m,s.path,[p,"value"]))}));if(s.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const m of u){const p=await m.key,v=await m.value;if(p.status==="aborted"||v.status==="aborted")return Qe;(p.status==="dirty"||v.status==="dirty")&&t.dirty(),d.set(p.value,v.value)}return{status:t.value,value:d}})}else{const d=new Map;for(const m of u){const p=m.key,v=m.value;if(p.status==="aborted"||v.status==="aborted")return Qe;(p.status==="dirty"||v.status==="dirty")&&t.dirty(),d.set(p.value,v.value)}return{status:t.value,value:d}}}}Hm.create=(n,e,t)=>new Hm({valueType:e,keyType:n,typeName:Ke.ZodMap,...st(t)});class $o extends at{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==Te.set)return xe(s,{code:ge.invalid_type,expected:Te.set,received:s.parsedType}),Qe;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(xe(s,{code:ge.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(xe(s,{code:ge.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());const o=this._def.valueType;function u(m){const p=new Set;for(const v of m){if(v.status==="aborted")return Qe;v.status==="dirty"&&t.dirty(),p.add(v.value)}return{status:t.value,value:p}}const d=[...s.data.values()].map((m,p)=>o._parse(new qs(s,m,s.path,p)));return s.common.async?Promise.all(d).then(m=>u(m)):u(d)}min(e,t){return new $o({...this._def,minSize:{value:e,message:Oe.toString(t)}})}max(e,t){return new $o({...this._def,maxSize:{value:e,message:Oe.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}$o.create=(n,e)=>new $o({valueType:n,minSize:null,maxSize:null,typeName:Ke.ZodSet,...st(e)});class nc extends at{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Te.function)return xe(t,{code:ge.invalid_type,expected:Te.function,received:t.parsedType}),Qe;function s(d,m){return Um({data:d,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Vm(),bc].filter(p=>!!p),issueData:{code:ge.invalid_arguments,argumentsError:m}})}function a(d,m){return Um({data:d,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Vm(),bc].filter(p=>!!p),issueData:{code:ge.invalid_return_type,returnTypeError:m}})}const o={errorMap:t.common.contextualErrorMap},u=t.data;if(this._def.returns instanceof wc){const d=this;return dr(async function(...m){const p=new Dr([]),v=await d._def.args.parseAsync(m,o).catch(S=>{throw p.addIssue(s(m,S)),p}),b=await Reflect.apply(u,this,v);return await d._def.returns._def.type.parseAsync(b,o).catch(S=>{throw p.addIssue(a(b,S)),p})})}else{const d=this;return dr(function(...m){const p=d._def.args.safeParse(m,o);if(!p.success)throw new Dr([s(m,p.error)]);const v=Reflect.apply(u,this,p.data),b=d._def.returns.safeParse(v,o);if(!b.success)throw new Dr([a(v,b.error)]);return b.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new nc({...this._def,args:$s.create(e).rest(Do.create())})}returns(e){return new nc({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,s){return new nc({args:e||$s.create([]).rest(Do.create()),returns:t||Do.create(),typeName:Ke.ZodFunction,...st(s)})}}class Dd extends at{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Dd.create=(n,e)=>new Dd({getter:n,typeName:Ke.ZodLazy,...st(e)});class Od extends at{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return xe(t,{received:t.data,code:ge.invalid_literal,expected:this._def.value}),Qe}return{status:"valid",value:e.data}}get value(){return this._def.value}}Od.create=(n,e)=>new Od({value:n,typeName:Ke.ZodLiteral,...st(e)});function pR(n,e){return new qa({values:n,typeName:Ke.ZodEnum,...st(e)})}class qa extends at{constructor(){super(...arguments),sd.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),s=this._def.values;return xe(t,{expected:Tt.joinValues(s),received:t.parsedType,code:ge.invalid_type}),Qe}if(Bm(this,sd)||dR(this,sd,new Set(this._def.values)),!Bm(this,sd).has(e.data)){const t=this._getOrReturnCtx(e),s=this._def.values;return xe(t,{received:t.data,code:ge.invalid_enum_value,options:s}),Qe}return dr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return qa.create(e,{...this._def,...t})}exclude(e,t=this._def){return qa.create(this.options.filter(s=>!e.includes(s)),{...this._def,...t})}}sd=new WeakMap;qa.create=pR;class jd extends at{constructor(){super(...arguments),id.set(this,void 0)}_parse(e){const t=Tt.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==Te.string&&s.parsedType!==Te.number){const a=Tt.objectValues(t);return xe(s,{expected:Tt.joinValues(a),received:s.parsedType,code:ge.invalid_type}),Qe}if(Bm(this,id)||dR(this,id,new Set(Tt.getValidEnumValues(this._def.values))),!Bm(this,id).has(e.data)){const a=Tt.objectValues(t);return xe(s,{received:s.data,code:ge.invalid_enum_value,options:a}),Qe}return dr(e.data)}get enum(){return this._def.values}}id=new WeakMap;jd.create=(n,e)=>new jd({values:n,typeName:Ke.ZodNativeEnum,...st(e)});class wc extends at{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Te.promise&&t.common.async===!1)return xe(t,{code:ge.invalid_type,expected:Te.promise,received:t.parsedType}),Qe;const s=t.parsedType===Te.promise?t.data:Promise.resolve(t.data);return dr(s.then(a=>this._def.type.parseAsync(a,{path:t.path,errorMap:t.common.contextualErrorMap})))}}wc.create=(n,e)=>new wc({type:n,typeName:Ke.ZodPromise,...st(e)});class us extends at{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ke.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:s}=this._processInputParams(e),a=this._def.effect||null,o={addIssue:u=>{xe(s,u),u.fatal?t.abort():t.dirty()},get path(){return s.path}};if(o.addIssue=o.addIssue.bind(o),a.type==="preprocess"){const u=a.transform(s.data,o);if(s.common.async)return Promise.resolve(u).then(async d=>{if(t.value==="aborted")return Qe;const m=await this._def.schema._parseAsync({data:d,path:s.path,parent:s});return m.status==="aborted"?Qe:m.status==="dirty"||t.value==="dirty"?Kl(m.value):m});{if(t.value==="aborted")return Qe;const d=this._def.schema._parseSync({data:u,path:s.path,parent:s});return d.status==="aborted"?Qe:d.status==="dirty"||t.value==="dirty"?Kl(d.value):d}}if(a.type==="refinement"){const u=d=>{const m=a.refinement(d,o);if(s.common.async)return Promise.resolve(m);if(m instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(s.common.async===!1){const d=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return d.status==="aborted"?Qe:(d.status==="dirty"&&t.dirty(),u(d.value),{status:t.value,value:d.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(d=>d.status==="aborted"?Qe:(d.status==="dirty"&&t.dirty(),u(d.value).then(()=>({status:t.value,value:d.value}))))}if(a.type==="transform")if(s.common.async===!1){const u=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Ho(u))return u;const d=a.transform(u.value,o);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:d}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(u=>Ho(u)?Promise.resolve(a.transform(u.value,o)).then(d=>({status:t.value,value:d})):u);Tt.assertNever(a)}}us.create=(n,e,t)=>new us({schema:n,typeName:Ke.ZodEffects,effect:e,...st(t)});us.createWithPreprocess=(n,e,t)=>new us({schema:e,effect:{type:"preprocess",transform:n},typeName:Ke.ZodEffects,...st(t)});class Bs extends at{_parse(e){return this._getType(e)===Te.undefined?dr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Bs.create=(n,e)=>new Bs({innerType:n,typeName:Ke.ZodOptional,...st(e)});class $a extends at{_parse(e){return this._getType(e)===Te.null?dr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}$a.create=(n,e)=>new $a({innerType:n,typeName:Ke.ZodNullable,...st(e)});class Md extends at{_parse(e){const{ctx:t}=this._processInputParams(e);let s=t.data;return t.parsedType===Te.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Md.create=(n,e)=>new Md({innerType:n,typeName:Ke.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...st(e)});class Pd extends at{_parse(e){const{ctx:t}=this._processInputParams(e),s={...t,common:{...t.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Sd(a)?a.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Dr(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Dr(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Pd.create=(n,e)=>new Pd({innerType:n,typeName:Ke.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...st(e)});class qm extends at{_parse(e){if(this._getType(e)!==Te.nan){const s=this._getOrReturnCtx(e);return xe(s,{code:ge.invalid_type,expected:Te.nan,received:s.parsedType}),Qe}return{status:"valid",value:e.data}}}qm.create=n=>new qm({typeName:Ke.ZodNaN,...st(n)});const WU=Symbol("zod_brand");class A_ extends at{_parse(e){const{ctx:t}=this._processInputParams(e),s=t.data;return this._def.type._parse({data:s,path:t.path,parent:t})}unwrap(){return this._def.type}}class af extends at{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?Qe:o.status==="dirty"?(t.dirty(),Kl(o.value)):this._def.out._parseAsync({data:o.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?Qe:a.status==="dirty"?(t.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(e,t){return new af({in:e,out:t,typeName:Ke.ZodPipeline})}}class Ld extends at{_parse(e){const t=this._def.innerType._parse(e),s=a=>(Ho(a)&&(a.value=Object.freeze(a.value)),a);return Sd(t)?t.then(a=>s(a)):s(t)}unwrap(){return this._def.innerType}}Ld.create=(n,e)=>new Ld({innerType:n,typeName:Ke.ZodReadonly,...st(e)});function dS(n,e){const t=typeof n=="function"?n(e):typeof n=="string"?{message:n}:n;return typeof t=="string"?{message:t}:t}function gR(n,e={},t){return n?xc.create().superRefine((s,a)=>{var o,u;const d=n(s);if(d instanceof Promise)return d.then(m=>{var p,v;if(!m){const b=dS(e,s),_=(v=(p=b.fatal)!==null&&p!==void 0?p:t)!==null&&v!==void 0?v:!0;a.addIssue({code:"custom",...b,fatal:_})}});if(!d){const m=dS(e,s),p=(u=(o=m.fatal)!==null&&o!==void 0?o:t)!==null&&u!==void 0?u:!0;a.addIssue({code:"custom",...m,fatal:p})}}):xc.create()}const XU={object:tn.lazycreate};var Ke;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(Ke||(Ke={}));const JU=(n,e={message:`Input not instance of ${n.name}`})=>gR(t=>t instanceof n,e),yR=ns.create,vR=Fa.create,e5=qm.create,t5=Ha.create,_R=Ad.create,n5=qo.create,r5=zm.create,s5=Cd.create,i5=Rd.create,a5=xc.create,o5=Do.create,l5=Vi.create,c5=Fm.create,u5=ss.create,d5=tn.create,f5=tn.strictCreate,h5=Nd.create,m5=Ap.create,p5=Id.create,g5=$s.create,y5=kd.create,v5=Hm.create,_5=$o.create,b5=nc.create,x5=Dd.create,w5=Od.create,E5=qa.create,T5=jd.create,S5=wc.create,fS=us.create,A5=Bs.create,C5=$a.create,R5=us.createWithPreprocess,N5=af.create,I5=()=>yR().optional(),k5=()=>vR().optional(),D5=()=>_R().optional(),O5={string:n=>ns.create({...n,coerce:!0}),number:n=>Fa.create({...n,coerce:!0}),boolean:n=>Ad.create({...n,coerce:!0}),bigint:n=>Ha.create({...n,coerce:!0}),date:n=>qo.create({...n,coerce:!0})},j5=Qe;var es=Object.freeze({__proto__:null,defaultErrorMap:bc,setErrorMap:RU,getErrorMap:Vm,makeIssue:Um,EMPTY_PATH:NU,addIssueToContext:xe,ParseStatus:nr,INVALID:Qe,DIRTY:Kl,OK:dr,isAborted:Wv,isDirty:Xv,isValid:Ho,isAsync:Sd,get util(){return Tt},get objectUtil(){return Qv},ZodParsedType:Te,getParsedType:wi,ZodType:at,datetimeRegex:mR,ZodString:ns,ZodNumber:Fa,ZodBigInt:Ha,ZodBoolean:Ad,ZodDate:qo,ZodSymbol:zm,ZodUndefined:Cd,ZodNull:Rd,ZodAny:xc,ZodUnknown:Do,ZodNever:Vi,ZodVoid:Fm,ZodArray:ss,ZodObject:tn,ZodUnion:Nd,ZodDiscriminatedUnion:Ap,ZodIntersection:Id,ZodTuple:$s,ZodRecord:kd,ZodMap:Hm,ZodSet:$o,ZodFunction:nc,ZodLazy:Dd,ZodLiteral:Od,ZodEnum:qa,ZodNativeEnum:jd,ZodPromise:wc,ZodEffects:us,ZodTransformer:us,ZodOptional:Bs,ZodNullable:$a,ZodDefault:Md,ZodCatch:Pd,ZodNaN:qm,BRAND:WU,ZodBranded:A_,ZodPipeline:af,ZodReadonly:Ld,custom:gR,Schema:at,ZodSchema:at,late:XU,get ZodFirstPartyTypeKind(){return Ke},coerce:O5,any:a5,array:u5,bigint:t5,boolean:_R,date:n5,discriminatedUnion:m5,effect:fS,enum:E5,function:b5,instanceof:JU,intersection:p5,lazy:x5,literal:w5,map:v5,nan:e5,nativeEnum:T5,never:l5,null:i5,nullable:C5,number:vR,object:d5,oboolean:D5,onumber:k5,optional:A5,ostring:I5,pipeline:N5,preprocess:R5,promise:S5,record:y5,set:_5,strictObject:f5,string:yR,symbol:r5,transformer:fS,tuple:g5,undefined:s5,union:h5,unknown:o5,void:c5,NEVER:j5,ZodIssueCode:ge,quotelessJson:CU,ZodError:Dr}),No={},nv={},hS;function mS(){return hS||(hS=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Allow=n.ALL=n.COLLECTION=n.ATOM=n.SPECIAL=n.INF=n._INFINITY=n.INFINITY=n.NAN=n.BOOL=n.NULL=n.OBJ=n.ARR=n.NUM=n.STR=void 0,n.STR=1,n.NUM=2,n.ARR=4,n.OBJ=8,n.NULL=16,n.BOOL=32,n.NAN=64,n.INFINITY=128,n._INFINITY=256,n.INF=n.INFINITY|n._INFINITY,n.SPECIAL=n.NULL|n.BOOL|n.INF|n.NAN,n.ATOM=n.STR|n.NUM|n.SPECIAL,n.COLLECTION=n.ARR|n.OBJ,n.ALL=n.ATOM|n.COLLECTION,n.Allow={STR:n.STR,NUM:n.NUM,ARR:n.ARR,OBJ:n.OBJ,NULL:n.NULL,BOOL:n.BOOL,NAN:n.NAN,INFINITY:n.INFINITY,_INFINITY:n._INFINITY,INF:n.INF,SPECIAL:n.SPECIAL,ATOM:n.ATOM,COLLECTION:n.COLLECTION,ALL:n.ALL},n.default=n.Allow}(nv)),nv}var pS;function M5(){return pS||(pS=1,function(n){var e=No&&No.__createBinding||(Object.create?function(p,v,b,_){_===void 0&&(_=b);var S=Object.getOwnPropertyDescriptor(v,b);(!S||("get"in S?!v.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return v[b]}}),Object.defineProperty(p,_,S)}:function(p,v,b,_){_===void 0&&(_=b),p[_]=v[b]}),t=No&&No.__exportStar||function(p,v){for(var b in p)b!=="default"&&!Object.prototype.hasOwnProperty.call(v,b)&&e(v,p,b)};Object.defineProperty(n,"__esModule",{value:!0}),n.Allow=n.MalformedJSON=n.PartialJSON=n.parseJSON=n.parse=void 0;const s=mS();Object.defineProperty(n,"Allow",{enumerable:!0,get:function(){return s.Allow}}),t(mS(),n);class a extends Error{}n.PartialJSON=a;class o extends Error{}n.MalformedJSON=o;function u(p,v=s.Allow.ALL){if(typeof p!="string")throw new TypeError(`expecting str, got ${typeof p}`);if(!p.trim())throw new Error(`${p} is empty`);return d(p.trim(),v)}n.parseJSON=u;const d=(p,v)=>{const b=p.length;let _=0;const S=H=>{throw new a(`${H} at position ${_}`)},C=H=>{throw new o(`${H} at position ${_}`)},R=()=>($(),_>=b&&S("Unexpected end of input"),p[_]==='"'?N():p[_]==="{"?j():p[_]==="["?U():p.substring(_,_+4)==="null"||s.Allow.NULL&v&&b-_<4&&"null".startsWith(p.substring(_))?(_+=4,null):p.substring(_,_+4)==="true"||s.Allow.BOOL&v&&b-_<4&&"true".startsWith(p.substring(_))?(_+=4,!0):p.substring(_,_+5)==="false"||s.Allow.BOOL&v&&b-_<5&&"false".startsWith(p.substring(_))?(_+=5,!1):p.substring(_,_+8)==="Infinity"||s.Allow.INFINITY&v&&b-_<8&&"Infinity".startsWith(p.substring(_))?(_+=8,1/0):p.substring(_,_+9)==="-Infinity"||s.Allow._INFINITY&v&&1<b-_&&b-_<9&&"-Infinity".startsWith(p.substring(_))?(_+=9,-1/0):p.substring(_,_+3)==="NaN"||s.Allow.NAN&v&&b-_<3&&"NaN".startsWith(p.substring(_))?(_+=3,NaN):V()),N=()=>{const H=_;let Q=!1;for(_++;_<b&&(p[_]!=='"'||Q&&p[_-1]==="\\");)Q=p[_]==="\\"?!Q:!1,_++;if(p.charAt(_)=='"')try{return JSON.parse(p.substring(H,++_-Number(Q)))}catch(I){C(String(I))}else if(s.Allow.STR&v)try{return JSON.parse(p.substring(H,_-Number(Q))+'"')}catch{return JSON.parse(p.substring(H,p.lastIndexOf("\\"))+'"')}S("Unterminated string literal")},j=()=>{_++,$();const H={};try{for(;p[_]!=="}";){if($(),_>=b&&s.Allow.OBJ&v)return H;const Q=N();$(),_++;try{const I=R();H[Q]=I}catch(I){if(s.Allow.OBJ&v)return H;throw I}$(),p[_]===","&&_++}}catch{if(s.Allow.OBJ&v)return H;S("Expected '}' at end of object")}return _++,H},U=()=>{_++;const H=[];try{for(;p[_]!=="]";)H.push(R()),$(),p[_]===","&&_++}catch{if(s.Allow.ARR&v)return H;S("Expected ']' at end of array")}return _++,H},V=()=>{if(_===0){p==="-"&&C("Not sure what '-' is");try{return JSON.parse(p)}catch(Q){if(s.Allow.NUM&v)try{return JSON.parse(p.substring(0,p.lastIndexOf("e")))}catch{}C(String(Q))}}const H=_;for(p[_]==="-"&&_++;p[_]&&",]}".indexOf(p[_])===-1;)_++;_==b&&!(s.Allow.NUM&v)&&S("Unterminated number literal");try{return JSON.parse(p.substring(H,_))}catch{p.substring(H,_)==="-"&&S("Not sure what '-' is");try{return JSON.parse(p.substring(H,p.lastIndexOf("e")))}catch(I){C(String(I))}}},$=()=>{for(;_<b&&` 
\r	`.includes(p[_]);)_++};return R()},m=u;n.parse=m}(No)),No}var gS=M5();const P5=es.object({id:es.union([es.string(),es.number()]).transform(n=>String(n)).optional(),Id:es.union([es.string(),es.number()]).transform(n=>String(n)).optional(),category:es.string().optional(),cat:es.string().optional()}).transform(n=>({id:n.id||n.Id||"",category:n.category||n.cat||""})),L5=es.object({transactions:es.array(P5)}),yS=n=>{try{let e=n.trim();e.startsWith("```json")?e=e.replace(/^```json\s*/,"").replace(/\s*```$/,""):e.startsWith("```")&&(e=e.replace(/^```\s*/,"").replace(/\s*```$/,""));const t=gS.parse(e,gS.Allow.ALL);return{success:!0,data:L5.parse(t)}}catch(e){return{success:!1,error:e.message}}},V5=async(n,e,t,s,a,o)=>{const p=`Please categorize the following transactions:

CSV Data:
${"Date,Description,Amount,Counterparty"+`
`+n.map(j=>`"${j.date.toISOString()}","${j.description}","${j.amount}","${j.counterparty||""}"`).join(`
`)}`,v={messages:[{content:e,role:"system"},{content:p,role:"user"}],model:"doubao-seed-1-6-flash-250615",stream:!0},b=await fetch("https://ark.cn-beijing.volces.com/api/v3/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(v),signal:o});if(!b.ok)throw new Error(`API request failed: ${b.status} ${b.statusText}`);const _=b.body.getReader(),S=new TextDecoder;let C="",R="";for(;;){const{done:j,value:U}=await _.read();if(j)break;C+=S.decode(U,{stream:!0});const V=C.split(`
`);C=V.pop();for(const $ of V)if($.startsWith("data: ")){const H=$.slice(6).trim();if(H==="[DONE]")continue;try{const Q=JSON.parse(H);if(Q.choices&&Q.choices[0]&&Q.choices[0].delta&&Q.choices[0].delta.content){const I=Q.choices[0].delta.content;R+=I,s(R);const A=yS(R);A.success&&a(A.data)}}catch(Q){console.warn("Failed to parse streaming data:",Q)}}}const N=yS(R);if(N.success)return N.data;throw new Error(`Failed to parse final response: ${N.error}`)},Qu=[{id:"alipay",name:"Alipay",icon:WS,sampleFields:["交易时间","交易分类","交易对方","商品说明","收/支","金额","支付方式","当前状态"],encoding:"GB2312",currency:"CNY"},{id:"wechat",name:"WeChat Pay",icon:JD,sampleFields:["交易时间","交易类型","交易对方","商品","收/支","金额(元)","支付方式","当前状态"],encoding:"UTF-8",currency:"CNY"},{id:"llm",name:"Generic (AI Powered)",icon:ZS,sampleFields:["Any CSV, TXT, or PDF file"],encoding:"Auto-detect",currency:"Auto-detect"}];function U5({debugModeEnabled:n}){var re,Ce,Re,Pe;const{currentUser:e}=rr(),{currentLedger:t,canEdit:s}=Ys(),[a,o]=w.useState(""),[u,d]=w.useState(null),[m,p]=w.useState(!1),[v,b]=w.useState(0),[_,S]=w.useState(null),[C,R]=w.useState([]),[N,j]=w.useState(""),[U,V]=w.useState(""),[$,H]=w.useState(!1),[Q,I]=w.useState(""),[A,M]=w.useState(""),[B,D]=w.useState([]),[L,P]=w.useState([]),[G,se]=w.useState(!1),[q,ee]=w.useState(""),[K,ye]=w.useState(!1),z=w.useRef(null),ae=async()=>{if(e)try{const he=Kt(He,"users",e.uid),Me=await gp(he);if(Me.exists()){const pe=Me.data();if(H(pe.smartCategorizationEnabled||!1),I(pe.llmApiKey||""),t&&C.length>0){const Ae=C.filter(rt=>rt.type==="expense"),Ee=C.filter(rt=>rt.type==="income"),St=`You are a financial-data assistant. I will provide you with a CSV file of transactions containing at least the following columns: Date, Description, Amount.  Response in JSON and say nothing else:

1. For each row, determine whether it is an **expense** or an **income**.   

2. Assign each transaction to one of the following **Expense** or **Income** categories (or to a special category if needed):

   **Expense Categories**  
   ${Ae.map(rt=>`- ${rt.name}`).join("\\n")||"- HTT: (Hard To Tell) if you can't unambiguously assign one of the above"}

   **Income Categories**  
   ${Ee.map(rt=>`- ${rt.name}`).join("\\n")||"- HTT"}

   Use merchant names, keywords in the description, or amount signs to guide your choice.  

3. Output a single JSON object with this exact structure:

{
  "transactions": [
    {
      "id": "<self-increment id>",
      "category": "<one of the given categories: ${[...Ae,...Ee].map(rt=>rt.name).join(", ")}, HTT>"
    }
  ]
}

4.  Optionally, "corrections" showing prior mis-classifications I've corrected may be provided to guide this categorization `;M(St)}}}catch(he){console.error("Error loading smart categorization settings:",he)}},me=async()=>{if(t)try{const he=Yt(He,"ledgers",t.id,"categories"),Me=await $n(he),pe=[];Me.forEach(Ae=>{pe.push({id:Ae.id,...Ae.data()})}),R(pe)}catch(he){console.error("Error fetching categories:",he)}},le=he=>{const Me=he.split(`
`);let pe=-1;for(let Ee=0;Ee<Me.length;Ee++){const St=Me[Ee].trim();if(St.includes("交易时间")&&(St.includes("交易分类")||St.includes("收/支"))){pe=Ee+1;break}}if(pe===-1){for(let Ee=0;Ee<Me.length;Ee++)if(Me[Ee].trim().match(/^\d{4}-\d{2}-\d{2}\s+\d{2}:\d{2}:\d{2}/)){pe=Ee;break}}pe===-1&&(pe=23);const Ae=[];for(let Ee=pe;Ee<Me.length;Ee++){const St=Me[Ee].trim();if(!St)continue;const rt=St.split(",").map(Or=>Or.replace(/^"|"$/g,"").trim());if(rt.length<6)continue;let Pt,At,Ue,qe,Lt,yt,wn,$t,Yn;if(rt.length>=12)[Pt,At,Ue,qe,Lt,yt,wn,$t,Yn]=rt;else if(rt.length>=8)[Pt,At,Ue,Lt,yt,wn,$t,Yn]=rt,qe="";else continue;if(!yt||yt!=="支出"&&yt!=="收入")continue;const fr=wn.toString().replace(/[^\d.-]/g,""),sr=parseFloat(fr);if(isNaN(sr))continue;const kn=C.find(Or=>Or.name.toLowerCase().includes(At.toLowerCase())||At.toLowerCase().includes(Or.name.toLowerCase())),_r=Ue?`Counterparty: ${Ue}`:"";Ae.push({id:Ee-pe+1,date:new Date(Pt),type:yt==="支出"?"expense":"income",amount:Math.abs(sr),description:Lt||"Unknown Transaction",notes:_r,counterparty:Ue||"",categoryId:kn?kn.id:null,categoryName:kn?kn.name:At,paymentMethod:$t||"Unknown",platform:"alipay",originalData:{category:At,counterparty:Ue,account:qe,status:Yn}})}return Ae},be=he=>{const Me=he.split(`
`);let pe=-1;for(let Ee=0;Ee<Me.length;Ee++){const St=Me[Ee].trim();if(St.includes("交易时间")&&(St.includes("交易类型")||St.includes("收/支"))){pe=Ee+1;break}}if(pe===-1){for(let Ee=0;Ee<Me.length;Ee++)if(Me[Ee].trim().match(/^\d{4}-\d{2}-\d{2}\s+\d{2}:\d{2}:\d{2}/)){pe=Ee;break}}pe===-1&&(pe=15);const Ae=[];for(let Ee=pe;Ee<Me.length;Ee++){const St=Me[Ee].trim();if(!St)continue;const rt=St.split(",").map(_r=>_r.replace(/^"|"$/g,"").trim());if(rt.length<6)continue;let Pt,At,Ue,qe,Lt,yt,wn,$t;if(rt.length>=11)[Pt,At,Ue,qe,Lt,yt,wn,$t]=rt;else if(rt.length>=8)[Pt,At,Ue,qe,Lt,yt,wn,$t]=rt;else continue;if(!Lt||Lt!=="支出"&&Lt!=="收入")continue;const Yn=yt.toString().replace(/[¥￥,\s]/g,"").replace(/[^\d.-]/g,""),fr=parseFloat(Yn);if(isNaN(fr))continue;const sr=C.find(_r=>_r.name.toLowerCase().includes(At.toLowerCase())||At.toLowerCase().includes(_r.name.toLowerCase())),kn=Ue?`Counterparty: ${Ue}`:"";Ae.push({id:Ee-pe+1,date:new Date(Pt),type:Lt==="支出"?"expense":"income",amount:Math.abs(fr),description:qe||"Unknown Transaction",notes:kn,counterparty:Ue||"",categoryId:sr?sr.id:null,categoryName:sr?sr.name:At,paymentMethod:wn||"Unknown",platform:"wechat",originalData:{transactionType:At,counterparty:Ue,status:$t}})}return Ae},Be=he=>{P(Me=>Me.map(pe=>{const Ae=he.transactions.find(Ee=>parseInt(Ee.id)===pe.id);if(Ae){const Ee=Ae.category||"HTT";return{...pe,llmCategory:Ee,llmProcessing:!1}}return pe}))},De=async he=>{var Me;try{ee("");const Ee=await V5(he,A,Q,rt=>{ee(rt)},rt=>{Be(rt)},(Me=z.current)==null?void 0:Me.signal);Be(Ee);const St=he.map(rt=>{const Pt=Ee.transactions.find(At=>parseInt(At.id)===rt.id);if(Pt){const At=Pt.category||"HTT",Ue=C.find(qe=>qe.name.toLowerCase()===At.toLowerCase());return{...rt,categoryId:Ue?Ue.id:null,categoryName:Ue?Ue.name:At,llmCategory:At,llmProcessing:!1}}return rt});P(St),ye(!0)}catch(pe){pe.name==="AbortError"?j("LLM categorization was cancelled."):(console.error("LLM categorization error:",pe),j(`LLM categorization failed: ${pe.message}`),await ve(he))}finally{se(!1),p(!1)}},ve=async he=>{if(!t||!s())return;const Me=Yt(He,"ledgers",t.id,"transactions");let pe=0,Ae=0;const Ee=vr(Me),St=await $n(Ee),rt=new Set;St.forEach(Ue=>{var yt,wn;const qe=Ue.data(),Lt=`${(wn=(yt=qe.date)==null?void 0:yt.toDate())==null?void 0:wn.toISOString()}-${qe.amount}-${qe.description}`;rt.add(Lt)});const Pt=500,At=[];for(let Ue=0;Ue<he.length;Ue+=Pt){const qe=Vv(He),Lt=he.slice(Ue,Ue+Pt);let yt=0,wn=0;for(const $t of Lt){const Yn=`${$t.date.toISOString()}-${$t.amount}-${$t.description}`;if(rt.has(Yn)){wn++;continue}const fr=Kt(Me);qe.set(fr,{date:Ht.fromDate($t.date),type:$t.type,amount:$t.amount,description:$t.description,notes:$t.notes||"",categoryId:$t.categoryId,categoryName:$t.categoryName,paymentMethod:$t.paymentMethod,includeInBudget:!0,platform:$t.platform,originalData:$t.originalData,createdAt:new Date,createdBy:e.uid,paidBy:e.uid}),yt++,rt.add(Yn)}yt>0?At.push({batch:qe,imported:yt,skipped:wn}):Ae+=wn}for(let Ue=0;Ue<At.length;Ue++)try{await At[Ue].batch.commit(),pe+=At[Ue].imported,Ae+=At[Ue].skipped;const qe=Math.round((Ue+1)/At.length*100);b(qe)}catch(qe){console.error("Error committing batch:",qe),Ae+=At[Ue].imported}S({imported:pe,skipped:Ae})},je=async he=>{const Me=he.target.files[0];if(Me){d(Me),p(!0),b(0),S(null),j(""),V(""),ye(!1),z.current=new AbortController;try{let pe=[];if(a==="alipay"){const Ae=await Me.arrayBuffer(),St=new TextDecoder("gb2312").decode(Ae);pe=le(St)}else if(a==="wechat"){const Ae=await Me.text();pe=be(Ae)}else if(a==="llm")throw new Error("LLM parsing not yet implemented.");if(pe.length===0)throw new Error("No valid transactions found in the file.");D(pe),P(pe.map(Ae=>({...Ae,llmCategory:null,llmProcessing:!0}))),$&&Q&&(a==="alipay"||a==="wechat")?(se(!0),await De(pe)):(await ve(pe),V(`Successfully imported ${(_==null?void 0:_.imported)||0} transactions!`),p(!1))}catch(pe){console.error("Import error:",pe),j(`Import error: ${pe.message}`),p(!1),se(!1)}}},ht=()=>{z.current&&(z.current.abort(),console.log("LLM processing cancelled."),se(!1),p(!1),j("LLM categorization cancelled by user."),ye(!1))},We=async()=>{p(!0),ye(!1),j(""),V("");try{await ve(L),V(`Successfully imported ${(_==null?void 0:_.imported)||0} transactions with AI categorization!`)}catch(he){console.error("Error confirming import:",he),j(`Import confirmation failed: ${he.message}`)}finally{p(!1)}},Xe=()=>{ye(!1),p(!1),P([]),D([]),d(null),j(""),V("Import cancelled.")},Je=(he,Me)=>{P(pe=>pe.map(Ae=>{var Ee;return Ae.id===he?{...Ae,categoryId:Me,categoryName:((Ee=C.find(St=>St.id===Me))==null?void 0:Ee.name)||"HTT"}:Ae}))};if(w.useEffect(()=>{me()},[t]),w.useEffect(()=>{C.length>0&&ae()},[e,t,C]),w.useEffect(()=>{if(U||N){const he=setTimeout(()=>{V(""),j("")},3e3);return()=>clearTimeout(he)}},[U,N]),!t)return h.jsx("div",{className:"p-6 text-center text-gray-500",children:"Please select a ledger to manage categories."});if(m)return h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:G?"Processing with Smart Categorization...":"Importing Transactions..."}),G&&h.jsxs(Ve,{variant:"outline",onClick:ht,className:"flex items-center space-x-2",children:[h.jsx(oE,{className:"h-4 w-4"}),h.jsx("span",{children:"Cancel"})]})]}),L.length>0&&h.jsxs(wt,{children:[h.jsxs(Nt,{children:[h.jsx(It,{children:"Imported Transactions"}),h.jsx(cn,{children:G?"AI is categorizing transactions...":"Processing transactions..."})]}),h.jsx(Et,{children:h.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:L.map((he,Me)=>h.jsxs("div",{className:"flex justify-between items-center p-2 border rounded",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"font-medium",children:he.description}),h.jsxs("div",{className:"text-sm text-gray-500",children:[he.date.toLocaleString()," • ",he.amount," CNY",he.counterparty&&` • ${he.counterparty}`]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx(Ir,{variant:he.type==="expense"?"destructive":"default",children:he.type}),G&&h.jsx("div",{className:"text-sm text-gray-500 mt-1",children:he.llmCategory||"Processing..."})]})]},Me))})})]}),G&&n&&q&&h.jsxs(wt,{children:[h.jsxs(Nt,{children:[h.jsx(It,{children:"AI Response Stream"}),h.jsx(cn,{children:"Real-time categorization response from AI"})]}),h.jsx(Et,{children:h.jsx("div",{className:"bg-gray-100 p-3 rounded text-sm font-mono max-h-40 overflow-y-auto",children:q})})]}),!G&&h.jsxs(h.Fragment,{children:[h.jsx(Zv,{value:v,className:"w-full"}),h.jsxs("p",{className:"text-center text-gray-600",children:[v,"% Complete"]})]})]});if(K){const he=C.filter(pe=>pe.type==="expense"),Me=C.filter(pe=>pe.type==="income");return h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Review Categorization"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsxs(Ve,{variant:"outline",onClick:Xe,className:"flex items-center space-x-2",children:[h.jsx(oE,{className:"h-4 w-4"}),h.jsx("span",{children:"Cancel"})]}),h.jsxs(Ve,{onClick:We,className:"flex items-center space-x-2",children:[h.jsx(Zl,{className:"h-4 w-4"}),h.jsx("span",{children:"Confirm Import"})]})]})]}),N&&h.jsxs(Wt,{variant:"destructive",children:[h.jsx(cm,{className:"h-4 w-4"}),h.jsx(Xt,{children:N})]}),h.jsxs(wt,{children:[h.jsxs(Nt,{children:[h.jsx(It,{children:"Categorized Transactions"}),h.jsx(cn,{children:"Review and adjust the AI-suggested categories."})]}),h.jsx(Et,{children:h.jsx("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:L.map((pe,Ae)=>h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center p-3 border rounded-lg shadow-sm",children:[h.jsxs("div",{className:"flex-1 mb-2 md:mb-0",children:[h.jsx("div",{className:"font-medium text-lg",children:pe.description}),h.jsxs("div",{className:"text-sm text-gray-600",children:[pe.date.toLocaleString()," • ",pe.amount," CNY",pe.counterparty&&` • ${pe.counterparty}`]}),h.jsx(Ir,{variant:pe.type==="expense"?"destructive":"default",className:"mt-1",children:pe.type})]}),h.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center space-y-2 md:space-y-0 md:space-x-4",children:[h.jsxs("div",{className:"text-sm text-gray-700",children:["AI Suggestion: ",h.jsx("span",{className:"font-semibold",children:pe.llmCategory||"N/A"})]}),h.jsxs(Is,{value:pe.categoryId||"",onValueChange:Ee=>Je(pe.id,Ee),children:[h.jsx(Ds,{className:"w-[180px]",children:h.jsx(ks,{placeholder:"Select Category"})}),h.jsxs(Os,{children:[h.jsx(Nn,{value:"",children:"Uncategorized"}),pe.type==="expense"&&he.map(Ee=>h.jsx(Nn,{value:Ee.id,children:Ee.name},Ee.id)),pe.type==="income"&&Me.map(Ee=>h.jsx(Nn,{value:Ee.id,children:Ee.name},Ee.id))]})]})]})]},Ae))})})]}),n&&q&&h.jsxs(wt,{children:[h.jsxs(Nt,{children:[h.jsx(It,{children:"AI Response Stream (Debug)"}),h.jsx(cn,{children:"Raw streaming response from AI during categorization."})]}),h.jsx(Et,{children:h.jsx("div",{className:"bg-gray-100 p-3 rounded text-sm font-mono max-h-40 overflow-y-auto",children:q})})]})]})}return _?h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Import Complete!"}),h.jsxs(Wt,{variant:"default",children:[h.jsx(Zl,{className:"h-4 w-4"}),h.jsxs(Xt,{children:["Successfully imported ",_.imported," transactions.",_.skipped>0&&` ${_.skipped} transactions skipped (duplicates or errors).`]})]}),h.jsx(Ve,{onClick:()=>S(null),children:"Import More"})]}):h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Import Transactions"}),N&&h.jsxs(Wt,{variant:"destructive",children:[h.jsx(cm,{className:"h-4 w-4"}),h.jsx(Xt,{children:N})]}),U&&h.jsxs(Wt,{children:[h.jsx(Zl,{className:"h-4 w-4"}),h.jsx(Xt,{children:U})]}),$&&h.jsxs(Wt,{children:[h.jsx(ZS,{className:"h-4 w-4"}),h.jsx(Xt,{children:"Smart Categorization is enabled. Transactions will be automatically categorized using AI."})]}),h.jsxs(wt,{children:[h.jsxs(Nt,{children:[h.jsx(It,{children:"Select Import Platform"}),h.jsx(cn,{children:"Choose the platform you want to import transactions from."})]}),h.jsx(Et,{children:h.jsxs(Is,{value:a,onValueChange:o,children:[h.jsx(Ds,{className:"w-[240px]",children:h.jsx(ks,{placeholder:"Select a platform"})}),h.jsx(Os,{children:Qu.map(he=>h.jsx(Nn,{value:he.id,children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(he.icon,{className:"h-4 w-4"}),h.jsx("span",{children:he.name})]})},he.id))})]})})]}),a&&h.jsxs(wt,{children:[h.jsxs(Nt,{children:[h.jsxs(It,{children:["Upload ",(re=Qu.find(he=>he.id===a))==null?void 0:re.name," File"]}),h.jsxs(cn,{children:["Upload your exported ",(Ce=Qu.find(he=>he.id===a))==null?void 0:Ce.name," CSV file. Ensure it's the correct format."]})]}),h.jsxs(Et,{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs(nt,{htmlFor:"file-upload",className:"cursor-pointer bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600",children:[h.jsx(e1,{className:"h-4 w-4 inline-block mr-2"})," Choose File"]}),h.jsx(rn,{id:"file-upload",type:"file",className:"hidden",onChange:je,accept:".csv,.txt"}),u&&h.jsx(Ir,{variant:"secondary",children:u.name})]}),h.jsxs("div",{className:"text-sm text-gray-500",children:[h.jsxs("p",{children:["Expected fields for ",(Re=Qu.find(he=>he.id===a))==null?void 0:Re.name,":"]}),h.jsx("ol",{className:"list-decimal list-inside",children:(Pe=Qu.find(he=>he.id===a))==null?void 0:Pe.sampleFields.map((he,Me)=>h.jsx("li",{children:he},Me))})]})]})]})]})}function B5({isMobileMenuOpen:n,setIsMobileMenuOpen:e}){const t=Ui(),{currentUser:s,logout:a}=rr(),o=[{path:"/",label:"Dashboard",icon:zD},{path:"/transactions",label:"Transactions",icon:WS},{path:"/budgets",label:"Budgets",icon:ED},{path:"/categories",label:"Categories",icon:JS},{path:"/ledgers",label:"Ledgers",icon:lm},{path:"/splits",label:"Expense Splits",icon:r1},{path:"/import",label:"Import",icon:e1},{path:"/settings",label:"Settings",icon:OD}],u=async()=>{try{await a()}catch(d){console.error("Failed to log out:",d)}};return h.jsxs(h.Fragment,{children:[h.jsx("nav",{className:"hidden md:flex bg-white border-b border-gray-200 px-6 py-4",children:h.jsxs("div",{className:"flex items-center justify-between w-full",children:[h.jsxs("div",{className:"flex items-center space-x-8",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(sc,{className:"h-8 w-8 text-blue-600"}),h.jsx("span",{className:"text-xl font-bold text-gray-900",children:"ExpenseTracker"})]}),h.jsx("div",{className:"flex space-x-6",children:o.map(d=>{const m=d.icon,p=t.pathname===d.path;return h.jsxs(rc,{to:d.path,className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${p?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[h.jsx(m,{className:"h-4 w-4"}),h.jsx("span",{children:d.label})]},d.path)})})]}),s&&h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("span",{className:"text-sm text-gray-600",children:["Welcome, ",s.displayName||s.email]}),h.jsxs(Ve,{variant:"ghost",size:"sm",onClick:u,className:"flex items-center space-x-2",children:[h.jsx(lE,{className:"h-4 w-4"}),h.jsx("span",{children:"Logout"})]})]})]})}),h.jsxs("nav",{className:"md:hidden bg-white border-b border-gray-200",children:[h.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(sc,{className:"h-6 w-6 text-blue-600"}),h.jsx("span",{className:"text-lg font-bold text-gray-900",children:"ExpenseTracker"})]}),h.jsx(Ve,{variant:"ghost",size:"sm",onClick:()=>e(!n),children:n?h.jsx(lc,{className:"h-6 w-6"}):h.jsx($D,{className:"h-6 w-6"})})]}),n&&h.jsxs("div",{className:"border-t border-gray-200 px-4 py-4 space-y-2",children:[o.map(d=>{const m=d.icon,p=t.pathname===d.path;return h.jsxs(rc,{to:d.path,onClick:()=>e(!1),className:`flex items-center space-x-3 px-3 py-2 rounded-md text-sm font-medium transition-colors ${p?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[h.jsx(m,{className:"h-4 w-4"}),h.jsx("span",{children:d.label})]},d.path)}),s&&h.jsxs(Ve,{variant:"ghost",size:"sm",onClick:u,className:"flex items-center space-x-3 px-3 py-2 w-full justify-start",children:[h.jsx(lE,{className:"h-4 w-4"}),h.jsx("span",{children:"Logout"})]})]})]})]})}function z5(){return h.jsx(tU,{})}function F5(){return h.jsx(uU,{})}function H5(){return h.jsx(pU,{})}function q5(){return h.jsxs("div",{className:"p-6",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Expense Splits"}),h.jsxs(wt,{children:[h.jsxs(Nt,{children:[h.jsx(It,{children:"Split Expenses"}),h.jsx(cn,{children:"Share expenses with friends and track balances"})]}),h.jsx(Et,{children:h.jsx("p",{className:"text-gray-600",children:"Expense splitting interface will be implemented here."})})]})]})}function $5({debugModeEnabled:n}){return h.jsx(U5,{debugModeEnabled:n})}function G5({smartCategorizationEnabled:n,setSmartCategorizationEnabled:e,debugModeEnabled:t,setDebugModeEnabled:s}){return h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),h.jsx(_U,{}),h.jsx(AU,{smartCategorizationEnabled:n,setSmartCategorizationEnabled:e,debugModeEnabled:t,setDebugModeEnabled:s}),h.jsxs(wt,{children:[h.jsxs(Nt,{children:[h.jsx(It,{children:"Application Preferences"}),h.jsx(cn,{children:"Additional application settings will be available here"})]}),h.jsx(Et,{children:h.jsx("p",{className:"text-gray-600",children:"More settings options coming soon..."})})]})]})}function Y5(){const[n,e]=w.useState(!1),{currentUser:t}=rr(),[s,a]=w.useState(!1),[o,u]=w.useState(!1);return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t&&h.jsx(B5,{isMobileMenuOpen:n,setIsMobileMenuOpen:e}),h.jsx("main",{className:t?"max-w-7xl mx-auto":"",children:h.jsxs(qI,{children:[h.jsx(Xr,{path:"/login",element:t?h.jsx(sv,{to:"/"}):h.jsx(I8,{})}),h.jsx(Xr,{path:"/signup",element:t?h.jsx(sv,{to:"/"}):h.jsx(k8,{})}),h.jsx(Xr,{path:"/",element:h.jsx(_a,{children:h.jsx(F8,{})})}),h.jsx(Xr,{path:"/transactions",element:h.jsx(_a,{children:h.jsx(z5,{})})}),h.jsx(Xr,{path:"/budgets",element:h.jsx(_a,{children:h.jsx(F5,{})})}),h.jsx(Xr,{path:"/categories",element:h.jsx(_a,{children:h.jsx(H5,{})})}),h.jsx(Xr,{path:"/ledgers",element:h.jsx(_a,{children:h.jsx(vU,{})})}),h.jsx(Xr,{path:"/splits",element:h.jsx(_a,{children:h.jsx(q5,{})})}),h.jsx(Xr,{path:"/import",element:h.jsx(_a,{children:h.jsx($5,{debugModeEnabled:s})})}),h.jsx(Xr,{path:"/settings",element:h.jsx(_a,{children:h.jsx(G5,{smartCategorizationEnabled:o,setSmartCategorizationEnabled:u,debugModeEnabled:s,setDebugModeEnabled:a})})})]})})]})}function K5(){return h.jsx(mk,{children:h.jsx(E8,{children:h.jsx(T8,{children:h.jsx(Y5,{})})})})}JN.createRoot(document.getElementById("root")).render(h.jsx(w.StrictMode,{children:h.jsx(K5,{})}));
