function eR(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function Fw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var dg={exports:{}},nc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function tR(){if(gE)return nc;gE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return nc.Fragment=e,nc.jsx=t,nc.jsxs=t,nc}var yE;function nR(){return yE||(yE=1,dg.exports=tR()),dg.exports}var p=nR(),fg={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function rR(){if(vE)return Ge;vE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=b&&B[b]||B["@@iterator"],typeof B=="function"?B:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,A={};function N(B,J,ce){this.props=B,this.context=J,this.refs=A,this.updater=ce||C}N.prototype.isReactComponent={},N.prototype.setState=function(B,J){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,J,"setState")},N.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function V(){}V.prototype=N.prototype;function U(B,J,ce){this.props=B,this.context=J,this.refs=A,this.updater=ce||C}var z=U.prototype=new V;z.constructor=U,R(z,N.prototype),z.isPureReactComponent=!0;var G=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},re=Object.prototype.hasOwnProperty;function k(B,J,ce,oe,me,Ee){return ce=Ee.ref,{$$typeof:n,type:B,key:J,ref:ce!==void 0?ce:null,props:Ee}}function S(B,J){return k(B.type,J,void 0,void 0,void 0,B.props)}function M(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function L(B){var J={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ce){return J[ce]})}var D=/\/+/g;function P(B,J){return typeof B=="object"&&B!==null&&B.key!=null?L(""+B.key):J.toString(36)}function j(){}function q(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(j,j):(B.status="pending",B.then(function(J){B.status==="pending"&&(B.status="fulfilled",B.value=J)},function(J){B.status==="pending"&&(B.status="rejected",B.reason=J)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function te(B,J,ce,oe,me){var Ee=typeof B;(Ee==="undefined"||Ee==="boolean")&&(B=null);var ve=!1;if(B===null)ve=!0;else switch(Ee){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(B.$$typeof){case n:case e:ve=!0;break;case v:return ve=B._init,te(ve(B._payload),J,ce,oe,me)}}if(ve)return me=me(B),ve=oe===""?"."+P(B,0):oe,G(me)?(ce="",ve!=null&&(ce=ve.replace(D,"$&/")+"/"),te(me,J,ce,"",function(qe){return qe})):me!=null&&(M(me)&&(me=S(me,ce+(me.key==null||B&&B.key===me.key?"":(""+me.key).replace(D,"$&/")+"/")+ve)),J.push(me)),1;ve=0;var ge=oe===""?".":oe+":";if(G(B))for(var xe=0;xe<B.length;xe++)oe=B[xe],Ee=ge+P(oe,xe),ve+=te(oe,J,ce,Ee,me);else if(xe=E(B),typeof xe=="function")for(B=xe.call(B),xe=0;!(oe=B.next()).done;)oe=oe.value,Ee=ge+P(oe,xe++),ve+=te(oe,J,ce,Ee,me);else if(Ee==="object"){if(typeof B.then=="function")return te(q(B),J,ce,oe,me);throw J=String(B),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return ve}function F(B,J,ce){if(B==null)return B;var oe=[],me=0;return te(B,oe,"","",function(Ee){return J.call(ce,Ee,me++)}),oe}function W(B){if(B._status===-1){var J=B._result;J=J(),J.then(function(ce){(B._status===0||B._status===-1)&&(B._status=1,B._result=ce)},function(ce){(B._status===0||B._status===-1)&&(B._status=2,B._result=ce)}),B._status===-1&&(B._status=0,B._result=J)}if(B._status===1)return B._result.default;throw B._result}var Y=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function pe(){}return Ge.Children={map:F,forEach:function(B,J,ce){F(B,function(){J.apply(this,arguments)},ce)},count:function(B){var J=0;return F(B,function(){J++}),J},toArray:function(B){return F(B,function(J){return J})||[]},only:function(B){if(!M(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ge.Component=N,Ge.Fragment=t,Ge.Profiler=a,Ge.PureComponent=U,Ge.StrictMode=i,Ge.Suspense=m,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(B){return $.H.useMemoCache(B)}},Ge.cache=function(B){return function(){return B.apply(null,arguments)}},Ge.cloneElement=function(B,J,ce){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var oe=R({},B.props),me=B.key,Ee=void 0;if(J!=null)for(ve in J.ref!==void 0&&(Ee=void 0),J.key!==void 0&&(me=""+J.key),J)!re.call(J,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&J.ref===void 0||(oe[ve]=J[ve]);var ve=arguments.length-2;if(ve===1)oe.children=ce;else if(1<ve){for(var ge=Array(ve),xe=0;xe<ve;xe++)ge[xe]=arguments[xe+2];oe.children=ge}return k(B.type,me,void 0,void 0,Ee,oe)},Ge.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},Ge.createElement=function(B,J,ce){var oe,me={},Ee=null;if(J!=null)for(oe in J.key!==void 0&&(Ee=""+J.key),J)re.call(J,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(me[oe]=J[oe]);var ve=arguments.length-2;if(ve===1)me.children=ce;else if(1<ve){for(var ge=Array(ve),xe=0;xe<ve;xe++)ge[xe]=arguments[xe+2];me.children=ge}if(B&&B.defaultProps)for(oe in ve=B.defaultProps,ve)me[oe]===void 0&&(me[oe]=ve[oe]);return k(B,Ee,void 0,void 0,null,me)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(B){return{$$typeof:f,render:B}},Ge.isValidElement=M,Ge.lazy=function(B){return{$$typeof:v,_payload:{_status:-1,_result:B},_init:W}},Ge.memo=function(B,J){return{$$typeof:g,type:B,compare:J===void 0?null:J}},Ge.startTransition=function(B){var J=$.T,ce={};$.T=ce;try{var oe=B(),me=$.S;me!==null&&me(ce,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(pe,Y)}catch(Ee){Y(Ee)}finally{$.T=J}},Ge.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Ge.use=function(B){return $.H.use(B)},Ge.useActionState=function(B,J,ce){return $.H.useActionState(B,J,ce)},Ge.useCallback=function(B,J){return $.H.useCallback(B,J)},Ge.useContext=function(B){return $.H.useContext(B)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(B,J){return $.H.useDeferredValue(B,J)},Ge.useEffect=function(B,J,ce){var oe=$.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(B,J)},Ge.useId=function(){return $.H.useId()},Ge.useImperativeHandle=function(B,J,ce){return $.H.useImperativeHandle(B,J,ce)},Ge.useInsertionEffect=function(B,J){return $.H.useInsertionEffect(B,J)},Ge.useLayoutEffect=function(B,J){return $.H.useLayoutEffect(B,J)},Ge.useMemo=function(B,J){return $.H.useMemo(B,J)},Ge.useOptimistic=function(B,J){return $.H.useOptimistic(B,J)},Ge.useReducer=function(B,J,ce){return $.H.useReducer(B,J,ce)},Ge.useRef=function(B){return $.H.useRef(B)},Ge.useState=function(B){return $.H.useState(B)},Ge.useSyncExternalStore=function(B,J,ce){return $.H.useSyncExternalStore(B,J,ce)},Ge.useTransition=function(){return $.H.useTransition()},Ge.version="19.1.0",Ge}var _E;function Py(){return _E||(_E=1,fg.exports=rR()),fg.exports}var w=Py();const Fs=Fw(w),Hw=eR({__proto__:null,default:Fs},[w]);var hg={exports:{}},rc={},mg={exports:{}},pg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE;function iR(){return bE||(bE=1,function(n){function e(F,W){var Y=F.length;F.push(W);e:for(;0<Y;){var pe=Y-1>>>1,B=F[pe];if(0<a(B,W))F[pe]=W,F[Y]=B,Y=pe;else break e}}function t(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var W=F[0],Y=F.pop();if(Y!==W){F[0]=Y;e:for(var pe=0,B=F.length,J=B>>>1;pe<J;){var ce=2*(pe+1)-1,oe=F[ce],me=ce+1,Ee=F[me];if(0>a(oe,Y))me<B&&0>a(Ee,oe)?(F[pe]=Ee,F[me]=Y,pe=me):(F[pe]=oe,F[ce]=Y,pe=ce);else if(me<B&&0>a(Ee,Y))F[pe]=Ee,F[me]=Y,pe=me;else break e}}return W}function a(F,W){var Y=F.sortIndex-W.sortIndex;return Y!==0?Y:F.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var m=[],g=[],v=1,b=null,E=3,C=!1,R=!1,A=!1,N=!1,V=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function G(F){for(var W=t(g);W!==null;){if(W.callback===null)i(g);else if(W.startTime<=F)i(g),W.sortIndex=W.expirationTime,e(m,W);else break;W=t(g)}}function $(F){if(A=!1,G(F),!R)if(t(m)!==null)R=!0,re||(re=!0,P());else{var W=t(g);W!==null&&te($,W.startTime-F)}}var re=!1,k=-1,S=5,M=-1;function L(){return N?!0:!(n.unstable_now()-M<S)}function D(){if(N=!1,re){var F=n.unstable_now();M=F;var W=!0;try{e:{R=!1,A&&(A=!1,U(k),k=-1),C=!0;var Y=E;try{t:{for(G(F),b=t(m);b!==null&&!(b.expirationTime>F&&L());){var pe=b.callback;if(typeof pe=="function"){b.callback=null,E=b.priorityLevel;var B=pe(b.expirationTime<=F);if(F=n.unstable_now(),typeof B=="function"){b.callback=B,G(F),W=!0;break t}b===t(m)&&i(m),G(F)}else i(m);b=t(m)}if(b!==null)W=!0;else{var J=t(g);J!==null&&te($,J.startTime-F),W=!1}}break e}finally{b=null,E=Y,C=!1}W=void 0}}finally{W?P():re=!1}}}var P;if(typeof z=="function")P=function(){z(D)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,q=j.port2;j.port1.onmessage=D,P=function(){q.postMessage(null)}}else P=function(){V(D,0)};function te(F,W){k=V(function(){F(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(F){switch(E){case 1:case 2:case 3:var W=3;break;default:W=E}var Y=E;E=W;try{return F()}finally{E=Y}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Y=E;E=F;try{return W()}finally{E=Y}},n.unstable_scheduleCallback=function(F,W,Y){var pe=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?pe+Y:pe):Y=pe,F){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Y+B,F={id:v++,callback:W,priorityLevel:F,startTime:Y,expirationTime:B,sortIndex:-1},Y>pe?(F.sortIndex=Y,e(g,F),t(m)===null&&F===t(g)&&(A?(U(k),k=-1):A=!0,te($,Y-pe))):(F.sortIndex=B,e(m,F),R||C||(R=!0,re||(re=!0,P()))),F},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(F){var W=E;return function(){var Y=E;E=W;try{return F.apply(this,arguments)}finally{E=Y}}}}(pg)),pg}var EE;function sR(){return EE||(EE=1,mg.exports=iR()),mg.exports}var gg={exports:{}},Cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function aR(){if(xE)return Cn;xE=1;var n=Py();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Cn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},Cn.flushSync=function(m){var g=c.T,v=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=g,i.p=v,i.d.f()}},Cn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},Cn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Cn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,b=f(v,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:C}):v==="script"&&i.d.X(m,{crossOrigin:b,integrity:E,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Cn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=f(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},Cn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=f(v,g.crossOrigin);i.d.L(m,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Cn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=f(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},Cn.requestFormReset=function(m){i.d.r(m)},Cn.unstable_batchedUpdates=function(m,g){return m(g)},Cn.useFormState=function(m,g,v){return c.H.useFormState(m,g,v)},Cn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Cn.version="19.1.0",Cn}var wE;function qw(){if(wE)return gg.exports;wE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gg.exports=aR(),gg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function oR(){if(TE)return rc;TE=1;var n=sR(),e=Py(),t=qw();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(l(r)!==r)throw Error(i(188))}function m(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var h=o.return;if(h===null)break;var y=h.alternate;if(y===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===y.child){for(y=h.child;y;){if(y===o)return f(h),r;if(y===u)return f(h),s;y=y.sibling}throw Error(i(188))}if(o.return!==u.return)o=h,u=y;else{for(var T=!1,I=h.child;I;){if(I===o){T=!0,o=h,u=y;break}if(I===u){T=!0,u=h,o=y;break}I=I.sibling}if(!T){for(I=y.child;I;){if(I===o){T=!0,o=y,u=h;break}if(I===u){T=!0,u=y,o=h;break}I=I.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),z=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function P(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}var j=Symbol.for("react.client.reference");function q(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===j?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case N:return"Profiler";case A:return"StrictMode";case $:return"Suspense";case re:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case z:return(r.displayName||"Context")+".Provider";case U:return(r._context.displayName||"Context")+".Consumer";case G:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case k:return s=r.displayName||null,s!==null?s:q(r.type)||"Memo";case S:s=r._payload,r=r._init;try{return q(r(s))}catch{}}return null}var te=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},pe=[],B=-1;function J(r){return{current:r}}function ce(r){0>B||(r.current=pe[B],pe[B]=null,B--)}function oe(r,s){B++,pe[B]=r.current,r.current=s}var me=J(null),Ee=J(null),ve=J(null),ge=J(null);function xe(r,s){switch(oe(ve,s),oe(Ee,r),oe(me,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?qb(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=qb(s),r=Gb(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ce(me),oe(me,r)}function qe(){ce(me),ce(Ee),ce(ve)}function ke(r){r.memoizedState!==null&&oe(ge,r);var s=me.current,o=Gb(s,r.type);s!==o&&(oe(Ee,r),oe(me,o))}function Oe(r){Ee.current===r&&(ce(me),ce(Ee)),ge.current===r&&(ce(ge),Xu._currentValue=Y)}var Le=Object.prototype.hasOwnProperty,se=n.unstable_scheduleCallback,Ae=n.unstable_cancelCallback,Ce=n.unstable_shouldYield,Ie=n.unstable_requestPaint,Fe=n.unstable_now,pn=n.unstable_getCurrentPriorityLevel,lt=n.unstable_ImmediatePriority,at=n.unstable_UserBlockingPriority,Hn=n.unstable_NormalPriority,fo=n.unstable_LowPriority,cs=n.unstable_IdlePriority,qn=n.log,nd=n.unstable_setDisableYieldValue,Mt=null,ft=null;function Xn(r){if(typeof qn=="function"&&nd(r),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(Mt,r)}catch{}}var Sn=Math.clz32?Math.clz32:pa,rd=Math.log,hm=Math.LN2;function pa(r){return r>>>=0,r===0?32:31-(rd(r)/hm|0)|0}var ga=256,ya=4194304;function xr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ho(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var h=0,y=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var I=u&134217727;return I!==0?(u=I&~y,u!==0?h=xr(u):(T&=I,T!==0?h=xr(T):o||(o=I&~r,o!==0&&(h=xr(o))))):(I=u&~y,I!==0?h=xr(I):T!==0?h=xr(T):o||(o=u&~r,o!==0&&(h=xr(o)))),h===0?0:s!==0&&s!==h&&(s&y)===0&&(y=h&-h,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:h}function va(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Xl(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zl(){var r=ga;return ga<<=1,(ga&4194048)===0&&(ga=256),r}function Jl(){var r=ya;return ya<<=1,(ya&62914560)===0&&(ya=4194304),r}function hi(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function mi(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function eu(r,s,o,u,h,y){var T=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var I=r.entanglements,H=r.expirationTimes,ee=r.hiddenUpdates;for(o=T&~o;0<o;){var le=31-Sn(o),fe=1<<le;I[le]=0,H[le]=-1;var ne=ee[le];if(ne!==null)for(ee[le]=null,le=0;le<ne.length;le++){var ie=ne[le];ie!==null&&(ie.lane&=-536870913)}o&=~fe}u!==0&&Lr(r,u,0),y!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=y&~(T&~s))}function Lr(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-Sn(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function tu(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-Sn(o),h=1<<u;h&s|r[u]&s&&(r[u]|=s),o&=~h}}function ds(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function mo(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function fs(){var r=W.p;return r!==0?r:(r=window.event,r===void 0?32:cE(r.type))}function id(r,s){var o=W.p;try{return W.p=r,s()}finally{W.p=o}}var It=Math.random().toString(36).slice(2),Jt="__reactFiber$"+It,$t="__reactProps$"+It,ur="__reactContainer$"+It,nu="__reactEvents$"+It,mm="__reactListeners$"+It,hs="__reactHandles$"+It,sd="__reactResources$"+It,_a="__reactMarker$"+It;function ms(r){delete r[Jt],delete r[$t],delete r[nu],delete r[mm],delete r[hs]}function pi(r){var s=r[Jt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[ur]||o[Jt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=Qb(r);r!==null;){if(o=r[Jt])return o;r=Qb(r)}return s}r=o,o=r.parentNode}return null}function Ur(r){if(r=r[Jt]||r[ur]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Br(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Pn(r){var s=r[sd];return s||(s=r[sd]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Bt(r){r[_a]=!0}var ru=new Set,po={};function wr(r,s){gi(r,s),gi(r+"Capture",s)}function gi(r,s){for(po[r]=s,r=0;r<s.length;r++)ru.add(s[r])}var ad=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),od={},ba={};function ld(r){return Le.call(ba,r)?!0:Le.call(od,r)?!1:ad.test(r)?ba[r]=!0:(od[r]=!0,!1)}function ps(r,s,o){if(ld(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function zr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function gn(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var Ea,ud;function yi(r){if(Ea===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ea=s&&s[1]||"",ud=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ea+r+ud}var go=!1;function yo(r,s){if(!r||go)return"";go=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ie){var ne=ie}Reflect.construct(r,[],fe)}else{try{fe.call()}catch(ie){ne=ie}r.call(fe.prototype)}}else{try{throw Error()}catch(ie){ne=ie}(fe=r())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ie){if(ie&&ne&&typeof ie.stack=="string")return[ie.stack,ne.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),T=y[0],I=y[1];if(T&&I){var H=T.split(`
`),ee=I.split(`
`);for(h=u=0;u<H.length&&!H[u].includes("DetermineComponentFrameRoot");)u++;for(;h<ee.length&&!ee[h].includes("DetermineComponentFrameRoot");)h++;if(u===H.length||h===ee.length)for(u=H.length-1,h=ee.length-1;1<=u&&0<=h&&H[u]!==ee[h];)h--;for(;1<=u&&0<=h;u--,h--)if(H[u]!==ee[h]){if(u!==1||h!==1)do if(u--,h--,0>h||H[u]!==ee[h]){var le=`
`+H[u].replace(" at new "," at ");return r.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",r.displayName)),le}while(1<=u&&0<=h);break}}}finally{go=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?yi(o):""}function iu(r){switch(r.tag){case 26:case 27:case 5:return yi(r.type);case 16:return yi("Lazy");case 13:return yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return yo(r.type,!1);case 11:return yo(r.type.render,!1);case 1:return yo(r.type,!0);case 31:return yi("Activity");default:return""}}function vo(r){try{var s="";do s+=iu(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Vn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function su(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function pm(r){var s=su(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,y=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(T){u=""+T,y.call(this,T)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function _o(r){r._valueTracker||(r._valueTracker=pm(r))}function au(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=su(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function xa(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var gm=/[\n"\\]/g;function Yt(r){return r.replace(gm,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Zn(r,s,o,u,h,y,T,I){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Vn(s)):r.value!==""+Vn(s)&&(r.value=""+Vn(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?gs(r,T,Vn(s)):o!=null?gs(r,T,Vn(o)):u!=null&&r.removeAttribute("value"),h==null&&y!=null&&(r.defaultChecked=!!y),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.name=""+Vn(I):r.removeAttribute("name")}function wa(r,s,o,u,h,y,T,I){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;o=o!=null?""+Vn(o):"",s=s!=null?""+Vn(s):o,I||s===r.value||(r.value=s),r.defaultValue=s}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=I?r.checked:!!u,r.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function gs(r,s,o){s==="number"&&xa(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function vi(r,s,o,u){if(r=r.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=s.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&u&&(r[o].defaultSelected=!0)}else{for(o=""+Vn(o),s=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function pt(r,s,o){if(s!=null&&(s=""+Vn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Vn(o):""}function Ta(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(te(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Vn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function cr(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Sa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cd(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||Sa.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function ou(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in s)u=s[h],s.hasOwnProperty(h)&&o[h]!==u&&cd(r,h,u)}else for(var y in s)s.hasOwnProperty(y)&&cd(r,y,s[y])}function lu(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ym=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bo(r){return vm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var _i=null;function dr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var bi=null,Ei=null;function uu(r){var s=Ur(r);if(s&&(r=s.stateNode)){var o=r[$t]||null;e:switch(r=s.stateNode,s.type){case"input":if(Zn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Yt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var h=u[$t]||null;if(!h)throw Error(i(90));Zn(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&au(u)}break e;case"textarea":pt(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&vi(r,!!o.multiple,s,!1)}}}var Fr=!1;function dd(r,s,o){if(Fr)return r(s,o);Fr=!0;try{var u=r(s);return u}finally{if(Fr=!1,(bi!==null||Ei!==null)&&(sf(),bi&&(s=bi,r=Ei,Ei=bi=null,uu(s),r)))for(s=0;s<r.length;s++)uu(r[s])}}function Aa(r,s){var o=r.stateNode;if(o===null)return null;var u=o[$t]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fr=!1;if(Tr)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){fr=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{fr=!1}var Hr=null,ys=null,xi=null;function cu(){if(xi)return xi;var r,s=ys,o=s.length,u,h="value"in Hr?Hr.value:Hr.textContent,y=h.length;for(r=0;r<o&&s[r]===h[r];r++);var T=o-r;for(u=1;u<=T&&s[o-u]===h[y-u];u++);return xi=h.slice(r,1<u?1-u:void 0)}function qr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Gr(){return!0}function du(){return!1}function un(r){function s(o,u,h,y,T){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(o=r[I],this[I]=o?o(y):y[I]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Gr:du,this.isPropagationStopped=du,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Gr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Gr)},persist:function(){},isPersistent:Gr}),s}var ct={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eo=un(ct),Ra=v({},ct,{view:0,detail:0}),fd=un(Ra),xo,wo,$r,Ia=v({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ka,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==$r&&($r&&r.type==="mousemove"?(xo=r.screenX-$r.screenX,wo=r.screenY-$r.screenY):wo=xo=0,$r=r),xo)},movementY:function(r){return"movementY"in r?r.movementY:wo}}),hr=un(Ia),hd=v({},Ia,{dataTransfer:0}),_m=un(hd),Na=v({},Ra,{relatedTarget:0}),To=un(Na),fu=v({},ct,{animationName:0,elapsedTime:0,pseudoElement:0}),So=un(fu),md=v({},ct,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ao=un(md),bm=v({},ct,{data:0}),hu=un(bm),Da={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=gd[r])?!!s[r]:!1}function ka(){return mu}var yd=v({},Ra,{key:function(r){if(r.key){var s=Da[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=qr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?pd[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ka,charCode:function(r){return r.type==="keypress"?qr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?qr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Co=un(yd),vd=v({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pu=un(vd),wi=v({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ka}),_d=un(wi),bd=v({},ct,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ed=un(bd),xd=v({},Ia,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ro=un(xd),Ln=v({},ct,{newState:0,oldState:0}),wd=un(Ln),Td=[9,13,27,32],Yr=Tr&&"CompositionEvent"in window,d=null;Tr&&"documentMode"in document&&(d=document.documentMode);var _=Tr&&"TextEvent"in window&&!d,x=Tr&&(!Yr||d&&8<d&&11>=d),O=" ",X=!1;function ae(r,s){switch(r){case"keyup":return Td.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ye(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var nt=!1;function en(r,s){switch(r){case"compositionend":return ye(s);case"keypress":return s.which!==32?null:(X=!0,O);case"textInput":return r=s.data,r===O&&X?null:r;default:return null}}function rt(r,s){if(nt)return r==="compositionend"||!Yr&&ae(r,s)?(r=cu(),xi=ys=Hr=null,nt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return x&&s.locale!=="ko"?null:s.data;default:return null}}var cn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tn(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!cn[r.type]:s==="textarea"}function Ti(r,s,o,u){bi?Ei?Ei.push(u):Ei=[u]:bi=u,s=df(s,"onChange"),0<s.length&&(o=new Eo("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var yn=null,Kr=null;function gu(r){Ub(r,0)}function Sd(r){var s=Br(r);if(au(s))return r}function a0(r,s){if(r==="change")return s}var o0=!1;if(Tr){var Em;if(Tr){var xm="oninput"in document;if(!xm){var l0=document.createElement("div");l0.setAttribute("oninput","return;"),xm=typeof l0.oninput=="function"}Em=xm}else Em=!1;o0=Em&&(!document.documentMode||9<document.documentMode)}function u0(){yn&&(yn.detachEvent("onpropertychange",c0),Kr=yn=null)}function c0(r){if(r.propertyName==="value"&&Sd(Kr)){var s=[];Ti(s,Kr,r,dr(r)),dd(gu,s)}}function N2(r,s,o){r==="focusin"?(u0(),yn=s,Kr=o,yn.attachEvent("onpropertychange",c0)):r==="focusout"&&u0()}function D2(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Sd(Kr)}function k2(r,s){if(r==="click")return Sd(s)}function O2(r,s){if(r==="input"||r==="change")return Sd(s)}function M2(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Jn=typeof Object.is=="function"?Object.is:M2;function yu(r,s){if(Jn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!Le.call(s,h)||!Jn(r[h],s[h]))return!1}return!0}function d0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function f0(r,s){var o=d0(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=d0(o)}}function h0(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?h0(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function m0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=xa(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=xa(r.document)}return s}function wm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var j2=Tr&&"documentMode"in document&&11>=document.documentMode,Io=null,Tm=null,vu=null,Sm=!1;function p0(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Sm||Io==null||Io!==xa(u)||(u=Io,"selectionStart"in u&&wm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),vu&&yu(vu,u)||(vu=u,u=df(Tm,"onSelect"),0<u.length&&(s=new Eo("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=Io)))}function Oa(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var No={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionrun:Oa("Transition","TransitionRun"),transitionstart:Oa("Transition","TransitionStart"),transitioncancel:Oa("Transition","TransitionCancel"),transitionend:Oa("Transition","TransitionEnd")},Am={},g0={};Tr&&(g0=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function Ma(r){if(Am[r])return Am[r];if(!No[r])return r;var s=No[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in g0)return Am[r]=s[o];return r}var y0=Ma("animationend"),v0=Ma("animationiteration"),_0=Ma("animationstart"),P2=Ma("transitionrun"),V2=Ma("transitionstart"),L2=Ma("transitioncancel"),b0=Ma("transitionend"),E0=new Map,Cm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cm.push("scrollEnd");function Sr(r,s){E0.set(r,s),wr(s,[r])}var x0=new WeakMap;function mr(r,s){if(typeof r=="object"&&r!==null){var o=x0.get(r);return o!==void 0?o:(s={value:r,source:s,stack:vo(s)},x0.set(r,s),s)}return{value:r,source:s,stack:vo(s)}}var pr=[],Do=0,Rm=0;function Ad(){for(var r=Do,s=Rm=Do=0;s<r;){var o=pr[s];pr[s++]=null;var u=pr[s];pr[s++]=null;var h=pr[s];pr[s++]=null;var y=pr[s];if(pr[s++]=null,u!==null&&h!==null){var T=u.pending;T===null?h.next=h:(h.next=T.next,T.next=h),u.pending=h}y!==0&&w0(o,h,y)}}function Cd(r,s,o,u){pr[Do++]=r,pr[Do++]=s,pr[Do++]=o,pr[Do++]=u,Rm|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Im(r,s,o,u){return Cd(r,s,o,u),Rd(r)}function ko(r,s){return Cd(r,null,null,s),Rd(r)}function w0(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var h=!1,y=r.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(h=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,h&&s!==null&&(h=31-Sn(o),r=y.hiddenUpdates,u=r[h],u===null?r[h]=[s]:u.push(s),s.lane=o|536870912),y):null}function Rd(r){if(50<Hu)throw Hu=0,jp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Oo={};function U2(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(r,s,o,u){return new U2(r,s,o,u)}function Nm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Si(r,s){var o=r.alternate;return o===null?(o=er(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function T0(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Id(r,s,o,u,h,y){var T=0;if(u=r,typeof r=="function")Nm(r)&&(T=1);else if(typeof r=="string")T=zC(r,o,me.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case M:return r=er(31,o,s,h),r.elementType=M,r.lanes=y,r;case R:return ja(o.children,h,y,s);case A:T=8,h|=24;break;case N:return r=er(12,o,s,h|2),r.elementType=N,r.lanes=y,r;case $:return r=er(13,o,s,h),r.elementType=$,r.lanes=y,r;case re:return r=er(19,o,s,h),r.elementType=re,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case V:case z:T=10;break e;case U:T=9;break e;case G:T=11;break e;case k:T=14;break e;case S:T=16,u=null;break e}T=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=er(T,o,s,h),s.elementType=r,s.type=u,s.lanes=y,s}function ja(r,s,o,u){return r=er(7,r,u,s),r.lanes=o,r}function Dm(r,s,o){return r=er(6,r,null,s),r.lanes=o,r}function km(r,s,o){return s=er(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Mo=[],jo=0,Nd=null,Dd=0,gr=[],yr=0,Pa=null,Ai=1,Ci="";function Va(r,s){Mo[jo++]=Dd,Mo[jo++]=Nd,Nd=r,Dd=s}function S0(r,s,o){gr[yr++]=Ai,gr[yr++]=Ci,gr[yr++]=Pa,Pa=r;var u=Ai;r=Ci;var h=32-Sn(u)-1;u&=~(1<<h),o+=1;var y=32-Sn(s)+h;if(30<y){var T=h-h%5;y=(u&(1<<T)-1).toString(32),u>>=T,h-=T,Ai=1<<32-Sn(s)+h|o<<h|u,Ci=y+r}else Ai=1<<y|o<<h|u,Ci=r}function Om(r){r.return!==null&&(Va(r,1),S0(r,1,0))}function Mm(r){for(;r===Nd;)Nd=Mo[--jo],Mo[jo]=null,Dd=Mo[--jo],Mo[jo]=null;for(;r===Pa;)Pa=gr[--yr],gr[yr]=null,Ci=gr[--yr],gr[yr]=null,Ai=gr[--yr],gr[yr]=null}var Un=null,jt=null,ut=!1,La=null,Qr=!1,jm=Error(i(519));function Ua(r){var s=Error(i(418,""));throw Eu(mr(s,r)),jm}function A0(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Jt]=r,s[$t]=u,o){case"dialog":Ze("cancel",s),Ze("close",s);break;case"iframe":case"object":case"embed":Ze("load",s);break;case"video":case"audio":for(o=0;o<Gu.length;o++)Ze(Gu[o],s);break;case"source":Ze("error",s);break;case"img":case"image":case"link":Ze("error",s),Ze("load",s);break;case"details":Ze("toggle",s);break;case"input":Ze("invalid",s),wa(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),_o(s);break;case"select":Ze("invalid",s);break;case"textarea":Ze("invalid",s),Ta(s,u.value,u.defaultValue,u.children),_o(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||Hb(s.textContent,o)?(u.popover!=null&&(Ze("beforetoggle",s),Ze("toggle",s)),u.onScroll!=null&&Ze("scroll",s),u.onScrollEnd!=null&&Ze("scrollend",s),u.onClick!=null&&(s.onclick=ff),s=!0):s=!1,s||Ua(r)}function C0(r){for(Un=r.return;Un;)switch(Un.tag){case 5:case 13:Qr=!1;return;case 27:case 3:Qr=!0;return;default:Un=Un.return}}function _u(r){if(r!==Un)return!1;if(!ut)return C0(r),ut=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Xp(r.type,r.memoizedProps)),o=!o),o&&jt&&Ua(r),C0(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){jt=Cr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}jt=null}}else s===27?(s=jt,Os(r.type)?(r=tg,tg=null,jt=r):jt=s):jt=Un?Cr(r.stateNode.nextSibling):null;return!0}function bu(){jt=Un=null,ut=!1}function R0(){var r=La;return r!==null&&(Yn===null?Yn=r:Yn.push.apply(Yn,r),La=null),r}function Eu(r){La===null?La=[r]:La.push(r)}var Pm=J(null),Ba=null,Ri=null;function vs(r,s,o){oe(Pm,s._currentValue),s._currentValue=o}function Ii(r){r._currentValue=Pm.current,ce(Pm)}function Vm(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function Lm(r,s,o,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var y=h.dependencies;if(y!==null){var T=h.child;y=y.firstContext;e:for(;y!==null;){var I=y;y=h;for(var H=0;H<s.length;H++)if(I.context===s[H]){y.lanes|=o,I=y.alternate,I!==null&&(I.lanes|=o),Vm(y.return,o,r),u||(T=null);break e}y=I.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(i(341));T.lanes|=o,y=T.alternate,y!==null&&(y.lanes|=o),Vm(T,o,r),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===r){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function xu(r,s,o,u){r=null;for(var h=s,y=!1;h!==null;){if(!y){if((h.flags&524288)!==0)y=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var I=h.type;Jn(h.pendingProps.value,T.value)||(r!==null?r.push(I):r=[I])}}else if(h===ge.current){if(T=h.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(Xu):r=[Xu])}h=h.return}r!==null&&Lm(s,r,o,u),s.flags|=262144}function kd(r){for(r=r.firstContext;r!==null;){if(!Jn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function za(r){Ba=r,Ri=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function An(r){return I0(Ba,r)}function Od(r,s){return Ba===null&&za(r),I0(r,s)}function I0(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ri===null){if(r===null)throw Error(i(308));Ri=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ri=Ri.next=s;return o}var B2=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},z2=n.unstable_scheduleCallback,F2=n.unstable_NormalPriority,nn={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Um(){return{controller:new B2,data:new Map,refCount:0}}function wu(r){r.refCount--,r.refCount===0&&z2(F2,function(){r.controller.abort()})}var Tu=null,Bm=0,Po=0,Vo=null;function H2(r,s){if(Tu===null){var o=Tu=[];Bm=0,Po=Fp(),Vo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Bm++,s.then(N0,N0),s}function N0(){if(--Bm===0&&Tu!==null){Vo!==null&&(Vo.status="fulfilled");var r=Tu;Tu=null,Po=0,Vo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function q2(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var h=0;h<o.length;h++)(0,o[h])(s)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var D0=F.S;F.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&H2(r,s),D0!==null&&D0(r,s)};var Fa=J(null);function zm(){var r=Fa.current;return r!==null?r:Tt.pooledCache}function Md(r,s){s===null?oe(Fa,Fa.current):oe(Fa,s.pool)}function k0(){var r=zm();return r===null?null:{parent:nn._currentValue,pool:r}}var Su=Error(i(460)),O0=Error(i(474)),jd=Error(i(542)),Fm={then:function(){}};function M0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Pd(){}function j0(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Pd,Pd),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,V0(r),r;default:if(typeof s.status=="string")s.then(Pd,Pd);else{if(r=Tt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=u}},function(u){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,V0(r),r}throw Au=s,Su}}var Au=null;function P0(){if(Au===null)throw Error(i(459));var r=Au;return Au=null,r}function V0(r){if(r===Su||r===jd)throw Error(i(483))}var _s=!1;function Hm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function bs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Es(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(ht&2)!==0){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,s=Rd(r),w0(r,null,o),s}return Cd(r,u,s,o),Rd(r)}function Cu(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,tu(r,o)}}function Gm(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?h=y=T:y=y.next=T,o=o.next}while(o!==null);y===null?h=y=s:y=y.next=s}else h=y=s;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var $m=!1;function Ru(){if($m){var r=Vo;if(r!==null)throw r}}function Iu(r,s,o,u){$m=!1;var h=r.updateQueue;_s=!1;var y=h.firstBaseUpdate,T=h.lastBaseUpdate,I=h.shared.pending;if(I!==null){h.shared.pending=null;var H=I,ee=H.next;H.next=null,T===null?y=ee:T.next=ee,T=H;var le=r.alternate;le!==null&&(le=le.updateQueue,I=le.lastBaseUpdate,I!==T&&(I===null?le.firstBaseUpdate=ee:I.next=ee,le.lastBaseUpdate=H))}if(y!==null){var fe=h.baseState;T=0,le=ee=H=null,I=y;do{var ne=I.lane&-536870913,ie=ne!==I.lane;if(ie?(it&ne)===ne:(u&ne)===ne){ne!==0&&ne===Po&&($m=!0),le!==null&&(le=le.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Ue=r,Me=I;ne=s;var vt=o;switch(Me.tag){case 1:if(Ue=Me.payload,typeof Ue=="function"){fe=Ue.call(vt,fe,ne);break e}fe=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Me.payload,ne=typeof Ue=="function"?Ue.call(vt,fe,ne):Ue,ne==null)break e;fe=v({},fe,ne);break e;case 2:_s=!0}}ne=I.callback,ne!==null&&(r.flags|=64,ie&&(r.flags|=8192),ie=h.callbacks,ie===null?h.callbacks=[ne]:ie.push(ne))}else ie={lane:ne,tag:I.tag,payload:I.payload,callback:I.callback,next:null},le===null?(ee=le=ie,H=fe):le=le.next=ie,T|=ne;if(I=I.next,I===null){if(I=h.shared.pending,I===null)break;ie=I,I=ie.next,ie.next=null,h.lastBaseUpdate=ie,h.shared.pending=null}}while(!0);le===null&&(H=fe),h.baseState=H,h.firstBaseUpdate=ee,h.lastBaseUpdate=le,y===null&&(h.shared.lanes=0),Is|=T,r.lanes=T,r.memoizedState=fe}}function L0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function U0(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)L0(o[r],s)}var Lo=J(null),Vd=J(0);function B0(r,s){r=Pi,oe(Vd,r),oe(Lo,s),Pi=r|s.baseLanes}function Ym(){oe(Vd,Pi),oe(Lo,Lo.current)}function Km(){Pi=Vd.current,ce(Lo),ce(Vd)}var xs=0,$e=null,gt=null,Kt=null,Ld=!1,Uo=!1,Ha=!1,Ud=0,Nu=0,Bo=null,G2=0;function zt(){throw Error(i(321))}function Qm(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Jn(r[o],s[o]))return!1;return!0}function Wm(r,s,o,u,h,y){return xs=y,$e=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,F.H=r===null||r.memoizedState===null?w_:T_,Ha=!1,y=o(u,h),Ha=!1,Uo&&(y=F0(s,o,u,h)),z0(r),y}function z0(r){F.H=Gd;var s=gt!==null&&gt.next!==null;if(xs=0,Kt=gt=$e=null,Ld=!1,Nu=0,Bo=null,s)throw Error(i(300));r===null||dn||(r=r.dependencies,r!==null&&kd(r)&&(dn=!0))}function F0(r,s,o,u){$e=r;var h=0;do{if(Uo&&(Bo=null),Nu=0,Uo=!1,25<=h)throw Error(i(301));if(h+=1,Kt=gt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}F.H=Z2,y=s(o,u)}while(Uo);return y}function $2(){var r=F.H,s=r.useState()[0];return s=typeof s.then=="function"?Du(s):s,r=r.useState()[0],(gt!==null?gt.memoizedState:null)!==r&&($e.flags|=1024),s}function Xm(){var r=Ud!==0;return Ud=0,r}function Zm(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Jm(r){if(Ld){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ld=!1}xs=0,Kt=gt=$e=null,Uo=!1,Nu=Ud=0,Bo=null}function Gn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?$e.memoizedState=Kt=r:Kt=Kt.next=r,Kt}function Qt(){if(gt===null){var r=$e.alternate;r=r!==null?r.memoizedState:null}else r=gt.next;var s=Kt===null?$e.memoizedState:Kt.next;if(s!==null)Kt=s,gt=r;else{if(r===null)throw $e.alternate===null?Error(i(467)):Error(i(310));gt=r,r={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Kt===null?$e.memoizedState=Kt=r:Kt=Kt.next=r}return Kt}function ep(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Du(r){var s=Nu;return Nu+=1,Bo===null&&(Bo=[]),r=j0(Bo,r,s),s=$e,(Kt===null?s.memoizedState:Kt.next)===null&&(s=s.alternate,F.H=s===null||s.memoizedState===null?w_:T_),r}function Bd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Du(r);if(r.$$typeof===z)return An(r)}throw Error(i(438,String(r)))}function tp(r){var s=null,o=$e.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=$e.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=ep(),$e.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=L;return s.index++,o}function Ni(r,s){return typeof s=="function"?s(r):s}function zd(r){var s=Qt();return np(s,gt,r)}function np(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var h=r.baseQueue,y=u.pending;if(y!==null){if(h!==null){var T=h.next;h.next=y.next,y.next=T}s.baseQueue=h=y,u.pending=null}if(y=r.baseState,h===null)r.memoizedState=y;else{s=h.next;var I=T=null,H=null,ee=s,le=!1;do{var fe=ee.lane&-536870913;if(fe!==ee.lane?(it&fe)===fe:(xs&fe)===fe){var ne=ee.revertLane;if(ne===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),fe===Po&&(le=!0);else if((xs&ne)===ne){ee=ee.next,ne===Po&&(le=!0);continue}else fe={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(I=H=fe,T=y):H=H.next=fe,$e.lanes|=ne,Is|=ne;fe=ee.action,Ha&&o(y,fe),y=ee.hasEagerState?ee.eagerState:o(y,fe)}else ne={lane:fe,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(I=H=ne,T=y):H=H.next=ne,$e.lanes|=fe,Is|=fe;ee=ee.next}while(ee!==null&&ee!==s);if(H===null?T=y:H.next=I,!Jn(y,r.memoizedState)&&(dn=!0,le&&(o=Vo,o!==null)))throw o;r.memoizedState=y,r.baseState=T,r.baseQueue=H,u.lastRenderedState=y}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function rp(r){var s=Qt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,h=o.pending,y=s.memoizedState;if(h!==null){o.pending=null;var T=h=h.next;do y=r(y,T.action),T=T.next;while(T!==h);Jn(y,s.memoizedState)||(dn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,u]}function H0(r,s,o){var u=$e,h=Qt(),y=ut;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=s();var T=!Jn((gt||h).memoizedState,o);T&&(h.memoizedState=o,dn=!0),h=h.queue;var I=$0.bind(null,u,h,r);if(ku(2048,8,I,[r]),h.getSnapshot!==s||T||Kt!==null&&Kt.memoizedState.tag&1){if(u.flags|=2048,zo(9,Fd(),G0.bind(null,u,h,o,s),null),Tt===null)throw Error(i(349));y||(xs&124)!==0||q0(u,s,o)}return o}function q0(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=$e.updateQueue,s===null?(s=ep(),$e.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function G0(r,s,o,u){s.value=o,s.getSnapshot=u,Y0(s)&&K0(r)}function $0(r,s,o){return o(function(){Y0(s)&&K0(r)})}function Y0(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Jn(r,o)}catch{return!0}}function K0(r){var s=ko(r,2);s!==null&&sr(s,r,2)}function ip(r){var s=Gn();if(typeof r=="function"){var o=r;if(r=o(),Ha){Xn(!0);try{o()}finally{Xn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:r},s}function Q0(r,s,o,u){return r.baseState=o,np(r,gt,typeof u=="function"?u:Ni)}function Y2(r,s,o,u,h){if(qd(r))throw Error(i(485));if(r=s.action,r!==null){var y={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};F.T!==null?o(!0):y.isTransition=!1,u(y),o=s.pending,o===null?(y.next=s.pending=y,W0(s,y)):(y.next=o.next,s.pending=o.next=y)}}function W0(r,s){var o=s.action,u=s.payload,h=r.state;if(s.isTransition){var y=F.T,T={};F.T=T;try{var I=o(h,u),H=F.S;H!==null&&H(T,I),X0(r,s,I)}catch(ee){sp(r,s,ee)}finally{F.T=y}}else try{y=o(h,u),X0(r,s,y)}catch(ee){sp(r,s,ee)}}function X0(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Z0(r,s,u)},function(u){return sp(r,s,u)}):Z0(r,s,o)}function Z0(r,s,o){s.status="fulfilled",s.value=o,J0(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,W0(r,o)))}function sp(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,J0(s),s=s.next;while(s!==u)}r.action=null}function J0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function e_(r,s){return s}function t_(r,s){if(ut){var o=Tt.formState;if(o!==null){e:{var u=$e;if(ut){if(jt){t:{for(var h=jt,y=Qr;h.nodeType!==8;){if(!y){h=null;break t}if(h=Cr(h.nextSibling),h===null){h=null;break t}}y=h.data,h=y==="F!"||y==="F"?h:null}if(h){jt=Cr(h.nextSibling),u=h.data==="F!";break e}}Ua(u)}u=!1}u&&(s=o[0])}}return o=Gn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e_,lastRenderedState:s},o.queue=u,o=b_.bind(null,$e,u),u.dispatch=o,u=ip(!1),y=cp.bind(null,$e,!1,u.queue),u=Gn(),h={state:s,dispatch:null,action:r,pending:null},u.queue=h,o=Y2.bind(null,$e,h,y,o),h.dispatch=o,u.memoizedState=r,[s,o,!1]}function n_(r){var s=Qt();return r_(s,gt,r)}function r_(r,s,o){if(s=np(r,s,e_)[0],r=zd(Ni)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Du(s)}catch(T){throw T===Su?jd:T}else u=s;s=Qt();var h=s.queue,y=h.dispatch;return o!==s.memoizedState&&($e.flags|=2048,zo(9,Fd(),K2.bind(null,h,o),null)),[u,y,r]}function K2(r,s){r.action=s}function i_(r){var s=Qt(),o=gt;if(o!==null)return r_(s,o,r);Qt(),s=s.memoizedState,o=Qt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function zo(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=$e.updateQueue,s===null&&(s=ep(),$e.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function Fd(){return{destroy:void 0,resource:void 0}}function s_(){return Qt().memoizedState}function Hd(r,s,o,u){var h=Gn();u=u===void 0?null:u,$e.flags|=r,h.memoizedState=zo(1|s,Fd(),o,u)}function ku(r,s,o,u){var h=Qt();u=u===void 0?null:u;var y=h.memoizedState.inst;gt!==null&&u!==null&&Qm(u,gt.memoizedState.deps)?h.memoizedState=zo(s,y,o,u):($e.flags|=r,h.memoizedState=zo(1|s,y,o,u))}function a_(r,s){Hd(8390656,8,r,s)}function o_(r,s){ku(2048,8,r,s)}function l_(r,s){return ku(4,2,r,s)}function u_(r,s){return ku(4,4,r,s)}function c_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function d_(r,s,o){o=o!=null?o.concat([r]):null,ku(4,4,c_.bind(null,s,r),o)}function ap(){}function f_(r,s){var o=Qt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Qm(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function h_(r,s){var o=Qt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Qm(s,u[1]))return u[0];if(u=r(),Ha){Xn(!0);try{r()}finally{Xn(!1)}}return o.memoizedState=[u,s],u}function op(r,s,o){return o===void 0||(xs&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=gb(),$e.lanes|=r,Is|=r,o)}function m_(r,s,o,u){return Jn(o,s)?o:Lo.current!==null?(r=op(r,o,u),Jn(r,s)||(dn=!0),r):(xs&42)===0?(dn=!0,r.memoizedState=o):(r=gb(),$e.lanes|=r,Is|=r,s)}function p_(r,s,o,u,h){var y=W.p;W.p=y!==0&&8>y?y:8;var T=F.T,I={};F.T=I,cp(r,!1,s,o);try{var H=h(),ee=F.S;if(ee!==null&&ee(I,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var le=q2(H,u);Ou(r,s,le,ir(r))}else Ou(r,s,u,ir(r))}catch(fe){Ou(r,s,{then:function(){},status:"rejected",reason:fe},ir())}finally{W.p=y,F.T=T}}function Q2(){}function lp(r,s,o,u){if(r.tag!==5)throw Error(i(476));var h=g_(r).queue;p_(r,h,s,Y,o===null?Q2:function(){return y_(r),o(u)})}function g_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:Y},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function y_(r){var s=g_(r).next.queue;Ou(r,s,{},ir())}function up(){return An(Xu)}function v_(){return Qt().memoizedState}function __(){return Qt().memoizedState}function W2(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=ir();r=bs(o);var u=Es(s,r,o);u!==null&&(sr(u,s,o),Cu(u,s,o)),s={cache:Um()},r.payload=s;return}s=s.return}}function X2(r,s,o){var u=ir();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},qd(r)?E_(s,o):(o=Im(r,s,o,u),o!==null&&(sr(o,r,u),x_(o,s,u)))}function b_(r,s,o){var u=ir();Ou(r,s,o,u)}function Ou(r,s,o,u){var h={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(qd(r))E_(s,h);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var T=s.lastRenderedState,I=y(T,o);if(h.hasEagerState=!0,h.eagerState=I,Jn(I,T))return Cd(r,s,h,0),Tt===null&&Ad(),!1}catch{}finally{}if(o=Im(r,s,h,u),o!==null)return sr(o,r,u),x_(o,s,u),!0}return!1}function cp(r,s,o,u){if(u={lane:2,revertLane:Fp(),action:u,hasEagerState:!1,eagerState:null,next:null},qd(r)){if(s)throw Error(i(479))}else s=Im(r,o,u,2),s!==null&&sr(s,r,2)}function qd(r){var s=r.alternate;return r===$e||s!==null&&s===$e}function E_(r,s){Uo=Ld=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function x_(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,tu(r,o)}}var Gd={readContext:An,use:Bd,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt},w_={readContext:An,use:Bd,useCallback:function(r,s){return Gn().memoizedState=[r,s===void 0?null:s],r},useContext:An,useEffect:a_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Hd(4194308,4,c_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Hd(4194308,4,r,s)},useInsertionEffect:function(r,s){Hd(4,2,r,s)},useMemo:function(r,s){var o=Gn();s=s===void 0?null:s;var u=r();if(Ha){Xn(!0);try{r()}finally{Xn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=Gn();if(o!==void 0){var h=o(s);if(Ha){Xn(!0);try{o(s)}finally{Xn(!1)}}}else h=s;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=X2.bind(null,$e,r),[u.memoizedState,r]},useRef:function(r){var s=Gn();return r={current:r},s.memoizedState=r},useState:function(r){r=ip(r);var s=r.queue,o=b_.bind(null,$e,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:ap,useDeferredValue:function(r,s){var o=Gn();return op(o,r,s)},useTransition:function(){var r=ip(!1);return r=p_.bind(null,$e,r.queue,!0,!1),Gn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=$e,h=Gn();if(ut){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),Tt===null)throw Error(i(349));(it&124)!==0||q0(u,s,o)}h.memoizedState=o;var y={value:o,getSnapshot:s};return h.queue=y,a_($0.bind(null,u,y,r),[r]),u.flags|=2048,zo(9,Fd(),G0.bind(null,u,y,o,s),null),o},useId:function(){var r=Gn(),s=Tt.identifierPrefix;if(ut){var o=Ci,u=Ai;o=(u&~(1<<32-Sn(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=Ud++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=G2++,s="«"+s+"r"+o.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:up,useFormState:t_,useActionState:t_,useOptimistic:function(r){var s=Gn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=cp.bind(null,$e,!0,o),o.dispatch=s,[r,s]},useMemoCache:tp,useCacheRefresh:function(){return Gn().memoizedState=W2.bind(null,$e)}},T_={readContext:An,use:Bd,useCallback:f_,useContext:An,useEffect:o_,useImperativeHandle:d_,useInsertionEffect:l_,useLayoutEffect:u_,useMemo:h_,useReducer:zd,useRef:s_,useState:function(){return zd(Ni)},useDebugValue:ap,useDeferredValue:function(r,s){var o=Qt();return m_(o,gt.memoizedState,r,s)},useTransition:function(){var r=zd(Ni)[0],s=Qt().memoizedState;return[typeof r=="boolean"?r:Du(r),s]},useSyncExternalStore:H0,useId:v_,useHostTransitionStatus:up,useFormState:n_,useActionState:n_,useOptimistic:function(r,s){var o=Qt();return Q0(o,gt,r,s)},useMemoCache:tp,useCacheRefresh:__},Z2={readContext:An,use:Bd,useCallback:f_,useContext:An,useEffect:o_,useImperativeHandle:d_,useInsertionEffect:l_,useLayoutEffect:u_,useMemo:h_,useReducer:rp,useRef:s_,useState:function(){return rp(Ni)},useDebugValue:ap,useDeferredValue:function(r,s){var o=Qt();return gt===null?op(o,r,s):m_(o,gt.memoizedState,r,s)},useTransition:function(){var r=rp(Ni)[0],s=Qt().memoizedState;return[typeof r=="boolean"?r:Du(r),s]},useSyncExternalStore:H0,useId:v_,useHostTransitionStatus:up,useFormState:i_,useActionState:i_,useOptimistic:function(r,s){var o=Qt();return gt!==null?Q0(o,gt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:tp,useCacheRefresh:__},Fo=null,Mu=0;function $d(r){var s=Mu;return Mu+=1,Fo===null&&(Fo=[]),j0(Fo,r,s)}function ju(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Yd(r,s){throw s.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function S_(r){var s=r._init;return s(r._payload)}function A_(r){function s(Q,K){if(r){var Z=Q.deletions;Z===null?(Q.deletions=[K],Q.flags|=16):Z.push(K)}}function o(Q,K){if(!r)return null;for(;K!==null;)s(Q,K),K=K.sibling;return null}function u(Q){for(var K=new Map;Q!==null;)Q.key!==null?K.set(Q.key,Q):K.set(Q.index,Q),Q=Q.sibling;return K}function h(Q,K){return Q=Si(Q,K),Q.index=0,Q.sibling=null,Q}function y(Q,K,Z){return Q.index=Z,r?(Z=Q.alternate,Z!==null?(Z=Z.index,Z<K?(Q.flags|=67108866,K):Z):(Q.flags|=67108866,K)):(Q.flags|=1048576,K)}function T(Q){return r&&Q.alternate===null&&(Q.flags|=67108866),Q}function I(Q,K,Z,ue){return K===null||K.tag!==6?(K=Dm(Z,Q.mode,ue),K.return=Q,K):(K=h(K,Z),K.return=Q,K)}function H(Q,K,Z,ue){var we=Z.type;return we===R?le(Q,K,Z.props.children,ue,Z.key):K!==null&&(K.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===S&&S_(we)===K.type)?(K=h(K,Z.props),ju(K,Z),K.return=Q,K):(K=Id(Z.type,Z.key,Z.props,null,Q.mode,ue),ju(K,Z),K.return=Q,K)}function ee(Q,K,Z,ue){return K===null||K.tag!==4||K.stateNode.containerInfo!==Z.containerInfo||K.stateNode.implementation!==Z.implementation?(K=km(Z,Q.mode,ue),K.return=Q,K):(K=h(K,Z.children||[]),K.return=Q,K)}function le(Q,K,Z,ue,we){return K===null||K.tag!==7?(K=ja(Z,Q.mode,ue,we),K.return=Q,K):(K=h(K,Z),K.return=Q,K)}function fe(Q,K,Z){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Dm(""+K,Q.mode,Z),K.return=Q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case E:return Z=Id(K.type,K.key,K.props,null,Q.mode,Z),ju(Z,K),Z.return=Q,Z;case C:return K=km(K,Q.mode,Z),K.return=Q,K;case S:var ue=K._init;return K=ue(K._payload),fe(Q,K,Z)}if(te(K)||P(K))return K=ja(K,Q.mode,Z,null),K.return=Q,K;if(typeof K.then=="function")return fe(Q,$d(K),Z);if(K.$$typeof===z)return fe(Q,Od(Q,K),Z);Yd(Q,K)}return null}function ne(Q,K,Z,ue){var we=K!==null?K.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return we!==null?null:I(Q,K,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case E:return Z.key===we?H(Q,K,Z,ue):null;case C:return Z.key===we?ee(Q,K,Z,ue):null;case S:return we=Z._init,Z=we(Z._payload),ne(Q,K,Z,ue)}if(te(Z)||P(Z))return we!==null?null:le(Q,K,Z,ue,null);if(typeof Z.then=="function")return ne(Q,K,$d(Z),ue);if(Z.$$typeof===z)return ne(Q,K,Od(Q,Z),ue);Yd(Q,Z)}return null}function ie(Q,K,Z,ue,we){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Q=Q.get(Z)||null,I(K,Q,""+ue,we);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case E:return Q=Q.get(ue.key===null?Z:ue.key)||null,H(K,Q,ue,we);case C:return Q=Q.get(ue.key===null?Z:ue.key)||null,ee(K,Q,ue,we);case S:var We=ue._init;return ue=We(ue._payload),ie(Q,K,Z,ue,we)}if(te(ue)||P(ue))return Q=Q.get(Z)||null,le(K,Q,ue,we,null);if(typeof ue.then=="function")return ie(Q,K,Z,$d(ue),we);if(ue.$$typeof===z)return ie(Q,K,Z,Od(K,ue),we);Yd(K,ue)}return null}function Ue(Q,K,Z,ue){for(var we=null,We=null,Re=K,je=K=0,hn=null;Re!==null&&je<Z.length;je++){Re.index>je?(hn=Re,Re=null):hn=Re.sibling;var ot=ne(Q,Re,Z[je],ue);if(ot===null){Re===null&&(Re=hn);break}r&&Re&&ot.alternate===null&&s(Q,Re),K=y(ot,K,je),We===null?we=ot:We.sibling=ot,We=ot,Re=hn}if(je===Z.length)return o(Q,Re),ut&&Va(Q,je),we;if(Re===null){for(;je<Z.length;je++)Re=fe(Q,Z[je],ue),Re!==null&&(K=y(Re,K,je),We===null?we=Re:We.sibling=Re,We=Re);return ut&&Va(Q,je),we}for(Re=u(Re);je<Z.length;je++)hn=ie(Re,Q,je,Z[je],ue),hn!==null&&(r&&hn.alternate!==null&&Re.delete(hn.key===null?je:hn.key),K=y(hn,K,je),We===null?we=hn:We.sibling=hn,We=hn);return r&&Re.forEach(function(Ls){return s(Q,Ls)}),ut&&Va(Q,je),we}function Me(Q,K,Z,ue){if(Z==null)throw Error(i(151));for(var we=null,We=null,Re=K,je=K=0,hn=null,ot=Z.next();Re!==null&&!ot.done;je++,ot=Z.next()){Re.index>je?(hn=Re,Re=null):hn=Re.sibling;var Ls=ne(Q,Re,ot.value,ue);if(Ls===null){Re===null&&(Re=hn);break}r&&Re&&Ls.alternate===null&&s(Q,Re),K=y(Ls,K,je),We===null?we=Ls:We.sibling=Ls,We=Ls,Re=hn}if(ot.done)return o(Q,Re),ut&&Va(Q,je),we;if(Re===null){for(;!ot.done;je++,ot=Z.next())ot=fe(Q,ot.value,ue),ot!==null&&(K=y(ot,K,je),We===null?we=ot:We.sibling=ot,We=ot);return ut&&Va(Q,je),we}for(Re=u(Re);!ot.done;je++,ot=Z.next())ot=ie(Re,Q,je,ot.value,ue),ot!==null&&(r&&ot.alternate!==null&&Re.delete(ot.key===null?je:ot.key),K=y(ot,K,je),We===null?we=ot:We.sibling=ot,We=ot);return r&&Re.forEach(function(JC){return s(Q,JC)}),ut&&Va(Q,je),we}function vt(Q,K,Z,ue){if(typeof Z=="object"&&Z!==null&&Z.type===R&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case E:e:{for(var we=Z.key;K!==null;){if(K.key===we){if(we=Z.type,we===R){if(K.tag===7){o(Q,K.sibling),ue=h(K,Z.props.children),ue.return=Q,Q=ue;break e}}else if(K.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===S&&S_(we)===K.type){o(Q,K.sibling),ue=h(K,Z.props),ju(ue,Z),ue.return=Q,Q=ue;break e}o(Q,K);break}else s(Q,K);K=K.sibling}Z.type===R?(ue=ja(Z.props.children,Q.mode,ue,Z.key),ue.return=Q,Q=ue):(ue=Id(Z.type,Z.key,Z.props,null,Q.mode,ue),ju(ue,Z),ue.return=Q,Q=ue)}return T(Q);case C:e:{for(we=Z.key;K!==null;){if(K.key===we)if(K.tag===4&&K.stateNode.containerInfo===Z.containerInfo&&K.stateNode.implementation===Z.implementation){o(Q,K.sibling),ue=h(K,Z.children||[]),ue.return=Q,Q=ue;break e}else{o(Q,K);break}else s(Q,K);K=K.sibling}ue=km(Z,Q.mode,ue),ue.return=Q,Q=ue}return T(Q);case S:return we=Z._init,Z=we(Z._payload),vt(Q,K,Z,ue)}if(te(Z))return Ue(Q,K,Z,ue);if(P(Z)){if(we=P(Z),typeof we!="function")throw Error(i(150));return Z=we.call(Z),Me(Q,K,Z,ue)}if(typeof Z.then=="function")return vt(Q,K,$d(Z),ue);if(Z.$$typeof===z)return vt(Q,K,Od(Q,Z),ue);Yd(Q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,K!==null&&K.tag===6?(o(Q,K.sibling),ue=h(K,Z),ue.return=Q,Q=ue):(o(Q,K),ue=Dm(Z,Q.mode,ue),ue.return=Q,Q=ue),T(Q)):o(Q,K)}return function(Q,K,Z,ue){try{Mu=0;var we=vt(Q,K,Z,ue);return Fo=null,we}catch(Re){if(Re===Su||Re===jd)throw Re;var We=er(29,Re,null,Q.mode);return We.lanes=ue,We.return=Q,We}finally{}}}var Ho=A_(!0),C_=A_(!1),vr=J(null),Wr=null;function ws(r){var s=r.alternate;oe(rn,rn.current&1),oe(vr,r),Wr===null&&(s===null||Lo.current!==null||s.memoizedState!==null)&&(Wr=r)}function R_(r){if(r.tag===22){if(oe(rn,rn.current),oe(vr,r),Wr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Wr=r)}}else Ts()}function Ts(){oe(rn,rn.current),oe(vr,vr.current)}function Di(r){ce(vr),Wr===r&&(Wr=null),ce(rn)}var rn=J(0);function Kd(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||eg(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function dp(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:v({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var fp={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=ir(),h=bs(u);h.payload=s,o!=null&&(h.callback=o),s=Es(r,h,u),s!==null&&(sr(s,r,u),Cu(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=ir(),h=bs(u);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=Es(r,h,u),s!==null&&(sr(s,r,u),Cu(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=ir(),u=bs(o);u.tag=2,s!=null&&(u.callback=s),s=Es(r,u,o),s!==null&&(sr(s,r,o),Cu(s,r,o))}};function I_(r,s,o,u,h,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,y,T):s.prototype&&s.prototype.isPureReactComponent?!yu(o,u)||!yu(h,y):!0}function N_(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&fp.enqueueReplaceState(s,s.state,null)}function qa(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=v({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var Qd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function D_(r){Qd(r)}function k_(r){console.error(r)}function O_(r){Qd(r)}function Wd(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function M_(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function hp(r,s,o){return o=bs(o),o.tag=3,o.payload={element:null},o.callback=function(){Wd(r,s)},o}function j_(r){return r=bs(r),r.tag=3,r}function P_(r,s,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var y=u.value;r.payload=function(){return h(y)},r.callback=function(){M_(s,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){M_(s,o,u),typeof h!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var I=u.stack;this.componentDidCatch(u.value,{componentStack:I!==null?I:""})})}function J2(r,s,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&xu(s,o,h,!0),o=vr.current,o!==null){switch(o.tag){case 13:return Wr===null?Vp():o.alternate===null&&Pt===0&&(Pt=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===Fm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Up(r,u,h)),!1;case 22:return o.flags|=65536,u===Fm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Up(r,u,h)),!1}throw Error(i(435,o.tag))}return Up(r,u,h),Vp(),!1}if(ut)return s=vr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,u!==jm&&(r=Error(i(422),{cause:u}),Eu(mr(r,o)))):(u!==jm&&(s=Error(i(423),{cause:u}),Eu(mr(s,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=mr(u,o),h=hp(r.stateNode,u,h),Gm(r,h),Pt!==4&&(Pt=2)),!1;var y=Error(i(520),{cause:u});if(y=mr(y,o),Fu===null?Fu=[y]:Fu.push(y),Pt!==4&&(Pt=2),s===null)return!0;u=mr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=hp(o.stateNode,u,r),Gm(o,r),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ns===null||!Ns.has(y))))return o.flags|=65536,h&=-h,o.lanes|=h,h=j_(h),P_(h,r,o,u),Gm(o,h),!1}o=o.return}while(o!==null);return!1}var V_=Error(i(461)),dn=!1;function vn(r,s,o,u){s.child=r===null?C_(s,null,o,u):Ho(s,r.child,o,u)}function L_(r,s,o,u,h){o=o.render;var y=s.ref;if("ref"in u){var T={};for(var I in u)I!=="ref"&&(T[I]=u[I])}else T=u;return za(s),u=Wm(r,s,o,T,y,h),I=Xm(),r!==null&&!dn?(Zm(r,s,h),ki(r,s,h)):(ut&&I&&Om(s),s.flags|=1,vn(r,s,u,h),s.child)}function U_(r,s,o,u,h){if(r===null){var y=o.type;return typeof y=="function"&&!Nm(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,B_(r,s,y,u,h)):(r=Id(o.type,null,u,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!Ep(r,h)){var T=y.memoizedProps;if(o=o.compare,o=o!==null?o:yu,o(T,u)&&r.ref===s.ref)return ki(r,s,h)}return s.flags|=1,r=Si(y,u),r.ref=s.ref,r.return=s,s.child=r}function B_(r,s,o,u,h){if(r!==null){var y=r.memoizedProps;if(yu(y,u)&&r.ref===s.ref)if(dn=!1,s.pendingProps=u=y,Ep(r,h))(r.flags&131072)!==0&&(dn=!0);else return s.lanes=r.lanes,ki(r,s,h)}return mp(r,s,o,u,h)}function z_(r,s,o){var u=s.pendingProps,h=u.children,y=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=y!==null?y.baseLanes|o:o,r!==null){for(h=s.child=r.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;s.childLanes=y&~u}else s.childLanes=0,s.child=null;return F_(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Md(s,y!==null?y.cachePool:null),y!==null?B0(s,y):Ym(),R_(s);else return s.lanes=s.childLanes=536870912,F_(r,s,y!==null?y.baseLanes|o:o,o)}else y!==null?(Md(s,y.cachePool),B0(s,y),Ts(),s.memoizedState=null):(r!==null&&Md(s,null),Ym(),Ts());return vn(r,s,h,o),s.child}function F_(r,s,o,u){var h=zm();return h=h===null?null:{parent:nn._currentValue,pool:h},s.memoizedState={baseLanes:o,cachePool:h},r!==null&&Md(s,null),Ym(),R_(s),r!==null&&xu(r,s,u,!0),null}function Xd(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function mp(r,s,o,u,h){return za(s),o=Wm(r,s,o,u,void 0,h),u=Xm(),r!==null&&!dn?(Zm(r,s,h),ki(r,s,h)):(ut&&u&&Om(s),s.flags|=1,vn(r,s,o,h),s.child)}function H_(r,s,o,u,h,y){return za(s),s.updateQueue=null,o=F0(s,u,o,h),z0(r),u=Xm(),r!==null&&!dn?(Zm(r,s,y),ki(r,s,y)):(ut&&u&&Om(s),s.flags|=1,vn(r,s,o,y),s.child)}function q_(r,s,o,u,h){if(za(s),s.stateNode===null){var y=Oo,T=o.contextType;typeof T=="object"&&T!==null&&(y=An(T)),y=new o(u,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=fp,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=u,y.state=s.memoizedState,y.refs={},Hm(s),T=o.contextType,y.context=typeof T=="object"&&T!==null?An(T):Oo,y.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(dp(s,o,T,u),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&fp.enqueueReplaceState(y,y.state,null),Iu(s,u,y,h),Ru(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){y=s.stateNode;var I=s.memoizedProps,H=qa(o,I);y.props=H;var ee=y.context,le=o.contextType;T=Oo,typeof le=="object"&&le!==null&&(T=An(le));var fe=o.getDerivedStateFromProps;le=typeof fe=="function"||typeof y.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,le||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(I||ee!==T)&&N_(s,y,u,T),_s=!1;var ne=s.memoizedState;y.state=ne,Iu(s,u,y,h),Ru(),ee=s.memoizedState,I||ne!==ee||_s?(typeof fe=="function"&&(dp(s,o,fe,u),ee=s.memoizedState),(H=_s||I_(s,o,H,u,ne,ee,T))?(le||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=ee),y.props=u,y.state=ee,y.context=T,u=H):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,qm(r,s),T=s.memoizedProps,le=qa(o,T),y.props=le,fe=s.pendingProps,ne=y.context,ee=o.contextType,H=Oo,typeof ee=="object"&&ee!==null&&(H=An(ee)),I=o.getDerivedStateFromProps,(ee=typeof I=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==fe||ne!==H)&&N_(s,y,u,H),_s=!1,ne=s.memoizedState,y.state=ne,Iu(s,u,y,h),Ru();var ie=s.memoizedState;T!==fe||ne!==ie||_s||r!==null&&r.dependencies!==null&&kd(r.dependencies)?(typeof I=="function"&&(dp(s,o,I,u),ie=s.memoizedState),(le=_s||I_(s,o,le,u,ne,ie,H)||r!==null&&r.dependencies!==null&&kd(r.dependencies))?(ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,ie,H),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,ie,H)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=ie),y.props=u,y.state=ie,y.context=H,u=le):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),u=!1)}return y=u,Xd(r,s),u=(s.flags&128)!==0,y||u?(y=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,r!==null&&u?(s.child=Ho(s,r.child,null,h),s.child=Ho(s,null,o,h)):vn(r,s,o,h),s.memoizedState=y.state,r=s.child):r=ki(r,s,h),r}function G_(r,s,o,u){return bu(),s.flags|=256,vn(r,s,o,u),s.child}var pp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gp(r){return{baseLanes:r,cachePool:k0()}}function yp(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=_r),r}function $_(r,s,o){var u=s.pendingProps,h=!1,y=(s.flags&128)!==0,T;if((T=y)||(T=r!==null&&r.memoizedState===null?!1:(rn.current&2)!==0),T&&(h=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(ut){if(h?ws(s):Ts(),ut){var I=jt,H;if(H=I){e:{for(H=I,I=Qr;H.nodeType!==8;){if(!I){I=null;break e}if(H=Cr(H.nextSibling),H===null){I=null;break e}}I=H}I!==null?(s.memoizedState={dehydrated:I,treeContext:Pa!==null?{id:Ai,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},H=er(18,null,null,0),H.stateNode=I,H.return=s,s.child=H,Un=s,jt=null,H=!0):H=!1}H||Ua(s)}if(I=s.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return eg(I)?s.lanes=32:s.lanes=536870912,null;Di(s)}return I=u.children,u=u.fallback,h?(Ts(),h=s.mode,I=Zd({mode:"hidden",children:I},h),u=ja(u,h,o,null),I.return=s,u.return=s,I.sibling=u,s.child=I,h=s.child,h.memoizedState=gp(o),h.childLanes=yp(r,T,o),s.memoizedState=pp,u):(ws(s),vp(s,I))}if(H=r.memoizedState,H!==null&&(I=H.dehydrated,I!==null)){if(y)s.flags&256?(ws(s),s.flags&=-257,s=_p(r,s,o)):s.memoizedState!==null?(Ts(),s.child=r.child,s.flags|=128,s=null):(Ts(),h=u.fallback,I=s.mode,u=Zd({mode:"visible",children:u.children},I),h=ja(h,I,o,null),h.flags|=2,u.return=s,h.return=s,u.sibling=h,s.child=u,Ho(s,r.child,null,o),u=s.child,u.memoizedState=gp(o),u.childLanes=yp(r,T,o),s.memoizedState=pp,s=h);else if(ws(s),eg(I)){if(T=I.nextSibling&&I.nextSibling.dataset,T)var ee=T.dgst;T=ee,u=Error(i(419)),u.stack="",u.digest=T,Eu({value:u,source:null,stack:null}),s=_p(r,s,o)}else if(dn||xu(r,s,o,!1),T=(o&r.childLanes)!==0,dn||T){if(T=Tt,T!==null&&(u=o&-o,u=(u&42)!==0?1:ds(u),u=(u&(T.suspendedLanes|o))!==0?0:u,u!==0&&u!==H.retryLane))throw H.retryLane=u,ko(r,u),sr(T,r,u),V_;I.data==="$?"||Vp(),s=_p(r,s,o)}else I.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=H.treeContext,jt=Cr(I.nextSibling),Un=s,ut=!0,La=null,Qr=!1,r!==null&&(gr[yr++]=Ai,gr[yr++]=Ci,gr[yr++]=Pa,Ai=r.id,Ci=r.overflow,Pa=s),s=vp(s,u.children),s.flags|=4096);return s}return h?(Ts(),h=u.fallback,I=s.mode,H=r.child,ee=H.sibling,u=Si(H,{mode:"hidden",children:u.children}),u.subtreeFlags=H.subtreeFlags&65011712,ee!==null?h=Si(ee,h):(h=ja(h,I,o,null),h.flags|=2),h.return=s,u.return=s,u.sibling=h,s.child=u,u=h,h=s.child,I=r.child.memoizedState,I===null?I=gp(o):(H=I.cachePool,H!==null?(ee=nn._currentValue,H=H.parent!==ee?{parent:ee,pool:ee}:H):H=k0(),I={baseLanes:I.baseLanes|o,cachePool:H}),h.memoizedState=I,h.childLanes=yp(r,T,o),s.memoizedState=pp,u):(ws(s),o=r.child,r=o.sibling,o=Si(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=o,s.memoizedState=null,o)}function vp(r,s){return s=Zd({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Zd(r,s){return r=er(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function _p(r,s,o){return Ho(s,r.child,null,o),r=vp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Y_(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Vm(r.return,s,o)}function bp(r,s,o,u,h){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=o,y.tailMode=h)}function K_(r,s,o){var u=s.pendingProps,h=u.revealOrder,y=u.tail;if(vn(r,s,u.children,o),u=rn.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Y_(r,o,s);else if(r.tag===19)Y_(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(oe(rn,u),h){case"forwards":for(o=s.child,h=null;o!==null;)r=o.alternate,r!==null&&Kd(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),bp(s,!1,h,o,y);break;case"backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&Kd(r)===null){s.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}bp(s,!0,o,null,y);break;case"together":bp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ki(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Is|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(xu(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Si(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Si(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Ep(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&kd(r)))}function eC(r,s,o){switch(s.tag){case 3:xe(s,s.stateNode.containerInfo),vs(s,nn,r.memoizedState.cache),bu();break;case 27:case 5:ke(s);break;case 4:xe(s,s.stateNode.containerInfo);break;case 10:vs(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ws(s),s.flags|=128,null):(o&s.child.childLanes)!==0?$_(r,s,o):(ws(s),r=ki(r,s,o),r!==null?r.sibling:null);ws(s);break;case 19:var h=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(xu(r,s,o,!1),u=(o&s.childLanes)!==0),h){if(u)return K_(r,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(rn,rn.current),u)break;return null;case 22:case 23:return s.lanes=0,z_(r,s,o);case 24:vs(s,nn,r.memoizedState.cache)}return ki(r,s,o)}function Q_(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)dn=!0;else{if(!Ep(r,o)&&(s.flags&128)===0)return dn=!1,eC(r,s,o);dn=(r.flags&131072)!==0}else dn=!1,ut&&(s.flags&1048576)!==0&&S0(s,Dd,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,h=u._init;if(u=h(u._payload),s.type=u,typeof u=="function")Nm(u)?(r=qa(u,r),s.tag=1,s=q_(null,s,u,r,o)):(s.tag=0,s=mp(null,s,u,r,o));else{if(u!=null){if(h=u.$$typeof,h===G){s.tag=11,s=L_(null,s,u,r,o);break e}else if(h===k){s.tag=14,s=U_(null,s,u,r,o);break e}}throw s=q(u)||u,Error(i(306,s,""))}}return s;case 0:return mp(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,h=qa(u,s.pendingProps),q_(r,s,u,h,o);case 3:e:{if(xe(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var y=s.memoizedState;h=y.element,qm(r,s),Iu(s,u,null,o);var T=s.memoizedState;if(u=T.cache,vs(s,nn,u),u!==y.cache&&Lm(s,[nn],o,!0),Ru(),u=T.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=G_(r,s,u,o);break e}else if(u!==h){h=mr(Error(i(424)),s),Eu(h),s=G_(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(jt=Cr(r.firstChild),Un=s,ut=!0,La=null,Qr=!0,o=C_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(bu(),u===h){s=ki(r,s,o);break e}vn(r,s,u,o)}s=s.child}return s;case 26:return Xd(r,s),r===null?(o=Jb(s.type,null,s.pendingProps,null))?s.memoizedState=o:ut||(o=s.type,r=s.pendingProps,u=hf(ve.current).createElement(o),u[Jt]=s,u[$t]=r,bn(u,o,r),Bt(u),s.stateNode=u):s.memoizedState=Jb(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return ke(s),r===null&&ut&&(u=s.stateNode=Wb(s.type,s.pendingProps,ve.current),Un=s,Qr=!0,h=jt,Os(s.type)?(tg=h,jt=Cr(u.firstChild)):jt=h),vn(r,s,s.pendingProps.children,o),Xd(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&ut&&((h=u=jt)&&(u=RC(u,s.type,s.pendingProps,Qr),u!==null?(s.stateNode=u,Un=s,jt=Cr(u.firstChild),Qr=!1,h=!0):h=!1),h||Ua(s)),ke(s),h=s.type,y=s.pendingProps,T=r!==null?r.memoizedProps:null,u=y.children,Xp(h,y)?u=null:T!==null&&Xp(h,T)&&(s.flags|=32),s.memoizedState!==null&&(h=Wm(r,s,$2,null,null,o),Xu._currentValue=h),Xd(r,s),vn(r,s,u,o),s.child;case 6:return r===null&&ut&&((r=o=jt)&&(o=IC(o,s.pendingProps,Qr),o!==null?(s.stateNode=o,Un=s,jt=null,r=!0):r=!1),r||Ua(s)),null;case 13:return $_(r,s,o);case 4:return xe(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Ho(s,null,u,o):vn(r,s,u,o),s.child;case 11:return L_(r,s,s.type,s.pendingProps,o);case 7:return vn(r,s,s.pendingProps,o),s.child;case 8:return vn(r,s,s.pendingProps.children,o),s.child;case 12:return vn(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,vs(s,s.type,u.value),vn(r,s,u.children,o),s.child;case 9:return h=s.type._context,u=s.pendingProps.children,za(s),h=An(h),u=u(h),s.flags|=1,vn(r,s,u,o),s.child;case 14:return U_(r,s,s.type,s.pendingProps,o);case 15:return B_(r,s,s.type,s.pendingProps,o);case 19:return K_(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=Zd(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Si(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return z_(r,s,o);case 24:return za(s),u=An(nn),r===null?(h=zm(),h===null&&(h=Tt,y=Um(),h.pooledCache=y,y.refCount++,y!==null&&(h.pooledCacheLanes|=o),h=y),s.memoizedState={parent:u,cache:h},Hm(s),vs(s,nn,h)):((r.lanes&o)!==0&&(qm(r,s),Iu(s,null,null,o),Ru()),h=r.memoizedState,y=s.memoizedState,h.parent!==u?(h={parent:u,cache:u},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),vs(s,nn,u)):(u=y.cache,vs(s,nn,u),u!==h.cache&&Lm(s,[nn],o,!0))),vn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Oi(r){r.flags|=4}function W_(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!iE(s)){if(s=vr.current,s!==null&&((it&4194048)===it?Wr!==null:(it&62914560)!==it&&(it&536870912)===0||s!==Wr))throw Au=Fm,O0;r.flags|=8192}}function Jd(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Jl():536870912,r.lanes|=s,Yo|=s)}function Pu(r,s){if(!ut)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function kt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function tC(r,s,o){var u=s.pendingProps;switch(Mm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(s),null;case 1:return kt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ii(nn),qe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(_u(s)?Oi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,R0())),kt(s),null;case 26:return o=s.memoizedState,r===null?(Oi(s),o!==null?(kt(s),W_(s,o)):(kt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Oi(s),kt(s),W_(s,o)):(kt(s),s.flags&=-16777217):(r.memoizedProps!==u&&Oi(s),kt(s),s.flags&=-16777217),null;case 27:Oe(s),o=ve.current;var h=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Oi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return kt(s),null}r=me.current,_u(s)?A0(s):(r=Wb(h,u,o),s.stateNode=r,Oi(s))}return kt(s),null;case 5:if(Oe(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Oi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return kt(s),null}if(r=me.current,_u(s))A0(s);else{switch(h=hf(ve.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?h.createElement(o,{is:u.is}):h.createElement(o)}}r[Jt]=s,r[$t]=u;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=r;e:switch(bn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Oi(s)}}return kt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Oi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=ve.current,_u(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,h=Un,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[Jt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Hb(r.nodeValue,o)),r||Ua(s)}else r=hf(r).createTextNode(u),r[Jt]=s,s.stateNode=r}return kt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=_u(s),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Jt]=s}else bu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;kt(s),h=!1}else h=R0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Di(s),s):(Di(s),null)}if(Di(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==h&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Jd(s,s.updateQueue),kt(s),null;case 4:return qe(),r===null&&$p(s.stateNode.containerInfo),kt(s),null;case 10:return Ii(s.type),kt(s),null;case 19:if(ce(rn),h=s.memoizedState,h===null)return kt(s),null;if(u=(s.flags&128)!==0,y=h.rendering,y===null)if(u)Pu(h,!1);else{if(Pt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=Kd(r),y!==null){for(s.flags|=128,Pu(h,!1),r=y.updateQueue,s.updateQueue=r,Jd(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)T0(o,r),o=o.sibling;return oe(rn,rn.current&1|2),s.child}r=r.sibling}h.tail!==null&&Fe()>nf&&(s.flags|=128,u=!0,Pu(h,!1),s.lanes=4194304)}else{if(!u)if(r=Kd(y),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Jd(s,r),Pu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!ut)return kt(s),null}else 2*Fe()-h.renderingStartTime>nf&&o!==536870912&&(s.flags|=128,u=!0,Pu(h,!1),s.lanes=4194304);h.isBackwards?(y.sibling=s.child,s.child=y):(r=h.last,r!==null?r.sibling=y:s.child=y,h.last=y)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=Fe(),s.sibling=null,r=rn.current,oe(rn,u?r&1|2:r&1),s):(kt(s),null);case 22:case 23:return Di(s),Km(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(kt(s),s.subtreeFlags&6&&(s.flags|=8192)):kt(s),o=s.updateQueue,o!==null&&Jd(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&ce(Fa),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ii(nn),kt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function nC(r,s){switch(Mm(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ii(nn),qe(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Oe(s),null;case 13:if(Di(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));bu()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ce(rn),null;case 4:return qe(),null;case 10:return Ii(s.type),null;case 22:case 23:return Di(s),Km(),r!==null&&ce(Fa),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ii(nn),null;case 25:return null;default:return null}}function X_(r,s){switch(Mm(s),s.tag){case 3:Ii(nn),qe();break;case 26:case 27:case 5:Oe(s);break;case 4:qe();break;case 13:Di(s);break;case 19:ce(rn);break;case 10:Ii(s.type);break;case 22:case 23:Di(s),Km(),r!==null&&ce(Fa);break;case 24:Ii(nn)}}function Vu(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&r)===r){u=void 0;var y=o.create,T=o.inst;u=y(),T.destroy=u}o=o.next}while(o!==h)}}catch(I){Et(s,s.return,I)}}function Ss(r,s,o){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var y=h.next;u=y;do{if((u.tag&r)===r){var T=u.inst,I=T.destroy;if(I!==void 0){T.destroy=void 0,h=s;var H=o,ee=I;try{ee()}catch(le){Et(h,H,le)}}}u=u.next}while(u!==y)}}catch(le){Et(s,s.return,le)}}function Z_(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{U0(s,o)}catch(u){Et(r,r.return,u)}}}function J_(r,s,o){o.props=qa(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){Et(r,s,u)}}function Lu(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(h){Et(r,s,h)}}function Xr(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){Et(r,s,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){Et(r,s,h)}else o.current=null}function eb(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){Et(r,r.return,h)}}function xp(r,s,o){try{var u=r.stateNode;wC(u,r.type,o,s),u[$t]=s}catch(h){Et(r,r.return,h)}}function tb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Os(r.type)||r.tag===4}function wp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||tb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Os(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Tp(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=ff));else if(u!==4&&(u===27&&Os(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Tp(r,s,o),r=r.sibling;r!==null;)Tp(r,s,o),r=r.sibling}function ef(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&Os(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(ef(r,s,o),r=r.sibling;r!==null;)ef(r,s,o),r=r.sibling}function nb(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);bn(s,u,o),s[Jt]=r,s[$t]=o}catch(y){Et(r,r.return,y)}}var Mi=!1,Ft=!1,Sp=!1,rb=typeof WeakSet=="function"?WeakSet:Set,fn=null;function rC(r,s){if(r=r.containerInfo,Qp=_f,r=m0(r),wm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var T=0,I=-1,H=-1,ee=0,le=0,fe=r,ne=null;t:for(;;){for(var ie;fe!==o||h!==0&&fe.nodeType!==3||(I=T+h),fe!==y||u!==0&&fe.nodeType!==3||(H=T+u),fe.nodeType===3&&(T+=fe.nodeValue.length),(ie=fe.firstChild)!==null;)ne=fe,fe=ie;for(;;){if(fe===r)break t;if(ne===o&&++ee===h&&(I=T),ne===y&&++le===u&&(H=T),(ie=fe.nextSibling)!==null)break;fe=ne,ne=fe.parentNode}fe=ie}o=I===-1||H===-1?null:{start:I,end:H}}else o=null}o=o||{start:0,end:0}}else o=null;for(Wp={focusedElem:r,selectionRange:o},_f=!1,fn=s;fn!==null;)if(s=fn,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,fn=r;else for(;fn!==null;){switch(s=fn,y=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,o=s,h=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var Ue=qa(o.type,h,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Ue,y),u.__reactInternalSnapshotBeforeUpdate=r}catch(Me){Et(o,o.return,Me)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Jp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Jp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,fn=r;break}fn=s.return}}function ib(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:As(r,o),u&4&&Vu(5,o);break;case 1:if(As(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(T){Et(o,o.return,T)}else{var h=qa(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(h,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){Et(o,o.return,T)}}u&64&&Z_(o),u&512&&Lu(o,o.return);break;case 3:if(As(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{U0(r,s)}catch(T){Et(o,o.return,T)}}break;case 27:s===null&&u&4&&nb(o);case 26:case 5:As(r,o),s===null&&u&4&&eb(o),u&512&&Lu(o,o.return);break;case 12:As(r,o);break;case 13:As(r,o),u&4&&ob(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=fC.bind(null,o),NC(r,o))));break;case 22:if(u=o.memoizedState!==null||Mi,!u){s=s!==null&&s.memoizedState!==null||Ft,h=Mi;var y=Ft;Mi=u,(Ft=s)&&!y?Cs(r,o,(o.subtreeFlags&8772)!==0):As(r,o),Mi=h,Ft=y}break;case 30:break;default:As(r,o)}}function sb(r){var s=r.alternate;s!==null&&(r.alternate=null,sb(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&ms(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Nt=null,$n=!1;function ji(r,s,o){for(o=o.child;o!==null;)ab(r,s,o),o=o.sibling}function ab(r,s,o){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Mt,o)}catch{}switch(o.tag){case 26:Ft||Xr(o,s),ji(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ft||Xr(o,s);var u=Nt,h=$n;Os(o.type)&&(Nt=o.stateNode,$n=!1),ji(r,s,o),Yu(o.stateNode),Nt=u,$n=h;break;case 5:Ft||Xr(o,s);case 6:if(u=Nt,h=$n,Nt=null,ji(r,s,o),Nt=u,$n=h,Nt!==null)if($n)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(o.stateNode)}catch(y){Et(o,s,y)}else try{Nt.removeChild(o.stateNode)}catch(y){Et(o,s,y)}break;case 18:Nt!==null&&($n?(r=Nt,Kb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),tc(r)):Kb(Nt,o.stateNode));break;case 4:u=Nt,h=$n,Nt=o.stateNode.containerInfo,$n=!0,ji(r,s,o),Nt=u,$n=h;break;case 0:case 11:case 14:case 15:Ft||Ss(2,o,s),Ft||Ss(4,o,s),ji(r,s,o);break;case 1:Ft||(Xr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&J_(o,s,u)),ji(r,s,o);break;case 21:ji(r,s,o);break;case 22:Ft=(u=Ft)||o.memoizedState!==null,ji(r,s,o),Ft=u;break;default:ji(r,s,o)}}function ob(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{tc(r)}catch(o){Et(s,s.return,o)}}function iC(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new rb),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new rb),s;default:throw Error(i(435,r.tag))}}function Ap(r,s){var o=iC(r);s.forEach(function(u){var h=hC.bind(null,r,u);o.has(u)||(o.add(u),u.then(h,h))})}function tr(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],y=r,T=s,I=T;e:for(;I!==null;){switch(I.tag){case 27:if(Os(I.type)){Nt=I.stateNode,$n=!1;break e}break;case 5:Nt=I.stateNode,$n=!1;break e;case 3:case 4:Nt=I.stateNode.containerInfo,$n=!0;break e}I=I.return}if(Nt===null)throw Error(i(160));ab(y,T,h),Nt=null,$n=!1,y=h.alternate,y!==null&&(y.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)lb(s,r),s=s.sibling}var Ar=null;function lb(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:tr(s,r),nr(r),u&4&&(Ss(3,r,r.return),Vu(3,r),Ss(5,r,r.return));break;case 1:tr(s,r),nr(r),u&512&&(Ft||o===null||Xr(o,o.return)),u&64&&Mi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=Ar;if(tr(s,r),nr(r),u&512&&(Ft||o===null||Xr(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":y=h.getElementsByTagName("title")[0],(!y||y[_a]||y[Jt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=h.createElement(u),h.head.insertBefore(y,h.querySelector("head > title"))),bn(y,u,o),y[Jt]=r,Bt(y),u=y;break e;case"link":var T=nE("link","href",h).get(u+(o.href||""));if(T){for(var I=0;I<T.length;I++)if(y=T[I],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(I,1);break t}}y=h.createElement(u),bn(y,u,o),h.head.appendChild(y);break;case"meta":if(T=nE("meta","content",h).get(u+(o.content||""))){for(I=0;I<T.length;I++)if(y=T[I],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(I,1);break t}}y=h.createElement(u),bn(y,u,o),h.head.appendChild(y);break;default:throw Error(i(468,u))}y[Jt]=r,Bt(y),u=y}r.stateNode=u}else rE(h,r.type,r.stateNode);else r.stateNode=tE(h,u,r.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?rE(h,r.type,r.stateNode):tE(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&xp(r,r.memoizedProps,o.memoizedProps)}break;case 27:tr(s,r),nr(r),u&512&&(Ft||o===null||Xr(o,o.return)),o!==null&&u&4&&xp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(tr(s,r),nr(r),u&512&&(Ft||o===null||Xr(o,o.return)),r.flags&32){h=r.stateNode;try{cr(h,"")}catch(ie){Et(r,r.return,ie)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,xp(r,h,o!==null?o.memoizedProps:h)),u&1024&&(Sp=!0);break;case 6:if(tr(s,r),nr(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(ie){Et(r,r.return,ie)}}break;case 3:if(gf=null,h=Ar,Ar=mf(s.containerInfo),tr(s,r),Ar=h,nr(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{tc(s.containerInfo)}catch(ie){Et(r,r.return,ie)}Sp&&(Sp=!1,ub(r));break;case 4:u=Ar,Ar=mf(r.stateNode.containerInfo),tr(s,r),nr(r),Ar=u;break;case 12:tr(s,r),nr(r);break;case 13:tr(s,r),nr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(kp=Fe()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Ap(r,u)));break;case 22:h=r.memoizedState!==null;var H=o!==null&&o.memoizedState!==null,ee=Mi,le=Ft;if(Mi=ee||h,Ft=le||H,tr(s,r),Ft=le,Mi=ee,nr(r),u&8192)e:for(s=r.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(o===null||H||Mi||Ft||Ga(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){H=o=s;try{if(y=H.stateNode,h)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{I=H.stateNode;var fe=H.memoizedProps.style,ne=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;I.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(ie){Et(H,H.return,ie)}}}else if(s.tag===6){if(o===null){H=s;try{H.stateNode.nodeValue=h?"":H.memoizedProps}catch(ie){Et(H,H.return,ie)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Ap(r,o))));break;case 19:tr(s,r),nr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Ap(r,u)));break;case 30:break;case 21:break;default:tr(s,r),nr(r)}}function nr(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(tb(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var h=o.stateNode,y=wp(r);ef(r,y,h);break;case 5:var T=o.stateNode;o.flags&32&&(cr(T,""),o.flags&=-33);var I=wp(r);ef(r,I,T);break;case 3:case 4:var H=o.stateNode.containerInfo,ee=wp(r);Tp(r,ee,H);break;default:throw Error(i(161))}}catch(le){Et(r,r.return,le)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function ub(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;ub(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function As(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ib(r,s.alternate,s),s=s.sibling}function Ga(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Ss(4,s,s.return),Ga(s);break;case 1:Xr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&J_(s,s.return,o),Ga(s);break;case 27:Yu(s.stateNode);case 26:case 5:Xr(s,s.return),Ga(s);break;case 22:s.memoizedState===null&&Ga(s);break;case 30:Ga(s);break;default:Ga(s)}r=r.sibling}}function Cs(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,h=r,y=s,T=y.flags;switch(y.tag){case 0:case 11:case 15:Cs(h,y,o),Vu(4,y);break;case 1:if(Cs(h,y,o),u=y,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(ee){Et(u,u.return,ee)}if(u=y,h=u.updateQueue,h!==null){var I=u.stateNode;try{var H=h.shared.hiddenCallbacks;if(H!==null)for(h.shared.hiddenCallbacks=null,h=0;h<H.length;h++)L0(H[h],I)}catch(ee){Et(u,u.return,ee)}}o&&T&64&&Z_(y),Lu(y,y.return);break;case 27:nb(y);case 26:case 5:Cs(h,y,o),o&&u===null&&T&4&&eb(y),Lu(y,y.return);break;case 12:Cs(h,y,o);break;case 13:Cs(h,y,o),o&&T&4&&ob(h,y);break;case 22:y.memoizedState===null&&Cs(h,y,o),Lu(y,y.return);break;case 30:break;default:Cs(h,y,o)}s=s.sibling}}function Cp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&wu(o))}function Rp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&wu(r))}function Zr(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)cb(r,s,o,u),s=s.sibling}function cb(r,s,o,u){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Zr(r,s,o,u),h&2048&&Vu(9,s);break;case 1:Zr(r,s,o,u);break;case 3:Zr(r,s,o,u),h&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&wu(r)));break;case 12:if(h&2048){Zr(r,s,o,u),r=s.stateNode;try{var y=s.memoizedProps,T=y.id,I=y.onPostCommit;typeof I=="function"&&I(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(H){Et(s,s.return,H)}}else Zr(r,s,o,u);break;case 13:Zr(r,s,o,u);break;case 23:break;case 22:y=s.stateNode,T=s.alternate,s.memoizedState!==null?y._visibility&2?Zr(r,s,o,u):Uu(r,s):y._visibility&2?Zr(r,s,o,u):(y._visibility|=2,qo(r,s,o,u,(s.subtreeFlags&10256)!==0)),h&2048&&Cp(T,s);break;case 24:Zr(r,s,o,u),h&2048&&Rp(s.alternate,s);break;default:Zr(r,s,o,u)}}function qo(r,s,o,u,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=r,T=s,I=o,H=u,ee=T.flags;switch(T.tag){case 0:case 11:case 15:qo(y,T,I,H,h),Vu(8,T);break;case 23:break;case 22:var le=T.stateNode;T.memoizedState!==null?le._visibility&2?qo(y,T,I,H,h):Uu(y,T):(le._visibility|=2,qo(y,T,I,H,h)),h&&ee&2048&&Cp(T.alternate,T);break;case 24:qo(y,T,I,H,h),h&&ee&2048&&Rp(T.alternate,T);break;default:qo(y,T,I,H,h)}s=s.sibling}}function Uu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,h=u.flags;switch(u.tag){case 22:Uu(o,u),h&2048&&Cp(u.alternate,u);break;case 24:Uu(o,u),h&2048&&Rp(u.alternate,u);break;default:Uu(o,u)}s=s.sibling}}var Bu=8192;function Go(r){if(r.subtreeFlags&Bu)for(r=r.child;r!==null;)db(r),r=r.sibling}function db(r){switch(r.tag){case 26:Go(r),r.flags&Bu&&r.memoizedState!==null&&HC(Ar,r.memoizedState,r.memoizedProps);break;case 5:Go(r);break;case 3:case 4:var s=Ar;Ar=mf(r.stateNode.containerInfo),Go(r),Ar=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Bu,Bu=16777216,Go(r),Bu=s):Go(r));break;default:Go(r)}}function fb(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function zu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];fn=u,mb(u,r)}fb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)hb(r),r=r.sibling}function hb(r){switch(r.tag){case 0:case 11:case 15:zu(r),r.flags&2048&&Ss(9,r,r.return);break;case 3:zu(r);break;case 12:zu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,tf(r)):zu(r);break;default:zu(r)}}function tf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];fn=u,mb(u,r)}fb(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Ss(8,s,s.return),tf(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,tf(s));break;default:tf(s)}r=r.sibling}}function mb(r,s){for(;fn!==null;){var o=fn;switch(o.tag){case 0:case 11:case 15:Ss(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:wu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,fn=u;else e:for(o=r;fn!==null;){u=fn;var h=u.sibling,y=u.return;if(sb(u),u===o){fn=null;break e}if(h!==null){h.return=y,fn=h;break e}fn=y}}}var sC={getCacheForType:function(r){var s=An(nn),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},aC=typeof WeakMap=="function"?WeakMap:Map,ht=0,Tt=null,Xe=null,it=0,mt=0,rr=null,Rs=!1,$o=!1,Ip=!1,Pi=0,Pt=0,Is=0,$a=0,Np=0,_r=0,Yo=0,Fu=null,Yn=null,Dp=!1,kp=0,nf=1/0,rf=null,Ns=null,_n=0,Ds=null,Ko=null,Qo=0,Op=0,Mp=null,pb=null,Hu=0,jp=null;function ir(){if((ht&2)!==0&&it!==0)return it&-it;if(F.T!==null){var r=Po;return r!==0?r:Fp()}return fs()}function gb(){_r===0&&(_r=(it&536870912)===0||ut?Zl():536870912);var r=vr.current;return r!==null&&(r.flags|=32),_r}function sr(r,s,o){(r===Tt&&(mt===2||mt===9)||r.cancelPendingCommit!==null)&&(Wo(r,0),ks(r,it,_r,!1)),mi(r,o),((ht&2)===0||r!==Tt)&&(r===Tt&&((ht&2)===0&&($a|=o),Pt===4&&ks(r,it,_r,!1)),Jr(r))}function yb(r,s,o){if((ht&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||va(r,s),h=u?uC(r,s):Lp(r,s,!0),y=u;do{if(h===0){$o&&!u&&ks(r,s,0,!1);break}else{if(o=r.current.alternate,y&&!oC(o)){h=Lp(r,s,!1),y=!1;continue}if(h===2){if(y=s,r.errorRecoveryDisabledLanes&y)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var I=r;h=Fu;var H=I.current.memoizedState.isDehydrated;if(H&&(Wo(I,T).flags|=256),T=Lp(I,T,!1),T!==2){if(Ip&&!H){I.errorRecoveryDisabledLanes|=y,$a|=y,h=4;break e}y=Yn,Yn=h,y!==null&&(Yn===null?Yn=y:Yn.push.apply(Yn,y))}h=T}if(y=!1,h!==2)continue}}if(h===1){Wo(r,0),ks(r,s,0,!0);break}e:{switch(u=r,y=h,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ks(u,s,_r,!Rs);break e;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(h=kp+300-Fe(),10<h)){if(ks(u,s,_r,!Rs),ho(u,0,!0)!==0)break e;u.timeoutHandle=$b(vb.bind(null,u,o,Yn,rf,Dp,s,_r,$a,Yo,Rs,y,2,-0,0),h);break e}vb(u,o,Yn,rf,Dp,s,_r,$a,Yo,Rs,y,0,-0,0)}}break}while(!0);Jr(r)}function vb(r,s,o,u,h,y,T,I,H,ee,le,fe,ne,ie){if(r.timeoutHandle=-1,fe=s.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(Wu={stylesheets:null,count:0,unsuspend:FC},db(s),fe=qC(),fe!==null)){r.cancelPendingCommit=fe(Sb.bind(null,r,s,y,o,u,h,T,I,H,le,1,ne,ie)),ks(r,y,T,!ee);return}Sb(r,s,y,o,u,h,T,I,H)}function oC(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],y=h.getSnapshot;h=h.value;try{if(!Jn(y(),h))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ks(r,s,o,u){s&=~Np,s&=~$a,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var h=s;0<h;){var y=31-Sn(h),T=1<<y;u[y]=-1,h&=~T}o!==0&&Lr(r,o,s)}function sf(){return(ht&6)===0?(qu(0),!1):!0}function Pp(){if(Xe!==null){if(mt===0)var r=Xe.return;else r=Xe,Ri=Ba=null,Jm(r),Fo=null,Mu=0,r=Xe;for(;r!==null;)X_(r.alternate,r),r=r.return;Xe=null}}function Wo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,SC(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Pp(),Tt=r,Xe=o=Si(r.current,null),it=s,mt=0,rr=null,Rs=!1,$o=va(r,s),Ip=!1,Yo=_r=Np=$a=Is=Pt=0,Yn=Fu=null,Dp=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var h=31-Sn(u),y=1<<h;s|=r[h],u&=~y}return Pi=s,Ad(),o}function _b(r,s){$e=null,F.H=Gd,s===Su||s===jd?(s=P0(),mt=3):s===O0?(s=P0(),mt=4):mt=s===V_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,rr=s,Xe===null&&(Pt=1,Wd(r,mr(s,r.current)))}function bb(){var r=F.H;return F.H=Gd,r===null?Gd:r}function Eb(){var r=F.A;return F.A=sC,r}function Vp(){Pt=4,Rs||(it&4194048)!==it&&vr.current!==null||($o=!0),(Is&134217727)===0&&($a&134217727)===0||Tt===null||ks(Tt,it,_r,!1)}function Lp(r,s,o){var u=ht;ht|=2;var h=bb(),y=Eb();(Tt!==r||it!==s)&&(rf=null,Wo(r,s)),s=!1;var T=Pt;e:do try{if(mt!==0&&Xe!==null){var I=Xe,H=rr;switch(mt){case 8:Pp(),T=6;break e;case 3:case 2:case 9:case 6:vr.current===null&&(s=!0);var ee=mt;if(mt=0,rr=null,Xo(r,I,H,ee),o&&$o){T=0;break e}break;default:ee=mt,mt=0,rr=null,Xo(r,I,H,ee)}}lC(),T=Pt;break}catch(le){_b(r,le)}while(!0);return s&&r.shellSuspendCounter++,Ri=Ba=null,ht=u,F.H=h,F.A=y,Xe===null&&(Tt=null,it=0,Ad()),T}function lC(){for(;Xe!==null;)xb(Xe)}function uC(r,s){var o=ht;ht|=2;var u=bb(),h=Eb();Tt!==r||it!==s?(rf=null,nf=Fe()+500,Wo(r,s)):$o=va(r,s);e:do try{if(mt!==0&&Xe!==null){s=Xe;var y=rr;t:switch(mt){case 1:mt=0,rr=null,Xo(r,s,y,1);break;case 2:case 9:if(M0(y)){mt=0,rr=null,wb(s);break}s=function(){mt!==2&&mt!==9||Tt!==r||(mt=7),Jr(r)},y.then(s,s);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:M0(y)?(mt=0,rr=null,wb(s)):(mt=0,rr=null,Xo(r,s,y,7));break;case 5:var T=null;switch(Xe.tag){case 26:T=Xe.memoizedState;case 5:case 27:var I=Xe;if(!T||iE(T)){mt=0,rr=null;var H=I.sibling;if(H!==null)Xe=H;else{var ee=I.return;ee!==null?(Xe=ee,af(ee)):Xe=null}break t}}mt=0,rr=null,Xo(r,s,y,5);break;case 6:mt=0,rr=null,Xo(r,s,y,6);break;case 8:Pp(),Pt=6;break e;default:throw Error(i(462))}}cC();break}catch(le){_b(r,le)}while(!0);return Ri=Ba=null,F.H=u,F.A=h,ht=o,Xe!==null?0:(Tt=null,it=0,Ad(),Pt)}function cC(){for(;Xe!==null&&!Ce();)xb(Xe)}function xb(r){var s=Q_(r.alternate,r,Pi);r.memoizedProps=r.pendingProps,s===null?af(r):Xe=s}function wb(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=H_(o,s,s.pendingProps,s.type,void 0,it);break;case 11:s=H_(o,s,s.pendingProps,s.type.render,s.ref,it);break;case 5:Jm(s);default:X_(o,s),s=Xe=T0(s,Pi),s=Q_(o,s,Pi)}r.memoizedProps=r.pendingProps,s===null?af(r):Xe=s}function Xo(r,s,o,u){Ri=Ba=null,Jm(s),Fo=null,Mu=0;var h=s.return;try{if(J2(r,h,s,o,it)){Pt=1,Wd(r,mr(o,r.current)),Xe=null;return}}catch(y){if(h!==null)throw Xe=h,y;Pt=1,Wd(r,mr(o,r.current)),Xe=null;return}s.flags&32768?(ut||u===1?r=!0:$o||(it&536870912)!==0?r=!1:(Rs=r=!0,(u===2||u===9||u===3||u===6)&&(u=vr.current,u!==null&&u.tag===13&&(u.flags|=16384))),Tb(s,r)):af(s)}function af(r){var s=r;do{if((s.flags&32768)!==0){Tb(s,Rs);return}r=s.return;var o=tC(s.alternate,s,Pi);if(o!==null){Xe=o;return}if(s=s.sibling,s!==null){Xe=s;return}Xe=s=r}while(s!==null);Pt===0&&(Pt=5)}function Tb(r,s){do{var o=nC(r.alternate,r);if(o!==null){o.flags&=32767,Xe=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Xe=r;return}Xe=r=o}while(r!==null);Pt=6,Xe=null}function Sb(r,s,o,u,h,y,T,I,H){r.cancelPendingCommit=null;do of();while(_n!==0);if((ht&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=Rm,eu(r,o,y,T,I,H),r===Tt&&(Xe=Tt=null,it=0),Ko=s,Ds=r,Qo=o,Op=y,Mp=h,pb=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,mC(Hn,function(){return Nb(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=F.T,F.T=null,h=W.p,W.p=2,T=ht,ht|=4;try{rC(r,s,o)}finally{ht=T,W.p=h,F.T=u}}_n=1,Ab(),Cb(),Rb()}}function Ab(){if(_n===1){_n=0;var r=Ds,s=Ko,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=F.T,F.T=null;var u=W.p;W.p=2;var h=ht;ht|=4;try{lb(s,r);var y=Wp,T=m0(r.containerInfo),I=y.focusedElem,H=y.selectionRange;if(T!==I&&I&&I.ownerDocument&&h0(I.ownerDocument.documentElement,I)){if(H!==null&&wm(I)){var ee=H.start,le=H.end;if(le===void 0&&(le=ee),"selectionStart"in I)I.selectionStart=ee,I.selectionEnd=Math.min(le,I.value.length);else{var fe=I.ownerDocument||document,ne=fe&&fe.defaultView||window;if(ne.getSelection){var ie=ne.getSelection(),Ue=I.textContent.length,Me=Math.min(H.start,Ue),vt=H.end===void 0?Me:Math.min(H.end,Ue);!ie.extend&&Me>vt&&(T=vt,vt=Me,Me=T);var Q=f0(I,Me),K=f0(I,vt);if(Q&&K&&(ie.rangeCount!==1||ie.anchorNode!==Q.node||ie.anchorOffset!==Q.offset||ie.focusNode!==K.node||ie.focusOffset!==K.offset)){var Z=fe.createRange();Z.setStart(Q.node,Q.offset),ie.removeAllRanges(),Me>vt?(ie.addRange(Z),ie.extend(K.node,K.offset)):(Z.setEnd(K.node,K.offset),ie.addRange(Z))}}}}for(fe=[],ie=I;ie=ie.parentNode;)ie.nodeType===1&&fe.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<fe.length;I++){var ue=fe[I];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}_f=!!Qp,Wp=Qp=null}finally{ht=h,W.p=u,F.T=o}}r.current=s,_n=2}}function Cb(){if(_n===2){_n=0;var r=Ds,s=Ko,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=F.T,F.T=null;var u=W.p;W.p=2;var h=ht;ht|=4;try{ib(r,s.alternate,s)}finally{ht=h,W.p=u,F.T=o}}_n=3}}function Rb(){if(_n===4||_n===3){_n=0,Ie();var r=Ds,s=Ko,o=Qo,u=pb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?_n=5:(_n=0,Ko=Ds=null,Ib(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(Ns=null),mo(o),s=s.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Mt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=F.T,h=W.p,W.p=2,F.T=null;try{for(var y=r.onRecoverableError,T=0;T<u.length;T++){var I=u[T];y(I.value,{componentStack:I.stack})}}finally{F.T=s,W.p=h}}(Qo&3)!==0&&of(),Jr(r),h=r.pendingLanes,(o&4194090)!==0&&(h&42)!==0?r===jp?Hu++:(Hu=0,jp=r):Hu=0,qu(0)}}function Ib(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,wu(s)))}function of(r){return Ab(),Cb(),Rb(),Nb()}function Nb(){if(_n!==5)return!1;var r=Ds,s=Op;Op=0;var o=mo(Qo),u=F.T,h=W.p;try{W.p=32>o?32:o,F.T=null,o=Mp,Mp=null;var y=Ds,T=Qo;if(_n=0,Ko=Ds=null,Qo=0,(ht&6)!==0)throw Error(i(331));var I=ht;if(ht|=4,hb(y.current),cb(y,y.current,T,o),ht=I,qu(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Mt,y)}catch{}return!0}finally{W.p=h,F.T=u,Ib(r,s)}}function Db(r,s,o){s=mr(o,s),s=hp(r.stateNode,s,2),r=Es(r,s,2),r!==null&&(mi(r,2),Jr(r))}function Et(r,s,o){if(r.tag===3)Db(r,r,o);else for(;s!==null;){if(s.tag===3){Db(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ns===null||!Ns.has(u))){r=mr(o,r),o=j_(2),u=Es(s,o,2),u!==null&&(P_(o,u,s,r),mi(u,2),Jr(u));break}}s=s.return}}function Up(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new aC;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(o)||(Ip=!0,h.add(o),r=dC.bind(null,r,s,o),s.then(r,r))}function dC(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Tt===r&&(it&o)===o&&(Pt===4||Pt===3&&(it&62914560)===it&&300>Fe()-kp?(ht&2)===0&&Wo(r,0):Np|=o,Yo===it&&(Yo=0)),Jr(r)}function kb(r,s){s===0&&(s=Jl()),r=ko(r,s),r!==null&&(mi(r,s),Jr(r))}function fC(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),kb(r,o)}function hC(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),kb(r,o)}function mC(r,s){return se(r,s)}var lf=null,Zo=null,Bp=!1,uf=!1,zp=!1,Ya=0;function Jr(r){r!==Zo&&r.next===null&&(Zo===null?lf=Zo=r:Zo=Zo.next=r),uf=!0,Bp||(Bp=!0,gC())}function qu(r,s){if(!zp&&uf){zp=!0;do for(var o=!1,u=lf;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var y=0;else{var T=u.suspendedLanes,I=u.pingedLanes;y=(1<<31-Sn(42|r)+1)-1,y&=h&~(T&~I),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Pb(u,y))}else y=it,y=ho(u,u===Tt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||va(u,y)||(o=!0,Pb(u,y));u=u.next}while(o);zp=!1}}function pC(){Ob()}function Ob(){uf=Bp=!1;var r=0;Ya!==0&&(TC()&&(r=Ya),Ya=0);for(var s=Fe(),o=null,u=lf;u!==null;){var h=u.next,y=Mb(u,s);y===0?(u.next=null,o===null?lf=h:o.next=h,h===null&&(Zo=o)):(o=u,(r!==0||(y&3)!==0)&&(uf=!0)),u=h}qu(r)}function Mb(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var T=31-Sn(y),I=1<<T,H=h[T];H===-1?((I&o)===0||(I&u)!==0)&&(h[T]=Xl(I,s)):H<=s&&(r.expiredLanes|=I),y&=~I}if(s=Tt,o=it,o=ho(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(mt===2||mt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Ae(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||va(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&Ae(u),mo(o)){case 2:case 8:o=at;break;case 32:o=Hn;break;case 268435456:o=cs;break;default:o=Hn}return u=jb.bind(null,r),o=se(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&Ae(u),r.callbackPriority=2,r.callbackNode=null,2}function jb(r,s){if(_n!==0&&_n!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(of()&&r.callbackNode!==o)return null;var u=it;return u=ho(r,r===Tt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(yb(r,u,s),Mb(r,Fe()),r.callbackNode!=null&&r.callbackNode===o?jb.bind(null,r):null)}function Pb(r,s){if(of())return null;yb(r,s,!0)}function gC(){AC(function(){(ht&6)!==0?se(lt,pC):Ob()})}function Fp(){return Ya===0&&(Ya=Zl()),Ya}function Vb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:bo(""+r)}function Lb(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function yC(r,s,o,u,h){if(s==="submit"&&o&&o.stateNode===h){var y=Vb((h[$t]||null).action),T=u.submitter;T&&(s=(s=T[$t]||null)?Vb(s.formAction):T.getAttribute("formAction"),s!==null&&(y=s,T=null));var I=new Eo("action","action",null,u,h);r.push({event:I,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ya!==0){var H=T?Lb(h,T):new FormData(h);lp(o,{pending:!0,data:H,method:h.method,action:y},null,H)}}else typeof y=="function"&&(I.preventDefault(),H=T?Lb(h,T):new FormData(h),lp(o,{pending:!0,data:H,method:h.method,action:y},y,H))},currentTarget:h}]})}}for(var Hp=0;Hp<Cm.length;Hp++){var qp=Cm[Hp],vC=qp.toLowerCase(),_C=qp[0].toUpperCase()+qp.slice(1);Sr(vC,"on"+_C)}Sr(y0,"onAnimationEnd"),Sr(v0,"onAnimationIteration"),Sr(_0,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(P2,"onTransitionRun"),Sr(V2,"onTransitionStart"),Sr(L2,"onTransitionCancel"),Sr(b0,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wr("onBeforeInput",["compositionend","keypress","textInput","paste"]),wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gu));function Ub(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],h=u.event;u=u.listeners;e:{var y=void 0;if(s)for(var T=u.length-1;0<=T;T--){var I=u[T],H=I.instance,ee=I.currentTarget;if(I=I.listener,H!==y&&h.isPropagationStopped())break e;y=I,h.currentTarget=ee;try{y(h)}catch(le){Qd(le)}h.currentTarget=null,y=H}else for(T=0;T<u.length;T++){if(I=u[T],H=I.instance,ee=I.currentTarget,I=I.listener,H!==y&&h.isPropagationStopped())break e;y=I,h.currentTarget=ee;try{y(h)}catch(le){Qd(le)}h.currentTarget=null,y=H}}}}function Ze(r,s){var o=s[nu];o===void 0&&(o=s[nu]=new Set);var u=r+"__bubble";o.has(u)||(Bb(s,r,2,!1),o.add(u))}function Gp(r,s,o){var u=0;s&&(u|=4),Bb(o,r,u,s)}var cf="_reactListening"+Math.random().toString(36).slice(2);function $p(r){if(!r[cf]){r[cf]=!0,ru.forEach(function(o){o!=="selectionchange"&&(bC.has(o)||Gp(o,!1,r),Gp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[cf]||(s[cf]=!0,Gp("selectionchange",!1,s))}}function Bb(r,s,o,u){switch(cE(s)){case 2:var h=YC;break;case 8:h=KC;break;default:h=ag}o=h.bind(null,s,o,r),h=void 0,!fr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(s,o,{capture:!0,passive:h}):r.addEventListener(s,o,!0):h!==void 0?r.addEventListener(s,o,{passive:h}):r.addEventListener(s,o,!1)}function Yp(r,s,o,u,h){var y=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var I=u.stateNode.containerInfo;if(I===h)break;if(T===4)for(T=u.return;T!==null;){var H=T.tag;if((H===3||H===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;I!==null;){if(T=pi(I),T===null)return;if(H=T.tag,H===5||H===6||H===26||H===27){u=y=T;continue e}I=I.parentNode}}u=u.return}dd(function(){var ee=y,le=dr(o),fe=[];e:{var ne=E0.get(r);if(ne!==void 0){var ie=Eo,Ue=r;switch(r){case"keypress":if(qr(o)===0)break e;case"keydown":case"keyup":ie=Co;break;case"focusin":Ue="focus",ie=To;break;case"focusout":Ue="blur",ie=To;break;case"beforeblur":case"afterblur":ie=To;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=_m;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=_d;break;case y0:case v0:case _0:ie=So;break;case b0:ie=Ed;break;case"scroll":case"scrollend":ie=fd;break;case"wheel":ie=Ro;break;case"copy":case"cut":case"paste":ie=Ao;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=pu;break;case"toggle":case"beforetoggle":ie=wd}var Me=(s&4)!==0,vt=!Me&&(r==="scroll"||r==="scrollend"),Q=Me?ne!==null?ne+"Capture":null:ne;Me=[];for(var K=ee,Z;K!==null;){var ue=K;if(Z=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Z===null||Q===null||(ue=Aa(K,Q),ue!=null&&Me.push($u(K,ue,Z))),vt)break;K=K.return}0<Me.length&&(ne=new ie(ne,Ue,null,o,le),fe.push({event:ne,listeners:Me}))}}if((s&7)===0){e:{if(ne=r==="mouseover"||r==="pointerover",ie=r==="mouseout"||r==="pointerout",ne&&o!==_i&&(Ue=o.relatedTarget||o.fromElement)&&(pi(Ue)||Ue[ur]))break e;if((ie||ne)&&(ne=le.window===le?le:(ne=le.ownerDocument)?ne.defaultView||ne.parentWindow:window,ie?(Ue=o.relatedTarget||o.toElement,ie=ee,Ue=Ue?pi(Ue):null,Ue!==null&&(vt=l(Ue),Me=Ue.tag,Ue!==vt||Me!==5&&Me!==27&&Me!==6)&&(Ue=null)):(ie=null,Ue=ee),ie!==Ue)){if(Me=hr,ue="onMouseLeave",Q="onMouseEnter",K="mouse",(r==="pointerout"||r==="pointerover")&&(Me=pu,ue="onPointerLeave",Q="onPointerEnter",K="pointer"),vt=ie==null?ne:Br(ie),Z=Ue==null?ne:Br(Ue),ne=new Me(ue,K+"leave",ie,o,le),ne.target=vt,ne.relatedTarget=Z,ue=null,pi(le)===ee&&(Me=new Me(Q,K+"enter",Ue,o,le),Me.target=Z,Me.relatedTarget=vt,ue=Me),vt=ue,ie&&Ue)t:{for(Me=ie,Q=Ue,K=0,Z=Me;Z;Z=Jo(Z))K++;for(Z=0,ue=Q;ue;ue=Jo(ue))Z++;for(;0<K-Z;)Me=Jo(Me),K--;for(;0<Z-K;)Q=Jo(Q),Z--;for(;K--;){if(Me===Q||Q!==null&&Me===Q.alternate)break t;Me=Jo(Me),Q=Jo(Q)}Me=null}else Me=null;ie!==null&&zb(fe,ne,ie,Me,!1),Ue!==null&&vt!==null&&zb(fe,vt,Ue,Me,!0)}}e:{if(ne=ee?Br(ee):window,ie=ne.nodeName&&ne.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ne.type==="file")var we=a0;else if(tn(ne))if(o0)we=O2;else{we=D2;var We=N2}else ie=ne.nodeName,!ie||ie.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&lu(ee.elementType)&&(we=a0):we=k2;if(we&&(we=we(r,ee))){Ti(fe,we,o,le);break e}We&&We(r,ne,ee),r==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&gs(ne,"number",ne.value)}switch(We=ee?Br(ee):window,r){case"focusin":(tn(We)||We.contentEditable==="true")&&(Io=We,Tm=ee,vu=null);break;case"focusout":vu=Tm=Io=null;break;case"mousedown":Sm=!0;break;case"contextmenu":case"mouseup":case"dragend":Sm=!1,p0(fe,o,le);break;case"selectionchange":if(j2)break;case"keydown":case"keyup":p0(fe,o,le)}var Re;if(Yr)e:{switch(r){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else nt?ae(r,o)&&(je="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(je="onCompositionStart");je&&(x&&o.locale!=="ko"&&(nt||je!=="onCompositionStart"?je==="onCompositionEnd"&&nt&&(Re=cu()):(Hr=le,ys="value"in Hr?Hr.value:Hr.textContent,nt=!0)),We=df(ee,je),0<We.length&&(je=new hu(je,r,null,o,le),fe.push({event:je,listeners:We}),Re?je.data=Re:(Re=ye(o),Re!==null&&(je.data=Re)))),(Re=_?en(r,o):rt(r,o))&&(je=df(ee,"onBeforeInput"),0<je.length&&(We=new hu("onBeforeInput","beforeinput",null,o,le),fe.push({event:We,listeners:je}),We.data=Re)),yC(fe,r,ee,o,le)}Ub(fe,s)})}function $u(r,s,o){return{instance:r,listener:s,currentTarget:o}}function df(r,s){for(var o=s+"Capture",u=[];r!==null;){var h=r,y=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||y===null||(h=Aa(r,o),h!=null&&u.unshift($u(r,h,y)),h=Aa(r,s),h!=null&&u.push($u(r,h,y))),r.tag===3)return u;r=r.return}return[]}function Jo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function zb(r,s,o,u,h){for(var y=s._reactName,T=[];o!==null&&o!==u;){var I=o,H=I.alternate,ee=I.stateNode;if(I=I.tag,H!==null&&H===u)break;I!==5&&I!==26&&I!==27||ee===null||(H=ee,h?(ee=Aa(o,y),ee!=null&&T.unshift($u(o,ee,H))):h||(ee=Aa(o,y),ee!=null&&T.push($u(o,ee,H)))),o=o.return}T.length!==0&&r.push({event:s,listeners:T})}var EC=/\r\n?/g,xC=/\u0000|\uFFFD/g;function Fb(r){return(typeof r=="string"?r:""+r).replace(EC,`
`).replace(xC,"")}function Hb(r,s){return s=Fb(s),Fb(r)===s}function ff(){}function yt(r,s,o,u,h,y){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||cr(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&cr(r,""+u);break;case"className":zr(r,"class",u);break;case"tabIndex":zr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":zr(r,o,u);break;case"style":ou(r,u,y);break;case"data":if(s!=="object"){zr(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=bo(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&yt(r,s,"name",h.name,h,null),yt(r,s,"formEncType",h.formEncType,h,null),yt(r,s,"formMethod",h.formMethod,h,null),yt(r,s,"formTarget",h.formTarget,h,null)):(yt(r,s,"encType",h.encType,h,null),yt(r,s,"method",h.method,h,null),yt(r,s,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=bo(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=ff);break;case"onScroll":u!=null&&Ze("scroll",r);break;case"onScrollEnd":u!=null&&Ze("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=bo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Ze("beforetoggle",r),Ze("toggle",r),ps(r,"popover",u);break;case"xlinkActuate":gn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":gn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":gn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":gn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":gn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":gn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":gn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":gn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":gn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ps(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ym.get(o)||o,ps(r,o,u))}}function Kp(r,s,o,u,h,y){switch(o){case"style":ou(r,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?cr(r,u):(typeof u=="number"||typeof u=="bigint")&&cr(r,""+u);break;case"onScroll":u!=null&&Ze("scroll",r);break;case"onScrollEnd":u!=null&&Ze("scrollend",r);break;case"onClick":u!=null&&(r.onclick=ff);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!po.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),s=o.slice(2,h?o.length-7:void 0),y=r[$t]||null,y=y!=null?y[o]:null,typeof y=="function"&&r.removeEventListener(s,y,h),typeof u=="function")){typeof y!="function"&&y!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,h);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):ps(r,o,u)}}}function bn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",r),Ze("load",r);var u=!1,h=!1,y;for(y in o)if(o.hasOwnProperty(y)){var T=o[y];if(T!=null)switch(y){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:yt(r,s,y,T,o,null)}}h&&yt(r,s,"srcSet",o.srcSet,o,null),u&&yt(r,s,"src",o.src,o,null);return;case"input":Ze("invalid",r);var I=y=T=h=null,H=null,ee=null;for(u in o)if(o.hasOwnProperty(u)){var le=o[u];if(le!=null)switch(u){case"name":h=le;break;case"type":T=le;break;case"checked":H=le;break;case"defaultChecked":ee=le;break;case"value":y=le;break;case"defaultValue":I=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,s));break;default:yt(r,s,u,le,o,null)}}wa(r,y,I,H,ee,T,h,!1),_o(r);return;case"select":Ze("invalid",r),u=T=y=null;for(h in o)if(o.hasOwnProperty(h)&&(I=o[h],I!=null))switch(h){case"value":y=I;break;case"defaultValue":T=I;break;case"multiple":u=I;default:yt(r,s,h,I,o,null)}s=y,o=T,r.multiple=!!u,s!=null?vi(r,!!u,s,!1):o!=null&&vi(r,!!u,o,!0);return;case"textarea":Ze("invalid",r),y=h=u=null;for(T in o)if(o.hasOwnProperty(T)&&(I=o[T],I!=null))switch(T){case"value":u=I;break;case"defaultValue":h=I;break;case"children":y=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:yt(r,s,T,I,o,null)}Ta(r,u,h,y),_o(r);return;case"option":for(H in o)if(o.hasOwnProperty(H)&&(u=o[H],u!=null))switch(H){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:yt(r,s,H,u,o,null)}return;case"dialog":Ze("beforetoggle",r),Ze("toggle",r),Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":Ze("load",r);break;case"video":case"audio":for(u=0;u<Gu.length;u++)Ze(Gu[u],r);break;case"image":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"embed":case"source":case"link":Ze("error",r),Ze("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in o)if(o.hasOwnProperty(ee)&&(u=o[ee],u!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:yt(r,s,ee,u,o,null)}return;default:if(lu(s)){for(le in o)o.hasOwnProperty(le)&&(u=o[le],u!==void 0&&Kp(r,s,le,u,o,void 0));return}}for(I in o)o.hasOwnProperty(I)&&(u=o[I],u!=null&&yt(r,s,I,u,o,null))}function wC(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,y=null,T=null,I=null,H=null,ee=null,le=null;for(ie in o){var fe=o[ie];if(o.hasOwnProperty(ie)&&fe!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":H=fe;default:u.hasOwnProperty(ie)||yt(r,s,ie,null,u,fe)}}for(var ne in u){var ie=u[ne];if(fe=o[ne],u.hasOwnProperty(ne)&&(ie!=null||fe!=null))switch(ne){case"type":y=ie;break;case"name":h=ie;break;case"checked":ee=ie;break;case"defaultChecked":le=ie;break;case"value":T=ie;break;case"defaultValue":I=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,s));break;default:ie!==fe&&yt(r,s,ne,ie,u,fe)}}Zn(r,T,I,H,ee,le,y,h);return;case"select":ie=T=I=ne=null;for(y in o)if(H=o[y],o.hasOwnProperty(y)&&H!=null)switch(y){case"value":break;case"multiple":ie=H;default:u.hasOwnProperty(y)||yt(r,s,y,null,u,H)}for(h in u)if(y=u[h],H=o[h],u.hasOwnProperty(h)&&(y!=null||H!=null))switch(h){case"value":ne=y;break;case"defaultValue":I=y;break;case"multiple":T=y;default:y!==H&&yt(r,s,h,y,u,H)}s=I,o=T,u=ie,ne!=null?vi(r,!!o,ne,!1):!!u!=!!o&&(s!=null?vi(r,!!o,s,!0):vi(r,!!o,o?[]:"",!1));return;case"textarea":ie=ne=null;for(I in o)if(h=o[I],o.hasOwnProperty(I)&&h!=null&&!u.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:yt(r,s,I,null,u,h)}for(T in u)if(h=u[T],y=o[T],u.hasOwnProperty(T)&&(h!=null||y!=null))switch(T){case"value":ne=h;break;case"defaultValue":ie=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==y&&yt(r,s,T,h,u,y)}pt(r,ne,ie);return;case"option":for(var Ue in o)if(ne=o[Ue],o.hasOwnProperty(Ue)&&ne!=null&&!u.hasOwnProperty(Ue))switch(Ue){case"selected":r.selected=!1;break;default:yt(r,s,Ue,null,u,ne)}for(H in u)if(ne=u[H],ie=o[H],u.hasOwnProperty(H)&&ne!==ie&&(ne!=null||ie!=null))switch(H){case"selected":r.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:yt(r,s,H,ne,u,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in o)ne=o[Me],o.hasOwnProperty(Me)&&ne!=null&&!u.hasOwnProperty(Me)&&yt(r,s,Me,null,u,ne);for(ee in u)if(ne=u[ee],ie=o[ee],u.hasOwnProperty(ee)&&ne!==ie&&(ne!=null||ie!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:yt(r,s,ee,ne,u,ie)}return;default:if(lu(s)){for(var vt in o)ne=o[vt],o.hasOwnProperty(vt)&&ne!==void 0&&!u.hasOwnProperty(vt)&&Kp(r,s,vt,void 0,u,ne);for(le in u)ne=u[le],ie=o[le],!u.hasOwnProperty(le)||ne===ie||ne===void 0&&ie===void 0||Kp(r,s,le,ne,u,ie);return}}for(var Q in o)ne=o[Q],o.hasOwnProperty(Q)&&ne!=null&&!u.hasOwnProperty(Q)&&yt(r,s,Q,null,u,ne);for(fe in u)ne=u[fe],ie=o[fe],!u.hasOwnProperty(fe)||ne===ie||ne==null&&ie==null||yt(r,s,fe,ne,u,ie)}var Qp=null,Wp=null;function hf(r){return r.nodeType===9?r:r.ownerDocument}function qb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gb(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Xp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Zp=null;function TC(){var r=window.event;return r&&r.type==="popstate"?r===Zp?!1:(Zp=r,!0):(Zp=null,!1)}var $b=typeof setTimeout=="function"?setTimeout:void 0,SC=typeof clearTimeout=="function"?clearTimeout:void 0,Yb=typeof Promise=="function"?Promise:void 0,AC=typeof queueMicrotask=="function"?queueMicrotask:typeof Yb<"u"?function(r){return Yb.resolve(null).then(r).catch(CC)}:$b;function CC(r){setTimeout(function(){throw r})}function Os(r){return r==="head"}function Kb(r,s){var o=s,u=0,h=0;do{var y=o.nextSibling;if(r.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<u&&8>u){o=u;var T=r.ownerDocument;if(o&1&&Yu(T.documentElement),o&2&&Yu(T.body),o&4)for(o=T.head,Yu(o),T=o.firstChild;T;){var I=T.nextSibling,H=T.nodeName;T[_a]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=I}}if(h===0){r.removeChild(y),tc(s);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:u=o.charCodeAt(0)-48;else u=0;o=y}while(o);tc(s)}function Jp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Jp(o),ms(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function RC(r,s,o,u){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[_a])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var y=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Cr(r.nextSibling),r===null)break}return null}function IC(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Cr(r.nextSibling),r===null))return null;return r}function eg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function NC(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Cr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var tg=null;function Qb(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function Wb(r,s,o){switch(s=hf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Yu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);ms(r)}var br=new Map,Xb=new Set;function mf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Vi=W.d;W.d={f:DC,r:kC,D:OC,C:MC,L:jC,m:PC,X:LC,S:VC,M:UC};function DC(){var r=Vi.f(),s=sf();return r||s}function kC(r){var s=Ur(r);s!==null&&s.tag===5&&s.type==="form"?y_(s):Vi.r(r)}var el=typeof document>"u"?null:document;function Zb(r,s,o){var u=el;if(u&&typeof s=="string"&&s){var h=Yt(s);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),Xb.has(h)||(Xb.add(h),r={rel:r,crossOrigin:o,href:s},u.querySelector(h)===null&&(s=u.createElement("link"),bn(s,"link",r),Bt(s),u.head.appendChild(s)))}}function OC(r){Vi.D(r),Zb("dns-prefetch",r,null)}function MC(r,s){Vi.C(r,s),Zb("preconnect",r,s)}function jC(r,s,o){Vi.L(r,s,o);var u=el;if(u&&r&&s){var h='link[rel="preload"][as="'+Yt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Yt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Yt(o.imageSizes)+'"]')):h+='[href="'+Yt(r)+'"]';var y=h;switch(s){case"style":y=tl(r);break;case"script":y=nl(r)}br.has(y)||(r=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),br.set(y,r),u.querySelector(h)!==null||s==="style"&&u.querySelector(Ku(y))||s==="script"&&u.querySelector(Qu(y))||(s=u.createElement("link"),bn(s,"link",r),Bt(s),u.head.appendChild(s)))}}function PC(r,s){Vi.m(r,s);var o=el;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+Yt(u)+'"][href="'+Yt(r)+'"]',y=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=nl(r)}if(!br.has(y)&&(r=v({rel:"modulepreload",href:r},s),br.set(y,r),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Qu(y)))return}u=o.createElement("link"),bn(u,"link",r),Bt(u),o.head.appendChild(u)}}}function VC(r,s,o){Vi.S(r,s,o);var u=el;if(u&&r){var h=Pn(u).hoistableStyles,y=tl(r);s=s||"default";var T=h.get(y);if(!T){var I={loading:0,preload:null};if(T=u.querySelector(Ku(y)))I.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},o),(o=br.get(y))&&ng(r,o);var H=T=u.createElement("link");Bt(H),bn(H,"link",r),H._p=new Promise(function(ee,le){H.onload=ee,H.onerror=le}),H.addEventListener("load",function(){I.loading|=1}),H.addEventListener("error",function(){I.loading|=2}),I.loading|=4,pf(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:I},h.set(y,T)}}}function LC(r,s){Vi.X(r,s);var o=el;if(o&&r){var u=Pn(o).hoistableScripts,h=nl(r),y=u.get(h);y||(y=o.querySelector(Qu(h)),y||(r=v({src:r,async:!0},s),(s=br.get(h))&&rg(r,s),y=o.createElement("script"),Bt(y),bn(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(h,y))}}function UC(r,s){Vi.M(r,s);var o=el;if(o&&r){var u=Pn(o).hoistableScripts,h=nl(r),y=u.get(h);y||(y=o.querySelector(Qu(h)),y||(r=v({src:r,async:!0,type:"module"},s),(s=br.get(h))&&rg(r,s),y=o.createElement("script"),Bt(y),bn(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(h,y))}}function Jb(r,s,o,u){var h=(h=ve.current)?mf(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=tl(o.href),o=Pn(h).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=tl(o.href);var y=Pn(h).hoistableStyles,T=y.get(r);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,T),(y=h.querySelector(Ku(r)))&&!y._p&&(T.instance=y,T.state.loading=5),br.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},br.set(r,o),y||BC(h,r,o,T.state))),s&&u===null)throw Error(i(528,""));return T}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=nl(o),o=Pn(h).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function tl(r){return'href="'+Yt(r)+'"'}function Ku(r){return'link[rel="stylesheet"]['+r+"]"}function eE(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function BC(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),bn(s,"link",o),Bt(s),r.head.appendChild(s))}function nl(r){return'[src="'+Yt(r)+'"]'}function Qu(r){return"script[async]"+r}function tE(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Yt(o.href)+'"]');if(u)return s.instance=u,Bt(u),u;var h=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Bt(u),bn(u,"style",h),pf(u,o.precedence,r),s.instance=u;case"stylesheet":h=tl(o.href);var y=r.querySelector(Ku(h));if(y)return s.state.loading|=4,s.instance=y,Bt(y),y;u=eE(o),(h=br.get(h))&&ng(u,h),y=(r.ownerDocument||r).createElement("link"),Bt(y);var T=y;return T._p=new Promise(function(I,H){T.onload=I,T.onerror=H}),bn(y,"link",u),s.state.loading|=4,pf(y,o.precedence,r),s.instance=y;case"script":return y=nl(o.src),(h=r.querySelector(Qu(y)))?(s.instance=h,Bt(h),h):(u=o,(h=br.get(y))&&(u=v({},o),rg(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),Bt(h),bn(h,"link",u),r.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,pf(u,o.precedence,r));return s.instance}function pf(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,y=h,T=0;T<u.length;T++){var I=u[T];if(I.dataset.precedence===s)y=I;else if(y!==h)break}y?y.parentNode.insertBefore(r,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function ng(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function rg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var gf=null;function nE(r,s,o){if(gf===null){var u=new Map,h=gf=new Map;h.set(o,u)}else h=gf,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var y=o[h];if(!(y[_a]||y[Jt]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(s)||"";T=r+T;var I=u.get(T);I?I.push(y):u.set(T,[y])}}return u}function rE(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function zC(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function iE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Wu=null;function FC(){}function HC(r,s,o){if(Wu===null)throw Error(i(475));var u=Wu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=tl(o.href),y=r.querySelector(Ku(h));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=yf.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=y,Bt(y);return}y=r.ownerDocument||r,o=eE(o),(h=br.get(h))&&ng(o,h),y=y.createElement("link"),Bt(y);var T=y;T._p=new Promise(function(I,H){T.onload=I,T.onerror=H}),bn(y,"link",o),s.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=yf.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function qC(){if(Wu===null)throw Error(i(475));var r=Wu;return r.stylesheets&&r.count===0&&ig(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&ig(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function yf(){if(this.count--,this.count===0){if(this.stylesheets)ig(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var vf=null;function ig(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,vf=new Map,s.forEach(GC,r),vf=null,yf.call(r))}function GC(r,s){if(!(s.state.loading&4)){var o=vf.get(r);if(o)var u=o.get(null);else{o=new Map,vf.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<h.length;y++){var T=h[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}h=s.instance,T=h.getAttribute("data-precedence"),y=o.get(T)||u,y===u&&o.set(null,h),o.set(T,h),this.count++,u=yf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),y?y.parentNode.insertBefore(h,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),s.state.loading|=4}}var Xu={$$typeof:z,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function $C(r,s,o,u,h,y,T,I){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function sE(r,s,o,u,h,y,T,I,H,ee,le,fe){return r=new $C(r,s,o,T,I,H,ee,fe),s=1,y===!0&&(s|=24),y=er(3,null,null,s),r.current=y,y.stateNode=r,s=Um(),s.refCount++,r.pooledCache=s,s.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:s},Hm(y),r}function aE(r){return r?(r=Oo,r):Oo}function oE(r,s,o,u,h,y){h=aE(h),u.context===null?u.context=h:u.pendingContext=h,u=bs(s),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=Es(r,u,s),o!==null&&(sr(o,r,s),Cu(o,r,s))}function lE(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function sg(r,s){lE(r,s),(r=r.alternate)&&lE(r,s)}function uE(r){if(r.tag===13){var s=ko(r,67108864);s!==null&&sr(s,r,67108864),sg(r,67108864)}}var _f=!0;function YC(r,s,o,u){var h=F.T;F.T=null;var y=W.p;try{W.p=2,ag(r,s,o,u)}finally{W.p=y,F.T=h}}function KC(r,s,o,u){var h=F.T;F.T=null;var y=W.p;try{W.p=8,ag(r,s,o,u)}finally{W.p=y,F.T=h}}function ag(r,s,o,u){if(_f){var h=og(u);if(h===null)Yp(r,s,u,bf,o),dE(r,u);else if(WC(h,r,s,o,u))u.stopPropagation();else if(dE(r,u),s&4&&-1<QC.indexOf(r)){for(;h!==null;){var y=Ur(h);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=xr(y.pendingLanes);if(T!==0){var I=y;for(I.pendingLanes|=2,I.entangledLanes|=2;T;){var H=1<<31-Sn(T);I.entanglements[1]|=H,T&=~H}Jr(y),(ht&6)===0&&(nf=Fe()+500,qu(0))}}break;case 13:I=ko(y,2),I!==null&&sr(I,y,2),sf(),sg(y,2)}if(y=og(u),y===null&&Yp(r,s,u,bf,o),y===h)break;h=y}h!==null&&u.stopPropagation()}else Yp(r,s,u,null,o)}}function og(r){return r=dr(r),lg(r)}var bf=null;function lg(r){if(bf=null,r=pi(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return bf=r,null}function cE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pn()){case lt:return 2;case at:return 8;case Hn:case fo:return 32;case cs:return 268435456;default:return 32}default:return 32}}var ug=!1,Ms=null,js=null,Ps=null,Zu=new Map,Ju=new Map,Vs=[],QC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dE(r,s){switch(r){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":Zu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ju.delete(s.pointerId)}}function ec(r,s,o,u,h,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[h]},s!==null&&(s=Ur(s),s!==null&&uE(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function WC(r,s,o,u,h){switch(s){case"focusin":return Ms=ec(Ms,r,s,o,u,h),!0;case"dragenter":return js=ec(js,r,s,o,u,h),!0;case"mouseover":return Ps=ec(Ps,r,s,o,u,h),!0;case"pointerover":var y=h.pointerId;return Zu.set(y,ec(Zu.get(y)||null,r,s,o,u,h)),!0;case"gotpointercapture":return y=h.pointerId,Ju.set(y,ec(Ju.get(y)||null,r,s,o,u,h)),!0}return!1}function fE(r){var s=pi(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,id(r.priority,function(){if(o.tag===13){var u=ir();u=ds(u);var h=ko(o,u);h!==null&&sr(h,o,u),sg(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ef(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=og(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);_i=u,o.target.dispatchEvent(u),_i=null}else return s=Ur(o),s!==null&&uE(s),r.blockedOn=o,!1;s.shift()}return!0}function hE(r,s,o){Ef(r)&&o.delete(s)}function XC(){ug=!1,Ms!==null&&Ef(Ms)&&(Ms=null),js!==null&&Ef(js)&&(js=null),Ps!==null&&Ef(Ps)&&(Ps=null),Zu.forEach(hE),Ju.forEach(hE)}function xf(r,s){r.blockedOn===s&&(r.blockedOn=null,ug||(ug=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,XC)))}var wf=null;function mE(r){wf!==r&&(wf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){wf===r&&(wf=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],h=r[s+2];if(typeof u!="function"){if(lg(u||o)===null)continue;break}var y=Ur(o);y!==null&&(r.splice(s,3),s-=3,lp(y,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function tc(r){function s(H){return xf(H,r)}Ms!==null&&xf(Ms,r),js!==null&&xf(js,r),Ps!==null&&xf(Ps,r),Zu.forEach(s),Ju.forEach(s);for(var o=0;o<Vs.length;o++){var u=Vs[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Vs.length&&(o=Vs[0],o.blockedOn===null);)fE(o),o.blockedOn===null&&Vs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],y=o[u+1],T=h[$t]||null;if(typeof y=="function")T||mE(o);else if(T){var I=null;if(y&&y.hasAttribute("formAction")){if(h=y,T=y[$t]||null)I=T.formAction;else if(lg(h)!==null)continue}else I=T.action;typeof I=="function"?o[u+1]=I:(o.splice(u,3),u-=3),mE(o)}}}function cg(r){this._internalRoot=r}Tf.prototype.render=cg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=ir();oE(o,u,r,s,null,null)},Tf.prototype.unmount=cg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;oE(r.current,2,null,r,null,null),sf(),s[ur]=null}};function Tf(r){this._internalRoot=r}Tf.prototype.unstable_scheduleHydration=function(r){if(r){var s=fs();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Vs.length&&s!==0&&s<Vs[o].priority;o++);Vs.splice(o,0,r),o===0&&fE(r)}};var pE=e.version;if(pE!=="19.1.0")throw Error(i(527,pE,"19.1.0"));W.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var ZC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sf.isDisabled&&Sf.supportsFiber)try{Mt=Sf.inject(ZC),ft=Sf}catch{}}return rc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",h=D_,y=k_,T=O_,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks)),s=sE(r,1,!1,null,null,o,u,h,y,T,I,null),r[ur]=s.current,$p(r),new cg(s)},rc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,h="",y=D_,T=k_,I=O_,H=null,ee=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(H=o.unstable_transitionCallbacks),o.formState!==void 0&&(ee=o.formState)),s=sE(r,1,!0,s,o??null,u,h,y,T,I,H,ee),s.context=aE(null),o=s.current,u=ir(),u=ds(u),h=bs(u),h.callback=null,Es(o,h,u),o=u,s.current.lanes=o,mi(s,o),Jr(s),r[ur]=s.current,$p(r),new Tf(s)},rc.version="19.1.0",rc}var SE;function lR(){if(SE)return hg.exports;SE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),hg.exports=oR(),hg.exports}var uR=lR(),ic={},AE;function cR(){if(AE)return ic;AE=1,Object.defineProperty(ic,"__esModule",{value:!0}),ic.parse=c,ic.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,C){const R=new l,A=E.length;if(A<2)return R;const N=(C==null?void 0:C.decode)||v;let V=0;do{const U=E.indexOf("=",V);if(U===-1)break;const z=E.indexOf(";",V),G=z===-1?A:z;if(U>G){V=E.lastIndexOf(";",U-1)+1;continue}const $=f(E,V,U),re=m(E,U,$),k=E.slice($,re);if(R[k]===void 0){let S=f(E,U+1,G),M=m(E,G,S);const L=N(E.slice(S,M));R[k]=L}V=G+1}while(V<A);return R}function f(E,C,R){do{const A=E.charCodeAt(C);if(A!==32&&A!==9)return C}while(++C<R);return R}function m(E,C,R){for(;C>R;){const A=E.charCodeAt(--C);if(A!==32&&A!==9)return C+1}return R}function g(E,C,R){const A=(R==null?void 0:R.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const N=A(C);if(!e.test(N))throw new TypeError(`argument val is invalid: ${C}`);let V=E+"="+N;if(!R)return V;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);V+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);V+="; Domain="+R.domain}if(R.path){if(!i.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);V+="; Path="+R.path}if(R.expires){if(!b(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);V+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(V+="; HttpOnly"),R.secure&&(V+="; Secure"),R.partitioned&&(V+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return V}function v(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function b(E){return a.call(E)==="[object Date]"}return ic}cR();var CE="popstate";function dR(n={}){function e(i,a){let{pathname:l,search:c,hash:f}=i.location;return Fg("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:Ec(a)}return hR(e,t,null,n)}function Dt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function kr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fR(){return Math.random().toString(36).substring(2,10)}function RE(n,e){return{usr:n.state,key:n.key,idx:e}}function Fg(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?jl(e):e,state:t,key:e&&e.key||i||fR()}}function Ec({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function jl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function hR(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,f="POP",m=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function b(){f="POP";let N=v(),V=N==null?null:N-g;g=N,m&&m({action:f,location:A.location,delta:V})}function E(N,V){f="PUSH";let U=Fg(A.location,N,V);g=v()+1;let z=RE(U,g),G=A.createHref(U);try{c.pushState(z,"",G)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;a.location.assign(G)}l&&m&&m({action:f,location:A.location,delta:1})}function C(N,V){f="REPLACE";let U=Fg(A.location,N,V);g=v();let z=RE(U,g),G=A.createHref(U);c.replaceState(z,"",G),l&&m&&m({action:f,location:A.location,delta:0})}function R(N){return mR(N)}let A={get action(){return f},get location(){return n(a,c)},listen(N){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(CE,b),m=N,()=>{a.removeEventListener(CE,b),m=null}},createHref(N){return e(a,N)},createURL:R,encodeLocation(N){let V=R(N);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:E,replace:C,go(N){return c.go(N)}};return A}function mR(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Ec(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function Gw(n,e,t="/"){return pR(n,e,t,!1)}function pR(n,e,t,i){let a=typeof e=="string"?jl(e):e,l=Xi(a.pathname||"/",t);if(l==null)return null;let c=$w(n);gR(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let g=CR(l);f=SR(c[m],g,i)}return f}function $w(n,e=[],t=[],i=""){let a=(l,c,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(Dt(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let g=Gi([i,m.relativePath]),v=t.concat(m);l.children&&l.children.length>0&&(Dt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),$w(l.children,e,v,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:wR(g,l.index),routesMeta:v})};return n.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,c);else for(let m of Yw(l.path))a(l,c,m)}),e}function Yw(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=Yw(i.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>n.startsWith("/")&&m===""?"/":m)}function gR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:TR(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var yR=/^:[\w-]+$/,vR=3,_R=2,bR=1,ER=10,xR=-2,IE=n=>n==="*";function wR(n,e){let t=n.split("/"),i=t.length;return t.some(IE)&&(i+=xR),e&&(i+=_R),t.filter(a=>!IE(a)).reduce((a,l)=>a+(yR.test(l)?vR:l===""?bR:ER),i)}function TR(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function SR(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let f=0;f<i.length;++f){let m=i[f],g=f===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=sh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),E=m.route;if(!b&&g&&t&&!i[i.length-1].route.index&&(b=sh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Gi([l,b.pathname]),pathnameBase:DR(Gi([l,b.pathnameBase])),route:E}),b.pathnameBase!=="/"&&(l=Gi([l,b.pathnameBase]))}return c}function sh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=AR(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:b},E)=>{if(v==="*"){let R=f[E]||"";c=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const C=f[E];return b&&!C?g[v]=void 0:g[v]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function AR(n,e=!1,t=!0){kr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(i.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function CR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Xi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function RR(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?jl(n):n;return{pathname:t?t.startsWith("/")?t:IR(t,e):e,search:kR(i),hash:OR(a)}}function IR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function yg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Vy(n){let e=NR(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Ly(n,e,t,i=!1){let a;typeof n=="string"?a=jl(n):(a={...n},Dt(!a.pathname||!a.pathname.includes("?"),yg("?","pathname","search",a)),Dt(!a.pathname||!a.pathname.includes("#"),yg("#","pathname","hash",a)),Dt(!a.search||!a.search.includes("#"),yg("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=t;else{let b=e.length-1;if(!i&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),b-=1;a.pathname=E.join("/")}f=b>=0?e[b]:"/"}let m=RR(a,f),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var Gi=n=>n.join("/").replace(/\/\/+/g,"/"),DR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),kR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,OR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function MR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Kw=["POST","PUT","PATCH","DELETE"];new Set(Kw);var jR=["GET",...Kw];new Set(jR);var Pl=w.createContext(null);Pl.displayName="DataRouter";var Mh=w.createContext(null);Mh.displayName="DataRouterState";var Qw=w.createContext({isTransitioning:!1});Qw.displayName="ViewTransition";var PR=w.createContext(new Map);PR.displayName="Fetchers";var VR=w.createContext(null);VR.displayName="Await";var Vr=w.createContext(null);Vr.displayName="Navigation";var Mc=w.createContext(null);Mc.displayName="Location";var di=w.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var Uy=w.createContext(null);Uy.displayName="RouteError";function LR(n,{relative:e}={}){Dt(Vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=w.useContext(Vr),{hash:a,pathname:l,search:c}=jc(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Gi([t,l])),i.createHref({pathname:f,search:c,hash:a})}function Vl(){return w.useContext(Mc)!=null}function ss(){return Dt(Vl(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Mc).location}var Ww="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Xw(n){w.useContext(Vr).static||w.useLayoutEffect(n)}function jh(){let{isDataRoute:n}=w.useContext(di);return n?XR():UR()}function UR(){Dt(Vl(),"useNavigate() may be used only in the context of a <Router> component.");let n=w.useContext(Pl),{basename:e,navigator:t}=w.useContext(Vr),{matches:i}=w.useContext(di),{pathname:a}=ss(),l=JSON.stringify(Vy(i)),c=w.useRef(!1);return Xw(()=>{c.current=!0}),w.useCallback((m,g={})=>{if(kr(c.current,Ww),!c.current)return;if(typeof m=="number"){t.go(m);return}let v=Ly(m,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Gi([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,a,n])}w.createContext(null);function jc(n,{relative:e}={}){let{matches:t}=w.useContext(di),{pathname:i}=ss(),a=JSON.stringify(Vy(t));return w.useMemo(()=>Ly(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function BR(n,e){return Zw(n,e)}function Zw(n,e,t,i){var V;Dt(Vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=w.useContext(Vr),{matches:l}=w.useContext(di),c=l[l.length-1],f=c?c.params:{},m=c?c.pathname:"/",g=c?c.pathnameBase:"/",v=c&&c.route;{let U=v&&v.path||"";Jw(m,!v||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let b=ss(),E;if(e){let U=typeof e=="string"?jl(e):e;Dt(g==="/"||((V=U.pathname)==null?void 0:V.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${U.pathname}" was given in the \`location\` prop.`),E=U}else E=b;let C=E.pathname||"/",R=C;if(g!=="/"){let U=g.replace(/^\//,"").split("/");R="/"+C.replace(/^\//,"").split("/").slice(U.length).join("/")}let A=Gw(n,{pathname:R});kr(v||A!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),kr(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=GR(A&&A.map(U=>Object.assign({},U,{params:Object.assign({},f,U.params),pathname:Gi([g,a.encodeLocation?a.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:Gi([g,a.encodeLocation?a.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),l,t,i);return e&&N?w.createElement(Mc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},N):N}function zR(){let n=WR(),e=MR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:l},"ErrorBoundary")," or"," ",w.createElement("code",{style:l},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:a},t):null,c)}var FR=w.createElement(zR,null),HR=class extends w.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?w.createElement(di.Provider,{value:this.props.routeContext},w.createElement(Uy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qR({routeContext:n,match:e,children:t}){let i=w.useContext(Pl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(di.Provider,{value:n},t)}function GR(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let m=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);Dt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,f=-1;if(t)for(let m=0;m<a.length;m++){let g=a[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:v,errors:b}=t,E=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||E){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,g,v)=>{let b,E=!1,C=null,R=null;t&&(b=l&&g.route.id?l[g.route.id]:void 0,C=g.route.errorElement||FR,c&&(f<0&&v===0?(Jw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,R=null):f===v&&(E=!0,R=g.route.hydrateFallbackElement||null)));let A=e.concat(a.slice(0,v+1)),N=()=>{let V;return b?V=C:E?V=R:g.route.Component?V=w.createElement(g.route.Component,null):g.route.element?V=g.route.element:V=m,w.createElement(qR,{match:g,routeContext:{outlet:m,matches:A,isDataRoute:t!=null},children:V})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?w.createElement(HR,{location:t.location,revalidation:t.revalidation,component:C,error:b,children:N(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):N()},null)}function By(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $R(n){let e=w.useContext(Pl);return Dt(e,By(n)),e}function YR(n){let e=w.useContext(Mh);return Dt(e,By(n)),e}function KR(n){let e=w.useContext(di);return Dt(e,By(n)),e}function zy(n){let e=KR(n),t=e.matches[e.matches.length-1];return Dt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function QR(){return zy("useRouteId")}function WR(){var i;let n=w.useContext(Uy),e=YR("useRouteError"),t=zy("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function XR(){let{router:n}=$R("useNavigate"),e=zy("useNavigate"),t=w.useRef(!1);return Xw(()=>{t.current=!0}),w.useCallback(async(a,l={})=>{kr(t.current,Ww),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var NE={};function Jw(n,e,t){!e&&!NE[n]&&(NE[n]=!0,kr(!1,t))}w.memo(ZR);function ZR({routes:n,future:e,state:t}){return Zw(n,void 0,t,e)}function Hg({to:n,replace:e,state:t,relative:i}){Dt(Vl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=w.useContext(Vr);kr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=w.useContext(di),{pathname:c}=ss(),f=jh(),m=Ly(n,Vy(l),c,i==="path"),g=JSON.stringify(m);return w.useEffect(()=>{f(JSON.parse(g),{replace:e,state:t,relative:i})},[f,g,i,e,t]),null}function Rr(n){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JR({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){Dt(!Vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=w.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=jl(t));let{pathname:m="/",search:g="",hash:v="",state:b=null,key:E="default"}=t,C=w.useMemo(()=>{let R=Xi(m,c);return R==null?null:{location:{pathname:R,search:g,hash:v,state:b,key:E},navigationType:i}},[c,m,g,v,b,E,i]);return kr(C!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:w.createElement(Vr.Provider,{value:f},w.createElement(Mc.Provider,{children:e,value:C}))}function eI({children:n,location:e}){return BR(qg(n),e)}function qg(n,e=[]){let t=[];return w.Children.forEach(n,(i,a)=>{if(!w.isValidElement(i))return;let l=[...e,a];if(i.type===w.Fragment){t.push.apply(t,qg(i.props.children,l));return}Dt(i.type===Rr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=qg(i.props.children,l)),t.push(c)}),t}var Hf="get",qf="application/x-www-form-urlencoded";function Ph(n){return n!=null&&typeof n.tagName=="string"}function tI(n){return Ph(n)&&n.tagName.toLowerCase()==="button"}function nI(n){return Ph(n)&&n.tagName.toLowerCase()==="form"}function rI(n){return Ph(n)&&n.tagName.toLowerCase()==="input"}function iI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function sI(n,e){return n.button===0&&(!e||e==="_self")&&!iI(n)}var Af=null;function aI(){if(Af===null)try{new FormData(document.createElement("form"),0),Af=!1}catch{Af=!0}return Af}var oI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vg(n){return n!=null&&!oI.has(n)?(kr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qf}"`),null):n}function lI(n,e){let t,i,a,l,c;if(nI(n)){let f=n.getAttribute("action");i=f?Xi(f,e):null,t=n.getAttribute("method")||Hf,a=vg(n.getAttribute("enctype"))||qf,l=new FormData(n)}else if(tI(n)||rI(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||f.getAttribute("action");if(i=m?Xi(m,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Hf,a=vg(n.getAttribute("formenctype"))||vg(f.getAttribute("enctype"))||qf,l=new FormData(f,n),!aI()){let{name:g,type:v,value:b}=n;if(v==="image"){let E=g?`${g}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else g&&l.append(g,b)}}else{if(Ph(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Hf,i=null,a=qf,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}function Fy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function uI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function dI(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await uI(l,t);return c.links?c.links():[]}return[]}));return pI(i.flat(1).filter(cI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function DE(n,e,t,i,a,l){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,f=(m,g)=>{var v;return t[g].pathname!==m.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,g)=>c(m,g)||f(m,g)):l==="data"?e.filter((m,g)=>{var b;let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,g)||f(m,g))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function fI(n,e,{includeHydrateFallback:t}={}){return hI(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function hI(n){return[...new Set(n)]}function mI(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function pI(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(mI(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var gI=new Set([100,101,204,205]);function yI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Xi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function eT(){let n=w.useContext(Pl);return Fy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function vI(){let n=w.useContext(Mh);return Fy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Hy=w.createContext(void 0);Hy.displayName="FrameworkContext";function tT(){let n=w.useContext(Hy);return Fy(n,"You must render this element inside a <HydratedRouter> element"),n}function _I(n,e){let t=w.useContext(Hy),[i,a]=w.useState(!1),[l,c]=w.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,E=w.useRef(null);w.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let A=V=>{V.forEach(U=>{c(U.isIntersecting)})},N=new IntersectionObserver(A,{threshold:.5});return E.current&&N.observe(E.current),()=>{N.disconnect()}}},[n]),w.useEffect(()=>{if(i){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[i]);let C=()=>{a(!0)},R=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,E,{}]:[l,E,{onFocus:sc(f,C),onBlur:sc(m,R),onMouseEnter:sc(g,C),onMouseLeave:sc(v,R),onTouchStart:sc(b,C)}]:[!1,E,{}]}function sc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function bI({page:n,...e}){let{router:t}=eT(),i=w.useMemo(()=>Gw(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?w.createElement(xI,{page:n,matches:i,...e}):null}function EI(n){let{manifest:e,routeModules:t}=tT(),[i,a]=w.useState([]);return w.useEffect(()=>{let l=!1;return dI(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function xI({page:n,matches:e,...t}){let i=ss(),{manifest:a,routeModules:l}=tT(),{basename:c}=eT(),{loaderData:f,matches:m}=vI(),g=w.useMemo(()=>DE(n,e,m,a,i,"data"),[n,e,m,a,i]),v=w.useMemo(()=>DE(n,e,m,a,i,"assets"),[n,e,m,a,i]),b=w.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let R=new Set,A=!1;if(e.forEach(V=>{var z;let U=a.routes[V.route.id];!U||!U.hasLoader||(!g.some(G=>G.route.id===V.route.id)&&V.route.id in f&&((z=l[V.route.id])!=null&&z.shouldRevalidate)||U.hasClientLoader?A=!0:R.add(V.route.id))}),R.size===0)return[];let N=yI(n,c);return A&&R.size>0&&N.searchParams.set("_routes",e.filter(V=>R.has(V.route.id)).map(V=>V.route.id).join(",")),[N.pathname+N.search]},[c,f,i,a,g,e,n,l]),E=w.useMemo(()=>fI(v,a),[v,a]),C=EI(v);return w.createElement(w.Fragment,null,b.map(R=>w.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),E.map(R=>w.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),C.map(({key:R,link:A})=>w.createElement("link",{key:R,...A})))}function wI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var nT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nT&&(window.__reactRouterVersion="7.6.1")}catch{}function TI({basename:n,children:e,window:t}){let i=w.useRef();i.current==null&&(i.current=dR({window:t,v5Compat:!0}));let a=i.current,[l,c]=w.useState({action:a.action,location:a.location}),f=w.useCallback(m=>{w.startTransition(()=>c(m))},[c]);return w.useLayoutEffect(()=>a.listen(f),[a,f]),w.createElement(JR,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var rT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vl=w.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:g,preventScrollReset:v,viewTransition:b,...E},C){let{basename:R}=w.useContext(Vr),A=typeof g=="string"&&rT.test(g),N,V=!1;if(typeof g=="string"&&A&&(N=g,nT))try{let M=new URL(window.location.href),L=g.startsWith("//")?new URL(M.protocol+g):new URL(g),D=Xi(L.pathname,R);L.origin===M.origin&&D!=null?g=D+L.search+L.hash:V=!0}catch{kr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=LR(g,{relative:a}),[z,G,$]=_I(i,E),re=RI(g,{replace:c,state:f,target:m,preventScrollReset:v,relative:a,viewTransition:b});function k(M){e&&e(M),M.defaultPrevented||re(M)}let S=w.createElement("a",{...E,...$,href:N||U,onClick:V||l?e:k,ref:wI(C,G),target:m,"data-discover":!A&&t==="render"?"true":void 0});return z&&!A?w.createElement(w.Fragment,null,S,w.createElement(bI,{page:U})):S});vl.displayName="Link";var SI=w.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...g},v){let b=jc(c,{relative:g.relative}),E=ss(),C=w.useContext(Mh),{navigator:R,basename:A}=w.useContext(Vr),N=C!=null&&OI(b)&&f===!0,V=R.encodeLocation?R.encodeLocation(b).pathname:b.pathname,U=E.pathname,z=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(U=U.toLowerCase(),z=z?z.toLowerCase():null,V=V.toLowerCase()),z&&A&&(z=Xi(z,A)||z);const G=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let $=U===V||!a&&U.startsWith(V)&&U.charAt(G)==="/",re=z!=null&&(z===V||!a&&z.startsWith(V)&&z.charAt(V.length)==="/"),k={isActive:$,isPending:re,isTransitioning:N},S=$?e:void 0,M;typeof i=="function"?M=i(k):M=[i,$?"active":null,re?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(k):l;return w.createElement(vl,{...g,"aria-current":S,className:M,ref:v,style:L,to:c,viewTransition:f},typeof m=="function"?m(k):m)});SI.displayName="NavLink";var AI=w.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=Hf,action:f,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:b,...E},C)=>{let R=DI(),A=kI(f,{relative:g}),N=c.toLowerCase()==="get"?"get":"post",V=typeof f=="string"&&rT.test(f),U=z=>{if(m&&m(z),z.defaultPrevented)return;z.preventDefault();let G=z.nativeEvent.submitter,$=(G==null?void 0:G.getAttribute("formmethod"))||c;R(G||z.currentTarget,{fetcherKey:e,method:$,navigate:t,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:b})};return w.createElement("form",{ref:C,method:N,action:A,onSubmit:i?m:U,...E,"data-discover":!V&&n==="render"?"true":void 0})});AI.displayName="Form";function CI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iT(n){let e=w.useContext(Pl);return Dt(e,CI(n)),e}function RI(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=jh(),m=ss(),g=jc(n,{relative:l});return w.useCallback(v=>{if(sI(v,e)){v.preventDefault();let b=t!==void 0?t:Ec(m)===Ec(g);f(n,{replace:b,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[m,f,g,t,i,e,n,a,l,c])}var II=0,NI=()=>`__${String(++II)}__`;function DI(){let{router:n}=iT("useSubmit"),{basename:e}=w.useContext(Vr),t=QR();return w.useCallback(async(i,a={})=>{let{action:l,method:c,encType:f,formData:m,body:g}=lI(i,e);if(a.navigate===!1){let v=a.fetcherKey||NI();await n.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function kI(n,{relative:e}={}){let{basename:t}=w.useContext(Vr),i=w.useContext(di);Dt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...jc(n||".",{relative:e})},c=ss();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(v=>v==="")){f.delete("index"),m.filter(b=>b).forEach(b=>f.append("index",b));let v=f.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Gi([t,l.pathname])),Ec(l)}function OI(n,e={}){let t=w.useContext(Qw);Dt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=iT("useViewTransitionState"),a=jc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Xi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Xi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return sh(a.pathname,c)!=null||sh(a.pathname,l)!=null}[...gI];var Pc=qw();const MI=Fw(Pc);function kE(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function jI(...n){return e=>{let t=!1;const i=n.map(a=>{const l=kE(a,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():kE(n[a],null)}}}}function Gt(...n){return w.useCallback(jI(...n),n)}function xc(n){const e=PI(n),t=w.forwardRef((i,a)=>{const{children:l,...c}=i,f=w.Children.toArray(l),m=f.find(LI);if(m){const g=m.props.children,v=f.map(b=>b===m?w.Children.count(g)>1?w.Children.only(null):w.isValidElement(g)?g.props.children:null:b);return p.jsx(e,{...c,ref:a,children:w.isValidElement(g)?w.cloneElement(g,void 0,v):null})}return p.jsx(e,{...c,ref:a,children:l})});return t.displayName=`${n}.Slot`,t}var sT=xc("Slot");function PI(n){const e=w.forwardRef((t,i)=>{const{children:a,...l}=t,c=w.isValidElement(a)?BI(a):void 0,f=Gt(c,i);if(w.isValidElement(a)){const m=UI(l,a.props);return a.type!==w.Fragment&&(m.ref=f),w.cloneElement(a,m)}return w.Children.count(a)>1?w.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var VI=Symbol("radix.slottable");function LI(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===VI}function UI(n,e){const t={...e};for(const i in e){const a=n[i],l=e[i];/^on[A-Z]/.test(i)?a&&l?t[i]=(...f)=>{const m=l(...f);return a(...f),m}:a&&(t[i]=a):i==="style"?t[i]={...a,...l}:i==="className"&&(t[i]=[a,l].filter(Boolean).join(" "))}return{...n,...t}}function BI(n){var i,a;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function aT(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=aT(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function oT(){for(var n,e,t=0,i="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=aT(n))&&(i&&(i+=" "),i+=e);return i}const OE=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,ME=oT,qy=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return ME(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:a,defaultVariants:l}=e,c=Object.keys(a).map(g=>{const v=t==null?void 0:t[g],b=l==null?void 0:l[g];if(v===null)return null;const E=OE(v)||OE(b);return a[g][E]}),f=t&&Object.entries(t).reduce((g,v)=>{let[b,E]=v;return E===void 0||(g[b]=E),g},{}),m=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((g,v)=>{let{class:b,className:E,...C}=v;return Object.entries(C).every(R=>{let[A,N]=R;return Array.isArray(N)?N.includes({...l,...f}[A]):{...l,...f}[A]===N})?[...g,b,E]:g},[]);return ME(n,c,m,t==null?void 0:t.class,t==null?void 0:t.className)},Gy="-",zI=n=>{const e=HI(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:c=>{const f=c.split(Gy);return f[0]===""&&f.length!==1&&f.shift(),lT(f,e)||FI(c)},getConflictingClassGroupIds:(c,f)=>{const m=t[c]||[];return f&&i[c]?[...m,...i[c]]:m}}},lT=(n,e)=>{var c;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),a=i?lT(n.slice(1),i):void 0;if(a)return a;if(e.validators.length===0)return;const l=n.join(Gy);return(c=e.validators.find(({validator:f})=>f(l)))==null?void 0:c.classGroupId},jE=/^\[(.+)\]$/,FI=n=>{if(jE.test(n)){const e=jE.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},HI=n=>{const{theme:e,classGroups:t}=n,i={nextPart:new Map,validators:[]};for(const a in t)Gg(t[a],i,a,e);return i},Gg=(n,e,t,i)=>{n.forEach(a=>{if(typeof a=="string"){const l=a===""?e:PE(e,a);l.classGroupId=t;return}if(typeof a=="function"){if(qI(a)){Gg(a(i),e,t,i);return}e.validators.push({validator:a,classGroupId:t});return}Object.entries(a).forEach(([l,c])=>{Gg(c,PE(e,l),t,i)})})},PE=(n,e)=>{let t=n;return e.split(Gy).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},qI=n=>n.isThemeGetter,GI=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const a=(l,c)=>{t.set(l,c),e++,e>n&&(e=0,i=t,t=new Map)};return{get(l){let c=t.get(l);if(c!==void 0)return c;if((c=i.get(l))!==void 0)return a(l,c),c},set(l,c){t.has(l)?t.set(l,c):a(l,c)}}},$g="!",Yg=":",$I=Yg.length,YI=n=>{const{prefix:e,experimentalParseClassName:t}=n;let i=a=>{const l=[];let c=0,f=0,m=0,g;for(let R=0;R<a.length;R++){let A=a[R];if(c===0&&f===0){if(A===Yg){l.push(a.slice(m,R)),m=R+$I;continue}if(A==="/"){g=R;continue}}A==="["?c++:A==="]"?c--:A==="("?f++:A===")"&&f--}const v=l.length===0?a:a.substring(m),b=KI(v),E=b!==v,C=g&&g>m?g-m:void 0;return{modifiers:l,hasImportantModifier:E,baseClassName:b,maybePostfixModifierPosition:C}};if(e){const a=e+Yg,l=i;i=c=>c.startsWith(a)?l(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(t){const a=i;i=l=>t({className:l,parseClassName:a})}return i},KI=n=>n.endsWith($g)?n.substring(0,n.length-1):n.startsWith($g)?n.substring(1):n,QI=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const a=[];let l=[];return i.forEach(c=>{c[0]==="["||e[c]?(a.push(...l.sort(),c),l=[]):l.push(c)}),a.push(...l.sort()),a}},WI=n=>({cache:GI(n.cacheSize),parseClassName:YI(n),sortModifiers:QI(n),...zI(n)}),XI=/\s+/,ZI=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],f=n.trim().split(XI);let m="";for(let g=f.length-1;g>=0;g-=1){const v=f[g],{isExternal:b,modifiers:E,hasImportantModifier:C,baseClassName:R,maybePostfixModifierPosition:A}=t(v);if(b){m=v+(m.length>0?" "+m:m);continue}let N=!!A,V=i(N?R.substring(0,A):R);if(!V){if(!N){m=v+(m.length>0?" "+m:m);continue}if(V=i(R),!V){m=v+(m.length>0?" "+m:m);continue}N=!1}const U=l(E).join(":"),z=C?U+$g:U,G=z+V;if(c.includes(G))continue;c.push(G);const $=a(V,N);for(let re=0;re<$.length;++re){const k=$[re];c.push(z+k)}m=v+(m.length>0?" "+m:m)}return m};function JI(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=uT(e))&&(i&&(i+=" "),i+=t);return i}const uT=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=uT(n[i]))&&(t&&(t+=" "),t+=e);return t};function eN(n,...e){let t,i,a,l=c;function c(m){const g=e.reduce((v,b)=>b(v),n());return t=WI(g),i=t.cache.get,a=t.cache.set,l=f,f(m)}function f(m){const g=i(m);if(g)return g;const v=ZI(m,t);return a(m,v),v}return function(){return l(JI.apply(null,arguments))}}const sn=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},cT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,dT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,tN=/^\d+\/\d+$/,nN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,iN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,sN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,aN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rl=n=>tN.test(n),Ye=n=>!!n&&!Number.isNaN(Number(n)),Us=n=>!!n&&Number.isInteger(Number(n)),_g=n=>n.endsWith("%")&&Ye(n.slice(0,-1)),Li=n=>nN.test(n),oN=()=>!0,lN=n=>rN.test(n)&&!iN.test(n),fT=()=>!1,uN=n=>sN.test(n),cN=n=>aN.test(n),dN=n=>!Te(n)&&!Se(n),fN=n=>Ll(n,pT,fT),Te=n=>cT.test(n),Ka=n=>Ll(n,gT,lN),bg=n=>Ll(n,yN,Ye),VE=n=>Ll(n,hT,fT),hN=n=>Ll(n,mT,cN),Cf=n=>Ll(n,yT,uN),Se=n=>dT.test(n),ac=n=>Ul(n,gT),mN=n=>Ul(n,vN),LE=n=>Ul(n,hT),pN=n=>Ul(n,pT),gN=n=>Ul(n,mT),Rf=n=>Ul(n,yT,!0),Ll=(n,e,t)=>{const i=cT.exec(n);return i?i[1]?e(i[1]):t(i[2]):!1},Ul=(n,e,t=!1)=>{const i=dT.exec(n);return i?i[1]?e(i[1]):t:!1},hT=n=>n==="position"||n==="percentage",mT=n=>n==="image"||n==="url",pT=n=>n==="length"||n==="size"||n==="bg-size",gT=n=>n==="length",yN=n=>n==="number",vN=n=>n==="family-name",yT=n=>n==="shadow",_N=()=>{const n=sn("color"),e=sn("font"),t=sn("text"),i=sn("font-weight"),a=sn("tracking"),l=sn("leading"),c=sn("breakpoint"),f=sn("container"),m=sn("spacing"),g=sn("radius"),v=sn("shadow"),b=sn("inset-shadow"),E=sn("text-shadow"),C=sn("drop-shadow"),R=sn("blur"),A=sn("perspective"),N=sn("aspect"),V=sn("ease"),U=sn("animate"),z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],$=()=>[...G(),Se,Te],re=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],S=()=>[Se,Te,m],M=()=>[rl,"full","auto",...S()],L=()=>[Us,"none","subgrid",Se,Te],D=()=>["auto",{span:["full",Us,Se,Te]},Us,Se,Te],P=()=>[Us,"auto",Se,Te],j=()=>["auto","min","max","fr",Se,Te],q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],te=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...S()],W=()=>[rl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],Y=()=>[n,Se,Te],pe=()=>[...G(),LE,VE,{position:[Se,Te]}],B=()=>["no-repeat",{repeat:["","x","y","space","round"]}],J=()=>["auto","cover","contain",pN,fN,{size:[Se,Te]}],ce=()=>[_g,ac,Ka],oe=()=>["","none","full",g,Se,Te],me=()=>["",Ye,ac,Ka],Ee=()=>["solid","dashed","dotted","double"],ve=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ge=()=>[Ye,_g,LE,VE],xe=()=>["","none",R,Se,Te],qe=()=>["none",Ye,Se,Te],ke=()=>["none",Ye,Se,Te],Oe=()=>[Ye,Se,Te],Le=()=>[rl,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Li],breakpoint:[Li],color:[oN],container:[Li],"drop-shadow":[Li],ease:["in","out","in-out"],font:[dN],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Li],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Li],shadow:[Li],spacing:["px",Ye],text:[Li],"text-shadow":[Li],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",rl,Te,Se,N]}],container:["container"],columns:[{columns:[Ye,Te,Se,f]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:$()}],overflow:[{overflow:re()}],"overflow-x":[{"overflow-x":re()}],"overflow-y":[{"overflow-y":re()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[Us,"auto",Se,Te]}],basis:[{basis:[rl,"full","auto",f,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ye,rl,"auto","initial","none",Te]}],grow:[{grow:["",Ye,Se,Te]}],shrink:[{shrink:["",Ye,Se,Te]}],order:[{order:[Us,"first","last","none",Se,Te]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":j()}],"auto-rows":[{"auto-rows":j()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...q(),"normal"]}],"justify-items":[{"justify-items":[...te(),"normal"]}],"justify-self":[{"justify-self":["auto",...te()]}],"align-content":[{content:["normal",...q()]}],"align-items":[{items:[...te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...te(),{baseline:["","last"]}]}],"place-content":[{"place-content":q()}],"place-items":[{"place-items":[...te(),"baseline"]}],"place-self":[{"place-self":["auto",...te()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[f,"screen",...W()]}],"min-w":[{"min-w":[f,"screen","none",...W()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[c]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",t,ac,Ka]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Se,bg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",_g,Te]}],"font-family":[{font:[mN,Te,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Se,Te]}],"line-clamp":[{"line-clamp":[Ye,"none",Se,bg]}],leading:[{leading:[l,...S()]}],"list-image":[{"list-image":["none",Se,Te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Se,Te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Y()}],"text-color":[{text:Y()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ee(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ye,"from-font","auto",Se,Ka]}],"text-decoration-color":[{decoration:Y()}],"underline-offset":[{"underline-offset":[Ye,"auto",Se,Te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se,Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se,Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:pe()}],"bg-repeat":[{bg:B()}],"bg-size":[{bg:J()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Us,Se,Te],radial:["",Se,Te],conic:[Us,Se,Te]},gN,hN]}],"bg-color":[{bg:Y()}],"gradient-from-pos":[{from:ce()}],"gradient-via-pos":[{via:ce()}],"gradient-to-pos":[{to:ce()}],"gradient-from":[{from:Y()}],"gradient-via":[{via:Y()}],"gradient-to":[{to:Y()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ee(),"hidden","none"]}],"divide-style":[{divide:[...Ee(),"hidden","none"]}],"border-color":[{border:Y()}],"border-color-x":[{"border-x":Y()}],"border-color-y":[{"border-y":Y()}],"border-color-s":[{"border-s":Y()}],"border-color-e":[{"border-e":Y()}],"border-color-t":[{"border-t":Y()}],"border-color-r":[{"border-r":Y()}],"border-color-b":[{"border-b":Y()}],"border-color-l":[{"border-l":Y()}],"divide-color":[{divide:Y()}],"outline-style":[{outline:[...Ee(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ye,Se,Te]}],"outline-w":[{outline:["",Ye,ac,Ka]}],"outline-color":[{outline:Y()}],shadow:[{shadow:["","none",v,Rf,Cf]}],"shadow-color":[{shadow:Y()}],"inset-shadow":[{"inset-shadow":["none",b,Rf,Cf]}],"inset-shadow-color":[{"inset-shadow":Y()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Y()}],"ring-offset-w":[{"ring-offset":[Ye,Ka]}],"ring-offset-color":[{"ring-offset":Y()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":Y()}],"text-shadow":[{"text-shadow":["none",E,Rf,Cf]}],"text-shadow-color":[{"text-shadow":Y()}],opacity:[{opacity:[Ye,Se,Te]}],"mix-blend":[{"mix-blend":[...ve(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ve()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ye]}],"mask-image-linear-from-pos":[{"mask-linear-from":ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":ge()}],"mask-image-linear-from-color":[{"mask-linear-from":Y()}],"mask-image-linear-to-color":[{"mask-linear-to":Y()}],"mask-image-t-from-pos":[{"mask-t-from":ge()}],"mask-image-t-to-pos":[{"mask-t-to":ge()}],"mask-image-t-from-color":[{"mask-t-from":Y()}],"mask-image-t-to-color":[{"mask-t-to":Y()}],"mask-image-r-from-pos":[{"mask-r-from":ge()}],"mask-image-r-to-pos":[{"mask-r-to":ge()}],"mask-image-r-from-color":[{"mask-r-from":Y()}],"mask-image-r-to-color":[{"mask-r-to":Y()}],"mask-image-b-from-pos":[{"mask-b-from":ge()}],"mask-image-b-to-pos":[{"mask-b-to":ge()}],"mask-image-b-from-color":[{"mask-b-from":Y()}],"mask-image-b-to-color":[{"mask-b-to":Y()}],"mask-image-l-from-pos":[{"mask-l-from":ge()}],"mask-image-l-to-pos":[{"mask-l-to":ge()}],"mask-image-l-from-color":[{"mask-l-from":Y()}],"mask-image-l-to-color":[{"mask-l-to":Y()}],"mask-image-x-from-pos":[{"mask-x-from":ge()}],"mask-image-x-to-pos":[{"mask-x-to":ge()}],"mask-image-x-from-color":[{"mask-x-from":Y()}],"mask-image-x-to-color":[{"mask-x-to":Y()}],"mask-image-y-from-pos":[{"mask-y-from":ge()}],"mask-image-y-to-pos":[{"mask-y-to":ge()}],"mask-image-y-from-color":[{"mask-y-from":Y()}],"mask-image-y-to-color":[{"mask-y-to":Y()}],"mask-image-radial":[{"mask-radial":[Se,Te]}],"mask-image-radial-from-pos":[{"mask-radial-from":ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":ge()}],"mask-image-radial-from-color":[{"mask-radial-from":Y()}],"mask-image-radial-to-color":[{"mask-radial-to":Y()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":G()}],"mask-image-conic-pos":[{"mask-conic":[Ye]}],"mask-image-conic-from-pos":[{"mask-conic-from":ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":ge()}],"mask-image-conic-from-color":[{"mask-conic-from":Y()}],"mask-image-conic-to-color":[{"mask-conic-to":Y()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:pe()}],"mask-repeat":[{mask:B()}],"mask-size":[{mask:J()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Se,Te]}],filter:[{filter:["","none",Se,Te]}],blur:[{blur:xe()}],brightness:[{brightness:[Ye,Se,Te]}],contrast:[{contrast:[Ye,Se,Te]}],"drop-shadow":[{"drop-shadow":["","none",C,Rf,Cf]}],"drop-shadow-color":[{"drop-shadow":Y()}],grayscale:[{grayscale:["",Ye,Se,Te]}],"hue-rotate":[{"hue-rotate":[Ye,Se,Te]}],invert:[{invert:["",Ye,Se,Te]}],saturate:[{saturate:[Ye,Se,Te]}],sepia:[{sepia:["",Ye,Se,Te]}],"backdrop-filter":[{"backdrop-filter":["","none",Se,Te]}],"backdrop-blur":[{"backdrop-blur":xe()}],"backdrop-brightness":[{"backdrop-brightness":[Ye,Se,Te]}],"backdrop-contrast":[{"backdrop-contrast":[Ye,Se,Te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ye,Se,Te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ye,Se,Te]}],"backdrop-invert":[{"backdrop-invert":["",Ye,Se,Te]}],"backdrop-opacity":[{"backdrop-opacity":[Ye,Se,Te]}],"backdrop-saturate":[{"backdrop-saturate":[Ye,Se,Te]}],"backdrop-sepia":[{"backdrop-sepia":["",Ye,Se,Te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Se,Te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ye,"initial",Se,Te]}],ease:[{ease:["linear","initial",V,Se,Te]}],delay:[{delay:[Ye,Se,Te]}],animate:[{animate:["none",U,Se,Te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[A,Se,Te]}],"perspective-origin":[{"perspective-origin":$()}],rotate:[{rotate:qe()}],"rotate-x":[{"rotate-x":qe()}],"rotate-y":[{"rotate-y":qe()}],"rotate-z":[{"rotate-z":qe()}],scale:[{scale:ke()}],"scale-x":[{"scale-x":ke()}],"scale-y":[{"scale-y":ke()}],"scale-z":[{"scale-z":ke()}],"scale-3d":["scale-3d"],skew:[{skew:Oe()}],"skew-x":[{"skew-x":Oe()}],"skew-y":[{"skew-y":Oe()}],transform:[{transform:[Se,Te,"","none","gpu","cpu"]}],"transform-origin":[{origin:$()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Le()}],"translate-x":[{"translate-x":Le()}],"translate-y":[{"translate-y":Le()}],"translate-z":[{"translate-z":Le()}],"translate-none":["translate-none"],accent:[{accent:Y()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Y()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se,Te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se,Te]}],fill:[{fill:["none",...Y()]}],"stroke-w":[{stroke:[Ye,ac,Ka,bg]}],stroke:[{stroke:["none",...Y()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},bN=eN(_N);function Zt(...n){return bN(oT(n))}const EN=qy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function De({className:n,variant:e,size:t,asChild:i=!1,...a}){const l=i?sT:"button";return p.jsx(l,{"data-slot":"button",className:Zt(EN({variant:e,size:t,className:n})),...a})}function _t({className:n,...e}){return p.jsx("div",{"data-slot":"card",className:Zt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...e})}function Ct({className:n,...e}){return p.jsx("div",{"data-slot":"card-header",className:Zt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function Rt({className:n,...e}){return p.jsx("div",{"data-slot":"card-title",className:Zt("leading-none font-semibold",n),...e})}function On({className:n,...e}){return p.jsx("div",{"data-slot":"card-description",className:Zt("text-muted-foreground text-sm",n),...e})}function bt({className:n,...e}){return p.jsx("div",{"data-slot":"card-content",className:Zt("px-6",n),...e})}const xN=qy("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Dr({className:n,variant:e,asChild:t=!1,...i}){const a=t?sT:"span";return p.jsx(a,{"data-slot":"badge",className:Zt(xN({variant:e}),n),...i})}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TN=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),UE=n=>{const e=TN(n);return e.charAt(0).toUpperCase()+e.slice(1)},vT=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),SN=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=w.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...f},m)=>w.createElement("svg",{ref:m,...AN,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:vT("lucide",a),...!l&&!SN(f)&&{"aria-hidden":"true"},...f},[...c.map(([g,v])=>w.createElement(g,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(n,e)=>{const t=w.forwardRef(({className:i,...a},l)=>w.createElement(CN,{ref:l,iconNode:e,className:vT(`lucide-${wN(UE(n))}`,`lucide-${n}`,i),...a}));return t.displayName=UE(n),t};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ah=tt("book-open",RN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],NN=tt("bot",IN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],kN=tt("calendar",DN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],MN=tt("chart-pie",ON);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$y=tt("check",jN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_T=tt("chevron-down",PN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],LN=tt("chevron-up",VN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],BN=tt("circle-alert",UN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],BE=tt("circle-check-big",zN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Kg=tt("clock",FN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]],qN=tt("cog",HN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],bT=tt("credit-card",GN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],YN=tt("crown",$N);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],_l=tt("dollar-sign",KN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Qg=tt("eye-off",QN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Wg=tt("eye",WN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],ZN=tt("house",XN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],zE=tt("log-out",JN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ET=tt("mail",e3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],n3=tt("menu",t3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bl=tt("plus",r3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],s3=tt("refresh-cw",i3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Yy=tt("save",a3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],l3=tt("send",o3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],c3=tt("smartphone",u3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],El=tt("square-pen",d3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],xT=tt("tag",f3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],m3=tt("target",h3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],xl=tt("trash-2",p3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],y3=tt("trending-down",g3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],wT=tt("upload",v3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],TT=tt("user-plus",_3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ST=tt("user",b3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],AT=tt("users",E3);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wl=tt("x",x3);/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=()=>{};var FE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},T3=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],f=n[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},RT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,f=c?n[a+1]:0,m=a+2<n.length,g=m?n[a+2]:0,v=l>>2,b=(l&3)<<4|f>>4;let E=(f&15)<<2|g>>6,C=g&63;m||(C=64,c||(E=64)),i.push(t[v],t[b],t[E],t[C])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(CT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):T3(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const b=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||f==null||g==null||b==null)throw new S3;const E=l<<2|f>>4;if(i.push(E),g!==64){const C=f<<4&240|g>>2;if(i.push(C),b!==64){const R=g<<6&192|b;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class S3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A3=function(n){const e=CT(n);return RT.encodeByteArray(e,!0)},oh=function(n){return A3(n).replace(/\./g,"")},IT=function(n){try{return RT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=()=>C3().__FIREBASE_DEFAULTS__,I3=()=>{if(typeof process>"u"||typeof FE>"u")return;const n=FE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},N3=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&IT(n[1]);return e&&JSON.parse(e)},Vh=()=>{try{return w3()||R3()||I3()||N3()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},NT=n=>{var e,t;return(t=(e=Vh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},D3=n=>{const e=NT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},DT=()=>{var n;return(n=Vh())===null||n===void 0?void 0:n.config},kT=n=>{var e;return(e=Vh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(n){return n.endsWith(".cloudworkstations.dev")}async function OT(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[oh(JSON.stringify(t)),oh(JSON.stringify(c)),""].join(".")}const pc={};function M3(){const n={prod:[],emulator:[]};for(const e of Object.keys(pc))pc[e]?n.emulator.push(e):n.prod.push(e);return n}function j3(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let HE=!1;function MT(n,e){if(typeof window>"u"||typeof document>"u"||!Bl(window.location.host)||pc[n]===e||pc[n]||HE)return;pc[n]=e;function t(E){return`__firebase__banner__${E}`}const i="__firebase__banner",l=M3().prod.length>0;function c(){const E=document.getElementById(i);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,C){E.setAttribute("width","24"),E.setAttribute("id",C),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{HE=!0,c()},E}function v(E,C){E.setAttribute("id",C),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function b(){const E=j3(i),C=t("text"),R=document.getElementById(C)||document.createElement("span"),A=t("learnmore"),N=document.getElementById(A)||document.createElement("a"),V=t("preprendIcon"),U=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const z=E.element;f(z),v(N,A);const G=g();m(U,V),z.append(U,R,N,G),document.body.appendChild(z)}l?(R.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function P3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mn())}function V3(){var n;const e=(n=Vh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function L3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function U3(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function B3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function z3(){const n=Mn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function F3(){return!V3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H3(){try{return typeof indexedDB=="object"}catch{return!1}}function q3(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3="FirebaseError";class as extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=G3,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vc.prototype.create)}}class Vc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?$3(l,i):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new as(a,f,i)}}function $3(n,e){return n.replace(Y3,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const Y3=/\{\$([^}]+)}/g;function K3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Za(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(qE(l)&&qE(c)){if(!Za(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function qE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function lc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function uc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Q3(n,e){const t=new W3(n,e);return t.subscribe.bind(t)}class W3{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");X3(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Eg),a.error===void 0&&(a.error=Eg),a.complete===void 0&&(a.complete=Eg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function X3(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Eg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(n){return n&&n._delegate?n._delegate:n}class Ja{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new k3;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eD(e))try{this.getOrInitializeService({instanceIdentifier:Wa})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wa){return this.instances.has(e)}getOptions(e=Wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:J3(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Wa){return this.component?this.component.multipleInstances?e:Wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function J3(n){return n===Wa?void 0:n}function eD(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Z3(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Je||(Je={}));const nD={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},rD=Je.INFO,iD={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},sD=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=iD[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ky{constructor(e){this.name=e,this._logLevel=rD,this._logHandler=sD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const aD=(n,e)=>e.some(t=>n instanceof t);let GE,$E;function oD(){return GE||(GE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lD(){return $E||($E=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jT=new WeakMap,Xg=new WeakMap,PT=new WeakMap,xg=new WeakMap,Qy=new WeakMap;function uD(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Ws(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&jT.set(t,n)}).catch(()=>{}),Qy.set(e,n),e}function cD(n){if(Xg.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Xg.set(n,e)}let Zg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Xg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||PT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ws(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function dD(n){Zg=n(Zg)}function fD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(wg(this),e,...t);return PT.set(i,e.sort?e.sort():[e]),Ws(i)}:lD().includes(n)?function(...e){return n.apply(wg(this),e),Ws(jT.get(this))}:function(...e){return Ws(n.apply(wg(this),e))}}function hD(n){return typeof n=="function"?fD(n):(n instanceof IDBTransaction&&cD(n),aD(n,oD())?new Proxy(n,Zg):n)}function Ws(n){if(n instanceof IDBRequest)return uD(n);if(xg.has(n))return xg.get(n);const e=hD(n);return e!==n&&(xg.set(n,e),Qy.set(e,n)),e}const wg=n=>Qy.get(n);function mD(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),f=Ws(c);return i&&c.addEventListener("upgradeneeded",m=>{i(Ws(c.result),m.oldVersion,m.newVersion,Ws(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const pD=["get","getKey","getAll","getAllKeys","count"],gD=["put","add","delete","clear"],Tg=new Map;function YE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Tg.get(e))return Tg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=gD.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||pD.includes(t)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),a&&m.done]))[0]};return Tg.set(e,l),l}dD(n=>({...n,get:(e,t,i)=>YE(e,t)||n.get(e,t,i),has:(e,t)=>!!YE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vD(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function vD(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jg="@firebase/app",KE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new Ky("@firebase/app"),_D="@firebase/app-compat",bD="@firebase/analytics-compat",ED="@firebase/analytics",xD="@firebase/app-check-compat",wD="@firebase/app-check",TD="@firebase/auth",SD="@firebase/auth-compat",AD="@firebase/database",CD="@firebase/data-connect",RD="@firebase/database-compat",ID="@firebase/functions",ND="@firebase/functions-compat",DD="@firebase/installations",kD="@firebase/installations-compat",OD="@firebase/messaging",MD="@firebase/messaging-compat",jD="@firebase/performance",PD="@firebase/performance-compat",VD="@firebase/remote-config",LD="@firebase/remote-config-compat",UD="@firebase/storage",BD="@firebase/storage-compat",zD="@firebase/firestore",FD="@firebase/ai",HD="@firebase/firestore-compat",qD="firebase",GD="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="[DEFAULT]",$D={[Jg]:"fire-core",[_D]:"fire-core-compat",[ED]:"fire-analytics",[bD]:"fire-analytics-compat",[wD]:"fire-app-check",[xD]:"fire-app-check-compat",[TD]:"fire-auth",[SD]:"fire-auth-compat",[AD]:"fire-rtdb",[CD]:"fire-data-connect",[RD]:"fire-rtdb-compat",[ID]:"fire-fn",[ND]:"fire-fn-compat",[DD]:"fire-iid",[kD]:"fire-iid-compat",[OD]:"fire-fcm",[MD]:"fire-fcm-compat",[jD]:"fire-perf",[PD]:"fire-perf-compat",[VD]:"fire-rc",[LD]:"fire-rc-compat",[UD]:"fire-gcs",[BD]:"fire-gcs-compat",[zD]:"fire-fst",[HD]:"fire-fst-compat",[FD]:"fire-vertex","fire-js":"fire-js",[qD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new Map,YD=new Map,ty=new Map;function QE(n,e){try{n.container.addComponent(e)}catch(t){Zi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Tl(n){const e=n.name;if(ty.has(e))return Zi.debug(`There were multiple attempts to register component ${e}.`),!1;ty.set(e,n);for(const t of lh.values())QE(t,n);for(const t of YD.values())QE(t,n);return!0}function Wy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Er(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new Vc("app","Firebase",KD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=GD;function VT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ey,automaticDataCollectionEnabled:!0},e),a=i.name;if(typeof a!="string"||!a)throw Xs.create("bad-app-name",{appName:String(a)});if(t||(t=DT()),!t)throw Xs.create("no-options");const l=lh.get(a);if(l){if(Za(t,l.options)&&Za(i,l.config))return l;throw Xs.create("duplicate-app",{appName:a})}const c=new tD(a);for(const m of ty.values())c.addComponent(m);const f=new QD(t,i,c);return lh.set(a,f),f}function LT(n=ey){const e=lh.get(n);if(!e&&n===ey&&DT())return VT();if(!e)throw Xs.create("no-app",{appName:n});return e}function Zs(n,e,t){var i;let a=(i=$D[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zi.warn(f.join(" "));return}Tl(new Ja(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD="firebase-heartbeat-database",XD=1,wc="firebase-heartbeat-store";let Sg=null;function UT(){return Sg||(Sg=mD(WD,XD,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(wc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Xs.create("idb-open",{originalErrorMessage:n.message})})),Sg}async function ZD(n){try{const t=(await UT()).transaction(wc),i=await t.objectStore(wc).get(BT(n));return await t.done,i}catch(e){if(e instanceof as)Zi.warn(e.message);else{const t=Xs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zi.warn(t.message)}}}async function WE(n,e){try{const i=(await UT()).transaction(wc,"readwrite");await i.objectStore(wc).put(e,BT(n)),await i.done}catch(t){if(t instanceof as)Zi.warn(t.message);else{const i=Xs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Zi.warn(i.message)}}}function BT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=1024,e6=30;class t6{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new r6(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=XE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>e6){const c=i6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Zi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=XE(),{heartbeatsToSend:i,unsentEntries:a}=n6(this._heartbeatsCache.heartbeats),l=oh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Zi.warn(t),""}}}function XE(){return new Date().toISOString().substring(0,10)}function n6(n,e=JD){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),ZE(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),ZE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class r6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return H3()?q3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ZD(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return WE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return WE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function ZE(n){return oh(JSON.stringify({version:2,heartbeats:n})).length}function i6(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(n){Tl(new Ja("platform-logger",e=>new yD(e),"PRIVATE")),Tl(new Ja("heartbeat",e=>new t6(e),"PRIVATE")),Zs(Jg,KE,n),Zs(Jg,KE,"esm2017"),Zs("fire-js","")}s6("");var ti=function(){return ti=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},ti.apply(this,arguments)};function Uc(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function a6(n,e,t){if(t||arguments.length===2)for(var i=0,a=e.length,l;i<a;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return n.concat(l||Array.prototype.slice.call(e))}function zT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const o6=zT,FT=new Vc("auth","Firebase",zT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new Ky("@firebase/auth");function l6(n,...e){uh.logLevel<=Je.WARN&&uh.warn(`Auth (${zl}): ${n}`,...e)}function Gf(n,...e){uh.logLevel<=Je.ERROR&&uh.error(`Auth (${zl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(n,...e){throw Xy(n,...e)}function ni(n,...e){return Xy(n,...e)}function HT(n,e,t){const i=Object.assign(Object.assign({},o6()),{[e]:t});return new Vc("auth","Firebase",i).create(e,{appName:n.name})}function $i(n){return HT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xy(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return FT.create(n,...e)}function Pe(n,e,...t){if(!n)throw Xy(e,...t)}function Ui(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Gf(e),new Error(e)}function Ji(n,e){n||Ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function u6(){return JE()==="http:"||JE()==="https:"}function JE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(u6()||U3()||"connection"in navigator)?navigator.onLine:!0}function d6(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ji(t>e,"Short delay should be less than long delay!"),this.isMobile=P3()||B3()}get(){return c6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(n,e){Ji(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],m6=new Bc(3e4,6e4);function ca(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function os(n,e,t,i,a={}){return GT(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=Lc(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:m},l);return L3()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Bl(n.emulatorConfig.host)&&(g.credentials="include"),qT.fetch()(await $T(n,n.config.apiHost,t,f),g)})}async function GT(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},f6),e);try{const a=new g6(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw If(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,g]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw If(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw If(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw If(n,"user-disabled",c);const v=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw HT(n,v,g);Or(n,v)}}catch(a){if(a instanceof as)throw a;Or(n,"network-request-failed",{message:String(a)})}}async function zc(n,e,t,i,a={}){const l=await os(n,e,t,i,a);return"mfaPendingCredential"in l&&Or(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function $T(n,e,t,i){const a=`${e}${t}?${i}`,l=n,c=l.config.emulator?Zy(n.config,a):`${n.config.apiScheme}://${a}`;return h6.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function p6(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class g6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ni(this.auth,"network-request-failed")),m6.get())})}}function If(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=ni(n,e,i);return a.customData._tokenResponse=t,a}function ex(n){return n!==void 0&&n.enterprise!==void 0}class y6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return p6(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function v6(n,e){return os(n,"GET","/v2/recaptchaConfig",ca(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _6(n,e){return os(n,"POST","/v1/accounts:delete",e)}async function ch(n,e){return os(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function b6(n,e=!1){const t=Ut(n),i=await t.getIdToken(e),a=Jy(i);Pe(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:gc(Ag(a.auth_time)),issuedAtTime:gc(Ag(a.iat)),expirationTime:gc(Ag(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Ag(n){return Number(n)*1e3}function Jy(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Gf("JWT malformed, contained fewer than 3 sections"),null;try{const a=IT(t);return a?JSON.parse(a):(Gf("Failed to decode base64 JWT payload"),null)}catch(a){return Gf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function tx(n){const e=Jy(n);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof as&&E6(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function E6({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gc(this.lastLoginAt),this.creationTime=gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(n){var e;const t=n.auth,i=await n.getIdToken(),a=await Sl(n,ch(t,{idToken:i}));Pe(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?YT(l.providerUserInfo):[],f=T6(n.providerData,c),m=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!(f!=null&&f.length),v=m?g:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new ry(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,b)}async function w6(n){const e=Ut(n);await dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function T6(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function YT(n){return n.map(e=>{var{providerId:t}=e,i=Uc(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S6(n,e){const t=await GT(n,{},async()=>{const i=Lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await $T(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:i};return n.emulatorConfig&&Bl(n.emulatorConfig.host)&&(m.credentials="include"),qT.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function A6(n,e){return os(n,"POST","/v2/accounts:revokeToken",ca(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const t=tx(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await S6(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new fl;return i&&(Pe(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Pe(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Pe(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fl,this.toJSON())}_performRefresh(){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(n,e){Pe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Nr{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=Uc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new x6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ry(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Sl(this,this.stsTokenManager.getToken(this.auth,e));return Pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return b6(this,e)}reload(){return w6(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Nr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await dh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Er(this.auth.app))return Promise.reject($i(this.auth));const e=await this.getIdToken();return await Sl(this,_6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,c,f,m,g,v;const b=(i=t.displayName)!==null&&i!==void 0?i:void 0,E=(a=t.email)!==null&&a!==void 0?a:void 0,C=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,R=(c=t.photoURL)!==null&&c!==void 0?c:void 0,A=(f=t.tenantId)!==null&&f!==void 0?f:void 0,N=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,V=(g=t.createdAt)!==null&&g!==void 0?g:void 0,U=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:z,emailVerified:G,isAnonymous:$,providerData:re,stsTokenManager:k}=t;Pe(z&&k,e,"internal-error");const S=fl.fromJSON(this.name,k);Pe(typeof z=="string",e,"internal-error"),Bs(b,e.name),Bs(E,e.name),Pe(typeof G=="boolean",e,"internal-error"),Pe(typeof $=="boolean",e,"internal-error"),Bs(C,e.name),Bs(R,e.name),Bs(A,e.name),Bs(N,e.name),Bs(V,e.name),Bs(U,e.name);const M=new Nr({uid:z,auth:e,email:E,emailVerified:G,displayName:b,isAnonymous:$,photoURL:R,phoneNumber:C,tenantId:A,stsTokenManager:S,createdAt:V,lastLoginAt:U});return re&&Array.isArray(re)&&(M.providerData=re.map(L=>Object.assign({},L))),N&&(M._redirectEventId=N),M}static async _fromIdTokenResponse(e,t,i=!1){const a=new fl;a.updateFromServerResponse(t);const l=new Nr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await dh(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Pe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?YT(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new fl;f.updateFromIdToken(i);const m=new Nr({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ry(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=new Map;function Bi(n){Ji(n instanceof Function,"Expected a class definition");let e=nx.get(n);return e?(Ji(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,nx.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}KT.type="NONE";const rx=KT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(n,e,t){return`firebase:${n}:${e}:${t}`}class hl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=$f(this.userKey,a.apiKey,l),this.fullPersistenceKey=$f("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ch(this.auth,{idToken:e}).catch(()=>{});return t?Nr._fromGetAccountInfoResponse(this.auth,t,e):null}return Nr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new hl(Bi(rx),e,i);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Bi(rx);const c=$f(i,e.config.apiKey,e.name);let f=null;for(const g of t)try{const v=await g._get(c);if(v){let b;if(typeof v=="string"){const E=await ch(e,{idToken:v}).catch(()=>{});if(!E)break;b=await Nr._fromGetAccountInfoResponse(e,E,v)}else b=Nr._fromJSON(e,v);g!==l&&(f=b),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new hl(l,e,i):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new hl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eS(e))return"Blackberry";if(tS(e))return"Webos";if(WT(e))return"Safari";if((e.includes("chrome/")||XT(e))&&!e.includes("edge/"))return"Chrome";if(JT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function QT(n=Mn()){return/firefox\//i.test(n)}function WT(n=Mn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XT(n=Mn()){return/crios\//i.test(n)}function ZT(n=Mn()){return/iemobile/i.test(n)}function JT(n=Mn()){return/android/i.test(n)}function eS(n=Mn()){return/blackberry/i.test(n)}function tS(n=Mn()){return/webos/i.test(n)}function ev(n=Mn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function C6(n=Mn()){var e;return ev(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function R6(){return z3()&&document.documentMode===10}function nS(n=Mn()){return ev(n)||JT(n)||tS(n)||eS(n)||/windows phone/i.test(n)||ZT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(n,e=[]){let t;switch(n){case"Browser":t=ix(Mn());break;case"Worker":t=`${ix(Mn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${zl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N6(n,e={}){return os(n,"GET","/v2/passwordPolicy",ca(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=6;class k6{constructor(e){var t,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:D6,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,c,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(i=m.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sx(this),this.idTokenSubscription=new sx(this),this.beforeStateQueue=new I6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Bi(t)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await hl.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ch(this,{idToken:e}),i=await Nr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Er(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await dh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=d6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Er(this.app))return Promise.reject($i(this));const t=e?Ut(e):null;return t&&Pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Er(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Er(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await N6(this),t=new k6(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await A6(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Bi(e)||this._popupRedirectResolver;Pe(t,this,"argument-error"),this.redirectPersistenceManager=await hl.create(this,[Bi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&l6(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function lo(n){return Ut(n)}class sx{constructor(e){this.auth=e,this.observer=null,this.addObserver=Q3(t=>this.observer=t)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function M6(n){Lh=n}function iS(n){return Lh.loadJS(n)}function j6(){return Lh.recaptchaEnterpriseScript}function P6(){return Lh.gapiScript}function V6(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class L6{constructor(){this.enterprise=new U6}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class U6{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const B6="recaptcha-enterprise",sS="NO_RECAPTCHA";class z6{constructor(e){this.type=B6,this.auth=lo(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{v6(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new y6(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;ex(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(sS)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new L6().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(f=>{if(!t&&ex(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=j6();m.length!==0&&(m+=f),iS(m).then(()=>{a(f,l,c)}).catch(g=>{c(g)})}}).catch(f=>{c(f)})})}}async function ax(n,e,t,i=!1,a=!1){const l=new z6(n);let c;if(a)c=sS;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function iy(n,e,t,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await ax(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await ax(n,e,t,t==="getOobCode");return i(n,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(n,e){const t=Wy(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Za(l,e??{}))return a;Or(a,"already-initialized")}return t.initialize({options:e})}function H6(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Bi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function q6(n,e,t){const i=lo(n);Pe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=aS(e),{host:c,port:f}=G6(e),m=f===null?"":`:${f}`,g={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Pe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Pe(Za(g,i.config.emulator)&&Za(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,Bl(c)?(OT(`${l}//${c}${m}`),MT("Auth",!0)):$6()}function aS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function G6(n){const e=aS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:ox(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:ox(c)}}}function ox(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function $6(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ui("not implemented")}_getIdTokenResponse(e){return Ui("not implemented")}_linkToIdToken(e,t){return Ui("not implemented")}_getReauthenticationResolver(e){return Ui("not implemented")}}async function Y6(n,e){return os(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K6(n,e){return zc(n,"POST","/v1/accounts:signInWithPassword",ca(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q6(n,e){return zc(n,"POST","/v1/accounts:signInWithEmailLink",ca(n,e))}async function W6(n,e){return zc(n,"POST","/v1/accounts:signInWithEmailLink",ca(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends tv{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Tc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Tc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iy(e,t,"signInWithPassword",K6);case"emailLink":return Q6(e,{email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iy(e,i,"signUpPassword",Y6);case"emailLink":return W6(e,{idToken:t,email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(n,e){return zc(n,"POST","/v1/accounts:signInWithIdp",ca(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6="http://localhost";class eo extends tv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new eo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Or("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=Uc(t,["providerId","signInMethod"]);if(!i||!a)return null;const c=new eo(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ml(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ml(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ml(e,t)}buildRequest(){const e={requestUri:X6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Lc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function J6(n){const e=lc(uc(n)).link,t=e?lc(uc(e)).deep_link_id:null,i=lc(uc(n)).deep_link_id;return(i?lc(uc(i)).link:null)||i||t||e||n}class nv{constructor(e){var t,i,a,l,c,f;const m=lc(uc(e)),g=(t=m.apiKey)!==null&&t!==void 0?t:null,v=(i=m.oobCode)!==null&&i!==void 0?i:null,b=Z6((a=m.mode)!==null&&a!==void 0?a:null);Pe(g&&v&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=v,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=J6(e);try{return new nv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(){this.providerId=Fl.PROVIDER_ID}static credential(e,t){return Tc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=nv.parseLink(t);return Pe(i,"argument-error"),Tc._fromEmailAndCode(e,i.code,i.tenantId)}}Fl.PROVIDER_ID="password";Fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends oS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Fc{constructor(){super("facebook.com")}static credential(e){return eo._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends Fc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return eo._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Gs.credential(t,i)}catch{return null}}}Gs.GOOGLE_SIGN_IN_METHOD="google.com";Gs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Fc{constructor(){super("github.com")}static credential(e){return eo._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.GITHUB_SIGN_IN_METHOD="github.com";$s.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends Fc{constructor(){super("twitter.com")}static credential(e,t){return eo._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ys.credential(t,i)}catch{return null}}}Ys.TWITTER_SIGN_IN_METHOD="twitter.com";Ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ek(n,e){return zc(n,"POST","/v1/accounts:signUp",ca(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Nr._fromIdTokenResponse(e,i,a),c=lx(i);return new to({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=lx(i);return new to({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function lx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends as{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new fh(e,t,i,a)}}function lS(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(n,l,e,i):l})}async function tk(n,e,t=!1){const i=await Sl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return to._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nk(n,e,t=!1){const{auth:i}=n;if(Er(i.app))return Promise.reject($i(i));const a="reauthenticate";try{const l=await Sl(n,lS(i,a,e,n),t);Pe(l.idToken,i,"internal-error");const c=Jy(l.idToken);Pe(c,i,"internal-error");const{sub:f}=c;return Pe(n.uid===f,i,"user-mismatch"),to._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Or(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uS(n,e,t=!1){if(Er(n.app))return Promise.reject($i(n));const i="signIn",a=await lS(n,i,e),l=await to._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function rk(n,e){return uS(lo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cS(n){const e=lo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ik(n,e,t){if(Er(n.app))return Promise.reject($i(n));const i=lo(n),c=await iy(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ek).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&cS(n),m}),f=await to._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(f.user),f}function sk(n,e,t){return Er(n.app)?Promise.reject($i(n)):rk(Ut(n),Fl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&cS(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(n,e){return os(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dS(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Ut(n),l={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await Sl(i,ak(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const f=i.providerData.find(({providerId:m})=>m==="password");f&&(f.displayName=i.displayName,f.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function ok(n,e,t,i){return Ut(n).onIdTokenChanged(e,t,i)}function lk(n,e,t){return Ut(n).beforeAuthStateChanged(e,t)}function uk(n,e,t,i){return Ut(n).onAuthStateChanged(e,t,i)}function ck(n){return Ut(n).signOut()}const hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=1e3,fk=10;class hS extends fS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);R6()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,fk):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},dk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}hS.type="LOCAL";const hk=hS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS extends fS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}mS.type="SESSION";const pS=mS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Uh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(c).map(async g=>g(t.origin,l)),m=await mk(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const g=rv("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(b){const E=b;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function gk(n){ri().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function yk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vk(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function _k(){return gS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="firebaseLocalStorageDb",bk=1,mh="firebaseLocalStorage",vS="fbase_key";class Hc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Bh(n,e){return n.transaction([mh],e?"readwrite":"readonly").objectStore(mh)}function Ek(){const n=indexedDB.deleteDatabase(yS);return new Hc(n).toPromise()}function sy(){const n=indexedDB.open(yS,bk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(mh,{keyPath:vS})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(mh)?e(i):(i.close(),await Ek(),e(await sy()))})})}async function ux(n,e,t){const i=Bh(n,!0).put({[vS]:e,value:t});return new Hc(i).toPromise()}async function xk(n,e){const t=Bh(n,!1).get(e),i=await new Hc(t).toPromise();return i===void 0?null:i.value}function cx(n,e){const t=Bh(n,!0).delete(e);return new Hc(t).toPromise()}const wk=800,Tk=3;class _S{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>Tk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uh._getInstance(_k()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await yk(),!this.activeServiceWorker)return;this.sender=new pk(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sy();return await ux(e,hh,"1"),await cx(e,hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ux(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>xk(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>cx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Bh(a,!1).getAll();return new Hc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_S.type="LOCAL";const Sk=_S;new Bc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(n,e){return e?Bi(e):(Pe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv extends tv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ml(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ml(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ck(n){return uS(n.auth,new iv(n),n.bypassAuthState)}function Rk(n){const{auth:e,user:t}=n;return Pe(t,e,"internal-error"),nk(t,new iv(n),n.bypassAuthState)}async function Ik(n){const{auth:e,user:t}=n;return Pe(t,e,"internal-error"),tk(t,new iv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ck;case"linkViaPopup":case"linkViaRedirect":return Ik;case"reauthViaPopup":case"reauthViaRedirect":return Rk;default:Or(this.auth,"internal-error")}}resolve(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=new Bc(2e3,1e4);class dl extends bS{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,dl.currentPopupAction&&dl.currentPopupAction.cancel(),dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){Ji(this.filter.length===1,"Popup operations only handle one event");const e=rv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Nk.get())};e()}}dl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="pendingRedirect",Yf=new Map;class kk extends bS{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Yf.get(this.auth._key());if(!e){try{const i=await Ok(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Yf.set(this.auth._key(),e)}return this.bypassAuthState||Yf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ok(n,e){const t=Pk(e),i=jk(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function Mk(n,e){Yf.set(n._key(),e)}function jk(n){return Bi(n._redirectPersistence)}function Pk(n){return $f(Dk,n.config.apiKey,n.name)}async function Vk(n,e,t=!1){if(Er(n.app))return Promise.reject($i(n));const i=lo(n),a=Ak(i,e),c=await new kk(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=10*60*1e3;class Uk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Bk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!ES(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(ni(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Lk&&this.cachedEventUids.clear(),this.cachedEventUids.has(dx(e))}saveEventToCache(e){this.cachedEventUids.add(dx(e)),this.lastProcessedEventTime=Date.now()}}function dx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ES({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Bk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ES(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(n,e={}){return os(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hk=/^https?/;async function qk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await zk(n);for(const t of e)try{if(Gk(t))return}catch{}Or(n,"unauthorized-domain")}function Gk(n){const e=ny(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!Hk.test(t))return!1;if(Fk.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=new Bc(3e4,6e4);function fx(){const n=ri().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Yk(n){return new Promise((e,t)=>{var i,a,l;function c(){fx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fx(),t(ni(n,"network-request-failed"))},timeout:$k.get()})}if(!((a=(i=ri().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=ri().gapi)===null||l===void 0)&&l.load)c();else{const f=V6("iframefcb");return ri()[f]=()=>{gapi.load?c():t(ni(n,"network-request-failed"))},iS(`${P6()}?onload=${f}`).catch(m=>t(m))}}).catch(e=>{throw Kf=null,e})}let Kf=null;function Kk(n){return Kf=Kf||Yk(n),Kf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=new Bc(5e3,15e3),Wk="__/auth/iframe",Xk="emulator/auth/iframe",Zk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eO(n){const e=n.config;Pe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Zy(e,Xk):`https://${n.config.authDomain}/${Wk}`,i={apiKey:e.apiKey,appName:n.name,v:zl},a=Jk.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Lc(i).slice(1)}`}async function tO(n){const e=await Kk(n),t=ri().gapi;return Pe(t,n,"internal-error"),e.open({where:document.body,url:eO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zk,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=ni(n,"network-request-failed"),f=ri().setTimeout(()=>{l(c)},Qk.get());function m(){ri().clearTimeout(f),a(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rO=500,iO=600,sO="_blank",aO="http://localhost";class hx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oO(n,e,t,i=rO,a=iO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const m=Object.assign(Object.assign({},nO),{width:i.toString(),height:a.toString(),top:l,left:c}),g=Mn().toLowerCase();t&&(f=XT(g)?sO:t),QT(g)&&(e=e||aO,m.scrollbars="yes");const v=Object.entries(m).reduce((E,[C,R])=>`${E}${C}=${R},`,"");if(C6(g)&&f!=="_self")return lO(e||"",f),new hx(null);const b=window.open(e||"",f,v);Pe(b,n,"popup-blocked");try{b.focus()}catch{}return new hx(b)}function lO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO="__/auth/handler",cO="emulator/auth/handler",dO=encodeURIComponent("fac");async function mx(n,e,t,i,a,l){Pe(n.config.authDomain,n,"auth-domain-config-required"),Pe(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:zl,eventId:a};if(e instanceof oS){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",K3(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof Fc){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const m=await n._getAppCheckToken(),g=m?`#${dO}=${encodeURIComponent(m)}`:"";return`${fO(n)}?${Lc(f).slice(1)}${g}`}function fO({config:n}){return n.emulator?Zy(n,cO):`https://${n.authDomain}/${uO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="webStorageSupport";class hO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pS,this._completeRedirectFn=Vk,this._overrideRedirectResult=Mk}async _openPopup(e,t,i,a){var l;Ji((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await mx(e,t,i,ny(),a);return oO(e,c,rv())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await mx(e,t,i,ny(),a);return gk(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Ji(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await tO(e),i=new Uk(e);return t.register("authEvent",a=>(Pe(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Cg,{type:Cg},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Cg];c!==void 0&&t(!!c),Or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=qk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return nS()||WT()||ev()}}const mO=hO;var px="@firebase/auth",gx="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yO(n){Tl(new Ja("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Pe(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rS(n)},g=new O6(i,a,l,m);return H6(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Tl(new Ja("auth-internal",e=>{const t=lo(e.getProvider("auth").getImmediate());return(i=>new pO(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zs(px,gx,gO(n)),Zs(px,gx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=5*60,_O=kT("authIdTokenMaxAge")||vO;let yx=null;const bO=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>_O)return;const a=t==null?void 0:t.token;yx!==a&&(yx=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function EO(n=LT()){const e=Wy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=F6(n,{popupRedirectResolver:mO,persistence:[Sk,hk,pS]}),i=kT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=bO(l.toString());lk(t,c,()=>c(t.currentUser)),ok(t,f=>c(f))}}const a=NT("auth");return a&&q6(t,`http://${a}`),t}function xO(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}M6({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=ni("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",xO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yO("Browser");var vx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Js,xS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,S){function M(){}M.prototype=S.prototype,k.D=S.prototype,k.prototype=new M,k.prototype.constructor=k,k.C=function(L,D,P){for(var j=Array(arguments.length-2),q=2;q<arguments.length;q++)j[q-2]=arguments[q];return S.prototype[D].apply(L,j)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,S,M){M||(M=0);var L=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)L[D]=S.charCodeAt(M++)|S.charCodeAt(M++)<<8|S.charCodeAt(M++)<<16|S.charCodeAt(M++)<<24;else for(D=0;16>D;++D)L[D]=S[M++]|S[M++]<<8|S[M++]<<16|S[M++]<<24;S=k.g[0],M=k.g[1],D=k.g[2];var P=k.g[3],j=S+(P^M&(D^P))+L[0]+3614090360&4294967295;S=M+(j<<7&4294967295|j>>>25),j=P+(D^S&(M^D))+L[1]+3905402710&4294967295,P=S+(j<<12&4294967295|j>>>20),j=D+(M^P&(S^M))+L[2]+606105819&4294967295,D=P+(j<<17&4294967295|j>>>15),j=M+(S^D&(P^S))+L[3]+3250441966&4294967295,M=D+(j<<22&4294967295|j>>>10),j=S+(P^M&(D^P))+L[4]+4118548399&4294967295,S=M+(j<<7&4294967295|j>>>25),j=P+(D^S&(M^D))+L[5]+1200080426&4294967295,P=S+(j<<12&4294967295|j>>>20),j=D+(M^P&(S^M))+L[6]+2821735955&4294967295,D=P+(j<<17&4294967295|j>>>15),j=M+(S^D&(P^S))+L[7]+4249261313&4294967295,M=D+(j<<22&4294967295|j>>>10),j=S+(P^M&(D^P))+L[8]+1770035416&4294967295,S=M+(j<<7&4294967295|j>>>25),j=P+(D^S&(M^D))+L[9]+2336552879&4294967295,P=S+(j<<12&4294967295|j>>>20),j=D+(M^P&(S^M))+L[10]+4294925233&4294967295,D=P+(j<<17&4294967295|j>>>15),j=M+(S^D&(P^S))+L[11]+2304563134&4294967295,M=D+(j<<22&4294967295|j>>>10),j=S+(P^M&(D^P))+L[12]+1804603682&4294967295,S=M+(j<<7&4294967295|j>>>25),j=P+(D^S&(M^D))+L[13]+4254626195&4294967295,P=S+(j<<12&4294967295|j>>>20),j=D+(M^P&(S^M))+L[14]+2792965006&4294967295,D=P+(j<<17&4294967295|j>>>15),j=M+(S^D&(P^S))+L[15]+1236535329&4294967295,M=D+(j<<22&4294967295|j>>>10),j=S+(D^P&(M^D))+L[1]+4129170786&4294967295,S=M+(j<<5&4294967295|j>>>27),j=P+(M^D&(S^M))+L[6]+3225465664&4294967295,P=S+(j<<9&4294967295|j>>>23),j=D+(S^M&(P^S))+L[11]+643717713&4294967295,D=P+(j<<14&4294967295|j>>>18),j=M+(P^S&(D^P))+L[0]+3921069994&4294967295,M=D+(j<<20&4294967295|j>>>12),j=S+(D^P&(M^D))+L[5]+3593408605&4294967295,S=M+(j<<5&4294967295|j>>>27),j=P+(M^D&(S^M))+L[10]+38016083&4294967295,P=S+(j<<9&4294967295|j>>>23),j=D+(S^M&(P^S))+L[15]+3634488961&4294967295,D=P+(j<<14&4294967295|j>>>18),j=M+(P^S&(D^P))+L[4]+3889429448&4294967295,M=D+(j<<20&4294967295|j>>>12),j=S+(D^P&(M^D))+L[9]+568446438&4294967295,S=M+(j<<5&4294967295|j>>>27),j=P+(M^D&(S^M))+L[14]+3275163606&4294967295,P=S+(j<<9&4294967295|j>>>23),j=D+(S^M&(P^S))+L[3]+4107603335&4294967295,D=P+(j<<14&4294967295|j>>>18),j=M+(P^S&(D^P))+L[8]+1163531501&4294967295,M=D+(j<<20&4294967295|j>>>12),j=S+(D^P&(M^D))+L[13]+2850285829&4294967295,S=M+(j<<5&4294967295|j>>>27),j=P+(M^D&(S^M))+L[2]+4243563512&4294967295,P=S+(j<<9&4294967295|j>>>23),j=D+(S^M&(P^S))+L[7]+1735328473&4294967295,D=P+(j<<14&4294967295|j>>>18),j=M+(P^S&(D^P))+L[12]+2368359562&4294967295,M=D+(j<<20&4294967295|j>>>12),j=S+(M^D^P)+L[5]+4294588738&4294967295,S=M+(j<<4&4294967295|j>>>28),j=P+(S^M^D)+L[8]+2272392833&4294967295,P=S+(j<<11&4294967295|j>>>21),j=D+(P^S^M)+L[11]+1839030562&4294967295,D=P+(j<<16&4294967295|j>>>16),j=M+(D^P^S)+L[14]+4259657740&4294967295,M=D+(j<<23&4294967295|j>>>9),j=S+(M^D^P)+L[1]+2763975236&4294967295,S=M+(j<<4&4294967295|j>>>28),j=P+(S^M^D)+L[4]+1272893353&4294967295,P=S+(j<<11&4294967295|j>>>21),j=D+(P^S^M)+L[7]+4139469664&4294967295,D=P+(j<<16&4294967295|j>>>16),j=M+(D^P^S)+L[10]+3200236656&4294967295,M=D+(j<<23&4294967295|j>>>9),j=S+(M^D^P)+L[13]+681279174&4294967295,S=M+(j<<4&4294967295|j>>>28),j=P+(S^M^D)+L[0]+3936430074&4294967295,P=S+(j<<11&4294967295|j>>>21),j=D+(P^S^M)+L[3]+3572445317&4294967295,D=P+(j<<16&4294967295|j>>>16),j=M+(D^P^S)+L[6]+76029189&4294967295,M=D+(j<<23&4294967295|j>>>9),j=S+(M^D^P)+L[9]+3654602809&4294967295,S=M+(j<<4&4294967295|j>>>28),j=P+(S^M^D)+L[12]+3873151461&4294967295,P=S+(j<<11&4294967295|j>>>21),j=D+(P^S^M)+L[15]+530742520&4294967295,D=P+(j<<16&4294967295|j>>>16),j=M+(D^P^S)+L[2]+3299628645&4294967295,M=D+(j<<23&4294967295|j>>>9),j=S+(D^(M|~P))+L[0]+4096336452&4294967295,S=M+(j<<6&4294967295|j>>>26),j=P+(M^(S|~D))+L[7]+1126891415&4294967295,P=S+(j<<10&4294967295|j>>>22),j=D+(S^(P|~M))+L[14]+2878612391&4294967295,D=P+(j<<15&4294967295|j>>>17),j=M+(P^(D|~S))+L[5]+4237533241&4294967295,M=D+(j<<21&4294967295|j>>>11),j=S+(D^(M|~P))+L[12]+1700485571&4294967295,S=M+(j<<6&4294967295|j>>>26),j=P+(M^(S|~D))+L[3]+2399980690&4294967295,P=S+(j<<10&4294967295|j>>>22),j=D+(S^(P|~M))+L[10]+4293915773&4294967295,D=P+(j<<15&4294967295|j>>>17),j=M+(P^(D|~S))+L[1]+2240044497&4294967295,M=D+(j<<21&4294967295|j>>>11),j=S+(D^(M|~P))+L[8]+1873313359&4294967295,S=M+(j<<6&4294967295|j>>>26),j=P+(M^(S|~D))+L[15]+4264355552&4294967295,P=S+(j<<10&4294967295|j>>>22),j=D+(S^(P|~M))+L[6]+2734768916&4294967295,D=P+(j<<15&4294967295|j>>>17),j=M+(P^(D|~S))+L[13]+1309151649&4294967295,M=D+(j<<21&4294967295|j>>>11),j=S+(D^(M|~P))+L[4]+4149444226&4294967295,S=M+(j<<6&4294967295|j>>>26),j=P+(M^(S|~D))+L[11]+3174756917&4294967295,P=S+(j<<10&4294967295|j>>>22),j=D+(S^(P|~M))+L[2]+718787259&4294967295,D=P+(j<<15&4294967295|j>>>17),j=M+(P^(D|~S))+L[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(D+(j<<21&4294967295|j>>>11))&4294967295,k.g[2]=k.g[2]+D&4294967295,k.g[3]=k.g[3]+P&4294967295}i.prototype.u=function(k,S){S===void 0&&(S=k.length);for(var M=S-this.blockSize,L=this.B,D=this.h,P=0;P<S;){if(D==0)for(;P<=M;)a(this,k,P),P+=this.blockSize;if(typeof k=="string"){for(;P<S;)if(L[D++]=k.charCodeAt(P++),D==this.blockSize){a(this,L),D=0;break}}else for(;P<S;)if(L[D++]=k[P++],D==this.blockSize){a(this,L),D=0;break}}this.h=D,this.o+=S},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;var M=8*this.o;for(S=k.length-8;S<k.length;++S)k[S]=M&255,M/=256;for(this.u(k),k=Array(16),S=M=0;4>S;++S)for(var L=0;32>L;L+=8)k[M++]=this.g[S]>>>L&255;return k};function l(k,S){var M=f;return Object.prototype.hasOwnProperty.call(M,k)?M[k]:M[k]=S(k)}function c(k,S){this.h=S;for(var M=[],L=!0,D=k.length-1;0<=D;D--){var P=k[D]|0;L&&P==S||(M[D]=P,L=!1)}this.g=M}var f={};function m(k){return-128<=k&&128>k?l(k,function(S){return new c([S|0],0>S?-1:0)}):new c([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return b;if(0>k)return N(g(-k));for(var S=[],M=1,L=0;k>=M;L++)S[L]=k/M|0,M*=4294967296;return new c(S,0)}function v(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return N(v(k.substring(1),S));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=g(Math.pow(S,8)),L=b,D=0;D<k.length;D+=8){var P=Math.min(8,k.length-D),j=parseInt(k.substring(D,D+P),S);8>P?(P=g(Math.pow(S,P)),L=L.j(P).add(g(j))):(L=L.j(M),L=L.add(g(j)))}return L}var b=m(0),E=m(1),C=m(16777216);n=c.prototype,n.m=function(){if(A(this))return-N(this).m();for(var k=0,S=1,M=0;M<this.g.length;M++){var L=this.i(M);k+=(0<=L?L:4294967296+L)*S,S*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(R(this))return"0";if(A(this))return"-"+N(this).toString(k);for(var S=g(Math.pow(k,6)),M=this,L="";;){var D=G(M,S).g;M=V(M,D.j(S));var P=((0<M.g.length?M.g[0]:M.h)>>>0).toString(k);if(M=D,R(M))return P+L;for(;6>P.length;)P="0"+P;L=P+L}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function R(k){if(k.h!=0)return!1;for(var S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function A(k){return k.h==-1}n.l=function(k){return k=V(this,k),A(k)?-1:R(k)?0:1};function N(k){for(var S=k.g.length,M=[],L=0;L<S;L++)M[L]=~k.g[L];return new c(M,~k.h).add(E)}n.abs=function(){return A(this)?N(this):this},n.add=function(k){for(var S=Math.max(this.g.length,k.g.length),M=[],L=0,D=0;D<=S;D++){var P=L+(this.i(D)&65535)+(k.i(D)&65535),j=(P>>>16)+(this.i(D)>>>16)+(k.i(D)>>>16);L=j>>>16,P&=65535,j&=65535,M[D]=j<<16|P}return new c(M,M[M.length-1]&-2147483648?-1:0)};function V(k,S){return k.add(N(S))}n.j=function(k){if(R(this)||R(k))return b;if(A(this))return A(k)?N(this).j(N(k)):N(N(this).j(k));if(A(k))return N(this.j(N(k)));if(0>this.l(C)&&0>k.l(C))return g(this.m()*k.m());for(var S=this.g.length+k.g.length,M=[],L=0;L<2*S;L++)M[L]=0;for(L=0;L<this.g.length;L++)for(var D=0;D<k.g.length;D++){var P=this.i(L)>>>16,j=this.i(L)&65535,q=k.i(D)>>>16,te=k.i(D)&65535;M[2*L+2*D]+=j*te,U(M,2*L+2*D),M[2*L+2*D+1]+=P*te,U(M,2*L+2*D+1),M[2*L+2*D+1]+=j*q,U(M,2*L+2*D+1),M[2*L+2*D+2]+=P*q,U(M,2*L+2*D+2)}for(L=0;L<S;L++)M[L]=M[2*L+1]<<16|M[2*L];for(L=S;L<2*S;L++)M[L]=0;return new c(M,0)};function U(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function z(k,S){this.g=k,this.h=S}function G(k,S){if(R(S))throw Error("division by zero");if(R(k))return new z(b,b);if(A(k))return S=G(N(k),S),new z(N(S.g),N(S.h));if(A(S))return S=G(k,N(S)),new z(N(S.g),S.h);if(30<k.g.length){if(A(k)||A(S))throw Error("slowDivide_ only works with positive integers.");for(var M=E,L=S;0>=L.l(k);)M=$(M),L=$(L);var D=re(M,1),P=re(L,1);for(L=re(L,2),M=re(M,2);!R(L);){var j=P.add(L);0>=j.l(k)&&(D=D.add(M),P=j),L=re(L,1),M=re(M,1)}return S=V(k,D.j(S)),new z(D,S)}for(D=b;0<=k.l(S);){for(M=Math.max(1,Math.floor(k.m()/S.m())),L=Math.ceil(Math.log(M)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),P=g(M),j=P.j(S);A(j)||0<j.l(k);)M-=L,P=g(M),j=P.j(S);R(P)&&(P=E),D=D.add(P),k=V(k,j)}return new z(D,k)}n.A=function(k){return G(this,k).h},n.and=function(k){for(var S=Math.max(this.g.length,k.g.length),M=[],L=0;L<S;L++)M[L]=this.i(L)&k.i(L);return new c(M,this.h&k.h)},n.or=function(k){for(var S=Math.max(this.g.length,k.g.length),M=[],L=0;L<S;L++)M[L]=this.i(L)|k.i(L);return new c(M,this.h|k.h)},n.xor=function(k){for(var S=Math.max(this.g.length,k.g.length),M=[],L=0;L<S;L++)M[L]=this.i(L)^k.i(L);return new c(M,this.h^k.h)};function $(k){for(var S=k.g.length+1,M=[],L=0;L<S;L++)M[L]=k.i(L)<<1|k.i(L-1)>>>31;return new c(M,k.h)}function re(k,S){var M=S>>5;S%=32;for(var L=k.g.length-M,D=[],P=0;P<L;P++)D[P]=0<S?k.i(P+M)>>>S|k.i(P+M+1)<<32-S:k.i(P+M);return new c(D,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,xS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Js=c}).apply(typeof vx<"u"?vx:typeof self<"u"?self:typeof window<"u"?window:{});var Nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wS,cc,TS,Qf,ay,SS,AS,CS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,x){return d==Array.prototype||d==Object.prototype||(d[_]=x.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nf=="object"&&Nf];for(var _=0;_<d.length;++_){var x=d[_];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=t(this);function a(d,_){if(_)e:{var x=i;d=d.split(".");for(var O=0;O<d.length-1;O++){var X=d[O];if(!(X in x))break e;x=x[X]}d=d[d.length-1],O=x[d],_=_(O),_!=O&&_!=null&&e(x,d,{configurable:!0,writable:!0,value:_})}}function l(d,_){d instanceof String&&(d+="");var x=0,O=!1,X={next:function(){if(!O&&x<d.length){var ae=x++;return{value:_(ae,d[ae]),done:!1}}return O=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}a("Array.prototype.values",function(d){return d||function(){return l(this,function(_,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function g(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function v(d,_,x){return d.call.apply(d.bind,arguments)}function b(d,_,x){if(!d)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,O),d.apply(_,X)}}return function(){return d.apply(_,arguments)}}function E(d,_,x){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,E.apply(null,arguments)}function C(d,_){var x=Array.prototype.slice.call(arguments,1);return function(){var O=x.slice();return O.push.apply(O,arguments),d.apply(this,O)}}function R(d,_){function x(){}x.prototype=_.prototype,d.aa=_.prototype,d.prototype=new x,d.prototype.constructor=d,d.Qb=function(O,X,ae){for(var ye=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)ye[nt-2]=arguments[nt];return _.prototype[X].apply(O,ye)}}function A(d){const _=d.length;if(0<_){const x=Array(_);for(let O=0;O<_;O++)x[O]=d[O];return x}return[]}function N(d,_){for(let x=1;x<arguments.length;x++){const O=arguments[x];if(m(O)){const X=d.length||0,ae=O.length||0;d.length=X+ae;for(let ye=0;ye<ae;ye++)d[X+ye]=O[ye]}else d.push(O)}}class V{constructor(_,x){this.i=_,this.j=x,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function U(d){return/^[\s\xa0]*$/.test(d)}function z(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function G(d){return G[" "](d),d}G[" "]=function(){};var $=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function re(d,_,x){for(const O in d)_.call(x,d[O],O,d)}function k(d,_){for(const x in d)_.call(void 0,d[x],x,d)}function S(d){const _={};for(const x in d)_[x]=d[x];return _}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(d,_){let x,O;for(let X=1;X<arguments.length;X++){O=arguments[X];for(x in O)d[x]=O[x];for(let ae=0;ae<M.length;ae++)x=M[ae],Object.prototype.hasOwnProperty.call(O,x)&&(d[x]=O[x])}}function D(d){var _=1;d=d.split(":");const x=[];for(;0<_&&d.length;)x.push(d.shift()),_--;return d.length&&x.push(d.join(":")),x}function P(d){f.setTimeout(()=>{throw d},0)}function j(){var d=pe;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class q{constructor(){this.h=this.g=null}add(_,x){const O=te.get();O.set(_,x),this.h?this.h.next=O:this.g=O,this.h=O}}var te=new V(()=>new F,d=>d.reset());class F{constructor(){this.next=this.g=this.h=null}set(_,x){this.h=_,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let W,Y=!1,pe=new q,B=()=>{const d=f.Promise.resolve(void 0);W=()=>{d.then(J)}};var J=()=>{for(var d;d=j();){try{d.h.call(d.g)}catch(x){P(x)}var _=te;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}Y=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};f.addEventListener("test",x,_),f.removeEventListener("test",x,_)}catch{}return d}();function Ee(d,_){if(oe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var x=this.type=d.type,O=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if($){e:{try{G(_.nodeName);var X=!0;break e}catch{}X=!1}X||(_=null)}}else x=="mouseover"?_=d.fromElement:x=="mouseout"&&(_=d.toElement);this.relatedTarget=_,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ve[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ee.aa.h.call(this)}}R(Ee,oe);var ve={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),xe=0;function qe(d,_,x,O,X){this.listener=d,this.proxy=null,this.src=_,this.type=x,this.capture=!!O,this.ha=X,this.key=++xe,this.da=this.fa=!1}function ke(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Oe(d){this.src=d,this.g={},this.h=0}Oe.prototype.add=function(d,_,x,O,X){var ae=d.toString();d=this.g[ae],d||(d=this.g[ae]=[],this.h++);var ye=se(d,_,O,X);return-1<ye?(_=d[ye],x||(_.fa=!1)):(_=new qe(_,this.src,ae,!!O,X),_.fa=x,d.push(_)),_};function Le(d,_){var x=_.type;if(x in d.g){var O=d.g[x],X=Array.prototype.indexOf.call(O,_,void 0),ae;(ae=0<=X)&&Array.prototype.splice.call(O,X,1),ae&&(ke(_),d.g[x].length==0&&(delete d.g[x],d.h--))}}function se(d,_,x,O){for(var X=0;X<d.length;++X){var ae=d[X];if(!ae.da&&ae.listener==_&&ae.capture==!!x&&ae.ha==O)return X}return-1}var Ae="closure_lm_"+(1e6*Math.random()|0),Ce={};function Ie(d,_,x,O,X){if(Array.isArray(_)){for(var ae=0;ae<_.length;ae++)Ie(d,_[ae],x,O,X);return null}return x=nd(x),d&&d[ge]?d.K(_,x,g(O)?!!O.capture:!1,X):Fe(d,_,x,!1,O,X)}function Fe(d,_,x,O,X,ae){if(!_)throw Error("Invalid event type");var ye=g(X)?!!X.capture:!!X,nt=cs(d);if(nt||(d[Ae]=nt=new Oe(d)),x=nt.add(_,x,O,ye,ae),x.proxy)return x;if(O=pn(),x.proxy=O,O.src=d,O.listener=x,d.addEventListener)me||(X=ye),X===void 0&&(X=!1),d.addEventListener(_.toString(),O,X);else if(d.attachEvent)d.attachEvent(Hn(_.toString()),O);else if(d.addListener&&d.removeListener)d.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return x}function pn(){function d(x){return _.call(d.src,d.listener,x)}const _=fo;return d}function lt(d,_,x,O,X){if(Array.isArray(_))for(var ae=0;ae<_.length;ae++)lt(d,_[ae],x,O,X);else O=g(O)?!!O.capture:!!O,x=nd(x),d&&d[ge]?(d=d.i,_=String(_).toString(),_ in d.g&&(ae=d.g[_],x=se(ae,x,O,X),-1<x&&(ke(ae[x]),Array.prototype.splice.call(ae,x,1),ae.length==0&&(delete d.g[_],d.h--)))):d&&(d=cs(d))&&(_=d.g[_.toString()],d=-1,_&&(d=se(_,x,O,X)),(x=-1<d?_[d]:null)&&at(x))}function at(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[ge])Le(_.i,d);else{var x=d.type,O=d.proxy;_.removeEventListener?_.removeEventListener(x,O,d.capture):_.detachEvent?_.detachEvent(Hn(x),O):_.addListener&&_.removeListener&&_.removeListener(O),(x=cs(_))?(Le(x,d),x.h==0&&(x.src=null,_[Ae]=null)):ke(d)}}}function Hn(d){return d in Ce?Ce[d]:Ce[d]="on"+d}function fo(d,_){if(d.da)d=!0;else{_=new Ee(_,this);var x=d.listener,O=d.ha||d.src;d.fa&&at(d),d=x.call(O,_)}return d}function cs(d){return d=d[Ae],d instanceof Oe?d:null}var qn="__closure_events_fn_"+(1e9*Math.random()>>>0);function nd(d){return typeof d=="function"?d:(d[qn]||(d[qn]=function(_){return d.handleEvent(_)}),d[qn])}function Mt(){ce.call(this),this.i=new Oe(this),this.M=this,this.F=null}R(Mt,ce),Mt.prototype[ge]=!0,Mt.prototype.removeEventListener=function(d,_,x,O){lt(this,d,_,x,O)};function ft(d,_){var x,O=d.F;if(O)for(x=[];O;O=O.F)x.push(O);if(d=d.M,O=_.type||_,typeof _=="string")_=new oe(_,d);else if(_ instanceof oe)_.target=_.target||d;else{var X=_;_=new oe(O,d),L(_,X)}if(X=!0,x)for(var ae=x.length-1;0<=ae;ae--){var ye=_.g=x[ae];X=Xn(ye,O,!0,_)&&X}if(ye=_.g=d,X=Xn(ye,O,!0,_)&&X,X=Xn(ye,O,!1,_)&&X,x)for(ae=0;ae<x.length;ae++)ye=_.g=x[ae],X=Xn(ye,O,!1,_)&&X}Mt.prototype.N=function(){if(Mt.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var x=d.g[_],O=0;O<x.length;O++)ke(x[O]);delete d.g[_],d.h--}}this.F=null},Mt.prototype.K=function(d,_,x,O){return this.i.add(String(d),_,!1,x,O)},Mt.prototype.L=function(d,_,x,O){return this.i.add(String(d),_,!0,x,O)};function Xn(d,_,x,O){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var X=!0,ae=0;ae<_.length;++ae){var ye=_[ae];if(ye&&!ye.da&&ye.capture==x){var nt=ye.listener,en=ye.ha||ye.src;ye.fa&&Le(d.i,ye),X=nt.call(en,O)!==!1&&X}}return X&&!O.defaultPrevented}function Sn(d,_,x){if(typeof d=="function")x&&(d=E(d,x));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:f.setTimeout(d,_||0)}function rd(d){d.g=Sn(()=>{d.g=null,d.i&&(d.i=!1,rd(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class hm extends ce{constructor(_,x){super(),this.m=_,this.l=x,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:rd(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pa(d){ce.call(this),this.h=d,this.g={}}R(pa,ce);var ga=[];function ya(d){re(d.g,function(_,x){this.g.hasOwnProperty(x)&&at(_)},d),d.g={}}pa.prototype.N=function(){pa.aa.N.call(this),ya(this)},pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xr=f.JSON.stringify,ho=f.JSON.parse,va=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function Xl(){}Xl.prototype.h=null;function Zl(d){return d.h||(d.h=d.i())}function Jl(){}var hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mi(){oe.call(this,"d")}R(mi,oe);function eu(){oe.call(this,"c")}R(eu,oe);var Lr={},tu=null;function ds(){return tu=tu||new Mt}Lr.La="serverreachability";function mo(d){oe.call(this,Lr.La,d)}R(mo,oe);function fs(d){const _=ds();ft(_,new mo(_))}Lr.STAT_EVENT="statevent";function id(d,_){oe.call(this,Lr.STAT_EVENT,d),this.stat=_}R(id,oe);function It(d){const _=ds();ft(_,new id(_,d))}Lr.Ma="timingevent";function Jt(d,_){oe.call(this,Lr.Ma,d),this.size=_}R(Jt,oe);function $t(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},_)}function ur(){this.g=!0}ur.prototype.xa=function(){this.g=!1};function nu(d,_,x,O,X,ae){d.info(function(){if(d.g)if(ae)for(var ye="",nt=ae.split("&"),en=0;en<nt.length;en++){var rt=nt[en].split("=");if(1<rt.length){var cn=rt[0];rt=rt[1];var tn=cn.split("_");ye=2<=tn.length&&tn[1]=="type"?ye+(cn+"="+rt+"&"):ye+(cn+"=redacted&")}}else ye=null;else ye=ae;return"XMLHTTP REQ ("+O+") [attempt "+X+"]: "+_+`
`+x+`
`+ye})}function mm(d,_,x,O,X,ae,ye){d.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+X+"]: "+_+`
`+x+`
`+ae+" "+ye})}function hs(d,_,x,O){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+_a(d,x)+(O?" "+O:"")})}function sd(d,_){d.info(function(){return"TIMEOUT: "+_})}ur.prototype.info=function(){};function _a(d,_){if(!d.g)return _;if(!_)return null;try{var x=JSON.parse(_);if(x){for(d=0;d<x.length;d++)if(Array.isArray(x[d])){var O=x[d];if(!(2>O.length)){var X=O[1];if(Array.isArray(X)&&!(1>X.length)){var ae=X[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(var ye=1;ye<X.length;ye++)X[ye]=""}}}}return xr(x)}catch{return _}}var ms={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ur;function Br(){}R(Br,Xl),Br.prototype.g=function(){return new XMLHttpRequest},Br.prototype.i=function(){return{}},Ur=new Br;function Pn(d,_,x,O){this.j=d,this.i=_,this.l=x,this.R=O||1,this.U=new pa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bt}function Bt(){this.i=null,this.g="",this.h=!1}var ru={},po={};function wr(d,_,x){d.L=1,d.v=Ta(Zn(_)),d.m=x,d.P=!0,gi(d,null)}function gi(d,_){d.F=Date.now(),ba(d),d.A=Zn(d.v);var x=d.A,O=d.R;Array.isArray(O)||(O=[String(O)]),uu(x.i,"t",O),d.C=0,x=d.j.J,d.h=new Bt,d.g=Ed(d.j,x?_:null,!d.m),0<d.O&&(d.M=new hm(E(d.Y,d,d.g),d.O)),_=d.U,x=d.g,O=d.ca;var X="readystatechange";Array.isArray(X)||(X&&(ga[0]=X.toString()),X=ga);for(var ae=0;ae<X.length;ae++){var ye=Ie(x,X[ae],O||_.handleEvent,!1,_.h||_);if(!ye)break;_.g[ye.key]=ye}_=d.H?S(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),fs(),nu(d.i,d.u,d.A,d.l,d.R,d.m)}Pn.prototype.ca=function(d){d=d.target;const _=this.M;_&&hr(d)==3?_.j():this.Y(d)},Pn.prototype.Y=function(d){try{if(d==this.g)e:{const tn=hr(this.g);var _=this.g.Ba();const Ti=this.g.Z();if(!(3>tn)&&(tn!=3||this.g&&(this.h.h||this.g.oa()||hd(this.g)))){this.J||tn!=4||_==7||(_==8||0>=Ti?fs(3):fs(2)),ps(this);var x=this.g.Z();this.X=x;t:if(ad(this)){var O=hd(this.g);d="";var X=O.length,ae=hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gn(this),zr(this);var ye="";break t}this.h.i=new f.TextDecoder}for(_=0;_<X;_++)this.h.h=!0,d+=this.h.i.decode(O[_],{stream:!(ae&&_==X-1)});O.length=0,this.h.g+=d,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=x==200,mm(this.i,this.u,this.A,this.l,this.R,tn,x),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,en=this.g;if((nt=en.g?en.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(nt)){var rt=nt;break t}}rt=null}if(x=rt)hs(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ea(this,x);else{this.o=!1,this.s=3,It(12),gn(this),zr(this);break e}}if(this.P){x=!0;let yn;for(;!this.J&&this.C<ye.length;)if(yn=od(this,ye),yn==po){tn==4&&(this.s=4,It(14),x=!1),hs(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==ru){this.s=4,It(15),hs(this.i,this.l,ye,"[Invalid Chunk]"),x=!1;break}else hs(this.i,this.l,yn,null),Ea(this,yn);if(ad(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||ye.length!=0||this.h.h||(this.s=1,It(16),x=!1),this.o=this.o&&x,!x)hs(this.i,this.l,ye,"[Invalid Chunked Response]"),gn(this),zr(this);else if(0<ye.length&&!this.W){this.W=!0;var cn=this.j;cn.g==this&&cn.ba&&!cn.M&&(cn.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),ka(cn),cn.M=!0,It(11))}}else hs(this.i,this.l,ye,null),Ea(this,ye);tn==4&&gn(this),this.o&&!this.J&&(tn==4?vd(this.j,this):(this.o=!1,ba(this)))}else _m(this.g),x==400&&0<ye.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),gn(this),zr(this)}}}catch{}finally{}};function ad(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function od(d,_){var x=d.C,O=_.indexOf(`
`,x);return O==-1?po:(x=Number(_.substring(x,O)),isNaN(x)?ru:(O+=1,O+x>_.length?po:(_=_.slice(O,O+x),d.C=O+x,_)))}Pn.prototype.cancel=function(){this.J=!0,gn(this)};function ba(d){d.S=Date.now()+d.I,ld(d,d.I)}function ld(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=$t(E(d.ba,d),_)}function ps(d){d.B&&(f.clearTimeout(d.B),d.B=null)}Pn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(sd(this.i,this.A),this.L!=2&&(fs(),It(17)),gn(this),this.s=2,zr(this)):ld(this,this.S-d)};function zr(d){d.j.G==0||d.J||vd(d.j,d)}function gn(d){ps(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,ya(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function Ea(d,_){try{var x=d.j;if(x.G!=0&&(x.g==d||iu(x.h,d))){if(!d.K&&iu(x.h,d)&&x.G==3){try{var O=x.Da.g.parse(_)}catch{O=null}if(Array.isArray(O)&&O.length==3){var X=O;if(X[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<d.F)Co(x),So(x);else break e;mu(x),It(18)}}else x.za=X[1],0<x.za-x.T&&37500>X[2]&&x.F&&x.v==0&&!x.C&&(x.C=$t(E(x.Za,x),6e3));if(1>=yo(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else wi(x,11)}else if((d.K||x.g==d)&&Co(x),!U(_))for(X=x.Da.g.parse(_),_=0;_<X.length;_++){let rt=X[_];if(x.T=rt[0],rt=rt[1],x.G==2)if(rt[0]=="c"){x.K=rt[1],x.ia=rt[2];const cn=rt[3];cn!=null&&(x.la=cn,x.j.info("VER="+x.la));const tn=rt[4];tn!=null&&(x.Aa=tn,x.j.info("SVER="+x.Aa));const Ti=rt[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(O=1.5*Ti,x.L=O,x.j.info("backChannelRequestTimeoutMs_="+O)),O=x;const yn=d.g;if(yn){const Kr=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kr){var ae=O.h;ae.g||Kr.indexOf("spdy")==-1&&Kr.indexOf("quic")==-1&&Kr.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(vo(ae,ae.h),ae.h=null))}if(O.D){const gu=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;gu&&(O.ya=gu,pt(O.I,O.D,gu))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-d.F,x.j.info("Handshake RTT: "+x.R+"ms")),O=x;var ye=d;if(O.qa=bd(O,O.J?O.ia:null,O.W),ye.K){Vn(O.h,ye);var nt=ye,en=O.L;en&&(nt.I=en),nt.B&&(ps(nt),ba(nt)),O.g=ye}else gd(O);0<x.i.length&&Ao(x)}else rt[0]!="stop"&&rt[0]!="close"||wi(x,7);else x.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?wi(x,7):fu(x):rt[0]!="noop"&&x.l&&x.l.ta(rt),x.v=0)}}fs(4)}catch{}}var ud=class{constructor(d,_){this.g=d,this.map=_}};function yi(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function go(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function yo(d){return d.h?1:d.g?d.g.size:0}function iu(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function vo(d,_){d.g?d.g.add(_):d.h=_}function Vn(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}yi.prototype.cancel=function(){if(this.i=su(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function su(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const x of d.g.values())_=_.concat(x.D);return _}return A(d.i)}function pm(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(m(d)){for(var _=[],x=d.length,O=0;O<x;O++)_.push(d[O]);return _}_=[],x=0;for(O in d)_[x++]=d[O];return _}function _o(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(m(d)||typeof d=="string"){var _=[];d=d.length;for(var x=0;x<d;x++)_.push(x);return _}_=[],x=0;for(const O in d)_[x++]=O;return _}}}function au(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(m(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var x=_o(d),O=pm(d),X=O.length,ae=0;ae<X;ae++)_.call(void 0,O[ae],x&&x[ae],d)}var xa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gm(d,_){if(d){d=d.split("&");for(var x=0;x<d.length;x++){var O=d[x].indexOf("="),X=null;if(0<=O){var ae=d[x].substring(0,O);X=d[x].substring(O+1)}else ae=d[x];_(ae,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Yt(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Yt){this.h=d.h,wa(this,d.j),this.o=d.o,this.g=d.g,gs(this,d.s),this.l=d.l;var _=d.i,x=new _i;x.i=_.i,_.g&&(x.g=new Map(_.g),x.h=_.h),vi(this,x),this.m=d.m}else d&&(_=String(d).match(xa))?(this.h=!1,wa(this,_[1]||"",!0),this.o=cr(_[2]||""),this.g=cr(_[3]||"",!0),gs(this,_[4]),this.l=cr(_[5]||"",!0),vi(this,_[6]||"",!0),this.m=cr(_[7]||"")):(this.h=!1,this.i=new _i(null,this.h))}Yt.prototype.toString=function(){var d=[],_=this.j;_&&d.push(Sa(_,ou,!0),":");var x=this.g;return(x||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Sa(_,ou,!0),"@"),d.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&d.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(Sa(x,x.charAt(0)=="/"?ym:lu,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",Sa(x,bo)),d.join("")};function Zn(d){return new Yt(d)}function wa(d,_,x){d.j=x?cr(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function gs(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function vi(d,_,x){_ instanceof _i?(d.i=_,dd(d.i,d.h)):(x||(_=Sa(_,vm)),d.i=new _i(_,d.h))}function pt(d,_,x){d.i.set(_,x)}function Ta(d){return pt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function cr(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Sa(d,_,x){return typeof d=="string"?(d=encodeURI(d).replace(_,cd),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function cd(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ou=/[#\/\?@]/g,lu=/[#\?:]/g,ym=/[#\?]/g,vm=/[#\?@]/g,bo=/#/g;function _i(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function dr(d){d.g||(d.g=new Map,d.h=0,d.i&&gm(d.i,function(_,x){d.add(decodeURIComponent(_.replace(/\+/g," ")),x)}))}n=_i.prototype,n.add=function(d,_){dr(this),this.i=null,d=Fr(this,d);var x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(_),this.h+=1,this};function bi(d,_){dr(d),_=Fr(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Ei(d,_){return dr(d),_=Fr(d,_),d.g.has(_)}n.forEach=function(d,_){dr(this),this.g.forEach(function(x,O){x.forEach(function(X){d.call(_,X,O,this)},this)},this)},n.na=function(){dr(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),x=[];for(let O=0;O<_.length;O++){const X=d[O];for(let ae=0;ae<X.length;ae++)x.push(_[O])}return x},n.V=function(d){dr(this);let _=[];if(typeof d=="string")Ei(this,d)&&(_=_.concat(this.g.get(Fr(this,d))));else{d=Array.from(this.g.values());for(let x=0;x<d.length;x++)_=_.concat(d[x])}return _},n.set=function(d,_){return dr(this),this.i=null,d=Fr(this,d),Ei(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function uu(d,_,x){bi(d,_),0<x.length&&(d.i=null,d.g.set(Fr(d,_),A(x)),d.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var x=0;x<_.length;x++){var O=_[x];const ae=encodeURIComponent(String(O)),ye=this.V(O);for(O=0;O<ye.length;O++){var X=ae;ye[O]!==""&&(X+="="+encodeURIComponent(String(ye[O]))),d.push(X)}}return this.i=d.join("&")};function Fr(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function dd(d,_){_&&!d.j&&(dr(d),d.i=null,d.g.forEach(function(x,O){var X=O.toLowerCase();O!=X&&(bi(this,O),uu(this,X,x))},d)),d.j=_}function Aa(d,_){const x=new ur;if(f.Image){const O=new Image;O.onload=C(fr,x,"TestLoadImage: loaded",!0,_,O),O.onerror=C(fr,x,"TestLoadImage: error",!1,_,O),O.onabort=C(fr,x,"TestLoadImage: abort",!1,_,O),O.ontimeout=C(fr,x,"TestLoadImage: timeout",!1,_,O),f.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=d}else _(!1)}function Tr(d,_){const x=new ur,O=new AbortController,X=setTimeout(()=>{O.abort(),fr(x,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:O.signal}).then(ae=>{clearTimeout(X),ae.ok?fr(x,"TestPingServer: ok",!0,_):fr(x,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(X),fr(x,"TestPingServer: error",!1,_)})}function fr(d,_,x,O,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),O(x)}catch{}}function Ca(){this.g=new va}function Hr(d,_,x){const O=x||"";try{au(d,function(X,ae){let ye=X;g(X)&&(ye=xr(X)),_.push(O+ae+"="+encodeURIComponent(ye))})}catch(X){throw _.push(O+"type="+encodeURIComponent("_badmap")),X}}function ys(d){this.l=d.Ub||null,this.j=d.eb||!1}R(ys,Xl),ys.prototype.g=function(){return new xi(this.l,this.j)},ys.prototype.i=function(d){return function(){return d}}({});function xi(d,_){Mt.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(xi,Mt),n=xi.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,Gr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||f).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Gr(this)),this.g&&(this.readyState=3,Gr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cu(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function cu(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?qr(this):Gr(this),this.readyState==3&&cu(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,qr(this))},n.Qa=function(d){this.g&&(this.response=d,qr(this))},n.ga=function(){this.g&&qr(this)};function qr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Gr(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var x=_.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=_.next();return d.join(`\r
`)};function Gr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function du(d){let _="";return re(d,function(x,O){_+=O,_+=":",_+=x,_+=`\r
`}),_}function un(d,_,x){e:{for(O in x){var O=!1;break e}O=!0}O||(x=du(x),typeof d=="string"?x!=null&&encodeURIComponent(String(x)):pt(d,_,x))}function ct(d){Mt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(ct,Mt);var Eo=/^https?$/i,Ra=["POST","PUT"];n=ct.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,x,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ur.g(),this.v=this.o?Zl(this.o):Zl(Ur),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(ae){fd(this,ae);return}if(d=x||"",x=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var X in O)x.set(X,O[X]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const ae of O.keys())x.set(ae,O.get(ae));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(x.keys()).find(ae=>ae.toLowerCase()=="content-type"),X=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ra,_,void 0))||O||X||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,ye]of x)this.g.setRequestHeader(ae,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ia(this),this.u=!0,this.g.send(d),this.u=!1}catch(ae){fd(this,ae)}};function fd(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,xo(d),$r(d)}function xo(d){d.A||(d.A=!0,ft(d,"complete"),ft(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ft(this,"complete"),ft(this,"abort"),$r(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$r(this,!0)),ct.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?wo(this):this.bb())},n.bb=function(){wo(this)};function wo(d){if(d.h&&typeof c<"u"&&(!d.v[1]||hr(d)!=4||d.Z()!=2)){if(d.u&&hr(d)==4)Sn(d.Ea,0,d);else if(ft(d,"readystatechange"),hr(d)==4){d.h=!1;try{const ye=d.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var x;if(!(x=_)){var O;if(O=ye===0){var X=String(d.D).match(xa)[1]||null;!X&&f.self&&f.self.location&&(X=f.self.location.protocol.slice(0,-1)),O=!Eo.test(X?X.toLowerCase():"")}x=O}if(x)ft(d,"complete"),ft(d,"success");else{d.m=6;try{var ae=2<hr(d)?d.g.statusText:""}catch{ae=""}d.l=ae+" ["+d.Z()+"]",xo(d)}}finally{$r(d)}}}}function $r(d,_){if(d.g){Ia(d);const x=d.g,O=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||ft(d,"ready");try{x.onreadystatechange=O}catch{}}}function Ia(d){d.I&&(f.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function hr(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<hr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),ho(_)}};function hd(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function _m(d){const _={};d=(d.g&&2<=hr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<d.length;O++){if(U(d[O]))continue;var x=D(d[O]);const X=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const ae=_[X]||[];_[X]=ae,ae.push(x)}k(_,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Na(d,_,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||_}function To(d){this.Aa=0,this.i=[],this.j=new ur,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Na("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Na("baseRetryDelayMs",5e3,d),this.cb=Na("retryDelaySeedMs",1e4,d),this.Wa=Na("forwardChannelMaxRetries",2,d),this.wa=Na("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new yi(d&&d.concurrentRequestLimit),this.Da=new Ca,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=To.prototype,n.la=8,n.G=1,n.connect=function(d,_,x,O){It(0),this.W=d,this.H=_||{},x&&O!==void 0&&(this.H.OSID=x,this.H.OAID=O),this.F=this.X,this.I=bd(this,null,this.W),Ao(this)};function fu(d){if(md(d),d.G==3){var _=d.U++,x=Zn(d.I);if(pt(x,"SID",d.K),pt(x,"RID",_),pt(x,"TYPE","terminate"),Da(d,x),_=new Pn(d,d.j,_),_.L=2,_.v=Ta(Zn(x)),x=!1,f.navigator&&f.navigator.sendBeacon)try{x=f.navigator.sendBeacon(_.v.toString(),"")}catch{}!x&&f.Image&&(new Image().src=_.v,x=!0),x||(_.g=Ed(_.j,null),_.g.ea(_.v)),_.F=Date.now(),ba(_)}_d(d)}function So(d){d.g&&(ka(d),d.g.cancel(),d.g=null)}function md(d){So(d),d.u&&(f.clearTimeout(d.u),d.u=null),Co(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function Ao(d){if(!go(d.h)&&!d.s){d.s=!0;var _=d.Ga;W||B(),Y||(W(),Y=!0),pe.add(_,d),d.B=0}}function bm(d,_){return yo(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=$t(E(d.Ga,d,_),pu(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const X=new Pn(this,this.j,d);let ae=this.o;if(this.S&&(ae?(ae=S(ae),L(ae,this.S)):ae=this.S),this.m!==null||this.O||(X.H=ae,ae=null),this.P)e:{for(var _=0,x=0;x<this.i.length;x++){t:{var O=this.i[x];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(_+=O,4096<_){_=x;break e}if(_===4096||x===this.i.length-1){_=x+1;break e}}_=1e3}else _=1e3;_=pd(this,X,_),x=Zn(this.I),pt(x,"RID",d),pt(x,"CVER",22),this.D&&pt(x,"X-HTTP-Session-Id",this.D),Da(this,x),ae&&(this.O?_="headers="+encodeURIComponent(String(du(ae)))+"&"+_:this.m&&un(x,this.m,ae)),vo(this.h,X),this.Ua&&pt(x,"TYPE","init"),this.P?(pt(x,"$req",_),pt(x,"SID","null"),X.T=!0,wr(X,x,null)):wr(X,x,_),this.G=2}}else this.G==3&&(d?hu(this,d):this.i.length==0||go(this.h)||hu(this))};function hu(d,_){var x;_?x=_.l:x=d.U++;const O=Zn(d.I);pt(O,"SID",d.K),pt(O,"RID",x),pt(O,"AID",d.T),Da(d,O),d.m&&d.o&&un(O,d.m,d.o),x=new Pn(d,d.j,x,d.B+1),d.m===null&&(x.H=d.o),_&&(d.i=_.D.concat(d.i)),_=pd(d,x,1e3),x.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),vo(d.h,x),wr(x,O,_)}function Da(d,_){d.H&&re(d.H,function(x,O){pt(_,O,x)}),d.l&&au({},function(x,O){pt(_,O,x)})}function pd(d,_,x){x=Math.min(d.i.length,x);var O=d.l?E(d.l.Na,d.l,d):null;e:{var X=d.i;let ae=-1;for(;;){const ye=["count="+x];ae==-1?0<x?(ae=X[0].g,ye.push("ofs="+ae)):ae=0:ye.push("ofs="+ae);let nt=!0;for(let en=0;en<x;en++){let rt=X[en].g;const cn=X[en].map;if(rt-=ae,0>rt)ae=Math.max(0,X[en].g-100),nt=!1;else try{Hr(cn,ye,"req"+rt+"_")}catch{O&&O(cn)}}if(nt){O=ye.join("&");break e}}}return d=d.i.splice(0,x),_.D=d,O}function gd(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;W||B(),Y||(W(),Y=!0),pe.add(_,d),d.v=0}}function mu(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=$t(E(d.Fa,d),pu(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,yd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=$t(E(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),So(this),yd(this))};function ka(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function yd(d){d.g=new Pn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Zn(d.qa);pt(_,"RID","rpc"),pt(_,"SID",d.K),pt(_,"AID",d.T),pt(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&pt(_,"TO",d.ja),pt(_,"TYPE","xmlhttp"),Da(d,_),d.m&&d.o&&un(_,d.m,d.o),d.L&&(d.g.I=d.L);var x=d.g;d=d.ia,x.L=1,x.v=Ta(Zn(_)),x.m=null,x.P=!0,gi(x,d)}n.Za=function(){this.C!=null&&(this.C=null,So(this),mu(this),It(19))};function Co(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function vd(d,_){var x=null;if(d.g==_){Co(d),ka(d),d.g=null;var O=2}else if(iu(d.h,_))x=_.D,Vn(d.h,_),O=1;else return;if(d.G!=0){if(_.o)if(O==1){x=_.m?_.m.length:0,_=Date.now()-_.F;var X=d.B;O=ds(),ft(O,new Jt(O,x)),Ao(d)}else gd(d);else if(X=_.s,X==3||X==0&&0<_.X||!(O==1&&bm(d,_)||O==2&&mu(d)))switch(x&&0<x.length&&(_=d.h,_.i=_.i.concat(x)),X){case 1:wi(d,5);break;case 4:wi(d,10);break;case 3:wi(d,6);break;default:wi(d,2)}}}function pu(d,_){let x=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(x*=2),x*_}function wi(d,_){if(d.j.info("Error code "+_),_==2){var x=E(d.fb,d),O=d.Xa;const X=!O;O=new Yt(O||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||wa(O,"https"),Ta(O),X?Aa(O.toString(),x):Tr(O.toString(),x)}else It(2);d.G=0,d.l&&d.l.sa(_),_d(d),md(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function _d(d){if(d.G=0,d.ka=[],d.l){const _=su(d.h);(_.length!=0||d.i.length!=0)&&(N(d.ka,_),N(d.ka,d.i),d.h.i.length=0,A(d.i),d.i.length=0),d.l.ra()}}function bd(d,_,x){var O=x instanceof Yt?Zn(x):new Yt(x);if(O.g!="")_&&(O.g=_+"."+O.g),gs(O,O.s);else{var X=f.location;O=X.protocol,_=_?_+"."+X.hostname:X.hostname,X=+X.port;var ae=new Yt(null);O&&wa(ae,O),_&&(ae.g=_),X&&gs(ae,X),x&&(ae.l=x),O=ae}return x=d.D,_=d.ya,x&&_&&pt(O,x,_),pt(O,"VER",d.la),Da(d,O),O}function Ed(d,_,x){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new ct(new ys({eb:x})):new ct(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function xd(){}n=xd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ro(){}Ro.prototype.g=function(d,_){return new Ln(d,_)};function Ln(d,_){Mt.call(this),this.g=new To(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!U(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!U(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Yr(this)}R(Ln,Mt),Ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){fu(this.g)},Ln.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.u&&(x={},x.__data__=xr(d),d=x);_.i.push(new ud(_.Ya++,d)),_.G==3&&Ao(_)},Ln.prototype.N=function(){this.g.l=null,delete this.j,fu(this.g),delete this.g,Ln.aa.N.call(this)};function wd(d){mi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const x in _){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}R(wd,mi);function Td(){eu.call(this),this.status=1}R(Td,eu);function Yr(d){this.g=d}R(Yr,xd),Yr.prototype.ua=function(){ft(this.g,"a")},Yr.prototype.ta=function(d){ft(this.g,new wd(d))},Yr.prototype.sa=function(d){ft(this.g,new Td)},Yr.prototype.ra=function(){ft(this.g,"b")},Ro.prototype.createWebChannel=Ro.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,CS=function(){return new Ro},AS=function(){return ds()},SS=Lr,ay={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ms.NO_ERROR=0,ms.TIMEOUT=8,ms.HTTP_ERROR=6,Qf=ms,pi.COMPLETE="complete",TS=pi,Jl.EventType=hi,hi.OPEN="a",hi.CLOSE="b",hi.ERROR="c",hi.MESSAGE="d",Mt.prototype.listen=Mt.prototype.K,cc=Jl,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,wS=ct}).apply(typeof Nf<"u"?Nf:typeof self<"u"?self:typeof window<"u"?window:{});const _x="@firebase/firestore",bx="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=new Ky("@firebase/firestore");function ol(){return no.logLevel}function be(n,...e){if(no.logLevel<=Je.DEBUG){const t=e.map(sv);no.debug(`Firestore (${Hl}): ${n}`,...t)}}function es(n,...e){if(no.logLevel<=Je.ERROR){const t=e.map(sv);no.error(`Firestore (${Hl}): ${n}`,...t)}}function Al(n,...e){if(no.logLevel<=Je.WARN){const t=e.map(sv);no.warn(`Firestore (${Hl}): ${n}`,...t)}}function sv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,RS(n,i,t)}function RS(n,e,t){let i=`FIRESTORE (${Hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw es(i),new Error(i)}function dt(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||RS(e,a,i)}function He(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends as{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(In.UNAUTHENTICATED))}shutdown(){}}class TO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class SO{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){dt(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new Yi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Yi,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},f=m=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Yi)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(dt(typeof i.accessToken=="string",31837,{l:i}),new IS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new In(e)}}class AO{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=In.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class CO{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new AO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(In.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ex{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Er(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){dt(this.o===void 0,3512);const i=l=>{l.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,be("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ex(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(dt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Ex(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=IO(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Qe(n,e){return n<e?-1:n>e?1:0}function oy(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return Qe(i,a);{const l=NS(),c=NO(l.encode(xx(n,t)),l.encode(xx(e,t)));return c!==0?c:Qe(i,a)}}t+=i>65535?2:1}return Qe(n.length,e.length)}function xx(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function NO(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Qe(n[t],e[t]);return Qe(n.length,e.length)}function Cl(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=-62135596800,Tx=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Tx);return new xt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<wx)throw new _e(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Tx}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-wx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new xt(0,0))}static max(){return new ze(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="__name__";class ei{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ve(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ve(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ei.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ei?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=ei.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Qe(e.length,t.length)}static compareSegments(e,t){const i=ei.isNumericId(e),a=ei.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?ei.extractNumericId(e).compare(ei.extractNumericId(t)):oy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Js.fromString(e.substring(4,e.length-2))}}class St extends ei{construct(e,t,i){return new St(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new _e(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new St(t)}static emptyPath(){return new St([])}}const DO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends ei{construct(e,t,i){return new xn(e,t,i)}static isValidIdentifier(e){return DO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Sx}static keyField(){return new xn([Sx])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new _e(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new _e(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new _e(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(i+=f,a++):(l(),a++)}if(l(),c)throw new _e(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xn(t)}static emptyPath(){return new xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(St.fromString(e))}static fromName(e){return new Ne(St.fromString(e).popFirst(5))}static empty(){return new Ne(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return St.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new St(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=-1;function kO(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=ze.fromTimestamp(i===1e9?new xt(t+1,0):new xt(t,i));return new na(a,Ne.empty(),e)}function OO(n){return new na(n.readTime,n.key,Sc)}class na{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new na(ze.min(),Ne.empty(),Sc)}static max(){return new na(ze.max(),Ne.empty(),Sc)}}function MO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ne.comparator(n.documentKey,e.documentKey),t!==0?t:Qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==jO)throw n;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,i)=>{t(e)})}static reject(e){return new he((t,i)=>{i(e)})}static waitFor(e){return new he((t,i)=>{let a=0,l=0,c=!1;e.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&t()},m=>i(m))}),c=!0,l===a&&t()})}static or(e){let t=he.resolve(!1);for(const i of e)t=t.next(a=>a?he.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new he((i,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next(v=>{c[g]=v,++f,f===l&&i(c)},v=>a(v))}})}static doWhile(e,t){return new he((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function VO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Gl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}zh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=-1;function Fh(n){return n==null}function ph(n){return n===0&&1/n==-1/0}function LO(n){return typeof n=="number"&&Number.isInteger(n)&&!ph(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="";function UO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ax(e)),e=BO(n.get(t),e);return Ax(e)}function BO(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case kS:t+="";break;default:t+=l}}return t}function Ax(n){return n+kS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function da(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function OS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,t){this.comparator=e,this.root=t||En.EMPTY}insert(e,t){return new Ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Df(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Df(this.root,e,this.comparator,!1)}getReverseIterator(){return new Df(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Df(this.root,e,this.comparator,!0)}}class Df{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??En.RED,this.left=a??En.EMPTY,this.right=l??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new En(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return En.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new En(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Rx(this.data.getIterator())}getIteratorFrom(e){return new Rx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new an(this.comparator);return t.data=e,t}}class Rx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new or([])}unionWith(e){let t=new an(xn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new or(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Cl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new MS("Invalid base64 string: "+l):l}}(e);return new Tn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new Tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tn.EMPTY_BYTE_STRING=new Tn("");const zO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ra(n){if(dt(!!n,39018),typeof n=="string"){let e=0;const t=zO.exec(n);if(dt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ht(n.seconds),nanos:Ht(n.nanos)}}function Ht(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ia(n){return typeof n=="string"?Tn.fromBase64String(n):Tn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="server_timestamp",PS="__type__",VS="__previous_value__",LS="__local_write_time__";function ov(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[PS])===null||t===void 0?void 0:t.stringValue)===jS}function Hh(n){const e=n.mapValue.fields[VS];return ov(e)?Hh(e):e}function Ac(n){const e=ra(n.mapValue.fields[LS].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,t,i,a,l,c,f,m,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const gh="(default)";class Cc{constructor(e,t){this.projectId=e,this.database=t||gh}static empty(){return new Cc("","")}get isDefaultDatabase(){return this.database===gh}isEqual(e){return e instanceof Cc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="__type__",HO="__max__",kf={mapValue:{}},BS="__vector__",yh="value";function sa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ov(n)?4:GO(n)?9007199254740991:qO(n)?10:11:Ve(28295,{value:n})}function li(n,e){if(n===e)return!0;const t=sa(n);if(t!==sa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ac(n).isEqual(Ac(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ra(a.timestampValue),f=ra(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return ia(a.bytesValue).isEqual(ia(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return Ht(a.geoPointValue.latitude)===Ht(l.geoPointValue.latitude)&&Ht(a.geoPointValue.longitude)===Ht(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Ht(a.integerValue)===Ht(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ht(a.doubleValue),f=Ht(l.doubleValue);return c===f?ph(c)===ph(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return Cl(n.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(Cx(c)!==Cx(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!li(c[m],f[m])))return!1;return!0}(n,e);default:return Ve(52216,{left:n})}}function Rc(n,e){return(n.values||[]).find(t=>li(t,e))!==void 0}function Rl(n,e){if(n===e)return 0;const t=sa(n),i=sa(e);if(t!==i)return Qe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qe(n.booleanValue,e.booleanValue);case 2:return function(l,c){const f=Ht(l.integerValue||l.doubleValue),m=Ht(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(n,e);case 3:return Ix(n.timestampValue,e.timestampValue);case 4:return Ix(Ac(n),Ac(e));case 5:return oy(n.stringValue,e.stringValue);case 6:return function(l,c){const f=ia(l),m=ia(c);return f.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),m=c.split("/");for(let g=0;g<f.length&&g<m.length;g++){const v=Qe(f[g],m[g]);if(v!==0)return v}return Qe(f.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const f=Qe(Ht(l.latitude),Ht(c.latitude));return f!==0?f:Qe(Ht(l.longitude),Ht(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Nx(n.arrayValue,e.arrayValue);case 10:return function(l,c){var f,m,g,v;const b=l.fields||{},E=c.fields||{},C=(f=b[yh])===null||f===void 0?void 0:f.arrayValue,R=(m=E[yh])===null||m===void 0?void 0:m.arrayValue,A=Qe(((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0,((v=R==null?void 0:R.values)===null||v===void 0?void 0:v.length)||0);return A!==0?A:Nx(C,R)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===kf.mapValue&&c===kf.mapValue)return 0;if(l===kf.mapValue)return 1;if(c===kf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),g=c.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let b=0;b<m.length&&b<v.length;++b){const E=oy(m[b],v[b]);if(E!==0)return E;const C=Rl(f[m[b]],g[v[b]]);if(C!==0)return C}return Qe(m.length,v.length)}(n.mapValue,e.mapValue);default:throw Ve(23264,{Pe:t})}}function Ix(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Qe(n,e);const t=ra(n),i=ra(e),a=Qe(t.seconds,i.seconds);return a!==0?a:Qe(t.nanos,i.nanos)}function Nx(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Rl(t[a],i[a]);if(l)return l}return Qe(t.length,i.length)}function Il(n){return ly(n)}function ly(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ra(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ia(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ne.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=ly(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${ly(t.fields[c])}`;return a+"}"}(n.mapValue):Ve(61005,{value:n})}function Wf(n){switch(sa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hh(n);return e?16+Wf(e):16;case 5:return 2*n.stringValue.length;case 6:return ia(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+Wf(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return da(i.fields,(l,c)=>{a+=l.length+Wf(c)}),a}(n.mapValue);default:throw Ve(13486,{value:n})}}function Dx(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function uy(n){return!!n&&"integerValue"in n}function lv(n){return!!n&&"arrayValue"in n}function kx(n){return!!n&&"nullValue"in n}function Ox(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Xf(n){return!!n&&"mapValue"in n}function qO(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[US])===null||t===void 0?void 0:t.stringValue)===BS}function yc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return da(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=yc(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function GO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===HO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Xf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yc(t)}setAll(e){let t=xn.emptyPath(),i={},a=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,i,a),i={},a=[],t=f.popLast()}c?i[f.lastSegment()]=yc(c):a.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());Xf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Xf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){da(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new Qn(yc(this.value))}}function zS(n){const e=[];return da(n.fields,(t,i)=>{const a=new xn([t]);if(Xf(i)){const l=zS(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,t,i,a,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Nn(e,0,ze.min(),ze.min(),ze.min(),Qn.empty(),0)}static newFoundDocument(e,t,i,a){return new Nn(e,1,t,ze.min(),i,a,0)}static newNoDocument(e,t){return new Nn(e,2,t,ze.min(),ze.min(),Qn.empty(),0)}static newUnknownDocument(e,t){return new Nn(e,3,t,ze.min(),ze.min(),Qn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,t){this.position=e,this.inclusive=t}}function Mx(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=Ne.comparator(Ne.fromName(c.referenceValue),t.key):i=Rl(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function jx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!li(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,t="asc"){this.field=e,this.dir=t}}function $O(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{}class Xt extends FS{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new KO(e,t,i):t==="array-contains"?new XO(e,i):t==="in"?new ZO(e,i):t==="not-in"?new JO(e,i):t==="array-contains-any"?new e4(e,i):new Xt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new QO(e,i):new WO(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Rl(t,this.value)):t!==null&&sa(this.value)===sa(t)&&this.matchesComparison(Rl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mr extends FS{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Mr(e,t)}matches(e){return HS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function HS(n){return n.op==="and"}function qS(n){return YO(n)&&HS(n)}function YO(n){for(const e of n.filters)if(e instanceof Mr)return!1;return!0}function cy(n){if(n instanceof Xt)return n.field.canonicalString()+n.op.toString()+Il(n.value);if(qS(n))return n.filters.map(e=>cy(e)).join(",");{const e=n.filters.map(t=>cy(t)).join(",");return`${n.op}(${e})`}}function GS(n,e){return n instanceof Xt?function(i,a){return a instanceof Xt&&i.op===a.op&&i.field.isEqual(a.field)&&li(i.value,a.value)}(n,e):n instanceof Mr?function(i,a){return a instanceof Mr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,f)=>l&&GS(c,a.filters[f]),!0):!1}(n,e):void Ve(19439)}function $S(n){return n instanceof Xt?function(t){return`${t.field.canonicalString()} ${t.op} ${Il(t.value)}`}(n):n instanceof Mr?function(t){return t.op.toString()+" {"+t.getFilters().map($S).join(" ,")+"}"}(n):"Filter"}class KO extends Xt{constructor(e,t,i){super(e,t,i),this.key=Ne.fromName(i.referenceValue)}matches(e){const t=Ne.comparator(e.key,this.key);return this.matchesComparison(t)}}class QO extends Xt{constructor(e,t){super(e,"in",t),this.keys=YS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class WO extends Xt{constructor(e,t){super(e,"not-in",t),this.keys=YS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function YS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ne.fromName(i.referenceValue))}class XO extends Xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return lv(t)&&Rc(t.arrayValue,this.value)}}class ZO extends Xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Rc(this.value.arrayValue,t)}}class JO extends Xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Rc(this.value.arrayValue,t)}}class e4 extends Xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!lv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Rc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,t=null,i=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Ie=null}}function Px(n,e=null,t=[],i=[],a=null,l=null,c=null){return new t4(n,e,t,i,a,l,c)}function uv(n){const e=He(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>cy(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Fh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Il(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Il(i)).join(",")),e.Ie=t}return e.Ie}function cv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!$O(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!GS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!jx(n.startAt,e.startAt)&&jx(n.endAt,e.endAt)}function dy(n){return Ne.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,t=null,i=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function n4(n,e,t,i,a,l,c,f){return new $l(n,e,t,i,a,l,c,f)}function qh(n){return new $l(n)}function Vx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function KS(n){return n.collectionGroup!==null}function vc(n){const e=He(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new an(xn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(f=f.add(g.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Ic(l,i))}),t.has(xn.keyField().canonicalString())||e.Ee.push(new Ic(xn.keyField(),i))}return e.Ee}function ii(n){const e=He(n);return e.de||(e.de=r4(e,vc(n))),e.de}function r4(n,e){if(n.limitType==="F")return Px(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Ic(a.field,l)});const t=n.endAt?new vh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new vh(n.startAt.position,n.startAt.inclusive):null;return Px(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function fy(n,e){const t=n.filters.concat([e]);return new $l(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function _h(n,e,t){return new $l(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Gh(n,e){return cv(ii(n),ii(e))&&n.limitType===e.limitType}function QS(n){return`${uv(ii(n))}|lt:${n.limitType}`}function ll(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>$S(a)).join(", ")}]`),Fh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Il(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Il(a)).join(",")),`Target(${i})`}(ii(n))}; limitType=${n.limitType})`}function $h(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ne.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of vc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,f,m){const g=Mx(c,f,m);return c.inclusive?g<=0:g<0}(i.startAt,vc(i),a)||i.endAt&&!function(c,f,m){const g=Mx(c,f,m);return c.inclusive?g>=0:g>0}(i.endAt,vc(i),a))}(n,e)}function i4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function WS(n){return(e,t)=>{let i=!1;for(const a of vc(n)){const l=s4(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function s4(n,e,t){const i=n.field.isKeyField()?Ne.comparator(e.key,t.key):function(l,c,f){const m=c.data.field(l),g=f.data.field(l);return m!==null&&g!==null?Rl(m,g):Ve(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ve(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){da(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return OS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=new Ot(Ne.comparator);function ts(){return a4}const XS=new Ot(Ne.comparator);function dc(...n){let e=XS;for(const t of n)e=e.insert(t.key,t);return e}function ZS(n){let e=XS;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Xa(){return _c()}function JS(){return _c()}function _c(){return new uo(n=>n.toString(),(n,e)=>n.isEqual(e))}const o4=new Ot(Ne.comparator),l4=new an(Ne.comparator);function et(...n){let e=l4;for(const t of n)e=e.add(t);return e}const u4=new an(Qe);function c4(){return u4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(e)?"-0":e}}function e1(n){return{integerValue:""+n}}function d4(n,e){return LO(e)?e1(e):dv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(){this._=void 0}}function f4(n,e,t){return n instanceof bh?function(a,l){const c={fields:{[PS]:{stringValue:jS},[LS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&ov(l)&&(l=Hh(l)),l&&(c.fields[VS]=l),{mapValue:c}}(t,e):n instanceof Nc?n1(n,e):n instanceof Dc?r1(n,e):function(a,l){const c=t1(a,l),f=Lx(c)+Lx(a.Re);return uy(c)&&uy(a.Re)?e1(f):dv(a.serializer,f)}(n,e)}function h4(n,e,t){return n instanceof Nc?n1(n,e):n instanceof Dc?r1(n,e):t}function t1(n,e){return n instanceof Eh?function(i){return uy(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class bh extends Yh{}class Nc extends Yh{constructor(e){super(),this.elements=e}}function n1(n,e){const t=i1(e);for(const i of n.elements)t.some(a=>li(a,i))||t.push(i);return{arrayValue:{values:t}}}class Dc extends Yh{constructor(e){super(),this.elements=e}}function r1(n,e){let t=i1(e);for(const i of n.elements)t=t.filter(a=>!li(a,i));return{arrayValue:{values:t}}}class Eh extends Yh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Lx(n){return Ht(n.integerValue||n.doubleValue)}function i1(n){return lv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function m4(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof Nc&&a instanceof Nc||i instanceof Dc&&a instanceof Dc?Cl(i.elements,a.elements,li):i instanceof Eh&&a instanceof Eh?li(i.Re,a.Re):i instanceof bh&&a instanceof bh}(n.transform,e.transform)}class p4{constructor(e,t){this.version=e,this.transformResults=t}}class Bn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Kh{}function s1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Qh(n.key,Bn.none()):new qc(n.key,n.data,Bn.none());{const t=n.data,i=Qn.empty();let a=new an(xn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new fa(n.key,i,new or(a.toArray()),Bn.none())}}function g4(n,e,t){n instanceof qc?function(a,l,c){const f=a.value.clone(),m=Bx(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof fa?function(a,l,c){if(!Zf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=Bx(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(a1(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function bc(n,e,t,i){return n instanceof qc?function(l,c,f,m){if(!Zf(l.precondition,c))return f;const g=l.value.clone(),v=zx(l.fieldTransforms,m,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof fa?function(l,c,f,m){if(!Zf(l.precondition,c))return f;const g=zx(l.fieldTransforms,m,c),v=c.data;return v.setAll(a1(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(n,e,t,i):function(l,c,f){return Zf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,e,t)}function y4(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=t1(i.transform,a||null);l!=null&&(t===null&&(t=Qn.empty()),t.set(i.field,l))}return t||null}function Ux(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Cl(i,a,(l,c)=>m4(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class qc extends Kh{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class fa extends Kh{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function a1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Bx(n,e,t){const i=new Map;dt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,f=e.data.field(l.field);i.set(l.field,h4(c,f,t[a]))}return i}function zx(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,f4(l,c,e))}return i}class Qh extends Kh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class v4 extends Kh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&g4(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=bc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=bc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=JS();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(a.key)?null:f;const m=s1(c,f);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(ze.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),et())}isEqual(e){return this.batchId===e.batchId&&Cl(this.mutations,e.mutations,(t,i)=>Ux(t,i))&&Cl(this.baseMutations,e.baseMutations,(t,i)=>Ux(t,i))}}class fv{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){dt(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let a=function(){return o4}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new fv(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt,st;function x4(n){switch(n){case de.OK:return Ve(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Ve(15467,{code:n})}}function o1(n){if(n===void 0)return es("GRPC error has no .code"),de.UNKNOWN;switch(n){case Wt.OK:return de.OK;case Wt.CANCELLED:return de.CANCELLED;case Wt.UNKNOWN:return de.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return de.INTERNAL;case Wt.UNAVAILABLE:return de.UNAVAILABLE;case Wt.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Wt.NOT_FOUND:return de.NOT_FOUND;case Wt.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Wt.ABORTED:return de.ABORTED;case Wt.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Wt.DATA_LOSS:return de.DATA_LOSS;default:return Ve(39323,{code:n})}}(st=Wt||(Wt={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=new Js([4294967295,4294967295],0);function Fx(n){const e=NS().encode(n),t=new xS;return t.update(e),new Uint8Array(t.digest())}function Hx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Js([t,i],0),new Js([a,l],0)]}class hv{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new fc(`Invalid padding: ${t}`);if(i<0)throw new fc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new fc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new fc(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Js.fromNumber(this.pe)}we(e,t,i){let a=e.add(t.multiply(Js.fromNumber(i)));return a.compare(w4)===1&&(a=new Js([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=Fx(e),[i,a]=Hx(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);if(!this.be(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new hv(l,a,t);return i.forEach(f=>c.insert(f)),c}insert(e){if(this.pe===0)return;const t=Fx(e),[i,a]=Hx(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class fc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Gc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Wh(ze.min(),a,new Ot(Qe),ts(),et())}}class Gc{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Gc(i,t,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,t,i,a){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=a}}class l1{constructor(e,t){this.targetId=e,this.Ce=t}}class u1{constructor(e,t,i=Tn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class qx{constructor(){this.Fe=0,this.Me=Gx(),this.xe=Tn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=et(),t=et(),i=et();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Ve(38017,{changeType:l})}}),new Gc(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=Gx()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,dt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class T4{constructor(e){this.ze=e,this.je=new Map,this.He=ts(),this.Je=Of(),this.Ye=Of(),this.Ze=new Ot(Qe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:Ve(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,i=e.Ce.count,a=this._t(t);if(a){const l=a.target;if(dy(l))if(i===0){const c=new Ne(l.path);this.tt(t,c,Nn.newNoDocument(c,ze.min()))}else dt(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const f=this.ct(e),m=f?this.lt(f,e,c):1;if(m!==0){this.st(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,f;try{c=ia(i).toUint8Array()}catch(m){if(m instanceof MS)return Al("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new hv(c,a,l)}catch(m){return Al(m instanceof fc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.pe===0?null:f}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.ze.Pt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.tt(t,l,null),a++)}),a}It(e){const t=new Map;this.je.forEach((l,c)=>{const f=this._t(c);if(f){if(l.current&&dy(f.target)){const m=new Ne(f.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,Nn.newNoDocument(m,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let i=et();this.Ye.forEach((l,c)=>{let f=!0;c.forEachWhile(m=>{const g=this._t(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const a=new Wh(e,t,this.Ze,this.He,i);return this.He=ts(),this.Je=Of(),this.Ye=Of(),this.Ze=new Ot(Qe),a}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new qx,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new an(Qe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new an(Qe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||be("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new qx),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Of(){return new Ot(Ne.comparator)}function Gx(){return new Ot(Ne.comparator)}const S4={asc:"ASCENDING",desc:"DESCENDING"},A4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},C4={and:"AND",or:"OR"};class R4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hy(n,e){return n.useProto3Json||Fh(e)?e:{value:e}}function xh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function c1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function I4(n,e){return xh(n,e.toTimestamp())}function si(n){return dt(!!n,49232),ze.fromTimestamp(function(t){const i=ra(t);return new xt(i.seconds,i.nanos)}(n))}function mv(n,e){return my(n,e).canonicalString()}function my(n,e){const t=function(a){return new St(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function d1(n){const e=St.fromString(n);return dt(g1(e),10190,{key:e.toString()}),e}function py(n,e){return mv(n.databaseId,e.path)}function Rg(n,e){const t=d1(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ne(h1(t))}function f1(n,e){return mv(n.databaseId,e)}function N4(n){const e=d1(n);return e.length===4?St.emptyPath():h1(e)}function gy(n){return new St(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function h1(n){return dt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function $x(n,e,t){return{name:py(n,e),fields:t.value.mapValue.fields}}function D4(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ve(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,v){return g.useProto3Json?(dt(v===void 0||typeof v=="string",58123),Tn.fromBase64String(v||"")):(dt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Tn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(g){const v=g.code===void 0?de.UNKNOWN:o1(g.code);return new _e(v,g.message||"")}(c);t=new u1(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Rg(n,i.document.name),l=si(i.document.updateTime),c=i.document.createTime?si(i.document.createTime):ze.min(),f=new Qn({mapValue:{fields:i.document.fields}}),m=Nn.newFoundDocument(a,l,c,f),g=i.targetIds||[],v=i.removedTargetIds||[];t=new Jf(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Rg(n,i.document),l=i.readTime?si(i.readTime):ze.min(),c=Nn.newNoDocument(a,l),f=i.removedTargetIds||[];t=new Jf([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Rg(n,i.document),l=i.removedTargetIds||[];t=new Jf([],l,a,null)}else{if(!("filter"in e))return Ve(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new E4(a,l),f=i.targetId;t=new l1(f,c)}}return t}function k4(n,e){let t;if(e instanceof qc)t={update:$x(n,e.key,e.value)};else if(e instanceof Qh)t={delete:py(n,e.key)};else if(e instanceof fa)t={update:$x(n,e.key,e.data),updateMask:z4(e.fieldMask)};else{if(!(e instanceof v4))return Ve(16599,{ft:e.type});t={verify:py(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const f=c.transform;if(f instanceof bh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Nc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Dc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Eh)return{fieldPath:c.field.canonicalString(),increment:f.Re};throw Ve(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:I4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ve(27497)}(n,e.precondition)),t}function O4(n,e){return n&&n.length>0?(dt(e!==void 0,14353),n.map(t=>function(a,l){let c=a.updateTime?si(a.updateTime):si(l);return c.isEqual(ze.min())&&(c=si(l)),new p4(c,a.transformResults||[])}(t,e))):[]}function M4(n,e){return{documents:[f1(n,e.path)]}}function j4(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=f1(n,a);const l=function(g){if(g.length!==0)return p1(Mr.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(v=>function(E){return{field:ul(E.field),direction:L4(E.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=hy(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:a}}function P4(n){let e=N4(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){dt(i===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(b){const E=m1(b);return E instanceof Mr&&qS(E)?E.getFilters():[E]}(t.where));let c=[];t.orderBy&&(c=function(b){return b.map(E=>function(R){return new Ic(cl(R.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(E))}(t.orderBy));let f=null;t.limit&&(f=function(b){let E;return E=typeof b=="object"?b.value:b,Fh(E)?null:E}(t.limit));let m=null;t.startAt&&(m=function(b){const E=!!b.before,C=b.values||[];return new vh(C,E)}(t.startAt));let g=null;return t.endAt&&(g=function(b){const E=!b.before,C=b.values||[];return new vh(C,E)}(t.endAt)),n4(e,a,c,l,f,"F",m,g)}function V4(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function m1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=cl(t.unaryFilter.field);return Xt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=cl(t.unaryFilter.field);return Xt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=cl(t.unaryFilter.field);return Xt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=cl(t.unaryFilter.field);return Xt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}}(n):n.fieldFilter!==void 0?function(t){return Xt.create(cl(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Mr.create(t.compositeFilter.filters.map(i=>m1(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}}(t.compositeFilter.op))}(n):Ve(30097,{filter:n})}function L4(n){return S4[n]}function U4(n){return A4[n]}function B4(n){return C4[n]}function ul(n){return{fieldPath:n.canonicalString()}}function cl(n){return xn.fromServerFormat(n.fieldPath)}function p1(n){return n instanceof Xt?function(t){if(t.op==="=="){if(Ox(t.value))return{unaryFilter:{field:ul(t.field),op:"IS_NAN"}};if(kx(t.value))return{unaryFilter:{field:ul(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ox(t.value))return{unaryFilter:{field:ul(t.field),op:"IS_NOT_NAN"}};if(kx(t.value))return{unaryFilter:{field:ul(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ul(t.field),op:U4(t.op),value:t.value}}}(n):n instanceof Mr?function(t){const i=t.getFilters().map(a=>p1(a));return i.length===1?i[0]:{compositeFilter:{op:B4(t.op),filters:i}}}(n):Ve(54877,{filter:n})}function z4(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function g1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,t,i,a,l=ze.min(),c=ze.min(),f=Tn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this.wt=e}}function H4(n){const e=P4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?_h(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(){this.Cn=new G4}addToCollectionParentIndex(e,t){return this.Cn.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(na.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(na.min())}updateCollectionGroup(e,t,i){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class G4{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new an(St.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new an(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},y1=41943040;class Kn{static withCacheSize(e){return new Kn(e,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn.DEFAULT_COLLECTION_PERCENTILE=10,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kn.DEFAULT=new Kn(y1,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kn.DISABLED=new Kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Nl(0)}static lr(){return new Nl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="LruGarbageCollector",$4=1048576;function Qx([n,e],[t,i]){const a=Qe(n,t);return a===0?Qe(e,i):a}class Y4{constructor(e){this.Er=e,this.buffer=new an(Qx),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Qx(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class K4{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){be(Kx,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Gl(t)?be(Kx,"Ignoring IndexedDB error during garbage collection: ",t):await ql(t)}await this.mr(3e5)})}}class Q4{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return he.resolve(zh.le);const i=new Y4(t);return this.gr.forEachTarget(e,a=>i.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>i.Rr(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(Yx)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yx):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,a,l,c,f,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a))).next(b=>(i=b,f=Date.now(),this.removeTargets(e,i,t))).next(b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(b=>(g=Date.now(),ol()<=Je.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${b} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b})))}}function W4(n,e){return new Q4(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(){this.changes=new uo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?he.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&bc(i.mutation,a,or.empty(),xt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,et()).next(()=>i))}getLocalViewOfDocuments(e,t,i=et()){const a=Xa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=dc();return l.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Xa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,et()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,i,a){let l=ts();const c=_c(),f=function(){return _c()}();return t.forEach((m,g)=>{const v=i.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof fa)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),bc(v.mutation,g,v.mutation.getFieldMask(),xt.now())):c.set(g.key,or.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,v)=>c.set(g,v)),t.forEach((g,v)=>{var b;return f.set(g,new Z4(v,(b=c.get(g))!==null&&b!==void 0?b:null))}),f))}recalculateAndSaveOverlays(e,t){const i=_c();let a=new Ot((c,f)=>c-f),l=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let v=i.get(m)||or.empty();v=f.applyToLocalView(g,v),i.set(m,v);const b=(a.get(f.batchId)||et()).add(m);a=a.insert(f.batchId,b)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),g=m.key,v=m.value,b=JS();v.forEach(E=>{if(!l.has(E)){const C=s1(t.get(E),i.get(E));C!==null&&b.set(E,C),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return he.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return Ne.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):KS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):he.resolve(Xa());let f=Sc,m=l;return c.next(g=>he.forEach(g,(v,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),l.get(v)?he.resolve():this.remoteDocumentCache.getEntry(e,v).next(E=>{m=m.insert(v,E)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,et())).next(v=>({batchId:f,changes:ZS(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ne(t)).next(i=>{let a=dc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=dc();return this.indexManager.getCollectionParents(e,l).next(f=>he.forEach(f,m=>{const g=function(b,E){return new $l(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next(v=>{v.forEach((b,E)=>{c=c.insert(b,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((m,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,Nn.newInvalidDocument(v)))});let f=dc();return c.forEach((m,g)=>{const v=l.get(m);v!==void 0&&bc(v.mutation,g,or.empty(),xt.now()),$h(t,g)&&(f=f.insert(m,g))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return he.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:si(a.createTime)}}(t)),he.resolve()}getNamedQuery(e,t){return he.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(a){return{name:a.name,query:H4(a.bundledQuery),readTime:si(a.readTime)}}(t)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(){this.overlays=new Ot(Ne.comparator),this.Qr=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Xa();return he.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.St(e,t,l)}),he.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Qr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(i)),he.resolve()}getOverlaysForCollection(e,t,i){const a=Xa(),l=t.length+1,c=new Ne(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return he.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new Ot((g,v)=>g-v);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=Xa(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const f=Xa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,v)=>f.set(g,v)),!(f.size()>=a)););return he.resolve(f)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(i.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new b4(t,i));let l=this.Qr.get(t);l===void 0&&(l=et(),this.Qr.set(t,l)),this.Qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(){this.sessionToken=Tn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(){this.$r=new an(mn.Ur),this.Kr=new an(mn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new mn(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new mn(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new Ne(new St([])),i=new mn(t,e),a=new mn(t,e+1),l=[];return this.Kr.forEachInRange([i,a],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Ne(new St([])),i=new mn(t,e),a=new mn(t,e+1);let l=et();return this.Kr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new mn(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class mn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Ne.comparator(e.key,t.key)||Qe(e.Zr,t.Zr)}static Wr(e,t){return Qe(e.Zr,t.Zr)||Ne.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new an(mn.Ur)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new _4(l,t,i,a);this.mutationQueue.push(c);for(const f of a)this.Xr=this.Xr.add(new mn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return he.resolve(c)}lookupMutationBatch(e,t){return he.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ti(i),l=a<0?0:a;return he.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?av:this.nr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new mn(t,0),a=new mn(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([i,a],c=>{const f=this.ei(c.Zr);l.push(f)}),he.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new an(Qe);return t.forEach(a=>{const l=new mn(a,0),c=new mn(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],f=>{i=i.add(f.Zr)})}),he.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Ne.isDocumentKey(l)||(l=l.child(""));const c=new mn(new Ne(l),0);let f=new an(Qe);return this.Xr.forEachWhile(m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(f=f.add(m.Zr)),!0)},c),he.resolve(this.ni(f))}ni(e){const t=[];return e.forEach(i=>{const a=this.ei(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){dt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return he.forEach(t.mutations,a=>{const l=new mn(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new mn(t,0),a=this.Xr.firstAfterOrEqual(i);return he.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e){this.ii=e,this.docs=function(){return new Ot(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return he.resolve(i?i.document.mutableCopy():Nn.newInvalidDocument(t))}getEntries(e,t){let i=ts();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Nn.newInvalidDocument(a))}),he.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=ts();const c=t.path,f=new Ne(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||MO(OO(v),i)<=0||(a.has(v.key)||$h(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return he.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Ve(9500)}si(e,t){return he.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new sM(this)}getSize(e){return he.resolve(this.size)}}class sM extends X4{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Br.addEntry(e,a)):this.Br.removeEntry(i)}),he.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.persistence=e,this.oi=new uo(t=>uv(t),cv),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this._i=0,this.ai=new pv,this.targetCount=0,this.ui=Nl.cr()}forEachTarget(e,t){return this.oi.forEach((i,a)=>t(a)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),he.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Nl(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.Tr(t),he.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.oi.forEach((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),he.waitFor(l).next(()=>a)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return he.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),he.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),he.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),he.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return he.resolve(i)}containsKey(e,t){return he.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,t){this.ci={},this.overlays={},this.li=new zh(0),this.hi=!1,this.hi=!0,this.Pi=new nM,this.referenceDelegate=e(this),this.Ti=new aM(this),this.indexManager=new q4,this.remoteDocumentCache=function(a){return new iM(a)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new F4(t),this.Ei=new eM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new rM(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){be("MemoryPersistence","Starting transaction:",e);const a=new oM(this.li.next());return this.referenceDelegate.di(),i(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(e,t){return he.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class oM extends PO{constructor(e){super(),this.currentSequenceNumber=e}}class gv{constructor(e){this.persistence=e,this.Vi=new pv,this.mi=null}static fi(e){return new gv(e)}get gi(){if(this.mi)return this.mi;throw Ve(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),he.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),he.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(a=>this.gi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.gi,i=>{const a=Ne.fromPath(i);return this.pi(e,a).next(l=>{l||t.removeEntry(a,ze.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return he.or([()=>he.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class wh{constructor(e,t){this.persistence=e,this.yi=new uo(i=>UO(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=W4(this,t)}static fi(e,t){return new wh(e,t)}di(){}Ai(e){return he.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return he.forEach(this.yi,(i,a)=>this.Dr(e,i,a).next(l=>l?he.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(e,c=>this.Dr(e,c,t).next(f=>{f||(i++,l.removeEntry(c,ze.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),he.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),he.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),he.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Wf(e.data.value)),t}Dr(e,t,i){return he.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.yi.get(t);return he.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.ds=i,this.As=a}static Rs(e,t){let i=et(),a=et();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new yv(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return F3()?8:VO(Mn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ws(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.bs(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new lM;return this.Ss(e,t,c).next(f=>{if(l.result=f,this.fs)return this.Ds(e,t,c,f.size)})}).next(()=>l.result)}Ds(e,t,i,a){return i.documentReadCount<this.gs?(ol()<=Je.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",ll(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),he.resolve()):(ol()<=Je.DEBUG&&be("QueryEngine","Query:",ll(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ps*a?(ol()<=Je.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",ll(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ii(t))):he.resolve())}ws(e,t){if(Vx(t))return he.resolve(null);let i=ii(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=_h(t,null,"F"),i=ii(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=et(...l);return this.ys.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(m=>{const g=this.vs(t,f);return this.Cs(t,g,c,m.readTime)?this.ws(e,_h(t,null,"F")):this.Fs(e,g,t,m)}))})))}bs(e,t,i,a){return Vx(t)||a.isEqual(ze.min())?he.resolve(null):this.ys.getDocuments(e,i).next(l=>{const c=this.vs(t,l);return this.Cs(t,c,i,a)?he.resolve(null):(ol()<=Je.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ll(t)),this.Fs(e,c,t,kO(a,Sc)).next(f=>f))})}vs(e,t){let i=new an(WS(e));return t.forEach((a,l)=>{$h(e,l)&&(i=i.add(l))}),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return ol()<=Je.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",ll(t)),this.ys.getDocumentsMatchingQuery(e,t,na.min(),i)}Fs(e,t,i,a){return this.ys.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="LocalStore",cM=3e8;class dM{constructor(e,t,i,a){this.persistence=e,this.Ms=t,this.serializer=a,this.xs=new Ot(Qe),this.Os=new uo(l=>uv(l),cv),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J4(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function fM(n,e,t,i){return new dM(n,e,t,i)}async function _1(n,e){const t=He(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],f=[];let m=et();for(const g of a){c.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){f.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(i,m).next(g=>({ks:g,removedBatchIds:c,addedBatchIds:f}))})})}function hM(n,e){const t=He(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(f,m,g,v){const b=g.batch,E=b.keys();let C=he.resolve();return E.forEach(R=>{C=C.next(()=>v.getEntry(m,R)).next(A=>{const N=g.docVersions.get(R);dt(N!==null,48541),A.version.compareTo(N)<0&&(b.applyToRemoteDocument(A,g),A.isValidDocument()&&(A.setReadTime(g.commitVersion),v.addEntry(A)))})}),C.next(()=>f.mutationQueue.removeMutationBatch(m,b))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let m=et();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(m=m.add(f.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function b1(n){const e=He(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function mM(n,e){const t=He(n),i=e.snapshotVersion;let a=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});a=t.xs;const f=[];e.targetChanges.forEach((v,b)=>{const E=a.get(b);if(!E)return;f.push(t.Ti.removeMatchingKeys(l,v.removedDocuments,b).next(()=>t.Ti.addMatchingKeys(l,v.addedDocuments,b)));let C=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?C=C.withResumeToken(Tn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,i)),a=a.insert(b,C),function(A,N,V){return A.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=cM?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(E,C,v)&&f.push(t.Ti.updateTargetData(l,C))});let m=ts(),g=et();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),f.push(pM(l,c,e.documentUpdates).next(v=>{m=v.qs,g=v.Qs})),!i.isEqual(ze.min())){const v=t.Ti.getLastRemoteSnapshotVersion(l).next(b=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(v)}return he.waitFor(f).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(t.xs=a,l))}function pM(n,e,t){let i=et(),a=et();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=ts();return t.forEach((f,m)=>{const g=l.get(f);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(ze.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):be(vv,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",m.version)}),{qs:c,Qs:a}})}function gM(n,e){const t=He(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=av),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function yM(n,e){const t=He(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Ti.getTargetData(i,e).next(l=>l?(a=l,he.resolve(a)):t.Ti.allocateTargetId(i).next(c=>(a=new Ks(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.xs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function yy(n,e,t){const i=He(n),a=i.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Gl(c))throw c;be(vv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.xs=i.xs.remove(e),i.Os.delete(a.target)}function Wx(n,e,t){const i=He(n);let a=ze.min(),l=et();return i.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,v){const b=He(m),E=b.Os.get(v);return E!==void 0?he.resolve(b.xs.get(E)):b.Ti.getTargetData(g,v)}(i,c,ii(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(c,f.targetId).next(m=>{l=m})}).next(()=>i.Ms.getDocumentsMatchingQuery(c,e,t?a:ze.min(),t?l:et())).next(f=>(vM(i,i4(e),f),{documents:f,$s:l})))}function vM(n,e,t){let i=n.Ns.get(e)||ze.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Ns.set(e,i)}class Xx{constructor(){this.activeTargetIds=c4()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _M{constructor(){this.xo=new Xx,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Xx,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="ConnectivityMonitor";class Jx{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){be(Zx,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){be(Zx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mf=null;function vy(){return Mf===null?Mf=function(){return 268435456+Math.round(2147483648*Math.random())}():Mf++,"0x"+Mf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="RestConnection",EM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xM{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${a}`,this.Go=this.databaseId.database===gh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}zo(e,t,i,a,l){const c=vy(),f=this.jo(e,t.toUriEncodedString());be(Ig,`Sending RPC '${e}' ${c}:`,f,i);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,a,l);const{host:g}=new URL(f),v=Bl(g);return this.Jo(e,f,m,i,v).then(b=>(be(Ig,`Received RPC '${e}' ${c}: `,b),b),b=>{throw Al(Ig,`RPC '${e}' ${c} failed with error: `,b,"url: ",f,"request:",i),b})}Yo(e,t,i,a,l,c){return this.zo(e,t,i,a,l)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Hl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}jo(e,t){const i=EM[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="WebChannelConnection";class TM extends xM{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const c=vy();return new Promise((f,m)=>{const g=new wS;g.setWithCredentials(!0),g.listenOnce(TS.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Qf.NO_ERROR:const b=g.getResponseJson();be(Rn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),f(b);break;case Qf.TIMEOUT:be(Rn,`RPC '${e}' ${c} timed out`),m(new _e(de.DEADLINE_EXCEEDED,"Request time out"));break;case Qf.HTTP_ERROR:const E=g.getStatus();if(be(Rn,`RPC '${e}' ${c} failed with status:`,E,"response text:",g.getResponseText()),E>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const R=C==null?void 0:C.error;if(R&&R.status&&R.message){const A=function(V){const U=V.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(U)>=0?U:de.UNKNOWN}(R.status);m(new _e(A,R.message))}else m(new _e(de.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new _e(de.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{h_:e,streamId:c,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{be(Rn,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(a);be(Rn,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",v,i,15)})}I_(e,t,i){const a=vy(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=CS(),f=AS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const v=l.join("");be(Rn,`Creating RPC '${e}' stream ${a}: ${v}`,m);const b=c.createWebChannel(v,m);this.E_(b);let E=!1,C=!1;const R=new wM({Zo:N=>{C?be(Rn,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(E||(be(Rn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),E=!0),be(Rn,`RPC '${e}' stream ${a} sending:`,N),b.send(N))},Xo:()=>b.close()}),A=(N,V,U)=>{N.listen(V,z=>{try{U(z)}catch(G){setTimeout(()=>{throw G},0)}})};return A(b,cc.EventType.OPEN,()=>{C||(be(Rn,`RPC '${e}' stream ${a} transport opened.`),R.__())}),A(b,cc.EventType.CLOSE,()=>{C||(C=!0,be(Rn,`RPC '${e}' stream ${a} transport closed`),R.u_(),this.d_(b))}),A(b,cc.EventType.ERROR,N=>{C||(C=!0,Al(Rn,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),R.u_(new _e(de.UNAVAILABLE,"The operation could not be completed")))}),A(b,cc.EventType.MESSAGE,N=>{var V;if(!C){const U=N.data[0];dt(!!U,16349);const z=U,G=(z==null?void 0:z.error)||((V=z[0])===null||V===void 0?void 0:V.error);if(G){be(Rn,`RPC '${e}' stream ${a} received error:`,G);const $=G.status;let re=function(M){const L=Wt[M];if(L!==void 0)return o1(L)}($),k=G.message;re===void 0&&(re=de.INTERNAL,k="Unknown error status: "+$+" with message "+G.message),C=!0,R.u_(new _e(re,k)),b.close()}else be(Rn,`RPC '${e}' stream ${a} received:`,U),R.c_(U)}}),A(f,SS.STAT_EVENT,N=>{N.stat===ay.PROXY?be(Rn,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===ay.NOPROXY&&be(Rn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{R.a_()},0),R}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Ng(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(n){return new R4(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,t,i=1e3,a=1.5,l=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=a,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),a=Math.max(0,t-i);a>0&&be("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="PersistentStream";class x1{constructor(e,t,i,a,l,c,f,m){this.xi=e,this.S_=i,this.D_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new E1(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(es(t.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.v_===t&&this.z_(i,a)},i=>{e(()=>{const a=new _e(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(a)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{i(()=>this.j_(a))}),this.stream.onMessage(a=>{i(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return be(ew,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(be(ew,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SM extends x1{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=D4(this.serializer,e),i=function(l){if(!("targetChange"in l))return ze.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ze.min():c.readTime?si(c.readTime):ze.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=gy(this.serializer),t.addTarget=function(l,c){let f;const m=c.target;if(f=dy(m)?{documents:M4(l,m)}:{query:j4(l,m).gt},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=c1(l,c.resumeToken);const g=hy(l,c.expectedCount);g!==null&&(f.expectedCount=g)}else if(c.snapshotVersion.compareTo(ze.min())>0){f.readTime=xh(l,c.snapshotVersion.toTimestamp());const g=hy(l,c.expectedCount);g!==null&&(f.expectedCount=g)}return f}(this.serializer,e);const i=V4(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=gy(this.serializer),t.removeTarget=e,this.Q_(t)}}class AM extends x1{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=O4(e.writeResults,e.commitTime),i=si(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=gy(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>k4(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{}class RM extends CM{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new _e(de.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(e,my(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(de.UNKNOWN,l.toString())})}Yo(e,t,i,a,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Yo(e,my(t,i),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(de.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class IM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(es(t),this.ua=!1):be("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="RemoteStore";class NM{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(c=>{i.enqueueAndForget(async()=>{co(this)&&(be(ro,"Restarting streams for network reachability change."),await async function(m){const g=He(m);g.da.add(4),await $c(g),g.Va.set("Unknown"),g.da.delete(4),await Zh(g)}(this))})}),this.Va=new IM(i,a)}}async function Zh(n){if(co(n))for(const e of n.Aa)await e(!0)}async function $c(n){for(const e of n.Aa)await e(!1)}function w1(n,e){const t=He(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),xv(t)?Ev(t):Yl(t).N_()&&bv(t,e))}function _v(n,e){const t=He(n),i=Yl(t);t.Ea.delete(e),i.N_()&&T1(t,e),t.Ea.size===0&&(i.N_()?i.k_():co(t)&&t.Va.set("Unknown"))}function bv(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Yl(n).Z_(e)}function T1(n,e){n.ma.Ke(e),Yl(n).X_(e)}function Ev(n){n.ma=new T4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Yl(n).start(),n.Va.ca()}function xv(n){return co(n)&&!Yl(n).O_()&&n.Ea.size>0}function co(n){return He(n).da.size===0}function S1(n){n.ma=void 0}async function DM(n){n.Va.set("Online")}async function kM(n){n.Ea.forEach((e,t)=>{bv(n,e)})}async function OM(n,e){S1(n),xv(n)?(n.Va.Pa(e),Ev(n)):n.Va.set("Unknown")}async function MM(n,e,t){if(n.Va.set("Online"),e instanceof u1&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ea.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ea.delete(f),a.ma.removeTarget(f))}(n,e)}catch(i){be(ro,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Th(n,i)}else if(e instanceof Jf?n.ma.Xe(e):e instanceof l1?n.ma.ot(e):n.ma.nt(e),!t.isEqual(ze.min()))try{const i=await b1(n.localStore);t.compareTo(i)>=0&&await function(l,c){const f=l.ma.It(c);return f.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ea.get(g);v&&l.Ea.set(g,v.withResumeToken(m.resumeToken,c))}}),f.targetMismatches.forEach((m,g)=>{const v=l.Ea.get(m);if(!v)return;l.Ea.set(m,v.withResumeToken(Tn.EMPTY_BYTE_STRING,v.snapshotVersion)),T1(l,m);const b=new Ks(v.target,m,g,v.sequenceNumber);bv(l,b)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){be(ro,"Failed to raise snapshot:",i),await Th(n,i)}}async function Th(n,e,t){if(!Gl(e))throw e;n.da.add(1),await $c(n),n.Va.set("Offline"),t||(t=()=>b1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{be(ro,"Retrying IndexedDB access"),await t(),n.da.delete(1),await Zh(n)})}function A1(n,e){return e().catch(t=>Th(n,t,e))}async function Jh(n){const e=He(n),t=aa(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:av;for(;jM(e);)try{const a=await gM(e.localStore,i);if(a===null){e.Ia.length===0&&t.k_();break}i=a.batchId,PM(e,a)}catch(a){await Th(e,a)}C1(e)&&R1(e)}function jM(n){return co(n)&&n.Ia.length<10}function PM(n,e){n.Ia.push(e);const t=aa(n);t.N_()&&t.ea&&t.ta(e.mutations)}function C1(n){return co(n)&&!aa(n).O_()&&n.Ia.length>0}function R1(n){aa(n).start()}async function VM(n){aa(n).ia()}async function LM(n){const e=aa(n);for(const t of n.Ia)e.ta(t.mutations)}async function UM(n,e,t){const i=n.Ia.shift(),a=fv.from(i,e,t);await A1(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Jh(n)}async function BM(n,e){e&&aa(n).ea&&await async function(i,a){if(function(c){return x4(c)&&c!==de.ABORTED}(a.code)){const l=i.Ia.shift();aa(i).L_(),await A1(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Jh(i)}}(n,e),C1(n)&&R1(n)}async function tw(n,e){const t=He(n);t.asyncQueue.verifyOperationInProgress(),be(ro,"RemoteStore received new credentials");const i=co(t);t.da.add(3),await $c(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Zh(t)}async function zM(n,e){const t=He(n);e?(t.da.delete(2),await Zh(t)):e||(t.da.add(2),await $c(t),t.Va.set("Unknown"))}function Yl(n){return n.fa||(n.fa=function(t,i,a){const l=He(t);return l.oa(),new SM(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:DM.bind(null,n),n_:kM.bind(null,n),i_:OM.bind(null,n),Y_:MM.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),xv(n)?Ev(n):n.Va.set("Unknown")):(await n.fa.stop(),S1(n))})),n.fa}function aa(n){return n.ga||(n.ga=function(t,i,a){const l=He(t);return l.oa(),new AM(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:VM.bind(null,n),i_:BM.bind(null,n),na:LM.bind(null,n),ra:UM.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await Jh(n)):(await n.ga.stop(),n.Ia.length>0&&(be(ro,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,f=new wv(e,t,c,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tv(n,e){if(es("AsyncQueue",`${e}: ${n}`),Gl(n))return new _e(de.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{static emptySet(e){return new pl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ne.comparator(t.key,i.key):(t,i)=>Ne.comparator(t.key,i.key),this.keyedMap=dc(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof pl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new pl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(){this.pa=new Ot(Ne.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Ve(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class Dl{constructor(e,t,i,a,l,c,f,m,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new Dl(e,t,pl.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class HM{constructor(){this.queries=rw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=He(t),l=a.queries;a.queries=rw(),l.forEach((c,f)=>{for(const m of f.Sa)m.onError(i)})})(this,new _e(de.ABORTED,"Firestore shutting down"))}}function rw(){return new uo(n=>QS(n),Gh)}async function Sv(n,e){const t=He(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.Da()&&e.va()&&(i=2):(l=new FM,i=e.va()?0:1);try{switch(i){case 0:l.ba=await t.onListen(a,!0);break;case 1:l.ba=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const f=Tv(c,`Initialization of query '${ll(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.Sa.push(e),e.Fa(t.onlineState),l.ba&&e.Ma(l.ba)&&Cv(t)}async function Av(n,e){const t=He(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.va()?0:1:!l.Da()&&e.va()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function qM(n,e){const t=He(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const f of c.Sa)f.Ma(a)&&(i=!0);c.ba=a}}i&&Cv(t)}function GM(n,e,t){const i=He(n),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function Cv(n){n.Ca.forEach(e=>{e.next()})}var _y,iw;(iw=_y||(_y={})).xa="default",iw.Cache="cache";class Rv{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Dl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==_y.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e){this.key=e}}class N1{constructor(e){this.key=e}}class $M{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=et(),this.mutatedKeys=et(),this.Za=WS(e),this.Xa=new pl(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new nw,a=t?t.Xa:this.Xa;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,b)=>{const E=a.get(v),C=$h(this.query,b)?b:null,R=!!E&&this.mutatedKeys.has(E.key),A=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let N=!1;E&&C?E.data.isEqual(C.data)?R!==A&&(i.track({type:3,doc:C}),N=!0):this.ru(E,C)||(i.track({type:2,doc:C}),N=!0,(m&&this.Za(C,m)>0||g&&this.Za(C,g)<0)&&(f=!0)):!E&&C?(i.track({type:0,doc:C}),N=!0):E&&!C&&(i.track({type:1,doc:E}),N=!0,(m||g)&&(f=!0)),N&&(C?(c=c.add(C),l=A?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{Xa:c,nu:i,Cs:f,mutatedKeys:l}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const c=e.nu.wa();c.sort((v,b)=>function(C,R){const A=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Vt:N})}};return A(C)-A(R)}(v.type,b.type)||this.Za(v.doc,b.doc)),this.iu(i),a=a!=null&&a;const f=t&&!a?this.su():[],m=this.Ya.size===0&&this.current&&!a?1:0,g=m!==this.Ja;return this.Ja=m,c.length!==0||g?{snapshot:new Dl(this.query,e.Xa,l,c,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:f}:{ou:f}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new nw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=et(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new N1(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new I1(i))}),t}au(e){this.Ha=e.$s,this.Ya=et();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Dl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Iv="SyncEngine";class YM{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class KM{constructor(e){this.key=e,this.cu=!1}}class QM{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new uo(f=>QS(f),Gh),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ot(Ne.comparator),this.Eu=new Map,this.du=new pv,this.Au={},this.Ru=new Map,this.Vu=Nl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function WM(n,e,t=!0){const i=P1(n);let a;const l=i.hu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.uu()):a=await D1(i,e,t,!0),a}async function XM(n,e){const t=P1(n);await D1(t,e,!0,!1)}async function D1(n,e,t,i){const a=await yM(n.localStore,ii(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await ZM(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&w1(n.remoteStore,a),f}async function ZM(n,e,t,i,a){n.fu=(b,E,C)=>async function(A,N,V,U){let z=N.view.tu(V);z.Cs&&(z=await Wx(A.localStore,N.query,!1).then(({documents:k})=>N.view.tu(k,z)));const G=U&&U.targetChanges.get(N.targetId),$=U&&U.targetMismatches.get(N.targetId)!=null,re=N.view.applyChanges(z,A.isPrimaryClient,G,$);return aw(A,N.targetId,re.ou),re.snapshot}(n,b,E,C);const l=await Wx(n.localStore,e,!0),c=new $M(e,l.$s),f=c.tu(l.documents),m=Gc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),g=c.applyChanges(f,n.isPrimaryClient,m);aw(n,t,g.ou);const v=new YM(e,t,c);return n.hu.set(e,v),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),g.snapshot}async function JM(n,e,t){const i=He(n),a=i.hu.get(e),l=i.Pu.get(a.targetId);if(l.length>1)return i.Pu.set(a.targetId,l.filter(c=>!Gh(c,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await yy(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&_v(i.remoteStore,a.targetId),by(i,a.targetId)}).catch(ql)):(by(i,a.targetId),await yy(i.localStore,a.targetId,!0))}async function ej(n,e){const t=He(n),i=t.hu.get(e),a=t.Pu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),_v(t.remoteStore,i.targetId))}async function tj(n,e,t){const i=lj(n);try{const a=await function(c,f){const m=He(c),g=xt.now(),v=f.reduce((C,R)=>C.add(R.key),et());let b,E;return m.persistence.runTransaction("Locally write mutations","readwrite",C=>{let R=ts(),A=et();return m.Bs.getEntries(C,v).next(N=>{R=N,R.forEach((V,U)=>{U.isValidDocument()||(A=A.add(V))})}).next(()=>m.localDocuments.getOverlayedDocuments(C,R)).next(N=>{b=N;const V=[];for(const U of f){const z=y4(U,b.get(U.key).overlayedDocument);z!=null&&V.push(new fa(U.key,z,zS(z.value.mapValue),Bn.exists(!0)))}return m.mutationQueue.addMutationBatch(C,g,V,f)}).next(N=>{E=N;const V=N.applyToLocalDocumentSet(b,A);return m.documentOverlayCache.saveOverlays(C,N.batchId,V)})}).then(()=>({batchId:E.batchId,changes:ZS(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,f,m){let g=c.Au[c.currentUser.toKey()];g||(g=new Ot(Qe)),g=g.insert(f,m),c.Au[c.currentUser.toKey()]=g}(i,a.batchId,t),await Yc(i,a.changes),await Jh(i.remoteStore)}catch(a){const l=Tv(a,"Failed to persist write");t.reject(l)}}async function k1(n,e){const t=He(n);try{const i=await mM(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Eu.get(l);c&&(dt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.cu=!0:a.modifiedDocuments.size>0?dt(c.cu,14607):a.removedDocuments.size>0&&(dt(c.cu,42227),c.cu=!1))}),await Yc(t,i,e)}catch(i){await ql(i)}}function sw(n,e,t){const i=He(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.hu.forEach((l,c)=>{const f=c.view.Fa(e);f.snapshot&&a.push(f.snapshot)}),function(c,f){const m=He(c);m.onlineState=f;let g=!1;m.queries.forEach((v,b)=>{for(const E of b.Sa)E.Fa(f)&&(g=!0)}),g&&Cv(m)}(i.eventManager,e),a.length&&i.lu.Y_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function nj(n,e,t){const i=He(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Eu.get(e),l=a&&a.key;if(l){let c=new Ot(Ne.comparator);c=c.insert(l,Nn.newNoDocument(l,ze.min()));const f=et().add(l),m=new Wh(ze.min(),new Map,new Ot(Qe),c,f);await k1(i,m),i.Iu=i.Iu.remove(l),i.Eu.delete(e),Nv(i)}else await yy(i.localStore,e,!1).then(()=>by(i,e,t)).catch(ql)}async function rj(n,e){const t=He(n),i=e.batch.batchId;try{const a=await hM(t.localStore,e);M1(t,i,null),O1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Yc(t,a)}catch(a){await ql(a)}}async function ij(n,e,t){const i=He(n);try{const a=await function(c,f){const m=He(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return m.mutationQueue.lookupMutationBatch(g,f).next(b=>(dt(b!==null,37113),v=b.keys(),m.mutationQueue.removeMutationBatch(g,b))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>m.localDocuments.getDocuments(g,v))})}(i.localStore,e);M1(i,e,t),O1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Yc(i,a)}catch(a){await ql(a)}}function O1(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function M1(n,e,t){const i=He(n);let a=i.Au[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Au[i.currentUser.toKey()]=a}}function by(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||j1(n,i)})}function j1(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(_v(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),Nv(n))}function aw(n,e,t){for(const i of t)i instanceof I1?(n.du.addReference(i.key,e),sj(n,i)):i instanceof N1?(be(Iv,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||j1(n,i.key)):Ve(19791,{pu:i})}function sj(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(be(Iv,"New document in limbo: "+t),n.Tu.add(i),Nv(n))}function Nv(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new Ne(St.fromString(e)),i=n.Vu.next();n.Eu.set(i,new KM(t)),n.Iu=n.Iu.insert(t,i),w1(n.remoteStore,new Ks(ii(qh(t.path)),i,"TargetPurposeLimboResolution",zh.le))}}async function Yc(n,e,t){const i=He(n),a=[],l=[],c=[];i.hu.isEmpty()||(i.hu.forEach((f,m)=>{c.push(i.fu(m,e,t).then(g=>{var v;if((g||t)&&i.isPrimaryClient){const b=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(m.targetId,b?"current":"not-current")}if(g){a.push(g);const b=yv.Rs(m.targetId,g);l.push(b)}}))}),await Promise.all(c),i.lu.Y_(a),await async function(m,g){const v=He(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>he.forEach(g,E=>he.forEach(E.ds,C=>v.persistence.referenceDelegate.addReference(b,E.targetId,C)).next(()=>he.forEach(E.As,C=>v.persistence.referenceDelegate.removeReference(b,E.targetId,C)))))}catch(b){if(!Gl(b))throw b;be(vv,"Failed to update sequence numbers: "+b)}for(const b of g){const E=b.targetId;if(!b.fromCache){const C=v.xs.get(E),R=C.snapshotVersion,A=C.withLastLimboFreeSnapshotVersion(R);v.xs=v.xs.insert(E,A)}}}(i.localStore,l))}async function aj(n,e){const t=He(n);if(!t.currentUser.isEqual(e)){be(Iv,"User change. New user:",e.toKey());const i=await _1(t.localStore,e);t.currentUser=e,function(l,c){l.Ru.forEach(f=>{f.forEach(m=>{m.reject(new _e(de.CANCELLED,c))})}),l.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Yc(t,i.ks)}}function oj(n,e){const t=He(n),i=t.Eu.get(e);if(i&&i.cu)return et().add(i.key);{let a=et();const l=t.Pu.get(e);if(!l)return a;for(const c of l){const f=t.hu.get(c);a=a.unionWith(f.view.eu)}return a}}function P1(n){const e=He(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=k1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nj.bind(null,e),e.lu.Y_=qM.bind(null,e.eventManager),e.lu.gu=GM.bind(null,e.eventManager),e}function lj(n){const e=He(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ij.bind(null,e),e}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return fM(this.persistence,new uM,e.initialUser,this.serializer)}Su(e){return new v1(gv.fi,this.serializer)}bu(e){return new _M}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class uj extends Sh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){dt(this.persistence.referenceDelegate instanceof wh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new K4(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?Kn.withCacheSize(this.cacheSizeBytes):Kn.DEFAULT;return new v1(i=>wh.fi(i,t),this.serializer)}}class Ey{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>sw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=aj.bind(null,this.syncEngine),await zM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new HM}()}createDatastore(e){const t=Xh(e.databaseInfo.databaseId),i=function(l){return new TM(l)}(e.databaseInfo);return function(l,c,f,m){return new RM(l,c,f,m)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,f){return new NM(i,a,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>sw(this.syncEngine,t,0),function(){return Jx.C()?new Jx:new bM}())}createSyncEngine(e,t){return function(a,l,c,f,m,g,v){const b=new QM(a,l,c,f,m,g);return v&&(b.mu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=He(a);be(ro,"RemoteStore shutting down."),l.da.add(5),await $c(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ey.provider={build:()=>new Ey};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):es("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="FirestoreClient";class cj{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=In.UNAUTHENTICATED,this.clientId=DS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{be(oa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(be(oa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Tv(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Dg(n,e){n.asyncQueue.verifyOperationInProgress(),be(oa,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await _1(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function ow(n,e){n.asyncQueue.verifyOperationInProgress();const t=await dj(n);be(oa,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>tw(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>tw(e.remoteStore,a)),n._onlineComponents=e}async function dj(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){be(oa,"Using user provided OfflineComponentProvider");try{await Dg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Al("Error using user provided cache. Falling back to memory cache: "+t),await Dg(n,new Sh)}}else be(oa,"Using default OfflineComponentProvider"),await Dg(n,new uj(void 0));return n._offlineComponents}async function V1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(be(oa,"Using user provided OnlineComponentProvider"),await ow(n,n._uninitializedComponentsProvider._online)):(be(oa,"Using default OnlineComponentProvider"),await ow(n,new Ey))),n._onlineComponents}function fj(n){return V1(n).then(e=>e.syncEngine)}async function Ah(n){const e=await V1(n),t=e.eventManager;return t.onListen=WM.bind(null,e.syncEngine),t.onUnlisten=JM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=XM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ej.bind(null,e.syncEngine),t}function hj(n,e,t={}){const i=new Yi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,g){const v=new Dv({next:E=>{v.xu(),c.enqueueAndForget(()=>Av(l,b));const C=E.docs.has(f);!C&&E.fromCache?g.reject(new _e(de.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&E.fromCache&&m&&m.source==="server"?g.reject(new _e(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),b=new Rv(qh(f.path),v,{includeMetadataChanges:!0,Qa:!0});return Sv(l,b)}(await Ah(n),n.asyncQueue,e,t,i)),i.promise}function mj(n,e,t={}){const i=new Yi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,g){const v=new Dv({next:E=>{v.xu(),c.enqueueAndForget(()=>Av(l,b)),E.fromCache&&m.source==="server"?g.reject(new _e(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),b=new Rv(f,v,{includeMetadataChanges:!0,Qa:!0});return Sv(l,b)}(await Ah(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(n,e,t){if(!t)throw new _e(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function pj(n,e,t,i){if(e===!0&&i===!0)throw new _e(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function uw(n){if(!Ne.isDocumentKey(n))throw new _e(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cw(n){if(Ne.isDocumentKey(n))throw new _e(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function em(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ve(12329,{type:typeof n})}function zn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=em(n);throw new _e(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function gj(n,e){if(e<=0)throw new _e(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="firestore.googleapis.com",dw=!0;class fw{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=B1,this.ssl=dw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:dw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=y1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$4)throw new _e(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=L1((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new _e(de.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new _e(de.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new _e(de.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tm{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new wO;switch(i.type){case"firstParty":return new CO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _e(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=lw.get(t);i&&(be("ComponentProvider","Removing Datastore"),lw.delete(t),i.terminate())}(this),Promise.resolve()}}function yj(n,e,t,i={}){var a;n=zn(n,tm);const l=Bl(e),c=n._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),m=`${e}:${t}`;l&&(OT(`https://${m}`),MT("Firestore",!0)),c.host!==B1&&c.host!==m&&Al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:i});if(!Za(g,f)&&(n._setSettings(g),i.mockUserToken)){let v,b;if(typeof i.mockUserToken=="string")v=i.mockUserToken,b=In.MOCK_USER;else{v=O3(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new _e(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new In(E)}n._authCredentials=new TO(new IS(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ls(this.firestore,e,this._query)}}class kn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}}class ea extends ls{constructor(e,t,i){super(e,t,qh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new Ne(e))}withConverter(e){return new ea(this.firestore,e,this._path)}}function At(n,e,...t){if(n=Ut(n),U1("collection","path",e),n instanceof tm){const i=St.fromString(e,...t);return cw(i),new ea(n,null,i)}{if(!(n instanceof kn||n instanceof ea))throw new _e(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(St.fromString(e,...t));return cw(i),new ea(n.firestore,null,i)}}function qt(n,e,...t){if(n=Ut(n),arguments.length===1&&(e=DS.newId()),U1("doc","path",e),n instanceof tm){const i=St.fromString(e,...t);return uw(i),new kn(n,null,new Ne(i))}{if(!(n instanceof kn||n instanceof ea))throw new _e(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(St.fromString(e,...t));return uw(i),new kn(n.firestore,n instanceof ea?n.converter:null,new Ne(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="AsyncQueue";class mw{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new E1(this,"async_queue_retry"),this.rc=()=>{const i=Ng();i&&be(hw,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=Ng();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Ng();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Yi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Gl(e))throw e;be(hw,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,es("INTERNAL UNHANDLED ERROR: ",pw(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const a=wv.createAndSchedule(this,e,t,i,l=>this.uc(l));return this.Zu.push(a),a}oc(){this.Xu&&Ve(47125,{cc:pw(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function pw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1}(n,["next","error","complete"])}class ui extends tm{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new mw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mw(e),this._firestoreClient=void 0,await e}}}function vj(n,e){const t=typeof n=="object"?n:LT(),i=typeof n=="string"?n:gh,a=Wy(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=D3("firestore");l&&yj(a,...l)}return a}function Kc(n){if(n._terminated)throw new _e(de.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||_j(n),n._firestoreClient}function _j(n){var e,t,i;const a=n._freezeSettings(),l=function(f,m,g,v){return new FO(f,m,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,L1(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new cj(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kl(Tn.fromBase64String(e))}catch(t){throw new _e(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new kl(Tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=/^__.*__$/;class Ej{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new fa(e,this.data,this.fieldMask,t,this.fieldTransforms):new qc(e,this.data,t,this.fieldTransforms)}}class z1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new fa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function F1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ic:n})}}class jv{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new jv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Vc(e),a}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Ch(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(F1(this.Ic)&&bj.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class xj{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Xh(e)}bc(e,t,i,a=!1){return new jv({Ic:e,methodName:t,wc:i,path:xn.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wc(n){const e=n._freezeSettings(),t=Xh(n._databaseId);return new xj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Pv(n,e,t,i,a,l={}){const c=n.bc(l.merge||l.mergeFields?2:0,e,t,a);Vv("Data must be an object, but it was:",c,i);const f=G1(i,c);let m,g;if(l.merge)m=new or(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const E=xy(e,b,t);if(!c.contains(E))throw new _e(de.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Y1(v,E)||v.push(E)}m=new or(v),g=c.fieldTransforms.filter(b=>m.covers(b.field))}else m=null,g=c.fieldTransforms;return new Ej(new Qn(f),m,g)}class nm extends kv{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nm}}function H1(n,e,t,i){const a=n.bc(1,e,t);Vv("Data must be an object, but it was:",a,i);const l=[],c=Qn.empty();da(i,(m,g)=>{const v=Lv(e,m,t);g=Ut(g);const b=a.mc(v);if(g instanceof nm)l.push(v);else{const E=Xc(g,b);E!=null&&(l.push(v),c.set(v,E))}});const f=new or(l);return new z1(c,f,a.fieldTransforms)}function q1(n,e,t,i,a,l){const c=n.bc(1,e,t),f=[xy(e,i,t)],m=[a];if(l.length%2!=0)throw new _e(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)f.push(xy(e,l[E])),m.push(l[E+1]);const g=[],v=Qn.empty();for(let E=f.length-1;E>=0;--E)if(!Y1(g,f[E])){const C=f[E];let R=m[E];R=Ut(R);const A=c.mc(C);if(R instanceof nm)g.push(C);else{const N=Xc(R,A);N!=null&&(g.push(C),v.set(C,N))}}const b=new or(g);return new z1(v,b,c.fieldTransforms)}function wj(n,e,t,i=!1){return Xc(t,n.bc(i?4:3,e))}function Xc(n,e){if($1(n=Ut(n)))return Vv("Unsupported field value:",e,n),G1(n,e);if(n instanceof kv)return function(i,a){if(!F1(a.Ic))throw a.gc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const f of i){let m=Xc(f,a.fc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=Ut(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return d4(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=xt.fromDate(i);return{timestampValue:xh(a.serializer,l)}}if(i instanceof xt){const l=new xt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:xh(a.serializer,l)}}if(i instanceof Ov)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof kl)return{bytesValue:c1(a.serializer,i._byteString)};if(i instanceof kn){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:mv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Mv)return function(c,f){return{mapValue:{fields:{[US]:{stringValue:BS},[yh]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw f.gc("VectorValues must only contain numeric values.");return dv(f.serializer,g)})}}}}}}(i,a);throw a.gc(`Unsupported field value: ${em(i)}`)}(n,e)}function G1(n,e){const t={};return OS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):da(n,(i,a)=>{const l=Xc(a,e.Ac(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function $1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof xt||n instanceof Ov||n instanceof kl||n instanceof kn||n instanceof kv||n instanceof Mv)}function Vv(n,e,t){if(!$1(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=em(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function xy(n,e,t){if((e=Ut(e))instanceof Qc)return e._internalPath;if(typeof e=="string")return Lv(n,e);throw Ch("Field path arguments must be of type string or ",n,!1,void 0,t)}const Tj=new RegExp("[~\\*/\\[\\]]");function Lv(n,e,t){if(e.search(Tj)>=0)throw Ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Qc(...e.split("."))._internalPath}catch{throw Ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ch(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new _e(de.INVALID_ARGUMENT,f+n+m)}function Y1(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Sj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Sj extends K1{data(){return super.data()}}function rm(n,e){return typeof e=="string"?Lv(n,e):e instanceof Qc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new _e(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Uv{}class Bv extends Uv{}function Wn(n,e,...t){let i=[];e instanceof Uv&&i.push(e),i=i.concat(t),function(l){const c=l.filter(m=>m instanceof zv).length,f=l.filter(m=>m instanceof im).length;if(c>1||c>0&&f>0)throw new _e(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class im extends Bv{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new im(e,t,i)}_apply(e){const t=this._parse(e);return X1(e._query,t),new ls(e.firestore,e.converter,fy(e._query,t))}_parse(e){const t=Wc(e.firestore);return function(l,c,f,m,g,v,b){let E;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new _e(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){vw(b,v);const R=[];for(const A of b)R.push(yw(m,l,A));E={arrayValue:{values:R}}}else E=yw(m,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||vw(b,v),E=wj(f,c,b,v==="in"||v==="not-in");return Xt.create(g,v,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ai(n,e,t){const i=e,a=rm("where",n);return im._create(a,i,t)}class zv extends Uv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new zv(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Mr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)X1(c,m),c=fy(c,m)}(e._query,t),new ls(e.firestore,e.converter,fy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Fv extends Bv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Fv(e,t)}_apply(e){const t=function(a,l,c){if(a.startAt!==null)throw new _e(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new _e(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ic(l,c)}(e._query,this._field,this._direction);return new ls(e.firestore,e.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new $l(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function ns(n,e="asc"){const t=e,i=rm("orderBy",n);return Fv._create(i,t)}class Hv extends Bv{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Hv(e,t,i)}_apply(e){return new ls(e.firestore,e.converter,_h(e._query,this._limit,this._limitType))}}function W1(n){return gj("limit",n),Hv._create("limit",n,"F")}function yw(n,e,t){if(typeof(t=Ut(t))=="string"){if(t==="")throw new _e(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KS(e)&&t.indexOf("/")!==-1)throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(St.fromString(t));if(!Ne.isDocumentKey(i))throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Dx(n,new Ne(i))}if(t instanceof kn)return Dx(n,t._key);throw new _e(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${em(t)}.`)}function vw(n,e){if(!Array.isArray(n)||n.length===0)throw new _e(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function X1(n,e){const t=function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new _e(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Aj{convertValue(e,t="none"){switch(sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return da(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[yh].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>Ht(c.doubleValue));return new Mv(l)}convertGeoPoint(e){return new Ov(Ht(e.latitude),Ht(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Hh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ac(e));default:return null}}convertTimestamp(e){const t=ra(e);return new xt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=St.fromString(e);dt(g1(i),9688,{name:e});const a=new Cc(i.get(1),i.get(3)),l=new Ne(i.popFirst(5));return a.isEqual(t)||es(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Z1 extends K1{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(rm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class eh extends Z1{data(e={}){return super.data(e)}}class J1{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new hc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new eh(this._firestore,this._userDataWriter,i.key,i,new hc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const m=new eh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new hc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const m=new eh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new hc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return f.type!==0&&(g=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:Cj(f.type),doc:m,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Cj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(n){n=zn(n,kn);const e=zn(n.firestore,ui);return hj(Kc(e),n._key).then(t=>tA(e,n,t))}class Gv extends Aj{constructor(e){super(),this.firestore=e}convertBytes(e){return new kl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,t)}}function wn(n){n=zn(n,ls);const e=zn(n.firestore,ui),t=Kc(e),i=new Gv(e);return Q1(n._query),mj(t,n._query).then(a=>new J1(e,i,n,a))}function Rj(n,e,t){n=zn(n,kn);const i=zn(n.firestore,ui),a=qv(n.converter,e,t);return Jc(i,[Pv(Wc(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Bn.none())])}function Ki(n,e,t,...i){n=zn(n,kn);const a=zn(n.firestore,ui),l=Wc(a);let c;return c=typeof(e=Ut(e))=="string"||e instanceof Qc?q1(l,"updateDoc",n._key,e,t,i):H1(l,"updateDoc",n._key,e),Jc(a,[c.toMutation(n._key,Bn.exists(!0))])}function Zc(n){return Jc(zn(n.firestore,ui),[new Qh(n._key,Bn.none())])}function Qi(n,e){const t=zn(n.firestore,ui),i=qt(n),a=qv(n.converter,e);return Jc(t,[Pv(Wc(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,Bn.exists(!1))]).then(()=>i)}function Ij(n,...e){var t,i,a;n=Ut(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||gw(e[c])||(l=e[c],c++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(gw(e[c])){const b=e[c];e[c]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[c+1]=(i=b.error)===null||i===void 0?void 0:i.bind(b),e[c+2]=(a=b.complete)===null||a===void 0?void 0:a.bind(b)}let m,g,v;if(n instanceof kn)g=zn(n.firestore,ui),v=qh(n._key.path),m={next:b=>{e[c]&&e[c](tA(g,n,b))},error:e[c+1],complete:e[c+2]};else{const b=zn(n,ls);g=zn(b.firestore,ui),v=b._query;const E=new Gv(g);m={next:C=>{e[c]&&e[c](new J1(g,E,b,C))},error:e[c+1],complete:e[c+2]},Q1(n._query)}return function(E,C,R,A){const N=new Dv(A),V=new Rv(C,N,R);return E.asyncQueue.enqueueAndForget(async()=>Sv(await Ah(E),V)),()=>{N.xu(),E.asyncQueue.enqueueAndForget(async()=>Av(await Ah(E),V))}}(Kc(g),v,f,m)}function Jc(n,e){return function(i,a){const l=new Yi;return i.asyncQueue.enqueueAndForget(async()=>tj(await fj(i),a,l)),l.promise}(Kc(n),e)}function tA(n,e,t){const i=t.docs.get(e._key),a=new Gv(n);return new Z1(n,a,e._key,i,new hc(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Wc(e)}set(e,t,i){this._verifyNotCommitted();const a=kg(e,this._firestore),l=qv(a.converter,t,i),c=Pv(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,i);return this._mutations.push(c.toMutation(a._key,Bn.none())),this}update(e,t,i,...a){this._verifyNotCommitted();const l=kg(e,this._firestore);let c;return c=typeof(t=Ut(t))=="string"||t instanceof Qc?q1(this._dataReader,"WriteBatch.update",l._key,t,i,a):H1(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,Bn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=kg(e,this._firestore);return this._mutations=this._mutations.concat(new Qh(t._key,Bn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _e(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function kg(n,e){if((n=Ut(n)).firestore!==e)throw new _e(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(n){return Kc(n=zn(n,ui)),new Nj(n,e=>Jc(n,e))}(function(e,t=!0){(function(a){Hl=a})(zl),Tl(new Ja("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new ui(new SO(i.getProvider("auth-internal")),new RO(c,i.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new _e(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cc(g.options.projectId,v)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Zs(_x,bx,e),Zs(_x,bx,"esm2017")})();var Dj="firebase",kj="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zs(Dj,kj,"app");const Oj={apiKey:"AIzaSyBWOaRM6RgB2B63wqHfawl7dMBU2uTMPbI",authDomain:"billybilly-8f5a5.firebaseapp.com",projectId:"billybilly-8f5a5",storageBucket:"billybilly-8f5a5.firebasestorage.app",messagingSenderId:"667395219625",appId:"1:667395219625:web:da57f0bb7b1319838349b8"},nA=VT(Oj),jf=EO(nA),Be=vj(nA),rA=w.createContext();function Fn(){return w.useContext(rA)}function Mj({children:n}){const[e,t]=w.useState(null),[i,a]=w.useState(!0);function l(g,v,b){return ik(jf,g,v).then(async E=>(await dS(E.user,{displayName:b}),await Rj(qt(Be,"users",E.user.uid),{email:E.user.email,displayName:b,createdAt:new Date,preferences:{currency:"CNY",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}}),await Qi(At(Be,"ledgers"),{name:"Personal Expenses",ownerId:E.user.uid,createdAt:new Date,members:{[E.user.uid]:"owner"},currency:"CNY"}),E))}function c(g,v){return sk(jf,g,v)}function f(){return ck(jf)}w.useEffect(()=>uk(jf,async v=>{t(v||null),a(!1)}),[]);const m={currentUser:e,signup:l,login:c,logout:f};return p.jsx(rA.Provider,{value:m,children:!i&&n})}const iA=w.createContext();function us(){return w.useContext(iA)}function jj({children:n}){const{currentUser:e}=Fn(),[t,i]=w.useState([]),[a,l]=w.useState(null),[c,f]=w.useState(!0),m=async()=>{if(!e){i([]),l(null),f(!1);return}try{const A=At(Be,"ledgers"),N=await wn(A),V=[];N.forEach(U=>{const z=U.data();z.members&&z.members[e.uid]&&V.push({id:U.id,...z})}),i(V),V.length>0?l(V[0]):l(null)}catch(A){console.error("Error fetching ledgers:",A)}finally{f(!1)}},g=async()=>{f(!0),await m()},v=async A=>{try{const N=await eA(qt(Be,"ledgers",A));if(N.exists()){const V={id:N.id,...N.data()};l(V)}}catch(N){console.error("Error switching ledger:",N)}},b=()=>!a||!e?null:a.members[e.uid]||null,E=()=>b()==="owner",C=()=>{const A=b();return A==="owner"||A==="member"};w.useEffect(()=>{m()},[e]),w.useEffect(()=>{if(e&&t.length===0&&!c){const A=setTimeout(()=>{g()},1e3);return()=>clearTimeout(A)}},[e,t.length,c]);const R={ledgers:t,currentLedger:a,loading:c,switchLedger:v,fetchLedgers:m,refreshLedgers:g,getUserRole:b,isOwner:E,canEdit:C};return p.jsx(iA.Provider,{value:R,children:n})}function zs({children:n}){const{currentUser:e}=Fn();return e?n:p.jsx(Hg,{to:"/login"})}function Lt({className:n,type:e,...t}){return p.jsx("input",{type:e,"data-slot":"input",className:Zt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var Pj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wt=Pj.reduce((n,e)=>{const t=xc(`Primitive.${e}`),i=w.forwardRef((a,l)=>{const{asChild:c,...f}=a,m=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(m,{...f,ref:l})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function Vj(n,e){n&&Pc.flushSync(()=>n.dispatchEvent(e))}var Lj="Label",sA=w.forwardRef((n,e)=>p.jsx(wt.label,{...n,ref:e,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||((a=n.onMouseDown)==null||a.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));sA.displayName=Lj;var Uj=sA;function Ke({className:n,...e}){return p.jsx(Uj,{"data-slot":"label",className:Zt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}const Bj=qy("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function on({className:n,variant:e,...t}){return p.jsx("div",{"data-slot":"alert",role:"alert",className:Zt(Bj({variant:e}),n),...t})}function ln({className:n,...e}){return p.jsx("div",{"data-slot":"alert-description",className:Zt("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}function zj(){const[n,e]=w.useState(""),[t,i]=w.useState(""),[a,l]=w.useState(!1),[c,f]=w.useState(""),[m,g]=w.useState(!1),{login:v}=Fn(),b=jh();async function E(C){C.preventDefault();try{f(""),g(!0),await v(n,t),b("/")}catch(R){f("Failed to log in: "+R.message)}g(!1)}return p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"max-w-md w-full space-y-8",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"flex justify-center",children:p.jsx(_l,{className:"h-12 w-12 text-blue-600"})}),p.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Sign in to ExpenseTracker"}),p.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",p.jsx(vl,{to:"/signup",className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]}),p.jsxs(_t,{children:[p.jsxs(Ct,{children:[p.jsx(Rt,{children:"Welcome back"}),p.jsx(On,{children:"Enter your credentials to access your account"})]}),p.jsxs(bt,{children:[c&&p.jsx(on,{className:"mb-4",variant:"destructive",children:p.jsx(ln,{children:c})}),p.jsxs("form",{onSubmit:E,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(Ke,{htmlFor:"email",children:"Email address"}),p.jsx(Lt,{id:"email",type:"email",value:n,onChange:C=>e(C.target.value),required:!0,className:"mt-1",placeholder:"Enter your email"})]}),p.jsxs("div",{children:[p.jsx(Ke,{htmlFor:"password",children:"Password"}),p.jsxs("div",{className:"relative mt-1",children:[p.jsx(Lt,{id:"password",type:a?"text":"password",value:t,onChange:C=>i(C.target.value),required:!0,placeholder:"Enter your password"}),p.jsx(De,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!a),children:a?p.jsx(Qg,{className:"h-4 w-4"}):p.jsx(Wg,{className:"h-4 w-4"})})]})]}),p.jsx(De,{type:"submit",className:"w-full",disabled:m,children:m?"Signing in...":"Sign in"})]})]})]})]})})}function Fj(){const[n,e]=w.useState(""),[t,i]=w.useState(""),[a,l]=w.useState(""),[c,f]=w.useState(""),[m,g]=w.useState(!1),[v,b]=w.useState(!1),[E,C]=w.useState(""),[R,A]=w.useState(!1),{signup:N}=Fn(),{refreshLedgers:V}=us(),U=jh();async function z(G){if(G.preventDefault(),t!==a)return C("Passwords do not match");if(t.length<6)return C("Password must be at least 6 characters");try{C(""),A(!0),await N(n,t,c),setTimeout(async()=>{await V(),U("/")},500)}catch($){C("Failed to create an account: "+$.message),A(!1)}}return p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"max-w-md w-full space-y-8",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"flex justify-center",children:p.jsx(_l,{className:"h-12 w-12 text-blue-600"})}),p.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Create your account"}),p.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",p.jsx(vl,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"sign in to your existing account"})]})]}),p.jsxs(_t,{children:[p.jsxs(Ct,{children:[p.jsx(Rt,{children:"Get started"}),p.jsx(On,{children:"Create your account to start tracking expenses"})]}),p.jsxs(bt,{children:[E&&p.jsx(on,{className:"mb-4",variant:"destructive",children:p.jsx(ln,{children:E})}),p.jsxs("form",{onSubmit:z,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(Ke,{htmlFor:"displayName",children:"Full Name"}),p.jsx(Lt,{id:"displayName",type:"text",value:c,onChange:G=>f(G.target.value),required:!0,className:"mt-1",placeholder:"Enter your full name"})]}),p.jsxs("div",{children:[p.jsx(Ke,{htmlFor:"email",children:"Email address"}),p.jsx(Lt,{id:"email",type:"email",value:n,onChange:G=>e(G.target.value),required:!0,className:"mt-1",placeholder:"Enter your email"})]}),p.jsxs("div",{children:[p.jsx(Ke,{htmlFor:"password",children:"Password"}),p.jsxs("div",{className:"relative mt-1",children:[p.jsx(Lt,{id:"password",type:m?"text":"password",value:t,onChange:G=>i(G.target.value),required:!0,placeholder:"Create a password"}),p.jsx(De,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>g(!m),children:m?p.jsx(Qg,{className:"h-4 w-4"}):p.jsx(Wg,{className:"h-4 w-4"})})]})]}),p.jsxs("div",{children:[p.jsx(Ke,{htmlFor:"confirmPassword",children:"Confirm Password"}),p.jsxs("div",{className:"relative mt-1",children:[p.jsx(Lt,{id:"confirmPassword",type:v?"text":"password",value:a,onChange:G=>l(G.target.value),required:!0,placeholder:"Confirm your password"}),p.jsx(De,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>b(!v),children:v?p.jsx(Qg,{className:"h-4 w-4"}):p.jsx(Wg,{className:"h-4 w-4"})})]})]}),p.jsx(De,{type:"submit",className:"w-full",disabled:R,children:R?"Creating account...":"Create account"})]})]})]})]})})}function Hj(n){const[e,t]=w.useState(Date.now());return w.useEffect(()=>{if(!n)return;const i=At(Be,"ledgers",n,"transactions"),a=Wn(i,ns("createdAt","desc"),W1(1)),l=Ij(a,c=>{c.empty||t(Date.now())});return()=>l()},[n]),e}function qj(){const{currentUser:n}=Fn(),{refreshLedgers:e}=us(),[t,i]=w.useState([]),[a,l]=w.useState(!1),[c,f]=w.useState(""),[m,g]=w.useState(""),v=async()=>{if(n)try{l(!0);const C=At(Be,"invitations"),R=Wn(C,ai("inviteeEmail","==",n.email.toLowerCase()),ai("status","==","pending"),ns("createdAt","desc")),A=await wn(R),N=[];A.forEach(V=>{var G;const U=V.data(),z=(G=U.expiresAt)==null?void 0:G.toDate();(!z||z>new Date)&&N.push({id:V.id,...U})}),i(N)}catch(C){console.error("Error fetching invitations:",C),f("Failed to fetch invitations")}finally{l(!1)}},b=async C=>{try{l(!0),f("");const R=qt(Be,"ledgers",C.ledgerId),A=await wn(Wn(At(Be,"ledgers"),ai("__name__","==",C.ledgerId)));if(A.empty)throw new Error("Ledger not found");const V={...A.docs[0].data().members,[n.uid]:C.role};await Ki(R,{members:V,updatedAt:new Date}),await Ki(qt(Be,"invitations",C.id),{status:"accepted",acceptedAt:new Date}),await e(),await v(),g(`Successfully joined "${C.ledgerName}"!`)}catch(R){console.error("Error accepting invitation:",R),f("Failed to accept invitation")}finally{l(!1)}},E=async C=>{try{l(!0),f(""),await Ki(qt(Be,"invitations",C),{status:"declined",declinedAt:new Date}),await v(),g("Invitation declined")}catch(R){console.error("Error declining invitation:",R),f("Failed to decline invitation")}finally{l(!1)}};return w.useEffect(()=>{v()},[n]),w.useEffect(()=>{if(m||c){const C=setTimeout(()=>{g(""),f("")},3e3);return()=>clearTimeout(C)}},[m,c]),t.length===0&&!a?null:p.jsx("div",{className:"mb-6",children:p.jsxs(_t,{children:[p.jsxs(Ct,{children:[p.jsxs(Rt,{className:"flex items-center",children:[p.jsx(ET,{className:"h-5 w-5 mr-2"}),"Pending Invitations (",t.length,")"]}),p.jsx(On,{children:"You have been invited to join the following ledgers."})]}),p.jsxs(bt,{children:[c&&p.jsx(on,{variant:"destructive",className:"mb-4",children:p.jsx(ln,{children:c})}),m&&p.jsx(on,{className:"mb-4",children:p.jsx(ln,{children:m})}),p.jsx("div",{className:"space-y-4",children:t.map(C=>p.jsx("div",{className:"border rounded-lg p-4",children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[p.jsx(ah,{className:"h-5 w-5 text-blue-600"}),p.jsx("h3",{className:"font-semibold text-lg",children:C.ledgerName}),p.jsx(Dr,{variant:"secondary",children:C.role})]}),p.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(ST,{className:"h-4 w-4"}),p.jsxs("span",{children:["Invited by: ",C.inviterName]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Kg,{className:"h-4 w-4"}),p.jsxs("span",{children:["Invited: ",new Date(C.createdAt.toDate()).toLocaleDateString()]})]}),C.expiresAt&&p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Kg,{className:"h-4 w-4"}),p.jsxs("span",{children:["Expires: ",new Date(C.expiresAt.toDate()).toLocaleDateString()]})]})]})]}),p.jsxs("div",{className:"flex space-x-2 ml-4",children:[p.jsxs(De,{size:"sm",onClick:()=>b(C),disabled:a,className:"bg-green-600 hover:bg-green-700",children:[p.jsx($y,{className:"h-4 w-4 mr-1"}),"Accept"]}),p.jsxs(De,{size:"sm",variant:"destructive",onClick:()=>E(C.id),disabled:a,children:[p.jsx(wl,{className:"h-4 w-4 mr-1"}),"Decline"]})]})]})},C.id))})]})]})})}const Qs=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9","#F8C471","#82E0AA","#F1948A","#85929E","#D7BDE2","#A9DFBF","#F9E79F","#AED6F1","#F5B7B1","#D5A6BD"],Gj=n=>{if(typeof n!="string")return"?";const e=n.trim();if(e.length===0)return"?";const t=e.charAt(0);return/[\u4e00-\u9fff]/.test(t)?t:t.toUpperCase()},$j=(n,e=null)=>{if(e&&Qs.includes(e))return e;if(!n)return Qs[0];let t=0;for(let a=0;a<n.length;a++){const l=n.charCodeAt(a);t=(t<<5)-t+l,t=t&t}const i=Math.abs(t)%Qs.length;return Qs[i]},Yj=n=>{const e=(n==null?void 0:n.displayName)||(n==null?void 0:n.email)||"Unknown",t=Gj(e),i=$j(n==null?void 0:n.uid,n==null?void 0:n.profileColor);return{initial:t,backgroundColor:i,textColor:"#FFFFFF"}},Kj=()=>{const n=Math.floor(Math.random()*Qs.length);return Qs[n]},Qj=n=>Qs.includes(n);function Ol({user:n,size:e="md",className:t="",showTooltip:i=!0}){const a=Yj(n),l={xs:"w-6 h-6 text-xs",sm:"w-8 h-8 text-sm",md:"w-10 h-10 text-base",lg:"w-12 h-12 text-lg",xl:"w-16 h-16 text-xl","2xl":"w-20 h-20 text-2xl"},c=l[e]||l.md,f=(n==null?void 0:n.displayName)||(n==null?void 0:n.email)||"Unknown User";return p.jsx("div",{className:`
        ${c}
        rounded-full
        flex
        items-center
        justify-center
        font-semibold
        select-none
        flex-shrink-0
        ${t}
      `,style:{backgroundColor:a.backgroundColor,color:a.textColor},title:i?f:void 0,children:a.initial})}function Qa({user:n,size:e="md",className:t="",nameClassName:i="",showEmail:a=!1}){var f;const l=(n==null?void 0:n.displayName)||((f=n==null?void 0:n.email)==null?void 0:f.split("@")[0])||"Unknown User",c=n==null?void 0:n.email;return p.jsxs("div",{className:`flex items-center space-x-2 ${t}`,children:[p.jsx(Ol,{user:n,size:e,showTooltip:!1}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:`font-medium ${i}`,children:l}),a&&c&&p.jsx("span",{className:"text-xs text-gray-500",children:c})]})]})}function Wj({users:n=[],size:e="sm",maxDisplay:t=3,className:i=""}){const a=n.slice(0,t),l=n.length-t;return p.jsx("div",{className:`flex items-center ${i}`,children:p.jsxs("div",{className:"flex -space-x-1",children:[a.map((c,f)=>p.jsx("div",{className:"ring-2 ring-white",style:{zIndex:a.length-f},children:p.jsx(Ol,{user:c,size:e})},(c==null?void 0:c.uid)||f)),l>0&&p.jsxs("div",{className:`
              ${e==="xs"?"w-6 h-6 text-xs":e==="sm"?"w-8 h-8 text-xs":"w-10 h-10 text-sm"}
              rounded-full
              bg-gray-300
              text-gray-600
              flex
              items-center
              justify-center
              font-medium
              ring-2
              ring-white
            `,children:["+",l]})]})})}const Xj={CNY:"¥",USD:"$",EUR:"€",GBP:"£",JPY:"¥"};function aA(n){return Xj[n]||"$"}function th(n,e="USD"){return`${aA(e)}${n.toFixed(2)}`}function Zj(n,e="USD",t=!1){const i=aA(e);return`${t?"+":"-"}${i}${Math.abs(n).toFixed(2)}`}function Jj(){var v;const{currentUser:n}=Fn(),{currentLedger:e}=us(),t=Hj(e==null?void 0:e.id),[i,a]=w.useState({totalBalance:0,monthlySpending:0,budgetRemaining:0,recentTransactions:[],memberStats:{},loading:!0}),l=async()=>{if(!e){a(b=>({...b,loading:!1}));return}try{const b=new Date,E=new Date(b.getFullYear(),b.getMonth(),1),C=new Date(b.getFullYear(),b.getMonth()+1,0),R=At(Be,"ledgers",e.id,"transactions"),A=Wn(R,ns("date","desc"),W1(5)),N=await wn(A),V=[];N.forEach(P=>{var q;const j=P.data();V.push({id:P.id,...j,date:((q=j.date)==null?void 0:q.toDate())||new Date})});const U=Wn(R,ns("date","desc")),z=await wn(U);let G=0,$=0;const re={};e.members&&Object.keys(e.members).forEach(P=>{re[P]={monthlyIncome:0,monthlySpending:0,totalIncome:0,totalSpending:0}}),z.forEach(P=>{var Y;const j=P.data(),q=((Y=j.date)==null?void 0:Y.toDate())||new Date,te=j.amount||0,F=j.userId||j.paidBy||(n==null?void 0:n.uid),W=q>=E&&q<=C;F&&!re[F]&&(re[F]={monthlyIncome:0,monthlySpending:0,totalIncome:0,totalSpending:0}),j.type==="income"?(G+=te,F&&re[F]&&(re[F].totalIncome+=te,W&&(re[F].monthlyIncome+=te))):(G-=te,F&&re[F]&&(re[F].totalSpending+=te,W&&(re[F].monthlySpending+=te,$+=te)))});const k=At(Be,"ledgers",e.id,"budgets"),S=Wn(k,ai("startDate","<=",xt.fromDate(b)),ai("endDate",">=",xt.fromDate(b))),M=await wn(S);let L=0;M.forEach(P=>{const j=P.data();L+=j.totalAmount||0});const D=L-$;a({totalBalance:G,monthlySpending:$,budgetRemaining:D,recentTransactions:V,memberStats:re,loading:!1})}catch(b){console.error("Error calculating dashboard stats:",b),a(E=>({...E,loading:!1}))}};w.useEffect(()=>{l()},[e,t]);const c=b=>th(b,e==null?void 0:e.currency),f=b=>{const C=Math.abs(new Date-b),R=Math.ceil(C/(1e3*60*60*24));return R===1?"Today":R===2?"Yesterday":R<=7?`${R-1} days ago`:b.toLocaleDateString()},m=b=>b===(n==null?void 0:n.uid)?{uid:b,displayName:n.displayName||n.email,email:n.email}:{uid:b,displayName:`User ${b.slice(0,8)}`,email:`${b.slice(0,8)}@example.com`},g=()=>!i.memberStats||!(e!=null&&e.members)?[]:Object.keys(e.members).map(b=>({...m(b),stats:i.memberStats[b]||{monthlyIncome:0,monthlySpending:0,totalIncome:0,totalSpending:0}}));return i.loading?p.jsx("div",{className:"p-6",children:p.jsxs("div",{className:"animate-pulse space-y-6",children:[p.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(b=>p.jsx("div",{className:"h-32 bg-gray-200 rounded"},b))}),p.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsx(qj,{}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),p.jsxs(Dr,{variant:"secondary",className:"text-sm",children:["Welcome back, ",(n==null?void 0:n.displayName)||((v=n==null?void 0:n.email)==null?void 0:v.split("@")[0])||"User","!"]})]}),e&&p.jsxs("div",{className:"text-sm text-gray-600",children:["Current Ledger: ",p.jsx("span",{className:"font-medium",children:e.name})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs(_t,{children:[p.jsxs(Ct,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[p.jsx(Rt,{className:"text-sm font-medium",children:"Total Balance"}),p.jsx(_l,{className:"h-4 w-4 text-muted-foreground"})]}),p.jsxs(bt,{children:[p.jsx("div",{className:`text-2xl font-bold ${i.totalBalance>=0?"text-green-600":"text-red-600"}`,children:c(i.totalBalance)}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"All time balance"})]})]}),p.jsxs(_t,{children:[p.jsxs(Ct,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[p.jsx(Rt,{className:"text-sm font-medium",children:"Monthly Spending"}),p.jsx(y3,{className:"h-4 w-4 text-muted-foreground"})]}),p.jsxs(bt,{children:[p.jsx("div",{className:"text-2xl font-bold text-red-600",children:c(i.monthlySpending)}),p.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"This month's expenses"}),g().length>1&&p.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[p.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Member Breakdown:"}),g().map(b=>p.jsxs("div",{className:"flex items-center justify-between text-xs",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Ol,{user:b,size:"xs"}),p.jsx("span",{className:"text-gray-600",children:b.displayName===(n==null?void 0:n.displayName)?"You":b.displayName})]}),p.jsxs("div",{className:"flex space-x-3 text-right",children:[p.jsxs("span",{className:"text-green-600",children:["+",c(b.stats.monthlyIncome)]}),p.jsxs("span",{className:"text-red-600",children:["-",c(b.stats.monthlySpending)]})]})]},b.uid))]})]})]}),p.jsxs(_t,{children:[p.jsxs(Ct,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[p.jsx(Rt,{className:"text-sm font-medium",children:"Budget Remaining"}),p.jsx(kN,{className:"h-4 w-4 text-muted-foreground"})]}),p.jsxs(bt,{children:[p.jsx("div",{className:`text-2xl font-bold ${i.budgetRemaining>=0?"text-green-600":"text-red-600"}`,children:c(i.budgetRemaining)}),p.jsx("p",{className:"text-xs text-muted-foreground",children:i.budgetRemaining>=0?"Remaining this month":"Over budget"})]})]})]}),p.jsxs(_t,{children:[p.jsxs(Ct,{children:[p.jsx(Rt,{children:"Recent Transactions"}),p.jsx(On,{children:"Your latest financial activity"})]}),p.jsx(bt,{children:i.recentTransactions.length===0?p.jsxs("div",{className:"text-center py-8 text-gray-500",children:[p.jsx(_l,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),p.jsx("p",{children:"No transactions yet"}),p.jsx("p",{className:"text-sm",children:"Add your first transaction to get started"})]}):p.jsx("div",{className:"space-y-4",children:i.recentTransactions.map(b=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[p.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[p.jsx(Ol,{user:{uid:b.userId||(n==null?void 0:n.uid),displayName:b.userName||(n==null?void 0:n.displayName),email:b.userEmail||(n==null?void 0:n.email)},size:"sm"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"font-medium text-gray-900",children:b.description}),p.jsxs("p",{className:"text-sm text-gray-500",children:[b.paymentMethod," • ",f(b.date)]})]})]}),p.jsxs("div",{className:`font-semibold ${b.type==="income"?"text-green-600":"text-red-600"}`,children:[b.type==="income"?"+":"-",c(b.amount)]})]},b.id))})})]})]})}function _w(n,[e,t]){return Math.min(t,Math.max(e,n))}function Vt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(a){if(n==null||n(a),t===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function ed(n,e=[]){let t=[];function i(l,c){const f=w.createContext(c),m=t.length;t=[...t,c];const g=b=>{var V;const{scope:E,children:C,...R}=b,A=((V=E==null?void 0:E[n])==null?void 0:V[m])||f,N=w.useMemo(()=>R,Object.values(R));return p.jsx(A.Provider,{value:N,children:C})};g.displayName=l+"Provider";function v(b,E){var A;const C=((A=E==null?void 0:E[n])==null?void 0:A[m])||f,R=w.useContext(C);if(R)return R;if(c!==void 0)return c;throw new Error(`\`${b}\` must be used within \`${l}\``)}return[g,v]}const a=()=>{const l=t.map(c=>w.createContext(c));return function(f){const m=(f==null?void 0:f[n])||l;return w.useMemo(()=>({[`__scope${n}`]:{...f,[n]:m}}),[f,m])}};return a.scopeName=n,[i,eP(a,...e)]}function eP(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const c=i.reduce((f,{useScope:m,scopeName:g})=>{const b=m(l)[`__scope${g}`];return{...f,...b}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}function tP(n){const e=n+"CollectionProvider",[t,i]=ed(e),[a,l]=t(e,{collectionRef:{current:null},itemMap:new Map}),c=A=>{const{scope:N,children:V}=A,U=Fs.useRef(null),z=Fs.useRef(new Map).current;return p.jsx(a,{scope:N,itemMap:z,collectionRef:U,children:V})};c.displayName=e;const f=n+"CollectionSlot",m=xc(f),g=Fs.forwardRef((A,N)=>{const{scope:V,children:U}=A,z=l(f,V),G=Gt(N,z.collectionRef);return p.jsx(m,{ref:G,children:U})});g.displayName=f;const v=n+"CollectionItemSlot",b="data-radix-collection-item",E=xc(v),C=Fs.forwardRef((A,N)=>{const{scope:V,children:U,...z}=A,G=Fs.useRef(null),$=Gt(N,G),re=l(v,V);return Fs.useEffect(()=>(re.itemMap.set(G,{ref:G,...z}),()=>void re.itemMap.delete(G))),p.jsx(E,{[b]:"",ref:$,children:U})});C.displayName=v;function R(A){const N=l(n+"CollectionConsumer",A);return Fs.useCallback(()=>{const U=N.collectionRef.current;if(!U)return[];const z=Array.from(U.querySelectorAll(`[${b}]`));return Array.from(N.itemMap.values()).sort((re,k)=>z.indexOf(re.ref.current)-z.indexOf(k.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:c,Slot:g,ItemSlot:C},R,i]}var nP=w.createContext(void 0);function rP(n){const e=w.useContext(nP);return n||e||"ltr"}function io(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n}),w.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function iP(n,e=globalThis==null?void 0:globalThis.document){const t=io(n);w.useEffect(()=>{const i=a=>{a.key==="Escape"&&t(a)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var sP="DismissableLayer",Ty="dismissableLayer.update",aP="dismissableLayer.pointerDownOutside",oP="dismissableLayer.focusOutside",bw,oA=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lA=w.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:c,onDismiss:f,...m}=n,g=w.useContext(oA),[v,b]=w.useState(null),E=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=w.useState({}),R=Gt(e,k=>b(k)),A=Array.from(g.layers),[N]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),V=A.indexOf(N),U=v?A.indexOf(v):-1,z=g.layersWithOutsidePointerEventsDisabled.size>0,G=U>=V,$=cP(k=>{const S=k.target,M=[...g.branches].some(L=>L.contains(S));!G||M||(a==null||a(k),c==null||c(k),k.defaultPrevented||f==null||f())},E),re=dP(k=>{const S=k.target;[...g.branches].some(L=>L.contains(S))||(l==null||l(k),c==null||c(k),k.defaultPrevented||f==null||f())},E);return iP(k=>{U===g.layers.size-1&&(i==null||i(k),!k.defaultPrevented&&f&&(k.preventDefault(),f()))},E),w.useEffect(()=>{if(v)return t&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(bw=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(v)),g.layers.add(v),Ew(),()=>{t&&g.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=bw)}},[v,E,t,g]),w.useEffect(()=>()=>{v&&(g.layers.delete(v),g.layersWithOutsidePointerEventsDisabled.delete(v),Ew())},[v,g]),w.useEffect(()=>{const k=()=>C({});return document.addEventListener(Ty,k),()=>document.removeEventListener(Ty,k)},[]),p.jsx(wt.div,{...m,ref:R,style:{pointerEvents:z?G?"auto":"none":void 0,...n.style},onFocusCapture:Vt(n.onFocusCapture,re.onFocusCapture),onBlurCapture:Vt(n.onBlurCapture,re.onBlurCapture),onPointerDownCapture:Vt(n.onPointerDownCapture,$.onPointerDownCapture)})});lA.displayName=sP;var lP="DismissableLayerBranch",uP=w.forwardRef((n,e)=>{const t=w.useContext(oA),i=w.useRef(null),a=Gt(e,i);return w.useEffect(()=>{const l=i.current;if(l)return t.branches.add(l),()=>{t.branches.delete(l)}},[t.branches]),p.jsx(wt.div,{...n,ref:a})});uP.displayName=lP;function cP(n,e=globalThis==null?void 0:globalThis.document){const t=io(n),i=w.useRef(!1),a=w.useRef(()=>{});return w.useEffect(()=>{const l=f=>{if(f.target&&!i.current){let m=function(){uA(aP,t,g,{discrete:!0})};const g={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=m,e.addEventListener("click",a.current,{once:!0})):m()}else e.removeEventListener("click",a.current);i.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",a.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function dP(n,e=globalThis==null?void 0:globalThis.document){const t=io(n),i=w.useRef(!1);return w.useEffect(()=>{const a=l=>{l.target&&!i.current&&uA(oP,t,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Ew(){const n=new CustomEvent(Ty);document.dispatchEvent(n)}function uA(n,e,t,{discrete:i}){const a=t.originalEvent.target,l=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&a.addEventListener(n,e,{once:!0}),i?Vj(a,l):a.dispatchEvent(l)}var Og=0;function fP(){w.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??xw()),document.body.insertAdjacentElement("beforeend",n[1]??xw()),Og++,()=>{Og===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Og--}},[])}function xw(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Mg="focusScope.autoFocusOnMount",jg="focusScope.autoFocusOnUnmount",ww={bubbles:!1,cancelable:!0},hP="FocusScope",cA=w.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...c}=n,[f,m]=w.useState(null),g=io(a),v=io(l),b=w.useRef(null),E=Gt(e,A=>m(A)),C=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(i){let A=function(z){if(C.paused||!f)return;const G=z.target;f.contains(G)?b.current=G:Hs(b.current,{select:!0})},N=function(z){if(C.paused||!f)return;const G=z.relatedTarget;G!==null&&(f.contains(G)||Hs(b.current,{select:!0}))},V=function(z){if(document.activeElement===document.body)for(const $ of z)$.removedNodes.length>0&&Hs(f)};document.addEventListener("focusin",A),document.addEventListener("focusout",N);const U=new MutationObserver(V);return f&&U.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",N),U.disconnect()}}},[i,f,C.paused]),w.useEffect(()=>{if(f){Sw.add(C);const A=document.activeElement;if(!f.contains(A)){const V=new CustomEvent(Mg,ww);f.addEventListener(Mg,g),f.dispatchEvent(V),V.defaultPrevented||(mP(_P(dA(f)),{select:!0}),document.activeElement===A&&Hs(f))}return()=>{f.removeEventListener(Mg,g),setTimeout(()=>{const V=new CustomEvent(jg,ww);f.addEventListener(jg,v),f.dispatchEvent(V),V.defaultPrevented||Hs(A??document.body,{select:!0}),f.removeEventListener(jg,v),Sw.remove(C)},0)}}},[f,g,v,C]);const R=w.useCallback(A=>{if(!t&&!i||C.paused)return;const N=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,V=document.activeElement;if(N&&V){const U=A.currentTarget,[z,G]=pP(U);z&&G?!A.shiftKey&&V===G?(A.preventDefault(),t&&Hs(z,{select:!0})):A.shiftKey&&V===z&&(A.preventDefault(),t&&Hs(G,{select:!0})):V===U&&A.preventDefault()}},[t,i,C.paused]);return p.jsx(wt.div,{tabIndex:-1,...c,ref:E,onKeyDown:R})});cA.displayName=hP;function mP(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(Hs(i,{select:e}),document.activeElement!==t)return}function pP(n){const e=dA(n),t=Tw(e,n),i=Tw(e.reverse(),n);return[t,i]}function dA(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const a=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||a?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Tw(n,e){for(const t of n)if(!gP(t,{upTo:e}))return t}function gP(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function yP(n){return n instanceof HTMLInputElement&&"select"in n}function Hs(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&yP(n)&&e&&n.select()}}var Sw=vP();function vP(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=Aw(n,e),n.unshift(e)},remove(e){var t;n=Aw(n,e),(t=n[0])==null||t.resume()}}}function Aw(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function _P(n){return n.filter(e=>e.tagName!=="A")}var jn=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},bP=Hw[" useId ".trim().toString()]||(()=>{}),EP=0;function $v(n){const[e,t]=w.useState(bP());return jn(()=>{t(i=>i??String(EP++))},[n]),n||(e?`radix-${e}`:"")}const xP=["top","right","bottom","left"],la=Math.min,ar=Math.max,Rh=Math.round,Pf=Math.floor,oi=n=>({x:n,y:n}),wP={left:"right",right:"left",bottom:"top",top:"bottom"},TP={start:"end",end:"start"};function Sy(n,e,t){return ar(n,la(e,t))}function rs(n,e){return typeof n=="function"?n(e):n}function is(n){return n.split("-")[0]}function Kl(n){return n.split("-")[1]}function Yv(n){return n==="x"?"y":"x"}function Kv(n){return n==="y"?"height":"width"}function Wi(n){return["top","bottom"].includes(is(n))?"y":"x"}function Qv(n){return Yv(Wi(n))}function SP(n,e,t){t===void 0&&(t=!1);const i=Kl(n),a=Qv(n),l=Kv(a);let c=a==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=Ih(c)),[c,Ih(c)]}function AP(n){const e=Ih(n);return[Ay(n),e,Ay(e)]}function Ay(n){return n.replace(/start|end/g,e=>TP[e])}function CP(n,e,t){const i=["left","right"],a=["right","left"],l=["top","bottom"],c=["bottom","top"];switch(n){case"top":case"bottom":return t?e?a:i:e?i:a;case"left":case"right":return e?l:c;default:return[]}}function RP(n,e,t,i){const a=Kl(n);let l=CP(is(n),t==="start",i);return a&&(l=l.map(c=>c+"-"+a),e&&(l=l.concat(l.map(Ay)))),l}function Ih(n){return n.replace(/left|right|bottom|top/g,e=>wP[e])}function IP(n){return{top:0,right:0,bottom:0,left:0,...n}}function fA(n){return typeof n!="number"?IP(n):{top:n,right:n,bottom:n,left:n}}function Nh(n){const{x:e,y:t,width:i,height:a}=n;return{width:i,height:a,top:t,left:e,right:e+i,bottom:t+a,x:e,y:t}}function Cw(n,e,t){let{reference:i,floating:a}=n;const l=Wi(e),c=Qv(e),f=Kv(c),m=is(e),g=l==="y",v=i.x+i.width/2-a.width/2,b=i.y+i.height/2-a.height/2,E=i[f]/2-a[f]/2;let C;switch(m){case"top":C={x:v,y:i.y-a.height};break;case"bottom":C={x:v,y:i.y+i.height};break;case"right":C={x:i.x+i.width,y:b};break;case"left":C={x:i.x-a.width,y:b};break;default:C={x:i.x,y:i.y}}switch(Kl(e)){case"start":C[c]-=E*(t&&g?-1:1);break;case"end":C[c]+=E*(t&&g?-1:1);break}return C}const NP=async(n,e,t)=>{const{placement:i="bottom",strategy:a="absolute",middleware:l=[],platform:c}=t,f=l.filter(Boolean),m=await(c.isRTL==null?void 0:c.isRTL(e));let g=await c.getElementRects({reference:n,floating:e,strategy:a}),{x:v,y:b}=Cw(g,i,m),E=i,C={},R=0;for(let A=0;A<f.length;A++){const{name:N,fn:V}=f[A],{x:U,y:z,data:G,reset:$}=await V({x:v,y:b,initialPlacement:i,placement:E,strategy:a,middlewareData:C,rects:g,platform:c,elements:{reference:n,floating:e}});v=U??v,b=z??b,C={...C,[N]:{...C[N],...G}},$&&R<=50&&(R++,typeof $=="object"&&($.placement&&(E=$.placement),$.rects&&(g=$.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:a}):$.rects),{x:v,y:b}=Cw(g,E,m)),A=-1)}return{x:v,y:b,placement:E,strategy:a,middlewareData:C}};async function kc(n,e){var t;e===void 0&&(e={});const{x:i,y:a,platform:l,rects:c,elements:f,strategy:m}=n,{boundary:g="clippingAncestors",rootBoundary:v="viewport",elementContext:b="floating",altBoundary:E=!1,padding:C=0}=rs(e,n),R=fA(C),N=f[E?b==="floating"?"reference":"floating":b],V=Nh(await l.getClippingRect({element:(t=await(l.isElement==null?void 0:l.isElement(N)))==null||t?N:N.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:g,rootBoundary:v,strategy:m})),U=b==="floating"?{x:i,y:a,width:c.floating.width,height:c.floating.height}:c.reference,z=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),G=await(l.isElement==null?void 0:l.isElement(z))?await(l.getScale==null?void 0:l.getScale(z))||{x:1,y:1}:{x:1,y:1},$=Nh(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:U,offsetParent:z,strategy:m}):U);return{top:(V.top-$.top+R.top)/G.y,bottom:($.bottom-V.bottom+R.bottom)/G.y,left:(V.left-$.left+R.left)/G.x,right:($.right-V.right+R.right)/G.x}}const DP=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:a,rects:l,platform:c,elements:f,middlewareData:m}=e,{element:g,padding:v=0}=rs(n,e)||{};if(g==null)return{};const b=fA(v),E={x:t,y:i},C=Qv(a),R=Kv(C),A=await c.getDimensions(g),N=C==="y",V=N?"top":"left",U=N?"bottom":"right",z=N?"clientHeight":"clientWidth",G=l.reference[R]+l.reference[C]-E[C]-l.floating[R],$=E[C]-l.reference[C],re=await(c.getOffsetParent==null?void 0:c.getOffsetParent(g));let k=re?re[z]:0;(!k||!await(c.isElement==null?void 0:c.isElement(re)))&&(k=f.floating[z]||l.floating[R]);const S=G/2-$/2,M=k/2-A[R]/2-1,L=la(b[V],M),D=la(b[U],M),P=L,j=k-A[R]-D,q=k/2-A[R]/2+S,te=Sy(P,q,j),F=!m.arrow&&Kl(a)!=null&&q!==te&&l.reference[R]/2-(q<P?L:D)-A[R]/2<0,W=F?q<P?q-P:q-j:0;return{[C]:E[C]+W,data:{[C]:te,centerOffset:q-te-W,...F&&{alignmentOffset:W}},reset:F}}}),kP=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:a,middlewareData:l,rects:c,initialPlacement:f,platform:m,elements:g}=e,{mainAxis:v=!0,crossAxis:b=!0,fallbackPlacements:E,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:A=!0,...N}=rs(n,e);if((t=l.arrow)!=null&&t.alignmentOffset)return{};const V=is(a),U=Wi(f),z=is(f)===f,G=await(m.isRTL==null?void 0:m.isRTL(g.floating)),$=E||(z||!A?[Ih(f)]:AP(f)),re=R!=="none";!E&&re&&$.push(...RP(f,A,R,G));const k=[f,...$],S=await kc(e,N),M=[];let L=((i=l.flip)==null?void 0:i.overflows)||[];if(v&&M.push(S[V]),b){const te=SP(a,c,G);M.push(S[te[0]],S[te[1]])}if(L=[...L,{placement:a,overflows:M}],!M.every(te=>te<=0)){var D,P;const te=(((D=l.flip)==null?void 0:D.index)||0)+1,F=k[te];if(F){var j;const Y=b==="alignment"?U!==Wi(F):!1,pe=((j=L[0])==null?void 0:j.overflows[0])>0;if(!Y||pe)return{data:{index:te,overflows:L},reset:{placement:F}}}let W=(P=L.filter(Y=>Y.overflows[0]<=0).sort((Y,pe)=>Y.overflows[1]-pe.overflows[1])[0])==null?void 0:P.placement;if(!W)switch(C){case"bestFit":{var q;const Y=(q=L.filter(pe=>{if(re){const B=Wi(pe.placement);return B===U||B==="y"}return!0}).map(pe=>[pe.placement,pe.overflows.filter(B=>B>0).reduce((B,J)=>B+J,0)]).sort((pe,B)=>pe[1]-B[1])[0])==null?void 0:q[0];Y&&(W=Y);break}case"initialPlacement":W=f;break}if(a!==W)return{reset:{placement:W}}}return{}}}};function Rw(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Iw(n){return xP.some(e=>n[e]>=0)}const OP=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...a}=rs(n,e);switch(i){case"referenceHidden":{const l=await kc(e,{...a,elementContext:"reference"}),c=Rw(l,t.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Iw(c)}}}case"escaped":{const l=await kc(e,{...a,altBoundary:!0}),c=Rw(l,t.floating);return{data:{escapedOffsets:c,escaped:Iw(c)}}}default:return{}}}}};async function MP(n,e){const{placement:t,platform:i,elements:a}=n,l=await(i.isRTL==null?void 0:i.isRTL(a.floating)),c=is(t),f=Kl(t),m=Wi(t)==="y",g=["left","top"].includes(c)?-1:1,v=l&&m?-1:1,b=rs(e,n);let{mainAxis:E,crossAxis:C,alignmentAxis:R}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return f&&typeof R=="number"&&(C=f==="end"?R*-1:R),m?{x:C*v,y:E*g}:{x:E*g,y:C*v}}const jP=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:a,y:l,placement:c,middlewareData:f}=e,m=await MP(e,n);return c===((t=f.offset)==null?void 0:t.placement)&&(i=f.arrow)!=null&&i.alignmentOffset?{}:{x:a+m.x,y:l+m.y,data:{...m,placement:c}}}}},PP=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:a}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:f={fn:N=>{let{x:V,y:U}=N;return{x:V,y:U}}},...m}=rs(n,e),g={x:t,y:i},v=await kc(e,m),b=Wi(is(a)),E=Yv(b);let C=g[E],R=g[b];if(l){const N=E==="y"?"top":"left",V=E==="y"?"bottom":"right",U=C+v[N],z=C-v[V];C=Sy(U,C,z)}if(c){const N=b==="y"?"top":"left",V=b==="y"?"bottom":"right",U=R+v[N],z=R-v[V];R=Sy(U,R,z)}const A=f.fn({...e,[E]:C,[b]:R});return{...A,data:{x:A.x-t,y:A.y-i,enabled:{[E]:l,[b]:c}}}}}},VP=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:a,rects:l,middlewareData:c}=e,{offset:f=0,mainAxis:m=!0,crossAxis:g=!0}=rs(n,e),v={x:t,y:i},b=Wi(a),E=Yv(b);let C=v[E],R=v[b];const A=rs(f,e),N=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(m){const z=E==="y"?"height":"width",G=l.reference[E]-l.floating[z]+N.mainAxis,$=l.reference[E]+l.reference[z]-N.mainAxis;C<G?C=G:C>$&&(C=$)}if(g){var V,U;const z=E==="y"?"width":"height",G=["top","left"].includes(is(a)),$=l.reference[b]-l.floating[z]+(G&&((V=c.offset)==null?void 0:V[b])||0)+(G?0:N.crossAxis),re=l.reference[b]+l.reference[z]+(G?0:((U=c.offset)==null?void 0:U[b])||0)-(G?N.crossAxis:0);R<$?R=$:R>re&&(R=re)}return{[E]:C,[b]:R}}}},LP=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:a,rects:l,platform:c,elements:f}=e,{apply:m=()=>{},...g}=rs(n,e),v=await kc(e,g),b=is(a),E=Kl(a),C=Wi(a)==="y",{width:R,height:A}=l.floating;let N,V;b==="top"||b==="bottom"?(N=b,V=E===(await(c.isRTL==null?void 0:c.isRTL(f.floating))?"start":"end")?"left":"right"):(V=b,N=E==="end"?"top":"bottom");const U=A-v.top-v.bottom,z=R-v.left-v.right,G=la(A-v[N],U),$=la(R-v[V],z),re=!e.middlewareData.shift;let k=G,S=$;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(S=z),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(k=U),re&&!E){const L=ar(v.left,0),D=ar(v.right,0),P=ar(v.top,0),j=ar(v.bottom,0);C?S=R-2*(L!==0||D!==0?L+D:ar(v.left,v.right)):k=A-2*(P!==0||j!==0?P+j:ar(v.top,v.bottom))}await m({...e,availableWidth:S,availableHeight:k});const M=await c.getDimensions(f.floating);return R!==M.width||A!==M.height?{reset:{rects:!0}}:{}}}};function sm(){return typeof window<"u"}function Ql(n){return hA(n)?(n.nodeName||"").toLowerCase():"#document"}function lr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function fi(n){var e;return(e=(hA(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function hA(n){return sm()?n instanceof Node||n instanceof lr(n).Node:!1}function jr(n){return sm()?n instanceof Element||n instanceof lr(n).Element:!1}function ci(n){return sm()?n instanceof HTMLElement||n instanceof lr(n).HTMLElement:!1}function Nw(n){return!sm()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof lr(n).ShadowRoot}function td(n){const{overflow:e,overflowX:t,overflowY:i,display:a}=Pr(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(a)}function UP(n){return["table","td","th"].includes(Ql(n))}function am(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Wv(n){const e=Xv(),t=jr(n)?Pr(n):n;return["transform","translate","scale","rotate","perspective"].some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function BP(n){let e=ua(n);for(;ci(e)&&!Ml(e);){if(Wv(e))return e;if(am(e))return null;e=ua(e)}return null}function Xv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ml(n){return["html","body","#document"].includes(Ql(n))}function Pr(n){return lr(n).getComputedStyle(n)}function om(n){return jr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ua(n){if(Ql(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Nw(n)&&n.host||fi(n);return Nw(e)?e.host:e}function mA(n){const e=ua(n);return Ml(e)?n.ownerDocument?n.ownerDocument.body:n.body:ci(e)&&td(e)?e:mA(e)}function Oc(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=mA(n),l=a===((i=n.ownerDocument)==null?void 0:i.body),c=lr(a);if(l){const f=Cy(c);return e.concat(c,c.visualViewport||[],td(a)?a:[],f&&t?Oc(f):[])}return e.concat(a,Oc(a,[],t))}function Cy(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function pA(n){const e=Pr(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const a=ci(n),l=a?n.offsetWidth:t,c=a?n.offsetHeight:i,f=Rh(t)!==l||Rh(i)!==c;return f&&(t=l,i=c),{width:t,height:i,$:f}}function Zv(n){return jr(n)?n:n.contextElement}function gl(n){const e=Zv(n);if(!ci(e))return oi(1);const t=e.getBoundingClientRect(),{width:i,height:a,$:l}=pA(e);let c=(l?Rh(t.width):t.width)/i,f=(l?Rh(t.height):t.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!f||!Number.isFinite(f))&&(f=1),{x:c,y:f}}const zP=oi(0);function gA(n){const e=lr(n);return!Xv()||!e.visualViewport?zP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function FP(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==lr(n)?!1:e}function so(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),l=Zv(n);let c=oi(1);e&&(i?jr(i)&&(c=gl(i)):c=gl(n));const f=FP(l,t,i)?gA(l):oi(0);let m=(a.left+f.x)/c.x,g=(a.top+f.y)/c.y,v=a.width/c.x,b=a.height/c.y;if(l){const E=lr(l),C=i&&jr(i)?lr(i):i;let R=E,A=Cy(R);for(;A&&i&&C!==R;){const N=gl(A),V=A.getBoundingClientRect(),U=Pr(A),z=V.left+(A.clientLeft+parseFloat(U.paddingLeft))*N.x,G=V.top+(A.clientTop+parseFloat(U.paddingTop))*N.y;m*=N.x,g*=N.y,v*=N.x,b*=N.y,m+=z,g+=G,R=lr(A),A=Cy(R)}}return Nh({width:v,height:b,x:m,y:g})}function Jv(n,e){const t=om(n).scrollLeft;return e?e.left+t:so(fi(n)).left+t}function yA(n,e,t){t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=i.left+e.scrollLeft-(t?0:Jv(n,i)),l=i.top+e.scrollTop;return{x:a,y:l}}function HP(n){let{elements:e,rect:t,offsetParent:i,strategy:a}=n;const l=a==="fixed",c=fi(i),f=e?am(e.floating):!1;if(i===c||f&&l)return t;let m={scrollLeft:0,scrollTop:0},g=oi(1);const v=oi(0),b=ci(i);if((b||!b&&!l)&&((Ql(i)!=="body"||td(c))&&(m=om(i)),ci(i))){const C=so(i);g=gl(i),v.x=C.x+i.clientLeft,v.y=C.y+i.clientTop}const E=c&&!b&&!l?yA(c,m,!0):oi(0);return{width:t.width*g.x,height:t.height*g.y,x:t.x*g.x-m.scrollLeft*g.x+v.x+E.x,y:t.y*g.y-m.scrollTop*g.y+v.y+E.y}}function qP(n){return Array.from(n.getClientRects())}function GP(n){const e=fi(n),t=om(n),i=n.ownerDocument.body,a=ar(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),l=ar(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let c=-t.scrollLeft+Jv(n);const f=-t.scrollTop;return Pr(i).direction==="rtl"&&(c+=ar(e.clientWidth,i.clientWidth)-a),{width:a,height:l,x:c,y:f}}function $P(n,e){const t=lr(n),i=fi(n),a=t.visualViewport;let l=i.clientWidth,c=i.clientHeight,f=0,m=0;if(a){l=a.width,c=a.height;const g=Xv();(!g||g&&e==="fixed")&&(f=a.offsetLeft,m=a.offsetTop)}return{width:l,height:c,x:f,y:m}}function YP(n,e){const t=so(n,!0,e==="fixed"),i=t.top+n.clientTop,a=t.left+n.clientLeft,l=ci(n)?gl(n):oi(1),c=n.clientWidth*l.x,f=n.clientHeight*l.y,m=a*l.x,g=i*l.y;return{width:c,height:f,x:m,y:g}}function Dw(n,e,t){let i;if(e==="viewport")i=$P(n,t);else if(e==="document")i=GP(fi(n));else if(jr(e))i=YP(e,t);else{const a=gA(n);i={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Nh(i)}function vA(n,e){const t=ua(n);return t===e||!jr(t)||Ml(t)?!1:Pr(t).position==="fixed"||vA(t,e)}function KP(n,e){const t=e.get(n);if(t)return t;let i=Oc(n,[],!1).filter(f=>jr(f)&&Ql(f)!=="body"),a=null;const l=Pr(n).position==="fixed";let c=l?ua(n):n;for(;jr(c)&&!Ml(c);){const f=Pr(c),m=Wv(c);!m&&f.position==="fixed"&&(a=null),(l?!m&&!a:!m&&f.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||td(c)&&!m&&vA(n,c))?i=i.filter(v=>v!==c):a=f,c=ua(c)}return e.set(n,i),i}function QP(n){let{element:e,boundary:t,rootBoundary:i,strategy:a}=n;const c=[...t==="clippingAncestors"?am(e)?[]:KP(e,this._c):[].concat(t),i],f=c[0],m=c.reduce((g,v)=>{const b=Dw(e,v,a);return g.top=ar(b.top,g.top),g.right=la(b.right,g.right),g.bottom=la(b.bottom,g.bottom),g.left=ar(b.left,g.left),g},Dw(e,f,a));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function WP(n){const{width:e,height:t}=pA(n);return{width:e,height:t}}function XP(n,e,t){const i=ci(e),a=fi(e),l=t==="fixed",c=so(n,!0,l,e);let f={scrollLeft:0,scrollTop:0};const m=oi(0);function g(){m.x=Jv(a)}if(i||!i&&!l)if((Ql(e)!=="body"||td(a))&&(f=om(e)),i){const C=so(e,!0,l,e);m.x=C.x+e.clientLeft,m.y=C.y+e.clientTop}else a&&g();l&&!i&&a&&g();const v=a&&!i&&!l?yA(a,f):oi(0),b=c.left+f.scrollLeft-m.x-v.x,E=c.top+f.scrollTop-m.y-v.y;return{x:b,y:E,width:c.width,height:c.height}}function Pg(n){return Pr(n).position==="static"}function kw(n,e){if(!ci(n)||Pr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return fi(n)===t&&(t=t.ownerDocument.body),t}function _A(n,e){const t=lr(n);if(am(n))return t;if(!ci(n)){let a=ua(n);for(;a&&!Ml(a);){if(jr(a)&&!Pg(a))return a;a=ua(a)}return t}let i=kw(n,e);for(;i&&UP(i)&&Pg(i);)i=kw(i,e);return i&&Ml(i)&&Pg(i)&&!Wv(i)?t:i||BP(n)||t}const ZP=async function(n){const e=this.getOffsetParent||_A,t=this.getDimensions,i=await t(n.floating);return{reference:XP(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function JP(n){return Pr(n).direction==="rtl"}const e8={convertOffsetParentRelativeRectToViewportRelativeRect:HP,getDocumentElement:fi,getClippingRect:QP,getOffsetParent:_A,getElementRects:ZP,getClientRects:qP,getDimensions:WP,getScale:gl,isElement:jr,isRTL:JP};function bA(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function t8(n,e){let t=null,i;const a=fi(n);function l(){var f;clearTimeout(i),(f=t)==null||f.disconnect(),t=null}function c(f,m){f===void 0&&(f=!1),m===void 0&&(m=1),l();const g=n.getBoundingClientRect(),{left:v,top:b,width:E,height:C}=g;if(f||e(),!E||!C)return;const R=Pf(b),A=Pf(a.clientWidth-(v+E)),N=Pf(a.clientHeight-(b+C)),V=Pf(v),z={rootMargin:-R+"px "+-A+"px "+-N+"px "+-V+"px",threshold:ar(0,la(1,m))||1};let G=!0;function $(re){const k=re[0].intersectionRatio;if(k!==m){if(!G)return c();k?c(!1,k):i=setTimeout(()=>{c(!1,1e-7)},1e3)}k===1&&!bA(g,n.getBoundingClientRect())&&c(),G=!1}try{t=new IntersectionObserver($,{...z,root:a.ownerDocument})}catch{t=new IntersectionObserver($,z)}t.observe(n)}return c(!0),l}function n8(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:m=!1}=i,g=Zv(n),v=a||l?[...g?Oc(g):[],...Oc(e)]:[];v.forEach(V=>{a&&V.addEventListener("scroll",t,{passive:!0}),l&&V.addEventListener("resize",t)});const b=g&&f?t8(g,t):null;let E=-1,C=null;c&&(C=new ResizeObserver(V=>{let[U]=V;U&&U.target===g&&C&&(C.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var z;(z=C)==null||z.observe(e)})),t()}),g&&!m&&C.observe(g),C.observe(e));let R,A=m?so(n):null;m&&N();function N(){const V=so(n);A&&!bA(A,V)&&t(),A=V,R=requestAnimationFrame(N)}return t(),()=>{var V;v.forEach(U=>{a&&U.removeEventListener("scroll",t),l&&U.removeEventListener("resize",t)}),b==null||b(),(V=C)==null||V.disconnect(),C=null,m&&cancelAnimationFrame(R)}}const r8=jP,i8=PP,s8=kP,a8=LP,o8=OP,Ow=DP,l8=VP,u8=(n,e,t)=>{const i=new Map,a={platform:e8,...t},l={...a.platform,_c:i};return NP(n,e,{...a,platform:l})};var nh=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Dh(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!Dh(n[i],e[i]))return!1;return!0}if(a=Object.keys(n),t=a.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,a[i]))return!1;for(i=t;i--!==0;){const l=a[i];if(!(l==="_owner"&&n.$$typeof)&&!Dh(n[l],e[l]))return!1}return!0}return n!==n&&e!==e}function EA(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Mw(n,e){const t=EA(n);return Math.round(e*t)/t}function Vg(n){const e=w.useRef(n);return nh(()=>{e.current=n}),e}function c8(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:a,elements:{reference:l,floating:c}={},transform:f=!0,whileElementsMounted:m,open:g}=n,[v,b]=w.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[E,C]=w.useState(i);Dh(E,i)||C(i);const[R,A]=w.useState(null),[N,V]=w.useState(null),U=w.useCallback(Y=>{Y!==re.current&&(re.current=Y,A(Y))},[]),z=w.useCallback(Y=>{Y!==k.current&&(k.current=Y,V(Y))},[]),G=l||R,$=c||N,re=w.useRef(null),k=w.useRef(null),S=w.useRef(v),M=m!=null,L=Vg(m),D=Vg(a),P=Vg(g),j=w.useCallback(()=>{if(!re.current||!k.current)return;const Y={placement:e,strategy:t,middleware:E};D.current&&(Y.platform=D.current),u8(re.current,k.current,Y).then(pe=>{const B={...pe,isPositioned:P.current!==!1};q.current&&!Dh(S.current,B)&&(S.current=B,Pc.flushSync(()=>{b(B)}))})},[E,e,t,D,P]);nh(()=>{g===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,b(Y=>({...Y,isPositioned:!1})))},[g]);const q=w.useRef(!1);nh(()=>(q.current=!0,()=>{q.current=!1}),[]),nh(()=>{if(G&&(re.current=G),$&&(k.current=$),G&&$){if(L.current)return L.current(G,$,j);j()}},[G,$,j,L,M]);const te=w.useMemo(()=>({reference:re,floating:k,setReference:U,setFloating:z}),[U,z]),F=w.useMemo(()=>({reference:G,floating:$}),[G,$]),W=w.useMemo(()=>{const Y={position:t,left:0,top:0};if(!F.floating)return Y;const pe=Mw(F.floating,v.x),B=Mw(F.floating,v.y);return f?{...Y,transform:"translate("+pe+"px, "+B+"px)",...EA(F.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:pe,top:B}},[t,f,F.floating,v.x,v.y]);return w.useMemo(()=>({...v,update:j,refs:te,elements:F,floatingStyles:W}),[v,j,te,F,W])}const d8=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:a}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?Ow({element:i.current,padding:a}).fn(t):{}:i?Ow({element:i,padding:a}).fn(t):{}}}},f8=(n,e)=>({...r8(n),options:[n,e]}),h8=(n,e)=>({...i8(n),options:[n,e]}),m8=(n,e)=>({...l8(n),options:[n,e]}),p8=(n,e)=>({...s8(n),options:[n,e]}),g8=(n,e)=>({...a8(n),options:[n,e]}),y8=(n,e)=>({...o8(n),options:[n,e]}),v8=(n,e)=>({...d8(n),options:[n,e]});var _8="Arrow",xA=w.forwardRef((n,e)=>{const{children:t,width:i=10,height:a=5,...l}=n;return p.jsx(wt.svg,{...l,ref:e,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});xA.displayName=_8;var b8=xA;function wA(n){const[e,t]=w.useState(void 0);return jn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let c,f;if("borderBoxSize"in l){const m=l.borderBoxSize,g=Array.isArray(m)?m[0]:m;c=g.inlineSize,f=g.blockSize}else c=n.offsetWidth,f=n.offsetHeight;t({width:c,height:f})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var e0="Popper",[TA,SA]=ed(e0),[E8,AA]=TA(e0),CA=n=>{const{__scopePopper:e,children:t}=n,[i,a]=w.useState(null);return p.jsx(E8,{scope:e,anchor:i,onAnchorChange:a,children:t})};CA.displayName=e0;var RA="PopperAnchor",IA=w.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...a}=n,l=AA(RA,t),c=w.useRef(null),f=Gt(e,c);return w.useEffect(()=>{l.onAnchorChange((i==null?void 0:i.current)||c.current)}),i?null:p.jsx(wt.div,{...a,ref:f})});IA.displayName=RA;var t0="PopperContent",[x8,w8]=TA(t0),NA=w.forwardRef((n,e)=>{var ge,xe,qe,ke,Oe,Le;const{__scopePopper:t,side:i="bottom",sideOffset:a=0,align:l="center",alignOffset:c=0,arrowPadding:f=0,avoidCollisions:m=!0,collisionBoundary:g=[],collisionPadding:v=0,sticky:b="partial",hideWhenDetached:E=!1,updatePositionStrategy:C="optimized",onPlaced:R,...A}=n,N=AA(t0,t),[V,U]=w.useState(null),z=Gt(e,se=>U(se)),[G,$]=w.useState(null),re=wA(G),k=(re==null?void 0:re.width)??0,S=(re==null?void 0:re.height)??0,M=i+(l!=="center"?"-"+l:""),L=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},D=Array.isArray(g)?g:[g],P=D.length>0,j={padding:L,boundary:D.filter(S8),altBoundary:P},{refs:q,floatingStyles:te,placement:F,isPositioned:W,middlewareData:Y}=c8({strategy:"fixed",placement:M,whileElementsMounted:(...se)=>n8(...se,{animationFrame:C==="always"}),elements:{reference:N.anchor},middleware:[f8({mainAxis:a+S,alignmentAxis:c}),m&&h8({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?m8():void 0,...j}),m&&p8({...j}),g8({...j,apply:({elements:se,rects:Ae,availableWidth:Ce,availableHeight:Ie})=>{const{width:Fe,height:pn}=Ae.reference,lt=se.floating.style;lt.setProperty("--radix-popper-available-width",`${Ce}px`),lt.setProperty("--radix-popper-available-height",`${Ie}px`),lt.setProperty("--radix-popper-anchor-width",`${Fe}px`),lt.setProperty("--radix-popper-anchor-height",`${pn}px`)}}),G&&v8({element:G,padding:f}),A8({arrowWidth:k,arrowHeight:S}),E&&y8({strategy:"referenceHidden",...j})]}),[pe,B]=OA(F),J=io(R);jn(()=>{W&&(J==null||J())},[W,J]);const ce=(ge=Y.arrow)==null?void 0:ge.x,oe=(xe=Y.arrow)==null?void 0:xe.y,me=((qe=Y.arrow)==null?void 0:qe.centerOffset)!==0,[Ee,ve]=w.useState();return jn(()=>{V&&ve(window.getComputedStyle(V).zIndex)},[V]),p.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:W?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ee,"--radix-popper-transform-origin":[(ke=Y.transformOrigin)==null?void 0:ke.x,(Oe=Y.transformOrigin)==null?void 0:Oe.y].join(" "),...((Le=Y.hide)==null?void 0:Le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:p.jsx(x8,{scope:t,placedSide:pe,onArrowChange:$,arrowX:ce,arrowY:oe,shouldHideArrow:me,children:p.jsx(wt.div,{"data-side":pe,"data-align":B,...A,ref:z,style:{...A.style,animation:W?void 0:"none"}})})})});NA.displayName=t0;var DA="PopperArrow",T8={top:"bottom",right:"left",bottom:"top",left:"right"},kA=w.forwardRef(function(e,t){const{__scopePopper:i,...a}=e,l=w8(DA,i),c=T8[l.placedSide];return p.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:p.jsx(b8,{...a,ref:t,style:{...a.style,display:"block"}})})});kA.displayName=DA;function S8(n){return n!==null}var A8=n=>({name:"transformOrigin",options:n,fn(e){var N,V,U;const{placement:t,rects:i,middlewareData:a}=e,c=((N=a.arrow)==null?void 0:N.centerOffset)!==0,f=c?0:n.arrowWidth,m=c?0:n.arrowHeight,[g,v]=OA(t),b={start:"0%",center:"50%",end:"100%"}[v],E=(((V=a.arrow)==null?void 0:V.x)??0)+f/2,C=(((U=a.arrow)==null?void 0:U.y)??0)+m/2;let R="",A="";return g==="bottom"?(R=c?b:`${E}px`,A=`${-m}px`):g==="top"?(R=c?b:`${E}px`,A=`${i.floating.height+m}px`):g==="right"?(R=`${-m}px`,A=c?b:`${C}px`):g==="left"&&(R=`${i.floating.width+m}px`,A=c?b:`${C}px`),{data:{x:R,y:A}}}});function OA(n){const[e,t="center"]=n.split("-");return[e,t]}var C8=CA,R8=IA,I8=NA,N8=kA,D8="Portal",MA=w.forwardRef((n,e)=>{var f;const{container:t,...i}=n,[a,l]=w.useState(!1);jn(()=>l(!0),[]);const c=t||a&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return c?MI.createPortal(p.jsx(wt.div,{...i,ref:e}),c):null});MA.displayName=D8;var k8=Hw[" useInsertionEffect ".trim().toString()]||jn;function Ry({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[a,l,c]=O8({defaultProp:e,onChange:t}),f=n!==void 0,m=f?n:a;{const v=w.useRef(n!==void 0);w.useEffect(()=>{const b=v.current;b!==f&&console.warn(`${i} is changing from ${b?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=f},[f,i])}const g=w.useCallback(v=>{var b;if(f){const E=M8(v)?v(n):v;E!==n&&((b=c.current)==null||b.call(c,E))}else l(v)},[f,n,l,c]);return[m,g]}function O8({defaultProp:n,onChange:e}){const[t,i]=w.useState(n),a=w.useRef(t),l=w.useRef(e);return k8(()=>{l.current=e},[e]),w.useEffect(()=>{var c;a.current!==t&&((c=l.current)==null||c.call(l,t),a.current=t)},[t,a]),[t,i,l]}function M8(n){return typeof n=="function"}function jA(n){const e=w.useRef({value:n,previous:n});return w.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var PA=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),j8="VisuallyHidden",P8=w.forwardRef((n,e)=>p.jsx(wt.span,{...n,ref:e,style:{...PA,...n.style}}));P8.displayName=j8;var V8=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},il=new WeakMap,Vf=new WeakMap,Lf={},Lg=0,VA=function(n){return n&&(n.host||VA(n.parentNode))},L8=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=VA(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},U8=function(n,e,t,i){var a=L8(e,Array.isArray(n)?n:[n]);Lf[t]||(Lf[t]=new WeakMap);var l=Lf[t],c=[],f=new Set,m=new Set(a),g=function(b){!b||f.has(b)||(f.add(b),g(b.parentNode))};a.forEach(g);var v=function(b){!b||m.has(b)||Array.prototype.forEach.call(b.children,function(E){if(f.has(E))v(E);else try{var C=E.getAttribute(i),R=C!==null&&C!=="false",A=(il.get(E)||0)+1,N=(l.get(E)||0)+1;il.set(E,A),l.set(E,N),c.push(E),A===1&&R&&Vf.set(E,!0),N===1&&E.setAttribute(t,"true"),R||E.setAttribute(i,"true")}catch(V){console.error("aria-hidden: cannot operate on ",E,V)}})};return v(e),f.clear(),Lg++,function(){c.forEach(function(b){var E=il.get(b)-1,C=l.get(b)-1;il.set(b,E),l.set(b,C),E||(Vf.has(b)||b.removeAttribute(i),Vf.delete(b)),C||b.removeAttribute(t)}),Lg--,Lg||(il=new WeakMap,il=new WeakMap,Vf=new WeakMap,Lf={})}},B8=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),a=V8(n);return a?(i.push.apply(i,Array.from(a.querySelectorAll("[aria-live]"))),U8(i,a,t,"aria-hidden")):function(){return null}},rh="right-scroll-bar-position",ih="width-before-scroll-bar",z8="with-scroll-bars-hidden",F8="--removed-body-scroll-bar-size";function Ug(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function H8(n,e){var t=w.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var a=t.value;a!==i&&(t.value=i,t.callback(i,a))}}}})[0];return t.callback=e,t.facade}var q8=typeof window<"u"?w.useLayoutEffect:w.useEffect,jw=new WeakMap;function G8(n,e){var t=H8(null,function(i){return n.forEach(function(a){return Ug(a,i)})});return q8(function(){var i=jw.get(t);if(i){var a=new Set(i),l=new Set(n),c=t.current;a.forEach(function(f){l.has(f)||Ug(f,null)}),l.forEach(function(f){a.has(f)||Ug(f,c)})}jw.set(t,n)},[n]),t}function $8(n){return n}function Y8(n,e){e===void 0&&(e=$8);var t=[],i=!1,a={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(l){var c=e(l,i);return t.push(c),function(){t=t.filter(function(f){return f!==c})}},assignSyncMedium:function(l){for(i=!0;t.length;){var c=t;t=[],c.forEach(l)}t={push:function(f){return l(f)},filter:function(){return t}}},assignMedium:function(l){i=!0;var c=[];if(t.length){var f=t;t=[],f.forEach(l),c=t}var m=function(){var v=c;c=[],v.forEach(l)},g=function(){return Promise.resolve().then(m)};g(),t={push:function(v){c.push(v),g()},filter:function(v){return c=c.filter(v),t}}}};return a}function K8(n){n===void 0&&(n={});var e=Y8(null);return e.options=ti({async:!0,ssr:!1},n),e}var LA=function(n){var e=n.sideCar,t=Uc(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return w.createElement(i,ti({},t))};LA.isSideCarExport=!0;function Q8(n,e){return n.useMedium(e),LA}var UA=K8(),Bg=function(){},lm=w.forwardRef(function(n,e){var t=w.useRef(null),i=w.useState({onScrollCapture:Bg,onWheelCapture:Bg,onTouchMoveCapture:Bg}),a=i[0],l=i[1],c=n.forwardProps,f=n.children,m=n.className,g=n.removeScrollBar,v=n.enabled,b=n.shards,E=n.sideCar,C=n.noIsolation,R=n.inert,A=n.allowPinchZoom,N=n.as,V=N===void 0?"div":N,U=n.gapMode,z=Uc(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),G=E,$=G8([t,e]),re=ti(ti({},z),a);return w.createElement(w.Fragment,null,v&&w.createElement(G,{sideCar:UA,removeScrollBar:g,shards:b,noIsolation:C,inert:R,setCallbacks:l,allowPinchZoom:!!A,lockRef:t,gapMode:U}),c?w.cloneElement(w.Children.only(f),ti(ti({},re),{ref:$})):w.createElement(V,ti({},re,{className:m,ref:$}),f))});lm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lm.classNames={fullWidth:ih,zeroRight:rh};var W8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function X8(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=W8();return e&&n.setAttribute("nonce",e),n}function Z8(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function J8(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var eV=function(){var n=0,e=null;return{add:function(t){n==0&&(e=X8())&&(Z8(e,t),J8(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},tV=function(){var n=eV();return function(e,t){w.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},BA=function(){var n=tV(),e=function(t){var i=t.styles,a=t.dynamic;return n(i,a),null};return e},nV={left:0,top:0,right:0,gap:0},zg=function(n){return parseInt(n||"",10)||0},rV=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],a=e[n==="padding"?"paddingRight":"marginRight"];return[zg(t),zg(i),zg(a)]},iV=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return nV;var e=rV(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},sV=BA(),yl="data-scroll-locked",aV=function(n,e,t,i){var a=n.left,l=n.top,c=n.right,f=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(z8,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(f,"px ").concat(i,`;
  }
  body[`).concat(yl,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(f,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(rh,` {
    right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(ih,` {
    margin-right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(rh," .").concat(rh,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(ih," .").concat(ih,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(yl,`] {
    `).concat(F8,": ").concat(f,`px;
  }
`)},Pw=function(){var n=parseInt(document.body.getAttribute(yl)||"0",10);return isFinite(n)?n:0},oV=function(){w.useEffect(function(){return document.body.setAttribute(yl,(Pw()+1).toString()),function(){var n=Pw()-1;n<=0?document.body.removeAttribute(yl):document.body.setAttribute(yl,n.toString())}},[])},lV=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,a=i===void 0?"margin":i;oV();var l=w.useMemo(function(){return iV(a)},[a]);return w.createElement(sV,{styles:aV(l,!e,a,t?"":"!important")})},Iy=!1;if(typeof window<"u")try{var Uf=Object.defineProperty({},"passive",{get:function(){return Iy=!0,!0}});window.addEventListener("test",Uf,Uf),window.removeEventListener("test",Uf,Uf)}catch{Iy=!1}var sl=Iy?{passive:!1}:!1,uV=function(n){return n.tagName==="TEXTAREA"},zA=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!uV(n)&&t[e]==="visible")},cV=function(n){return zA(n,"overflowY")},dV=function(n){return zA(n,"overflowX")},Vw=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var a=FA(n,i);if(a){var l=HA(n,i),c=l[1],f=l[2];if(c>f)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},fV=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},hV=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},FA=function(n,e){return n==="v"?cV(e):dV(e)},HA=function(n,e){return n==="v"?fV(e):hV(e)},mV=function(n,e){return n==="h"&&e==="rtl"?-1:1},pV=function(n,e,t,i,a){var l=mV(n,window.getComputedStyle(e).direction),c=l*i,f=t.target,m=e.contains(f),g=!1,v=c>0,b=0,E=0;do{var C=HA(n,f),R=C[0],A=C[1],N=C[2],V=A-N-l*R;(R||V)&&FA(n,f)&&(b+=V,E+=R),f instanceof ShadowRoot?f=f.host:f=f.parentNode}while(!m&&f!==document.body||m&&(e.contains(f)||e===f));return(v&&Math.abs(b)<1||!v&&Math.abs(E)<1)&&(g=!0),g},Bf=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Lw=function(n){return[n.deltaX,n.deltaY]},Uw=function(n){return n&&"current"in n?n.current:n},gV=function(n,e){return n[0]===e[0]&&n[1]===e[1]},yV=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},vV=0,al=[];function _V(n){var e=w.useRef([]),t=w.useRef([0,0]),i=w.useRef(),a=w.useState(vV++)[0],l=w.useState(BA)[0],c=w.useRef(n);w.useEffect(function(){c.current=n},[n]),w.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(a));var A=a6([n.lockRef.current],(n.shards||[]).map(Uw),!0).filter(Boolean);return A.forEach(function(N){return N.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),A.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(a))})}}},[n.inert,n.lockRef.current,n.shards]);var f=w.useCallback(function(A,N){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!c.current.allowPinchZoom;var V=Bf(A),U=t.current,z="deltaX"in A?A.deltaX:U[0]-V[0],G="deltaY"in A?A.deltaY:U[1]-V[1],$,re=A.target,k=Math.abs(z)>Math.abs(G)?"h":"v";if("touches"in A&&k==="h"&&re.type==="range")return!1;var S=Vw(k,re);if(!S)return!0;if(S?$=k:($=k==="v"?"h":"v",S=Vw(k,re)),!S)return!1;if(!i.current&&"changedTouches"in A&&(z||G)&&(i.current=$),!$)return!0;var M=i.current||$;return pV(M,N,A,M==="h"?z:G)},[]),m=w.useCallback(function(A){var N=A;if(!(!al.length||al[al.length-1]!==l)){var V="deltaY"in N?Lw(N):Bf(N),U=e.current.filter(function($){return $.name===N.type&&($.target===N.target||N.target===$.shadowParent)&&gV($.delta,V)})[0];if(U&&U.should){N.cancelable&&N.preventDefault();return}if(!U){var z=(c.current.shards||[]).map(Uw).filter(Boolean).filter(function($){return $.contains(N.target)}),G=z.length>0?f(N,z[0]):!c.current.noIsolation;G&&N.cancelable&&N.preventDefault()}}},[]),g=w.useCallback(function(A,N,V,U){var z={name:A,delta:N,target:V,should:U,shadowParent:bV(V)};e.current.push(z),setTimeout(function(){e.current=e.current.filter(function(G){return G!==z})},1)},[]),v=w.useCallback(function(A){t.current=Bf(A),i.current=void 0},[]),b=w.useCallback(function(A){g(A.type,Lw(A),A.target,f(A,n.lockRef.current))},[]),E=w.useCallback(function(A){g(A.type,Bf(A),A.target,f(A,n.lockRef.current))},[]);w.useEffect(function(){return al.push(l),n.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:E}),document.addEventListener("wheel",m,sl),document.addEventListener("touchmove",m,sl),document.addEventListener("touchstart",v,sl),function(){al=al.filter(function(A){return A!==l}),document.removeEventListener("wheel",m,sl),document.removeEventListener("touchmove",m,sl),document.removeEventListener("touchstart",v,sl)}},[]);var C=n.removeScrollBar,R=n.inert;return w.createElement(w.Fragment,null,R?w.createElement(l,{styles:yV(a)}):null,C?w.createElement(lV,{gapMode:n.gapMode}):null)}function bV(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const EV=Q8(UA,_V);var qA=w.forwardRef(function(n,e){return w.createElement(lm,ti({},n,{ref:e,sideCar:EV}))});qA.classNames=lm.classNames;var xV=[" ","Enter","ArrowUp","ArrowDown"],wV=[" ","Enter"],ao="Select",[um,cm,TV]=tP(ao),[Wl,HL]=ed(ao,[TV,SA]),dm=SA(),[SV,ha]=Wl(ao),[AV,CV]=Wl(ao),GA=n=>{const{__scopeSelect:e,children:t,open:i,defaultOpen:a,onOpenChange:l,value:c,defaultValue:f,onValueChange:m,dir:g,name:v,autoComplete:b,disabled:E,required:C,form:R}=n,A=dm(e),[N,V]=w.useState(null),[U,z]=w.useState(null),[G,$]=w.useState(!1),re=rP(g),[k,S]=Ry({prop:i,defaultProp:a??!1,onChange:l,caller:ao}),[M,L]=Ry({prop:c,defaultProp:f,onChange:m,caller:ao}),D=w.useRef(null),P=N?R||!!N.closest("form"):!0,[j,q]=w.useState(new Set),te=Array.from(j).map(F=>F.props.value).join(";");return p.jsx(C8,{...A,children:p.jsxs(SV,{required:C,scope:e,trigger:N,onTriggerChange:V,valueNode:U,onValueNodeChange:z,valueNodeHasChildren:G,onValueNodeHasChildrenChange:$,contentId:$v(),value:M,onValueChange:L,open:k,onOpenChange:S,dir:re,triggerPointerDownPosRef:D,disabled:E,children:[p.jsx(um.Provider,{scope:e,children:p.jsx(AV,{scope:n.__scopeSelect,onNativeOptionAdd:w.useCallback(F=>{q(W=>new Set(W).add(F))},[]),onNativeOptionRemove:w.useCallback(F=>{q(W=>{const Y=new Set(W);return Y.delete(F),Y})},[]),children:t})}),P?p.jsxs(h2,{"aria-hidden":!0,required:C,tabIndex:-1,name:v,autoComplete:b,value:M,onChange:F=>L(F.target.value),disabled:E,form:R,children:[M===void 0?p.jsx("option",{value:""}):null,Array.from(j)]},te):null]})})};GA.displayName=ao;var $A="SelectTrigger",YA=w.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:i=!1,...a}=n,l=dm(t),c=ha($A,t),f=c.disabled||i,m=Gt(e,c.onTriggerChange),g=cm(t),v=w.useRef("touch"),[b,E,C]=p2(A=>{const N=g().filter(z=>!z.disabled),V=N.find(z=>z.value===c.value),U=g2(N,A,V);U!==void 0&&c.onValueChange(U.value)}),R=A=>{f||(c.onOpenChange(!0),C()),A&&(c.triggerPointerDownPosRef.current={x:Math.round(A.pageX),y:Math.round(A.pageY)})};return p.jsx(R8,{asChild:!0,...l,children:p.jsx(wt.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":m2(c.value)?"":void 0,...a,ref:m,onClick:Vt(a.onClick,A=>{A.currentTarget.focus(),v.current!=="mouse"&&R(A)}),onPointerDown:Vt(a.onPointerDown,A=>{v.current=A.pointerType;const N=A.target;N.hasPointerCapture(A.pointerId)&&N.releasePointerCapture(A.pointerId),A.button===0&&A.ctrlKey===!1&&A.pointerType==="mouse"&&(R(A),A.preventDefault())}),onKeyDown:Vt(a.onKeyDown,A=>{const N=b.current!=="";!(A.ctrlKey||A.altKey||A.metaKey)&&A.key.length===1&&E(A.key),!(N&&A.key===" ")&&xV.includes(A.key)&&(R(),A.preventDefault())})})})});YA.displayName=$A;var KA="SelectValue",QA=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:a,children:l,placeholder:c="",...f}=n,m=ha(KA,t),{onValueNodeHasChildrenChange:g}=m,v=l!==void 0,b=Gt(e,m.onValueNodeChange);return jn(()=>{g(v)},[g,v]),p.jsx(wt.span,{...f,ref:b,style:{pointerEvents:"none"},children:m2(m.value)?p.jsx(p.Fragment,{children:c}):l})});QA.displayName=KA;var RV="SelectIcon",WA=w.forwardRef((n,e)=>{const{__scopeSelect:t,children:i,...a}=n;return p.jsx(wt.span,{"aria-hidden":!0,...a,ref:e,children:i||"▼"})});WA.displayName=RV;var IV="SelectPortal",XA=n=>p.jsx(MA,{asChild:!0,...n});XA.displayName=IV;var oo="SelectContent",ZA=w.forwardRef((n,e)=>{const t=ha(oo,n.__scopeSelect),[i,a]=w.useState();if(jn(()=>{a(new DocumentFragment)},[]),!t.open){const l=i;return l?Pc.createPortal(p.jsx(JA,{scope:n.__scopeSelect,children:p.jsx(um.Slot,{scope:n.__scopeSelect,children:p.jsx("div",{children:n.children})})}),l):null}return p.jsx(e2,{...n,ref:e})});ZA.displayName=oo;var Ir=10,[JA,ma]=Wl(oo),NV="SelectContentImpl",DV=xc("SelectContent.RemoveScroll"),e2=w.forwardRef((n,e)=>{const{__scopeSelect:t,position:i="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:c,side:f,sideOffset:m,align:g,alignOffset:v,arrowPadding:b,collisionBoundary:E,collisionPadding:C,sticky:R,hideWhenDetached:A,avoidCollisions:N,...V}=n,U=ha(oo,t),[z,G]=w.useState(null),[$,re]=w.useState(null),k=Gt(e,ge=>G(ge)),[S,M]=w.useState(null),[L,D]=w.useState(null),P=cm(t),[j,q]=w.useState(!1),te=w.useRef(!1);w.useEffect(()=>{if(z)return B8(z)},[z]),fP();const F=w.useCallback(ge=>{const[xe,...qe]=P().map(Le=>Le.ref.current),[ke]=qe.slice(-1),Oe=document.activeElement;for(const Le of ge)if(Le===Oe||(Le==null||Le.scrollIntoView({block:"nearest"}),Le===xe&&$&&($.scrollTop=0),Le===ke&&$&&($.scrollTop=$.scrollHeight),Le==null||Le.focus(),document.activeElement!==Oe))return},[P,$]),W=w.useCallback(()=>F([S,z]),[F,S,z]);w.useEffect(()=>{j&&W()},[j,W]);const{onOpenChange:Y,triggerPointerDownPosRef:pe}=U;w.useEffect(()=>{if(z){let ge={x:0,y:0};const xe=ke=>{var Oe,Le;ge={x:Math.abs(Math.round(ke.pageX)-(((Oe=pe.current)==null?void 0:Oe.x)??0)),y:Math.abs(Math.round(ke.pageY)-(((Le=pe.current)==null?void 0:Le.y)??0))}},qe=ke=>{ge.x<=10&&ge.y<=10?ke.preventDefault():z.contains(ke.target)||Y(!1),document.removeEventListener("pointermove",xe),pe.current=null};return pe.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",qe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",qe,{capture:!0})}}},[z,Y,pe]),w.useEffect(()=>{const ge=()=>Y(!1);return window.addEventListener("blur",ge),window.addEventListener("resize",ge),()=>{window.removeEventListener("blur",ge),window.removeEventListener("resize",ge)}},[Y]);const[B,J]=p2(ge=>{const xe=P().filter(Oe=>!Oe.disabled),qe=xe.find(Oe=>Oe.ref.current===document.activeElement),ke=g2(xe,ge,qe);ke&&setTimeout(()=>ke.ref.current.focus())}),ce=w.useCallback((ge,xe,qe)=>{const ke=!te.current&&!qe;(U.value!==void 0&&U.value===xe||ke)&&(M(ge),ke&&(te.current=!0))},[U.value]),oe=w.useCallback(()=>z==null?void 0:z.focus(),[z]),me=w.useCallback((ge,xe,qe)=>{const ke=!te.current&&!qe;(U.value!==void 0&&U.value===xe||ke)&&D(ge)},[U.value]),Ee=i==="popper"?Ny:t2,ve=Ee===Ny?{side:f,sideOffset:m,align:g,alignOffset:v,arrowPadding:b,collisionBoundary:E,collisionPadding:C,sticky:R,hideWhenDetached:A,avoidCollisions:N}:{};return p.jsx(JA,{scope:t,content:z,viewport:$,onViewportChange:re,itemRefCallback:ce,selectedItem:S,onItemLeave:oe,itemTextRefCallback:me,focusSelectedItem:W,selectedItemText:L,position:i,isPositioned:j,searchRef:B,children:p.jsx(qA,{as:DV,allowPinchZoom:!0,children:p.jsx(cA,{asChild:!0,trapped:U.open,onMountAutoFocus:ge=>{ge.preventDefault()},onUnmountAutoFocus:Vt(a,ge=>{var xe;(xe=U.trigger)==null||xe.focus({preventScroll:!0}),ge.preventDefault()}),children:p.jsx(lA,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:ge=>ge.preventDefault(),onDismiss:()=>U.onOpenChange(!1),children:p.jsx(Ee,{role:"listbox",id:U.contentId,"data-state":U.open?"open":"closed",dir:U.dir,onContextMenu:ge=>ge.preventDefault(),...V,...ve,onPlaced:()=>q(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...V.style},onKeyDown:Vt(V.onKeyDown,ge=>{const xe=ge.ctrlKey||ge.altKey||ge.metaKey;if(ge.key==="Tab"&&ge.preventDefault(),!xe&&ge.key.length===1&&J(ge.key),["ArrowUp","ArrowDown","Home","End"].includes(ge.key)){let ke=P().filter(Oe=>!Oe.disabled).map(Oe=>Oe.ref.current);if(["ArrowUp","End"].includes(ge.key)&&(ke=ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(ge.key)){const Oe=ge.target,Le=ke.indexOf(Oe);ke=ke.slice(Le+1)}setTimeout(()=>F(ke)),ge.preventDefault()}})})})})})})});e2.displayName=NV;var kV="SelectItemAlignedPosition",t2=w.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:i,...a}=n,l=ha(oo,t),c=ma(oo,t),[f,m]=w.useState(null),[g,v]=w.useState(null),b=Gt(e,k=>v(k)),E=cm(t),C=w.useRef(!1),R=w.useRef(!0),{viewport:A,selectedItem:N,selectedItemText:V,focusSelectedItem:U}=c,z=w.useCallback(()=>{if(l.trigger&&l.valueNode&&f&&g&&A&&N&&V){const k=l.trigger.getBoundingClientRect(),S=g.getBoundingClientRect(),M=l.valueNode.getBoundingClientRect(),L=V.getBoundingClientRect();if(l.dir!=="rtl"){const Oe=L.left-S.left,Le=M.left-Oe,se=k.left-Le,Ae=k.width+se,Ce=Math.max(Ae,S.width),Ie=window.innerWidth-Ir,Fe=_w(Le,[Ir,Math.max(Ir,Ie-Ce)]);f.style.minWidth=Ae+"px",f.style.left=Fe+"px"}else{const Oe=S.right-L.right,Le=window.innerWidth-M.right-Oe,se=window.innerWidth-k.right-Le,Ae=k.width+se,Ce=Math.max(Ae,S.width),Ie=window.innerWidth-Ir,Fe=_w(Le,[Ir,Math.max(Ir,Ie-Ce)]);f.style.minWidth=Ae+"px",f.style.right=Fe+"px"}const D=E(),P=window.innerHeight-Ir*2,j=A.scrollHeight,q=window.getComputedStyle(g),te=parseInt(q.borderTopWidth,10),F=parseInt(q.paddingTop,10),W=parseInt(q.borderBottomWidth,10),Y=parseInt(q.paddingBottom,10),pe=te+F+j+Y+W,B=Math.min(N.offsetHeight*5,pe),J=window.getComputedStyle(A),ce=parseInt(J.paddingTop,10),oe=parseInt(J.paddingBottom,10),me=k.top+k.height/2-Ir,Ee=P-me,ve=N.offsetHeight/2,ge=N.offsetTop+ve,xe=te+F+ge,qe=pe-xe;if(xe<=me){const Oe=D.length>0&&N===D[D.length-1].ref.current;f.style.bottom="0px";const Le=g.clientHeight-A.offsetTop-A.offsetHeight,se=Math.max(Ee,ve+(Oe?oe:0)+Le+W),Ae=xe+se;f.style.height=Ae+"px"}else{const Oe=D.length>0&&N===D[0].ref.current;f.style.top="0px";const se=Math.max(me,te+A.offsetTop+(Oe?ce:0)+ve)+qe;f.style.height=se+"px",A.scrollTop=xe-me+A.offsetTop}f.style.margin=`${Ir}px 0`,f.style.minHeight=B+"px",f.style.maxHeight=P+"px",i==null||i(),requestAnimationFrame(()=>C.current=!0)}},[E,l.trigger,l.valueNode,f,g,A,N,V,l.dir,i]);jn(()=>z(),[z]);const[G,$]=w.useState();jn(()=>{g&&$(window.getComputedStyle(g).zIndex)},[g]);const re=w.useCallback(k=>{k&&R.current===!0&&(z(),U==null||U(),R.current=!1)},[z,U]);return p.jsx(MV,{scope:t,contentWrapper:f,shouldExpandOnScrollRef:C,onScrollButtonChange:re,children:p.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:G},children:p.jsx(wt.div,{...a,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});t2.displayName=kV;var OV="SelectPopperPosition",Ny=w.forwardRef((n,e)=>{const{__scopeSelect:t,align:i="start",collisionPadding:a=Ir,...l}=n,c=dm(t);return p.jsx(I8,{...c,...l,ref:e,align:i,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ny.displayName=OV;var[MV,n0]=Wl(oo,{}),Dy="SelectViewport",n2=w.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:i,...a}=n,l=ma(Dy,t),c=n0(Dy,t),f=Gt(e,l.onViewportChange),m=w.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),p.jsx(um.Slot,{scope:t,children:p.jsx(wt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Vt(a.onScroll,g=>{const v=g.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:E}=c;if(E!=null&&E.current&&b){const C=Math.abs(m.current-v.scrollTop);if(C>0){const R=window.innerHeight-Ir*2,A=parseFloat(b.style.minHeight),N=parseFloat(b.style.height),V=Math.max(A,N);if(V<R){const U=V+C,z=Math.min(R,U),G=U-z;b.style.height=z+"px",b.style.bottom==="0px"&&(v.scrollTop=G>0?G:0,b.style.justifyContent="flex-end")}}}m.current=v.scrollTop})})})]})});n2.displayName=Dy;var r2="SelectGroup",[jV,PV]=Wl(r2),VV=w.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,a=$v();return p.jsx(jV,{scope:t,id:a,children:p.jsx(wt.div,{role:"group","aria-labelledby":a,...i,ref:e})})});VV.displayName=r2;var i2="SelectLabel",LV=w.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,a=PV(i2,t);return p.jsx(wt.div,{id:a.id,...i,ref:e})});LV.displayName=i2;var kh="SelectItem",[UV,s2]=Wl(kh),a2=w.forwardRef((n,e)=>{const{__scopeSelect:t,value:i,disabled:a=!1,textValue:l,...c}=n,f=ha(kh,t),m=ma(kh,t),g=f.value===i,[v,b]=w.useState(l??""),[E,C]=w.useState(!1),R=Gt(e,U=>{var z;return(z=m.itemRefCallback)==null?void 0:z.call(m,U,i,a)}),A=$v(),N=w.useRef("touch"),V=()=>{a||(f.onValueChange(i),f.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(UV,{scope:t,value:i,disabled:a,textId:A,isSelected:g,onItemTextChange:w.useCallback(U=>{b(z=>z||((U==null?void 0:U.textContent)??"").trim())},[]),children:p.jsx(um.ItemSlot,{scope:t,value:i,disabled:a,textValue:v,children:p.jsx(wt.div,{role:"option","aria-labelledby":A,"data-highlighted":E?"":void 0,"aria-selected":g&&E,"data-state":g?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...c,ref:R,onFocus:Vt(c.onFocus,()=>C(!0)),onBlur:Vt(c.onBlur,()=>C(!1)),onClick:Vt(c.onClick,()=>{N.current!=="mouse"&&V()}),onPointerUp:Vt(c.onPointerUp,()=>{N.current==="mouse"&&V()}),onPointerDown:Vt(c.onPointerDown,U=>{N.current=U.pointerType}),onPointerMove:Vt(c.onPointerMove,U=>{var z;N.current=U.pointerType,a?(z=m.onItemLeave)==null||z.call(m):N.current==="mouse"&&U.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Vt(c.onPointerLeave,U=>{var z;U.currentTarget===document.activeElement&&((z=m.onItemLeave)==null||z.call(m))}),onKeyDown:Vt(c.onKeyDown,U=>{var G;((G=m.searchRef)==null?void 0:G.current)!==""&&U.key===" "||(wV.includes(U.key)&&V(),U.key===" "&&U.preventDefault())})})})})});a2.displayName=kh;var mc="SelectItemText",o2=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:a,...l}=n,c=ha(mc,t),f=ma(mc,t),m=s2(mc,t),g=CV(mc,t),[v,b]=w.useState(null),E=Gt(e,V=>b(V),m.onItemTextChange,V=>{var U;return(U=f.itemTextRefCallback)==null?void 0:U.call(f,V,m.value,m.disabled)}),C=v==null?void 0:v.textContent,R=w.useMemo(()=>p.jsx("option",{value:m.value,disabled:m.disabled,children:C},m.value),[m.disabled,m.value,C]),{onNativeOptionAdd:A,onNativeOptionRemove:N}=g;return jn(()=>(A(R),()=>N(R)),[A,N,R]),p.jsxs(p.Fragment,{children:[p.jsx(wt.span,{id:m.textId,...l,ref:E}),m.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Pc.createPortal(l.children,c.valueNode):null]})});o2.displayName=mc;var l2="SelectItemIndicator",u2=w.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return s2(l2,t).isSelected?p.jsx(wt.span,{"aria-hidden":!0,...i,ref:e}):null});u2.displayName=l2;var ky="SelectScrollUpButton",c2=w.forwardRef((n,e)=>{const t=ma(ky,n.__scopeSelect),i=n0(ky,n.__scopeSelect),[a,l]=w.useState(!1),c=Gt(e,i.onScrollButtonChange);return jn(()=>{if(t.viewport&&t.isPositioned){let f=function(){const g=m.scrollTop>0;l(g)};const m=t.viewport;return f(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[t.viewport,t.isPositioned]),a?p.jsx(f2,{...n,ref:c,onAutoScroll:()=>{const{viewport:f,selectedItem:m}=t;f&&m&&(f.scrollTop=f.scrollTop-m.offsetHeight)}}):null});c2.displayName=ky;var Oy="SelectScrollDownButton",d2=w.forwardRef((n,e)=>{const t=ma(Oy,n.__scopeSelect),i=n0(Oy,n.__scopeSelect),[a,l]=w.useState(!1),c=Gt(e,i.onScrollButtonChange);return jn(()=>{if(t.viewport&&t.isPositioned){let f=function(){const g=m.scrollHeight-m.clientHeight,v=Math.ceil(m.scrollTop)<g;l(v)};const m=t.viewport;return f(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[t.viewport,t.isPositioned]),a?p.jsx(f2,{...n,ref:c,onAutoScroll:()=>{const{viewport:f,selectedItem:m}=t;f&&m&&(f.scrollTop=f.scrollTop+m.offsetHeight)}}):null});d2.displayName=Oy;var f2=w.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:i,...a}=n,l=ma("SelectScrollButton",t),c=w.useRef(null),f=cm(t),m=w.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return w.useEffect(()=>()=>m(),[m]),jn(()=>{var v;const g=f().find(b=>b.ref.current===document.activeElement);(v=g==null?void 0:g.ref.current)==null||v.scrollIntoView({block:"nearest"})},[f]),p.jsx(wt.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:Vt(a.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(i,50))}),onPointerMove:Vt(a.onPointerMove,()=>{var g;(g=l.onItemLeave)==null||g.call(l),c.current===null&&(c.current=window.setInterval(i,50))}),onPointerLeave:Vt(a.onPointerLeave,()=>{m()})})}),BV="SelectSeparator",zV=w.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return p.jsx(wt.div,{"aria-hidden":!0,...i,ref:e})});zV.displayName=BV;var My="SelectArrow",FV=w.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,a=dm(t),l=ha(My,t),c=ma(My,t);return l.open&&c.position==="popper"?p.jsx(N8,{...a,...i,ref:e}):null});FV.displayName=My;var HV="SelectBubbleInput",h2=w.forwardRef(({__scopeSelect:n,value:e,...t},i)=>{const a=w.useRef(null),l=Gt(i,a),c=jA(e);return w.useEffect(()=>{const f=a.current;if(!f)return;const m=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(m,"value").set;if(c!==e&&v){const b=new Event("change",{bubbles:!0});v.call(f,e),f.dispatchEvent(b)}},[c,e]),p.jsx(wt.select,{...t,style:{...PA,...t.style},ref:l,defaultValue:e})});h2.displayName=HV;function m2(n){return n===""||n===void 0}function p2(n){const e=io(n),t=w.useRef(""),i=w.useRef(0),a=w.useCallback(c=>{const f=t.current+c;e(f),function m(g){t.current=g,window.clearTimeout(i.current),g!==""&&(i.current=window.setTimeout(()=>m(""),1e3))}(f)},[e]),l=w.useCallback(()=>{t.current="",window.clearTimeout(i.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(i.current),[]),[t,a,l]}function g2(n,e,t){const a=e.length>1&&Array.from(e).every(g=>g===e[0])?e[0]:e,l=t?n.indexOf(t):-1;let c=qV(n,Math.max(l,0));a.length===1&&(c=c.filter(g=>g!==t));const m=c.find(g=>g.textValue.toLowerCase().startsWith(a.toLowerCase()));return m!==t?m:void 0}function qV(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var GV=GA,$V=YA,YV=QA,KV=WA,QV=XA,WV=ZA,XV=n2,ZV=a2,JV=o2,eL=u2,tL=c2,nL=d2;function zi({...n}){return p.jsx(GV,{"data-slot":"select",...n})}function Fi({...n}){return p.jsx(YV,{"data-slot":"select-value",...n})}function Hi({className:n,size:e="default",children:t,...i}){return p.jsxs($V,{"data-slot":"select-trigger","data-size":e,className:Zt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...i,children:[t,p.jsx(KV,{asChild:!0,children:p.jsx(_T,{className:"size-4 opacity-50"})})]})}function qi({className:n,children:e,position:t="popper",...i}){return p.jsx(QV,{children:p.jsxs(WV,{"data-slot":"select-content",className:Zt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...i,children:[p.jsx(rL,{}),p.jsx(XV,{className:Zt("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),p.jsx(iL,{})]})})}function Dn({className:n,children:e,...t}){return p.jsxs(ZV,{"data-slot":"select-item",className:Zt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[p.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:p.jsx(eL,{children:p.jsx($y,{className:"size-4"})})}),p.jsx(JV,{children:e})]})}function rL({className:n,...e}){return p.jsx(tL,{"data-slot":"select-scroll-up-button",className:Zt("flex cursor-default items-center justify-center py-1",n),...e,children:p.jsx(LN,{className:"size-4"})})}function iL({className:n,...e}){return p.jsx(nL,{"data-slot":"select-scroll-down-button",className:Zt("flex cursor-default items-center justify-center py-1",n),...e,children:p.jsx(_T,{className:"size-4"})})}function sL({className:n,...e}){return p.jsx("textarea",{"data-slot":"textarea",className:Zt("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}function aL(n,e){return w.useReducer((t,i)=>e[t][i]??t,n)}var y2=n=>{const{present:e,children:t}=n,i=oL(e),a=typeof t=="function"?t({present:i.isPresent}):w.Children.only(t),l=Gt(i.ref,lL(a));return typeof t=="function"||i.isPresent?w.cloneElement(a,{ref:l}):null};y2.displayName="Presence";function oL(n){const[e,t]=w.useState(),i=w.useRef(null),a=w.useRef(n),l=w.useRef("none"),c=n?"mounted":"unmounted",[f,m]=aL(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const g=zf(i.current);l.current=f==="mounted"?g:"none"},[f]),jn(()=>{const g=i.current,v=a.current;if(v!==n){const E=l.current,C=zf(g);n?m("MOUNT"):C==="none"||(g==null?void 0:g.display)==="none"?m("UNMOUNT"):m(v&&E!==C?"ANIMATION_OUT":"UNMOUNT"),a.current=n}},[n,m]),jn(()=>{if(e){let g;const v=e.ownerDocument.defaultView??window,b=C=>{const A=zf(i.current).includes(C.animationName);if(C.target===e&&A&&(m("ANIMATION_END"),!a.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",g=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},E=C=>{C.target===e&&(l.current=zf(i.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",b),e.addEventListener("animationend",b),()=>{v.clearTimeout(g),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",b),e.removeEventListener("animationend",b)}}else m("ANIMATION_END")},[e,m]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:w.useCallback(g=>{i.current=g?getComputedStyle(g):null,t(g)},[])}}function zf(n){return(n==null?void 0:n.animationName)||"none"}function lL(n){var i,a;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var fm="Checkbox",[uL,qL]=ed(fm),[cL,r0]=uL(fm);function dL(n){const{__scopeCheckbox:e,checked:t,children:i,defaultChecked:a,disabled:l,form:c,name:f,onCheckedChange:m,required:g,value:v="on",internal_do_not_use_render:b}=n,[E,C]=Ry({prop:t,defaultProp:a??!1,onChange:m,caller:fm}),[R,A]=w.useState(null),[N,V]=w.useState(null),U=w.useRef(!1),z=R?!!c||!!R.closest("form"):!0,G={checked:E,disabled:l,setChecked:C,control:R,setControl:A,name:f,form:c,value:v,hasConsumerStoppedPropagationRef:U,required:g,defaultChecked:ta(a)?!1:a,isFormControl:z,bubbleInput:N,setBubbleInput:V};return p.jsx(cL,{scope:e,...G,children:fL(b)?b(G):i})}var v2="CheckboxTrigger",_2=w.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...i},a)=>{const{control:l,value:c,disabled:f,checked:m,required:g,setControl:v,setChecked:b,hasConsumerStoppedPropagationRef:E,isFormControl:C,bubbleInput:R}=r0(v2,n),A=Gt(a,v),N=w.useRef(m);return w.useEffect(()=>{const V=l==null?void 0:l.form;if(V){const U=()=>b(N.current);return V.addEventListener("reset",U),()=>V.removeEventListener("reset",U)}},[l,b]),p.jsx(wt.button,{type:"button",role:"checkbox","aria-checked":ta(m)?"mixed":m,"aria-required":g,"data-state":S2(m),"data-disabled":f?"":void 0,disabled:f,value:c,...i,ref:A,onKeyDown:Vt(e,V=>{V.key==="Enter"&&V.preventDefault()}),onClick:Vt(t,V=>{b(U=>ta(U)?!0:!U),R&&C&&(E.current=V.isPropagationStopped(),E.current||V.stopPropagation())})})});_2.displayName=v2;var b2=w.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:i,checked:a,defaultChecked:l,required:c,disabled:f,value:m,onCheckedChange:g,form:v,...b}=n;return p.jsx(dL,{__scopeCheckbox:t,checked:a,defaultChecked:l,disabled:f,required:c,onCheckedChange:g,name:i,form:v,value:m,internal_do_not_use_render:({isFormControl:E})=>p.jsxs(p.Fragment,{children:[p.jsx(_2,{...b,ref:e,__scopeCheckbox:t}),E&&p.jsx(T2,{__scopeCheckbox:t})]})})});b2.displayName=fm;var E2="CheckboxIndicator",x2=w.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:i,...a}=n,l=r0(E2,t);return p.jsx(y2,{present:i||ta(l.checked)||l.checked===!0,children:p.jsx(wt.span,{"data-state":S2(l.checked),"data-disabled":l.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...n.style}})})});x2.displayName=E2;var w2="CheckboxBubbleInput",T2=w.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:i,hasConsumerStoppedPropagationRef:a,checked:l,defaultChecked:c,required:f,disabled:m,name:g,value:v,form:b,bubbleInput:E,setBubbleInput:C}=r0(w2,n),R=Gt(t,C),A=jA(l),N=wA(i);w.useEffect(()=>{const U=E;if(!U)return;const z=window.HTMLInputElement.prototype,$=Object.getOwnPropertyDescriptor(z,"checked").set,re=!a.current;if(A!==l&&$){const k=new Event("click",{bubbles:re});U.indeterminate=ta(l),$.call(U,ta(l)?!1:l),U.dispatchEvent(k)}},[E,A,l,a]);const V=w.useRef(ta(l)?!1:l);return p.jsx(wt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??V.current,required:f,disabled:m,name:g,value:v,form:b,...e,tabIndex:-1,ref:R,style:{...e.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});T2.displayName=w2;function fL(n){return typeof n=="function"}function ta(n){return n==="indeterminate"}function S2(n){return ta(n)?"indeterminate":n?"checked":"unchecked"}function Ff({className:n,...e}){return p.jsx(b2,{"data-slot":"checkbox",className:Zt("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:p.jsx(x2,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:p.jsx($y,{className:"size-3.5"})})})}function hL(){const{currentUser:n}=Fn(),{currentLedger:e,canEdit:t}=us(),[i,a]=w.useState([]),[l,c]=w.useState([]),[f,m]=w.useState([]),[g,v]=w.useState(!0),[b,E]=w.useState(!1),[C,R]=w.useState(null),[A,N]=w.useState(!1),[V,U]=w.useState(null),[z,G]=w.useState([]),[$,re]=w.useState(!1),[k,S]=w.useState(""),[M,L]=w.useState(""),[D,P]=w.useState({amount:"",type:"expense",description:"",categoryId:"",paymentMethod:"cash",notes:"",includeInBudget:!0,date:new Date().toISOString().split("T")[0],paidBy:(n==null?void 0:n.uid)||"",splitType:"none",splitWith:[],splitAmounts:{}}),[j,q]=w.useState("none"),[te,F]=w.useState({categoryId:"",includeInBudget:null}),W=()=>{P({amount:"",type:"expense",description:"",categoryId:"",paymentMethod:"cash",notes:"",includeInBudget:!0,date:new Date().toISOString().split("T")[0],paidBy:(n==null?void 0:n.uid)||"",splitType:"none",splitWith:[],splitAmounts:{}}),q("none"),N(!1),U(null),R(null)},Y=async()=>{if(e)try{const se=At(Be,"ledgers",e.id,"transactions"),Ae=Wn(se,ns("date","desc")),Ce=await wn(Ae),Ie=[];Ce.forEach(Fe=>{var lt;const pn=Fe.data();Ie.push({id:Fe.id,...pn,date:((lt=pn.date)==null?void 0:lt.toDate())||new Date})}),a(Ie)}catch(se){console.error("Error fetching transactions:",se),S("Failed to fetch transactions")}},pe=async()=>{if(e)try{const se=At(Be,"ledgers",e.id,"categories"),Ae=await wn(se),Ce=[];Ae.forEach(Ie=>{Ce.push({id:Ie.id,...Ie.data()})}),c(Ce),Ce.length===0&&await J()}catch(se){console.error("Error fetching categories:",se)}},B=async()=>{if(e!=null&&e.members)try{const se=[],Ae=Object.keys(e.members),Ce=10,Ie=new Map;for(let Fe=0;Fe<Ae.length;Fe+=Ce){const pn=Ae.slice(Fe,Fe+Ce);try{const lt=Wn(At(Be,"users"),ai("__name__","in",pn));(await wn(lt)).forEach(Hn=>{Ie.set(Hn.id,Hn.data())})}catch(lt){console.error("Error fetching user batch:",lt)}}for(const[Fe,pn]of Object.entries(e.members)){let lt={uid:Fe,role:pn};const at=Ie.get(Fe);at?lt={...lt,displayName:at.displayName,email:at.email,profileColor:at.profileColor}:Fe===(n==null?void 0:n.uid)?lt={...lt,displayName:n.displayName,email:n.email}:lt={...lt,displayName:`User ${Fe.slice(0,8)}`,email:`${Fe.slice(0,8)}@example.com`},se.push(lt)}m(se)}catch(se){console.error("Error fetching members:",se)}},J=async()=>{const se=[{name:"Food & Dining",type:"expense"},{name:"Transportation",type:"expense"},{name:"Shopping",type:"expense"},{name:"Entertainment",type:"expense"},{name:"Bills & Utilities",type:"expense"},{name:"Healthcare",type:"expense"},{name:"Salary",type:"income"},{name:"Freelance",type:"income"},{name:"Investment",type:"income"}];try{const Ae=At(Be,"ledgers",e.id,"categories");for(const Ce of se)await Qi(Ae,Ce);await pe()}catch(Ae){console.error("Error creating default categories:",Ae)}},ce=async se=>{if(se.preventDefault(),!t()){S("You do not have permission to add transactions");return}try{S("");const Ae={...D,amount:parseFloat(D.amount),date:xt.fromDate(new Date(D.date)),createdAt:xt.now(),userId:n.uid,paidBy:D.paidBy,splitType:D.splitType,splitWith:D.splitWith,splitAmounts:D.splitAmounts};C?(await Ki(qt(Be,"ledgers",e.id,"transactions",C.id),Ae),L("Transaction updated successfully")):(await Qi(At(Be,"ledgers",e.id,"transactions"),Ae),L("Transaction added successfully")),W(),E(!1),R(null),await Y()}catch(Ae){console.error("Error adding/updating transaction:",Ae),S("Failed to add/update transaction")}},oe=async se=>{if(!t()){S("You do not have permission to delete transactions");return}try{await Zc(qt(Be,"ledgers",e.id,"transactions",se)),L("Transaction deleted successfully"),await Y()}catch(Ae){console.error("Error deleting transaction:",Ae),S("Failed to delete transaction")}},me=async()=>{if(!(!t()||z.length===0)&&window.confirm(`Are you sure you want to delete ${z.length} selected transactions?`))try{S("");const se=500,Ae=[];for(let Ce=0;Ce<z.length;Ce+=se){const Ie=wy(Be);z.slice(Ce,Ce+se).forEach(pn=>{const lt=qt(Be,"ledgers",e.id,"transactions",pn);Ie.delete(lt)}),Ae.push(Ie)}for(const Ce of Ae)await Ce.commit();L(`Deleted ${z.length} transactions`),G([]),await Y()}catch(se){console.error("Error batch deleting transactions:",se),S("Failed to delete transactions")}},Ee=async()=>{if(!(!t()||z.length===0))try{S("");const se={};te.categoryId&&(se.categoryId=te.categoryId),te.includeInBudget!==null&&(se.includeInBudget=te.includeInBudget);const Ae=500,Ce=[];for(let Ie=0;Ie<z.length;Ie+=Ae){const Fe=wy(Be);z.slice(Ie,Ie+Ae).forEach(lt=>{const at=qt(Be,"ledgers",e.id,"transactions",lt);Fe.update(at,se)}),Ce.push(Fe)}for(const Ie of Ce)await Ie.commit();L(`Updated ${z.length} transactions`),G([]),re(!1),F({categoryId:"",includeInBudget:null}),await Y()}catch(se){console.error("Error batch updating transactions:",se),S("Failed to update transactions")}},ve=se=>{R(se),N(!0),U(se.id),E(!0),P({...se,date:se.date instanceof Date?se.date.toISOString().split("T")[0]:se.date,splitWith:se.splitWith||[],splitAmounts:se.splitAmounts||{}});const Ce=f.filter(Ie=>Ie.uid!==(n==null?void 0:n.uid)).map(Ie=>Ie.uid);se.splitWith.length===0?q("none"):se.splitWith.length===Ce.length&&Ce.every(Ie=>se.splitWith.includes(Ie))?q("everyone"):q("individuals")},ge=se=>{G(Ae=>Ae.includes(se)?Ae.filter(Ce=>Ce!==se):[...Ae,se])},xe=()=>{z.length===i.length?G([]):G(i.map(se=>se.id))},qe=se=>{P(Ae=>{const Ce=Ae.splitWith||[],Ie=Ce.includes(se)?Ce.filter(Fe=>Fe!==se):[...Ce,se];return setTimeout(()=>{Oe(Ie)},0),{...Ae,splitWith:Ie,splitType:Ie.length>0?"equal":"none"}})},ke=se=>{if(q(se),se==="none")P(Ae=>({...Ae,splitType:"none",splitWith:[]}));else if(se==="everyone"){const Ae=f.filter(Ce=>Ce.uid!==(n==null?void 0:n.uid)).map(Ce=>Ce.uid);P(Ce=>({...Ce,splitType:"equal",splitWith:Ae}))}else se==="individuals"&&P(Ae=>({...Ae,splitType:Ae.splitWith&&Ae.splitWith.length>0?"equal":"none"}))},Oe=se=>{const Ce=f.filter(Ie=>Ie.uid!==(n==null?void 0:n.uid)).map(Ie=>Ie.uid);se.length===0?q("none"):se.length===Ce.length&&Ce.every(Ie=>se.includes(Ie))?q("everyone"):q("individuals")},Le=f.length>1;return w.useEffect(()=>{e&&Promise.all([Y(),pe(),B()]).finally(()=>v(!1))},[e]),w.useEffect(()=>{n&&P(se=>({...se,paidBy:n.uid}))},[n]),g?p.jsx("div",{className:"p-6",children:"Loading transactions..."}):e?p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Transactions"}),p.jsx("div",{className:"flex space-x-2",children:t()&&p.jsxs(De,{onClick:()=>E(!0),className:"flex items-center space-x-2",children:[p.jsx(bl,{className:"h-4 w-4"}),p.jsx("span",{children:"Add Transaction"})]})})]}),k&&p.jsx(on,{variant:"destructive",children:p.jsx(ln,{children:k})}),M&&p.jsx(on,{children:p.jsx(ln,{children:M})}),(b||C)&&p.jsxs(_t,{children:[p.jsx(Ct,{children:p.jsx(Rt,{children:C?"Edit Transaction":"Add New Transaction"})}),p.jsx(bt,{children:p.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx(Ke,{htmlFor:"amount",children:"Amount"}),p.jsx(Lt,{id:"amount",type:"number",step:"0.01",value:D.amount,onChange:se=>P({...D,amount:se.target.value}),required:!0})]}),p.jsxs("div",{children:[p.jsx(Ke,{htmlFor:"type",children:"Type"}),p.jsxs(zi,{value:D.type,onValueChange:se=>P({...D,type:se}),children:[p.jsx(Hi,{children:p.jsx(Fi,{})}),p.jsxs(qi,{children:[p.jsx(Dn,{value:"expense",children:"Expense"}),p.jsx(Dn,{value:"income",children:"Income"})]})]})]}),p.jsxs("div",{children:[p.jsx(Ke,{htmlFor:"description",children:"Description"}),p.jsx(Lt,{id:"description",type:"text",value:D.description,onChange:se=>P({...D,description:se.target.value}),required:!0})]}),p.jsxs("div",{children:[p.jsx(Ke,{htmlFor:"category",children:"Category"}),p.jsxs(zi,{value:D.categoryId,onValueChange:se=>P({...D,categoryId:se}),children:[p.jsx(Hi,{children:p.jsx(Fi,{placeholder:"Select a category"})}),p.jsx(qi,{children:l.filter(se=>se.type===D.type).map(se=>p.jsx(Dn,{value:se.id,children:se.name},se.id))})]})]}),p.jsxs("div",{children:[p.jsx(Ke,{htmlFor:"date",children:"Date"}),p.jsx(Lt,{id:"date",type:"date",value:D.date,onChange:se=>P({...D,date:se.target.value}),required:!0})]}),p.jsxs("div",{children:[p.jsx(Ke,{htmlFor:"paymentMethod",children:"Payment Method"}),p.jsx(Lt,{id:"paymentMethod",type:"text",value:D.paymentMethod,onChange:se=>P({...D,paymentMethod:se.target.value})})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx(Ke,{htmlFor:"notes",children:"Notes"}),p.jsx(sL,{id:"notes",value:D.notes,onChange:se=>P({...D,notes:se.target.value})})]}),p.jsxs("div",{className:"md:col-span-2 flex items-center space-x-2",children:[p.jsx(Ff,{id:"includeInBudget",checked:D.includeInBudget,onCheckedChange:se=>P({...D,includeInBudget:se})}),p.jsx(Ke,{htmlFor:"includeInBudget",children:"Include in Budget"})]})]}),Le&&D.type==="expense"&&p.jsxs("div",{className:"space-y-4 border p-4 rounded-md",children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Split Expense"}),p.jsxs("div",{children:[p.jsx(Ke,{htmlFor:"paidBy",children:"Paid By"}),p.jsxs(zi,{value:D.paidBy,onValueChange:se=>P({...D,paidBy:se}),children:[p.jsx(Hi,{children:p.jsx(Fi,{placeholder:"Select payer"})}),p.jsx(qi,{children:f.map(se=>p.jsx(Dn,{value:se.uid,children:p.jsx(Qa,{user:se})},se.uid))})]})]}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(De,{type:"button",variant:j==="none"?"default":"outline",onClick:()=>ke("none"),children:"Don't Split"}),p.jsx(De,{type:"button",variant:j==="everyone"?"default":"outline",onClick:()=>ke("everyone"),children:"Split Equally (Everyone Else)"}),p.jsx(De,{type:"button",variant:j==="individuals"?"default":"outline",onClick:()=>ke("individuals"),children:"Split with Individuals"})]}),j==="individuals"&&p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ke,{children:"Select Members to Split With:"}),f.filter(se=>se.uid!==D.paidBy).map(se=>p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Ff,{id:`split-with-${se.uid}`,checked:(D.splitWith||[]).includes(se.uid),onCheckedChange:()=>qe(se.uid)}),p.jsx(Ke,{htmlFor:`split-with-${se.uid}`,children:p.jsx(Qa,{user:se})})]},se.uid))]}),D.splitType==="equal"&&(D.splitWith||[]).length>0&&p.jsxs("div",{className:"border-t pt-4 mt-4",children:[p.jsx("h4",{className:"font-semibold",children:"Split Details:"}),p.jsxs("p",{children:["Total Amount: ",th(D.amount||0,e==null?void 0:e.currency)]}),p.jsxs("p",{children:["Paid By: ",p.jsx(Qa,{user:f.find(se=>se.uid===D.paidBy)})]}),p.jsxs("p",{children:["Splitting with ",(D.splitWith||[]).length," other(s):"]}),p.jsxs("ul",{children:[(D.splitWith||[]).map(se=>{const Ae=f.find(Ie=>Ie.uid===se),Ce=th(D.amount/((D.splitWith||[]).length+1),e==null?void 0:e.currency);return p.jsxs("li",{children:["- ",p.jsx(Qa,{user:Ae}),": ",Ce]},se)}),p.jsxs("li",{children:["- ",p.jsx(Qa,{user:f.find(se=>se.uid===D.paidBy)})," (Payer): ",th(D.amount-(D.splitWith||[]).length*(D.amount/((D.splitWith||[]).length+1)),e==null?void 0:e.currency)]})]})]})]}),p.jsxs("div",{className:"flex justify-end space-x-2",children:[p.jsx(De,{type:"button",variant:"outline",onClick:()=>{E(!1),W()},children:"Cancel"}),p.jsx(De,{type:"submit",children:C?"Update Transaction":"Add Transaction"})]})]})})]}),$&&p.jsxs(_t,{children:[p.jsxs(Ct,{children:[p.jsx(Rt,{children:"Batch Edit Transactions"}),p.jsxs(On,{children:["Edit ",z.length," selected transactions"]})]}),p.jsx(bt,{children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(Ke,{htmlFor:"batchCategory",children:"Category"}),p.jsxs(zi,{value:te.categoryId,onValueChange:se=>F({...te,categoryId:se}),children:[p.jsx(Hi,{children:p.jsx(Fi,{placeholder:"Select a category"})}),p.jsx(qi,{children:l.map(se=>p.jsx(Dn,{value:se.id,children:se.name},se.id))})]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Ff,{id:"batchIncludeInBudget",checked:te.includeInBudget===!0,onCheckedChange:se=>F({...te,includeInBudget:se})}),p.jsx(Ke,{htmlFor:"batchIncludeInBudget",children:"Include in Budget"})]}),p.jsxs("div",{className:"flex justify-end space-x-2",children:[p.jsx(De,{type:"button",variant:"outline",onClick:()=>{re(!1),F({categoryId:"",includeInBudget:null})},children:"Cancel"}),p.jsxs(De,{onClick:Ee,children:["Update ",z.length," Transactions"]})]})]})})]}),p.jsxs(_t,{children:[p.jsxs(Ct,{children:[p.jsx(Rt,{children:"All Transactions"}),p.jsx(On,{children:"Manage your ledger's financial records."})]}),p.jsx(bt,{children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx(De,{variant:"outline",onClick:xe,children:z.length===i.length?"Deselect All":"Select All"}),z.length>0&&p.jsxs("div",{className:"flex space-x-2",children:[p.jsxs(De,{variant:"outline",onClick:()=>re(!0),className:"flex items-center space-x-2",children:[p.jsx(El,{className:"h-4 w-4"}),p.jsxs("span",{children:["Batch Edit (",z.length,")"]})]}),p.jsxs(De,{variant:"destructive",onClick:me,children:["Delete Selected (",z.length,")"]})]})]}),i.length===0?p.jsx("p",{children:"No transactions found. Add one above!"}):p.jsx("div",{className:"space-y-4",children:(()=>{const se={};return i.forEach(Ce=>{const Ie=new Date(Ce.date),Fe=`${Ie.getFullYear()}-${String(Ie.getMonth()+1).padStart(2,"0")}`;se[Fe]||(se[Fe]=[]),se[Fe].push(Ce)}),Object.keys(se).sort((Ce,Ie)=>Ie.localeCompare(Ce)).map(Ce=>{const Ie=se[Ce],[Fe,pn]=Ce.split("-"),lt=new Date(Fe,pn-1).toLocaleDateString("en-US",{year:"numeric",month:"long"});return p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center my-6",children:[p.jsx("div",{className:"flex-grow border-t border-gray-300"}),p.jsx("div",{className:"mx-4 px-3 py-1 bg-gray-100 text-gray-600 text-sm font-medium rounded-full",children:lt}),p.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),p.jsx("div",{className:"space-y-3",children:Ie.map(at=>{const Hn=l.find(qn=>qn.id===at.categoryId),fo=f.find(qn=>qn.uid===at.paidBy),cs=f.filter(qn=>(at.splitWith||[]).includes(qn.uid));return p.jsxs("div",{className:"border p-4 rounded-md shadow-sm flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[p.jsx(Ff,{checked:z.includes(at.id),onCheckedChange:()=>ge(at.id)}),p.jsx("div",{className:"flex-1",children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("p",{className:`font-semibold ${at.type==="income"?"text-green-600":"text-red-600"}`,children:at.description}),p.jsxs("p",{className:"text-sm text-gray-500",children:[Hn==null?void 0:Hn.name," | ",new Date(at.date).toLocaleDateString()]}),at.type==="expense"&&at.splitType!=="none"&&p.jsxs("p",{className:"text-sm text-gray-500",children:["Paid by: ",p.jsx(Qa,{user:fo}),(at.splitWith||[]).length>0&&p.jsxs("span",{children:[", Split with: ",cs.map(qn=>qn.displayName||qn.email).join(", ")]})]}),at.type==="income"&&p.jsxs("p",{className:"text-sm text-gray-500",children:["Paid to: ",p.jsx(Qa,{user:fo})]})]}),p.jsx("div",{className:"text-right",children:p.jsx("p",{className:`font-semibold text-lg ${at.type==="income"?"text-green-600":"text-red-600"}`,children:Zj(at.amount,e==null?void 0:e.currency,at.type==="income")})})]})})]}),p.jsxs("div",{className:"flex space-x-2 ml-4",children:[p.jsx(De,{variant:"outline",size:"sm",onClick:()=>ve(at),children:p.jsx(El,{className:"h-4 w-4"})}),p.jsx(De,{variant:"destructive",size:"sm",onClick:()=>oe(at.id),children:p.jsx(xl,{className:"h-4 w-4"})})]})]},at.id)})})]},Ce)})})()})]})})]})]}):p.jsx("div",{className:"p-6",children:"Please select a ledger to view transactions."})}var i0="Progress",s0=100,[mL,GL]=ed(i0),[pL,gL]=mL(i0),A2=w.forwardRef((n,e)=>{const{__scopeProgress:t,value:i=null,max:a,getValueLabel:l=yL,...c}=n;(a||a===0)&&!Bw(a)&&console.error(vL(`${a}`,"Progress"));const f=Bw(a)?a:s0;i!==null&&!zw(i,f)&&console.error(_L(`${i}`,"Progress"));const m=zw(i,f)?i:null,g=Oh(m)?l(m,f):void 0;return p.jsx(pL,{scope:t,value:m,max:f,children:p.jsx(wt.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":Oh(m)?m:void 0,"aria-valuetext":g,role:"progressbar","data-state":I2(m,f),"data-value":m??void 0,"data-max":f,...c,ref:e})})});A2.displayName=i0;var C2="ProgressIndicator",R2=w.forwardRef((n,e)=>{const{__scopeProgress:t,...i}=n,a=gL(C2,t);return p.jsx(wt.div,{"data-state":I2(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...i,ref:e})});R2.displayName=C2;function yL(n,e){return`${Math.round(n/e*100)}%`}function I2(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function Oh(n){return typeof n=="number"}function Bw(n){return Oh(n)&&!isNaN(n)&&n>0}function zw(n,e){return Oh(n)&&!isNaN(n)&&n<=e&&n>=0}function vL(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${s0}\`.`}function _L(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${s0} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var bL=A2,EL=R2;function jy({className:n,value:e,...t}){return p.jsx(bL,{"data-slot":"progress",className:Zt("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",n),...t,children:p.jsx(EL,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}function xL(){const{currentUser:n}=Fn(),{currentLedger:e,canEdit:t}=us(),[i,a]=w.useState([]),[l,c]=w.useState([]),[f,m]=w.useState([]),[g,v]=w.useState(!0),[b,E]=w.useState(!1),[C,R]=w.useState(null),[A,N]=w.useState(""),[V,U]=w.useState(""),[z,G]=w.useState({name:"",startDate:new Date().toISOString().split("T")[0],endDate:"",totalAmount:"",timeSpan:"monthly",categories:{}}),$=(q,te)=>{const F=new Date(q);let W=new Date(F);switch(te){case"weekly":W.setDate(F.getDate()+6);break;case"monthly":W.setMonth(F.getMonth()+1),W.setDate(F.getDate()-1);break;case"quarterly":W.setMonth(F.getMonth()+3),W.setDate(F.getDate()-1);break;case"yearly":W.setFullYear(F.getFullYear()+1),W.setDate(F.getDate()-1);break;default:W.setMonth(F.getMonth()+1),W.setDate(F.getDate()-1)}return W.toISOString().split("T")[0]},re=async()=>{if(e)try{const q=At(Be,"ledgers",e.id,"budgets"),te=Wn(q,ns("startDate","desc")),F=await wn(te),W=[];F.forEach(Y=>{var B,J;const pe=Y.data();W.push({id:Y.id,...pe,startDate:((B=pe.startDate)==null?void 0:B.toDate())||new Date,endDate:((J=pe.endDate)==null?void 0:J.toDate())||new Date})}),a(W)}catch(q){console.error("Error fetching budgets:",q),N("Failed to fetch budgets")}},k=async()=>{if(e)try{const q=At(Be,"ledgers",e.id,"categories"),te=await wn(q),F=[];te.forEach(W=>{F.push({id:W.id,...W.data()})}),c(F)}catch(q){console.error("Error fetching categories:",q)}},S=async()=>{if(e)try{const q=At(Be,"ledgers",e.id,"transactions"),te=Wn(q,ai("includeInBudget","==",!0)),F=await wn(te),W=[];F.forEach(Y=>{var B;const pe=Y.data();W.push({id:Y.id,...pe,date:((B=pe.date)==null?void 0:B.toDate())||new Date})}),m(W)}catch(q){console.error("Error fetching transactions:",q)}},M=q=>{const te=f.filter(Y=>{const pe=Y.date;return pe>=q.startDate&&pe<=q.endDate&&Y.type==="expense"}),F=te.reduce((Y,pe)=>Y+pe.amount,0),W={};return te.forEach(Y=>{Y.categoryId&&(W[Y.categoryId]=(W[Y.categoryId]||0)+Y.amount)}),{totalSpent:F,categorySpending:W,transactionCount:te.length}},L=async q=>{if(q.preventDefault(),!t()){N("You do not have permission to manage budgets");return}try{N("");const te={...z,totalAmount:parseFloat(z.totalAmount),startDate:xt.fromDate(new Date(z.startDate)),endDate:xt.fromDate(new Date(z.endDate)),createdAt:xt.now(),userId:n.uid};C?(await Ki(qt(Be,"ledgers",e.id,"budgets",C.id),te),U("Budget updated successfully")):(await Qi(At(Be,"ledgers",e.id,"budgets"),te),U("Budget created successfully")),G({name:"",startDate:new Date().toISOString().split("T")[0],endDate:"",totalAmount:"",timeSpan:"monthly",categories:{}}),E(!1),R(null),await re()}catch(te){console.error("Error saving budget:",te),N("Failed to save budget")}},D=async q=>{if(!t()){N("You do not have permission to delete budgets");return}try{await Zc(qt(Be,"ledgers",e.id,"budgets",q)),U("Budget deleted successfully"),await re()}catch(te){console.error("Error deleting budget:",te),N("Failed to delete budget")}},P=(q,te)=>{G(F=>({...F,categories:{...F.categories,[q]:parseFloat(te)||0}}))},j=()=>{const q=Object.values(z.categories).reduce((te,F)=>te+(F||0),0);return(parseFloat(z.totalAmount)||0)-q};return w.useEffect(()=>{e&&Promise.all([re(),k(),S()]).finally(()=>v(!1))},[e]),w.useEffect(()=>{if(z.startDate&&z.timeSpan){const q=$(z.startDate,z.timeSpan);G(te=>({...te,endDate:q}))}},[z.startDate,z.timeSpan]),g?p.jsx("div",{className:"p-6",children:"Loading budgets..."}):e?p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Budget Management"}),t()&&p.jsxs(De,{onClick:()=>E(!0),className:"flex items-center space-x-2",children:[p.jsx(bl,{className:"h-4 w-4"}),p.jsx("span",{children:"Create Budget"})]})]}),A&&p.jsx(on,{variant:"destructive",children:p.jsx(ln,{children:A})}),V&&p.jsx(on,{children:p.jsx(ln,{children:V})}),(b||C)&&p.jsxs(_t,{children:[p.jsx(Ct,{children:p.jsx(Rt,{children:C?"Edit Budget":"Create New Budget"})}),p.jsx(bt,{children:p.jsxs("form",{onSubmit:L,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx(Ke,{htmlFor:"name",children:"Budget Name"}),p.jsx(Lt,{id:"name",value:z.name,onChange:q=>G({...z,name:q.target.value}),placeholder:"e.g., Monthly Budget - June 2025",required:!0})]}),p.jsxs("div",{children:[p.jsx(Ke,{htmlFor:"timeSpan",children:"Time Span"}),p.jsxs(zi,{value:z.timeSpan,onValueChange:q=>G({...z,timeSpan:q}),children:[p.jsx(Hi,{children:p.jsx(Fi,{})}),p.jsxs(qi,{children:[p.jsx(Dn,{value:"weekly",children:"Weekly"}),p.jsx(Dn,{value:"monthly",children:"Monthly"}),p.jsx(Dn,{value:"quarterly",children:"Quarterly"}),p.jsx(Dn,{value:"yearly",children:"Yearly"}),p.jsx(Dn,{value:"custom",children:"Custom"})]})]})]}),p.jsxs("div",{children:[p.jsx(Ke,{htmlFor:"startDate",children:"Start Date"}),p.jsx(Lt,{id:"startDate",type:"date",value:z.startDate,onChange:q=>G({...z,startDate:q.target.value}),required:!0})]}),p.jsxs("div",{children:[p.jsx(Ke,{htmlFor:"endDate",children:"End Date"}),p.jsx(Lt,{id:"endDate",type:"date",value:z.endDate,onChange:q=>G({...z,endDate:q.target.value}),disabled:z.timeSpan!=="custom",required:!0})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx(Ke,{htmlFor:"totalAmount",children:"Total Budget Amount"}),p.jsx(Lt,{id:"totalAmount",type:"number",step:"0.01",value:z.totalAmount,onChange:q=>G({...z,totalAmount:q.target.value}),required:!0})]})]}),p.jsxs("div",{children:[p.jsx(Ke,{children:"Category Budget Allocation"}),p.jsxs("div",{className:"mt-2 space-y-2",children:[l.filter(q=>q.type==="expense").map(q=>p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Ke,{className:"w-32 text-sm",children:q.name}),p.jsx(Lt,{type:"number",step:"0.01",value:z.categories[q.id]||"",onChange:te=>P(q.id,te.target.value),placeholder:"0.00",className:"w-32"})]},q.id)),p.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[p.jsx(Ke,{className:"w-32 text-sm font-medium",children:"Remaining:"}),p.jsxs("span",{className:`text-sm font-medium ${j()<0?"text-red-600":"text-green-600"}`,children:["$",j().toFixed(2)]})]})]})]}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(De,{type:"submit",children:C?"Update Budget":"Create Budget"}),p.jsx(De,{type:"button",variant:"outline",onClick:()=>{E(!1),R(null),G({name:"",startDate:new Date().toISOString().split("T")[0],endDate:"",totalAmount:"",timeSpan:"monthly",categories:{}})},children:"Cancel"})]})]})})]}),p.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:i.length===0?p.jsx(_t,{className:"lg:col-span-2",children:p.jsxs(bt,{className:"text-center py-8",children:[p.jsx(m3,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No budgets created yet"}),p.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first budget to start tracking your spending goals."}),t()&&p.jsx(De,{onClick:()=>E(!0),children:"Create Your First Budget"})]})}):i.map(q=>{const te=M(q),F=te.totalSpent/q.totalAmount*100,W=te.totalSpent>q.totalAmount,Y=Math.ceil((q.endDate-new Date)/(1e3*60*60*24));return p.jsxs(_t,{children:[p.jsx(Ct,{children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx(Rt,{className:"text-lg",children:q.name}),p.jsxs(On,{children:[q.startDate.toLocaleDateString()," - ",q.endDate.toLocaleDateString()]})]}),t()&&p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(De,{variant:"ghost",size:"sm",onClick:()=>{R(q),G({name:q.name,startDate:q.startDate.toISOString().split("T")[0],endDate:q.endDate.toISOString().split("T")[0],totalAmount:q.totalAmount.toString(),timeSpan:q.timeSpan||"custom",categories:q.categories||{}})},children:p.jsx(El,{className:"h-4 w-4"})}),p.jsx(De,{variant:"ghost",size:"sm",onClick:()=>D(q.id),children:p.jsx(xl,{className:"h-4 w-4"})})]})]})}),p.jsxs(bt,{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-sm font-medium",children:"Budget Progress"}),p.jsxs(Dr,{variant:W?"destructive":F>80?"secondary":"default",children:[F.toFixed(1),"%"]})]}),p.jsx(jy,{value:Math.min(F,100),className:"h-2"}),p.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[p.jsxs("span",{children:["$",te.totalSpent.toFixed(2)," spent"]}),p.jsxs("span",{children:["$",q.totalAmount.toFixed(2)," budget"]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[p.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",(q.totalAmount-te.totalSpent).toFixed(2)]}),p.jsx("div",{className:"text-sm text-gray-600",children:"Remaining"})]}),p.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[p.jsx("div",{className:"text-lg font-semibold text-gray-900",children:Y>0?Y:0}),p.jsx("div",{className:"text-sm text-gray-600",children:"Days Left"})]})]}),q.categories&&Object.keys(q.categories).length>0&&p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium mb-2",children:"Category Breakdown"}),p.jsx("div",{className:"space-y-2",children:Object.entries(q.categories).map(([pe,B])=>{const J=l.find(me=>me.id===pe),ce=te.categorySpending[pe]||0,oe=ce/B*100;return J?p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{children:J.name}),p.jsxs("span",{children:["$",ce.toFixed(2)," / $",B.toFixed(2)]})]}),p.jsx(jy,{value:Math.min(oe,100),className:"h-1"})]},pe):null})})]}),p.jsxs("div",{className:"text-sm text-gray-600",children:[te.transactionCount," transactions in this period"]})]})]},q.id)})})]}):p.jsx("div",{className:"p-6",children:"Please select a ledger to view budgets."})}/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */var wL=function(){var n={base:"https://twemoji.maxcdn.com/v/14.0.2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:U,toCodePoint:re},onerror:function(){this.parentNode&&this.parentNode.replaceChild(m(this.alt,!1),this)},parse:z,replace:G,test:$},e={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},t=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[©®\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd\udec3-\udec5\udef0-\udef6]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedd-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec2\uded0-\uded9\udee0-\udee7]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,i=/\uFE0F/g,a="‍",l=/[&<>'"]/g,c=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,f=String.fromCharCode;return n;function m(k,S){return document.createTextNode(S?k.replace(i,""):k)}function g(k){return k.replace(l,A)}function v(k,S){return"".concat(S.base,S.size,"/",k,S.ext)}function b(k,S){for(var M=k.childNodes,L=M.length,D,P;L--;)D=M[L],P=D.nodeType,P===3?S.push(D):P===1&&!("ownerSVGElement"in D)&&!c.test(D.nodeName.toLowerCase())&&b(D,S);return S}function E(k){return re(k.indexOf(a)<0?k.replace(i,""):k)}function C(k,S){for(var M=b(k,[]),L=M.length,D,P,j,q,te,F,W,Y,pe,B,J,ce,oe;L--;){for(j=!1,q=document.createDocumentFragment(),te=M[L],F=te.nodeValue,Y=0;W=t.exec(F);){if(pe=W.index,pe!==Y&&q.appendChild(m(F.slice(Y,pe),!0)),J=W[0],ce=E(J),Y=pe+J.length,oe=S.callback(ce,S),ce&&oe){B=new Image,B.onerror=S.onerror,B.setAttribute("draggable","false"),D=S.attributes(J,ce);for(P in D)D.hasOwnProperty(P)&&P.indexOf("on")!==0&&!B.hasAttribute(P)&&B.setAttribute(P,D[P]);B.className=S.className,B.alt=J,B.src=oe,j=!0,q.appendChild(B)}B||q.appendChild(m(J,!1)),B=null}j&&(Y<F.length&&q.appendChild(m(F.slice(Y),!0)),te.parentNode.replaceChild(q,te))}return k}function R(k,S){return G(k,function(M){var L=M,D=E(M),P=S.callback(D,S),j,q;if(D&&P){L="<img ".concat('class="',S.className,'" ','draggable="false" ','alt="',M,'"',' src="',P,'"'),j=S.attributes(M,D);for(q in j)j.hasOwnProperty(q)&&q.indexOf("on")!==0&&L.indexOf(" "+q+"=")===-1&&(L=L.concat(" ",q,'="',g(j[q]),'"'));L=L.concat("/>")}return L})}function A(k){return e[k]}function N(){return null}function V(k){return typeof k=="number"?k+"x"+k:k}function U(k){var S=typeof k=="string"?parseInt(k,16):k;return S<65536?f(S):(S-=65536,f(55296+(S>>10),56320+(S&1023)))}function z(k,S){return(!S||typeof S=="function")&&(S={callback:S}),(typeof k=="string"?R:C)(k,{callback:S.callback||v,attributes:typeof S.attributes=="function"?S.attributes:N,base:typeof S.base=="string"?S.base:n.base,ext:S.ext||n.ext,size:S.folder||V(S.size||n.size),className:S.className||n.className,onerror:S.onerror||n.onerror})}function G(k,S){return String(k).replace(t,S)}function $(k){t.lastIndex=0;var S=t.test(k);return t.lastIndex=0,S}function re(k,S){for(var M=[],L=0,D=0,P=0;P<k.length;)L=k.charCodeAt(P++),D?(M.push((65536+(D-55296<<10)+(L-56320)).toString(16)),D=0):55296<=L&&L<=56319?D=L:M.push(L.toString(16));return M.join(S||"-")}}();const TL=[{name:"Food & Dining",emoji:"🍽️",type:"expense"},{name:"Transportation",emoji:"🚗",type:"expense"},{name:"Shopping",emoji:"🛍️",type:"expense"},{name:"Entertainment",emoji:"🎬",type:"expense"},{name:"Bills & Utilities",emoji:"💡",type:"expense"},{name:"Healthcare",emoji:"🏥",type:"expense"},{name:"Education",emoji:"📚",type:"expense"},{name:"Travel",emoji:"✈️",type:"expense"},{name:"Fitness",emoji:"💪",type:"expense"},{name:"Personal Care",emoji:"💄",type:"expense"}],SL=[{name:"Salary",emoji:"💰",type:"income"},{name:"Freelance",emoji:"💻",type:"income"},{name:"Investment",emoji:"📈",type:"income"},{name:"Business",emoji:"🏢",type:"income"},{name:"Rental",emoji:"🏠",type:"income"},{name:"Gift",emoji:"🎁",type:"income"}],AL=["🍽️","🚗","🛍️","🎬","💡","🏥","📚","✈️","💪","💄","💰","💻","📈","🏢","🏠","🎁","☕","🍕","🎵","🎮","📱","👕","⛽","🚌","🚇","🏪","🍺","🎪","🎨","📖","💊","🏋️","🧘","🎯","🎲","🎸","📺","🎤","🎭","🎪"];function CL(){const{currentUser:n}=Fn(),{currentLedger:e,canEdit:t}=us(),[i,a]=w.useState([]),[l,c]=w.useState(!0),[f,m]=w.useState(!1),[g,v]=w.useState(null),[b,E]=w.useState(""),[C,R]=w.useState(""),[A,N]=w.useState({name:"",emoji:"📝",type:"expense"}),V=D=>D?p.jsx("span",{dangerouslySetInnerHTML:{__html:wL.parse(D,{folder:"svg",ext:".svg",base:"https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/"})},style:{width:"20px",height:"20px",display:"inline-block"}}):null,U=async()=>{if(e)try{const D=At(Be,"ledgers",e.id,"categories"),P=Wn(D,ns("type"),ns("name")),j=await wn(P),q=[];j.forEach(te=>{q.push({id:te.id,...te.data()})}),a(q),c(!1)}catch(D){console.error("Error fetching categories:",D),E("Failed to fetch categories"),c(!1)}},z=async()=>{if(!(!e||!t()))try{const D=At(Be,"ledgers",e.id,"categories");for(const P of TL)await Qi(D,{...P,createdAt:new Date,createdBy:n.uid});for(const P of SL)await Qi(D,{...P,createdAt:new Date,createdBy:n.uid});await U(),R("Default categories created successfully!")}catch(D){console.error("Error creating default categories:",D),E("Failed to create default categories")}},G=async D=>{if(D.preventDefault(),!(!e||!t()))try{const P=At(Be,"ledgers",e.id,"categories");await Qi(P,{...A,createdAt:new Date,createdBy:n.uid}),N({name:"",emoji:"📝",type:"expense"}),m(!1),await U(),R("Category added successfully!")}catch(P){console.error("Error adding category:",P),E("Failed to add category")}},$=async D=>{if(D.preventDefault(),!(!g||!t()))try{const P=qt(Be,"ledgers",e.id,"categories",g.id);await Ki(P,{name:A.name,emoji:A.emoji,type:A.type,updatedAt:new Date,updatedBy:n.uid}),v(null),N({name:"",emoji:"📝",type:"expense"}),await U(),R("Category updated successfully!")}catch(P){console.error("Error updating category:",P),E("Failed to update category")}},re=async D=>{if(!(!t()||!confirm("Are you sure you want to delete this category?")))try{const P=qt(Be,"ledgers",e.id,"categories",D);await Zc(P),await U(),R("Category deleted successfully!")}catch(P){console.error("Error deleting category:",P),E("Failed to delete category")}},k=D=>{v(D),N({name:D.name,emoji:D.emoji,type:D.type}),m(!1)},S=()=>{v(null),N({name:"",emoji:"📝",type:"expense"})};if(w.useEffect(()=>{U()},[e]),w.useEffect(()=>{if(C||b){const D=setTimeout(()=>{R(""),E("")},3e3);return()=>clearTimeout(D)}},[C,b]),l)return p.jsx("div",{className:"p-6",children:p.jsxs("div",{className:"animate-pulse space-y-6",children:[p.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2,3,4].map(D=>p.jsx("div",{className:"h-32 bg-gray-200 rounded"},D))})]})});const M=i.filter(D=>D.type==="expense"),L=i.filter(D=>D.type==="income");return p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Category Management"}),t()&&p.jsxs(De,{onClick:()=>m(!0),className:"flex items-center space-x-2",children:[p.jsx(bl,{className:"h-4 w-4"}),p.jsx("span",{children:"Add Category"})]})]}),b&&p.jsx(on,{variant:"destructive",children:p.jsx(ln,{children:b})}),C&&p.jsx(on,{children:p.jsx(ln,{children:C})}),(f||g)&&p.jsxs(_t,{children:[p.jsxs(Ct,{children:[p.jsx(Rt,{children:g?"Edit Category":"Add New Category"}),p.jsx(On,{children:g?"Update category details":"Create a new category with emoji"})]}),p.jsx(bt,{children:p.jsxs("form",{onSubmit:g?$:G,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx(Ke,{htmlFor:"name",children:"Category Name"}),p.jsx(Lt,{id:"name",value:A.name,onChange:D=>N({...A,name:D.target.value}),placeholder:"Enter category name",required:!0})]}),p.jsxs("div",{children:[p.jsx(Ke,{htmlFor:"type",children:"Type"}),p.jsxs(zi,{value:A.type,onValueChange:D=>N({...A,type:D}),children:[p.jsx(Hi,{children:p.jsx(Fi,{})}),p.jsxs(qi,{children:[p.jsx(Dn,{value:"expense",children:"Expense"}),p.jsx(Dn,{value:"income",children:"Income"})]})]})]}),p.jsxs("div",{children:[p.jsx(Ke,{htmlFor:"emoji",children:"Emoji"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Lt,{id:"emoji",value:A.emoji,onChange:D=>N({...A,emoji:D.target.value}),placeholder:"📝",className:"w-20"}),p.jsx("div",{className:"flex items-center space-x-1",children:V(A.emoji)})]})]})]}),p.jsxs("div",{children:[p.jsx(Ke,{children:"Popular Emojis"}),p.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:AL.map((D,P)=>p.jsx("button",{type:"button",onClick:()=>N({...A,emoji:D}),className:"p-2 border rounded hover:bg-gray-100 transition-colors",children:V(D)},P))})]}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsxs(De,{type:"submit",className:"flex items-center space-x-2",children:[p.jsx(Yy,{className:"h-4 w-4"}),p.jsxs("span",{children:[g?"Update":"Add"," Category"]})]}),p.jsxs(De,{type:"button",variant:"outline",onClick:()=>{m(!1),S()},className:"flex items-center space-x-2",children:[p.jsx(wl,{className:"h-4 w-4"}),p.jsx("span",{children:"Cancel"})]})]})]})})]}),i.length===0?p.jsx(_t,{children:p.jsxs(bt,{className:"text-center py-8",children:[p.jsx(xT,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Categories Found"}),p.jsx("p",{className:"text-gray-600 mb-4",children:"Create categories to organize your transactions"}),t()&&p.jsxs(De,{onClick:z,className:"flex items-center space-x-2 mx-auto",children:[p.jsx(bl,{className:"h-4 w-4"}),p.jsx("span",{children:"Create Default Categories"})]})]})}):p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs(_t,{children:[p.jsx(Ct,{children:p.jsxs(Rt,{className:"flex items-center space-x-2",children:[p.jsx("span",{children:"💸"}),p.jsx("span",{children:"Expense Categories"}),p.jsx(Dr,{variant:"secondary",children:M.length})]})}),p.jsx(bt,{children:p.jsx("div",{className:"space-y-2",children:M.map(D=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[V(D.emoji),p.jsx("span",{className:"font-medium",children:D.name})]}),t()&&p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(De,{size:"sm",variant:"ghost",onClick:()=>k(D),className:"h-8 w-8 p-0",children:p.jsx(El,{className:"h-4 w-4"})}),p.jsx(De,{size:"sm",variant:"ghost",onClick:()=>re(D.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:p.jsx(xl,{className:"h-4 w-4"})})]})]},D.id))})})]}),p.jsxs(_t,{children:[p.jsx(Ct,{children:p.jsxs(Rt,{className:"flex items-center space-x-2",children:[p.jsx("span",{children:"💰"}),p.jsx("span",{children:"Income Categories"}),p.jsx(Dr,{variant:"secondary",children:L.length})]})}),p.jsx(bt,{children:p.jsx("div",{className:"space-y-2",children:L.map(D=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[V(D.emoji),p.jsx("span",{className:"font-medium",children:D.name})]}),t()&&p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(De,{size:"sm",variant:"ghost",onClick:()=>k(D),className:"h-8 w-8 p-0",children:p.jsx(El,{className:"h-4 w-4"})}),p.jsx(De,{size:"sm",variant:"ghost",onClick:()=>re(D.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:p.jsx(xl,{className:"h-4 w-4"})})]})]},D.id))})})]})]})]})}function RL({ledger:n,onClose:e}){const{currentUser:t}=Fn(),{refreshLedgers:i}=us(),[a,l]=w.useState(!1),[c,f]=w.useState(""),[m,g]=w.useState(""),[v,b]=w.useState([]),[E,C]=w.useState([]),[R,A]=w.useState({email:"",role:"member"}),N=async()=>{if(n)try{const $=At(Be,"invitations"),re=Wn($,ai("ledgerId","==",n.id),ai("status","==","pending"),ns("createdAt","desc")),k=await wn(re),S=[];k.forEach(M=>{S.push({id:M.id,...M.data()})}),b(S)}catch($){console.error("Error fetching invitations:",$)}},V=async()=>{if(!(!n||!n.members))try{const $=At(Be,"users"),re=Object.keys(n.members);if(re.length===0)return;const k=[];for(const S of re)try{(await wn(Wn($,ai("__name__","==",S)))).forEach(L=>{k.push({id:L.id,...L.data(),role:n.members[S]})})}catch{k.push({id:S,email:"Unknown User",displayName:"Unknown User",role:n.members[S]})}C(k)}catch($){console.error("Error fetching members:",$)}},U=async()=>{if(!t||!n||!R.email.trim())return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(R.email)){f("Please enter a valid email address");return}if(E.find(S=>S.email.toLowerCase()===R.email.toLowerCase())){f("This user is already a member of this ledger");return}if(v.find(S=>S.inviteeEmail.toLowerCase()===R.email.toLowerCase())){f("An invitation has already been sent to this email address");return}try{l(!0),f(""),await Qi(At(Be,"invitations"),{ledgerId:n.id,ledgerName:n.name,inviterId:t.uid,inviterEmail:t.email,inviterName:t.displayName||t.email,inviteeEmail:R.email.toLowerCase(),role:R.role,status:"pending",createdAt:new Date,expiresAt:new Date(Date.now()+7*24*60*60*1e3)}),await N(),g("Invitation sent successfully!"),A({email:"",role:"member"})}catch(S){console.error("Error sending invitation:",S),f("Failed to send invitation")}finally{l(!1)}},z=async $=>{try{l(!0),await Zc(qt(Be,"invitations",$)),await N(),g("Invitation cancelled successfully!")}catch(re){console.error("Error cancelling invitation:",re),f("Failed to cancel invitation")}finally{l(!1)}},G=async $=>{if(confirm("Are you sure you want to remove this member from the ledger?"))try{l(!0);const re={...n.members};delete re[$],await Ki(qt(Be,"ledgers",n.id),{members:re,updatedAt:new Date}),await i(),await V(),g("Member removed successfully!")}catch(re){console.error("Error removing member:",re),f("Failed to remove member")}finally{l(!1)}};return w.useEffect(()=>{N(),V()},[n]),w.useEffect(()=>{if(m||c){const $=setTimeout(()=>{g(""),f("")},3e3);return()=>clearTimeout($)}},[m,c]),p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:p.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Manage Ledger Access: ",n==null?void 0:n.name]}),p.jsx(De,{variant:"ghost",size:"sm",onClick:e,children:p.jsx(wl,{className:"h-4 w-4"})})]}),c&&p.jsx(on,{variant:"destructive",className:"mb-4",children:p.jsx(ln,{children:c})}),m&&p.jsx(on,{className:"mb-4",children:p.jsx(ln,{children:m})}),p.jsxs(_t,{className:"mb-6",children:[p.jsxs(Ct,{children:[p.jsxs(Rt,{className:"flex items-center",children:[p.jsx(TT,{className:"h-5 w-5 mr-2"}),"Invite New User"]}),p.jsx(On,{children:"Send an invitation to add a new member to this ledger."})]}),p.jsxs(bt,{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(Ke,{htmlFor:"email",children:"Email Address"}),p.jsx(Lt,{id:"email",type:"email",value:R.email,onChange:$=>A(re=>({...re,email:$.target.value})),placeholder:"user@example.com"})]}),p.jsxs("div",{children:[p.jsx(Ke,{htmlFor:"role",children:"Role"}),p.jsxs(zi,{value:R.role,onValueChange:$=>A(re=>({...re,role:$})),children:[p.jsx(Hi,{children:p.jsx(Fi,{placeholder:"Select role"})}),p.jsxs(qi,{children:[p.jsx(Dn,{value:"member",children:"Member"}),p.jsx(Dn,{value:"owner",children:"Owner"})]})]})]}),p.jsxs(De,{onClick:U,disabled:a||!R.email.trim(),className:"w-full",children:[p.jsx(l3,{className:"h-4 w-4 mr-2"}),"Send Invitation"]})]})]}),p.jsxs(_t,{className:"mb-6",children:[p.jsx(Ct,{children:p.jsxs(Rt,{className:"flex items-center",children:[p.jsx(AT,{className:"h-5 w-5 mr-2"}),"Current Members (",E.length,")"]})}),p.jsx(bt,{children:p.jsx("div",{className:"space-y-3",children:E.map($=>p.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(Ol,{user:$,size:"sm"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:$.displayName||"Unknown User"}),p.jsx("p",{className:"text-sm text-gray-600",children:$.email})]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Dr,{variant:$.role==="owner"?"default":"secondary",children:$.role}),$.id!==t.uid&&$.role!=="owner"&&p.jsx(De,{size:"sm",variant:"destructive",onClick:()=>G($.id),disabled:a,children:p.jsx(xl,{className:"h-3 w-3"})})]})]},$.id))})})]}),v.length>0&&p.jsxs(_t,{children:[p.jsx(Ct,{children:p.jsxs(Rt,{className:"flex items-center",children:[p.jsx(Kg,{className:"h-5 w-5 mr-2"}),"Pending Invitations (",v.length,")"]})}),p.jsx(bt,{children:p.jsx("div",{className:"space-y-3",children:v.map($=>p.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(ET,{className:"h-5 w-5 text-gray-400"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:$.inviteeEmail}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Invited ",new Date($.createdAt.toDate()).toLocaleDateString()]})]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Dr,{variant:"secondary",children:$.role}),p.jsx(Dr,{variant:"outline",children:"Pending"}),p.jsx(De,{size:"sm",variant:"destructive",onClick:()=>z($.id),disabled:a,children:p.jsx(wl,{className:"h-3 w-3"})})]})]},$.id))})})]})]})})})}const IL=[{value:"CNY",label:"¥ Chinese Yuan (CNY)"},{value:"USD",label:"$ US Dollar (USD)"},{value:"EUR",label:"€ Euro (EUR)"},{value:"GBP",label:"£ British Pound (GBP)"},{value:"JPY",label:"¥ Japanese Yen (JPY)"}];function NL(){const{currentUser:n}=Fn(),{ledgers:e,currentLedger:t,switchLedger:i,refreshLedgers:a,isOwner:l}=us(),[c,f]=w.useState(!1),[m,g]=w.useState(!1),[v,b]=w.useState(null),[E,C]=w.useState(!1),[R,A]=w.useState(null),[N,V]=w.useState(""),[U,z]=w.useState(""),[G,$]=w.useState({name:"",currency:"CNY",description:""}),re=async()=>{if(!(!n||!G.name.trim()))try{f(!0),V("");const q=await Qi(At(Be,"ledgers"),{name:G.name.trim(),description:G.description.trim(),currency:G.currency,ownerId:n.uid,createdAt:new Date,members:{[n.uid]:"owner"}});await a(),z("Ledger created successfully!"),g(!1),$({name:"",currency:"CNY",description:""})}catch(q){console.error("Error creating ledger:",q),V("Failed to create ledger")}finally{f(!1)}},k=async()=>{if(!(!v||!G.name.trim()))try{f(!0),V(""),await Ki(qt(Be,"ledgers",v.id),{name:G.name.trim(),description:G.description.trim(),currency:G.currency,updatedAt:new Date}),await a(),z("Ledger updated successfully!"),b(null),$({name:"",currency:"CNY",description:""})}catch(q){console.error("Error updating ledger:",q),V("Failed to update ledger")}finally{f(!1)}},S=async q=>{if(confirm("Are you sure you want to delete this ledger? This action cannot be undone."))try{f(!0),V(""),await Zc(qt(Be,"ledgers",q)),await a(),z("Ledger deleted successfully!")}catch(te){console.error("Error deleting ledger:",te),V("Failed to delete ledger")}finally{f(!1)}},M=q=>{b(q),$({name:q.name,currency:q.currency||"CNY",description:q.description||""}),g(!1)},L=()=>{b(null),g(!1),$({name:"",currency:"CNY",description:""})},D=q=>!q.members||!n?null:q.members[n.uid]||null,P=q=>q.members?Object.keys(q.members).length:0,j=q=>q.members?Object.keys(q.members).map(te=>({uid:te,displayName:te===(n==null?void 0:n.uid)?n.displayName||n.email:`User ${te.slice(0,8)}`,email:te===(n==null?void 0:n.uid)?n.email:`${te.slice(0,8)}@example.com`})):[];return w.useEffect(()=>{if(U||N){const q=setTimeout(()=>{z(""),V("")},3e3);return()=>clearTimeout(q)}},[U,N]),p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Ledger Management"}),p.jsxs(De,{onClick:()=>g(!0),className:"bg-blue-500 hover:bg-blue-600",children:[p.jsx(bl,{className:"h-4 w-4 mr-2"}),"Create Ledger"]})]}),N&&p.jsx(on,{variant:"destructive",children:p.jsx(ln,{children:N})}),U&&p.jsx(on,{children:p.jsx(ln,{children:U})}),(m||v)&&p.jsxs(_t,{children:[p.jsxs(Ct,{children:[p.jsx(Rt,{children:v?"Edit Ledger":"Create New Ledger"}),p.jsx(On,{children:v?"Update the ledger details below.":"Create a new ledger to organize your expenses separately."})]}),p.jsxs(bt,{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(Ke,{htmlFor:"name",children:"Ledger Name"}),p.jsx(Lt,{id:"name",value:G.name,onChange:q=>$(te=>({...te,name:q.target.value})),placeholder:"e.g., Personal Expenses, Business Travel, Family Budget"})]}),p.jsxs("div",{children:[p.jsx(Ke,{htmlFor:"currency",children:"Currency"}),p.jsxs(zi,{value:G.currency,onValueChange:q=>$(te=>({...te,currency:q})),children:[p.jsx(Hi,{children:p.jsx(Fi,{placeholder:"Select currency"})}),p.jsx(qi,{children:IL.map(q=>p.jsx(Dn,{value:q.value,children:q.label},q.value))})]})]}),p.jsxs("div",{children:[p.jsx(Ke,{htmlFor:"description",children:"Description (Optional)"}),p.jsx(Lt,{id:"description",value:G.description,onChange:q=>$(te=>({...te,description:q.target.value})),placeholder:"Brief description of this ledger's purpose"})]}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsxs(De,{onClick:v?k:re,disabled:c||!G.name.trim(),children:[p.jsx(Yy,{className:"h-4 w-4 mr-2"}),v?"Update":"Create"]}),p.jsxs(De,{variant:"outline",onClick:L,children:[p.jsx(wl,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})]}),p.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(q=>{const te=D(q),F=P(q),W=(t==null?void 0:t.id)===q.id;return p.jsxs(_t,{className:`cursor-pointer transition-all ${W?"ring-2 ring-blue-500 bg-blue-50":"hover:shadow-md"}`,onClick:()=>i(q.id),children:[p.jsx(Ct,{className:"pb-3",children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs(Rt,{className:"text-lg flex items-center",children:[p.jsx(ah,{className:"h-5 w-5 mr-2"}),q.name,W&&p.jsx(Dr,{variant:"secondary",className:"ml-2",children:"Current"})]}),q.description&&p.jsx(On,{className:"mt-1",children:q.description})]}),te==="owner"&&p.jsx(YN,{className:"h-4 w-4 text-yellow-500"})]})}),p.jsxs(bt,{children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{className:"text-gray-600",children:"Currency:"}),p.jsx("span",{className:"font-medium",children:q.currency||"CNY"})]}),p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{className:"text-gray-600",children:"Members:"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Wj,{users:j(q),size:"xs",maxDisplay:3}),p.jsx("span",{className:"font-medium text-xs",children:F})]})]}),p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{className:"text-gray-600",children:"Role:"}),p.jsx(Dr,{variant:te==="owner"?"default":"secondary",children:te})]})]}),te==="owner"&&p.jsxs("div",{className:"flex space-x-2 mt-4 pt-3 border-t",children:[p.jsxs(De,{size:"sm",variant:"outline",onClick:Y=>{Y.stopPropagation(),M(q)},children:[p.jsx(El,{className:"h-3 w-3 mr-1"}),"Edit"]}),p.jsxs(De,{size:"sm",variant:"outline",onClick:Y=>{Y.stopPropagation(),A(q),C(!0)},children:[p.jsx(TT,{className:"h-3 w-3 mr-1"}),"Invite"]}),e.length>1&&p.jsxs(De,{size:"sm",variant:"destructive",onClick:Y=>{Y.stopPropagation(),S(q.id)},children:[p.jsx(xl,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]})]},q.id)})}),e.length===0&&p.jsx(_t,{children:p.jsxs(bt,{className:"text-center py-8",children:[p.jsx(ah,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Ledgers Found"}),p.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first ledger to start tracking expenses."}),p.jsxs(De,{onClick:()=>g(!0),children:[p.jsx(bl,{className:"h-4 w-4 mr-2"}),"Create Your First Ledger"]})]})}),E&&R&&p.jsx(RL,{ledger:R,onClose:()=>{C(!1),A(null)}})]})}function DL(){const{currentUser:n}=Fn(),[e,t]=w.useState(!1),[i,a]=w.useState(""),[l,c]=w.useState(""),[f,m]=w.useState({displayName:"",profileColor:""}),g={...n,displayName:f.displayName,profileColor:f.profileColor},v=async()=>{if(n)try{t(!0);const R=await eA(qt(Be,"users",n.uid)),A=R.exists()?R.data():{};m({displayName:n.displayName||A.displayName||"",profileColor:A.profileColor||""})}catch(R){console.error("Error loading profile data:",R),a("Failed to load profile data")}finally{t(!1)}},b=async()=>{if(n)try{if(t(!0),a(""),!f.displayName.trim()){a("Display name is required");return}if(f.profileColor&&!Qj(f.profileColor)){a("Invalid color selected");return}await dS(n,{displayName:f.displayName.trim()}),await Ki(qt(Be,"users",n.uid),{displayName:f.displayName.trim(),profileColor:f.profileColor||null,updatedAt:new Date}),c("Profile updated successfully!")}catch(R){console.error("Error saving profile:",R),a("Failed to save profile changes")}finally{t(!1)}},E=()=>{const R=Kj();m(A=>({...A,profileColor:R}))},C=()=>{m(R=>({...R,profileColor:""}))};return w.useEffect(()=>{v()},[n]),w.useEffect(()=>{if(l||i){const R=setTimeout(()=>{c(""),a("")},3e3);return()=>clearTimeout(R)}},[l,i]),p.jsxs(_t,{children:[p.jsxs(Ct,{children:[p.jsxs(Rt,{className:"flex items-center",children:[p.jsx(ST,{className:"h-5 w-5 mr-2"}),"Profile Settings"]}),p.jsx(On,{children:"Manage your display name and profile image appearance."})]}),p.jsxs(bt,{className:"space-y-6",children:[i&&p.jsx(on,{variant:"destructive",children:p.jsx(ln,{children:i})}),l&&p.jsx(on,{children:p.jsx(ln,{children:l})}),p.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[p.jsx(Ol,{user:g,size:"xl"}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium text-lg",children:"Profile Preview"}),p.jsx("p",{className:"text-sm text-gray-600",children:"This is how your profile will appear to other users"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ke,{htmlFor:"displayName",children:"Display Name"}),p.jsx(Lt,{id:"displayName",value:f.displayName,onChange:R=>m(A=>({...A,displayName:R.target.value})),placeholder:"Enter your display name",disabled:e}),p.jsx("p",{className:"text-xs text-gray-500",children:"This name will be visible to other users in shared ledgers"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Ke,{children:"Profile Color"}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsxs(De,{type:"button",size:"sm",variant:"outline",onClick:E,disabled:e,children:[p.jsx(s3,{className:"h-3 w-3 mr-1"}),"Random"]}),p.jsx(De,{type:"button",size:"sm",variant:"outline",onClick:C,disabled:e,children:"Default"})]})]}),p.jsx("div",{className:"grid grid-cols-10 gap-2",children:Qs.map(R=>p.jsx("button",{type:"button",className:`
                  w-8 h-8 rounded-full border-2 transition-all
                  ${f.profileColor===R?"border-gray-900 scale-110":"border-gray-300 hover:border-gray-500"}
                `,style:{backgroundColor:R},onClick:()=>m(A=>({...A,profileColor:R})),disabled:e,title:R},R))}),p.jsx("p",{className:"text-xs text-gray-500",children:"Choose a color for your profile image background, or leave default for auto-generated color"})]}),p.jsx("div",{className:"flex justify-end",children:p.jsxs(De,{onClick:b,disabled:e||!f.displayName.trim(),children:[p.jsx(Yy,{className:"h-4 w-4 mr-2"}),e?"Saving...":"Save Changes"]})})]})]})}const oc=[{id:"alipay",name:"Alipay",icon:bT,sampleFields:["交易时间","交易分类","交易对方","商品说明","收/支","金额","支付方式","当前状态"],encoding:"GB2312",currency:"CNY"},{id:"wechat",name:"WeChat Pay",icon:c3,sampleFields:["交易时间","交易类型","交易对方","商品","收/支","金额(元)","支付方式","当前状态"],encoding:"UTF-8",currency:"CNY"},{id:"llm",name:"Generic (AI Powered)",icon:NN,sampleFields:["Any CSV, TXT, or PDF file"],encoding:"Auto-detect",currency:"Auto-detect"}];function kL(){var S,M,L,D;const{currentUser:n}=Fn(),{currentLedger:e,canEdit:t}=us(),[i,a]=w.useState(""),[l,c]=w.useState(null),[f,m]=w.useState(!1),[g,v]=w.useState(0),[b,E]=w.useState(null),[C,R]=w.useState([]),[A,N]=w.useState(""),[V,U]=w.useState(""),z=async()=>{if(e)try{const P=At(Be,"ledgers",e.id,"categories"),j=await wn(P),q=[];j.forEach(te=>{q.push({id:te.id,...te.data()})}),R(q)}catch(P){console.error("Error fetching categories:",P)}},G=P=>{const j=P.split(`
`);let q=-1;for(let F=0;F<j.length;F++){const W=j[F].trim();if(W.includes("交易时间")&&(W.includes("交易分类")||W.includes("收/支"))){q=F+1;break}}if(q===-1){for(let F=0;F<j.length;F++)if(j[F].trim().match(/^\d{4}-\d{2}-\d{2}\s+\d{2}:\d{2}:\d{2}/)){q=F;break}}if(q===-1)throw new Error("Invalid Alipay CSV format: No transaction data found. Please ensure the file contains transaction records.");const te=[];for(let F=q;F<j.length;F++){const W=j[F].trim();if(!W)continue;const Y=W.split(",").map(Le=>Le.replace(/^"|"$/g,"").trim());if(Y.length<6)continue;let pe,B,J,ce,oe,me,Ee,ve,ge;if(Y.length>=12)[pe,B,J,ce,oe,me,Ee,ve,ge]=Y;else if(Y.length>=8)[pe,B,J,oe,me,Ee,ve,ge]=Y,ce="";else continue;if(!me||me!=="支出"&&me!=="收入")continue;const xe=Ee.toString().replace(/[^\d.-]/g,""),qe=parseFloat(xe);if(isNaN(qe))continue;const ke=C.find(Le=>Le.name.toLowerCase().includes(B.toLowerCase())||B.toLowerCase().includes(Le.name.toLowerCase())),Oe=J?`Counterparty: ${J}`:"";te.push({date:new Date(pe),type:me==="支出"?"expense":"income",amount:Math.abs(qe),description:oe||"Unknown Transaction",notes:Oe,categoryId:ke?ke.id:null,categoryName:ke?ke.name:B,paymentMethod:ve||"Unknown",platform:"alipay",originalData:{category:B,counterparty:J,account:ce,status:ge}})}return te},$=P=>{const j=P.split(`
`);let q=-1;for(let F=0;F<j.length;F++){const W=j[F].trim();if(W.includes("交易时间")&&(W.includes("交易类型")||W.includes("收/支"))){q=F+1;break}}if(q===-1){for(let F=0;F<j.length;F++)if(j[F].trim().match(/^\d{4}-\d{2}-\d{2}\s+\d{2}:\d{2}:\d{2}/)){q=F;break}}if(q===-1)throw new Error("Invalid WeChat Pay CSV format: No transaction data found. Please ensure the file contains transaction records.");const te=[];for(let F=q;F<j.length;F++){const W=j[F].trim();if(!W)continue;const Y=W.split(",").map(Oe=>Oe.replace(/^"|"$/g,"").trim());if(Y.length<6)continue;let pe,B,J,ce,oe,me,Ee,ve;if(Y.length>=11)[pe,B,J,ce,oe,me,Ee,ve]=Y;else if(Y.length>=8)[pe,B,J,ce,oe,me,Ee,ve]=Y;else continue;if(!oe||oe!=="支出"&&oe!=="收入")continue;const ge=me.toString().replace(/[¥￥,\s]/g,"").replace(/[^\d.-]/g,""),xe=parseFloat(ge);if(isNaN(xe))continue;const qe=C.find(Oe=>Oe.name.toLowerCase().includes(B.toLowerCase())||B.toLowerCase().includes(Oe.name.toLowerCase())),ke=J?`Counterparty: ${J}`:"";te.push({date:new Date(pe),type:oe==="支出"?"expense":"income",amount:Math.abs(xe),description:ce||"Unknown Transaction",notes:ke,categoryId:qe?qe.id:null,categoryName:qe?qe.name:B,paymentMethod:Ee||"Unknown",platform:"wechat",originalData:{transactionType:B,counterparty:J,status:ve}})}return te},re=async P=>{if(!e||!t())return;const j=At(Be,"ledgers",e.id,"transactions");let q=0,te=0;const F=Wn(j),W=await wn(F),Y=new Set;W.forEach(J=>{var me,Ee;const ce=J.data(),oe=`${(Ee=(me=ce.date)==null?void 0:me.toDate())==null?void 0:Ee.toISOString()}-${ce.amount}-${ce.description}`;Y.add(oe)});const pe=500,B=[];for(let J=0;J<P.length;J+=pe){const ce=wy(Be),oe=P.slice(J,J+pe);let me=0,Ee=0;for(const ve of oe){const ge=`${ve.date.toISOString()}-${ve.amount}-${ve.description}`;if(Y.has(ge)){Ee++;continue}const xe=qt(j);ce.set(xe,{date:xt.fromDate(ve.date),type:ve.type,amount:ve.amount,description:ve.description,notes:ve.notes||"",categoryId:ve.categoryId,categoryName:ve.categoryName,paymentMethod:ve.paymentMethod,includeInBudget:!0,platform:ve.platform,originalData:ve.originalData,createdAt:new Date,createdBy:n.uid,paidBy:n.uid}),me++,Y.add(ge)}me>0?B.push({batch:ce,imported:me,skipped:Ee}):te+=Ee}for(let J=0;J<B.length;J++)try{await B[J].batch.commit(),q+=B[J].imported,te+=B[J].skipped;const ce=Math.round((J+1)/B.length*100);v(ce)}catch(ce){console.error("Error committing batch:",ce),te+=B[J].imported}E({imported:q,skipped:te})},k=async P=>{const j=P.target.files[0];if(j){c(j),m(!0),v(0),E(null),N(""),U("");try{let q=[];if(i==="alipay"){const te=await j.arrayBuffer(),W=new TextDecoder("gb2312").decode(te);q=G(W)}else if(i==="wechat"){const te=await j.text();q=$(te)}else if(i==="llm")throw new Error("LLM parsing not yet implemented.");if(q.length===0)throw new Error("No valid transactions found in the file.");await re(q),U(`Successfully imported ${(b==null?void 0:b.imported)||0} transactions!`)}catch(q){console.error("Import error:",q),N(`Import error: ${q.message}`)}finally{m(!1)}}};return w.useEffect(()=>{z()},[e]),w.useEffect(()=>{if(V||A){const P=setTimeout(()=>{U(""),N("")},3e3);return()=>clearTimeout(P)}},[V,A]),e?f?p.jsxs("div",{className:"p-6 space-y-4",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Importing Transactions..."}),p.jsx(jy,{value:g,className:"w-full"}),p.jsxs("p",{className:"text-center text-gray-600",children:[g,"% Complete"]})]}):b?p.jsxs("div",{className:"p-6 space-y-4",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Import Complete!"}),p.jsxs(on,{variant:"default",children:[p.jsx(BE,{className:"h-4 w-4"}),p.jsxs(ln,{children:["Successfully imported ",b.imported," transactions.",b.skipped>0&&` ${b.skipped} transactions skipped (duplicates or errors).`]})]}),p.jsx(De,{onClick:()=>E(null),children:"Import More"})]}):p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Import Transactions"}),A&&p.jsxs(on,{variant:"destructive",children:[p.jsx(BN,{className:"h-4 w-4"}),p.jsx(ln,{children:A})]}),V&&p.jsxs(on,{children:[p.jsx(BE,{className:"h-4 w-4"}),p.jsx(ln,{children:V})]}),p.jsxs(_t,{children:[p.jsxs(Ct,{children:[p.jsx(Rt,{children:"Select Import Platform"}),p.jsx(On,{children:"Choose the platform you want to import transactions from."})]}),p.jsx(bt,{children:p.jsxs(zi,{value:i,onValueChange:a,children:[p.jsx(Hi,{className:"w-[240px]",children:p.jsx(Fi,{placeholder:"Select a platform"})}),p.jsx(qi,{children:oc.map(P=>p.jsx(Dn,{value:P.id,children:p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(P.icon,{className:"h-4 w-4"}),p.jsx("span",{children:P.name})]})},P.id))})]})})]}),i&&p.jsxs(_t,{children:[p.jsxs(Ct,{children:[p.jsxs(Rt,{children:["Upload ",(S=oc.find(P=>P.id===i))==null?void 0:S.name," File"]}),p.jsxs(On,{children:["Upload your exported ",(M=oc.find(P=>P.id===i))==null?void 0:M.name," CSV file. Ensure it's the correct format."]})]}),p.jsxs(bt,{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs(Ke,{htmlFor:"file-upload",className:"cursor-pointer bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600",children:[p.jsx(wT,{className:"h-4 w-4 inline-block mr-2"})," Choose File"]}),p.jsx(Lt,{id:"file-upload",type:"file",className:"hidden",onChange:k,accept:".csv,.txt"}),l&&p.jsx(Dr,{variant:"secondary",children:l.name})]}),p.jsxs("div",{className:"text-sm text-gray-500",children:[p.jsxs("p",{children:["Expected fields for ",(L=oc.find(P=>P.id===i))==null?void 0:L.name,":"]}),p.jsx("ol",{className:"list-decimal list-inside",children:(D=oc.find(P=>P.id===i))==null?void 0:D.sampleFields.map((P,j)=>p.jsx("li",{children:P},j))})]})]})]})]}):p.jsx("div",{className:"p-6 text-center text-gray-500",children:"Please select a ledger to manage categories."})}function OL({isMobileMenuOpen:n,setIsMobileMenuOpen:e}){const t=ss(),{currentUser:i,logout:a}=Fn(),l=[{path:"/",label:"Dashboard",icon:ZN},{path:"/transactions",label:"Transactions",icon:bT},{path:"/budgets",label:"Budgets",icon:MN},{path:"/categories",label:"Categories",icon:xT},{path:"/ledgers",label:"Ledgers",icon:ah},{path:"/splits",label:"Expense Splits",icon:AT},{path:"/import",label:"Import",icon:wT},{path:"/settings",label:"Settings",icon:qN}],c=async()=>{try{await a()}catch(f){console.error("Failed to log out:",f)}};return p.jsxs(p.Fragment,{children:[p.jsx("nav",{className:"hidden md:flex bg-white border-b border-gray-200 px-6 py-4",children:p.jsxs("div",{className:"flex items-center justify-between w-full",children:[p.jsxs("div",{className:"flex items-center space-x-8",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(_l,{className:"h-8 w-8 text-blue-600"}),p.jsx("span",{className:"text-xl font-bold text-gray-900",children:"ExpenseTracker"})]}),p.jsx("div",{className:"flex space-x-6",children:l.map(f=>{const m=f.icon,g=t.pathname===f.path;return p.jsxs(vl,{to:f.path,className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${g?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[p.jsx(m,{className:"h-4 w-4"}),p.jsx("span",{children:f.label})]},f.path)})})]}),i&&p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs("span",{className:"text-sm text-gray-600",children:["Welcome, ",i.displayName||i.email]}),p.jsxs(De,{variant:"ghost",size:"sm",onClick:c,className:"flex items-center space-x-2",children:[p.jsx(zE,{className:"h-4 w-4"}),p.jsx("span",{children:"Logout"})]})]})]})}),p.jsxs("nav",{className:"md:hidden bg-white border-b border-gray-200",children:[p.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(_l,{className:"h-6 w-6 text-blue-600"}),p.jsx("span",{className:"text-lg font-bold text-gray-900",children:"ExpenseTracker"})]}),p.jsx(De,{variant:"ghost",size:"sm",onClick:()=>e(!n),children:n?p.jsx(wl,{className:"h-6 w-6"}):p.jsx(n3,{className:"h-6 w-6"})})]}),n&&p.jsxs("div",{className:"border-t border-gray-200 px-4 py-4 space-y-2",children:[l.map(f=>{const m=f.icon,g=t.pathname===f.path;return p.jsxs(vl,{to:f.path,onClick:()=>e(!1),className:`flex items-center space-x-3 px-3 py-2 rounded-md text-sm font-medium transition-colors ${g?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[p.jsx(m,{className:"h-4 w-4"}),p.jsx("span",{children:f.label})]},f.path)}),i&&p.jsxs(De,{variant:"ghost",size:"sm",onClick:c,className:"flex items-center space-x-3 px-3 py-2 w-full justify-start",children:[p.jsx(zE,{className:"h-4 w-4"}),p.jsx("span",{children:"Logout"})]})]})]})]})}function ML(){return p.jsx(hL,{})}function jL(){return p.jsx(xL,{})}function PL(){return p.jsx(CL,{})}function VL(){return p.jsxs("div",{className:"p-6",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Expense Splits"}),p.jsxs(_t,{children:[p.jsxs(Ct,{children:[p.jsx(Rt,{children:"Split Expenses"}),p.jsx(On,{children:"Share expenses with friends and track balances"})]}),p.jsx(bt,{children:p.jsx("p",{className:"text-gray-600",children:"Expense splitting interface will be implemented here."})})]})]})}function LL(){return p.jsx(kL,{})}function UL(){return p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),p.jsx(DL,{}),p.jsxs(_t,{children:[p.jsxs(Ct,{children:[p.jsx(Rt,{children:"Application Preferences"}),p.jsx(On,{children:"Additional application settings will be available here"})]}),p.jsx(bt,{children:p.jsx("p",{className:"text-gray-600",children:"More settings options coming soon..."})})]})]})}function BL(){const[n,e]=w.useState(!1),{currentUser:t}=Fn();return p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t&&p.jsx(OL,{isMobileMenuOpen:n,setIsMobileMenuOpen:e}),p.jsx("main",{className:t?"max-w-7xl mx-auto":"",children:p.jsxs(eI,{children:[p.jsx(Rr,{path:"/login",element:t?p.jsx(Hg,{to:"/"}):p.jsx(zj,{})}),p.jsx(Rr,{path:"/signup",element:t?p.jsx(Hg,{to:"/"}):p.jsx(Fj,{})}),p.jsx(Rr,{path:"/",element:p.jsx(zs,{children:p.jsx(Jj,{})})}),p.jsx(Rr,{path:"/transactions",element:p.jsx(zs,{children:p.jsx(ML,{})})}),p.jsx(Rr,{path:"/budgets",element:p.jsx(zs,{children:p.jsx(jL,{})})}),p.jsx(Rr,{path:"/categories",element:p.jsx(zs,{children:p.jsx(PL,{})})}),p.jsx(Rr,{path:"/ledgers",element:p.jsx(zs,{children:p.jsx(NL,{})})}),p.jsx(Rr,{path:"/splits",element:p.jsx(zs,{children:p.jsx(VL,{})})}),p.jsx(Rr,{path:"/import",element:p.jsx(zs,{children:p.jsx(LL,{})})}),p.jsx(Rr,{path:"/settings",element:p.jsx(zs,{children:p.jsx(UL,{})})})]})})]})}function zL(){return p.jsx(TI,{children:p.jsx(Mj,{children:p.jsx(jj,{children:p.jsx(BL,{})})})})}uR.createRoot(document.getElementById("root")).render(p.jsx(w.StrictMode,{children:p.jsx(zL,{})}));
