function MN(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in n)){const o=Object.getOwnPropertyDescriptor(s,a);o&&Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function pS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var sy={exports:{}},Uu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw;function PN(){if(vw)return Uu;vw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:n,type:s,key:u,ref:a!==void 0?a:null,props:o}}return Uu.Fragment=e,Uu.jsx=t,Uu.jsxs=t,Uu}var _w;function VN(){return _w||(_w=1,sy.exports=PN()),sy.exports}var h=VN(),iy={exports:{}},it={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw;function LN(){if(bw)return it;bw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.iterator;function b(B){return B===null||typeof B!="object"?null:(B=x&&B[x]||B["@@iterator"],typeof B=="function"?B:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,C={};function I(B,ae,he){this.props=B,this.context=ae,this.refs=C,this.updater=he||S}I.prototype.isReactComponent={},I.prototype.setState=function(B,ae){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ae,"setState")},I.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function M(){}M.prototype=I.prototype;function P(B,ae,he){this.props=B,this.context=ae,this.refs=C,this.updater=he||S}var L=P.prototype=new M;L.constructor=P,R(L,I.prototype),L.isPureReactComponent=!0;var $=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},X=Object.prototype.hasOwnProperty;function N(B,ae,he,le,be,ze){return he=ze.ref,{$$typeof:n,type:B,key:ae,ref:he!==void 0?he:null,props:ze}}function A(B,ae){return N(B.type,ae,void 0,void 0,void 0,B.props)}function O(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function U(B){var ae={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(he){return ae[he]})}var D=/\/+/g;function z(B,ae){return typeof B=="object"&&B!==null&&B.key!=null?U(""+B.key):ae.toString(36)}function V(){}function G(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(V,V):(B.status="pending",B.then(function(ae){B.status==="pending"&&(B.status="fulfilled",B.value=ae)},function(ae){B.status==="pending"&&(B.status="rejected",B.reason=ae)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function ne(B,ae,he,le,be){var ze=typeof B;(ze==="undefined"||ze==="boolean")&&(B=null);var De=!1;if(B===null)De=!0;else switch(ze){case"bigint":case"string":case"number":De=!0;break;case"object":switch(B.$$typeof){case n:case e:De=!0;break;case v:return De=B._init,ne(De(B._payload),ae,he,le,be)}}if(De)return be=be(B),De=le===""?"."+z(B,0):le,$(be)?(he="",De!=null&&(he=De.replace(D,"$&/")+"/"),ne(be,ae,he,"",function(ct){return ct})):be!=null&&(O(be)&&(be=A(be,he+(be.key==null||B&&B.key===be.key?"":(""+be.key).replace(D,"$&/")+"/")+De)),ae.push(be)),1;De=0;var ge=le===""?".":le+":";if($(B))for(var je=0;je<B.length;je++)le=B[je],ze=ge+z(le,je),De+=ne(le,ae,he,ze,be);else if(je=b(B),typeof je=="function")for(B=je.call(B),je=0;!(le=B.next()).done;)le=le.value,ze=ge+z(le,je++),De+=ne(le,ae,he,ze,be);else if(ze==="object"){if(typeof B.then=="function")return ne(G(B),ae,he,le,be);throw ae=String(B),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return De}function H(B,ae,he){if(B==null)return B;var le=[],be=0;return ne(B,le,"","",function(ze){return ae.call(he,ze,be++)}),le}function Z(B){if(B._status===-1){var ae=B._result;ae=ae(),ae.then(function(he){(B._status===0||B._status===-1)&&(B._status=1,B._result=he)},function(he){(B._status===0||B._status===-1)&&(B._status=2,B._result=he)}),B._status===-1&&(B._status=0,B._result=ae)}if(B._status===1)return B._result.default;throw B._result}var K=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function ye(){}return it.Children={map:H,forEach:function(B,ae,he){H(B,function(){ae.apply(this,arguments)},he)},count:function(B){var ae=0;return H(B,function(){ae++}),ae},toArray:function(B){return H(B,function(ae){return ae})||[]},only:function(B){if(!O(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},it.Component=I,it.Fragment=t,it.Profiler=a,it.PureComponent=P,it.StrictMode=s,it.Suspense=p,it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,it.__COMPILER_RUNTIME={__proto__:null,c:function(B){return q.H.useMemoCache(B)}},it.cache=function(B){return function(){return B.apply(null,arguments)}},it.cloneElement=function(B,ae,he){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var le=R({},B.props),be=B.key,ze=void 0;if(ae!=null)for(De in ae.ref!==void 0&&(ze=void 0),ae.key!==void 0&&(be=""+ae.key),ae)!X.call(ae,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ae.ref===void 0||(le[De]=ae[De]);var De=arguments.length-2;if(De===1)le.children=he;else if(1<De){for(var ge=Array(De),je=0;je<De;je++)ge[je]=arguments[je+2];le.children=ge}return N(B.type,be,void 0,void 0,ze,le)},it.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:o,_context:B},B},it.createElement=function(B,ae,he){var le,be={},ze=null;if(ae!=null)for(le in ae.key!==void 0&&(ze=""+ae.key),ae)X.call(ae,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(be[le]=ae[le]);var De=arguments.length-2;if(De===1)be.children=he;else if(1<De){for(var ge=Array(De),je=0;je<De;je++)ge[je]=arguments[je+2];be.children=ge}if(B&&B.defaultProps)for(le in De=B.defaultProps,De)be[le]===void 0&&(be[le]=De[le]);return N(B,ze,void 0,void 0,null,be)},it.createRef=function(){return{current:null}},it.forwardRef=function(B){return{$$typeof:d,render:B}},it.isValidElement=O,it.lazy=function(B){return{$$typeof:v,_payload:{_status:-1,_result:B},_init:Z}},it.memo=function(B,ae){return{$$typeof:g,type:B,compare:ae===void 0?null:ae}},it.startTransition=function(B){var ae=q.T,he={};q.T=he;try{var le=B(),be=q.S;be!==null&&be(he,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ye,K)}catch(ze){K(ze)}finally{q.T=ae}},it.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},it.use=function(B){return q.H.use(B)},it.useActionState=function(B,ae,he){return q.H.useActionState(B,ae,he)},it.useCallback=function(B,ae){return q.H.useCallback(B,ae)},it.useContext=function(B){return q.H.useContext(B)},it.useDebugValue=function(){},it.useDeferredValue=function(B,ae){return q.H.useDeferredValue(B,ae)},it.useEffect=function(B,ae,he){var le=q.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(B,ae)},it.useId=function(){return q.H.useId()},it.useImperativeHandle=function(B,ae,he){return q.H.useImperativeHandle(B,ae,he)},it.useInsertionEffect=function(B,ae){return q.H.useInsertionEffect(B,ae)},it.useLayoutEffect=function(B,ae){return q.H.useLayoutEffect(B,ae)},it.useMemo=function(B,ae){return q.H.useMemo(B,ae)},it.useOptimistic=function(B,ae){return q.H.useOptimistic(B,ae)},it.useReducer=function(B,ae,he){return q.H.useReducer(B,ae,he)},it.useRef=function(B){return q.H.useRef(B)},it.useState=function(B){return q.H.useState(B)},it.useSyncExternalStore=function(B,ae,he){return q.H.useSyncExternalStore(B,ae,he)},it.useTransition=function(){return q.H.useTransition()},it.version="19.1.0",it}var xw;function Pv(){return xw||(xw=1,iy.exports=LN()),iy.exports}var w=Pv();const va=pS(w),gS=MN({__proto__:null,default:va},[w]);var ay={exports:{}},zu={},oy={exports:{}},ly={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww;function UN(){return ww||(ww=1,function(n){function e(H,Z){var K=H.length;H.push(Z);e:for(;0<K;){var ye=K-1>>>1,B=H[ye];if(0<a(B,Z))H[ye]=Z,H[K]=B,K=ye;else break e}}function t(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var Z=H[0],K=H.pop();if(K!==Z){H[0]=K;e:for(var ye=0,B=H.length,ae=B>>>1;ye<ae;){var he=2*(ye+1)-1,le=H[he],be=he+1,ze=H[be];if(0>a(le,K))be<B&&0>a(ze,le)?(H[ye]=ze,H[be]=K,ye=be):(H[ye]=le,H[he]=K,ye=he);else if(be<B&&0>a(ze,K))H[ye]=ze,H[be]=K,ye=be;else break e}}return Z}function a(H,Z){var K=H.sortIndex-Z.sortIndex;return K!==0?K:H.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var p=[],g=[],v=1,x=null,b=3,S=!1,R=!1,C=!1,I=!1,M=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function $(H){for(var Z=t(g);Z!==null;){if(Z.callback===null)s(g);else if(Z.startTime<=H)s(g),Z.sortIndex=Z.expirationTime,e(p,Z);else break;Z=t(g)}}function q(H){if(C=!1,$(H),!R)if(t(p)!==null)R=!0,X||(X=!0,z());else{var Z=t(g);Z!==null&&ne(q,Z.startTime-H)}}var X=!1,N=-1,A=5,O=-1;function U(){return I?!0:!(n.unstable_now()-O<A)}function D(){if(I=!1,X){var H=n.unstable_now();O=H;var Z=!0;try{e:{R=!1,C&&(C=!1,P(N),N=-1),S=!0;var K=b;try{t:{for($(H),x=t(p);x!==null&&!(x.expirationTime>H&&U());){var ye=x.callback;if(typeof ye=="function"){x.callback=null,b=x.priorityLevel;var B=ye(x.expirationTime<=H);if(H=n.unstable_now(),typeof B=="function"){x.callback=B,$(H),Z=!0;break t}x===t(p)&&s(p),$(H)}else s(p);x=t(p)}if(x!==null)Z=!0;else{var ae=t(g);ae!==null&&ne(q,ae.startTime-H),Z=!1}}break e}finally{x=null,b=K,S=!1}Z=void 0}}finally{Z?z():X=!1}}}var z;if(typeof L=="function")z=function(){L(D)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,G=V.port2;V.port1.onmessage=D,z=function(){G.postMessage(null)}}else z=function(){M(D,0)};function ne(H,Z){N=M(function(){H(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(H){switch(b){case 1:case 2:case 3:var Z=3;break;default:Z=b}var K=b;b=Z;try{return H()}finally{b=K}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var K=b;b=H;try{return Z()}finally{b=K}},n.unstable_scheduleCallback=function(H,Z,K){var ye=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ye+K:ye):K=ye,H){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=K+B,H={id:v++,callback:Z,priorityLevel:H,startTime:K,expirationTime:B,sortIndex:-1},K>ye?(H.sortIndex=K,e(g,H),t(p)===null&&H===t(g)&&(C?(P(N),N=-1):C=!0,ne(q,K-ye))):(H.sortIndex=B,e(p,H),R||S||(R=!0,X||(X=!0,z()))),H},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(H){var Z=b;return function(){var K=b;b=Z;try{return H.apply(this,arguments)}finally{b=K}}}}(ly)),ly}var Ew;function zN(){return Ew||(Ew=1,oy.exports=UN()),oy.exports}var cy={exports:{}},Jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw;function BN(){if(Tw)return Jn;Tw=1;var n=Pv();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(p,g,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:p,containerInfo:g,implementation:v}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(p,g,null,v)},Jn.flushSync=function(p){var g=u.T,v=s.p;try{if(u.T=null,s.p=2,p)return p()}finally{u.T=g,s.p=v,s.d.f()}},Jn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Jn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Jn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,x=d(v,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:S}):v==="script"&&s.d.X(p,{crossOrigin:x,integrity:b,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Jn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Jn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,x=d(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Jn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Jn.requestFormReset=function(p){s.d.r(p)},Jn.unstable_batchedUpdates=function(p,g){return p(g)},Jn.useFormState=function(p,g,v){return u.H.useFormState(p,g,v)},Jn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Jn.version="19.1.0",Jn}var Sw;function yS(){if(Sw)return cy.exports;Sw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),cy.exports=BN(),cy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw;function FN(){if(Aw)return zu;Aw=1;var n=zN(),e=Pv(),t=yS();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function u(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(s(188))}function p(r){var i=r.alternate;if(!i){if(i=o(r),i===null)throw Error(s(188));return i!==r?null:r}for(var l=r,c=i;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return d(m),r;if(y===c)return d(m),i;y=y.sibling}throw Error(s(188))}if(l.return!==c.return)l=m,c=y;else{for(var T=!1,k=m.child;k;){if(k===l){T=!0,l=m,c=y;break}if(k===c){T=!0,c=m,l=y;break}k=k.sibling}if(!T){for(k=y.child;k;){if(k===l){T=!0,l=y,c=m;break}if(k===c){T=!0,c=y,l=m;break}k=k.sibling}if(!T)throw Error(s(189))}}if(l.alternate!==c)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?r:i}function g(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=g(r),i!==null)return i;r=r.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),L=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}var V=Symbol.for("react.client.reference");function G(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===V?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case I:return"Profiler";case C:return"StrictMode";case q:return"Suspense";case X:return"SuspenseList";case O:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case L:return(r.displayName||"Context")+".Provider";case P:return(r._context.displayName||"Context")+".Consumer";case $:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case N:return i=r.displayName||null,i!==null?i:G(r.type)||"Memo";case A:i=r._payload,r=r._init;try{return G(r(i))}catch{}}return null}var ne=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ye=[],B=-1;function ae(r){return{current:r}}function he(r){0>B||(r.current=ye[B],ye[B]=null,B--)}function le(r,i){B++,ye[B]=r.current,r.current=i}var be=ae(null),ze=ae(null),De=ae(null),ge=ae(null);function je(r,i){switch(le(De,i),le(ze,r),le(be,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?Gx(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=Gx(i),r=Yx(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}he(be),le(be,r)}function ct(){he(be),he(ze),he(De)}function We(r){r.memoizedState!==null&&le(ge,r);var i=be.current,l=Yx(i,r.type);i!==l&&(le(ze,r),le(be,l))}function Qe(r){ze.current===r&&(he(be),he(ze)),ge.current===r&&(he(ge),ju._currentValue=K)}var Xe=Object.prototype.hasOwnProperty,se=n.unstable_scheduleCallback,Ae=n.unstable_cancelCallback,Ce=n.unstable_shouldYield,Me=n.unstable_requestPaint,Ye=n.unstable_now,gn=n.unstable_getCurrentPriorityLevel,me=n.unstable_ImmediatePriority,xe=n.unstable_UserBlockingPriority,ve=n.unstable_NormalPriority,Je=n.unstable_LowPriority,Ee=n.unstable_IdlePriority,et=n.log,ut=n.unstable_setDisableYieldValue,gt=null,Pe=null;function Ke(r){if(typeof et=="function"&&ut(r),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(gt,r)}catch{}}var ht=Math.clz32?Math.clz32:rn,Qn=Math.log,On=Math.LN2;function rn(r){return r>>>=0,r===0?32:31-(Qn(r)/On|0)|0}var Mt=256,Xn=4194304;function zn(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Kr(r,i,l){var c=r.pendingLanes;if(c===0)return 0;var m=0,y=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var k=c&134217727;return k!==0?(c=k&~y,c!==0?m=zn(c):(T&=k,T!==0?m=zn(T):l||(l=k&~r,l!==0&&(m=zn(l))))):(k=c&~y,k!==0?m=zn(k):T!==0?m=zn(T):l||(l=c&~r,l!==0&&(m=zn(l)))),m===0?0:i!==0&&i!==m&&(i&y)===0&&(y=m&-m,l=i&-i,y>=l||y===32&&(l&4194048)!==0)?i:m}function ar(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Dr(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function us(){var r=Mt;return Mt<<=1,(Mt&4194048)===0&&(Mt=256),r}function zi(){var r=Xn;return Xn<<=1,(Xn&62914560)===0&&(Xn=4194304),r}function Ws(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function Qs(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Vc(r,i,l,c,m,y){var T=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var k=r.entanglements,F=r.expirationTimes,ee=r.hiddenUpdates;for(l=T&~l;0<l;){var oe=31-ht(l),de=1<<oe;k[oe]=0,F[oe]=-1;var te=ee[oe];if(te!==null)for(ee[oe]=null,oe=0;oe<te.length;oe++){var re=te[oe];re!==null&&(re.lane&=-536870913)}l&=~de}c!==0&&ds(r,c,0),y!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=y&~(T&~i))}function ds(r,i,l){r.pendingLanes|=i,r.suspendedLanes&=~i;var c=31-ht(i);r.entangledLanes|=i,r.entanglements[c]=r.entanglements[c]|1073741824|l&4194090}function Lc(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var c=31-ht(l),m=1<<c;m&i|r[c]&i&&(r[c]|=i),l&=~m}}function Bi(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ko(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Fi(){var r=Z.p;return r!==0?r:(r=window.event,r===void 0?32:fw(r.type))}function Fd(r,i){var l=Z.p;try{return Z.p=r,i()}finally{Z.p=l}}var Kt=Math.random().toString(36).slice(2),Sn="__reactFiber$"+Kt,yn="__reactProps$"+Kt,Or="__reactContainer$"+Kt,Uc="__reactEvents$"+Kt,op="__reactListeners$"+Kt,qi="__reactHandles$"+Kt,qd="__reactResources$"+Kt,Xa="__reactMarker$"+Kt;function Hi(r){delete r[Sn],delete r[yn],delete r[Uc],delete r[op],delete r[qi]}function Xs(r){var i=r[Sn];if(i)return i;for(var l=r.parentNode;l;){if(i=l[Or]||l[Sn]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=Xx(r);r!==null;){if(l=r[Sn])return l;r=Xx(r)}return i}r=l,l=r.parentNode}return null}function fs(r){if(r=r[Sn]||r[Or]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function hs(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function or(r){var i=r[qd];return i||(i=r[qd]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function fn(r){r[Xa]=!0}var zc=new Set,Wo={};function Wr(r,i){Zs(r,i),Zs(r+"Capture",i)}function Zs(r,i){for(Wo[r]=i,r=0;r<i.length;r++)zc.add(i[r])}var Hd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$d={},Za={};function Gd(r){return Xe.call(Za,r)?!0:Xe.call($d,r)?!1:Hd.test(r)?Za[r]=!0:($d[r]=!0,!1)}function $i(r,i,l){if(Gd(i))if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+l)}}function ms(r,i,l){if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+l)}}function Bn(r,i,l,c){if(c===null)r.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(i,l,""+c)}}var Ja,Yd;function Js(r){if(Ja===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Ja=i&&i[1]||"",Yd=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ja+r+Yd}var Qo=!1;function Xo(r,i){if(!r||Qo)return"";Qo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(re){var te=re}Reflect.construct(r,[],de)}else{try{de.call()}catch(re){te=re}r.call(de.prototype)}}else{try{throw Error()}catch(re){te=re}(de=r())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(re){if(re&&te&&typeof re.stack=="string")return[re.stack,te.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),T=y[0],k=y[1];if(T&&k){var F=T.split(`
`),ee=k.split(`
`);for(m=c=0;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;for(;m<ee.length&&!ee[m].includes("DetermineComponentFrameRoot");)m++;if(c===F.length||m===ee.length)for(c=F.length-1,m=ee.length-1;1<=c&&0<=m&&F[c]!==ee[m];)m--;for(;1<=c&&0<=m;c--,m--)if(F[c]!==ee[m]){if(c!==1||m!==1)do if(c--,m--,0>m||F[c]!==ee[m]){var oe=`
`+F[c].replace(" at new "," at ");return r.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",r.displayName)),oe}while(1<=c&&0<=m);break}}}finally{Qo=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?Js(l):""}function Bc(r){switch(r.tag){case 26:case 27:case 5:return Js(r.type);case 16:return Js("Lazy");case 13:return Js("Suspense");case 19:return Js("SuspenseList");case 0:case 15:return Xo(r.type,!1);case 11:return Xo(r.type.render,!1);case 1:return Xo(r.type,!0);case 31:return Js("Activity");default:return""}}function Zo(r){try{var i="";do i+=Bc(r),r=r.return;while(r);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function lr(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Fc(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function lp(r){var i=Fc(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),c=""+r[i];if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return m.call(this)},set:function(T){c=""+T,y.call(this,T)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Jo(r){r._valueTracker||(r._valueTracker=lp(r))}function qc(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),c="";return r&&(c=Fc(r)?r.checked?"true":"false":r.value),r=c,r!==l?(i.setValue(r),!0):!1}function eo(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var cp=/[\n"\\]/g;function vn(r){return r.replace(cp,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _r(r,i,l,c,m,y,T,k){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),i!=null?T==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+lr(i)):r.value!==""+lr(i)&&(r.value=""+lr(i)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),i!=null?Gi(r,T,lr(i)):l!=null?Gi(r,T,lr(l)):c!=null&&r.removeAttribute("value"),m==null&&y!=null&&(r.defaultChecked=!!y),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?r.name=""+lr(k):r.removeAttribute("name")}function to(r,i,l,c,m,y,T,k){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),i!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||i!=null))return;l=l!=null?""+lr(l):"",i=i!=null?""+lr(i):l,k||i===r.value||(r.value=i),r.defaultValue=i}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=k?r.checked:!!c,r.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function Gi(r,i,l){i==="number"&&eo(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function ei(r,i,l,c){if(r=r.options,i){i={};for(var m=0;m<l.length;m++)i["$"+l[m]]=!0;for(l=0;l<r.length;l++)m=i.hasOwnProperty("$"+r[l].value),r[l].selected!==m&&(r[l].selected=m),m&&c&&(r[l].defaultSelected=!0)}else{for(l=""+lr(l),i=null,m=0;m<r.length;m++){if(r[m].value===l){r[m].selected=!0,c&&(r[m].defaultSelected=!0);return}i!==null||r[m].disabled||(i=r[m])}i!==null&&(i.selected=!0)}}function Ut(r,i,l){if(i!=null&&(i=""+lr(i),i!==r.value&&(r.value=i),l==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=l!=null?""+lr(l):""}function no(r,i,l,c){if(i==null){if(c!=null){if(l!=null)throw Error(s(92));if(ne(c)){if(1<c.length)throw Error(s(93));c=c[0]}l=c}l==null&&(l=""),i=l}l=lr(i),r.defaultValue=l,c=r.textContent,c===l&&c!==""&&c!==null&&(r.value=c)}function jr(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var ro=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kd(r,i,l){var c=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":c?r.setProperty(i,l):typeof l!="number"||l===0||ro.has(i)?i==="float"?r.cssFloat=l:r[i]=(""+l).trim():r[i]=l+"px"}function Hc(r,i,l){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var m in i)c=i[m],i.hasOwnProperty(m)&&l[m]!==c&&Kd(r,m,c)}else for(var y in i)i.hasOwnProperty(y)&&Kd(r,y,i[y])}function $c(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var up=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function el(r){return dp.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var ti=null;function Mr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ni=null,ri=null;function Gc(r){var i=fs(r);if(i&&(r=i.stateNode)){var l=r[yn]||null;e:switch(r=i.stateNode,i.type){case"input":if(_r(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+vn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var c=l[i];if(c!==r&&c.form===r.form){var m=c[yn]||null;if(!m)throw Error(s(90));_r(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<l.length;i++)c=l[i],c.form===r.form&&qc(c)}break e;case"textarea":Ut(r,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ei(r,!!l.multiple,i,!1)}}}var ps=!1;function Wd(r,i,l){if(ps)return r(i,l);ps=!0;try{var c=r(i);return c}finally{if(ps=!1,(ni!==null||ri!==null)&&(qf(),ni&&(i=ni,r=ri,ri=ni=null,Gc(i),r)))for(i=0;i<r.length;i++)Gc(r[i])}}function so(r,i){var l=r.stateNode;if(l===null)return null;var c=l[yn]||null;if(c===null)return null;l=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(s(231,i,typeof l));return l}var Qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pr=!1;if(Qr)try{var io={};Object.defineProperty(io,"passive",{get:function(){Pr=!0}}),window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{Pr=!1}var gs=null,Yi=null,si=null;function Yc(){if(si)return si;var r,i=Yi,l=i.length,c,m="value"in gs?gs.value:gs.textContent,y=m.length;for(r=0;r<l&&i[r]===m[r];r++);var T=l-r;for(c=1;c<=T&&i[l-c]===m[y-c];c++);return si=m.slice(r,1<c?1-c:void 0)}function ys(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function vs(){return!0}function Kc(){return!1}function jn(r){function i(l,c,m,y,T){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(l=r[k],this[k]=l?l(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?vs:Kc,this.isPropagationStopped=Kc,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=vs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=vs)},persist:function(){},isPersistent:vs}),i}var Ot={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tl=jn(Ot),ao=v({},Ot,{view:0,detail:0}),Qd=jn(ao),nl,rl,_s,oo=v({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uo,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==_s&&(_s&&r.type==="mousemove"?(nl=r.screenX-_s.screenX,rl=r.screenY-_s.screenY):rl=nl=0,_s=r),nl)},movementY:function(r){return"movementY"in r?r.movementY:rl}}),Vr=jn(oo),Xd=v({},oo,{dataTransfer:0}),fp=jn(Xd),lo=v({},ao,{relatedTarget:0}),sl=jn(lo),Wc=v({},Ot,{animationName:0,elapsedTime:0,pseudoElement:0}),il=jn(Wc),Zd=v({},Ot,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),al=jn(Zd),hp=v({},Ot,{data:0}),Qc=jn(hp),co={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ef={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xc(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=ef[r])?!!i[r]:!1}function uo(){return Xc}var tf=v({},ao,{key:function(r){if(r.key){var i=co[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=ys(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Jd[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uo,charCode:function(r){return r.type==="keypress"?ys(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ys(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ol=jn(tf),nf=v({},oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zc=jn(nf),ii=v({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uo}),rf=jn(ii),sf=v({},Ot,{propertyName:0,elapsedTime:0,pseudoElement:0}),af=jn(sf),of=v({},oo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ll=jn(of),cr=v({},Ot,{newState:0,oldState:0}),lf=jn(cr),cf=[9,13,27,32],bs=Qr&&"CompositionEvent"in window,f=null;Qr&&"documentMode"in document&&(f=document.documentMode);var _=Qr&&"TextEvent"in window&&!f,E=Qr&&(!bs||f&&8<f&&11>=f),j=" ",Q=!1;function ie(r,i){switch(r){case"keyup":return cf.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _e(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var bt=!1;function An(r,i){switch(r){case"compositionend":return _e(i);case"keypress":return i.which!==32?null:(Q=!0,j);case"textInput":return r=i.data,r===j&&Q?null:r;default:return null}}function xt(r,i){if(bt)return r==="compositionend"||!bs&&ie(r,i)?(r=Yc(),si=Yi=gs=null,bt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return E&&i.locale!=="ko"?null:i.data;default:return null}}var Mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cn(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Mn[r.type]:i==="textarea"}function ai(r,i,l,c){ni?ri?ri.push(c):ri=[c]:ni=c,i=Wf(i,"onChange"),0<i.length&&(l=new tl("onChange","change",null,l,c),r.push({event:l,listeners:i}))}var Fn=null,xs=null;function Jc(r){Bx(r,0)}function uf(r){var i=hs(r);if(qc(i))return r}function l_(r,i){if(r==="change")return i}var c_=!1;if(Qr){var mp;if(Qr){var pp="oninput"in document;if(!pp){var u_=document.createElement("div");u_.setAttribute("oninput","return;"),pp=typeof u_.oninput=="function"}mp=pp}else mp=!1;c_=mp&&(!document.documentMode||9<document.documentMode)}function d_(){Fn&&(Fn.detachEvent("onpropertychange",f_),xs=Fn=null)}function f_(r){if(r.propertyName==="value"&&uf(xs)){var i=[];ai(i,xs,r,Mr(r)),Wd(Jc,i)}}function dR(r,i,l){r==="focusin"?(d_(),Fn=i,xs=l,Fn.attachEvent("onpropertychange",f_)):r==="focusout"&&d_()}function fR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return uf(xs)}function hR(r,i){if(r==="click")return uf(i)}function mR(r,i){if(r==="input"||r==="change")return uf(i)}function pR(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var br=typeof Object.is=="function"?Object.is:pR;function eu(r,i){if(br(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),c=Object.keys(i);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!Xe.call(i,m)||!br(r[m],i[m]))return!1}return!0}function h_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function m_(r,i){var l=h_(r);r=0;for(var c;l;){if(l.nodeType===3){if(c=r+l.textContent.length,r<=i&&c>=i)return{node:l,offset:i-r};r=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=h_(l)}}function p_(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?p_(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function g_(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=eo(r.document);i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=eo(r.document)}return i}function gp(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var gR=Qr&&"documentMode"in document&&11>=document.documentMode,cl=null,yp=null,tu=null,vp=!1;function y_(r,i,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;vp||cl==null||cl!==eo(c)||(c=cl,"selectionStart"in c&&gp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),tu&&eu(tu,c)||(tu=c,c=Wf(yp,"onSelect"),0<c.length&&(i=new tl("onSelect","select",null,i,l),r.push({event:i,listeners:c}),i.target=cl)))}function fo(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var ul={animationend:fo("Animation","AnimationEnd"),animationiteration:fo("Animation","AnimationIteration"),animationstart:fo("Animation","AnimationStart"),transitionrun:fo("Transition","TransitionRun"),transitionstart:fo("Transition","TransitionStart"),transitioncancel:fo("Transition","TransitionCancel"),transitionend:fo("Transition","TransitionEnd")},_p={},v_={};Qr&&(v_=document.createElement("div").style,"AnimationEvent"in window||(delete ul.animationend.animation,delete ul.animationiteration.animation,delete ul.animationstart.animation),"TransitionEvent"in window||delete ul.transitionend.transition);function ho(r){if(_p[r])return _p[r];if(!ul[r])return r;var i=ul[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in v_)return _p[r]=i[l];return r}var __=ho("animationend"),b_=ho("animationiteration"),x_=ho("animationstart"),yR=ho("transitionrun"),vR=ho("transitionstart"),_R=ho("transitioncancel"),w_=ho("transitionend"),E_=new Map,bp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bp.push("scrollEnd");function Xr(r,i){E_.set(r,i),Wr(i,[r])}var T_=new WeakMap;function Lr(r,i){if(typeof r=="object"&&r!==null){var l=T_.get(r);return l!==void 0?l:(i={value:r,source:i,stack:Zo(i)},T_.set(r,i),i)}return{value:r,source:i,stack:Zo(i)}}var Ur=[],dl=0,xp=0;function df(){for(var r=dl,i=xp=dl=0;i<r;){var l=Ur[i];Ur[i++]=null;var c=Ur[i];Ur[i++]=null;var m=Ur[i];Ur[i++]=null;var y=Ur[i];if(Ur[i++]=null,c!==null&&m!==null){var T=c.pending;T===null?m.next=m:(m.next=T.next,T.next=m),c.pending=m}y!==0&&S_(l,m,y)}}function ff(r,i,l,c){Ur[dl++]=r,Ur[dl++]=i,Ur[dl++]=l,Ur[dl++]=c,xp|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function wp(r,i,l,c){return ff(r,i,l,c),hf(r)}function fl(r,i){return ff(r,null,null,i),hf(r)}function S_(r,i,l){r.lanes|=l;var c=r.alternate;c!==null&&(c.lanes|=l);for(var m=!1,y=r.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(m=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,m&&i!==null&&(m=31-ht(l),r=y.hiddenUpdates,c=r[m],c===null?r[m]=[i]:c.push(i),i.lane=l|536870912),y):null}function hf(r){if(50<Au)throw Au=0,Rg=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var hl={};function bR(r,i,l,c){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(r,i,l,c){return new bR(r,i,l,c)}function Ep(r){return r=r.prototype,!(!r||!r.isReactComponent)}function oi(r,i){var l=r.alternate;return l===null?(l=xr(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function A_(r,i){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,i=l.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function mf(r,i,l,c,m,y){var T=0;if(c=r,typeof r=="function")Ep(r)&&(T=1);else if(typeof r=="string")T=wN(r,l,be.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case O:return r=xr(31,l,i,m),r.elementType=O,r.lanes=y,r;case R:return mo(l.children,m,y,i);case C:T=8,m|=24;break;case I:return r=xr(12,l,i,m|2),r.elementType=I,r.lanes=y,r;case q:return r=xr(13,l,i,m),r.elementType=q,r.lanes=y,r;case X:return r=xr(19,l,i,m),r.elementType=X,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:case L:T=10;break e;case P:T=9;break e;case $:T=11;break e;case N:T=14;break e;case A:T=16,c=null;break e}T=29,l=Error(s(130,r===null?"null":typeof r,"")),c=null}return i=xr(T,l,i,m),i.elementType=r,i.type=c,i.lanes=y,i}function mo(r,i,l,c){return r=xr(7,r,c,i),r.lanes=l,r}function Tp(r,i,l){return r=xr(6,r,null,i),r.lanes=l,r}function Sp(r,i,l){return i=xr(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var ml=[],pl=0,pf=null,gf=0,zr=[],Br=0,po=null,li=1,ci="";function go(r,i){ml[pl++]=gf,ml[pl++]=pf,pf=r,gf=i}function C_(r,i,l){zr[Br++]=li,zr[Br++]=ci,zr[Br++]=po,po=r;var c=li;r=ci;var m=32-ht(c)-1;c&=~(1<<m),l+=1;var y=32-ht(i)+m;if(30<y){var T=m-m%5;y=(c&(1<<T)-1).toString(32),c>>=T,m-=T,li=1<<32-ht(i)+m|l<<m|c,ci=y+r}else li=1<<y|l<<m|c,ci=r}function Ap(r){r.return!==null&&(go(r,1),C_(r,1,0))}function Cp(r){for(;r===pf;)pf=ml[--pl],ml[pl]=null,gf=ml[--pl],ml[pl]=null;for(;r===po;)po=zr[--Br],zr[Br]=null,ci=zr[--Br],zr[Br]=null,li=zr[--Br],zr[Br]=null}var ur=null,sn=null,It=!1,yo=null,ws=!1,Rp=Error(s(519));function vo(r){var i=Error(s(418,""));throw su(Lr(i,r)),Rp}function R_(r){var i=r.stateNode,l=r.type,c=r.memoizedProps;switch(i[Sn]=r,i[yn]=c,l){case"dialog":pt("cancel",i),pt("close",i);break;case"iframe":case"object":case"embed":pt("load",i);break;case"video":case"audio":for(l=0;l<Ru.length;l++)pt(Ru[l],i);break;case"source":pt("error",i);break;case"img":case"image":case"link":pt("error",i),pt("load",i);break;case"details":pt("toggle",i);break;case"input":pt("invalid",i),to(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Jo(i);break;case"select":pt("invalid",i);break;case"textarea":pt("invalid",i),no(i,c.value,c.defaultValue,c.children),Jo(i)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||c.suppressHydrationWarning===!0||$x(i.textContent,l)?(c.popover!=null&&(pt("beforetoggle",i),pt("toggle",i)),c.onScroll!=null&&pt("scroll",i),c.onScrollEnd!=null&&pt("scrollend",i),c.onClick!=null&&(i.onclick=Qf),i=!0):i=!1,i||vo(r)}function N_(r){for(ur=r.return;ur;)switch(ur.tag){case 5:case 13:ws=!1;return;case 27:case 3:ws=!0;return;default:ur=ur.return}}function nu(r){if(r!==ur)return!1;if(!It)return N_(r),It=!0,!1;var i=r.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||Hg(r.type,r.memoizedProps)),l=!l),l&&sn&&vo(r),N_(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(i===0){sn=Jr(r.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;r=r.nextSibling}sn=null}}else i===27?(i=sn,ca(r.type)?(r=Kg,Kg=null,sn=r):sn=i):sn=ur?Jr(r.stateNode.nextSibling):null;return!0}function ru(){sn=ur=null,It=!1}function I_(){var r=yo;return r!==null&&(pr===null?pr=r:pr.push.apply(pr,r),yo=null),r}function su(r){yo===null?yo=[r]:yo.push(r)}var Np=ae(null),_o=null,ui=null;function Ki(r,i,l){le(Np,i._currentValue),i._currentValue=l}function di(r){r._currentValue=Np.current,he(Np)}function Ip(r,i,l){for(;r!==null;){var c=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),r===l)break;r=r.return}}function kp(r,i,l,c){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var y=m.dependencies;if(y!==null){var T=m.child;y=y.firstContext;e:for(;y!==null;){var k=y;y=m;for(var F=0;F<i.length;F++)if(k.context===i[F]){y.lanes|=l,k=y.alternate,k!==null&&(k.lanes|=l),Ip(y.return,l,r),c||(T=null);break e}y=k.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(s(341));T.lanes|=l,y=T.alternate,y!==null&&(y.lanes|=l),Ip(T,l,r),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===r){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function iu(r,i,l,c){r=null;for(var m=i,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var k=m.type;br(m.pendingProps.value,T.value)||(r!==null?r.push(k):r=[k])}}else if(m===ge.current){if(T=m.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(ju):r=[ju])}m=m.return}r!==null&&kp(i,r,l,c),i.flags|=262144}function yf(r){for(r=r.firstContext;r!==null;){if(!br(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function bo(r){_o=r,ui=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Zn(r){return k_(_o,r)}function vf(r,i){return _o===null&&bo(r),k_(r,i)}function k_(r,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},ui===null){if(r===null)throw Error(s(308));ui=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else ui=ui.next=i;return l}var xR=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(l,c){r.push(c)}};this.abort=function(){i.aborted=!0,r.forEach(function(l){return l()})}},wR=n.unstable_scheduleCallback,ER=n.unstable_NormalPriority,Rn={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dp(){return{controller:new xR,data:new Map,refCount:0}}function au(r){r.refCount--,r.refCount===0&&wR(ER,function(){r.controller.abort()})}var ou=null,Op=0,gl=0,yl=null;function TR(r,i){if(ou===null){var l=ou=[];Op=0,gl=Mg(),yl={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Op++,i.then(D_,D_),i}function D_(){if(--Op===0&&ou!==null){yl!==null&&(yl.status="fulfilled");var r=ou;ou=null,gl=0,yl=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function SR(r,i){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return r.then(function(){c.status="fulfilled",c.value=i;for(var m=0;m<l.length;m++)(0,l[m])(i)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var O_=H.S;H.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&TR(r,i),O_!==null&&O_(r,i)};var xo=ae(null);function jp(){var r=xo.current;return r!==null?r:Ht.pooledCache}function _f(r,i){i===null?le(xo,xo.current):le(xo,i.pool)}function j_(){var r=jp();return r===null?null:{parent:Rn._currentValue,pool:r}}var lu=Error(s(460)),M_=Error(s(474)),bf=Error(s(542)),Mp={then:function(){}};function P_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function xf(){}function V_(r,i,l){switch(l=r[l],l===void 0?r.push(i):l!==i&&(i.then(xf,xf),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,U_(r),r;default:if(typeof i.status=="string")i.then(xf,xf);else{if(r=Ht,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(c){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=c}},function(c){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,U_(r),r}throw cu=i,lu}}var cu=null;function L_(){if(cu===null)throw Error(s(459));var r=cu;return cu=null,r}function U_(r){if(r===lu||r===bf)throw Error(s(483))}var Wi=!1;function Pp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vp(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Qi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Xi(r,i,l){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Pt&2)!==0){var m=c.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),c.pending=i,i=hf(r),S_(r,null,l),i}return ff(r,c,i,l),hf(r)}function uu(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var c=i.lanes;c&=r.pendingLanes,l|=c,i.lanes=l,Lc(r,l)}}function Lp(r,i){var l=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?m=y=i:y=y.next=i}else m=y=i;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}var Up=!1;function du(){if(Up){var r=yl;if(r!==null)throw r}}function fu(r,i,l,c){Up=!1;var m=r.updateQueue;Wi=!1;var y=m.firstBaseUpdate,T=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var F=k,ee=F.next;F.next=null,T===null?y=ee:T.next=ee,T=F;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,k=oe.lastBaseUpdate,k!==T&&(k===null?oe.firstBaseUpdate=ee:k.next=ee,oe.lastBaseUpdate=F))}if(y!==null){var de=m.baseState;T=0,oe=ee=F=null,k=y;do{var te=k.lane&-536870913,re=te!==k.lane;if(re?(wt&te)===te:(c&te)===te){te!==0&&te===gl&&(Up=!0),oe!==null&&(oe=oe.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Ge=r,Be=k;te=i;var Ft=l;switch(Be.tag){case 1:if(Ge=Be.payload,typeof Ge=="function"){de=Ge.call(Ft,de,te);break e}de=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=Be.payload,te=typeof Ge=="function"?Ge.call(Ft,de,te):Ge,te==null)break e;de=v({},de,te);break e;case 2:Wi=!0}}te=k.callback,te!==null&&(r.flags|=64,re&&(r.flags|=8192),re=m.callbacks,re===null?m.callbacks=[te]:re.push(te))}else re={lane:te,tag:k.tag,payload:k.payload,callback:k.callback,next:null},oe===null?(ee=oe=re,F=de):oe=oe.next=re,T|=te;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;re=k,k=re.next,re.next=null,m.lastBaseUpdate=re,m.shared.pending=null}}while(!0);oe===null&&(F=de),m.baseState=F,m.firstBaseUpdate=ee,m.lastBaseUpdate=oe,y===null&&(m.shared.lanes=0),ia|=T,r.lanes=T,r.memoizedState=de}}function z_(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function B_(r,i){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)z_(l[r],i)}var vl=ae(null),wf=ae(0);function F_(r,i){r=vi,le(wf,r),le(vl,i),vi=r|i.baseLanes}function zp(){le(wf,vi),le(vl,vl.current)}function Bp(){vi=wf.current,he(vl),he(wf)}var Zi=0,at=null,zt=null,_n=null,Ef=!1,_l=!1,wo=!1,Tf=0,hu=0,bl=null,AR=0;function hn(){throw Error(s(321))}function Fp(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!br(r[l],i[l]))return!1;return!0}function qp(r,i,l,c,m,y){return Zi=y,at=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=r===null||r.memoizedState===null?Sb:Ab,wo=!1,y=l(c,m),wo=!1,_l&&(y=H_(i,l,c,m)),q_(r),y}function q_(r){H.H=If;var i=zt!==null&&zt.next!==null;if(Zi=0,_n=zt=at=null,Ef=!1,hu=0,bl=null,i)throw Error(s(300));r===null||Pn||(r=r.dependencies,r!==null&&yf(r)&&(Pn=!0))}function H_(r,i,l,c){at=r;var m=0;do{if(_l&&(bl=null),hu=0,_l=!1,25<=m)throw Error(s(301));if(m+=1,_n=zt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}H.H=OR,y=i(l,c)}while(_l);return y}function CR(){var r=H.H,i=r.useState()[0];return i=typeof i.then=="function"?mu(i):i,r=r.useState()[0],(zt!==null?zt.memoizedState:null)!==r&&(at.flags|=1024),i}function Hp(){var r=Tf!==0;return Tf=0,r}function $p(r,i,l){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~l}function Gp(r){if(Ef){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ef=!1}Zi=0,_n=zt=at=null,_l=!1,hu=Tf=0,bl=null}function hr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?at.memoizedState=_n=r:_n=_n.next=r,_n}function bn(){if(zt===null){var r=at.alternate;r=r!==null?r.memoizedState:null}else r=zt.next;var i=_n===null?at.memoizedState:_n.next;if(i!==null)_n=i,zt=r;else{if(r===null)throw at.alternate===null?Error(s(467)):Error(s(310));zt=r,r={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},_n===null?at.memoizedState=_n=r:_n=_n.next=r}return _n}function Yp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mu(r){var i=hu;return hu+=1,bl===null&&(bl=[]),r=V_(bl,r,i),i=at,(_n===null?i.memoizedState:_n.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?Sb:Ab),r}function Sf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return mu(r);if(r.$$typeof===L)return Zn(r)}throw Error(s(438,String(r)))}function Kp(r){var i=null,l=at.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var c=at.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Yp(),at.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(r),c=0;c<r;c++)l[c]=U;return i.index++,l}function fi(r,i){return typeof i=="function"?i(r):i}function Af(r){var i=bn();return Wp(i,zt,r)}function Wp(r,i,l){var c=r.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=l;var m=r.baseQueue,y=c.pending;if(y!==null){if(m!==null){var T=m.next;m.next=y.next,y.next=T}i.baseQueue=m=y,c.pending=null}if(y=r.baseState,m===null)r.memoizedState=y;else{i=m.next;var k=T=null,F=null,ee=i,oe=!1;do{var de=ee.lane&-536870913;if(de!==ee.lane?(wt&de)===de:(Zi&de)===de){var te=ee.revertLane;if(te===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),de===gl&&(oe=!0);else if((Zi&te)===te){ee=ee.next,te===gl&&(oe=!0);continue}else de={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},F===null?(k=F=de,T=y):F=F.next=de,at.lanes|=te,ia|=te;de=ee.action,wo&&l(y,de),y=ee.hasEagerState?ee.eagerState:l(y,de)}else te={lane:de,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},F===null?(k=F=te,T=y):F=F.next=te,at.lanes|=de,ia|=de;ee=ee.next}while(ee!==null&&ee!==i);if(F===null?T=y:F.next=k,!br(y,r.memoizedState)&&(Pn=!0,oe&&(l=yl,l!==null)))throw l;r.memoizedState=y,r.baseState=T,r.baseQueue=F,c.lastRenderedState=y}return m===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Qp(r){var i=bn(),l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=l.dispatch,m=l.pending,y=i.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do y=r(y,T.action),T=T.next;while(T!==m);br(y,i.memoizedState)||(Pn=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,c]}function $_(r,i,l){var c=at,m=bn(),y=It;if(y){if(l===void 0)throw Error(s(407));l=l()}else l=i();var T=!br((zt||m).memoizedState,l);T&&(m.memoizedState=l,Pn=!0),m=m.queue;var k=K_.bind(null,c,m,r);if(pu(2048,8,k,[r]),m.getSnapshot!==i||T||_n!==null&&_n.memoizedState.tag&1){if(c.flags|=2048,xl(9,Cf(),Y_.bind(null,c,m,l,i),null),Ht===null)throw Error(s(349));y||(Zi&124)!==0||G_(c,i,l)}return l}function G_(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=at.updateQueue,i===null?(i=Yp(),at.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function Y_(r,i,l,c){i.value=l,i.getSnapshot=c,W_(i)&&Q_(r)}function K_(r,i,l){return l(function(){W_(i)&&Q_(r)})}function W_(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!br(r,l)}catch{return!0}}function Q_(r){var i=fl(r,2);i!==null&&Ar(i,r,2)}function Xp(r){var i=hr();if(typeof r=="function"){var l=r;if(r=l(),wo){Ke(!0);try{l()}finally{Ke(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:r},i}function X_(r,i,l,c){return r.baseState=l,Wp(r,zt,typeof c=="function"?c:fi)}function RR(r,i,l,c,m){if(Nf(r))throw Error(s(485));if(r=i.action,r!==null){var y={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};H.T!==null?l(!0):y.isTransition=!1,c(y),l=i.pending,l===null?(y.next=i.pending=y,Z_(i,y)):(y.next=l.next,i.pending=l.next=y)}}function Z_(r,i){var l=i.action,c=i.payload,m=r.state;if(i.isTransition){var y=H.T,T={};H.T=T;try{var k=l(m,c),F=H.S;F!==null&&F(T,k),J_(r,i,k)}catch(ee){Zp(r,i,ee)}finally{H.T=y}}else try{y=l(m,c),J_(r,i,y)}catch(ee){Zp(r,i,ee)}}function J_(r,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){eb(r,i,c)},function(c){return Zp(r,i,c)}):eb(r,i,l)}function eb(r,i,l){i.status="fulfilled",i.value=l,tb(i),r.state=l,i=r.pending,i!==null&&(l=i.next,l===i?r.pending=null:(l=l.next,i.next=l,Z_(r,l)))}function Zp(r,i,l){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=l,tb(i),i=i.next;while(i!==c)}r.action=null}function tb(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function nb(r,i){return i}function rb(r,i){if(It){var l=Ht.formState;if(l!==null){e:{var c=at;if(It){if(sn){t:{for(var m=sn,y=ws;m.nodeType!==8;){if(!y){m=null;break t}if(m=Jr(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){sn=Jr(m.nextSibling),c=m.data==="F!";break e}}vo(c)}c=!1}c&&(i=l[0])}}return l=hr(),l.memoizedState=l.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nb,lastRenderedState:i},l.queue=c,l=wb.bind(null,at,c),c.dispatch=l,c=Xp(!1),y=rg.bind(null,at,!1,c.queue),c=hr(),m={state:i,dispatch:null,action:r,pending:null},c.queue=m,l=RR.bind(null,at,m,y,l),m.dispatch=l,c.memoizedState=r,[i,l,!1]}function sb(r){var i=bn();return ib(i,zt,r)}function ib(r,i,l){if(i=Wp(r,i,nb)[0],r=Af(fi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=mu(i)}catch(T){throw T===lu?bf:T}else c=i;i=bn();var m=i.queue,y=m.dispatch;return l!==i.memoizedState&&(at.flags|=2048,xl(9,Cf(),NR.bind(null,m,l),null)),[c,y,r]}function NR(r,i){r.action=i}function ab(r){var i=bn(),l=zt;if(l!==null)return ib(i,l,r);bn(),i=i.memoizedState,l=bn();var c=l.queue.dispatch;return l.memoizedState=r,[i,c,!1]}function xl(r,i,l,c){return r={tag:r,create:l,deps:c,inst:i,next:null},i=at.updateQueue,i===null&&(i=Yp(),at.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=r.next=r:(c=l.next,l.next=r,r.next=c,i.lastEffect=r),r}function Cf(){return{destroy:void 0,resource:void 0}}function ob(){return bn().memoizedState}function Rf(r,i,l,c){var m=hr();c=c===void 0?null:c,at.flags|=r,m.memoizedState=xl(1|i,Cf(),l,c)}function pu(r,i,l,c){var m=bn();c=c===void 0?null:c;var y=m.memoizedState.inst;zt!==null&&c!==null&&Fp(c,zt.memoizedState.deps)?m.memoizedState=xl(i,y,l,c):(at.flags|=r,m.memoizedState=xl(1|i,y,l,c))}function lb(r,i){Rf(8390656,8,r,i)}function cb(r,i){pu(2048,8,r,i)}function ub(r,i){return pu(4,2,r,i)}function db(r,i){return pu(4,4,r,i)}function fb(r,i){if(typeof i=="function"){r=r();var l=i(r);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function hb(r,i,l){l=l!=null?l.concat([r]):null,pu(4,4,fb.bind(null,i,r),l)}function Jp(){}function mb(r,i){var l=bn();i=i===void 0?null:i;var c=l.memoizedState;return i!==null&&Fp(i,c[1])?c[0]:(l.memoizedState=[r,i],r)}function pb(r,i){var l=bn();i=i===void 0?null:i;var c=l.memoizedState;if(i!==null&&Fp(i,c[1]))return c[0];if(c=r(),wo){Ke(!0);try{r()}finally{Ke(!1)}}return l.memoizedState=[c,i],c}function eg(r,i,l){return l===void 0||(Zi&1073741824)!==0?r.memoizedState=i:(r.memoizedState=l,r=vx(),at.lanes|=r,ia|=r,l)}function gb(r,i,l,c){return br(l,i)?l:vl.current!==null?(r=eg(r,l,c),br(r,i)||(Pn=!0),r):(Zi&42)===0?(Pn=!0,r.memoizedState=l):(r=vx(),at.lanes|=r,ia|=r,i)}function yb(r,i,l,c,m){var y=Z.p;Z.p=y!==0&&8>y?y:8;var T=H.T,k={};H.T=k,rg(r,!1,i,l);try{var F=m(),ee=H.S;if(ee!==null&&ee(k,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var oe=SR(F,c);gu(r,i,oe,Sr(r))}else gu(r,i,c,Sr(r))}catch(de){gu(r,i,{then:function(){},status:"rejected",reason:de},Sr())}finally{Z.p=y,H.T=T}}function IR(){}function tg(r,i,l,c){if(r.tag!==5)throw Error(s(476));var m=vb(r).queue;yb(r,m,i,K,l===null?IR:function(){return _b(r),l(c)})}function vb(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:K},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:l},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function _b(r){var i=vb(r).next.queue;gu(r,i,{},Sr())}function ng(){return Zn(ju)}function bb(){return bn().memoizedState}function xb(){return bn().memoizedState}function kR(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var l=Sr();r=Qi(l);var c=Xi(i,r,l);c!==null&&(Ar(c,i,l),uu(c,i,l)),i={cache:Dp()},r.payload=i;return}i=i.return}}function DR(r,i,l){var c=Sr();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Nf(r)?Eb(i,l):(l=wp(r,i,l,c),l!==null&&(Ar(l,r,c),Tb(l,i,c)))}function wb(r,i,l){var c=Sr();gu(r,i,l,c)}function gu(r,i,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Nf(r))Eb(i,m);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var T=i.lastRenderedState,k=y(T,l);if(m.hasEagerState=!0,m.eagerState=k,br(k,T))return ff(r,i,m,0),Ht===null&&df(),!1}catch{}finally{}if(l=wp(r,i,m,c),l!==null)return Ar(l,r,c),Tb(l,i,c),!0}return!1}function rg(r,i,l,c){if(c={lane:2,revertLane:Mg(),action:c,hasEagerState:!1,eagerState:null,next:null},Nf(r)){if(i)throw Error(s(479))}else i=wp(r,l,c,2),i!==null&&Ar(i,r,2)}function Nf(r){var i=r.alternate;return r===at||i!==null&&i===at}function Eb(r,i){_l=Ef=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function Tb(r,i,l){if((l&4194048)!==0){var c=i.lanes;c&=r.pendingLanes,l|=c,i.lanes=l,Lc(r,l)}}var If={readContext:Zn,use:Sf,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useLayoutEffect:hn,useInsertionEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useSyncExternalStore:hn,useId:hn,useHostTransitionStatus:hn,useFormState:hn,useActionState:hn,useOptimistic:hn,useMemoCache:hn,useCacheRefresh:hn},Sb={readContext:Zn,use:Sf,useCallback:function(r,i){return hr().memoizedState=[r,i===void 0?null:i],r},useContext:Zn,useEffect:lb,useImperativeHandle:function(r,i,l){l=l!=null?l.concat([r]):null,Rf(4194308,4,fb.bind(null,i,r),l)},useLayoutEffect:function(r,i){return Rf(4194308,4,r,i)},useInsertionEffect:function(r,i){Rf(4,2,r,i)},useMemo:function(r,i){var l=hr();i=i===void 0?null:i;var c=r();if(wo){Ke(!0);try{r()}finally{Ke(!1)}}return l.memoizedState=[c,i],c},useReducer:function(r,i,l){var c=hr();if(l!==void 0){var m=l(i);if(wo){Ke(!0);try{l(i)}finally{Ke(!1)}}}else m=i;return c.memoizedState=c.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},c.queue=r,r=r.dispatch=DR.bind(null,at,r),[c.memoizedState,r]},useRef:function(r){var i=hr();return r={current:r},i.memoizedState=r},useState:function(r){r=Xp(r);var i=r.queue,l=wb.bind(null,at,i);return i.dispatch=l,[r.memoizedState,l]},useDebugValue:Jp,useDeferredValue:function(r,i){var l=hr();return eg(l,r,i)},useTransition:function(){var r=Xp(!1);return r=yb.bind(null,at,r.queue,!0,!1),hr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,l){var c=at,m=hr();if(It){if(l===void 0)throw Error(s(407));l=l()}else{if(l=i(),Ht===null)throw Error(s(349));(wt&124)!==0||G_(c,i,l)}m.memoizedState=l;var y={value:l,getSnapshot:i};return m.queue=y,lb(K_.bind(null,c,y,r),[r]),c.flags|=2048,xl(9,Cf(),Y_.bind(null,c,y,l,i),null),l},useId:function(){var r=hr(),i=Ht.identifierPrefix;if(It){var l=ci,c=li;l=(c&~(1<<32-ht(c)-1)).toString(32)+l,i=""+i+"R"+l,l=Tf++,0<l&&(i+="H"+l.toString(32)),i+=""}else l=AR++,i=""+i+"r"+l.toString(32)+"";return r.memoizedState=i},useHostTransitionStatus:ng,useFormState:rb,useActionState:rb,useOptimistic:function(r){var i=hr();i.memoizedState=i.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=rg.bind(null,at,!0,l),l.dispatch=i,[r,i]},useMemoCache:Kp,useCacheRefresh:function(){return hr().memoizedState=kR.bind(null,at)}},Ab={readContext:Zn,use:Sf,useCallback:mb,useContext:Zn,useEffect:cb,useImperativeHandle:hb,useInsertionEffect:ub,useLayoutEffect:db,useMemo:pb,useReducer:Af,useRef:ob,useState:function(){return Af(fi)},useDebugValue:Jp,useDeferredValue:function(r,i){var l=bn();return gb(l,zt.memoizedState,r,i)},useTransition:function(){var r=Af(fi)[0],i=bn().memoizedState;return[typeof r=="boolean"?r:mu(r),i]},useSyncExternalStore:$_,useId:bb,useHostTransitionStatus:ng,useFormState:sb,useActionState:sb,useOptimistic:function(r,i){var l=bn();return X_(l,zt,r,i)},useMemoCache:Kp,useCacheRefresh:xb},OR={readContext:Zn,use:Sf,useCallback:mb,useContext:Zn,useEffect:cb,useImperativeHandle:hb,useInsertionEffect:ub,useLayoutEffect:db,useMemo:pb,useReducer:Qp,useRef:ob,useState:function(){return Qp(fi)},useDebugValue:Jp,useDeferredValue:function(r,i){var l=bn();return zt===null?eg(l,r,i):gb(l,zt.memoizedState,r,i)},useTransition:function(){var r=Qp(fi)[0],i=bn().memoizedState;return[typeof r=="boolean"?r:mu(r),i]},useSyncExternalStore:$_,useId:bb,useHostTransitionStatus:ng,useFormState:ab,useActionState:ab,useOptimistic:function(r,i){var l=bn();return zt!==null?X_(l,zt,r,i):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:Kp,useCacheRefresh:xb},wl=null,yu=0;function kf(r){var i=yu;return yu+=1,wl===null&&(wl=[]),V_(wl,r,i)}function vu(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Df(r,i){throw i.$$typeof===x?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function Cb(r){var i=r._init;return i(r._payload)}function Rb(r){function i(W,Y){if(r){var J=W.deletions;J===null?(W.deletions=[Y],W.flags|=16):J.push(Y)}}function l(W,Y){if(!r)return null;for(;Y!==null;)i(W,Y),Y=Y.sibling;return null}function c(W){for(var Y=new Map;W!==null;)W.key!==null?Y.set(W.key,W):Y.set(W.index,W),W=W.sibling;return Y}function m(W,Y){return W=oi(W,Y),W.index=0,W.sibling=null,W}function y(W,Y,J){return W.index=J,r?(J=W.alternate,J!==null?(J=J.index,J<Y?(W.flags|=67108866,Y):J):(W.flags|=67108866,Y)):(W.flags|=1048576,Y)}function T(W){return r&&W.alternate===null&&(W.flags|=67108866),W}function k(W,Y,J,ue){return Y===null||Y.tag!==6?(Y=Tp(J,W.mode,ue),Y.return=W,Y):(Y=m(Y,J),Y.return=W,Y)}function F(W,Y,J,ue){var Re=J.type;return Re===R?oe(W,Y,J.props.children,ue,J.key):Y!==null&&(Y.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===A&&Cb(Re)===Y.type)?(Y=m(Y,J.props),vu(Y,J),Y.return=W,Y):(Y=mf(J.type,J.key,J.props,null,W.mode,ue),vu(Y,J),Y.return=W,Y)}function ee(W,Y,J,ue){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==J.containerInfo||Y.stateNode.implementation!==J.implementation?(Y=Sp(J,W.mode,ue),Y.return=W,Y):(Y=m(Y,J.children||[]),Y.return=W,Y)}function oe(W,Y,J,ue,Re){return Y===null||Y.tag!==7?(Y=mo(J,W.mode,ue,Re),Y.return=W,Y):(Y=m(Y,J),Y.return=W,Y)}function de(W,Y,J){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Tp(""+Y,W.mode,J),Y.return=W,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:return J=mf(Y.type,Y.key,Y.props,null,W.mode,J),vu(J,Y),J.return=W,J;case S:return Y=Sp(Y,W.mode,J),Y.return=W,Y;case A:var ue=Y._init;return Y=ue(Y._payload),de(W,Y,J)}if(ne(Y)||z(Y))return Y=mo(Y,W.mode,J,null),Y.return=W,Y;if(typeof Y.then=="function")return de(W,kf(Y),J);if(Y.$$typeof===L)return de(W,vf(W,Y),J);Df(W,Y)}return null}function te(W,Y,J,ue){var Re=Y!==null?Y.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Re!==null?null:k(W,Y,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return J.key===Re?F(W,Y,J,ue):null;case S:return J.key===Re?ee(W,Y,J,ue):null;case A:return Re=J._init,J=Re(J._payload),te(W,Y,J,ue)}if(ne(J)||z(J))return Re!==null?null:oe(W,Y,J,ue,null);if(typeof J.then=="function")return te(W,Y,kf(J),ue);if(J.$$typeof===L)return te(W,Y,vf(W,J),ue);Df(W,J)}return null}function re(W,Y,J,ue,Re){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return W=W.get(J)||null,k(Y,W,""+ue,Re);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case b:return W=W.get(ue.key===null?J:ue.key)||null,F(Y,W,ue,Re);case S:return W=W.get(ue.key===null?J:ue.key)||null,ee(Y,W,ue,Re);case A:var dt=ue._init;return ue=dt(ue._payload),re(W,Y,J,ue,Re)}if(ne(ue)||z(ue))return W=W.get(J)||null,oe(Y,W,ue,Re,null);if(typeof ue.then=="function")return re(W,Y,J,kf(ue),Re);if(ue.$$typeof===L)return re(W,Y,J,vf(Y,ue),Re);Df(Y,ue)}return null}function Ge(W,Y,J,ue){for(var Re=null,dt=null,Ve=Y,qe=Y=0,Ln=null;Ve!==null&&qe<J.length;qe++){Ve.index>qe?(Ln=Ve,Ve=null):Ln=Ve.sibling;var Rt=te(W,Ve,J[qe],ue);if(Rt===null){Ve===null&&(Ve=Ln);break}r&&Ve&&Rt.alternate===null&&i(W,Ve),Y=y(Rt,Y,qe),dt===null?Re=Rt:dt.sibling=Rt,dt=Rt,Ve=Ln}if(qe===J.length)return l(W,Ve),It&&go(W,qe),Re;if(Ve===null){for(;qe<J.length;qe++)Ve=de(W,J[qe],ue),Ve!==null&&(Y=y(Ve,Y,qe),dt===null?Re=Ve:dt.sibling=Ve,dt=Ve);return It&&go(W,qe),Re}for(Ve=c(Ve);qe<J.length;qe++)Ln=re(Ve,W,qe,J[qe],ue),Ln!==null&&(r&&Ln.alternate!==null&&Ve.delete(Ln.key===null?qe:Ln.key),Y=y(Ln,Y,qe),dt===null?Re=Ln:dt.sibling=Ln,dt=Ln);return r&&Ve.forEach(function(ma){return i(W,ma)}),It&&go(W,qe),Re}function Be(W,Y,J,ue){if(J==null)throw Error(s(151));for(var Re=null,dt=null,Ve=Y,qe=Y=0,Ln=null,Rt=J.next();Ve!==null&&!Rt.done;qe++,Rt=J.next()){Ve.index>qe?(Ln=Ve,Ve=null):Ln=Ve.sibling;var ma=te(W,Ve,Rt.value,ue);if(ma===null){Ve===null&&(Ve=Ln);break}r&&Ve&&ma.alternate===null&&i(W,Ve),Y=y(ma,Y,qe),dt===null?Re=ma:dt.sibling=ma,dt=ma,Ve=Ln}if(Rt.done)return l(W,Ve),It&&go(W,qe),Re;if(Ve===null){for(;!Rt.done;qe++,Rt=J.next())Rt=de(W,Rt.value,ue),Rt!==null&&(Y=y(Rt,Y,qe),dt===null?Re=Rt:dt.sibling=Rt,dt=Rt);return It&&go(W,qe),Re}for(Ve=c(Ve);!Rt.done;qe++,Rt=J.next())Rt=re(Ve,W,qe,Rt.value,ue),Rt!==null&&(r&&Rt.alternate!==null&&Ve.delete(Rt.key===null?qe:Rt.key),Y=y(Rt,Y,qe),dt===null?Re=Rt:dt.sibling=Rt,dt=Rt);return r&&Ve.forEach(function(jN){return i(W,jN)}),It&&go(W,qe),Re}function Ft(W,Y,J,ue){if(typeof J=="object"&&J!==null&&J.type===R&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case b:e:{for(var Re=J.key;Y!==null;){if(Y.key===Re){if(Re=J.type,Re===R){if(Y.tag===7){l(W,Y.sibling),ue=m(Y,J.props.children),ue.return=W,W=ue;break e}}else if(Y.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===A&&Cb(Re)===Y.type){l(W,Y.sibling),ue=m(Y,J.props),vu(ue,J),ue.return=W,W=ue;break e}l(W,Y);break}else i(W,Y);Y=Y.sibling}J.type===R?(ue=mo(J.props.children,W.mode,ue,J.key),ue.return=W,W=ue):(ue=mf(J.type,J.key,J.props,null,W.mode,ue),vu(ue,J),ue.return=W,W=ue)}return T(W);case S:e:{for(Re=J.key;Y!==null;){if(Y.key===Re)if(Y.tag===4&&Y.stateNode.containerInfo===J.containerInfo&&Y.stateNode.implementation===J.implementation){l(W,Y.sibling),ue=m(Y,J.children||[]),ue.return=W,W=ue;break e}else{l(W,Y);break}else i(W,Y);Y=Y.sibling}ue=Sp(J,W.mode,ue),ue.return=W,W=ue}return T(W);case A:return Re=J._init,J=Re(J._payload),Ft(W,Y,J,ue)}if(ne(J))return Ge(W,Y,J,ue);if(z(J)){if(Re=z(J),typeof Re!="function")throw Error(s(150));return J=Re.call(J),Be(W,Y,J,ue)}if(typeof J.then=="function")return Ft(W,Y,kf(J),ue);if(J.$$typeof===L)return Ft(W,Y,vf(W,J),ue);Df(W,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,Y!==null&&Y.tag===6?(l(W,Y.sibling),ue=m(Y,J),ue.return=W,W=ue):(l(W,Y),ue=Tp(J,W.mode,ue),ue.return=W,W=ue),T(W)):l(W,Y)}return function(W,Y,J,ue){try{yu=0;var Re=Ft(W,Y,J,ue);return wl=null,Re}catch(Ve){if(Ve===lu||Ve===bf)throw Ve;var dt=xr(29,Ve,null,W.mode);return dt.lanes=ue,dt.return=W,dt}finally{}}}var El=Rb(!0),Nb=Rb(!1),Fr=ae(null),Es=null;function Ji(r){var i=r.alternate;le(Nn,Nn.current&1),le(Fr,r),Es===null&&(i===null||vl.current!==null||i.memoizedState!==null)&&(Es=r)}function Ib(r){if(r.tag===22){if(le(Nn,Nn.current),le(Fr,r),Es===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(Es=r)}}else ea()}function ea(){le(Nn,Nn.current),le(Fr,Fr.current)}function hi(r){he(Fr),Es===r&&(Es=null),he(Nn)}var Nn=ae(0);function Of(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Yg(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function sg(r,i,l,c){i=r.memoizedState,l=l(c,i),l=l==null?i:v({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var ig={enqueueSetState:function(r,i,l){r=r._reactInternals;var c=Sr(),m=Qi(c);m.payload=i,l!=null&&(m.callback=l),i=Xi(r,m,c),i!==null&&(Ar(i,r,c),uu(i,r,c))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var c=Sr(),m=Qi(c);m.tag=1,m.payload=i,l!=null&&(m.callback=l),i=Xi(r,m,c),i!==null&&(Ar(i,r,c),uu(i,r,c))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=Sr(),c=Qi(l);c.tag=2,i!=null&&(c.callback=i),i=Xi(r,c,l),i!==null&&(Ar(i,r,l),uu(i,r,l))}};function kb(r,i,l,c,m,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,T):i.prototype&&i.prototype.isPureReactComponent?!eu(l,c)||!eu(m,y):!0}function Db(r,i,l,c){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,c),i.state!==r&&ig.enqueueReplaceState(i,i.state,null)}function Eo(r,i){var l=i;if("ref"in i){l={};for(var c in i)c!=="ref"&&(l[c]=i[c])}if(r=r.defaultProps){l===i&&(l=v({},l));for(var m in r)l[m]===void 0&&(l[m]=r[m])}return l}var jf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Ob(r){jf(r)}function jb(r){console.error(r)}function Mb(r){jf(r)}function Mf(r,i){try{var l=r.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function Pb(r,i,l){try{var c=r.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function ag(r,i,l){return l=Qi(l),l.tag=3,l.payload={element:null},l.callback=function(){Mf(r,i)},l}function Vb(r){return r=Qi(r),r.tag=3,r}function Lb(r,i,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;r.payload=function(){return m(y)},r.callback=function(){Pb(i,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){Pb(i,l,c),typeof m!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var k=c.stack;this.componentDidCatch(c.value,{componentStack:k!==null?k:""})})}function jR(r,i,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=l.alternate,i!==null&&iu(i,l,m,!0),l=Fr.current,l!==null){switch(l.tag){case 13:return Es===null?Ig():l.alternate===null&&an===0&&(an=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===Mp?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([c]):i.add(c),Dg(r,c,m)),!1;case 22:return l.flags|=65536,c===Mp?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([c]):l.add(c)),Dg(r,c,m)),!1}throw Error(s(435,l.tag))}return Dg(r,c,m),Ig(),!1}if(It)return i=Fr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,c!==Rp&&(r=Error(s(422),{cause:c}),su(Lr(r,l)))):(c!==Rp&&(i=Error(s(423),{cause:c}),su(Lr(i,l))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,c=Lr(c,l),m=ag(r.stateNode,c,m),Lp(r,m),an!==4&&(an=2)),!1;var y=Error(s(520),{cause:c});if(y=Lr(y,l),Su===null?Su=[y]:Su.push(y),an!==4&&(an=2),i===null)return!0;c=Lr(c,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,r=m&-m,l.lanes|=r,r=ag(l.stateNode,c,r),Lp(l,r),!1;case 1:if(i=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(aa===null||!aa.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=Vb(m),Lb(m,r,l,c),Lp(l,m),!1}l=l.return}while(l!==null);return!1}var Ub=Error(s(461)),Pn=!1;function qn(r,i,l,c){i.child=r===null?Nb(i,null,l,c):El(i,r.child,l,c)}function zb(r,i,l,c,m){l=l.render;var y=i.ref;if("ref"in c){var T={};for(var k in c)k!=="ref"&&(T[k]=c[k])}else T=c;return bo(i),c=qp(r,i,l,T,y,m),k=Hp(),r!==null&&!Pn?($p(r,i,m),mi(r,i,m)):(It&&k&&Ap(i),i.flags|=1,qn(r,i,c,m),i.child)}function Bb(r,i,l,c,m){if(r===null){var y=l.type;return typeof y=="function"&&!Ep(y)&&y.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=y,Fb(r,i,y,c,m)):(r=mf(l.type,null,c,i,i.mode,m),r.ref=i.ref,r.return=i,i.child=r)}if(y=r.child,!mg(r,m)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:eu,l(T,c)&&r.ref===i.ref)return mi(r,i,m)}return i.flags|=1,r=oi(y,c),r.ref=i.ref,r.return=i,i.child=r}function Fb(r,i,l,c,m){if(r!==null){var y=r.memoizedProps;if(eu(y,c)&&r.ref===i.ref)if(Pn=!1,i.pendingProps=c=y,mg(r,m))(r.flags&131072)!==0&&(Pn=!0);else return i.lanes=r.lanes,mi(r,i,m)}return og(r,i,l,c,m)}function qb(r,i,l){var c=i.pendingProps,m=c.children,y=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,r!==null){for(m=i.child=r.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;i.childLanes=y&~c}else i.childLanes=0,i.child=null;return Hb(r,i,c,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&_f(i,y!==null?y.cachePool:null),y!==null?F_(i,y):zp(),Ib(i);else return i.lanes=i.childLanes=536870912,Hb(r,i,y!==null?y.baseLanes|l:l,l)}else y!==null?(_f(i,y.cachePool),F_(i,y),ea(),i.memoizedState=null):(r!==null&&_f(i,null),zp(),ea());return qn(r,i,m,l),i.child}function Hb(r,i,l,c){var m=jp();return m=m===null?null:{parent:Rn._currentValue,pool:m},i.memoizedState={baseLanes:l,cachePool:m},r!==null&&_f(i,null),zp(),Ib(i),r!==null&&iu(r,i,c,!0),null}function Pf(r,i){var l=i.ref;if(l===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(r===null||r.ref!==l)&&(i.flags|=4194816)}}function og(r,i,l,c,m){return bo(i),l=qp(r,i,l,c,void 0,m),c=Hp(),r!==null&&!Pn?($p(r,i,m),mi(r,i,m)):(It&&c&&Ap(i),i.flags|=1,qn(r,i,l,m),i.child)}function $b(r,i,l,c,m,y){return bo(i),i.updateQueue=null,l=H_(i,c,l,m),q_(r),c=Hp(),r!==null&&!Pn?($p(r,i,y),mi(r,i,y)):(It&&c&&Ap(i),i.flags|=1,qn(r,i,l,y),i.child)}function Gb(r,i,l,c,m){if(bo(i),i.stateNode===null){var y=hl,T=l.contextType;typeof T=="object"&&T!==null&&(y=Zn(T)),y=new l(c,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=ig,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=c,y.state=i.memoizedState,y.refs={},Pp(i),T=l.contextType,y.context=typeof T=="object"&&T!==null?Zn(T):hl,y.state=i.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(sg(i,l,T,c),y.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&ig.enqueueReplaceState(y,y.state,null),fu(i,c,y,m),du(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(r===null){y=i.stateNode;var k=i.memoizedProps,F=Eo(l,k);y.props=F;var ee=y.context,oe=l.contextType;T=hl,typeof oe=="object"&&oe!==null&&(T=Zn(oe));var de=l.getDerivedStateFromProps;oe=typeof de=="function"||typeof y.getSnapshotBeforeUpdate=="function",k=i.pendingProps!==k,oe||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k||ee!==T)&&Db(i,y,c,T),Wi=!1;var te=i.memoizedState;y.state=te,fu(i,c,y,m),du(),ee=i.memoizedState,k||te!==ee||Wi?(typeof de=="function"&&(sg(i,l,de,c),ee=i.memoizedState),(F=Wi||kb(i,l,F,c,te,ee,T))?(oe||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=ee),y.props=c,y.state=ee,y.context=T,c=F):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{y=i.stateNode,Vp(r,i),T=i.memoizedProps,oe=Eo(l,T),y.props=oe,de=i.pendingProps,te=y.context,ee=l.contextType,F=hl,typeof ee=="object"&&ee!==null&&(F=Zn(ee)),k=l.getDerivedStateFromProps,(ee=typeof k=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==de||te!==F)&&Db(i,y,c,F),Wi=!1,te=i.memoizedState,y.state=te,fu(i,c,y,m),du();var re=i.memoizedState;T!==de||te!==re||Wi||r!==null&&r.dependencies!==null&&yf(r.dependencies)?(typeof k=="function"&&(sg(i,l,k,c),re=i.memoizedState),(oe=Wi||kb(i,l,oe,c,te,re,F)||r!==null&&r.dependencies!==null&&yf(r.dependencies))?(ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,re,F),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,re,F)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&te===r.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&te===r.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=re),y.props=c,y.state=re,y.context=F,c=oe):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&te===r.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&te===r.memoizedState||(i.flags|=1024),c=!1)}return y=c,Pf(r,i),c=(i.flags&128)!==0,y||c?(y=i.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,r!==null&&c?(i.child=El(i,r.child,null,m),i.child=El(i,null,l,m)):qn(r,i,l,m),i.memoizedState=y.state,r=i.child):r=mi(r,i,m),r}function Yb(r,i,l,c){return ru(),i.flags|=256,qn(r,i,l,c),i.child}var lg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cg(r){return{baseLanes:r,cachePool:j_()}}function ug(r,i,l){return r=r!==null?r.childLanes&~l:0,i&&(r|=qr),r}function Kb(r,i,l){var c=i.pendingProps,m=!1,y=(i.flags&128)!==0,T;if((T=y)||(T=r!==null&&r.memoizedState===null?!1:(Nn.current&2)!==0),T&&(m=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,r===null){if(It){if(m?Ji(i):ea(),It){var k=sn,F;if(F=k){e:{for(F=k,k=ws;F.nodeType!==8;){if(!k){k=null;break e}if(F=Jr(F.nextSibling),F===null){k=null;break e}}k=F}k!==null?(i.memoizedState={dehydrated:k,treeContext:po!==null?{id:li,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},F=xr(18,null,null,0),F.stateNode=k,F.return=i,i.child=F,ur=i,sn=null,F=!0):F=!1}F||vo(i)}if(k=i.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return Yg(k)?i.lanes=32:i.lanes=536870912,null;hi(i)}return k=c.children,c=c.fallback,m?(ea(),m=i.mode,k=Vf({mode:"hidden",children:k},m),c=mo(c,m,l,null),k.return=i,c.return=i,k.sibling=c,i.child=k,m=i.child,m.memoizedState=cg(l),m.childLanes=ug(r,T,l),i.memoizedState=lg,c):(Ji(i),dg(i,k))}if(F=r.memoizedState,F!==null&&(k=F.dehydrated,k!==null)){if(y)i.flags&256?(Ji(i),i.flags&=-257,i=fg(r,i,l)):i.memoizedState!==null?(ea(),i.child=r.child,i.flags|=128,i=null):(ea(),m=c.fallback,k=i.mode,c=Vf({mode:"visible",children:c.children},k),m=mo(m,k,l,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,El(i,r.child,null,l),c=i.child,c.memoizedState=cg(l),c.childLanes=ug(r,T,l),i.memoizedState=lg,i=m);else if(Ji(i),Yg(k)){if(T=k.nextSibling&&k.nextSibling.dataset,T)var ee=T.dgst;T=ee,c=Error(s(419)),c.stack="",c.digest=T,su({value:c,source:null,stack:null}),i=fg(r,i,l)}else if(Pn||iu(r,i,l,!1),T=(l&r.childLanes)!==0,Pn||T){if(T=Ht,T!==null&&(c=l&-l,c=(c&42)!==0?1:Bi(c),c=(c&(T.suspendedLanes|l))!==0?0:c,c!==0&&c!==F.retryLane))throw F.retryLane=c,fl(r,c),Ar(T,r,c),Ub;k.data==="$?"||Ig(),i=fg(r,i,l)}else k.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=F.treeContext,sn=Jr(k.nextSibling),ur=i,It=!0,yo=null,ws=!1,r!==null&&(zr[Br++]=li,zr[Br++]=ci,zr[Br++]=po,li=r.id,ci=r.overflow,po=i),i=dg(i,c.children),i.flags|=4096);return i}return m?(ea(),m=c.fallback,k=i.mode,F=r.child,ee=F.sibling,c=oi(F,{mode:"hidden",children:c.children}),c.subtreeFlags=F.subtreeFlags&65011712,ee!==null?m=oi(ee,m):(m=mo(m,k,l,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,k=r.child.memoizedState,k===null?k=cg(l):(F=k.cachePool,F!==null?(ee=Rn._currentValue,F=F.parent!==ee?{parent:ee,pool:ee}:F):F=j_(),k={baseLanes:k.baseLanes|l,cachePool:F}),m.memoizedState=k,m.childLanes=ug(r,T,l),i.memoizedState=lg,c):(Ji(i),l=r.child,r=l.sibling,l=oi(l,{mode:"visible",children:c.children}),l.return=i,l.sibling=null,r!==null&&(T=i.deletions,T===null?(i.deletions=[r],i.flags|=16):T.push(r)),i.child=l,i.memoizedState=null,l)}function dg(r,i){return i=Vf({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Vf(r,i){return r=xr(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function fg(r,i,l){return El(i,r.child,null,l),r=dg(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Wb(r,i,l){r.lanes|=i;var c=r.alternate;c!==null&&(c.lanes|=i),Ip(r.return,i,l)}function hg(r,i,l,c,m){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=m)}function Qb(r,i,l){var c=i.pendingProps,m=c.revealOrder,y=c.tail;if(qn(r,i,c.children,l),c=Nn.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Wb(r,l,i);else if(r.tag===19)Wb(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(le(Nn,c),m){case"forwards":for(l=i.child,m=null;l!==null;)r=l.alternate,r!==null&&Of(r)===null&&(m=l),l=l.sibling;l=m,l===null?(m=i.child,i.child=null):(m=l.sibling,l.sibling=null),hg(i,!1,m,l,y);break;case"backwards":for(l=null,m=i.child,i.child=null;m!==null;){if(r=m.alternate,r!==null&&Of(r)===null){i.child=m;break}r=m.sibling,m.sibling=l,l=m,m=r}hg(i,!0,l,null,y);break;case"together":hg(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function mi(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),ia|=i.lanes,(l&i.childLanes)===0)if(r!==null){if(iu(r,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,l=oi(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=oi(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function mg(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&yf(r)))}function MR(r,i,l){switch(i.tag){case 3:je(i,i.stateNode.containerInfo),Ki(i,Rn,r.memoizedState.cache),ru();break;case 27:case 5:We(i);break;case 4:je(i,i.stateNode.containerInfo);break;case 10:Ki(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Ji(i),i.flags|=128,null):(l&i.child.childLanes)!==0?Kb(r,i,l):(Ji(i),r=mi(r,i,l),r!==null?r.sibling:null);Ji(i);break;case 19:var m=(r.flags&128)!==0;if(c=(l&i.childLanes)!==0,c||(iu(r,i,l,!1),c=(l&i.childLanes)!==0),m){if(c)return Qb(r,i,l);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),le(Nn,Nn.current),c)break;return null;case 22:case 23:return i.lanes=0,qb(r,i,l);case 24:Ki(i,Rn,r.memoizedState.cache)}return mi(r,i,l)}function Xb(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps)Pn=!0;else{if(!mg(r,l)&&(i.flags&128)===0)return Pn=!1,MR(r,i,l);Pn=(r.flags&131072)!==0}else Pn=!1,It&&(i.flags&1048576)!==0&&C_(i,gf,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var c=i.elementType,m=c._init;if(c=m(c._payload),i.type=c,typeof c=="function")Ep(c)?(r=Eo(c,r),i.tag=1,i=Gb(null,i,c,r,l)):(i.tag=0,i=og(null,i,c,r,l));else{if(c!=null){if(m=c.$$typeof,m===$){i.tag=11,i=zb(null,i,c,r,l);break e}else if(m===N){i.tag=14,i=Bb(null,i,c,r,l);break e}}throw i=G(c)||c,Error(s(306,i,""))}}return i;case 0:return og(r,i,i.type,i.pendingProps,l);case 1:return c=i.type,m=Eo(c,i.pendingProps),Gb(r,i,c,m,l);case 3:e:{if(je(i,i.stateNode.containerInfo),r===null)throw Error(s(387));c=i.pendingProps;var y=i.memoizedState;m=y.element,Vp(r,i),fu(i,c,null,l);var T=i.memoizedState;if(c=T.cache,Ki(i,Rn,c),c!==y.cache&&kp(i,[Rn],l,!0),du(),c=T.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=Yb(r,i,c,l);break e}else if(c!==m){m=Lr(Error(s(424)),i),su(m),i=Yb(r,i,c,l);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(sn=Jr(r.firstChild),ur=i,It=!0,yo=null,ws=!0,l=Nb(i,null,c,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ru(),c===m){i=mi(r,i,l);break e}qn(r,i,c,l)}i=i.child}return i;case 26:return Pf(r,i),r===null?(l=tw(i.type,null,i.pendingProps,null))?i.memoizedState=l:It||(l=i.type,r=i.pendingProps,c=Xf(De.current).createElement(l),c[Sn]=i,c[yn]=r,$n(c,l,r),fn(c),i.stateNode=c):i.memoizedState=tw(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return We(i),r===null&&It&&(c=i.stateNode=Zx(i.type,i.pendingProps,De.current),ur=i,ws=!0,m=sn,ca(i.type)?(Kg=m,sn=Jr(c.firstChild)):sn=m),qn(r,i,i.pendingProps.children,l),Pf(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&It&&((m=c=sn)&&(c=cN(c,i.type,i.pendingProps,ws),c!==null?(i.stateNode=c,ur=i,sn=Jr(c.firstChild),ws=!1,m=!0):m=!1),m||vo(i)),We(i),m=i.type,y=i.pendingProps,T=r!==null?r.memoizedProps:null,c=y.children,Hg(m,y)?c=null:T!==null&&Hg(m,T)&&(i.flags|=32),i.memoizedState!==null&&(m=qp(r,i,CR,null,null,l),ju._currentValue=m),Pf(r,i),qn(r,i,c,l),i.child;case 6:return r===null&&It&&((r=l=sn)&&(l=uN(l,i.pendingProps,ws),l!==null?(i.stateNode=l,ur=i,sn=null,r=!0):r=!1),r||vo(i)),null;case 13:return Kb(r,i,l);case 4:return je(i,i.stateNode.containerInfo),c=i.pendingProps,r===null?i.child=El(i,null,c,l):qn(r,i,c,l),i.child;case 11:return zb(r,i,i.type,i.pendingProps,l);case 7:return qn(r,i,i.pendingProps,l),i.child;case 8:return qn(r,i,i.pendingProps.children,l),i.child;case 12:return qn(r,i,i.pendingProps.children,l),i.child;case 10:return c=i.pendingProps,Ki(i,i.type,c.value),qn(r,i,c.children,l),i.child;case 9:return m=i.type._context,c=i.pendingProps.children,bo(i),m=Zn(m),c=c(m),i.flags|=1,qn(r,i,c,l),i.child;case 14:return Bb(r,i,i.type,i.pendingProps,l);case 15:return Fb(r,i,i.type,i.pendingProps,l);case 19:return Qb(r,i,l);case 31:return c=i.pendingProps,l=i.mode,c={mode:c.mode,children:c.children},r===null?(l=Vf(c,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=oi(r.child,c),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return qb(r,i,l);case 24:return bo(i),c=Zn(Rn),r===null?(m=jp(),m===null&&(m=Ht,y=Dp(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),i.memoizedState={parent:c,cache:m},Pp(i),Ki(i,Rn,m)):((r.lanes&l)!==0&&(Vp(r,i),fu(i,null,null,l),du()),m=r.memoizedState,y=i.memoizedState,m.parent!==c?(m={parent:c,cache:c},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),Ki(i,Rn,c)):(c=y.cache,Ki(i,Rn,c),c!==m.cache&&kp(i,[Rn],l,!0))),qn(r,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function pi(r){r.flags|=4}function Zb(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!aw(i)){if(i=Fr.current,i!==null&&((wt&4194048)===wt?Es!==null:(wt&62914560)!==wt&&(wt&536870912)===0||i!==Es))throw cu=Mp,M_;r.flags|=8192}}function Lf(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?zi():536870912,r.lanes|=i,Cl|=i)}function _u(r,i){if(!It)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Jt(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,c=0;if(i)for(var m=r.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=c,r.childLanes=l,i}function PR(r,i,l){var c=i.pendingProps;switch(Cp(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(i),null;case 1:return Jt(i),null;case 3:return l=i.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),di(Rn),ct(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(nu(i)?pi(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,I_())),Jt(i),null;case 26:return l=i.memoizedState,r===null?(pi(i),l!==null?(Jt(i),Zb(i,l)):(Jt(i),i.flags&=-16777217)):l?l!==r.memoizedState?(pi(i),Jt(i),Zb(i,l)):(Jt(i),i.flags&=-16777217):(r.memoizedProps!==c&&pi(i),Jt(i),i.flags&=-16777217),null;case 27:Qe(i),l=De.current;var m=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==c&&pi(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return Jt(i),null}r=be.current,nu(i)?R_(i):(r=Zx(m,c,l),i.stateNode=r,pi(i))}return Jt(i),null;case 5:if(Qe(i),l=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==c&&pi(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return Jt(i),null}if(r=be.current,nu(i))R_(i);else{switch(m=Xf(De.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}r[Sn]=i,r[yn]=c;e:for(m=i.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===i)break e;for(;m.sibling===null;){if(m.return===null||m.return===i)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}i.stateNode=r;e:switch($n(r,l,c),l){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&pi(i)}}return Jt(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==c&&pi(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(s(166));if(r=De.current,nu(i)){if(r=i.stateNode,l=i.memoizedProps,c=null,m=ur,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}r[Sn]=i,r=!!(r.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||$x(r.nodeValue,l)),r||vo(i)}else r=Xf(r).createTextNode(c),r[Sn]=i,i.stateNode=r}return Jt(i),null;case 13:if(c=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=nu(i),c!==null&&c.dehydrated!==null){if(r===null){if(!m)throw Error(s(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[Sn]=i}else ru(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Jt(i),m=!1}else m=I_(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(hi(i),i):(hi(i),null)}if(hi(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=c!==null,r=r!==null&&r.memoizedState!==null,l){c=i.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return l!==r&&l&&(i.child.flags|=8192),Lf(i,i.updateQueue),Jt(i),null;case 4:return ct(),r===null&&Ug(i.stateNode.containerInfo),Jt(i),null;case 10:return di(i.type),Jt(i),null;case 19:if(he(Nn),m=i.memoizedState,m===null)return Jt(i),null;if(c=(i.flags&128)!==0,y=m.rendering,y===null)if(c)_u(m,!1);else{if(an!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(y=Of(r),y!==null){for(i.flags|=128,_u(m,!1),r=y.updateQueue,i.updateQueue=r,Lf(i,r),i.subtreeFlags=0,r=l,l=i.child;l!==null;)A_(l,r),l=l.sibling;return le(Nn,Nn.current&1|2),i.child}r=r.sibling}m.tail!==null&&Ye()>Bf&&(i.flags|=128,c=!0,_u(m,!1),i.lanes=4194304)}else{if(!c)if(r=Of(y),r!==null){if(i.flags|=128,c=!0,r=r.updateQueue,i.updateQueue=r,Lf(i,r),_u(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!It)return Jt(i),null}else 2*Ye()-m.renderingStartTime>Bf&&l!==536870912&&(i.flags|=128,c=!0,_u(m,!1),i.lanes=4194304);m.isBackwards?(y.sibling=i.child,i.child=y):(r=m.last,r!==null?r.sibling=y:i.child=y,m.last=y)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Ye(),i.sibling=null,r=Nn.current,le(Nn,c?r&1|2:r&1),i):(Jt(i),null);case 22:case 23:return hi(i),Bp(),c=i.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(l&536870912)!==0&&(i.flags&128)===0&&(Jt(i),i.subtreeFlags&6&&(i.flags|=8192)):Jt(i),l=i.updateQueue,l!==null&&Lf(i,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==l&&(i.flags|=2048),r!==null&&he(xo),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),di(Rn),Jt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function VR(r,i){switch(Cp(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return di(Rn),ct(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Qe(i),null;case 13:if(hi(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ru()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return he(Nn),null;case 4:return ct(),null;case 10:return di(i.type),null;case 22:case 23:return hi(i),Bp(),r!==null&&he(xo),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return di(Rn),null;case 25:return null;default:return null}}function Jb(r,i){switch(Cp(i),i.tag){case 3:di(Rn),ct();break;case 26:case 27:case 5:Qe(i);break;case 4:ct();break;case 13:hi(i);break;case 19:he(Nn);break;case 10:di(i.type);break;case 22:case 23:hi(i),Bp(),r!==null&&he(xo);break;case 24:di(Rn)}}function bu(r,i){try{var l=i.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&r)===r){c=void 0;var y=l.create,T=l.inst;c=y(),T.destroy=c}l=l.next}while(l!==m)}}catch(k){qt(i,i.return,k)}}function ta(r,i,l){try{var c=i.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&r)===r){var T=c.inst,k=T.destroy;if(k!==void 0){T.destroy=void 0,m=i;var F=l,ee=k;try{ee()}catch(oe){qt(m,F,oe)}}}c=c.next}while(c!==y)}}catch(oe){qt(i,i.return,oe)}}function ex(r){var i=r.updateQueue;if(i!==null){var l=r.stateNode;try{B_(i,l)}catch(c){qt(r,r.return,c)}}}function tx(r,i,l){l.props=Eo(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(c){qt(r,i,c)}}function xu(r,i){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof l=="function"?r.refCleanup=l(c):l.current=c}}catch(m){qt(r,i,m)}}function Ts(r,i){var l=r.ref,c=r.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){qt(r,i,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){qt(r,i,m)}else l.current=null}function nx(r){var i=r.type,l=r.memoizedProps,c=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){qt(r,r.return,m)}}function pg(r,i,l){try{var c=r.stateNode;sN(c,r.type,l,i),c[yn]=i}catch(m){qt(r,r.return,m)}}function rx(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ca(r.type)||r.tag===4}function gg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||rx(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ca(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function yg(r,i,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(r),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Qf));else if(c!==4&&(c===27&&ca(r.type)&&(l=r.stateNode,i=null),r=r.child,r!==null))for(yg(r,i,l),r=r.sibling;r!==null;)yg(r,i,l),r=r.sibling}function Uf(r,i,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(c!==4&&(c===27&&ca(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(Uf(r,i,l),r=r.sibling;r!==null;)Uf(r,i,l),r=r.sibling}function sx(r){var i=r.stateNode,l=r.memoizedProps;try{for(var c=r.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);$n(i,c,l),i[Sn]=r,i[yn]=l}catch(y){qt(r,r.return,y)}}var gi=!1,mn=!1,vg=!1,ix=typeof WeakSet=="function"?WeakSet:Set,Vn=null;function LR(r,i){if(r=r.containerInfo,Fg=rh,r=g_(r),gp(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,k=-1,F=-1,ee=0,oe=0,de=r,te=null;t:for(;;){for(var re;de!==l||m!==0&&de.nodeType!==3||(k=T+m),de!==y||c!==0&&de.nodeType!==3||(F=T+c),de.nodeType===3&&(T+=de.nodeValue.length),(re=de.firstChild)!==null;)te=de,de=re;for(;;){if(de===r)break t;if(te===l&&++ee===m&&(k=T),te===y&&++oe===c&&(F=T),(re=de.nextSibling)!==null)break;de=te,te=de.parentNode}de=re}l=k===-1||F===-1?null:{start:k,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(qg={focusedElem:r,selectionRange:l},rh=!1,Vn=i;Vn!==null;)if(i=Vn,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,Vn=r;else for(;Vn!==null;){switch(i=Vn,y=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,l=i,m=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Ge=Eo(l.type,m,l.elementType===l.type);r=c.getSnapshotBeforeUpdate(Ge,y),c.__reactInternalSnapshotBeforeUpdate=r}catch(Be){qt(l,l.return,Be)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,l=r.nodeType,l===9)Gg(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Gg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,Vn=r;break}Vn=i.return}}function ax(r,i,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:na(r,l),c&4&&bu(5,l);break;case 1:if(na(r,l),c&4)if(r=l.stateNode,i===null)try{r.componentDidMount()}catch(T){qt(l,l.return,T)}else{var m=Eo(l.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(m,i,r.__reactInternalSnapshotBeforeUpdate)}catch(T){qt(l,l.return,T)}}c&64&&ex(l),c&512&&xu(l,l.return);break;case 3:if(na(r,l),c&64&&(r=l.updateQueue,r!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{B_(r,i)}catch(T){qt(l,l.return,T)}}break;case 27:i===null&&c&4&&sx(l);case 26:case 5:na(r,l),i===null&&c&4&&nx(l),c&512&&xu(l,l.return);break;case 12:na(r,l);break;case 13:na(r,l),c&4&&cx(r,l),c&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=YR.bind(null,l),dN(r,l))));break;case 22:if(c=l.memoizedState!==null||gi,!c){i=i!==null&&i.memoizedState!==null||mn,m=gi;var y=mn;gi=c,(mn=i)&&!y?ra(r,l,(l.subtreeFlags&8772)!==0):na(r,l),gi=m,mn=y}break;case 30:break;default:na(r,l)}}function ox(r){var i=r.alternate;i!==null&&(r.alternate=null,ox(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Hi(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Wt=null,mr=!1;function yi(r,i,l){for(l=l.child;l!==null;)lx(r,i,l),l=l.sibling}function lx(r,i,l){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(gt,l)}catch{}switch(l.tag){case 26:mn||Ts(l,i),yi(r,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:mn||Ts(l,i);var c=Wt,m=mr;ca(l.type)&&(Wt=l.stateNode,mr=!1),yi(r,i,l),Iu(l.stateNode),Wt=c,mr=m;break;case 5:mn||Ts(l,i);case 6:if(c=Wt,m=mr,Wt=null,yi(r,i,l),Wt=c,mr=m,Wt!==null)if(mr)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(l.stateNode)}catch(y){qt(l,i,y)}else try{Wt.removeChild(l.stateNode)}catch(y){qt(l,i,y)}break;case 18:Wt!==null&&(mr?(r=Wt,Qx(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),Lu(r)):Qx(Wt,l.stateNode));break;case 4:c=Wt,m=mr,Wt=l.stateNode.containerInfo,mr=!0,yi(r,i,l),Wt=c,mr=m;break;case 0:case 11:case 14:case 15:mn||ta(2,l,i),mn||ta(4,l,i),yi(r,i,l);break;case 1:mn||(Ts(l,i),c=l.stateNode,typeof c.componentWillUnmount=="function"&&tx(l,i,c)),yi(r,i,l);break;case 21:yi(r,i,l);break;case 22:mn=(c=mn)||l.memoizedState!==null,yi(r,i,l),mn=c;break;default:yi(r,i,l)}}function cx(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Lu(r)}catch(l){qt(i,i.return,l)}}function UR(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new ix),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new ix),i;default:throw Error(s(435,r.tag))}}function _g(r,i){var l=UR(r);i.forEach(function(c){var m=KR.bind(null,r,c);l.has(c)||(l.add(c),c.then(m,m))})}function wr(r,i){var l=i.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],y=r,T=i,k=T;e:for(;k!==null;){switch(k.tag){case 27:if(ca(k.type)){Wt=k.stateNode,mr=!1;break e}break;case 5:Wt=k.stateNode,mr=!1;break e;case 3:case 4:Wt=k.stateNode.containerInfo,mr=!0;break e}k=k.return}if(Wt===null)throw Error(s(160));lx(y,T,m),Wt=null,mr=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)ux(i,r),i=i.sibling}var Zr=null;function ux(r,i){var l=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:wr(i,r),Er(r),c&4&&(ta(3,r,r.return),bu(3,r),ta(5,r,r.return));break;case 1:wr(i,r),Er(r),c&512&&(mn||l===null||Ts(l,l.return)),c&64&&gi&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=Zr;if(wr(i,r),Er(r),c&512&&(mn||l===null||Ts(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=r.memoizedState,l===null)if(c===null)if(r.stateNode===null){e:{c=r.type,l=r.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Xa]||y[Sn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),$n(y,c,l),y[Sn]=r,fn(y),c=y;break e;case"link":var T=sw("link","href",m).get(c+(l.href||""));if(T){for(var k=0;k<T.length;k++)if(y=T[k],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(k,1);break t}}y=m.createElement(c),$n(y,c,l),m.head.appendChild(y);break;case"meta":if(T=sw("meta","content",m).get(c+(l.content||""))){for(k=0;k<T.length;k++)if(y=T[k],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(k,1);break t}}y=m.createElement(c),$n(y,c,l),m.head.appendChild(y);break;default:throw Error(s(468,c))}y[Sn]=r,fn(y),c=y}r.stateNode=c}else iw(m,r.type,r.stateNode);else r.stateNode=rw(m,c,r.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?iw(m,r.type,r.stateNode):rw(m,c,r.memoizedProps)):c===null&&r.stateNode!==null&&pg(r,r.memoizedProps,l.memoizedProps)}break;case 27:wr(i,r),Er(r),c&512&&(mn||l===null||Ts(l,l.return)),l!==null&&c&4&&pg(r,r.memoizedProps,l.memoizedProps);break;case 5:if(wr(i,r),Er(r),c&512&&(mn||l===null||Ts(l,l.return)),r.flags&32){m=r.stateNode;try{jr(m,"")}catch(re){qt(r,r.return,re)}}c&4&&r.stateNode!=null&&(m=r.memoizedProps,pg(r,m,l!==null?l.memoizedProps:m)),c&1024&&(vg=!0);break;case 6:if(wr(i,r),Er(r),c&4){if(r.stateNode===null)throw Error(s(162));c=r.memoizedProps,l=r.stateNode;try{l.nodeValue=c}catch(re){qt(r,r.return,re)}}break;case 3:if(eh=null,m=Zr,Zr=Zf(i.containerInfo),wr(i,r),Zr=m,Er(r),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Lu(i.containerInfo)}catch(re){qt(r,r.return,re)}vg&&(vg=!1,dx(r));break;case 4:c=Zr,Zr=Zf(r.stateNode.containerInfo),wr(i,r),Er(r),Zr=c;break;case 12:wr(i,r),Er(r);break;case 13:wr(i,r),Er(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Sg=Ye()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,_g(r,c)));break;case 22:m=r.memoizedState!==null;var F=l!==null&&l.memoizedState!==null,ee=gi,oe=mn;if(gi=ee||m,mn=oe||F,wr(i,r),mn=oe,gi=ee,Er(r),c&8192)e:for(i=r.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(l===null||F||gi||mn||To(r)),l=null,i=r;;){if(i.tag===5||i.tag===26){if(l===null){F=l=i;try{if(y=F.stateNode,m)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{k=F.stateNode;var de=F.memoizedProps.style,te=de!=null&&de.hasOwnProperty("display")?de.display:null;k.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(re){qt(F,F.return,re)}}}else if(i.tag===6){if(l===null){F=i;try{F.stateNode.nodeValue=m?"":F.memoizedProps}catch(re){qt(F,F.return,re)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=r.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,_g(r,l))));break;case 19:wr(i,r),Er(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,_g(r,c)));break;case 30:break;case 21:break;default:wr(i,r),Er(r)}}function Er(r){var i=r.flags;if(i&2){try{for(var l,c=r.return;c!==null;){if(rx(c)){l=c;break}c=c.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var m=l.stateNode,y=gg(r);Uf(r,y,m);break;case 5:var T=l.stateNode;l.flags&32&&(jr(T,""),l.flags&=-33);var k=gg(r);Uf(r,k,T);break;case 3:case 4:var F=l.stateNode.containerInfo,ee=gg(r);yg(r,ee,F);break;default:throw Error(s(161))}}catch(oe){qt(r,r.return,oe)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function dx(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;dx(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function na(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ax(r,i.alternate,i),i=i.sibling}function To(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:ta(4,i,i.return),To(i);break;case 1:Ts(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&tx(i,i.return,l),To(i);break;case 27:Iu(i.stateNode);case 26:case 5:Ts(i,i.return),To(i);break;case 22:i.memoizedState===null&&To(i);break;case 30:To(i);break;default:To(i)}r=r.sibling}}function ra(r,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,m=r,y=i,T=y.flags;switch(y.tag){case 0:case 11:case 15:ra(m,y,l),bu(4,y);break;case 1:if(ra(m,y,l),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ee){qt(c,c.return,ee)}if(c=y,m=c.updateQueue,m!==null){var k=c.stateNode;try{var F=m.shared.hiddenCallbacks;if(F!==null)for(m.shared.hiddenCallbacks=null,m=0;m<F.length;m++)z_(F[m],k)}catch(ee){qt(c,c.return,ee)}}l&&T&64&&ex(y),xu(y,y.return);break;case 27:sx(y);case 26:case 5:ra(m,y,l),l&&c===null&&T&4&&nx(y),xu(y,y.return);break;case 12:ra(m,y,l);break;case 13:ra(m,y,l),l&&T&4&&cx(m,y);break;case 22:y.memoizedState===null&&ra(m,y,l),xu(y,y.return);break;case 30:break;default:ra(m,y,l)}i=i.sibling}}function bg(r,i){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&au(l))}function xg(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&au(r))}function Ss(r,i,l,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)fx(r,i,l,c),i=i.sibling}function fx(r,i,l,c){var m=i.flags;switch(i.tag){case 0:case 11:case 15:Ss(r,i,l,c),m&2048&&bu(9,i);break;case 1:Ss(r,i,l,c);break;case 3:Ss(r,i,l,c),m&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&au(r)));break;case 12:if(m&2048){Ss(r,i,l,c),r=i.stateNode;try{var y=i.memoizedProps,T=y.id,k=y.onPostCommit;typeof k=="function"&&k(T,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(F){qt(i,i.return,F)}}else Ss(r,i,l,c);break;case 13:Ss(r,i,l,c);break;case 23:break;case 22:y=i.stateNode,T=i.alternate,i.memoizedState!==null?y._visibility&2?Ss(r,i,l,c):wu(r,i):y._visibility&2?Ss(r,i,l,c):(y._visibility|=2,Tl(r,i,l,c,(i.subtreeFlags&10256)!==0)),m&2048&&bg(T,i);break;case 24:Ss(r,i,l,c),m&2048&&xg(i.alternate,i);break;default:Ss(r,i,l,c)}}function Tl(r,i,l,c,m){for(m=m&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var y=r,T=i,k=l,F=c,ee=T.flags;switch(T.tag){case 0:case 11:case 15:Tl(y,T,k,F,m),bu(8,T);break;case 23:break;case 22:var oe=T.stateNode;T.memoizedState!==null?oe._visibility&2?Tl(y,T,k,F,m):wu(y,T):(oe._visibility|=2,Tl(y,T,k,F,m)),m&&ee&2048&&bg(T.alternate,T);break;case 24:Tl(y,T,k,F,m),m&&ee&2048&&xg(T.alternate,T);break;default:Tl(y,T,k,F,m)}i=i.sibling}}function wu(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=r,c=i,m=c.flags;switch(c.tag){case 22:wu(l,c),m&2048&&bg(c.alternate,c);break;case 24:wu(l,c),m&2048&&xg(c.alternate,c);break;default:wu(l,c)}i=i.sibling}}var Eu=8192;function Sl(r){if(r.subtreeFlags&Eu)for(r=r.child;r!==null;)hx(r),r=r.sibling}function hx(r){switch(r.tag){case 26:Sl(r),r.flags&Eu&&r.memoizedState!==null&&TN(Zr,r.memoizedState,r.memoizedProps);break;case 5:Sl(r);break;case 3:case 4:var i=Zr;Zr=Zf(r.stateNode.containerInfo),Sl(r),Zr=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=Eu,Eu=16777216,Sl(r),Eu=i):Sl(r));break;default:Sl(r)}}function mx(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Tu(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];Vn=c,gx(c,r)}mx(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)px(r),r=r.sibling}function px(r){switch(r.tag){case 0:case 11:case 15:Tu(r),r.flags&2048&&ta(9,r,r.return);break;case 3:Tu(r);break;case 12:Tu(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,zf(r)):Tu(r);break;default:Tu(r)}}function zf(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];Vn=c,gx(c,r)}mx(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:ta(8,i,i.return),zf(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,zf(i));break;default:zf(i)}r=r.sibling}}function gx(r,i){for(;Vn!==null;){var l=Vn;switch(l.tag){case 0:case 11:case 15:ta(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:au(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Vn=c;else e:for(l=r;Vn!==null;){c=Vn;var m=c.sibling,y=c.return;if(ox(c),c===l){Vn=null;break e}if(m!==null){m.return=y,Vn=m;break e}Vn=y}}}var zR={getCacheForType:function(r){var i=Zn(Rn),l=i.data.get(r);return l===void 0&&(l=r(),i.data.set(r,l)),l}},BR=typeof WeakMap=="function"?WeakMap:Map,Pt=0,Ht=null,mt=null,wt=0,Vt=0,Tr=null,sa=!1,Al=!1,wg=!1,vi=0,an=0,ia=0,So=0,Eg=0,qr=0,Cl=0,Su=null,pr=null,Tg=!1,Sg=0,Bf=1/0,Ff=null,aa=null,Hn=0,oa=null,Rl=null,Nl=0,Ag=0,Cg=null,yx=null,Au=0,Rg=null;function Sr(){if((Pt&2)!==0&&wt!==0)return wt&-wt;if(H.T!==null){var r=gl;return r!==0?r:Mg()}return Fi()}function vx(){qr===0&&(qr=(wt&536870912)===0||It?us():536870912);var r=Fr.current;return r!==null&&(r.flags|=32),qr}function Ar(r,i,l){(r===Ht&&(Vt===2||Vt===9)||r.cancelPendingCommit!==null)&&(Il(r,0),la(r,wt,qr,!1)),Qs(r,l),((Pt&2)===0||r!==Ht)&&(r===Ht&&((Pt&2)===0&&(So|=l),an===4&&la(r,wt,qr,!1)),As(r))}function _x(r,i,l){if((Pt&6)!==0)throw Error(s(327));var c=!l&&(i&124)===0&&(i&r.expiredLanes)===0||ar(r,i),m=c?HR(r,i):kg(r,i,!0),y=c;do{if(m===0){Al&&!c&&la(r,i,0,!1);break}else{if(l=r.current.alternate,y&&!FR(l)){m=kg(r,i,!1),y=!1;continue}if(m===2){if(y=i,r.errorRecoveryDisabledLanes&y)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var k=r;m=Su;var F=k.current.memoizedState.isDehydrated;if(F&&(Il(k,T).flags|=256),T=kg(k,T,!1),T!==2){if(wg&&!F){k.errorRecoveryDisabledLanes|=y,So|=y,m=4;break e}y=pr,pr=m,y!==null&&(pr===null?pr=y:pr.push.apply(pr,y))}m=T}if(y=!1,m!==2)continue}}if(m===1){Il(r,0),la(r,i,0,!0);break}e:{switch(c=r,y=m,y){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:la(c,i,qr,!sa);break e;case 2:pr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(m=Sg+300-Ye(),10<m)){if(la(c,i,qr,!sa),Kr(c,0,!0)!==0)break e;c.timeoutHandle=Kx(bx.bind(null,c,l,pr,Ff,Tg,i,qr,So,Cl,sa,y,2,-0,0),m);break e}bx(c,l,pr,Ff,Tg,i,qr,So,Cl,sa,y,0,-0,0)}}break}while(!0);As(r)}function bx(r,i,l,c,m,y,T,k,F,ee,oe,de,te,re){if(r.timeoutHandle=-1,de=i.subtreeFlags,(de&8192||(de&16785408)===16785408)&&(Ou={stylesheets:null,count:0,unsuspend:EN},hx(i),de=SN(),de!==null)){r.cancelPendingCommit=de(Cx.bind(null,r,i,y,l,c,m,T,k,F,oe,1,te,re)),la(r,y,T,!ee);return}Cx(r,i,y,l,c,m,T,k,F)}function FR(r){for(var i=r;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],y=m.getSnapshot;m=m.value;try{if(!br(y(),m))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function la(r,i,l,c){i&=~Eg,i&=~So,r.suspendedLanes|=i,r.pingedLanes&=~i,c&&(r.warmLanes|=i),c=r.expirationTimes;for(var m=i;0<m;){var y=31-ht(m),T=1<<y;c[y]=-1,m&=~T}l!==0&&ds(r,l,i)}function qf(){return(Pt&6)===0?(Cu(0),!1):!0}function Ng(){if(mt!==null){if(Vt===0)var r=mt.return;else r=mt,ui=_o=null,Gp(r),wl=null,yu=0,r=mt;for(;r!==null;)Jb(r.alternate,r),r=r.return;mt=null}}function Il(r,i){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,aN(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Ng(),Ht=r,mt=l=oi(r.current,null),wt=i,Vt=0,Tr=null,sa=!1,Al=ar(r,i),wg=!1,Cl=qr=Eg=So=ia=an=0,pr=Su=null,Tg=!1,(i&8)!==0&&(i|=i&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=i;0<c;){var m=31-ht(c),y=1<<m;i|=r[m],c&=~y}return vi=i,df(),l}function xx(r,i){at=null,H.H=If,i===lu||i===bf?(i=L_(),Vt=3):i===M_?(i=L_(),Vt=4):Vt=i===Ub?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tr=i,mt===null&&(an=1,Mf(r,Lr(i,r.current)))}function wx(){var r=H.H;return H.H=If,r===null?If:r}function Ex(){var r=H.A;return H.A=zR,r}function Ig(){an=4,sa||(wt&4194048)!==wt&&Fr.current!==null||(Al=!0),(ia&134217727)===0&&(So&134217727)===0||Ht===null||la(Ht,wt,qr,!1)}function kg(r,i,l){var c=Pt;Pt|=2;var m=wx(),y=Ex();(Ht!==r||wt!==i)&&(Ff=null,Il(r,i)),i=!1;var T=an;e:do try{if(Vt!==0&&mt!==null){var k=mt,F=Tr;switch(Vt){case 8:Ng(),T=6;break e;case 3:case 2:case 9:case 6:Fr.current===null&&(i=!0);var ee=Vt;if(Vt=0,Tr=null,kl(r,k,F,ee),l&&Al){T=0;break e}break;default:ee=Vt,Vt=0,Tr=null,kl(r,k,F,ee)}}qR(),T=an;break}catch(oe){xx(r,oe)}while(!0);return i&&r.shellSuspendCounter++,ui=_o=null,Pt=c,H.H=m,H.A=y,mt===null&&(Ht=null,wt=0,df()),T}function qR(){for(;mt!==null;)Tx(mt)}function HR(r,i){var l=Pt;Pt|=2;var c=wx(),m=Ex();Ht!==r||wt!==i?(Ff=null,Bf=Ye()+500,Il(r,i)):Al=ar(r,i);e:do try{if(Vt!==0&&mt!==null){i=mt;var y=Tr;t:switch(Vt){case 1:Vt=0,Tr=null,kl(r,i,y,1);break;case 2:case 9:if(P_(y)){Vt=0,Tr=null,Sx(i);break}i=function(){Vt!==2&&Vt!==9||Ht!==r||(Vt=7),As(r)},y.then(i,i);break e;case 3:Vt=7;break e;case 4:Vt=5;break e;case 7:P_(y)?(Vt=0,Tr=null,Sx(i)):(Vt=0,Tr=null,kl(r,i,y,7));break;case 5:var T=null;switch(mt.tag){case 26:T=mt.memoizedState;case 5:case 27:var k=mt;if(!T||aw(T)){Vt=0,Tr=null;var F=k.sibling;if(F!==null)mt=F;else{var ee=k.return;ee!==null?(mt=ee,Hf(ee)):mt=null}break t}}Vt=0,Tr=null,kl(r,i,y,5);break;case 6:Vt=0,Tr=null,kl(r,i,y,6);break;case 8:Ng(),an=6;break e;default:throw Error(s(462))}}$R();break}catch(oe){xx(r,oe)}while(!0);return ui=_o=null,H.H=c,H.A=m,Pt=l,mt!==null?0:(Ht=null,wt=0,df(),an)}function $R(){for(;mt!==null&&!Ce();)Tx(mt)}function Tx(r){var i=Xb(r.alternate,r,vi);r.memoizedProps=r.pendingProps,i===null?Hf(r):mt=i}function Sx(r){var i=r,l=i.alternate;switch(i.tag){case 15:case 0:i=$b(l,i,i.pendingProps,i.type,void 0,wt);break;case 11:i=$b(l,i,i.pendingProps,i.type.render,i.ref,wt);break;case 5:Gp(i);default:Jb(l,i),i=mt=A_(i,vi),i=Xb(l,i,vi)}r.memoizedProps=r.pendingProps,i===null?Hf(r):mt=i}function kl(r,i,l,c){ui=_o=null,Gp(i),wl=null,yu=0;var m=i.return;try{if(jR(r,m,i,l,wt)){an=1,Mf(r,Lr(l,r.current)),mt=null;return}}catch(y){if(m!==null)throw mt=m,y;an=1,Mf(r,Lr(l,r.current)),mt=null;return}i.flags&32768?(It||c===1?r=!0:Al||(wt&536870912)!==0?r=!1:(sa=r=!0,(c===2||c===9||c===3||c===6)&&(c=Fr.current,c!==null&&c.tag===13&&(c.flags|=16384))),Ax(i,r)):Hf(i)}function Hf(r){var i=r;do{if((i.flags&32768)!==0){Ax(i,sa);return}r=i.return;var l=PR(i.alternate,i,vi);if(l!==null){mt=l;return}if(i=i.sibling,i!==null){mt=i;return}mt=i=r}while(i!==null);an===0&&(an=5)}function Ax(r,i){do{var l=VR(r.alternate,r);if(l!==null){l.flags&=32767,mt=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(r=r.sibling,r!==null)){mt=r;return}mt=r=l}while(r!==null);an=6,mt=null}function Cx(r,i,l,c,m,y,T,k,F){r.cancelPendingCommit=null;do $f();while(Hn!==0);if((Pt&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(y=i.lanes|i.childLanes,y|=xp,Vc(r,l,y,T,k,F),r===Ht&&(mt=Ht=null,wt=0),Rl=i,oa=r,Nl=l,Ag=y,Cg=m,yx=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,WR(ve,function(){return Dx(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=H.T,H.T=null,m=Z.p,Z.p=2,T=Pt,Pt|=4;try{LR(r,i,l)}finally{Pt=T,Z.p=m,H.T=c}}Hn=1,Rx(),Nx(),Ix()}}function Rx(){if(Hn===1){Hn=0;var r=oa,i=Rl,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=H.T,H.T=null;var c=Z.p;Z.p=2;var m=Pt;Pt|=4;try{ux(i,r);var y=qg,T=g_(r.containerInfo),k=y.focusedElem,F=y.selectionRange;if(T!==k&&k&&k.ownerDocument&&p_(k.ownerDocument.documentElement,k)){if(F!==null&&gp(k)){var ee=F.start,oe=F.end;if(oe===void 0&&(oe=ee),"selectionStart"in k)k.selectionStart=ee,k.selectionEnd=Math.min(oe,k.value.length);else{var de=k.ownerDocument||document,te=de&&de.defaultView||window;if(te.getSelection){var re=te.getSelection(),Ge=k.textContent.length,Be=Math.min(F.start,Ge),Ft=F.end===void 0?Be:Math.min(F.end,Ge);!re.extend&&Be>Ft&&(T=Ft,Ft=Be,Be=T);var W=m_(k,Be),Y=m_(k,Ft);if(W&&Y&&(re.rangeCount!==1||re.anchorNode!==W.node||re.anchorOffset!==W.offset||re.focusNode!==Y.node||re.focusOffset!==Y.offset)){var J=de.createRange();J.setStart(W.node,W.offset),re.removeAllRanges(),Be>Ft?(re.addRange(J),re.extend(Y.node,Y.offset)):(J.setEnd(Y.node,Y.offset),re.addRange(J))}}}}for(de=[],re=k;re=re.parentNode;)re.nodeType===1&&de.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<de.length;k++){var ue=de[k];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}rh=!!Fg,qg=Fg=null}finally{Pt=m,Z.p=c,H.T=l}}r.current=i,Hn=2}}function Nx(){if(Hn===2){Hn=0;var r=oa,i=Rl,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=H.T,H.T=null;var c=Z.p;Z.p=2;var m=Pt;Pt|=4;try{ax(r,i.alternate,i)}finally{Pt=m,Z.p=c,H.T=l}}Hn=3}}function Ix(){if(Hn===4||Hn===3){Hn=0,Me();var r=oa,i=Rl,l=Nl,c=yx;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Hn=5:(Hn=0,Rl=oa=null,kx(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(aa=null),Ko(l),i=i.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(gt,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=H.T,m=Z.p,Z.p=2,H.T=null;try{for(var y=r.onRecoverableError,T=0;T<c.length;T++){var k=c[T];y(k.value,{componentStack:k.stack})}}finally{H.T=i,Z.p=m}}(Nl&3)!==0&&$f(),As(r),m=r.pendingLanes,(l&4194090)!==0&&(m&42)!==0?r===Rg?Au++:(Au=0,Rg=r):Au=0,Cu(0)}}function kx(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,au(i)))}function $f(r){return Rx(),Nx(),Ix(),Dx()}function Dx(){if(Hn!==5)return!1;var r=oa,i=Ag;Ag=0;var l=Ko(Nl),c=H.T,m=Z.p;try{Z.p=32>l?32:l,H.T=null,l=Cg,Cg=null;var y=oa,T=Nl;if(Hn=0,Rl=oa=null,Nl=0,(Pt&6)!==0)throw Error(s(331));var k=Pt;if(Pt|=4,px(y.current),fx(y,y.current,T,l),Pt=k,Cu(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(gt,y)}catch{}return!0}finally{Z.p=m,H.T=c,kx(r,i)}}function Ox(r,i,l){i=Lr(l,i),i=ag(r.stateNode,i,2),r=Xi(r,i,2),r!==null&&(Qs(r,2),As(r))}function qt(r,i,l){if(r.tag===3)Ox(r,r,l);else for(;i!==null;){if(i.tag===3){Ox(i,r,l);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(aa===null||!aa.has(c))){r=Lr(l,r),l=Vb(2),c=Xi(i,l,2),c!==null&&(Lb(l,c,i,r),Qs(c,2),As(c));break}}i=i.return}}function Dg(r,i,l){var c=r.pingCache;if(c===null){c=r.pingCache=new BR;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(l)||(wg=!0,m.add(l),r=GR.bind(null,r,i,l),i.then(r,r))}function GR(r,i,l){var c=r.pingCache;c!==null&&c.delete(i),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,Ht===r&&(wt&l)===l&&(an===4||an===3&&(wt&62914560)===wt&&300>Ye()-Sg?(Pt&2)===0&&Il(r,0):Eg|=l,Cl===wt&&(Cl=0)),As(r)}function jx(r,i){i===0&&(i=zi()),r=fl(r,i),r!==null&&(Qs(r,i),As(r))}function YR(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),jx(r,l)}function KR(r,i){var l=0;switch(r.tag){case 13:var c=r.stateNode,m=r.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(i),jx(r,l)}function WR(r,i){return se(r,i)}var Gf=null,Dl=null,Og=!1,Yf=!1,jg=!1,Ao=0;function As(r){r!==Dl&&r.next===null&&(Dl===null?Gf=Dl=r:Dl=Dl.next=r),Yf=!0,Og||(Og=!0,XR())}function Cu(r,i){if(!jg&&Yf){jg=!0;do for(var l=!1,c=Gf;c!==null;){if(r!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var T=c.suspendedLanes,k=c.pingedLanes;y=(1<<31-ht(42|r)+1)-1,y&=m&~(T&~k),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,Lx(c,y))}else y=wt,y=Kr(c,c===Ht?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||ar(c,y)||(l=!0,Lx(c,y));c=c.next}while(l);jg=!1}}function QR(){Mx()}function Mx(){Yf=Og=!1;var r=0;Ao!==0&&(iN()&&(r=Ao),Ao=0);for(var i=Ye(),l=null,c=Gf;c!==null;){var m=c.next,y=Px(c,i);y===0?(c.next=null,l===null?Gf=m:l.next=m,m===null&&(Dl=l)):(l=c,(r!==0||(y&3)!==0)&&(Yf=!0)),c=m}Cu(r)}function Px(r,i){for(var l=r.suspendedLanes,c=r.pingedLanes,m=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var T=31-ht(y),k=1<<T,F=m[T];F===-1?((k&l)===0||(k&c)!==0)&&(m[T]=Dr(k,i)):F<=i&&(r.expiredLanes|=k),y&=~k}if(i=Ht,l=wt,l=Kr(r,r===i?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,l===0||r===i&&(Vt===2||Vt===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Ae(c),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||ar(r,l)){if(i=l&-l,i===r.callbackPriority)return i;switch(c!==null&&Ae(c),Ko(l)){case 2:case 8:l=xe;break;case 32:l=ve;break;case 268435456:l=Ee;break;default:l=ve}return c=Vx.bind(null,r),l=se(l,c),r.callbackPriority=i,r.callbackNode=l,i}return c!==null&&c!==null&&Ae(c),r.callbackPriority=2,r.callbackNode=null,2}function Vx(r,i){if(Hn!==0&&Hn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if($f()&&r.callbackNode!==l)return null;var c=wt;return c=Kr(r,r===Ht?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(_x(r,c,i),Px(r,Ye()),r.callbackNode!=null&&r.callbackNode===l?Vx.bind(null,r):null)}function Lx(r,i){if($f())return null;_x(r,i,!0)}function XR(){oN(function(){(Pt&6)!==0?se(me,QR):Mx()})}function Mg(){return Ao===0&&(Ao=us()),Ao}function Ux(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:el(""+r)}function zx(r,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,r.id&&l.setAttribute("form",r.id),i.parentNode.insertBefore(l,i),r=new FormData(r),l.parentNode.removeChild(l),r}function ZR(r,i,l,c,m){if(i==="submit"&&l&&l.stateNode===m){var y=Ux((m[yn]||null).action),T=c.submitter;T&&(i=(i=T[yn]||null)?Ux(i.formAction):T.getAttribute("formAction"),i!==null&&(y=i,T=null));var k=new tl("action","action",null,c,m);r.push({event:k,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ao!==0){var F=T?zx(m,T):new FormData(m);tg(l,{pending:!0,data:F,method:m.method,action:y},null,F)}}else typeof y=="function"&&(k.preventDefault(),F=T?zx(m,T):new FormData(m),tg(l,{pending:!0,data:F,method:m.method,action:y},y,F))},currentTarget:m}]})}}for(var Pg=0;Pg<bp.length;Pg++){var Vg=bp[Pg],JR=Vg.toLowerCase(),eN=Vg[0].toUpperCase()+Vg.slice(1);Xr(JR,"on"+eN)}Xr(__,"onAnimationEnd"),Xr(b_,"onAnimationIteration"),Xr(x_,"onAnimationStart"),Xr("dblclick","onDoubleClick"),Xr("focusin","onFocus"),Xr("focusout","onBlur"),Xr(yR,"onTransitionRun"),Xr(vR,"onTransitionStart"),Xr(_R,"onTransitionCancel"),Xr(w_,"onTransitionEnd"),Zs("onMouseEnter",["mouseout","mouseover"]),Zs("onMouseLeave",["mouseout","mouseover"]),Zs("onPointerEnter",["pointerout","pointerover"]),Zs("onPointerLeave",["pointerout","pointerover"]),Wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ru));function Bx(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var c=r[l],m=c.event;c=c.listeners;e:{var y=void 0;if(i)for(var T=c.length-1;0<=T;T--){var k=c[T],F=k.instance,ee=k.currentTarget;if(k=k.listener,F!==y&&m.isPropagationStopped())break e;y=k,m.currentTarget=ee;try{y(m)}catch(oe){jf(oe)}m.currentTarget=null,y=F}else for(T=0;T<c.length;T++){if(k=c[T],F=k.instance,ee=k.currentTarget,k=k.listener,F!==y&&m.isPropagationStopped())break e;y=k,m.currentTarget=ee;try{y(m)}catch(oe){jf(oe)}m.currentTarget=null,y=F}}}}function pt(r,i){var l=i[Uc];l===void 0&&(l=i[Uc]=new Set);var c=r+"__bubble";l.has(c)||(Fx(i,r,2,!1),l.add(c))}function Lg(r,i,l){var c=0;i&&(c|=4),Fx(l,r,c,i)}var Kf="_reactListening"+Math.random().toString(36).slice(2);function Ug(r){if(!r[Kf]){r[Kf]=!0,zc.forEach(function(l){l!=="selectionchange"&&(tN.has(l)||Lg(l,!1,r),Lg(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Kf]||(i[Kf]=!0,Lg("selectionchange",!1,i))}}function Fx(r,i,l,c){switch(fw(i)){case 2:var m=RN;break;case 8:m=NN;break;default:m=Jg}l=m.bind(null,i,l,r),m=void 0,!Pr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),c?m!==void 0?r.addEventListener(i,l,{capture:!0,passive:m}):r.addEventListener(i,l,!0):m!==void 0?r.addEventListener(i,l,{passive:m}):r.addEventListener(i,l,!1)}function zg(r,i,l,c,m){var y=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var k=c.stateNode.containerInfo;if(k===m)break;if(T===4)for(T=c.return;T!==null;){var F=T.tag;if((F===3||F===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;k!==null;){if(T=Xs(k),T===null)return;if(F=T.tag,F===5||F===6||F===26||F===27){c=y=T;continue e}k=k.parentNode}}c=c.return}Wd(function(){var ee=y,oe=Mr(l),de=[];e:{var te=E_.get(r);if(te!==void 0){var re=tl,Ge=r;switch(r){case"keypress":if(ys(l)===0)break e;case"keydown":case"keyup":re=ol;break;case"focusin":Ge="focus",re=sl;break;case"focusout":Ge="blur",re=sl;break;case"beforeblur":case"afterblur":re=sl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Vr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=fp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=rf;break;case __:case b_:case x_:re=il;break;case w_:re=af;break;case"scroll":case"scrollend":re=Qd;break;case"wheel":re=ll;break;case"copy":case"cut":case"paste":re=al;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Zc;break;case"toggle":case"beforetoggle":re=lf}var Be=(i&4)!==0,Ft=!Be&&(r==="scroll"||r==="scrollend"),W=Be?te!==null?te+"Capture":null:te;Be=[];for(var Y=ee,J;Y!==null;){var ue=Y;if(J=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||J===null||W===null||(ue=so(Y,W),ue!=null&&Be.push(Nu(Y,ue,J))),Ft)break;Y=Y.return}0<Be.length&&(te=new re(te,Ge,null,l,oe),de.push({event:te,listeners:Be}))}}if((i&7)===0){e:{if(te=r==="mouseover"||r==="pointerover",re=r==="mouseout"||r==="pointerout",te&&l!==ti&&(Ge=l.relatedTarget||l.fromElement)&&(Xs(Ge)||Ge[Or]))break e;if((re||te)&&(te=oe.window===oe?oe:(te=oe.ownerDocument)?te.defaultView||te.parentWindow:window,re?(Ge=l.relatedTarget||l.toElement,re=ee,Ge=Ge?Xs(Ge):null,Ge!==null&&(Ft=o(Ge),Be=Ge.tag,Ge!==Ft||Be!==5&&Be!==27&&Be!==6)&&(Ge=null)):(re=null,Ge=ee),re!==Ge)){if(Be=Vr,ue="onMouseLeave",W="onMouseEnter",Y="mouse",(r==="pointerout"||r==="pointerover")&&(Be=Zc,ue="onPointerLeave",W="onPointerEnter",Y="pointer"),Ft=re==null?te:hs(re),J=Ge==null?te:hs(Ge),te=new Be(ue,Y+"leave",re,l,oe),te.target=Ft,te.relatedTarget=J,ue=null,Xs(oe)===ee&&(Be=new Be(W,Y+"enter",Ge,l,oe),Be.target=J,Be.relatedTarget=Ft,ue=Be),Ft=ue,re&&Ge)t:{for(Be=re,W=Ge,Y=0,J=Be;J;J=Ol(J))Y++;for(J=0,ue=W;ue;ue=Ol(ue))J++;for(;0<Y-J;)Be=Ol(Be),Y--;for(;0<J-Y;)W=Ol(W),J--;for(;Y--;){if(Be===W||W!==null&&Be===W.alternate)break t;Be=Ol(Be),W=Ol(W)}Be=null}else Be=null;re!==null&&qx(de,te,re,Be,!1),Ge!==null&&Ft!==null&&qx(de,Ft,Ge,Be,!0)}}e:{if(te=ee?hs(ee):window,re=te.nodeName&&te.nodeName.toLowerCase(),re==="select"||re==="input"&&te.type==="file")var Re=l_;else if(Cn(te))if(c_)Re=mR;else{Re=fR;var dt=dR}else re=te.nodeName,!re||re.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&$c(ee.elementType)&&(Re=l_):Re=hR;if(Re&&(Re=Re(r,ee))){ai(de,Re,l,oe);break e}dt&&dt(r,te,ee),r==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&Gi(te,"number",te.value)}switch(dt=ee?hs(ee):window,r){case"focusin":(Cn(dt)||dt.contentEditable==="true")&&(cl=dt,yp=ee,tu=null);break;case"focusout":tu=yp=cl=null;break;case"mousedown":vp=!0;break;case"contextmenu":case"mouseup":case"dragend":vp=!1,y_(de,l,oe);break;case"selectionchange":if(gR)break;case"keydown":case"keyup":y_(de,l,oe)}var Ve;if(bs)e:{switch(r){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else bt?ie(r,l)&&(qe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(qe="onCompositionStart");qe&&(E&&l.locale!=="ko"&&(bt||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&bt&&(Ve=Yc()):(gs=oe,Yi="value"in gs?gs.value:gs.textContent,bt=!0)),dt=Wf(ee,qe),0<dt.length&&(qe=new Qc(qe,r,null,l,oe),de.push({event:qe,listeners:dt}),Ve?qe.data=Ve:(Ve=_e(l),Ve!==null&&(qe.data=Ve)))),(Ve=_?An(r,l):xt(r,l))&&(qe=Wf(ee,"onBeforeInput"),0<qe.length&&(dt=new Qc("onBeforeInput","beforeinput",null,l,oe),de.push({event:dt,listeners:qe}),dt.data=Ve)),ZR(de,r,ee,l,oe)}Bx(de,i)})}function Nu(r,i,l){return{instance:r,listener:i,currentTarget:l}}function Wf(r,i){for(var l=i+"Capture",c=[];r!==null;){var m=r,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=so(r,l),m!=null&&c.unshift(Nu(r,m,y)),m=so(r,i),m!=null&&c.push(Nu(r,m,y))),r.tag===3)return c;r=r.return}return[]}function Ol(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function qx(r,i,l,c,m){for(var y=i._reactName,T=[];l!==null&&l!==c;){var k=l,F=k.alternate,ee=k.stateNode;if(k=k.tag,F!==null&&F===c)break;k!==5&&k!==26&&k!==27||ee===null||(F=ee,m?(ee=so(l,y),ee!=null&&T.unshift(Nu(l,ee,F))):m||(ee=so(l,y),ee!=null&&T.push(Nu(l,ee,F)))),l=l.return}T.length!==0&&r.push({event:i,listeners:T})}var nN=/\r\n?/g,rN=/\u0000|\uFFFD/g;function Hx(r){return(typeof r=="string"?r:""+r).replace(nN,`
`).replace(rN,"")}function $x(r,i){return i=Hx(i),Hx(r)===i}function Qf(){}function Bt(r,i,l,c,m,y){switch(l){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||jr(r,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&jr(r,""+c);break;case"className":ms(r,"class",c);break;case"tabIndex":ms(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ms(r,l,c);break;case"style":Hc(r,c,y);break;case"data":if(i!=="object"){ms(r,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||l!=="href")){r.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=el(""+c),r.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(i!=="input"&&Bt(r,i,"name",m.name,m,null),Bt(r,i,"formEncType",m.formEncType,m,null),Bt(r,i,"formMethod",m.formMethod,m,null),Bt(r,i,"formTarget",m.formTarget,m,null)):(Bt(r,i,"encType",m.encType,m,null),Bt(r,i,"method",m.method,m,null),Bt(r,i,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=el(""+c),r.setAttribute(l,c);break;case"onClick":c!=null&&(r.onclick=Qf);break;case"onScroll":c!=null&&pt("scroll",r);break;case"onScrollEnd":c!=null&&pt("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}l=el(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""+c):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":c===!0?r.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,c):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(l,c):r.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(l):r.setAttribute(l,c);break;case"popover":pt("beforetoggle",r),pt("toggle",r),$i(r,"popover",c);break;case"xlinkActuate":Bn(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Bn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Bn(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Bn(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Bn(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Bn(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Bn(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Bn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Bn(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":$i(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=up.get(l)||l,$i(r,l,c))}}function Bg(r,i,l,c,m,y){switch(l){case"style":Hc(r,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"children":typeof c=="string"?jr(r,c):(typeof c=="number"||typeof c=="bigint")&&jr(r,""+c);break;case"onScroll":c!=null&&pt("scroll",r);break;case"onScrollEnd":c!=null&&pt("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Qf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wo.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),i=l.slice(2,m?l.length-7:void 0),y=r[yn]||null,y=y!=null?y[l]:null,typeof y=="function"&&r.removeEventListener(i,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(i,c,m);break e}l in r?r[l]=c:c===!0?r.setAttribute(l,""):$i(r,l,c)}}}function $n(r,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pt("error",r),pt("load",r);var c=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var T=l[y];if(T!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Bt(r,i,y,T,l,null)}}m&&Bt(r,i,"srcSet",l.srcSet,l,null),c&&Bt(r,i,"src",l.src,l,null);return;case"input":pt("invalid",r);var k=y=T=m=null,F=null,ee=null;for(c in l)if(l.hasOwnProperty(c)){var oe=l[c];if(oe!=null)switch(c){case"name":m=oe;break;case"type":T=oe;break;case"checked":F=oe;break;case"defaultChecked":ee=oe;break;case"value":y=oe;break;case"defaultValue":k=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,i));break;default:Bt(r,i,c,oe,l,null)}}to(r,y,k,F,ee,T,m,!1),Jo(r);return;case"select":pt("invalid",r),c=T=y=null;for(m in l)if(l.hasOwnProperty(m)&&(k=l[m],k!=null))switch(m){case"value":y=k;break;case"defaultValue":T=k;break;case"multiple":c=k;default:Bt(r,i,m,k,l,null)}i=y,l=T,r.multiple=!!c,i!=null?ei(r,!!c,i,!1):l!=null&&ei(r,!!c,l,!0);return;case"textarea":pt("invalid",r),y=m=c=null;for(T in l)if(l.hasOwnProperty(T)&&(k=l[T],k!=null))switch(T){case"value":c=k;break;case"defaultValue":m=k;break;case"children":y=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(91));break;default:Bt(r,i,T,k,l,null)}no(r,c,m,y),Jo(r);return;case"option":for(F in l)if(l.hasOwnProperty(F)&&(c=l[F],c!=null))switch(F){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Bt(r,i,F,c,l,null)}return;case"dialog":pt("beforetoggle",r),pt("toggle",r),pt("cancel",r),pt("close",r);break;case"iframe":case"object":pt("load",r);break;case"video":case"audio":for(c=0;c<Ru.length;c++)pt(Ru[c],r);break;case"image":pt("error",r),pt("load",r);break;case"details":pt("toggle",r);break;case"embed":case"source":case"link":pt("error",r),pt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in l)if(l.hasOwnProperty(ee)&&(c=l[ee],c!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Bt(r,i,ee,c,l,null)}return;default:if($c(i)){for(oe in l)l.hasOwnProperty(oe)&&(c=l[oe],c!==void 0&&Bg(r,i,oe,c,l,void 0));return}}for(k in l)l.hasOwnProperty(k)&&(c=l[k],c!=null&&Bt(r,i,k,c,l,null))}function sN(r,i,l,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,T=null,k=null,F=null,ee=null,oe=null;for(re in l){var de=l[re];if(l.hasOwnProperty(re)&&de!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":F=de;default:c.hasOwnProperty(re)||Bt(r,i,re,null,c,de)}}for(var te in c){var re=c[te];if(de=l[te],c.hasOwnProperty(te)&&(re!=null||de!=null))switch(te){case"type":y=re;break;case"name":m=re;break;case"checked":ee=re;break;case"defaultChecked":oe=re;break;case"value":T=re;break;case"defaultValue":k=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,i));break;default:re!==de&&Bt(r,i,te,re,c,de)}}_r(r,T,k,F,ee,oe,y,m);return;case"select":re=T=k=te=null;for(y in l)if(F=l[y],l.hasOwnProperty(y)&&F!=null)switch(y){case"value":break;case"multiple":re=F;default:c.hasOwnProperty(y)||Bt(r,i,y,null,c,F)}for(m in c)if(y=c[m],F=l[m],c.hasOwnProperty(m)&&(y!=null||F!=null))switch(m){case"value":te=y;break;case"defaultValue":k=y;break;case"multiple":T=y;default:y!==F&&Bt(r,i,m,y,c,F)}i=k,l=T,c=re,te!=null?ei(r,!!l,te,!1):!!c!=!!l&&(i!=null?ei(r,!!l,i,!0):ei(r,!!l,l?[]:"",!1));return;case"textarea":re=te=null;for(k in l)if(m=l[k],l.hasOwnProperty(k)&&m!=null&&!c.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Bt(r,i,k,null,c,m)}for(T in c)if(m=c[T],y=l[T],c.hasOwnProperty(T)&&(m!=null||y!=null))switch(T){case"value":te=m;break;case"defaultValue":re=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==y&&Bt(r,i,T,m,c,y)}Ut(r,te,re);return;case"option":for(var Ge in l)if(te=l[Ge],l.hasOwnProperty(Ge)&&te!=null&&!c.hasOwnProperty(Ge))switch(Ge){case"selected":r.selected=!1;break;default:Bt(r,i,Ge,null,c,te)}for(F in c)if(te=c[F],re=l[F],c.hasOwnProperty(F)&&te!==re&&(te!=null||re!=null))switch(F){case"selected":r.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Bt(r,i,F,te,c,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in l)te=l[Be],l.hasOwnProperty(Be)&&te!=null&&!c.hasOwnProperty(Be)&&Bt(r,i,Be,null,c,te);for(ee in c)if(te=c[ee],re=l[ee],c.hasOwnProperty(ee)&&te!==re&&(te!=null||re!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,i));break;default:Bt(r,i,ee,te,c,re)}return;default:if($c(i)){for(var Ft in l)te=l[Ft],l.hasOwnProperty(Ft)&&te!==void 0&&!c.hasOwnProperty(Ft)&&Bg(r,i,Ft,void 0,c,te);for(oe in c)te=c[oe],re=l[oe],!c.hasOwnProperty(oe)||te===re||te===void 0&&re===void 0||Bg(r,i,oe,te,c,re);return}}for(var W in l)te=l[W],l.hasOwnProperty(W)&&te!=null&&!c.hasOwnProperty(W)&&Bt(r,i,W,null,c,te);for(de in c)te=c[de],re=l[de],!c.hasOwnProperty(de)||te===re||te==null&&re==null||Bt(r,i,de,te,c,re)}var Fg=null,qg=null;function Xf(r){return r.nodeType===9?r:r.ownerDocument}function Gx(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yx(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Hg(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var $g=null;function iN(){var r=window.event;return r&&r.type==="popstate"?r===$g?!1:($g=r,!0):($g=null,!1)}var Kx=typeof setTimeout=="function"?setTimeout:void 0,aN=typeof clearTimeout=="function"?clearTimeout:void 0,Wx=typeof Promise=="function"?Promise:void 0,oN=typeof queueMicrotask=="function"?queueMicrotask:typeof Wx<"u"?function(r){return Wx.resolve(null).then(r).catch(lN)}:Kx;function lN(r){setTimeout(function(){throw r})}function ca(r){return r==="head"}function Qx(r,i){var l=i,c=0,m=0;do{var y=l.nextSibling;if(r.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var T=r.ownerDocument;if(l&1&&Iu(T.documentElement),l&2&&Iu(T.body),l&4)for(l=T.head,Iu(l),T=l.firstChild;T;){var k=T.nextSibling,F=T.nodeName;T[Xa]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=k}}if(m===0){r.removeChild(y),Lu(i);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);Lu(i)}function Gg(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Gg(l),Hi(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function cN(r,i,l,c){for(;r.nodeType===1;){var m=l;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Xa])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Jr(r.nextSibling),r===null)break}return null}function uN(r,i,l){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Jr(r.nextSibling),r===null))return null;return r}function Yg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function dN(r,i){var l=r.ownerDocument;if(r.data!=="$?"||l.readyState==="complete")i();else{var c=function(){i(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function Jr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var Kg=null;function Xx(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return r;i--}else l==="/$"&&i++}r=r.previousSibling}return null}function Zx(r,i,l){switch(i=Xf(l),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function Iu(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Hi(r)}var Hr=new Map,Jx=new Set;function Zf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var _i=Z.d;Z.d={f:fN,r:hN,D:mN,C:pN,L:gN,m:yN,X:_N,S:vN,M:bN};function fN(){var r=_i.f(),i=qf();return r||i}function hN(r){var i=fs(r);i!==null&&i.tag===5&&i.type==="form"?_b(i):_i.r(r)}var jl=typeof document>"u"?null:document;function ew(r,i,l){var c=jl;if(c&&typeof i=="string"&&i){var m=vn(i);m='link[rel="'+r+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),Jx.has(m)||(Jx.add(m),r={rel:r,crossOrigin:l,href:i},c.querySelector(m)===null&&(i=c.createElement("link"),$n(i,"link",r),fn(i),c.head.appendChild(i)))}}function mN(r){_i.D(r),ew("dns-prefetch",r,null)}function pN(r,i){_i.C(r,i),ew("preconnect",r,i)}function gN(r,i,l){_i.L(r,i,l);var c=jl;if(c&&r&&i){var m='link[rel="preload"][as="'+vn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+vn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+vn(l.imageSizes)+'"]')):m+='[href="'+vn(r)+'"]';var y=m;switch(i){case"style":y=Ml(r);break;case"script":y=Pl(r)}Hr.has(y)||(r=v({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:r,as:i},l),Hr.set(y,r),c.querySelector(m)!==null||i==="style"&&c.querySelector(ku(y))||i==="script"&&c.querySelector(Du(y))||(i=c.createElement("link"),$n(i,"link",r),fn(i),c.head.appendChild(i)))}}function yN(r,i){_i.m(r,i);var l=jl;if(l&&r){var c=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+vn(c)+'"][href="'+vn(r)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Pl(r)}if(!Hr.has(y)&&(r=v({rel:"modulepreload",href:r},i),Hr.set(y,r),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Du(y)))return}c=l.createElement("link"),$n(c,"link",r),fn(c),l.head.appendChild(c)}}}function vN(r,i,l){_i.S(r,i,l);var c=jl;if(c&&r){var m=or(c).hoistableStyles,y=Ml(r);i=i||"default";var T=m.get(y);if(!T){var k={loading:0,preload:null};if(T=c.querySelector(ku(y)))k.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":i},l),(l=Hr.get(y))&&Wg(r,l);var F=T=c.createElement("link");fn(F),$n(F,"link",r),F._p=new Promise(function(ee,oe){F.onload=ee,F.onerror=oe}),F.addEventListener("load",function(){k.loading|=1}),F.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Jf(T,i,c)}T={type:"stylesheet",instance:T,count:1,state:k},m.set(y,T)}}}function _N(r,i){_i.X(r,i);var l=jl;if(l&&r){var c=or(l).hoistableScripts,m=Pl(r),y=c.get(m);y||(y=l.querySelector(Du(m)),y||(r=v({src:r,async:!0},i),(i=Hr.get(m))&&Qg(r,i),y=l.createElement("script"),fn(y),$n(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function bN(r,i){_i.M(r,i);var l=jl;if(l&&r){var c=or(l).hoistableScripts,m=Pl(r),y=c.get(m);y||(y=l.querySelector(Du(m)),y||(r=v({src:r,async:!0,type:"module"},i),(i=Hr.get(m))&&Qg(r,i),y=l.createElement("script"),fn(y),$n(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function tw(r,i,l,c){var m=(m=De.current)?Zf(m):null;if(!m)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=Ml(l.href),l=or(m).hoistableStyles,c=l.get(i),c||(c={type:"style",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=Ml(l.href);var y=or(m).hoistableStyles,T=y.get(r);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,T),(y=m.querySelector(ku(r)))&&!y._p&&(T.instance=y,T.state.loading=5),Hr.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Hr.set(r,l),y||xN(m,r,l,T.state))),i&&c===null)throw Error(s(528,""));return T}if(i&&c!==null)throw Error(s(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Pl(l),l=or(m).hoistableScripts,c=l.get(i),c||(c={type:"script",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Ml(r){return'href="'+vn(r)+'"'}function ku(r){return'link[rel="stylesheet"]['+r+"]"}function nw(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function xN(r,i,l,c){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=r.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),$n(i,"link",l),fn(i),r.head.appendChild(i))}function Pl(r){return'[src="'+vn(r)+'"]'}function Du(r){return"script[async]"+r}function rw(r,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var c=r.querySelector('style[data-href~="'+vn(l.href)+'"]');if(c)return i.instance=c,fn(c),c;var m=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),fn(c),$n(c,"style",m),Jf(c,l.precedence,r),i.instance=c;case"stylesheet":m=Ml(l.href);var y=r.querySelector(ku(m));if(y)return i.state.loading|=4,i.instance=y,fn(y),y;c=nw(l),(m=Hr.get(m))&&Wg(c,m),y=(r.ownerDocument||r).createElement("link"),fn(y);var T=y;return T._p=new Promise(function(k,F){T.onload=k,T.onerror=F}),$n(y,"link",c),i.state.loading|=4,Jf(y,l.precedence,r),i.instance=y;case"script":return y=Pl(l.src),(m=r.querySelector(Du(y)))?(i.instance=m,fn(m),m):(c=l,(m=Hr.get(y))&&(c=v({},l),Qg(c,m)),r=r.ownerDocument||r,m=r.createElement("script"),fn(m),$n(m,"link",c),r.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Jf(c,l.precedence,r));return i.instance}function Jf(r,i,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,T=0;T<c.length;T++){var k=c[T];if(k.dataset.precedence===i)y=k;else if(y!==m)break}y?y.parentNode.insertBefore(r,y.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(r,i.firstChild))}function Wg(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Qg(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var eh=null;function sw(r,i,l){if(eh===null){var c=new Map,m=eh=new Map;m.set(l,c)}else m=eh,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(r))return c;for(c.set(r,null),l=l.getElementsByTagName(r),m=0;m<l.length;m++){var y=l[m];if(!(y[Xa]||y[Sn]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(i)||"";T=r+T;var k=c.get(T);k?k.push(y):c.set(T,[y])}}return c}function iw(r,i,l){r=r.ownerDocument||r,r.head.insertBefore(l,i==="title"?r.querySelector("head > title"):null)}function wN(r,i,l){if(l===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function aw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Ou=null;function EN(){}function TN(r,i,l){if(Ou===null)throw Error(s(475));var c=Ou;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var m=Ml(l.href),y=r.querySelector(ku(m));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=th.bind(c),r.then(c,c)),i.state.loading|=4,i.instance=y,fn(y);return}y=r.ownerDocument||r,l=nw(l),(m=Hr.get(m))&&Wg(l,m),y=y.createElement("link"),fn(y);var T=y;T._p=new Promise(function(k,F){T.onload=k,T.onerror=F}),$n(y,"link",l),i.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=th.bind(c),r.addEventListener("load",i),r.addEventListener("error",i))}}function SN(){if(Ou===null)throw Error(s(475));var r=Ou;return r.stylesheets&&r.count===0&&Xg(r,r.stylesheets),0<r.count?function(i){var l=setTimeout(function(){if(r.stylesheets&&Xg(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(l)}}:null}function th(){if(this.count--,this.count===0){if(this.stylesheets)Xg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var nh=null;function Xg(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,nh=new Map,i.forEach(AN,r),nh=null,th.call(r))}function AN(r,i){if(!(i.state.loading&4)){var l=nh.get(r);if(l)var c=l.get(null);else{l=new Map,nh.set(r,l);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var T=m[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}m=i.instance,T=m.getAttribute("data-precedence"),y=l.get(T)||c,y===c&&l.set(null,m),l.set(T,m),this.count++,c=th.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),i.state.loading|=4}}var ju={$$typeof:L,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function CN(r,i,l,c,m,y,T,k){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ws(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ws(0),this.hiddenUpdates=Ws(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function ow(r,i,l,c,m,y,T,k,F,ee,oe,de){return r=new CN(r,i,l,T,k,F,ee,de),i=1,y===!0&&(i|=24),y=xr(3,null,null,i),r.current=y,y.stateNode=r,i=Dp(),i.refCount++,r.pooledCache=i,i.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:i},Pp(y),r}function lw(r){return r?(r=hl,r):hl}function cw(r,i,l,c,m,y){m=lw(m),c.context===null?c.context=m:c.pendingContext=m,c=Qi(i),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=Xi(r,c,i),l!==null&&(Ar(l,r,i),uu(l,r,i))}function uw(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function Zg(r,i){uw(r,i),(r=r.alternate)&&uw(r,i)}function dw(r){if(r.tag===13){var i=fl(r,67108864);i!==null&&Ar(i,r,67108864),Zg(r,67108864)}}var rh=!0;function RN(r,i,l,c){var m=H.T;H.T=null;var y=Z.p;try{Z.p=2,Jg(r,i,l,c)}finally{Z.p=y,H.T=m}}function NN(r,i,l,c){var m=H.T;H.T=null;var y=Z.p;try{Z.p=8,Jg(r,i,l,c)}finally{Z.p=y,H.T=m}}function Jg(r,i,l,c){if(rh){var m=ey(c);if(m===null)zg(r,i,c,sh,l),hw(r,c);else if(kN(m,r,i,l,c))c.stopPropagation();else if(hw(r,c),i&4&&-1<IN.indexOf(r)){for(;m!==null;){var y=fs(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=zn(y.pendingLanes);if(T!==0){var k=y;for(k.pendingLanes|=2,k.entangledLanes|=2;T;){var F=1<<31-ht(T);k.entanglements[1]|=F,T&=~F}As(y),(Pt&6)===0&&(Bf=Ye()+500,Cu(0))}}break;case 13:k=fl(y,2),k!==null&&Ar(k,y,2),qf(),Zg(y,2)}if(y=ey(c),y===null&&zg(r,i,c,sh,l),y===m)break;m=y}m!==null&&c.stopPropagation()}else zg(r,i,c,null,l)}}function ey(r){return r=Mr(r),ty(r)}var sh=null;function ty(r){if(sh=null,r=Xs(r),r!==null){var i=o(r);if(i===null)r=null;else{var l=i.tag;if(l===13){if(r=u(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return sh=r,null}function fw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gn()){case me:return 2;case xe:return 8;case ve:case Je:return 32;case Ee:return 268435456;default:return 32}default:return 32}}var ny=!1,ua=null,da=null,fa=null,Mu=new Map,Pu=new Map,ha=[],IN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hw(r,i){switch(r){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":Mu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pu.delete(i.pointerId)}}function Vu(r,i,l,c,m,y){return r===null||r.nativeEvent!==y?(r={blockedOn:i,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},i!==null&&(i=fs(i),i!==null&&dw(i)),r):(r.eventSystemFlags|=c,i=r.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),r)}function kN(r,i,l,c,m){switch(i){case"focusin":return ua=Vu(ua,r,i,l,c,m),!0;case"dragenter":return da=Vu(da,r,i,l,c,m),!0;case"mouseover":return fa=Vu(fa,r,i,l,c,m),!0;case"pointerover":var y=m.pointerId;return Mu.set(y,Vu(Mu.get(y)||null,r,i,l,c,m)),!0;case"gotpointercapture":return y=m.pointerId,Pu.set(y,Vu(Pu.get(y)||null,r,i,l,c,m)),!0}return!1}function mw(r){var i=Xs(r.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=u(l),i!==null){r.blockedOn=i,Fd(r.priority,function(){if(l.tag===13){var c=Sr();c=Bi(c);var m=fl(l,c);m!==null&&Ar(m,l,c),Zg(l,c)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ih(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=ey(r.nativeEvent);if(l===null){l=r.nativeEvent;var c=new l.constructor(l.type,l);ti=c,l.target.dispatchEvent(c),ti=null}else return i=fs(l),i!==null&&dw(i),r.blockedOn=l,!1;i.shift()}return!0}function pw(r,i,l){ih(r)&&l.delete(i)}function DN(){ny=!1,ua!==null&&ih(ua)&&(ua=null),da!==null&&ih(da)&&(da=null),fa!==null&&ih(fa)&&(fa=null),Mu.forEach(pw),Pu.forEach(pw)}function ah(r,i){r.blockedOn===i&&(r.blockedOn=null,ny||(ny=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,DN)))}var oh=null;function gw(r){oh!==r&&(oh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){oh===r&&(oh=null);for(var i=0;i<r.length;i+=3){var l=r[i],c=r[i+1],m=r[i+2];if(typeof c!="function"){if(ty(c||l)===null)continue;break}var y=fs(l);y!==null&&(r.splice(i,3),i-=3,tg(y,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function Lu(r){function i(F){return ah(F,r)}ua!==null&&ah(ua,r),da!==null&&ah(da,r),fa!==null&&ah(fa,r),Mu.forEach(i),Pu.forEach(i);for(var l=0;l<ha.length;l++){var c=ha[l];c.blockedOn===r&&(c.blockedOn=null)}for(;0<ha.length&&(l=ha[0],l.blockedOn===null);)mw(l),l.blockedOn===null&&ha.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],y=l[c+1],T=m[yn]||null;if(typeof y=="function")T||gw(l);else if(T){var k=null;if(y&&y.hasAttribute("formAction")){if(m=y,T=y[yn]||null)k=T.formAction;else if(ty(m)!==null)continue}else k=T.action;typeof k=="function"?l[c+1]=k:(l.splice(c,3),c-=3),gw(l)}}}function ry(r){this._internalRoot=r}lh.prototype.render=ry.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var l=i.current,c=Sr();cw(l,c,r,i,null,null)},lh.prototype.unmount=ry.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;cw(r.current,2,null,r,null,null),qf(),i[Or]=null}};function lh(r){this._internalRoot=r}lh.prototype.unstable_scheduleHydration=function(r){if(r){var i=Fi();r={blockedOn:null,target:r,priority:i};for(var l=0;l<ha.length&&i!==0&&i<ha[l].priority;l++);ha.splice(l,0,r),l===0&&mw(r)}};var yw=e.version;if(yw!=="19.1.0")throw Error(s(527,yw,"19.1.0"));Z.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=p(i),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var ON={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{gt=ch.inject(ON),Pe=ch}catch{}}return zu.createRoot=function(r,i){if(!a(r))throw Error(s(299));var l=!1,c="",m=Ob,y=jb,T=Mb,k=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(k=i.unstable_transitionCallbacks)),i=ow(r,1,!1,null,null,l,c,m,y,T,k,null),r[Or]=i.current,Ug(r),new ry(i)},zu.hydrateRoot=function(r,i,l){if(!a(r))throw Error(s(299));var c=!1,m="",y=Ob,T=jb,k=Mb,F=null,ee=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(F=l.unstable_transitionCallbacks),l.formState!==void 0&&(ee=l.formState)),i=ow(r,1,!0,i,l??null,c,m,y,T,k,F,ee),i.context=lw(null),l=i.current,c=Sr(),c=Bi(c),m=Qi(c),m.callback=null,Xi(l,m,c),l=c,i.current.lanes=l,Qs(i,l),As(i),r[Or]=i.current,Ug(r),new lh(i)},zu.version="19.1.0",zu}var Cw;function qN(){if(Cw)return ay.exports;Cw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ay.exports=FN(),ay.exports}var HN=qN(),Bu={},Rw;function $N(){if(Rw)return Bu;Rw=1,Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.parse=u,Bu.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,S){const R=new o,C=b.length;if(C<2)return R;const I=(S==null?void 0:S.decode)||v;let M=0;do{const P=b.indexOf("=",M);if(P===-1)break;const L=b.indexOf(";",M),$=L===-1?C:L;if(P>$){M=b.lastIndexOf(";",P-1)+1;continue}const q=d(b,M,P),X=p(b,P,q),N=b.slice(q,X);if(R[N]===void 0){let A=d(b,P+1,$),O=p(b,$,A);const U=I(b.slice(A,O));R[N]=U}M=$+1}while(M<C);return R}function d(b,S,R){do{const C=b.charCodeAt(S);if(C!==32&&C!==9)return S}while(++S<R);return R}function p(b,S,R){for(;S>R;){const C=b.charCodeAt(--S);if(C!==32&&C!==9)return S+1}return R}function g(b,S,R){const C=(R==null?void 0:R.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const I=C(S);if(!e.test(I))throw new TypeError(`argument val is invalid: ${S}`);let M=b+"="+I;if(!R)return M;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);M+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);M+="; Domain="+R.domain}if(R.path){if(!s.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);M+="; Path="+R.path}if(R.expires){if(!x(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);M+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(M+="; HttpOnly"),R.secure&&(M+="; Secure"),R.partitioned&&(M+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return M}function v(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function x(b){return a.call(b)==="[object Date]"}return Bu}$N();var Nw="popstate";function GN(n={}){function e(s,a){let{pathname:o,search:u,hash:d}=s.location;return Ly("",{pathname:o,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){return typeof a=="string"?a:id(a)}return KN(e,t,null,n)}function Zt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ss(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YN(){return Math.random().toString(36).substring(2,10)}function Iw(n,e){return{usr:n.state,key:n.key,idx:e}}function Ly(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?bc(e):e,state:t,key:e&&e.key||s||YN()}}function id({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function bc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function KN(n,e,t,s={}){let{window:a=document.defaultView,v5Compat:o=!1}=s,u=a.history,d="POP",p=null,g=v();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function v(){return(u.state||{idx:null}).idx}function x(){d="POP";let I=v(),M=I==null?null:I-g;g=I,p&&p({action:d,location:C.location,delta:M})}function b(I,M){d="PUSH";let P=Ly(C.location,I,M);g=v()+1;let L=Iw(P,g),$=C.createHref(P);try{u.pushState(L,"",$)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;a.location.assign($)}o&&p&&p({action:d,location:C.location,delta:1})}function S(I,M){d="REPLACE";let P=Ly(C.location,I,M);g=v();let L=Iw(P,g),$=C.createHref(P);u.replaceState(L,"",$),o&&p&&p({action:d,location:C.location,delta:0})}function R(I){return WN(I)}let C={get action(){return d},get location(){return n(a,u)},listen(I){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(Nw,x),p=I,()=>{a.removeEventListener(Nw,x),p=null}},createHref(I){return e(a,I)},createURL:R,encodeLocation(I){let M=R(I);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:b,replace:S,go(I){return u.go(I)}};return C}function WN(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Zt(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:id(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function vS(n,e,t="/"){return QN(n,e,t,!1)}function QN(n,e,t,s){let a=typeof e=="string"?bc(e):e,o=Ci(a.pathname||"/",t);if(o==null)return null;let u=_S(n);XN(u);let d=null;for(let p=0;d==null&&p<u.length;++p){let g=lI(o);d=aI(u[p],g,s)}return d}function _S(n,e=[],t=[],s=""){let a=(o,u,d)=>{let p={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};p.relativePath.startsWith("/")&&(Zt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Ei([s,p.relativePath]),v=t.concat(p);o.children&&o.children.length>0&&(Zt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),_S(o.children,e,v,g)),!(o.path==null&&!o.index)&&e.push({path:g,score:sI(g,o.index),routesMeta:v})};return n.forEach((o,u)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,u);else for(let p of bS(o.path))a(o,u,p)}),e}function bS(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let u=bS(s.join("/")),d=[];return d.push(...u.map(p=>p===""?o:[o,p].join("/"))),a&&d.push(...u),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function XN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:iI(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var ZN=/^:[\w-]+$/,JN=3,eI=2,tI=1,nI=10,rI=-2,kw=n=>n==="*";function sI(n,e){let t=n.split("/"),s=t.length;return t.some(kw)&&(s+=rI),e&&(s+=eI),t.filter(a=>!kw(a)).reduce((a,o)=>a+(ZN.test(o)?JN:o===""?tI:nI),s)}function iI(n,e){return n.length===e.length&&n.slice(0,-1).every((s,a)=>s===e[a])?n[n.length-1]-e[e.length-1]:0}function aI(n,e,t=!1){let{routesMeta:s}=n,a={},o="/",u=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,v=o==="/"?e:e.slice(o.length)||"/",x=Hh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),b=p.route;if(!x&&g&&t&&!s[s.length-1].route.index&&(x=Hh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!x)return null;Object.assign(a,x.params),u.push({params:a,pathname:Ei([o,x.pathname]),pathnameBase:fI(Ei([o,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(o=Ei([o,x.pathnameBase]))}return u}function Hh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=oI(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:x},b)=>{if(v==="*"){let R=d[b]||"";u=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const S=d[b];return x&&!S?g[v]=void 0:g[v]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:u,pattern:n}}function oI(n,e=!1,t=!0){ss(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function lI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ss(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ci(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function cI(n,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof n=="string"?bc(n):n;return{pathname:t?t.startsWith("/")?t:uI(t,e):e,search:hI(s),hash:mI(a)}}function uI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function uy(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Vv(n){let e=dI(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Lv(n,e,t,s=!1){let a;typeof n=="string"?a=bc(n):(a={...n},Zt(!a.pathname||!a.pathname.includes("?"),uy("?","pathname","search",a)),Zt(!a.pathname||!a.pathname.includes("#"),uy("#","pathname","hash",a)),Zt(!a.search||!a.search.includes("#"),uy("#","search","hash",a)));let o=n===""||a.pathname==="",u=o?"/":a.pathname,d;if(u==null)d=t;else{let x=e.length-1;if(!s&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),x-=1;a.pathname=b.join("/")}d=x>=0?e[x]:"/"}let p=cI(a,d),g=u&&u!=="/"&&u.endsWith("/"),v=(o||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Ei=n=>n.join("/").replace(/\/\/+/g,"/"),fI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),hI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,mI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function pI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var xS=["POST","PUT","PATCH","DELETE"];new Set(xS);var gI=["GET",...xS];new Set(gI);var xc=w.createContext(null);xc.displayName="DataRouter";var Am=w.createContext(null);Am.displayName="DataRouterState";var wS=w.createContext({isTransitioning:!1});wS.displayName="ViewTransition";var yI=w.createContext(new Map);yI.displayName="Fetchers";var vI=w.createContext(null);vI.displayName="Await";var cs=w.createContext(null);cs.displayName="Navigation";var bd=w.createContext(null);bd.displayName="Location";var Gs=w.createContext({outlet:null,matches:[],isDataRoute:!1});Gs.displayName="Route";var Uv=w.createContext(null);Uv.displayName="RouteError";function _I(n,{relative:e}={}){Zt(wc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=w.useContext(cs),{hash:a,pathname:o,search:u}=xd(n,{relative:e}),d=o;return t!=="/"&&(d=o==="/"?t:Ei([t,o])),s.createHref({pathname:d,search:u,hash:a})}function wc(){return w.useContext(bd)!=null}function Pi(){return Zt(wc(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(bd).location}var ES="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TS(n){w.useContext(cs).static||w.useLayoutEffect(n)}function Cm(){let{isDataRoute:n}=w.useContext(Gs);return n?DI():bI()}function bI(){Zt(wc(),"useNavigate() may be used only in the context of a <Router> component.");let n=w.useContext(xc),{basename:e,navigator:t}=w.useContext(cs),{matches:s}=w.useContext(Gs),{pathname:a}=Pi(),o=JSON.stringify(Vv(s)),u=w.useRef(!1);return TS(()=>{u.current=!0}),w.useCallback((p,g={})=>{if(ss(u.current,ES),!u.current)return;if(typeof p=="number"){t.go(p);return}let v=Lv(p,JSON.parse(o),a,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ei([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,o,a,n])}w.createContext(null);function xd(n,{relative:e}={}){let{matches:t}=w.useContext(Gs),{pathname:s}=Pi(),a=JSON.stringify(Vv(t));return w.useMemo(()=>Lv(n,JSON.parse(a),s,e==="path"),[n,a,s,e])}function xI(n,e){return SS(n,e)}function SS(n,e,t,s){var M;Zt(wc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=w.useContext(cs),{matches:o}=w.useContext(Gs),u=o[o.length-1],d=u?u.params:{},p=u?u.pathname:"/",g=u?u.pathnameBase:"/",v=u&&u.route;{let P=v&&v.path||"";AS(p,!v||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let x=Pi(),b;if(e){let P=typeof e=="string"?bc(e):e;Zt(g==="/"||((M=P.pathname)==null?void 0:M.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${P.pathname}" was given in the \`location\` prop.`),b=P}else b=x;let S=b.pathname||"/",R=S;if(g!=="/"){let P=g.replace(/^\//,"").split("/");R="/"+S.replace(/^\//,"").split("/").slice(P.length).join("/")}let C=vS(n,{pathname:R});ss(v||C!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ss(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=AI(C&&C.map(P=>Object.assign({},P,{params:Object.assign({},d,P.params),pathname:Ei([g,a.encodeLocation?a.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?g:Ei([g,a.encodeLocation?a.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),o,t,s);return e&&I?w.createElement(bd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},I):I}function wI(){let n=kI(),e=pI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:o},"ErrorBoundary")," or"," ",w.createElement("code",{style:o},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:a},t):null,u)}var EI=w.createElement(wI,null),TI=class extends w.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?w.createElement(Gs.Provider,{value:this.props.routeContext},w.createElement(Uv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SI({routeContext:n,match:e,children:t}){let s=w.useContext(xc);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Gs.Provider,{value:n},t)}function AI(n,e=[],t=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let p=a.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);Zt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let u=!1,d=-1;if(t)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:v,errors:x}=t,b=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!x||x[g.route.id]===void 0);if(g.route.lazy||b){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,g,v)=>{let x,b=!1,S=null,R=null;t&&(x=o&&g.route.id?o[g.route.id]:void 0,S=g.route.errorElement||EI,u&&(d<0&&v===0?(AS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,R=null):d===v&&(b=!0,R=g.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,v+1)),I=()=>{let M;return x?M=S:b?M=R:g.route.Component?M=w.createElement(g.route.Component,null):g.route.element?M=g.route.element:M=p,w.createElement(SI,{match:g,routeContext:{outlet:p,matches:C,isDataRoute:t!=null},children:M})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?w.createElement(TI,{location:t.location,revalidation:t.revalidation,component:S,error:x,children:I(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):I()},null)}function zv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CI(n){let e=w.useContext(xc);return Zt(e,zv(n)),e}function RI(n){let e=w.useContext(Am);return Zt(e,zv(n)),e}function NI(n){let e=w.useContext(Gs);return Zt(e,zv(n)),e}function Bv(n){let e=NI(n),t=e.matches[e.matches.length-1];return Zt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function II(){return Bv("useRouteId")}function kI(){var s;let n=w.useContext(Uv),e=RI("useRouteError"),t=Bv("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[t]}function DI(){let{router:n}=CI("useNavigate"),e=Bv("useNavigate"),t=w.useRef(!1);return TS(()=>{t.current=!0}),w.useCallback(async(a,o={})=>{ss(t.current,ES),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var Dw={};function AS(n,e,t){!e&&!Dw[n]&&(Dw[n]=!0,ss(!1,t))}w.memo(OI);function OI({routes:n,future:e,state:t}){return SS(n,void 0,t,e)}function Uy({to:n,replace:e,state:t,relative:s}){Zt(wc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=w.useContext(cs);ss(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=w.useContext(Gs),{pathname:u}=Pi(),d=Cm(),p=Lv(n,Vv(o),u,s==="path"),g=JSON.stringify(p);return w.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:s})},[d,g,s,e,t]),null}function es(n){Zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jI({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:o=!1}){Zt(!wc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof t=="string"&&(t=bc(t));let{pathname:p="/",search:g="",hash:v="",state:x=null,key:b="default"}=t,S=w.useMemo(()=>{let R=Ci(p,u);return R==null?null:{location:{pathname:R,search:g,hash:v,state:x,key:b},navigationType:s}},[u,p,g,v,x,b,s]);return ss(S!=null,`<Router basename="${u}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:w.createElement(cs.Provider,{value:d},w.createElement(bd.Provider,{children:e,value:S}))}function MI({children:n,location:e}){return xI(zy(n),e)}function zy(n,e=[]){let t=[];return w.Children.forEach(n,(s,a)=>{if(!w.isValidElement(s))return;let o=[...e,a];if(s.type===w.Fragment){t.push.apply(t,zy(s.props.children,o));return}Zt(s.type===es,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=zy(s.props.children,o)),t.push(u)}),t}var Rh="get",Nh="application/x-www-form-urlencoded";function Rm(n){return n!=null&&typeof n.tagName=="string"}function PI(n){return Rm(n)&&n.tagName.toLowerCase()==="button"}function VI(n){return Rm(n)&&n.tagName.toLowerCase()==="form"}function LI(n){return Rm(n)&&n.tagName.toLowerCase()==="input"}function UI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function zI(n,e){return n.button===0&&(!e||e==="_self")&&!UI(n)}var uh=null;function BI(){if(uh===null)try{new FormData(document.createElement("form"),0),uh=!1}catch{uh=!0}return uh}var FI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dy(n){return n!=null&&!FI.has(n)?(ss(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nh}"`),null):n}function qI(n,e){let t,s,a,o,u;if(VI(n)){let d=n.getAttribute("action");s=d?Ci(d,e):null,t=n.getAttribute("method")||Rh,a=dy(n.getAttribute("enctype"))||Nh,o=new FormData(n)}else if(PI(n)||LI(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(s=p?Ci(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Rh,a=dy(n.getAttribute("formenctype"))||dy(d.getAttribute("enctype"))||Nh,o=new FormData(d,n),!BI()){let{name:g,type:v,value:x}=n;if(v==="image"){let b=g?`${g}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else g&&o.append(g,x)}}else{if(Rm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Rh,s=null,a=Nh,u=n}return o&&a==="text/plain"&&(u=o,o=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:o,body:u}}function Fv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function HI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $I(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function GI(n,e,t){let s=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await HI(o,t);return u.links?u.links():[]}return[]}));return QI(s.flat(1).filter($I).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Ow(n,e,t,s,a,o){let u=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var v;return t[g].pathname!==p.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return o==="assets"?e.filter((p,g)=>u(p,g)||d(p,g)):o==="data"?e.filter((p,g)=>{var x;let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(u(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((x=t[0])==null?void 0:x.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function YI(n,e,{includeHydrateFallback:t}={}){return KI(n.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function KI(n){return[...new Set(n)]}function WI(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function QI(n,e){let t=new Set;return new Set(e),n.reduce((s,a)=>{let o=JSON.stringify(WI(a));return t.has(o)||(t.add(o),s.push({key:o,link:a})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var XI=new Set([100,101,204,205]);function ZI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ci(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function CS(){let n=w.useContext(xc);return Fv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function JI(){let n=w.useContext(Am);return Fv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var qv=w.createContext(void 0);qv.displayName="FrameworkContext";function RS(){let n=w.useContext(qv);return Fv(n,"You must render this element inside a <HydratedRouter> element"),n}function ek(n,e){let t=w.useContext(qv),[s,a]=w.useState(!1),[o,u]=w.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:x}=e,b=w.useRef(null);w.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let C=M=>{M.forEach(P=>{u(P.isIntersecting)})},I=new IntersectionObserver(C,{threshold:.5});return b.current&&I.observe(b.current),()=>{I.disconnect()}}},[n]),w.useEffect(()=>{if(s){let C=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(C)}}},[s]);let S=()=>{a(!0)},R=()=>{a(!1),u(!1)};return t?n!=="intent"?[o,b,{}]:[o,b,{onFocus:Fu(d,S),onBlur:Fu(p,R),onMouseEnter:Fu(g,S),onMouseLeave:Fu(v,R),onTouchStart:Fu(x,S)}]:[!1,b,{}]}function Fu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function tk({page:n,...e}){let{router:t}=CS(),s=w.useMemo(()=>vS(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?w.createElement(rk,{page:n,matches:s,...e}):null}function nk(n){let{manifest:e,routeModules:t}=RS(),[s,a]=w.useState([]);return w.useEffect(()=>{let o=!1;return GI(n,e,t).then(u=>{o||a(u)}),()=>{o=!0}},[n,e,t]),s}function rk({page:n,matches:e,...t}){let s=Pi(),{manifest:a,routeModules:o}=RS(),{basename:u}=CS(),{loaderData:d,matches:p}=JI(),g=w.useMemo(()=>Ow(n,e,p,a,s,"data"),[n,e,p,a,s]),v=w.useMemo(()=>Ow(n,e,p,a,s,"assets"),[n,e,p,a,s]),x=w.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let R=new Set,C=!1;if(e.forEach(M=>{var L;let P=a.routes[M.route.id];!P||!P.hasLoader||(!g.some($=>$.route.id===M.route.id)&&M.route.id in d&&((L=o[M.route.id])!=null&&L.shouldRevalidate)||P.hasClientLoader?C=!0:R.add(M.route.id))}),R.size===0)return[];let I=ZI(n,u);return C&&R.size>0&&I.searchParams.set("_routes",e.filter(M=>R.has(M.route.id)).map(M=>M.route.id).join(",")),[I.pathname+I.search]},[u,d,s,a,g,e,n,o]),b=w.useMemo(()=>YI(v,a),[v,a]),S=nk(v);return w.createElement(w.Fragment,null,x.map(R=>w.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),b.map(R=>w.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),S.map(({key:R,link:C})=>w.createElement("link",{key:R,...C})))}function sk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var NS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NS&&(window.__reactRouterVersion="7.6.3")}catch{}function ik({basename:n,children:e,window:t}){let s=w.useRef();s.current==null&&(s.current=GN({window:t,v5Compat:!0}));let a=s.current,[o,u]=w.useState({action:a.action,location:a.location}),d=w.useCallback(p=>{w.startTransition(()=>u(p))},[u]);return w.useLayoutEffect(()=>a.listen(d),[a,d]),w.createElement(jI,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:a})}var IS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ec=w.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:o,replace:u,state:d,target:p,to:g,preventScrollReset:v,viewTransition:x,...b},S){let{basename:R}=w.useContext(cs),C=typeof g=="string"&&IS.test(g),I,M=!1;if(typeof g=="string"&&C&&(I=g,NS))try{let O=new URL(window.location.href),U=g.startsWith("//")?new URL(O.protocol+g):new URL(g),D=Ci(U.pathname,R);U.origin===O.origin&&D!=null?g=D+U.search+U.hash:M=!0}catch{ss(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=_I(g,{relative:a}),[L,$,q]=ek(s,b),X=ck(g,{replace:u,state:d,target:p,preventScrollReset:v,relative:a,viewTransition:x});function N(O){e&&e(O),O.defaultPrevented||X(O)}let A=w.createElement("a",{...b,...q,href:I||P,onClick:M||o?e:N,ref:sk(S,$),target:p,"data-discover":!C&&t==="render"?"true":void 0});return L&&!C?w.createElement(w.Fragment,null,A,w.createElement(tk,{page:P})):A});ec.displayName="Link";var ak=w.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:o,to:u,viewTransition:d,children:p,...g},v){let x=xd(u,{relative:g.relative}),b=Pi(),S=w.useContext(Am),{navigator:R,basename:C}=w.useContext(cs),I=S!=null&&mk(x)&&d===!0,M=R.encodeLocation?R.encodeLocation(x).pathname:x.pathname,P=b.pathname,L=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(P=P.toLowerCase(),L=L?L.toLowerCase():null,M=M.toLowerCase()),L&&C&&(L=Ci(L,C)||L);const $=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let q=P===M||!a&&P.startsWith(M)&&P.charAt($)==="/",X=L!=null&&(L===M||!a&&L.startsWith(M)&&L.charAt(M.length)==="/"),N={isActive:q,isPending:X,isTransitioning:I},A=q?e:void 0,O;typeof s=="function"?O=s(N):O=[s,q?"active":null,X?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let U=typeof o=="function"?o(N):o;return w.createElement(ec,{...g,"aria-current":A,className:O,ref:v,style:U,to:u,viewTransition:d},typeof p=="function"?p(N):p)});ak.displayName="NavLink";var ok=w.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:o,method:u=Rh,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:x,...b},S)=>{let R=fk(),C=hk(d,{relative:g}),I=u.toLowerCase()==="get"?"get":"post",M=typeof d=="string"&&IS.test(d),P=L=>{if(p&&p(L),L.defaultPrevented)return;L.preventDefault();let $=L.nativeEvent.submitter,q=($==null?void 0:$.getAttribute("formmethod"))||u;R($||L.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:a,state:o,relative:g,preventScrollReset:v,viewTransition:x})};return w.createElement("form",{ref:S,method:I,action:C,onSubmit:s?p:P,...b,"data-discover":!M&&n==="render"?"true":void 0})});ok.displayName="Form";function lk(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kS(n){let e=w.useContext(xc);return Zt(e,lk(n)),e}function ck(n,{target:e,replace:t,state:s,preventScrollReset:a,relative:o,viewTransition:u}={}){let d=Cm(),p=Pi(),g=xd(n,{relative:o});return w.useCallback(v=>{if(zI(v,e)){v.preventDefault();let x=t!==void 0?t:id(p)===id(g);d(n,{replace:x,state:s,preventScrollReset:a,relative:o,viewTransition:u})}},[p,d,g,t,s,e,n,a,o,u])}var uk=0,dk=()=>`__${String(++uk)}__`;function fk(){let{router:n}=kS("useSubmit"),{basename:e}=w.useContext(cs),t=II();return w.useCallback(async(s,a={})=>{let{action:o,method:u,encType:d,formData:p,body:g}=qI(s,e);if(a.navigate===!1){let v=a.fetcherKey||dk();await n.fetch(v,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||u,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||u,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function hk(n,{relative:e}={}){let{basename:t}=w.useContext(cs),s=w.useContext(Gs);Zt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),o={...xd(n||".",{relative:e})},u=Pi();if(n==null){o.search=u.search;let d=new URLSearchParams(o.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(x=>x).forEach(x=>d.append("index",x));let v=d.toString();o.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ei([t,o.pathname])),id(o)}function mk(n,e={}){let t=w.useContext(wS);Zt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=kS("useViewTransitionState"),a=xd(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Ci(t.currentLocation.pathname,s)||t.currentLocation.pathname,u=Ci(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Hh(a.pathname,u)!=null||Hh(a.pathname,o)!=null}[...XI];var wd=yS();const pk=pS(wd);function jw(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function DS(...n){return e=>{let t=!1;const s=n.map(a=>{const o=jw(a,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let a=0;a<s.length;a++){const o=s[a];typeof o=="function"?o():jw(n[a],null)}}}}function cn(...n){return w.useCallback(DS(...n),n)}function ad(n){const e=gk(n),t=w.forwardRef((s,a)=>{const{children:o,...u}=s,d=w.Children.toArray(o),p=d.find(vk);if(p){const g=p.props.children,v=d.map(x=>x===p?w.Children.count(g)>1?w.Children.only(null):w.isValidElement(g)?g.props.children:null:x);return h.jsx(e,{...u,ref:a,children:w.isValidElement(g)?w.cloneElement(g,void 0,v):null})}return h.jsx(e,{...u,ref:a,children:o})});return t.displayName=`${n}.Slot`,t}var OS=ad("Slot");function gk(n){const e=w.forwardRef((t,s)=>{const{children:a,...o}=t;if(w.isValidElement(a)){const u=bk(a),d=_k(o,a.props);return a.type!==w.Fragment&&(d.ref=s?DS(s,u):u),w.cloneElement(a,d)}return w.Children.count(a)>1?w.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var yk=Symbol("radix.slottable");function vk(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===yk}function _k(n,e){const t={...e};for(const s in e){const a=n[s],o=e[s];/^on[A-Z]/.test(s)?a&&o?t[s]=(...d)=>{const p=o(...d);return a(...d),p}:a&&(t[s]=a):s==="style"?t[s]={...a,...o}:s==="className"&&(t[s]=[a,o].filter(Boolean).join(" "))}return{...n,...t}}function bk(n){var s,a;let e=(s=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function jS(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=jS(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function MS(){for(var n,e,t=0,s="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=jS(n))&&(s&&(s+=" "),s+=e);return s}const Mw=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Pw=MS,Hv=(n,e)=>t=>{var s;if((e==null?void 0:e.variants)==null)return Pw(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:a,defaultVariants:o}=e,u=Object.keys(a).map(g=>{const v=t==null?void 0:t[g],x=o==null?void 0:o[g];if(v===null)return null;const b=Mw(v)||Mw(x);return a[g][b]}),d=t&&Object.entries(t).reduce((g,v)=>{let[x,b]=v;return b===void 0||(g[x]=b),g},{}),p=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((g,v)=>{let{class:x,className:b,...S}=v;return Object.entries(S).every(R=>{let[C,I]=R;return Array.isArray(I)?I.includes({...o,...d}[C]):{...o,...d}[C]===I})?[...g,x,b]:g},[]);return Pw(n,u,p,t==null?void 0:t.class,t==null?void 0:t.className)},$v="-",xk=n=>{const e=Ek(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=n;return{getClassGroupId:u=>{const d=u.split($v);return d[0]===""&&d.length!==1&&d.shift(),PS(d,e)||wk(u)},getConflictingClassGroupIds:(u,d)=>{const p=t[u]||[];return d&&s[u]?[...p,...s[u]]:p}}},PS=(n,e)=>{var u;if(n.length===0)return e.classGroupId;const t=n[0],s=e.nextPart.get(t),a=s?PS(n.slice(1),s):void 0;if(a)return a;if(e.validators.length===0)return;const o=n.join($v);return(u=e.validators.find(({validator:d})=>d(o)))==null?void 0:u.classGroupId},Vw=/^\[(.+)\]$/,wk=n=>{if(Vw.test(n)){const e=Vw.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},Ek=n=>{const{theme:e,classGroups:t}=n,s={nextPart:new Map,validators:[]};for(const a in t)By(t[a],s,a,e);return s},By=(n,e,t,s)=>{n.forEach(a=>{if(typeof a=="string"){const o=a===""?e:Lw(e,a);o.classGroupId=t;return}if(typeof a=="function"){if(Tk(a)){By(a(s),e,t,s);return}e.validators.push({validator:a,classGroupId:t});return}Object.entries(a).forEach(([o,u])=>{By(u,Lw(e,o),t,s)})})},Lw=(n,e)=>{let t=n;return e.split($v).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},Tk=n=>n.isThemeGetter,Sk=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,s=new Map;const a=(o,u)=>{t.set(o,u),e++,e>n&&(e=0,s=t,t=new Map)};return{get(o){let u=t.get(o);if(u!==void 0)return u;if((u=s.get(o))!==void 0)return a(o,u),u},set(o,u){t.has(o)?t.set(o,u):a(o,u)}}},Fy="!",qy=":",Ak=qy.length,Ck=n=>{const{prefix:e,experimentalParseClassName:t}=n;let s=a=>{const o=[];let u=0,d=0,p=0,g;for(let R=0;R<a.length;R++){let C=a[R];if(u===0&&d===0){if(C===qy){o.push(a.slice(p,R)),p=R+Ak;continue}if(C==="/"){g=R;continue}}C==="["?u++:C==="]"?u--:C==="("?d++:C===")"&&d--}const v=o.length===0?a:a.substring(p),x=Rk(v),b=x!==v,S=g&&g>p?g-p:void 0;return{modifiers:o,hasImportantModifier:b,baseClassName:x,maybePostfixModifierPosition:S}};if(e){const a=e+qy,o=s;s=u=>u.startsWith(a)?o(u.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(t){const a=s;s=o=>t({className:o,parseClassName:a})}return s},Rk=n=>n.endsWith(Fy)?n.substring(0,n.length-1):n.startsWith(Fy)?n.substring(1):n,Nk=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const a=[];let o=[];return s.forEach(u=>{u[0]==="["||e[u]?(a.push(...o.sort(),u),o=[]):o.push(u)}),a.push(...o.sort()),a}},Ik=n=>({cache:Sk(n.cacheSize),parseClassName:Ck(n),sortModifiers:Nk(n),...xk(n)}),kk=/\s+/,Dk=(n,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:o}=e,u=[],d=n.trim().split(kk);let p="";for(let g=d.length-1;g>=0;g-=1){const v=d[g],{isExternal:x,modifiers:b,hasImportantModifier:S,baseClassName:R,maybePostfixModifierPosition:C}=t(v);if(x){p=v+(p.length>0?" "+p:p);continue}let I=!!C,M=s(I?R.substring(0,C):R);if(!M){if(!I){p=v+(p.length>0?" "+p:p);continue}if(M=s(R),!M){p=v+(p.length>0?" "+p:p);continue}I=!1}const P=o(b).join(":"),L=S?P+Fy:P,$=L+M;if(u.includes($))continue;u.push($);const q=a(M,I);for(let X=0;X<q.length;++X){const N=q[X];u.push(L+N)}p=v+(p.length>0?" "+p:p)}return p};function Ok(){let n=0,e,t,s="";for(;n<arguments.length;)(e=arguments[n++])&&(t=VS(e))&&(s&&(s+=" "),s+=t);return s}const VS=n=>{if(typeof n=="string")return n;let e,t="";for(let s=0;s<n.length;s++)n[s]&&(e=VS(n[s]))&&(t&&(t+=" "),t+=e);return t};function jk(n,...e){let t,s,a,o=u;function u(p){const g=e.reduce((v,x)=>x(v),n());return t=Ik(g),s=t.cache.get,a=t.cache.set,o=d,d(p)}function d(p){const g=s(p);if(g)return g;const v=Dk(p,t);return a(p,v),v}return function(){return o(Ok.apply(null,arguments))}}const In=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},LS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,US=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Mk=/^\d+\/\d+$/,Pk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Vk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Lk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Uk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vl=n=>Mk.test(n),ot=n=>!!n&&!Number.isNaN(Number(n)),pa=n=>!!n&&Number.isInteger(Number(n)),fy=n=>n.endsWith("%")&&ot(n.slice(0,-1)),bi=n=>Pk.test(n),Bk=()=>!0,Fk=n=>Vk.test(n)&&!Lk.test(n),zS=()=>!1,qk=n=>Uk.test(n),Hk=n=>zk.test(n),$k=n=>!Ne(n)&&!Ie(n),Gk=n=>Ec(n,qS,zS),Ne=n=>LS.test(n),Co=n=>Ec(n,HS,Fk),hy=n=>Ec(n,Xk,ot),Uw=n=>Ec(n,BS,zS),Yk=n=>Ec(n,FS,Hk),dh=n=>Ec(n,$S,qk),Ie=n=>US.test(n),qu=n=>Tc(n,HS),Kk=n=>Tc(n,Zk),zw=n=>Tc(n,BS),Wk=n=>Tc(n,qS),Qk=n=>Tc(n,FS),fh=n=>Tc(n,$S,!0),Ec=(n,e,t)=>{const s=LS.exec(n);return s?s[1]?e(s[1]):t(s[2]):!1},Tc=(n,e,t=!1)=>{const s=US.exec(n);return s?s[1]?e(s[1]):t:!1},BS=n=>n==="position"||n==="percentage",FS=n=>n==="image"||n==="url",qS=n=>n==="length"||n==="size"||n==="bg-size",HS=n=>n==="length",Xk=n=>n==="number",Zk=n=>n==="family-name",$S=n=>n==="shadow",Jk=()=>{const n=In("color"),e=In("font"),t=In("text"),s=In("font-weight"),a=In("tracking"),o=In("leading"),u=In("breakpoint"),d=In("container"),p=In("spacing"),g=In("radius"),v=In("shadow"),x=In("inset-shadow"),b=In("text-shadow"),S=In("drop-shadow"),R=In("blur"),C=In("perspective"),I=In("aspect"),M=In("ease"),P=In("animate"),L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],q=()=>[...$(),Ie,Ne],X=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],A=()=>[Ie,Ne,p],O=()=>[Vl,"full","auto",...A()],U=()=>[pa,"none","subgrid",Ie,Ne],D=()=>["auto",{span:["full",pa,Ie,Ne]},pa,Ie,Ne],z=()=>[pa,"auto",Ie,Ne],V=()=>["auto","min","max","fr",Ie,Ne],G=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ne=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...A()],Z=()=>[Vl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],K=()=>[n,Ie,Ne],ye=()=>[...$(),zw,Uw,{position:[Ie,Ne]}],B=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ae=()=>["auto","cover","contain",Wk,Gk,{size:[Ie,Ne]}],he=()=>[fy,qu,Co],le=()=>["","none","full",g,Ie,Ne],be=()=>["",ot,qu,Co],ze=()=>["solid","dashed","dotted","double"],De=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ge=()=>[ot,fy,zw,Uw],je=()=>["","none",R,Ie,Ne],ct=()=>["none",ot,Ie,Ne],We=()=>["none",ot,Ie,Ne],Qe=()=>[ot,Ie,Ne],Xe=()=>[Vl,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[bi],breakpoint:[bi],color:[Bk],container:[bi],"drop-shadow":[bi],ease:["in","out","in-out"],font:[$k],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[bi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[bi],shadow:[bi],spacing:["px",ot],text:[bi],"text-shadow":[bi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Vl,Ne,Ie,I]}],container:["container"],columns:[{columns:[ot,Ne,Ie,d]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:q()}],overflow:[{overflow:X()}],"overflow-x":[{"overflow-x":X()}],"overflow-y":[{"overflow-y":X()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[pa,"auto",Ie,Ne]}],basis:[{basis:[Vl,"full","auto",d,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ot,Vl,"auto","initial","none",Ne]}],grow:[{grow:["",ot,Ie,Ne]}],shrink:[{shrink:["",ot,Ie,Ne]}],order:[{order:[pa,"first","last","none",Ie,Ne]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...G(),"normal"]}],"justify-items":[{"justify-items":[...ne(),"normal"]}],"justify-self":[{"justify-self":["auto",...ne()]}],"align-content":[{content:["normal",...G()]}],"align-items":[{items:[...ne(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ne(),{baseline:["","last"]}]}],"place-content":[{"place-content":G()}],"place-items":[{"place-items":[...ne(),"baseline"]}],"place-self":[{"place-self":["auto",...ne()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[d,"screen",...Z()]}],"min-w":[{"min-w":[d,"screen","none",...Z()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",t,qu,Co]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ie,hy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",fy,Ne]}],"font-family":[{font:[Kk,Ne,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ie,Ne]}],"line-clamp":[{"line-clamp":[ot,"none",Ie,hy]}],leading:[{leading:[o,...A()]}],"list-image":[{"list-image":["none",Ie,Ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ie,Ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ze(),"wavy"]}],"text-decoration-thickness":[{decoration:[ot,"from-font","auto",Ie,Co]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[ot,"auto",Ie,Ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie,Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie,Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ye()}],"bg-repeat":[{bg:B()}],"bg-size":[{bg:ae()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},pa,Ie,Ne],radial:["",Ie,Ne],conic:[pa,Ie,Ne]},Qk,Yk]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:he()}],"gradient-via-pos":[{via:he()}],"gradient-to-pos":[{to:he()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:le()}],"rounded-s":[{"rounded-s":le()}],"rounded-e":[{"rounded-e":le()}],"rounded-t":[{"rounded-t":le()}],"rounded-r":[{"rounded-r":le()}],"rounded-b":[{"rounded-b":le()}],"rounded-l":[{"rounded-l":le()}],"rounded-ss":[{"rounded-ss":le()}],"rounded-se":[{"rounded-se":le()}],"rounded-ee":[{"rounded-ee":le()}],"rounded-es":[{"rounded-es":le()}],"rounded-tl":[{"rounded-tl":le()}],"rounded-tr":[{"rounded-tr":le()}],"rounded-br":[{"rounded-br":le()}],"rounded-bl":[{"rounded-bl":le()}],"border-w":[{border:be()}],"border-w-x":[{"border-x":be()}],"border-w-y":[{"border-y":be()}],"border-w-s":[{"border-s":be()}],"border-w-e":[{"border-e":be()}],"border-w-t":[{"border-t":be()}],"border-w-r":[{"border-r":be()}],"border-w-b":[{"border-b":be()}],"border-w-l":[{"border-l":be()}],"divide-x":[{"divide-x":be()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":be()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ze(),"hidden","none"]}],"divide-style":[{divide:[...ze(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...ze(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ot,Ie,Ne]}],"outline-w":[{outline:["",ot,qu,Co]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",v,fh,dh]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",x,fh,dh]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:be()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[ot,Co]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":be()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",b,fh,dh]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[ot,Ie,Ne]}],"mix-blend":[{"mix-blend":[...De(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":De()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ot]}],"mask-image-linear-from-pos":[{"mask-linear-from":ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":ge()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":ge()}],"mask-image-t-to-pos":[{"mask-t-to":ge()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":ge()}],"mask-image-r-to-pos":[{"mask-r-to":ge()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":ge()}],"mask-image-b-to-pos":[{"mask-b-to":ge()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":ge()}],"mask-image-l-to-pos":[{"mask-l-to":ge()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":ge()}],"mask-image-x-to-pos":[{"mask-x-to":ge()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":ge()}],"mask-image-y-to-pos":[{"mask-y-to":ge()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[Ie,Ne]}],"mask-image-radial-from-pos":[{"mask-radial-from":ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":ge()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":$()}],"mask-image-conic-pos":[{"mask-conic":[ot]}],"mask-image-conic-from-pos":[{"mask-conic-from":ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":ge()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ye()}],"mask-repeat":[{mask:B()}],"mask-size":[{mask:ae()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ie,Ne]}],filter:[{filter:["","none",Ie,Ne]}],blur:[{blur:je()}],brightness:[{brightness:[ot,Ie,Ne]}],contrast:[{contrast:[ot,Ie,Ne]}],"drop-shadow":[{"drop-shadow":["","none",S,fh,dh]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",ot,Ie,Ne]}],"hue-rotate":[{"hue-rotate":[ot,Ie,Ne]}],invert:[{invert:["",ot,Ie,Ne]}],saturate:[{saturate:[ot,Ie,Ne]}],sepia:[{sepia:["",ot,Ie,Ne]}],"backdrop-filter":[{"backdrop-filter":["","none",Ie,Ne]}],"backdrop-blur":[{"backdrop-blur":je()}],"backdrop-brightness":[{"backdrop-brightness":[ot,Ie,Ne]}],"backdrop-contrast":[{"backdrop-contrast":[ot,Ie,Ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ot,Ie,Ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ot,Ie,Ne]}],"backdrop-invert":[{"backdrop-invert":["",ot,Ie,Ne]}],"backdrop-opacity":[{"backdrop-opacity":[ot,Ie,Ne]}],"backdrop-saturate":[{"backdrop-saturate":[ot,Ie,Ne]}],"backdrop-sepia":[{"backdrop-sepia":["",ot,Ie,Ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ie,Ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ot,"initial",Ie,Ne]}],ease:[{ease:["linear","initial",M,Ie,Ne]}],delay:[{delay:[ot,Ie,Ne]}],animate:[{animate:["none",P,Ie,Ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,Ie,Ne]}],"perspective-origin":[{"perspective-origin":q()}],rotate:[{rotate:ct()}],"rotate-x":[{"rotate-x":ct()}],"rotate-y":[{"rotate-y":ct()}],"rotate-z":[{"rotate-z":ct()}],scale:[{scale:We()}],"scale-x":[{"scale-x":We()}],"scale-y":[{"scale-y":We()}],"scale-z":[{"scale-z":We()}],"scale-3d":["scale-3d"],skew:[{skew:Qe()}],"skew-x":[{"skew-x":Qe()}],"skew-y":[{"skew-y":Qe()}],transform:[{transform:[Ie,Ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:q()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Xe()}],"translate-x":[{"translate-x":Xe()}],"translate-y":[{"translate-y":Xe()}],"translate-z":[{"translate-z":Xe()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie,Ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie,Ne]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[ot,qu,Co,hy]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},eD=jk(Jk);function un(...n){return eD(MS(n))}const tD=Hv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Le({className:n,variant:e,size:t,asChild:s=!1,...a}){const o=s?OS:"button";return h.jsx(o,{"data-slot":"button",className:un(tD({variant:e,size:t,className:n})),...a})}function Tt({className:n,...e}){return h.jsx("div",{"data-slot":"card",className:un("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...e})}function kt({className:n,...e}){return h.jsx("div",{"data-slot":"card-header",className:un("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function Dt({className:n,...e}){return h.jsx("div",{"data-slot":"card-title",className:un("leading-none font-semibold",n),...e})}function on({className:n,...e}){return h.jsx("div",{"data-slot":"card-description",className:un("text-muted-foreground text-sm",n),...e})}function St({className:n,...e}){return h.jsx("div",{"data-slot":"card-content",className:un("px-6",n),...e})}const nD=Hv("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Nr({className:n,variant:e,asChild:t=!1,...s}){const a=t?OS:"span";return h.jsx(a,{"data-slot":"badge",className:un(nD({variant:e}),n),...s})}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sD=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),Bw=n=>{const e=sD(n);return e.charAt(0).toUpperCase()+e.slice(1)},GS=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),iD=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=w.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:u,...d},p)=>w.createElement("svg",{ref:p,...aD,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:GS("lucide",a),...!o&&!iD(d)&&{"aria-hidden":"true"},...d},[...u.map(([g,v])=>w.createElement(g,v)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=(n,e)=>{const t=w.forwardRef(({className:s,...a},o)=>w.createElement(oD,{ref:o,iconNode:e,className:GS(`lucide-${rD(Bw(n))}`,`lucide-${n}`,s),...a}));return t.displayName=Bw(n),t};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],$h=_t("book-open",lD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],YS=_t("bot",cD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],dD=_t("calendar",uD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],hD=_t("chart-pie",fD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Gv=_t("check",mD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],KS=_t("chevron-down",pD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],yD=_t("chevron-up",gD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Gh=_t("circle-alert",vD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Yl=_t("circle-check-big",_D);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Fw=_t("circle-x",bD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Hy=_t("clock",xD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]],ED=_t("cog",wD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],WS=_t("credit-card",TD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],AD=_t("crown",SD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],tc=_t("dollar-sign",CD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],$y=_t("eye-off",RD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gy=_t("eye",ND);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],kD=_t("house",ID);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],qw=_t("log-out",DD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],QS=_t("mail",OD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],MD=_t("menu",jD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],nc=_t("plus",PD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],LD=_t("refresh-cw",VD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Yv=_t("save",UD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],BD=_t("send",zD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],qD=_t("smartphone",FD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],rc=_t("square-pen",HD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],XS=_t("tag",$D);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],YD=_t("target",GD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],sc=_t("trash-2",KD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],QD=_t("trending-down",WD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],ZS=_t("upload",XD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],JS=_t("user-plus",ZD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],e1=_t("user",JD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],t1=_t("users",eO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ic=_t("x",tO),nO=()=>{};var Hw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},rO=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const a=n[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[s++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],u=n[t++],d=n[t++],p=((a&7)<<18|(o&63)<<12|(u&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const o=n[t++],u=n[t++];e[s++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},r1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,d=u?n[a+1]:0,p=a+2<n.length,g=p?n[a+2]:0,v=o>>2,x=(o&3)<<4|d>>4;let b=(d&15)<<2|g>>6,S=g&63;p||(S=64,u||(b=64)),s.push(t[v],t[x],t[b],t[S])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(n1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):rO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const x=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||d==null||g==null||x==null)throw new sO;const b=o<<2|d>>4;if(s.push(b),g!==64){const S=d<<4&240|g>>2;if(s.push(S),x!==64){const R=g<<6&192|x;s.push(R)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class sO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iO=function(n){const e=n1(n);return r1.encodeByteArray(e,!0)},Yh=function(n){return iO(n).replace(/\./g,"")},s1=function(n){try{return r1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=()=>aO().__FIREBASE_DEFAULTS__,lO=()=>{if(typeof process>"u"||typeof Hw>"u")return;const n=Hw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},cO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&s1(n[1]);return e&&JSON.parse(e)},Nm=()=>{try{return nO()||oO()||lO()||cO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},i1=n=>{var e,t;return(t=(e=Nm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},uO=n=>{const e=i1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},a1=()=>{var n;return(n=Nm())===null||n===void 0?void 0:n.config},o1=n=>{var e;return(e=Nm())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function l1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Yh(JSON.stringify(t)),Yh(JSON.stringify(u)),""].join(".")}const Ju={};function hO(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ju))Ju[e]?n.emulator.push(e):n.prod.push(e);return n}function mO(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let $w=!1;function c1(n,e){if(typeof window>"u"||typeof document>"u"||!Sc(window.location.host)||Ju[n]===e||Ju[n]||$w)return;Ju[n]=e;function t(b){return`__firebase__banner__${b}`}const s="__firebase__banner",o=hO().prod.length>0;function u(){const b=document.getElementById(s);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,S){b.setAttribute("width","24"),b.setAttribute("id",S),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{$w=!0,u()},b}function v(b,S){b.setAttribute("id",S),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function x(){const b=mO(s),S=t("text"),R=document.getElementById(S)||document.createElement("span"),C=t("learnmore"),I=document.getElementById(C)||document.createElement("a"),M=t("preprendIcon"),P=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const L=b.element;d(L),v(I,C);const $=g();p(P,M),L.append(P,R,I,$),document.body.appendChild(L)}o?(R.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rr())}function gO(){var n;const e=(n=Nm())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function _O(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bO(){const n=rr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function xO(){return!gO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wO(){try{return typeof indexedDB=="object"}catch{return!1}}function EO(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="FirebaseError";class Vi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=TO,Object.setPrototypeOf(this,Vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ed.prototype.create)}}class Ed{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?SO(o,s):"Error",d=`${this.serviceName}: ${u} (${a}).`;return new Vi(a,d,s)}}function SO(n,e){return n.replace(AO,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const AO=/\{\$([^}]+)}/g;function CO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function jo(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const o=n[a],u=e[a];if(Gw(o)&&Gw(u)){if(!jo(o,u))return!1}else if(o!==u)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function Gw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function $u(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,o]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Gu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function RO(n,e){const t=new NO(n,e);return t.subscribe.bind(t)}class NO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");IO(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=my),a.error===void 0&&(a.error=my),a.complete===void 0&&(a.complete=my);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IO(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function my(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(n){return n&&n._delegate?n._delegate:n}class Mo{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new dO;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OO(e))try{this.getOrInitializeService({instanceIdentifier:Io})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});s.resolve(o)}catch{}}}}clearInstance(e=Io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Io){return this.instances.has(e)}getOptions(e=Io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[o,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);s===d&&u.resolve(a)}return a}onInit(e,t){var s;const a=this.normalizeInstanceIdentifier(t),o=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:DO(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Io){return this.component?this.component.multipleInstances?e:Io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DO(n){return n===Io?void 0:n}function OO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new kO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(yt||(yt={}));const MO={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},PO=yt.INFO,VO={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},LO=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=VO[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kv{constructor(e){this.name=e,this._logLevel=PO,this._logHandler=LO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...e),this._logHandler(this,yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...e),this._logHandler(this,yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yt.INFO,...e),this._logHandler(this,yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yt.WARN,...e),this._logHandler(this,yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...e),this._logHandler(this,yt.ERROR,...e)}}const UO=(n,e)=>e.some(t=>n instanceof t);let Yw,Kw;function zO(){return Yw||(Yw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BO(){return Kw||(Kw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u1=new WeakMap,Yy=new WeakMap,d1=new WeakMap,py=new WeakMap,Wv=new WeakMap;function FO(n){const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Ra(n.result)),a()},u=()=>{s(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&u1.set(t,n)}).catch(()=>{}),Wv.set(e,n),e}function qO(n){if(Yy.has(n))return;const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),a()},u=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});Yy.set(n,e)}let Ky={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Yy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||d1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ra(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function HO(n){Ky=n(Ky)}function $O(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(gy(this),e,...t);return d1.set(s,e.sort?e.sort():[e]),Ra(s)}:BO().includes(n)?function(...e){return n.apply(gy(this),e),Ra(u1.get(this))}:function(...e){return Ra(n.apply(gy(this),e))}}function GO(n){return typeof n=="function"?$O(n):(n instanceof IDBTransaction&&qO(n),UO(n,zO())?new Proxy(n,Ky):n)}function Ra(n){if(n instanceof IDBRequest)return FO(n);if(py.has(n))return py.get(n);const e=GO(n);return e!==n&&(py.set(n,e),Wv.set(e,n)),e}const gy=n=>Wv.get(n);function YO(n,e,{blocked:t,upgrade:s,blocking:a,terminated:o}={}){const u=indexedDB.open(n,e),d=Ra(u);return s&&u.addEventListener("upgradeneeded",p=>{s(Ra(u.result),p.oldVersion,p.newVersion,Ra(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{o&&p.addEventListener("close",()=>o()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const KO=["get","getKey","getAll","getAllKeys","count"],WO=["put","add","delete","clear"],yy=new Map;function Ww(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(yy.get(e))return yy.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=WO.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||KO.includes(t)))return;const o=async function(u,...d){const p=this.transaction(u,a?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&p.done]))[0]};return yy.set(e,o),o}HO(n=>({...n,get:(e,t,s)=>Ww(e,t)||n.get(e,t,s),has:(e,t)=>!!Ww(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(XO(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function XO(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wy="@firebase/app",Qw="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=new Kv("@firebase/app"),ZO="@firebase/app-compat",JO="@firebase/analytics-compat",e3="@firebase/analytics",t3="@firebase/app-check-compat",n3="@firebase/app-check",r3="@firebase/auth",s3="@firebase/auth-compat",i3="@firebase/database",a3="@firebase/data-connect",o3="@firebase/database-compat",l3="@firebase/functions",c3="@firebase/functions-compat",u3="@firebase/installations",d3="@firebase/installations-compat",f3="@firebase/messaging",h3="@firebase/messaging-compat",m3="@firebase/performance",p3="@firebase/performance-compat",g3="@firebase/remote-config",y3="@firebase/remote-config-compat",v3="@firebase/storage",_3="@firebase/storage-compat",b3="@firebase/firestore",x3="@firebase/ai",w3="@firebase/firestore-compat",E3="firebase",T3="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="[DEFAULT]",S3={[Wy]:"fire-core",[ZO]:"fire-core-compat",[e3]:"fire-analytics",[JO]:"fire-analytics-compat",[n3]:"fire-app-check",[t3]:"fire-app-check-compat",[r3]:"fire-auth",[s3]:"fire-auth-compat",[i3]:"fire-rtdb",[a3]:"fire-data-connect",[o3]:"fire-rtdb-compat",[l3]:"fire-fn",[c3]:"fire-fn-compat",[u3]:"fire-iid",[d3]:"fire-iid-compat",[f3]:"fire-fcm",[h3]:"fire-fcm-compat",[m3]:"fire-perf",[p3]:"fire-perf-compat",[g3]:"fire-rc",[y3]:"fire-rc-compat",[v3]:"fire-gcs",[_3]:"fire-gcs-compat",[b3]:"fire-fst",[w3]:"fire-fst-compat",[x3]:"fire-vertex","fire-js":"fire-js",[E3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh=new Map,A3=new Map,Xy=new Map;function Xw(n,e){try{n.container.addComponent(e)}catch(t){Ri.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ac(n){const e=n.name;if(Xy.has(e))return Ri.debug(`There were multiple attempts to register component ${e}.`),!1;Xy.set(e,n);for(const t of Kh.values())Xw(t,n);for(const t of A3.values())Xw(t,n);return!0}function Qv(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function $r(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Na=new Ed("app","Firebase",C3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=T3;function f1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Qy,automaticDataCollectionEnabled:!0},e),a=s.name;if(typeof a!="string"||!a)throw Na.create("bad-app-name",{appName:String(a)});if(t||(t=a1()),!t)throw Na.create("no-options");const o=Kh.get(a);if(o){if(jo(t,o.options)&&jo(s,o.config))return o;throw Na.create("duplicate-app",{appName:a})}const u=new jO(a);for(const p of Xy.values())u.addComponent(p);const d=new R3(t,s,u);return Kh.set(a,d),d}function h1(n=Qy){const e=Kh.get(n);if(!e&&n===Qy&&a1())return f1();if(!e)throw Na.create("no-app",{appName:n});return e}function Ia(n,e,t){var s;let a=(s=S3[n])!==null&&s!==void 0?s:n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ri.warn(d.join(" "));return}ac(new Mo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3="firebase-heartbeat-database",I3=1,od="firebase-heartbeat-store";let vy=null;function m1(){return vy||(vy=YO(N3,I3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(od)}catch(t){console.warn(t)}}}}).catch(n=>{throw Na.create("idb-open",{originalErrorMessage:n.message})})),vy}async function k3(n){try{const t=(await m1()).transaction(od),s=await t.objectStore(od).get(p1(n));return await t.done,s}catch(e){if(e instanceof Vi)Ri.warn(e.message);else{const t=Na.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ri.warn(t.message)}}}async function Zw(n,e){try{const s=(await m1()).transaction(od,"readwrite");await s.objectStore(od).put(e,p1(n)),await s.done}catch(t){if(t instanceof Vi)Ri.warn(t.message);else{const s=Na.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ri.warn(s.message)}}}function p1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=1024,O3=30;class j3{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new P3(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Jw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>O3){const u=V3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ri.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Jw(),{heartbeatsToSend:s,unsentEntries:a}=M3(this._heartbeatsCache.heartbeats),o=Yh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ri.warn(t),""}}}function Jw(){return new Date().toISOString().substring(0,10)}function M3(n,e=D3){const t=[];let s=n.slice();for(const a of n){const o=t.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),eE(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),eE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class P3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wO()?EO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await k3(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Zw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Zw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function eE(n){return Yh(JSON.stringify({version:2,heartbeats:n})).length}function V3(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(n){ac(new Mo("platform-logger",e=>new QO(e),"PRIVATE")),ac(new Mo("heartbeat",e=>new j3(e),"PRIVATE")),Ia(Wy,Qw,n),Ia(Wy,Qw,"esm2017"),Ia("fire-js","")}L3("");var Rs=function(){return Rs=Object.assign||function(e){for(var t,s=1,a=arguments.length;s<a;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Rs.apply(this,arguments)};function Sd(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(t[s[a]]=n[s[a]]);return t}function U3(n,e,t){if(t||arguments.length===2)for(var s=0,a=e.length,o;s<a;s++)(o||!(s in e))&&(o||(o=Array.prototype.slice.call(e,0,s)),o[s]=e[s]);return n.concat(o||Array.prototype.slice.call(e))}function g1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const z3=g1,y1=new Ed("auth","Firebase",g1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=new Kv("@firebase/auth");function B3(n,...e){Wh.logLevel<=yt.WARN&&Wh.warn(`Auth (${Ac}): ${n}`,...e)}function Ih(n,...e){Wh.logLevel<=yt.ERROR&&Wh.error(`Auth (${Ac}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(n,...e){throw Xv(n,...e)}function js(n,...e){return Xv(n,...e)}function v1(n,e,t){const s=Object.assign(Object.assign({},z3()),{[e]:t});return new Ed("auth","Firebase",s).create(e,{appName:n.name})}function Ti(n){return v1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xv(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return y1.create(n,...e)}function He(n,e,...t){if(!n)throw Xv(e,...t)}function xi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ih(e),new Error(e)}function Ni(n,e){n||xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function F3(){return tE()==="http:"||tE()==="https:"}function tE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(F3()||vO()||"connection"in navigator)?navigator.onLine:!0}function H3(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ni(t>e,"Short delay should be less than long delay!"),this.isMobile=pO()||_O()}get(){return q3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(n,e){Ni(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Y3=new Ad(3e4,6e4);function Ga(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Li(n,e,t,s,a={}){return b1(n,a,async()=>{let o={},u={};s&&(e==="GET"?u=s:o={body:JSON.stringify(s)});const d=Td(Object.assign({key:n.config.apiKey},u)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:p},o);return yO()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Sc(n.emulatorConfig.host)&&(g.credentials="include"),_1.fetch()(await x1(n,n.config.apiHost,t,d),g)})}async function b1(n,e,t){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},$3),e);try{const a=new W3(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw hh(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const d=o.ok?u.errorMessage:u.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw hh(n,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw hh(n,"email-already-in-use",u);if(p==="USER_DISABLED")throw hh(n,"user-disabled",u);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw v1(n,v,g);is(n,v)}}catch(a){if(a instanceof Vi)throw a;is(n,"network-request-failed",{message:String(a)})}}async function Cd(n,e,t,s,a={}){const o=await Li(n,e,t,s,a);return"mfaPendingCredential"in o&&is(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function x1(n,e,t,s){const a=`${e}${t}?${s}`,o=n,u=o.config.emulator?Zv(n.config,a):`${n.config.apiScheme}://${a}`;return G3.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function K3(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class W3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(js(this.auth,"network-request-failed")),Y3.get())})}}function hh(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=js(n,e,s);return a.customData._tokenResponse=t,a}function nE(n){return n!==void 0&&n.enterprise!==void 0}class Q3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return K3(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function X3(n,e){return Li(n,"GET","/v2/recaptchaConfig",Ga(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z3(n,e){return Li(n,"POST","/v1/accounts:delete",e)}async function Qh(n,e){return Li(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function J3(n,e=!1){const t=dn(n),s=await t.getIdToken(e),a=Jv(s);He(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:a,token:s,authTime:ed(_y(a.auth_time)),issuedAtTime:ed(_y(a.iat)),expirationTime:ed(_y(a.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function _y(n){return Number(n)*1e3}function Jv(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Ih("JWT malformed, contained fewer than 3 sections"),null;try{const a=s1(t);return a?JSON.parse(a):(Ih("Failed to decode base64 JWT payload"),null)}catch(a){return Ih("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function rE(n){const e=Jv(n);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Vi&&ej(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function ej({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ed(this.lastLoginAt),this.creationTime=ed(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(n){var e;const t=n.auth,s=await n.getIdToken(),a=await oc(n,Qh(t,{idToken:s}));He(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?w1(o.providerUserInfo):[],d=rj(n.providerData,u),p=n.isAnonymous,g=!(n.email&&o.passwordHash)&&!(d!=null&&d.length),v=p?g:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Jy(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(n,x)}async function nj(n){const e=dn(n);await Xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rj(n,e){return[...n.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function w1(n){return n.map(e=>{var{providerId:t}=e,s=Sd(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sj(n,e){const t=await b1(n,{},async()=>{const s=Td({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,u=await x1(n,a,"/v1/token",`key=${o}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return n.emulatorConfig&&Sc(n.emulatorConfig.host)&&(p.credentials="include"),_1.fetch()(u,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function ij(n,e){return Li(n,"POST","/v2/accounts:revokeToken",Ga(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){He(e.length!==0,"internal-error");const t=rE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:o}=await sj(e,t);this.updateTokensAndExpiration(s,a,Number(o))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:o}=t,u=new Kl;return s&&(He(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(He(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(He(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Kl,this.toJSON())}_performRefresh(){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(n,e){He(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ns{constructor(e){var{uid:t,auth:s,stsTokenManager:a}=e,o=Sd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await oc(this,this.stsTokenManager.getToken(this.auth,e));return He(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return J3(this,e)}reload(){return nj(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ns(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Xh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($r(this.auth.app))return Promise.reject(Ti(this.auth));const e=await this.getIdToken();return await oc(this,Z3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,a,o,u,d,p,g,v;const x=(s=t.displayName)!==null&&s!==void 0?s:void 0,b=(a=t.email)!==null&&a!==void 0?a:void 0,S=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,R=(u=t.photoURL)!==null&&u!==void 0?u:void 0,C=(d=t.tenantId)!==null&&d!==void 0?d:void 0,I=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,M=(g=t.createdAt)!==null&&g!==void 0?g:void 0,P=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:L,emailVerified:$,isAnonymous:q,providerData:X,stsTokenManager:N}=t;He(L&&N,e,"internal-error");const A=Kl.fromJSON(this.name,N);He(typeof L=="string",e,"internal-error"),ga(x,e.name),ga(b,e.name),He(typeof $=="boolean",e,"internal-error"),He(typeof q=="boolean",e,"internal-error"),ga(S,e.name),ga(R,e.name),ga(C,e.name),ga(I,e.name),ga(M,e.name),ga(P,e.name);const O=new ns({uid:L,auth:e,email:b,emailVerified:$,displayName:x,isAnonymous:q,photoURL:R,phoneNumber:S,tenantId:C,stsTokenManager:A,createdAt:M,lastLoginAt:P});return X&&Array.isArray(X)&&(O.providerData=X.map(U=>Object.assign({},U))),I&&(O._redirectEventId=I),O}static async _fromIdTokenResponse(e,t,s=!1){const a=new Kl;a.updateFromServerResponse(t);const o=new ns({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Xh(o),o}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];He(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?w1(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),d=new Kl;d.updateFromIdToken(s);const p=new ns({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:u}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Jy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;function wi(n){Ni(n instanceof Function,"Expected a class definition");let e=sE.get(n);return e?(Ni(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,sE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}E1.type="NONE";const iE=E1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(n,e,t){return`firebase:${n}:${e}:${t}`}class Wl{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:o}=this.auth;this.fullUserKey=kh(this.userKey,a.apiKey,o),this.fullPersistenceKey=kh("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Qh(this.auth,{idToken:e}).catch(()=>{});return t?ns._fromGetAccountInfoResponse(this.auth,t,e):null}return ns._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Wl(wi(iE),e,s);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=a[0]||wi(iE);const u=kh(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(u);if(v){let x;if(typeof v=="string"){const b=await Qh(e,{idToken:v}).catch(()=>{});if(!b)break;x=await ns._fromGetAccountInfoResponse(e,b,v)}else x=ns._fromJSON(e,v);g!==o&&(d=x),o=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!p.length?new Wl(o,e,s):(o=p[0],d&&await o._set(u,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==o)try{await g._remove(u)}catch{}})),new Wl(o,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(C1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(T1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(N1(e))return"Blackberry";if(I1(e))return"Webos";if(S1(e))return"Safari";if((e.includes("chrome/")||A1(e))&&!e.includes("edge/"))return"Chrome";if(R1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function T1(n=rr()){return/firefox\//i.test(n)}function S1(n=rr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function A1(n=rr()){return/crios\//i.test(n)}function C1(n=rr()){return/iemobile/i.test(n)}function R1(n=rr()){return/android/i.test(n)}function N1(n=rr()){return/blackberry/i.test(n)}function I1(n=rr()){return/webos/i.test(n)}function e0(n=rr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function aj(n=rr()){var e;return e0(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oj(){return bO()&&document.documentMode===10}function k1(n=rr()){return e0(n)||R1(n)||I1(n)||N1(n)||/windows phone/i.test(n)||C1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(n,e=[]){let t;switch(n){case"Browser":t=aE(rr());break;case"Worker":t=`${aE(rr())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ac}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=o=>new Promise((u,d)=>{try{const p=e(o);u(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cj(n,e={}){return Li(n,"GET","/v2/passwordPolicy",Ga(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=6;class dj{constructor(e){var t,s,a,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:uj,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,a,o,u,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsUppercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsNumericCharacter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oE(this),this.idTokenSubscription=new oE(this),this.beforeStateQueue=new lj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=y1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=wi(t)),this._initializationPromise=this.queue(async()=>{var s,a,o;if(!this._deleted&&(this.persistenceManager=await Wl.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Qh(this,{idToken:e}),s=await ns._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if($r(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===d)&&(p!=null&&p.user)&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Xh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=H3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($r(this.app))return Promise.reject(Ti(this));const t=e?dn(e):null;return t&&He(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $r(this.app)?Promise.reject(Ti(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $r(this.app)?Promise.reject(Ti(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cj(this),t=new dj(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ed("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await ij(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&wi(e)||this._popupRedirectResolver;He(t,this,"argument-error"),this.redirectPersistenceManager=await Wl.create(this,[wi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(d,this,"internal-error"),d.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,a);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=D1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if($r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&B3(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function $o(n){return dn(n)}class oE{constructor(e){this.auth=e,this.observer=null,this.addObserver=RO(t=>this.observer=t)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Im={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hj(n){Im=n}function O1(n){return Im.loadJS(n)}function mj(){return Im.recaptchaEnterpriseScript}function pj(){return Im.gapiScript}function gj(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class yj{constructor(){this.enterprise=new vj}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class vj{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const _j="recaptcha-enterprise",j1="NO_RECAPTCHA";class bj{constructor(e){this.type=_j,this.auth=$o(e)}async verify(e="verify",t=!1){async function s(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,d)=>{X3(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new Q3(p);return o.tenantId==null?o._agentRecaptchaConfig=g:o._tenantRecaptchaConfigs[o.tenantId]=g,u(g.siteKey)}}).catch(p=>{d(p)})})}function a(o,u,d){const p=window.grecaptcha;nE(p)?p.enterprise.ready(()=>{p.enterprise.execute(o,{action:e}).then(g=>{u(g)}).catch(()=>{u(j1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yj().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{s(this.auth).then(d=>{if(!t&&nE(window.grecaptcha))a(d,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=mj();p.length!==0&&(p+=d),O1(p).then(()=>{a(d,o,u)}).catch(g=>{u(g)})}}).catch(d=>{u(d)})})}}async function lE(n,e,t,s=!1,a=!1){const o=new bj(n);let u;if(a)u=j1;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function ev(n,e,t,s,a){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await lE(n,e,t,t==="getOobCode");return s(n,u)}else return s(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await lE(n,e,t,t==="getOobCode");return s(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(n,e){const t=Qv(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(jo(o,e??{}))return a;is(a,"already-initialized")}return t.initialize({options:e})}function wj(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(wi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Ej(n,e,t){const s=$o(n);He(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,o=M1(e),{host:u,port:d}=Tj(e),p=d===null?"":`:${d}`,g={url:`${o}//${u}${p}/`},v=Object.freeze({host:u,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){He(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),He(jo(g,s.config.emulator)&&jo(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Sc(u)?(l1(`${o}//${u}${p}`),c1("Auth",!0)):Sj()}function M1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Tj(n){const e=M1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const o=a[1];return{host:o,port:cE(s.substr(o.length+1))}}else{const[o,u]=s.split(":");return{host:o,port:cE(u)}}}function cE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Sj(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xi("not implemented")}_getIdTokenResponse(e){return xi("not implemented")}_linkToIdToken(e,t){return xi("not implemented")}_getReauthenticationResolver(e){return xi("not implemented")}}async function Aj(n,e){return Li(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cj(n,e){return Cd(n,"POST","/v1/accounts:signInWithPassword",Ga(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rj(n,e){return Cd(n,"POST","/v1/accounts:signInWithEmailLink",Ga(n,e))}async function Nj(n,e){return Cd(n,"POST","/v1/accounts:signInWithEmailLink",Ga(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld extends t0{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new ld(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new ld(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ev(e,t,"signInWithPassword",Cj);case"emailLink":return Rj(e,{email:this._email,oobCode:this._password});default:is(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ev(e,s,"signUpPassword",Aj);case"emailLink":return Nj(e,{idToken:t,email:this._email,oobCode:this._password});default:is(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(n,e){return Cd(n,"POST","/v1/accounts:signInWithIdp",Ga(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij="http://localhost";class Po extends t0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Po(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):is("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=t,o=Sd(t,["providerId","signInMethod"]);if(!s||!a)return null;const u=new Po(s,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ql(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Ql(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ql(e,t)}buildRequest(){const e={requestUri:Ij,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Td(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Dj(n){const e=$u(Gu(n)).link,t=e?$u(Gu(e)).deep_link_id:null,s=$u(Gu(n)).deep_link_id;return(s?$u(Gu(s)).link:null)||s||t||e||n}class n0{constructor(e){var t,s,a,o,u,d;const p=$u(Gu(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(s=p.oobCode)!==null&&s!==void 0?s:null,x=kj((a=p.mode)!==null&&a!==void 0?a:null);He(g&&v&&x,"argument-error"),this.apiKey=g,this.operation=x,this.code=v,this.continueUrl=(o=p.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=p.lang)!==null&&u!==void 0?u:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=Dj(e);try{return new n0(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(){this.providerId=Cc.PROVIDER_ID}static credential(e,t){return ld._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=n0.parseLink(t);return He(s,"argument-error"),ld._fromEmailAndCode(e,s.code,s.tenantId)}}Cc.PROVIDER_ID="password";Cc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd extends P1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends Rd{constructor(){super("facebook.com")}static credential(e){return Po._fromParams({providerId:xa.PROVIDER_ID,signInMethod:xa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xa.credentialFromTaggedObject(e)}static credentialFromError(e){return xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xa.credential(e.oauthAccessToken)}catch{return null}}}xa.FACEBOOK_SIGN_IN_METHOD="facebook.com";xa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends Rd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Po._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return wa.credential(t,s)}catch{return null}}}wa.GOOGLE_SIGN_IN_METHOD="google.com";wa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends Rd{constructor(){super("github.com")}static credential(e){return Po._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ea.credentialFromTaggedObject(e)}static credentialFromError(e){return Ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ea.credential(e.oauthAccessToken)}catch{return null}}}Ea.GITHUB_SIGN_IN_METHOD="github.com";Ea.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends Rd{constructor(){super("twitter.com")}static credential(e,t){return Po._fromParams({providerId:Ta.PROVIDER_ID,signInMethod:Ta.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ta.credentialFromTaggedObject(e)}static credentialFromError(e){return Ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Ta.credential(t,s)}catch{return null}}}Ta.TWITTER_SIGN_IN_METHOD="twitter.com";Ta.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oj(n,e){return Cd(n,"POST","/v1/accounts:signUp",Ga(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const o=await ns._fromIdTokenResponse(e,s,a),u=uE(s);return new Vo({user:o,providerId:u,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=uE(s);return new Vo({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function uE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh extends Vi{constructor(e,t,s,a){var o;super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Zh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new Zh(e,t,s,a)}}function V1(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Zh._fromErrorAndOperation(n,o,e,s):o})}async function jj(n,e,t=!1){const s=await oc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Vo._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mj(n,e,t=!1){const{auth:s}=n;if($r(s.app))return Promise.reject(Ti(s));const a="reauthenticate";try{const o=await oc(n,V1(s,a,e,n),t);He(o.idToken,s,"internal-error");const u=Jv(o.idToken);He(u,s,"internal-error");const{sub:d}=u;return He(n.uid===d,s,"user-mismatch"),Vo._forOperation(n,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&is(s,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L1(n,e,t=!1){if($r(n.app))return Promise.reject(Ti(n));const s="signIn",a=await V1(n,s,e),o=await Vo._fromIdTokenResponse(n,s,a);return t||await n._updateCurrentUser(o.user),o}async function Pj(n,e){return L1($o(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U1(n){const e=$o(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Vj(n,e,t){if($r(n.app))return Promise.reject(Ti(n));const s=$o(n),u=await ev(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Oj).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&U1(n),p}),d=await Vo._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(d.user),d}function Lj(n,e,t){return $r(n.app)?Promise.reject(Ti(n)):Pj(dn(n),Cc.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&U1(n),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uj(n,e){return Li(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z1(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=dn(n),o={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await oc(s,Uj(s.auth,o));s.displayName=u.displayName||null,s.photoURL=u.photoUrl||null;const d=s.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=s.displayName,d.photoURL=s.photoURL),await s._updateTokensIfNecessary(u)}function zj(n,e,t,s){return dn(n).onIdTokenChanged(e,t,s)}function Bj(n,e,t){return dn(n).beforeAuthStateChanged(e,t)}function Fj(n,e,t,s){return dn(n).onAuthStateChanged(e,t,s)}function qj(n){return dn(n).signOut()}const Jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Jh,"1"),this.storage.removeItem(Jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=1e3,$j=10;class F1 extends B1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=k1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,p)=>{this.notifyListeners(u,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!t&&this.localCache[s]===u||this.notifyListeners(s,u)},o=this.storage.getItem(s);oj()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,$j):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},Hj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}F1.type="LOCAL";const Gj=F1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1 extends B1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}q1.type="SESSION";const H1=q1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new km(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:o}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(u).map(async g=>g(t.origin,o)),p=await Yj(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}km.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((d,p)=>{const g=r0("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(x){const b=x;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(b.data.response);break;default:clearTimeout(v),clearTimeout(o),p(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(){return window}function Wj(n){Ms().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(){return typeof Ms().WorkerGlobalScope<"u"&&typeof Ms().importScripts=="function"}async function Qj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Xj(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Zj(){return $1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="firebaseLocalStorageDb",Jj=1,em="firebaseLocalStorage",Y1="fbase_key";class Nd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Dm(n,e){return n.transaction([em],e?"readwrite":"readonly").objectStore(em)}function e4(){const n=indexedDB.deleteDatabase(G1);return new Nd(n).toPromise()}function tv(){const n=indexedDB.open(G1,Jj);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(em,{keyPath:Y1})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(em)?e(s):(s.close(),await e4(),e(await tv()))})})}async function dE(n,e,t){const s=Dm(n,!0).put({[Y1]:e,value:t});return new Nd(s).toPromise()}async function t4(n,e){const t=Dm(n,!1).get(e),s=await new Nd(t).toPromise();return s===void 0?null:s.value}function fE(n,e){const t=Dm(n,!0).delete(e);return new Nd(t).toPromise()}const n4=800,r4=3;class K1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>r4)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=km._getInstance(Zj()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Qj(),!this.activeServiceWorker)return;this.sender=new Kj(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Xj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tv();return await dE(e,Jh,"1"),await fE(e,Jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>dE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>t4(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>fE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Dm(a,!1).getAll();return new Nd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}K1.type="LOCAL";const s4=K1;new Ad(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(n,e){return e?wi(e):(He(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0 extends t0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ql(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ql(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ql(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function a4(n){return L1(n.auth,new s0(n),n.bypassAuthState)}function o4(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),Mj(t,new s0(n),n.bypassAuthState)}async function l4(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),jj(t,new s0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,t,s,a,o=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:o,error:u,type:d}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return a4;case"linkViaPopup":case"linkViaRedirect":return l4;case"reauthViaPopup":case"reauthViaRedirect":return o4;default:is(this.auth,"internal-error")}}resolve(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=new Ad(2e3,1e4);class Gl extends W1{constructor(e,t,s,a,o){super(e,t,a,o),this.provider=s,this.authWindow=null,this.pollId=null,Gl.currentPopupAction&&Gl.currentPopupAction.cancel(),Gl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Ni(this.filter.length===1,"Popup operations only handle one event");const e=r0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(js(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(js(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(js(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,c4.get())};e()}}Gl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4="pendingRedirect",Dh=new Map;class d4 extends W1{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Dh.get(this.auth._key());if(!e){try{const s=await f4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Dh.set(this.auth._key(),e)}return this.bypassAuthState||Dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function f4(n,e){const t=p4(e),s=m4(n);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function h4(n,e){Dh.set(n._key(),e)}function m4(n){return wi(n._redirectPersistence)}function p4(n){return kh(u4,n.config.apiKey,n.name)}async function g4(n,e,t=!1){if($r(n.app))return Promise.reject(Ti(n));const s=$o(n),a=i4(s,e),u=await new d4(s,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=10*60*1e3;class v4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!Q1(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(js(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=y4&&this.cachedEventUids.clear(),this.cachedEventUids.has(hE(e))}saveEventToCache(e){this.cachedEventUids.add(hE(e)),this.lastProcessedEventTime=Date.now()}}function hE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Q1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Q1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4(n,e={}){return Li(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,w4=/^https?/;async function E4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await b4(n);for(const t of e)try{if(T4(t))return}catch{}is(n,"unauthorized-domain")}function T4(n){const e=Zy(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===s}if(!w4.test(t))return!1;if(x4.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=new Ad(3e4,6e4);function mE(){const n=Ms().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function A4(n){return new Promise((e,t)=>{var s,a,o;function u(){mE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mE(),t(js(n,"network-request-failed"))},timeout:S4.get()})}if(!((a=(s=Ms().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=Ms().gapi)===null||o===void 0)&&o.load)u();else{const d=gj("iframefcb");return Ms()[d]=()=>{gapi.load?u():t(js(n,"network-request-failed"))},O1(`${pj()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Oh=null,e})}let Oh=null;function C4(n){return Oh=Oh||A4(n),Oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=new Ad(5e3,15e3),N4="__/auth/iframe",I4="emulator/auth/iframe",k4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},D4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O4(n){const e=n.config;He(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Zv(e,I4):`https://${n.config.authDomain}/${N4}`,s={apiKey:e.apiKey,appName:n.name,v:Ac},a=D4.get(n.config.apiHost);a&&(s.eid=a);const o=n._getFrameworks();return o.length&&(s.fw=o.join(",")),`${t}?${Td(s).slice(1)}`}async function j4(n){const e=await C4(n),t=Ms().gapi;return He(t,n,"internal-error"),e.open({where:document.body,url:O4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:k4,dontclear:!0},s=>new Promise(async(a,o)=>{await s.restyle({setHideOnLeave:!1});const u=js(n,"network-request-failed"),d=Ms().setTimeout(()=>{o(u)},R4.get());function p(){Ms().clearTimeout(d),a(s)}s.ping(p).then(p,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},P4=500,V4=600,L4="_blank",U4="http://localhost";class pE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z4(n,e,t,s=P4,a=V4){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},M4),{width:s.toString(),height:a.toString(),top:o,left:u}),g=rr().toLowerCase();t&&(d=A1(g)?L4:t),T1(g)&&(e=e||U4,p.scrollbars="yes");const v=Object.entries(p).reduce((b,[S,R])=>`${b}${S}=${R},`,"");if(aj(g)&&d!=="_self")return B4(e||"",d),new pE(null);const x=window.open(e||"",d,v);He(x,n,"popup-blocked");try{x.focus()}catch{}return new pE(x)}function B4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4="__/auth/handler",q4="emulator/auth/handler",H4=encodeURIComponent("fac");async function gE(n,e,t,s,a,o){He(n.config.authDomain,n,"auth-domain-config-required"),He(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Ac,eventId:a};if(e instanceof P1){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",CO(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,x]of Object.entries({}))u[v]=x}if(e instanceof Rd){const v=e.getScopes().filter(x=>x!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),g=p?`#${H4}=${encodeURIComponent(p)}`:"";return`${$4(n)}?${Td(d).slice(1)}${g}`}function $4({config:n}){return n.emulator?Zv(n,q4):`https://${n.authDomain}/${F4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="webStorageSupport";class G4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=H1,this._completeRedirectFn=g4,this._overrideRedirectResult=h4}async _openPopup(e,t,s,a){var o;Ni((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await gE(e,t,s,Zy(),a);return z4(e,u,r0())}async _openRedirect(e,t,s,a){await this._originValidation(e);const o=await gE(e,t,s,Zy(),a);return Wj(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Ni(o,"If manager is not set, promise should be"),o)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await j4(e),s=new v4(e);return t.register("authEvent",a=>(He(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(by,{type:by},a=>{var o;const u=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[by];u!==void 0&&t(!!u),is(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=E4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return k1()||S1()||e0()}}const Y4=G4;var yE="@firebase/auth",vE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Q4(n){ac(new Mo("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=s.options;He(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:D1(n)},g=new fj(s,a,o,p);return wj(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ac(new Mo("auth-internal",e=>{const t=$o(e.getProvider("auth").getImmediate());return(s=>new K4(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ia(yE,vE,W4(n)),Ia(yE,vE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=5*60,Z4=o1("authIdTokenMaxAge")||X4;let _E=null;const J4=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>Z4)return;const a=t==null?void 0:t.token;_E!==a&&(_E=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function e6(n=h1()){const e=Qv(n,"auth");if(e.isInitialized())return e.getImmediate();const t=xj(n,{popupRedirectResolver:Y4,persistence:[s4,Gj,H1]}),s=o1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(s,location.origin);if(location.origin===o.origin){const u=J4(o.toString());Bj(t,u,()=>u(t.currentUser)),zj(t,d=>u(d))}}const a=i1("auth");return a&&Ej(t,`http://${a}`),t}function t6(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}hj({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=a=>{const o=js("internal-error");o.customData=a,t(o)},s.type="text/javascript",s.charset="UTF-8",t6().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Q4("Browser");var bE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ka,X1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function O(){}O.prototype=A.prototype,N.D=A.prototype,N.prototype=new O,N.prototype.constructor=N,N.C=function(U,D,z){for(var V=Array(arguments.length-2),G=2;G<arguments.length;G++)V[G-2]=arguments[G];return A.prototype[D].apply(U,V)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,A,O){O||(O=0);var U=Array(16);if(typeof A=="string")for(var D=0;16>D;++D)U[D]=A.charCodeAt(O++)|A.charCodeAt(O++)<<8|A.charCodeAt(O++)<<16|A.charCodeAt(O++)<<24;else for(D=0;16>D;++D)U[D]=A[O++]|A[O++]<<8|A[O++]<<16|A[O++]<<24;A=N.g[0],O=N.g[1],D=N.g[2];var z=N.g[3],V=A+(z^O&(D^z))+U[0]+3614090360&4294967295;A=O+(V<<7&4294967295|V>>>25),V=z+(D^A&(O^D))+U[1]+3905402710&4294967295,z=A+(V<<12&4294967295|V>>>20),V=D+(O^z&(A^O))+U[2]+606105819&4294967295,D=z+(V<<17&4294967295|V>>>15),V=O+(A^D&(z^A))+U[3]+3250441966&4294967295,O=D+(V<<22&4294967295|V>>>10),V=A+(z^O&(D^z))+U[4]+4118548399&4294967295,A=O+(V<<7&4294967295|V>>>25),V=z+(D^A&(O^D))+U[5]+1200080426&4294967295,z=A+(V<<12&4294967295|V>>>20),V=D+(O^z&(A^O))+U[6]+2821735955&4294967295,D=z+(V<<17&4294967295|V>>>15),V=O+(A^D&(z^A))+U[7]+4249261313&4294967295,O=D+(V<<22&4294967295|V>>>10),V=A+(z^O&(D^z))+U[8]+1770035416&4294967295,A=O+(V<<7&4294967295|V>>>25),V=z+(D^A&(O^D))+U[9]+2336552879&4294967295,z=A+(V<<12&4294967295|V>>>20),V=D+(O^z&(A^O))+U[10]+4294925233&4294967295,D=z+(V<<17&4294967295|V>>>15),V=O+(A^D&(z^A))+U[11]+2304563134&4294967295,O=D+(V<<22&4294967295|V>>>10),V=A+(z^O&(D^z))+U[12]+1804603682&4294967295,A=O+(V<<7&4294967295|V>>>25),V=z+(D^A&(O^D))+U[13]+4254626195&4294967295,z=A+(V<<12&4294967295|V>>>20),V=D+(O^z&(A^O))+U[14]+2792965006&4294967295,D=z+(V<<17&4294967295|V>>>15),V=O+(A^D&(z^A))+U[15]+1236535329&4294967295,O=D+(V<<22&4294967295|V>>>10),V=A+(D^z&(O^D))+U[1]+4129170786&4294967295,A=O+(V<<5&4294967295|V>>>27),V=z+(O^D&(A^O))+U[6]+3225465664&4294967295,z=A+(V<<9&4294967295|V>>>23),V=D+(A^O&(z^A))+U[11]+643717713&4294967295,D=z+(V<<14&4294967295|V>>>18),V=O+(z^A&(D^z))+U[0]+3921069994&4294967295,O=D+(V<<20&4294967295|V>>>12),V=A+(D^z&(O^D))+U[5]+3593408605&4294967295,A=O+(V<<5&4294967295|V>>>27),V=z+(O^D&(A^O))+U[10]+38016083&4294967295,z=A+(V<<9&4294967295|V>>>23),V=D+(A^O&(z^A))+U[15]+3634488961&4294967295,D=z+(V<<14&4294967295|V>>>18),V=O+(z^A&(D^z))+U[4]+3889429448&4294967295,O=D+(V<<20&4294967295|V>>>12),V=A+(D^z&(O^D))+U[9]+568446438&4294967295,A=O+(V<<5&4294967295|V>>>27),V=z+(O^D&(A^O))+U[14]+3275163606&4294967295,z=A+(V<<9&4294967295|V>>>23),V=D+(A^O&(z^A))+U[3]+4107603335&4294967295,D=z+(V<<14&4294967295|V>>>18),V=O+(z^A&(D^z))+U[8]+1163531501&4294967295,O=D+(V<<20&4294967295|V>>>12),V=A+(D^z&(O^D))+U[13]+2850285829&4294967295,A=O+(V<<5&4294967295|V>>>27),V=z+(O^D&(A^O))+U[2]+4243563512&4294967295,z=A+(V<<9&4294967295|V>>>23),V=D+(A^O&(z^A))+U[7]+1735328473&4294967295,D=z+(V<<14&4294967295|V>>>18),V=O+(z^A&(D^z))+U[12]+2368359562&4294967295,O=D+(V<<20&4294967295|V>>>12),V=A+(O^D^z)+U[5]+4294588738&4294967295,A=O+(V<<4&4294967295|V>>>28),V=z+(A^O^D)+U[8]+2272392833&4294967295,z=A+(V<<11&4294967295|V>>>21),V=D+(z^A^O)+U[11]+1839030562&4294967295,D=z+(V<<16&4294967295|V>>>16),V=O+(D^z^A)+U[14]+4259657740&4294967295,O=D+(V<<23&4294967295|V>>>9),V=A+(O^D^z)+U[1]+2763975236&4294967295,A=O+(V<<4&4294967295|V>>>28),V=z+(A^O^D)+U[4]+1272893353&4294967295,z=A+(V<<11&4294967295|V>>>21),V=D+(z^A^O)+U[7]+4139469664&4294967295,D=z+(V<<16&4294967295|V>>>16),V=O+(D^z^A)+U[10]+3200236656&4294967295,O=D+(V<<23&4294967295|V>>>9),V=A+(O^D^z)+U[13]+681279174&4294967295,A=O+(V<<4&4294967295|V>>>28),V=z+(A^O^D)+U[0]+3936430074&4294967295,z=A+(V<<11&4294967295|V>>>21),V=D+(z^A^O)+U[3]+3572445317&4294967295,D=z+(V<<16&4294967295|V>>>16),V=O+(D^z^A)+U[6]+76029189&4294967295,O=D+(V<<23&4294967295|V>>>9),V=A+(O^D^z)+U[9]+3654602809&4294967295,A=O+(V<<4&4294967295|V>>>28),V=z+(A^O^D)+U[12]+3873151461&4294967295,z=A+(V<<11&4294967295|V>>>21),V=D+(z^A^O)+U[15]+530742520&4294967295,D=z+(V<<16&4294967295|V>>>16),V=O+(D^z^A)+U[2]+3299628645&4294967295,O=D+(V<<23&4294967295|V>>>9),V=A+(D^(O|~z))+U[0]+4096336452&4294967295,A=O+(V<<6&4294967295|V>>>26),V=z+(O^(A|~D))+U[7]+1126891415&4294967295,z=A+(V<<10&4294967295|V>>>22),V=D+(A^(z|~O))+U[14]+2878612391&4294967295,D=z+(V<<15&4294967295|V>>>17),V=O+(z^(D|~A))+U[5]+4237533241&4294967295,O=D+(V<<21&4294967295|V>>>11),V=A+(D^(O|~z))+U[12]+1700485571&4294967295,A=O+(V<<6&4294967295|V>>>26),V=z+(O^(A|~D))+U[3]+2399980690&4294967295,z=A+(V<<10&4294967295|V>>>22),V=D+(A^(z|~O))+U[10]+4293915773&4294967295,D=z+(V<<15&4294967295|V>>>17),V=O+(z^(D|~A))+U[1]+2240044497&4294967295,O=D+(V<<21&4294967295|V>>>11),V=A+(D^(O|~z))+U[8]+1873313359&4294967295,A=O+(V<<6&4294967295|V>>>26),V=z+(O^(A|~D))+U[15]+4264355552&4294967295,z=A+(V<<10&4294967295|V>>>22),V=D+(A^(z|~O))+U[6]+2734768916&4294967295,D=z+(V<<15&4294967295|V>>>17),V=O+(z^(D|~A))+U[13]+1309151649&4294967295,O=D+(V<<21&4294967295|V>>>11),V=A+(D^(O|~z))+U[4]+4149444226&4294967295,A=O+(V<<6&4294967295|V>>>26),V=z+(O^(A|~D))+U[11]+3174756917&4294967295,z=A+(V<<10&4294967295|V>>>22),V=D+(A^(z|~O))+U[2]+718787259&4294967295,D=z+(V<<15&4294967295|V>>>17),V=O+(z^(D|~A))+U[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(D+(V<<21&4294967295|V>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+z&4294967295}s.prototype.u=function(N,A){A===void 0&&(A=N.length);for(var O=A-this.blockSize,U=this.B,D=this.h,z=0;z<A;){if(D==0)for(;z<=O;)a(this,N,z),z+=this.blockSize;if(typeof N=="string"){for(;z<A;)if(U[D++]=N.charCodeAt(z++),D==this.blockSize){a(this,U),D=0;break}}else for(;z<A;)if(U[D++]=N[z++],D==this.blockSize){a(this,U),D=0;break}}this.h=D,this.o+=A},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;var O=8*this.o;for(A=N.length-8;A<N.length;++A)N[A]=O&255,O/=256;for(this.u(N),N=Array(16),A=O=0;4>A;++A)for(var U=0;32>U;U+=8)N[O++]=this.g[A]>>>U&255;return N};function o(N,A){var O=d;return Object.prototype.hasOwnProperty.call(O,N)?O[N]:O[N]=A(N)}function u(N,A){this.h=A;for(var O=[],U=!0,D=N.length-1;0<=D;D--){var z=N[D]|0;U&&z==A||(O[D]=z,U=!1)}this.g=O}var d={};function p(N){return-128<=N&&128>N?o(N,function(A){return new u([A|0],0>A?-1:0)}):new u([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return x;if(0>N)return I(g(-N));for(var A=[],O=1,U=0;N>=O;U++)A[U]=N/O|0,O*=4294967296;return new u(A,0)}function v(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return I(v(N.substring(1),A));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=g(Math.pow(A,8)),U=x,D=0;D<N.length;D+=8){var z=Math.min(8,N.length-D),V=parseInt(N.substring(D,D+z),A);8>z?(z=g(Math.pow(A,z)),U=U.j(z).add(g(V))):(U=U.j(O),U=U.add(g(V)))}return U}var x=p(0),b=p(1),S=p(16777216);n=u.prototype,n.m=function(){if(C(this))return-I(this).m();for(var N=0,A=1,O=0;O<this.g.length;O++){var U=this.i(O);N+=(0<=U?U:4294967296+U)*A,A*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(R(this))return"0";if(C(this))return"-"+I(this).toString(N);for(var A=g(Math.pow(N,6)),O=this,U="";;){var D=$(O,A).g;O=M(O,D.j(A));var z=((0<O.g.length?O.g[0]:O.h)>>>0).toString(N);if(O=D,R(O))return z+U;for(;6>z.length;)z="0"+z;U=z+U}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function R(N){if(N.h!=0)return!1;for(var A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function C(N){return N.h==-1}n.l=function(N){return N=M(this,N),C(N)?-1:R(N)?0:1};function I(N){for(var A=N.g.length,O=[],U=0;U<A;U++)O[U]=~N.g[U];return new u(O,~N.h).add(b)}n.abs=function(){return C(this)?I(this):this},n.add=function(N){for(var A=Math.max(this.g.length,N.g.length),O=[],U=0,D=0;D<=A;D++){var z=U+(this.i(D)&65535)+(N.i(D)&65535),V=(z>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);U=V>>>16,z&=65535,V&=65535,O[D]=V<<16|z}return new u(O,O[O.length-1]&-2147483648?-1:0)};function M(N,A){return N.add(I(A))}n.j=function(N){if(R(this)||R(N))return x;if(C(this))return C(N)?I(this).j(I(N)):I(I(this).j(N));if(C(N))return I(this.j(I(N)));if(0>this.l(S)&&0>N.l(S))return g(this.m()*N.m());for(var A=this.g.length+N.g.length,O=[],U=0;U<2*A;U++)O[U]=0;for(U=0;U<this.g.length;U++)for(var D=0;D<N.g.length;D++){var z=this.i(U)>>>16,V=this.i(U)&65535,G=N.i(D)>>>16,ne=N.i(D)&65535;O[2*U+2*D]+=V*ne,P(O,2*U+2*D),O[2*U+2*D+1]+=z*ne,P(O,2*U+2*D+1),O[2*U+2*D+1]+=V*G,P(O,2*U+2*D+1),O[2*U+2*D+2]+=z*G,P(O,2*U+2*D+2)}for(U=0;U<A;U++)O[U]=O[2*U+1]<<16|O[2*U];for(U=A;U<2*A;U++)O[U]=0;return new u(O,0)};function P(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function L(N,A){this.g=N,this.h=A}function $(N,A){if(R(A))throw Error("division by zero");if(R(N))return new L(x,x);if(C(N))return A=$(I(N),A),new L(I(A.g),I(A.h));if(C(A))return A=$(N,I(A)),new L(I(A.g),A.h);if(30<N.g.length){if(C(N)||C(A))throw Error("slowDivide_ only works with positive integers.");for(var O=b,U=A;0>=U.l(N);)O=q(O),U=q(U);var D=X(O,1),z=X(U,1);for(U=X(U,2),O=X(O,2);!R(U);){var V=z.add(U);0>=V.l(N)&&(D=D.add(O),z=V),U=X(U,1),O=X(O,1)}return A=M(N,D.j(A)),new L(D,A)}for(D=x;0<=N.l(A);){for(O=Math.max(1,Math.floor(N.m()/A.m())),U=Math.ceil(Math.log(O)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),z=g(O),V=z.j(A);C(V)||0<V.l(N);)O-=U,z=g(O),V=z.j(A);R(z)&&(z=b),D=D.add(z),N=M(N,V)}return new L(D,N)}n.A=function(N){return $(this,N).h},n.and=function(N){for(var A=Math.max(this.g.length,N.g.length),O=[],U=0;U<A;U++)O[U]=this.i(U)&N.i(U);return new u(O,this.h&N.h)},n.or=function(N){for(var A=Math.max(this.g.length,N.g.length),O=[],U=0;U<A;U++)O[U]=this.i(U)|N.i(U);return new u(O,this.h|N.h)},n.xor=function(N){for(var A=Math.max(this.g.length,N.g.length),O=[],U=0;U<A;U++)O[U]=this.i(U)^N.i(U);return new u(O,this.h^N.h)};function q(N){for(var A=N.g.length+1,O=[],U=0;U<A;U++)O[U]=N.i(U)<<1|N.i(U-1)>>>31;return new u(O,N.h)}function X(N,A){var O=A>>5;A%=32;for(var U=N.g.length-O,D=[],z=0;z<U;z++)D[z]=0<A?N.i(z+O)>>>A|N.i(z+O+1)<<32-A:N.i(z+O);return new u(D,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,X1=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,ka=u}).apply(typeof bE<"u"?bE:typeof self<"u"?self:typeof window<"u"?window:{});var mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Z1,Yu,J1,jh,nv,eA,tA,nA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,E){return f==Array.prototype||f==Object.prototype||(f[_]=E.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof mh=="object"&&mh];for(var _=0;_<f.length;++_){var E=f[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=t(this);function a(f,_){if(_)e:{var E=s;f=f.split(".");for(var j=0;j<f.length-1;j++){var Q=f[j];if(!(Q in E))break e;E=E[Q]}f=f[f.length-1],j=E[f],_=_(j),_!=j&&_!=null&&e(E,f,{configurable:!0,writable:!0,value:_})}}function o(f,_){f instanceof String&&(f+="");var E=0,j=!1,Q={next:function(){if(!j&&E<f.length){var ie=E++;return{value:_(ie,f[ie]),done:!1}}return j=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}a("Array.prototype.values",function(f){return f||function(){return o(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function p(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function g(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function v(f,_,E){return f.call.apply(f.bind,arguments)}function x(f,_,E){if(!f)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,j),f.apply(_,Q)}}return function(){return f.apply(_,arguments)}}function b(f,_,E){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:x,b.apply(null,arguments)}function S(f,_){var E=Array.prototype.slice.call(arguments,1);return function(){var j=E.slice();return j.push.apply(j,arguments),f.apply(this,j)}}function R(f,_){function E(){}E.prototype=_.prototype,f.aa=_.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(j,Q,ie){for(var _e=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)_e[bt-2]=arguments[bt];return _.prototype[Q].apply(j,_e)}}function C(f){const _=f.length;if(0<_){const E=Array(_);for(let j=0;j<_;j++)E[j]=f[j];return E}return[]}function I(f,_){for(let E=1;E<arguments.length;E++){const j=arguments[E];if(p(j)){const Q=f.length||0,ie=j.length||0;f.length=Q+ie;for(let _e=0;_e<ie;_e++)f[Q+_e]=j[_e]}else f.push(j)}}class M{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function P(f){return/^[\s\xa0]*$/.test(f)}function L(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function $(f){return $[" "](f),f}$[" "]=function(){};var q=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function X(f,_,E){for(const j in f)_.call(E,f[j],j,f)}function N(f,_){for(const E in f)_.call(void 0,f[E],E,f)}function A(f){const _={};for(const E in f)_[E]=f[E];return _}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(f,_){let E,j;for(let Q=1;Q<arguments.length;Q++){j=arguments[Q];for(E in j)f[E]=j[E];for(let ie=0;ie<O.length;ie++)E=O[ie],Object.prototype.hasOwnProperty.call(j,E)&&(f[E]=j[E])}}function D(f){var _=1;f=f.split(":");const E=[];for(;0<_&&f.length;)E.push(f.shift()),_--;return f.length&&E.push(f.join(":")),E}function z(f){d.setTimeout(()=>{throw f},0)}function V(){var f=ye;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class G{constructor(){this.h=this.g=null}add(_,E){const j=ne.get();j.set(_,E),this.h?this.h.next=j:this.g=j,this.h=j}}var ne=new M(()=>new H,f=>f.reset());class H{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,K=!1,ye=new G,B=()=>{const f=d.Promise.resolve(void 0);Z=()=>{f.then(ae)}};var ae=()=>{for(var f;f=V();){try{f.h.call(f.g)}catch(E){z(E)}var _=ne;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}K=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};d.addEventListener("test",E,_),d.removeEventListener("test",E,_)}catch{}return f}();function ze(f,_){if(le.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,j=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(q){e:{try{$(_.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(_=null)}}else E=="mouseover"?_=f.fromElement:E=="mouseout"&&(_=f.toElement);this.relatedTarget=_,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:De[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ze.aa.h.call(this)}}R(ze,le);var De={2:"touch",3:"pen",4:"mouse"};ze.prototype.h=function(){ze.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),je=0;function ct(f,_,E,j,Q){this.listener=f,this.proxy=null,this.src=_,this.type=E,this.capture=!!j,this.ha=Q,this.key=++je,this.da=this.fa=!1}function We(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Qe(f){this.src=f,this.g={},this.h=0}Qe.prototype.add=function(f,_,E,j,Q){var ie=f.toString();f=this.g[ie],f||(f=this.g[ie]=[],this.h++);var _e=se(f,_,j,Q);return-1<_e?(_=f[_e],E||(_.fa=!1)):(_=new ct(_,this.src,ie,!!j,Q),_.fa=E,f.push(_)),_};function Xe(f,_){var E=_.type;if(E in f.g){var j=f.g[E],Q=Array.prototype.indexOf.call(j,_,void 0),ie;(ie=0<=Q)&&Array.prototype.splice.call(j,Q,1),ie&&(We(_),f.g[E].length==0&&(delete f.g[E],f.h--))}}function se(f,_,E,j){for(var Q=0;Q<f.length;++Q){var ie=f[Q];if(!ie.da&&ie.listener==_&&ie.capture==!!E&&ie.ha==j)return Q}return-1}var Ae="closure_lm_"+(1e6*Math.random()|0),Ce={};function Me(f,_,E,j,Q){if(Array.isArray(_)){for(var ie=0;ie<_.length;ie++)Me(f,_[ie],E,j,Q);return null}return E=ut(E),f&&f[ge]?f.K(_,E,g(j)?!!j.capture:!1,Q):Ye(f,_,E,!1,j,Q)}function Ye(f,_,E,j,Q,ie){if(!_)throw Error("Invalid event type");var _e=g(Q)?!!Q.capture:!!Q,bt=Ee(f);if(bt||(f[Ae]=bt=new Qe(f)),E=bt.add(_,E,j,_e,ie),E.proxy)return E;if(j=gn(),E.proxy=j,j.src=f,j.listener=E,f.addEventListener)be||(Q=_e),Q===void 0&&(Q=!1),f.addEventListener(_.toString(),j,Q);else if(f.attachEvent)f.attachEvent(ve(_.toString()),j);else if(f.addListener&&f.removeListener)f.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return E}function gn(){function f(E){return _.call(f.src,f.listener,E)}const _=Je;return f}function me(f,_,E,j,Q){if(Array.isArray(_))for(var ie=0;ie<_.length;ie++)me(f,_[ie],E,j,Q);else j=g(j)?!!j.capture:!!j,E=ut(E),f&&f[ge]?(f=f.i,_=String(_).toString(),_ in f.g&&(ie=f.g[_],E=se(ie,E,j,Q),-1<E&&(We(ie[E]),Array.prototype.splice.call(ie,E,1),ie.length==0&&(delete f.g[_],f.h--)))):f&&(f=Ee(f))&&(_=f.g[_.toString()],f=-1,_&&(f=se(_,E,j,Q)),(E=-1<f?_[f]:null)&&xe(E))}function xe(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[ge])Xe(_.i,f);else{var E=f.type,j=f.proxy;_.removeEventListener?_.removeEventListener(E,j,f.capture):_.detachEvent?_.detachEvent(ve(E),j):_.addListener&&_.removeListener&&_.removeListener(j),(E=Ee(_))?(Xe(E,f),E.h==0&&(E.src=null,_[Ae]=null)):We(f)}}}function ve(f){return f in Ce?Ce[f]:Ce[f]="on"+f}function Je(f,_){if(f.da)f=!0;else{_=new ze(_,this);var E=f.listener,j=f.ha||f.src;f.fa&&xe(f),f=E.call(j,_)}return f}function Ee(f){return f=f[Ae],f instanceof Qe?f:null}var et="__closure_events_fn_"+(1e9*Math.random()>>>0);function ut(f){return typeof f=="function"?f:(f[et]||(f[et]=function(_){return f.handleEvent(_)}),f[et])}function gt(){he.call(this),this.i=new Qe(this),this.M=this,this.F=null}R(gt,he),gt.prototype[ge]=!0,gt.prototype.removeEventListener=function(f,_,E,j){me(this,f,_,E,j)};function Pe(f,_){var E,j=f.F;if(j)for(E=[];j;j=j.F)E.push(j);if(f=f.M,j=_.type||_,typeof _=="string")_=new le(_,f);else if(_ instanceof le)_.target=_.target||f;else{var Q=_;_=new le(j,f),U(_,Q)}if(Q=!0,E)for(var ie=E.length-1;0<=ie;ie--){var _e=_.g=E[ie];Q=Ke(_e,j,!0,_)&&Q}if(_e=_.g=f,Q=Ke(_e,j,!0,_)&&Q,Q=Ke(_e,j,!1,_)&&Q,E)for(ie=0;ie<E.length;ie++)_e=_.g=E[ie],Q=Ke(_e,j,!1,_)&&Q}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var E=f.g[_],j=0;j<E.length;j++)We(E[j]);delete f.g[_],f.h--}}this.F=null},gt.prototype.K=function(f,_,E,j){return this.i.add(String(f),_,!1,E,j)},gt.prototype.L=function(f,_,E,j){return this.i.add(String(f),_,!0,E,j)};function Ke(f,_,E,j){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var Q=!0,ie=0;ie<_.length;++ie){var _e=_[ie];if(_e&&!_e.da&&_e.capture==E){var bt=_e.listener,An=_e.ha||_e.src;_e.fa&&Xe(f.i,_e),Q=bt.call(An,j)!==!1&&Q}}return Q&&!j.defaultPrevented}function ht(f,_,E){if(typeof f=="function")E&&(f=b(f,E));else if(f&&typeof f.handleEvent=="function")f=b(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:d.setTimeout(f,_||0)}function Qn(f){f.g=ht(()=>{f.g=null,f.i&&(f.i=!1,Qn(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class On extends he{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Qn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rn(f){he.call(this),this.h=f,this.g={}}R(rn,he);var Mt=[];function Xn(f){X(f.g,function(_,E){this.g.hasOwnProperty(E)&&xe(_)},f),f.g={}}rn.prototype.N=function(){rn.aa.N.call(this),Xn(this)},rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=d.JSON.stringify,Kr=d.JSON.parse,ar=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function Dr(){}Dr.prototype.h=null;function us(f){return f.h||(f.h=f.i())}function zi(){}var Ws={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qs(){le.call(this,"d")}R(Qs,le);function Vc(){le.call(this,"c")}R(Vc,le);var ds={},Lc=null;function Bi(){return Lc=Lc||new gt}ds.La="serverreachability";function Ko(f){le.call(this,ds.La,f)}R(Ko,le);function Fi(f){const _=Bi();Pe(_,new Ko(_))}ds.STAT_EVENT="statevent";function Fd(f,_){le.call(this,ds.STAT_EVENT,f),this.stat=_}R(Fd,le);function Kt(f){const _=Bi();Pe(_,new Fd(_,f))}ds.Ma="timingevent";function Sn(f,_){le.call(this,ds.Ma,f),this.size=_}R(Sn,le);function yn(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},_)}function Or(){this.g=!0}Or.prototype.xa=function(){this.g=!1};function Uc(f,_,E,j,Q,ie){f.info(function(){if(f.g)if(ie)for(var _e="",bt=ie.split("&"),An=0;An<bt.length;An++){var xt=bt[An].split("=");if(1<xt.length){var Mn=xt[0];xt=xt[1];var Cn=Mn.split("_");_e=2<=Cn.length&&Cn[1]=="type"?_e+(Mn+"="+xt+"&"):_e+(Mn+"=redacted&")}}else _e=null;else _e=ie;return"XMLHTTP REQ ("+j+") [attempt "+Q+"]: "+_+`
`+E+`
`+_e})}function op(f,_,E,j,Q,ie,_e){f.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+Q+"]: "+_+`
`+E+`
`+ie+" "+_e})}function qi(f,_,E,j){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+Xa(f,E)+(j?" "+j:"")})}function qd(f,_){f.info(function(){return"TIMEOUT: "+_})}Or.prototype.info=function(){};function Xa(f,_){if(!f.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var j=E[f];if(!(2>j.length)){var Q=j[1];if(Array.isArray(Q)&&!(1>Q.length)){var ie=Q[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var _e=1;_e<Q.length;_e++)Q[_e]=""}}}}return zn(E)}catch{return _}}var Hi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fs;function hs(){}R(hs,Dr),hs.prototype.g=function(){return new XMLHttpRequest},hs.prototype.i=function(){return{}},fs=new hs;function or(f,_,E,j){this.j=f,this.i=_,this.l=E,this.R=j||1,this.U=new rn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fn}function fn(){this.i=null,this.g="",this.h=!1}var zc={},Wo={};function Wr(f,_,E){f.L=1,f.v=no(_r(_)),f.m=E,f.P=!0,Zs(f,null)}function Zs(f,_){f.F=Date.now(),Za(f),f.A=_r(f.v);var E=f.A,j=f.R;Array.isArray(j)||(j=[String(j)]),Gc(E.i,"t",j),f.C=0,E=f.j.J,f.h=new fn,f.g=af(f.j,E?_:null,!f.m),0<f.O&&(f.M=new On(b(f.Y,f,f.g),f.O)),_=f.U,E=f.g,j=f.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Mt[0]=Q.toString()),Q=Mt);for(var ie=0;ie<Q.length;ie++){var _e=Me(E,Q[ie],j||_.handleEvent,!1,_.h||_);if(!_e)break;_.g[_e.key]=_e}_=f.H?A(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),Fi(),Uc(f.i,f.u,f.A,f.l,f.R,f.m)}or.prototype.ca=function(f){f=f.target;const _=this.M;_&&Vr(f)==3?_.j():this.Y(f)},or.prototype.Y=function(f){try{if(f==this.g)e:{const Cn=Vr(this.g);var _=this.g.Ba();const ai=this.g.Z();if(!(3>Cn)&&(Cn!=3||this.g&&(this.h.h||this.g.oa()||Xd(this.g)))){this.J||Cn!=4||_==7||(_==8||0>=ai?Fi(3):Fi(2)),$i(this);var E=this.g.Z();this.X=E;t:if(Hd(this)){var j=Xd(this.g);f="";var Q=j.length,ie=Vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bn(this),ms(this);var _e="";break t}this.h.i=new d.TextDecoder}for(_=0;_<Q;_++)this.h.h=!0,f+=this.h.i.decode(j[_],{stream:!(ie&&_==Q-1)});j.length=0,this.h.g+=f,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=E==200,op(this.i,this.u,this.A,this.l,this.R,Cn,E),this.o){if(this.T&&!this.K){t:{if(this.g){var bt,An=this.g;if((bt=An.g?An.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(bt)){var xt=bt;break t}}xt=null}if(E=xt)qi(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ja(this,E);else{this.o=!1,this.s=3,Kt(12),Bn(this),ms(this);break e}}if(this.P){E=!0;let Fn;for(;!this.J&&this.C<_e.length;)if(Fn=$d(this,_e),Fn==Wo){Cn==4&&(this.s=4,Kt(14),E=!1),qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Fn==zc){this.s=4,Kt(15),qi(this.i,this.l,_e,"[Invalid Chunk]"),E=!1;break}else qi(this.i,this.l,Fn,null),Ja(this,Fn);if(Hd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Cn!=4||_e.length!=0||this.h.h||(this.s=1,Kt(16),E=!1),this.o=this.o&&E,!E)qi(this.i,this.l,_e,"[Invalid Chunked Response]"),Bn(this),ms(this);else if(0<_e.length&&!this.W){this.W=!0;var Mn=this.j;Mn.g==this&&Mn.ba&&!Mn.M&&(Mn.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),uo(Mn),Mn.M=!0,Kt(11))}}else qi(this.i,this.l,_e,null),Ja(this,_e);Cn==4&&Bn(this),this.o&&!this.J&&(Cn==4?nf(this.j,this):(this.o=!1,Za(this)))}else fp(this.g),E==400&&0<_e.indexOf("Unknown SID")?(this.s=3,Kt(12)):(this.s=0,Kt(13)),Bn(this),ms(this)}}}catch{}finally{}};function Hd(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function $d(f,_){var E=f.C,j=_.indexOf(`
`,E);return j==-1?Wo:(E=Number(_.substring(E,j)),isNaN(E)?zc:(j+=1,j+E>_.length?Wo:(_=_.slice(j,j+E),f.C=j+E,_)))}or.prototype.cancel=function(){this.J=!0,Bn(this)};function Za(f){f.S=Date.now()+f.I,Gd(f,f.I)}function Gd(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=yn(b(f.ba,f),_)}function $i(f){f.B&&(d.clearTimeout(f.B),f.B=null)}or.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(qd(this.i,this.A),this.L!=2&&(Fi(),Kt(17)),Bn(this),this.s=2,ms(this)):Gd(this,this.S-f)};function ms(f){f.j.G==0||f.J||nf(f.j,f)}function Bn(f){$i(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,Xn(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function Ja(f,_){try{var E=f.j;if(E.G!=0&&(E.g==f||Bc(E.h,f))){if(!f.K&&Bc(E.h,f)&&E.G==3){try{var j=E.Da.g.parse(_)}catch{j=null}if(Array.isArray(j)&&j.length==3){var Q=j;if(Q[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)ol(E),il(E);else break e;Xc(E),Kt(18)}}else E.za=Q[1],0<E.za-E.T&&37500>Q[2]&&E.F&&E.v==0&&!E.C&&(E.C=yn(b(E.Za,E),6e3));if(1>=Xo(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ii(E,11)}else if((f.K||E.g==f)&&ol(E),!P(_))for(Q=E.Da.g.parse(_),_=0;_<Q.length;_++){let xt=Q[_];if(E.T=xt[0],xt=xt[1],E.G==2)if(xt[0]=="c"){E.K=xt[1],E.ia=xt[2];const Mn=xt[3];Mn!=null&&(E.la=Mn,E.j.info("VER="+E.la));const Cn=xt[4];Cn!=null&&(E.Aa=Cn,E.j.info("SVER="+E.Aa));const ai=xt[5];ai!=null&&typeof ai=="number"&&0<ai&&(j=1.5*ai,E.L=j,E.j.info("backChannelRequestTimeoutMs_="+j)),j=E;const Fn=f.g;if(Fn){const xs=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xs){var ie=j.h;ie.g||xs.indexOf("spdy")==-1&&xs.indexOf("quic")==-1&&xs.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Zo(ie,ie.h),ie.h=null))}if(j.D){const Jc=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Jc&&(j.ya=Jc,Ut(j.I,j.D,Jc))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),j=E;var _e=f;if(j.qa=sf(j,j.J?j.ia:null,j.W),_e.K){lr(j.h,_e);var bt=_e,An=j.L;An&&(bt.I=An),bt.B&&($i(bt),Za(bt)),j.g=_e}else ef(j);0<E.i.length&&al(E)}else xt[0]!="stop"&&xt[0]!="close"||ii(E,7);else E.G==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?ii(E,7):Wc(E):xt[0]!="noop"&&E.l&&E.l.ta(xt),E.v=0)}}Fi(4)}catch{}}var Yd=class{constructor(f,_){this.g=f,this.map=_}};function Js(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Xo(f){return f.h?1:f.g?f.g.size:0}function Bc(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Zo(f,_){f.g?f.g.add(_):f.h=_}function lr(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Js.prototype.cancel=function(){if(this.i=Fc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Fc(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const E of f.g.values())_=_.concat(E.D);return _}return C(f.i)}function lp(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(p(f)){for(var _=[],E=f.length,j=0;j<E;j++)_.push(f[j]);return _}_=[],E=0;for(j in f)_[E++]=f[j];return _}function Jo(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(p(f)||typeof f=="string"){var _=[];f=f.length;for(var E=0;E<f;E++)_.push(E);return _}_=[],E=0;for(const j in f)_[E++]=j;return _}}}function qc(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(p(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var E=Jo(f),j=lp(f),Q=j.length,ie=0;ie<Q;ie++)_.call(void 0,j[ie],E&&E[ie],f)}var eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cp(f,_){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var j=f[E].indexOf("="),Q=null;if(0<=j){var ie=f[E].substring(0,j);Q=f[E].substring(j+1)}else ie=f[E];_(ie,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function vn(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof vn){this.h=f.h,to(this,f.j),this.o=f.o,this.g=f.g,Gi(this,f.s),this.l=f.l;var _=f.i,E=new ti;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),ei(this,E),this.m=f.m}else f&&(_=String(f).match(eo))?(this.h=!1,to(this,_[1]||"",!0),this.o=jr(_[2]||""),this.g=jr(_[3]||"",!0),Gi(this,_[4]),this.l=jr(_[5]||"",!0),ei(this,_[6]||"",!0),this.m=jr(_[7]||"")):(this.h=!1,this.i=new ti(null,this.h))}vn.prototype.toString=function(){var f=[],_=this.j;_&&f.push(ro(_,Hc,!0),":");var E=this.g;return(E||_=="file")&&(f.push("//"),(_=this.o)&&f.push(ro(_,Hc,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(ro(E,E.charAt(0)=="/"?up:$c,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",ro(E,el)),f.join("")};function _r(f){return new vn(f)}function to(f,_,E){f.j=E?jr(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Gi(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function ei(f,_,E){_ instanceof ti?(f.i=_,Wd(f.i,f.h)):(E||(_=ro(_,dp)),f.i=new ti(_,f.h))}function Ut(f,_,E){f.i.set(_,E)}function no(f){return Ut(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function jr(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ro(f,_,E){return typeof f=="string"?(f=encodeURI(f).replace(_,Kd),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Kd(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Hc=/[#\/\?@]/g,$c=/[#\?:]/g,up=/[#\?]/g,dp=/[#\?@]/g,el=/#/g;function ti(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Mr(f){f.g||(f.g=new Map,f.h=0,f.i&&cp(f.i,function(_,E){f.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}n=ti.prototype,n.add=function(f,_){Mr(this),this.i=null,f=ps(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(_),this.h+=1,this};function ni(f,_){Mr(f),_=ps(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function ri(f,_){return Mr(f),_=ps(f,_),f.g.has(_)}n.forEach=function(f,_){Mr(this),this.g.forEach(function(E,j){E.forEach(function(Q){f.call(_,Q,j,this)},this)},this)},n.na=function(){Mr(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let j=0;j<_.length;j++){const Q=f[j];for(let ie=0;ie<Q.length;ie++)E.push(_[j])}return E},n.V=function(f){Mr(this);let _=[];if(typeof f=="string")ri(this,f)&&(_=_.concat(this.g.get(ps(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)_=_.concat(f[E])}return _},n.set=function(f,_){return Mr(this),this.i=null,f=ps(this,f),ri(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},n.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function Gc(f,_,E){ni(f,_),0<E.length&&(f.i=null,f.g.set(ps(f,_),C(E)),f.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var j=_[E];const ie=encodeURIComponent(String(j)),_e=this.V(j);for(j=0;j<_e.length;j++){var Q=ie;_e[j]!==""&&(Q+="="+encodeURIComponent(String(_e[j]))),f.push(Q)}}return this.i=f.join("&")};function ps(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function Wd(f,_){_&&!f.j&&(Mr(f),f.i=null,f.g.forEach(function(E,j){var Q=j.toLowerCase();j!=Q&&(ni(this,j),Gc(this,Q,E))},f)),f.j=_}function so(f,_){const E=new Or;if(d.Image){const j=new Image;j.onload=S(Pr,E,"TestLoadImage: loaded",!0,_,j),j.onerror=S(Pr,E,"TestLoadImage: error",!1,_,j),j.onabort=S(Pr,E,"TestLoadImage: abort",!1,_,j),j.ontimeout=S(Pr,E,"TestLoadImage: timeout",!1,_,j),d.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=f}else _(!1)}function Qr(f,_){const E=new Or,j=new AbortController,Q=setTimeout(()=>{j.abort(),Pr(E,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:j.signal}).then(ie=>{clearTimeout(Q),ie.ok?Pr(E,"TestPingServer: ok",!0,_):Pr(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),Pr(E,"TestPingServer: error",!1,_)})}function Pr(f,_,E,j,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),j(E)}catch{}}function io(){this.g=new ar}function gs(f,_,E){const j=E||"";try{qc(f,function(Q,ie){let _e=Q;g(Q)&&(_e=zn(Q)),_.push(j+ie+"="+encodeURIComponent(_e))})}catch(Q){throw _.push(j+"type="+encodeURIComponent("_badmap")),Q}}function Yi(f){this.l=f.Ub||null,this.j=f.eb||!1}R(Yi,Dr),Yi.prototype.g=function(){return new si(this.l,this.j)},Yi.prototype.i=function(f){return function(){return f}}({});function si(f,_){gt.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(si,gt),n=si.prototype,n.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,vs(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||d).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ys(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,vs(this)),this.g&&(this.readyState=3,vs(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yc(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yc(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?ys(this):vs(this),this.readyState==3&&Yc(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,ys(this))},n.Qa=function(f){this.g&&(this.response=f,ys(this))},n.ga=function(){this.g&&ys(this)};function ys(f){f.readyState=4,f.l=null,f.j=null,f.v=null,vs(f)}n.setRequestHeader=function(f,_){this.u.append(f,_)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=_.next();return f.join(`\r
`)};function vs(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Kc(f){let _="";return X(f,function(E,j){_+=j,_+=":",_+=E,_+=`\r
`}),_}function jn(f,_,E){e:{for(j in E){var j=!1;break e}j=!0}j||(E=Kc(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):Ut(f,_,E))}function Ot(f){gt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Ot,gt);var tl=/^https?$/i,ao=["POST","PUT"];n=Ot.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,_,E,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fs.g(),this.v=this.o?us(this.o):us(fs),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(ie){Qd(this,ie);return}if(f=E||"",E=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var Q in j)E.set(Q,j[Q]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const ie of j.keys())E.set(ie,j.get(ie));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(E.keys()).find(ie=>ie.toLowerCase()=="content-type"),Q=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ao,_,void 0))||j||Q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,_e]of E)this.g.setRequestHeader(ie,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oo(this),this.u=!0,this.g.send(f),this.u=!1}catch(ie){Qd(this,ie)}};function Qd(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,nl(f),_s(f)}function nl(f){f.A||(f.A=!0,Pe(f,"complete"),Pe(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Pe(this,"complete"),Pe(this,"abort"),_s(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_s(this,!0)),Ot.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?rl(this):this.bb())},n.bb=function(){rl(this)};function rl(f){if(f.h&&typeof u<"u"&&(!f.v[1]||Vr(f)!=4||f.Z()!=2)){if(f.u&&Vr(f)==4)ht(f.Ea,0,f);else if(Pe(f,"readystatechange"),Vr(f)==4){f.h=!1;try{const _e=f.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var j;if(j=_e===0){var Q=String(f.D).match(eo)[1]||null;!Q&&d.self&&d.self.location&&(Q=d.self.location.protocol.slice(0,-1)),j=!tl.test(Q?Q.toLowerCase():"")}E=j}if(E)Pe(f,"complete"),Pe(f,"success");else{f.m=6;try{var ie=2<Vr(f)?f.g.statusText:""}catch{ie=""}f.l=ie+" ["+f.Z()+"]",nl(f)}}finally{_s(f)}}}}function _s(f,_){if(f.g){oo(f);const E=f.g,j=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||Pe(f,"ready");try{E.onreadystatechange=j}catch{}}}function oo(f){f.I&&(d.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Vr(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Vr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Kr(_)}};function Xd(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function fp(f){const _={};f=(f.g&&2<=Vr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<f.length;j++){if(P(f[j]))continue;var E=D(f[j]);const Q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ie=_[Q]||[];_[Q]=ie,ie.push(E)}N(_,function(j){return j.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lo(f,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||_}function sl(f){this.Aa=0,this.i=[],this.j=new Or,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lo("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lo("baseRetryDelayMs",5e3,f),this.cb=lo("retryDelaySeedMs",1e4,f),this.Wa=lo("forwardChannelMaxRetries",2,f),this.wa=lo("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Js(f&&f.concurrentRequestLimit),this.Da=new io,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=sl.prototype,n.la=8,n.G=1,n.connect=function(f,_,E,j){Kt(0),this.W=f,this.H=_||{},E&&j!==void 0&&(this.H.OSID=E,this.H.OAID=j),this.F=this.X,this.I=sf(this,null,this.W),al(this)};function Wc(f){if(Zd(f),f.G==3){var _=f.U++,E=_r(f.I);if(Ut(E,"SID",f.K),Ut(E,"RID",_),Ut(E,"TYPE","terminate"),co(f,E),_=new or(f,f.j,_),_.L=2,_.v=no(_r(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=_.v,E=!0),E||(_.g=af(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Za(_)}rf(f)}function il(f){f.g&&(uo(f),f.g.cancel(),f.g=null)}function Zd(f){il(f),f.u&&(d.clearTimeout(f.u),f.u=null),ol(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function al(f){if(!Qo(f.h)&&!f.s){f.s=!0;var _=f.Ga;Z||B(),K||(Z(),K=!0),ye.add(_,f),f.B=0}}function hp(f,_){return Xo(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=yn(b(f.Ga,f,_),Zc(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Q=new or(this,this.j,f);let ie=this.o;if(this.S&&(ie?(ie=A(ie),U(ie,this.S)):ie=this.S),this.m!==null||this.O||(Q.H=ie,ie=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var j=this.i[E];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(_+=j,4096<_){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Jd(this,Q,_),E=_r(this.I),Ut(E,"RID",f),Ut(E,"CVER",22),this.D&&Ut(E,"X-HTTP-Session-Id",this.D),co(this,E),ie&&(this.O?_="headers="+encodeURIComponent(String(Kc(ie)))+"&"+_:this.m&&jn(E,this.m,ie)),Zo(this.h,Q),this.Ua&&Ut(E,"TYPE","init"),this.P?(Ut(E,"$req",_),Ut(E,"SID","null"),Q.T=!0,Wr(Q,E,null)):Wr(Q,E,_),this.G=2}}else this.G==3&&(f?Qc(this,f):this.i.length==0||Qo(this.h)||Qc(this))};function Qc(f,_){var E;_?E=_.l:E=f.U++;const j=_r(f.I);Ut(j,"SID",f.K),Ut(j,"RID",E),Ut(j,"AID",f.T),co(f,j),f.m&&f.o&&jn(j,f.m,f.o),E=new or(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),_&&(f.i=_.D.concat(f.i)),_=Jd(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Zo(f.h,E),Wr(E,j,_)}function co(f,_){f.H&&X(f.H,function(E,j){Ut(_,j,E)}),f.l&&qc({},function(E,j){Ut(_,j,E)})}function Jd(f,_,E){E=Math.min(f.i.length,E);var j=f.l?b(f.l.Na,f.l,f):null;e:{var Q=f.i;let ie=-1;for(;;){const _e=["count="+E];ie==-1?0<E?(ie=Q[0].g,_e.push("ofs="+ie)):ie=0:_e.push("ofs="+ie);let bt=!0;for(let An=0;An<E;An++){let xt=Q[An].g;const Mn=Q[An].map;if(xt-=ie,0>xt)ie=Math.max(0,Q[An].g-100),bt=!1;else try{gs(Mn,_e,"req"+xt+"_")}catch{j&&j(Mn)}}if(bt){j=_e.join("&");break e}}}return f=f.i.splice(0,E),_.D=f,j}function ef(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;Z||B(),K||(Z(),K=!0),ye.add(_,f),f.v=0}}function Xc(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=yn(b(f.Fa,f),Zc(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,tf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=yn(b(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kt(10),il(this),tf(this))};function uo(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function tf(f){f.g=new or(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=_r(f.qa);Ut(_,"RID","rpc"),Ut(_,"SID",f.K),Ut(_,"AID",f.T),Ut(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ut(_,"TO",f.ja),Ut(_,"TYPE","xmlhttp"),co(f,_),f.m&&f.o&&jn(_,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=no(_r(_)),E.m=null,E.P=!0,Zs(E,f)}n.Za=function(){this.C!=null&&(this.C=null,il(this),Xc(this),Kt(19))};function ol(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function nf(f,_){var E=null;if(f.g==_){ol(f),uo(f),f.g=null;var j=2}else if(Bc(f.h,_))E=_.D,lr(f.h,_),j=1;else return;if(f.G!=0){if(_.o)if(j==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var Q=f.B;j=Bi(),Pe(j,new Sn(j,E)),al(f)}else ef(f);else if(Q=_.s,Q==3||Q==0&&0<_.X||!(j==1&&hp(f,_)||j==2&&Xc(f)))switch(E&&0<E.length&&(_=f.h,_.i=_.i.concat(E)),Q){case 1:ii(f,5);break;case 4:ii(f,10);break;case 3:ii(f,6);break;default:ii(f,2)}}}function Zc(f,_){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*_}function ii(f,_){if(f.j.info("Error code "+_),_==2){var E=b(f.fb,f),j=f.Xa;const Q=!j;j=new vn(j||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||to(j,"https"),no(j),Q?so(j.toString(),E):Qr(j.toString(),E)}else Kt(2);f.G=0,f.l&&f.l.sa(_),rf(f),Zd(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function rf(f){if(f.G=0,f.ka=[],f.l){const _=Fc(f.h);(_.length!=0||f.i.length!=0)&&(I(f.ka,_),I(f.ka,f.i),f.h.i.length=0,C(f.i),f.i.length=0),f.l.ra()}}function sf(f,_,E){var j=E instanceof vn?_r(E):new vn(E);if(j.g!="")_&&(j.g=_+"."+j.g),Gi(j,j.s);else{var Q=d.location;j=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;var ie=new vn(null);j&&to(ie,j),_&&(ie.g=_),Q&&Gi(ie,Q),E&&(ie.l=E),j=ie}return E=f.D,_=f.ya,E&&_&&Ut(j,E,_),Ut(j,"VER",f.la),co(f,j),j}function af(f,_,E){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new Ot(new Yi({eb:E})):new Ot(f.pa),_.Ha(f.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function of(){}n=of.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ll(){}ll.prototype.g=function(f,_){return new cr(f,_)};function cr(f,_){gt.call(this),this.g=new sl(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!P(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!P(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new bs(this)}R(cr,gt),cr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cr.prototype.close=function(){Wc(this.g)},cr.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=zn(f),f=E);_.i.push(new Yd(_.Ya++,f)),_.G==3&&al(_)},cr.prototype.N=function(){this.g.l=null,delete this.j,Wc(this.g),delete this.g,cr.aa.N.call(this)};function lf(f){Qs.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const E in _){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}R(lf,Qs);function cf(){Vc.call(this),this.status=1}R(cf,Vc);function bs(f){this.g=f}R(bs,of),bs.prototype.ua=function(){Pe(this.g,"a")},bs.prototype.ta=function(f){Pe(this.g,new lf(f))},bs.prototype.sa=function(f){Pe(this.g,new cf)},bs.prototype.ra=function(){Pe(this.g,"b")},ll.prototype.createWebChannel=ll.prototype.g,cr.prototype.send=cr.prototype.o,cr.prototype.open=cr.prototype.m,cr.prototype.close=cr.prototype.close,nA=function(){return new ll},tA=function(){return Bi()},eA=ds,nv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hi.NO_ERROR=0,Hi.TIMEOUT=8,Hi.HTTP_ERROR=6,jh=Hi,Xs.COMPLETE="complete",J1=Xs,zi.EventType=Ws,Ws.OPEN="a",Ws.CLOSE="b",Ws.ERROR="c",Ws.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Yu=zi,Ot.prototype.listenOnce=Ot.prototype.L,Ot.prototype.getLastError=Ot.prototype.Ka,Ot.prototype.getLastErrorCode=Ot.prototype.Ba,Ot.prototype.getStatus=Ot.prototype.Z,Ot.prototype.getResponseJson=Ot.prototype.Oa,Ot.prototype.getResponseText=Ot.prototype.oa,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Ha,Z1=Ot}).apply(typeof mh<"u"?mh:typeof self<"u"?self:typeof window<"u"?window:{});const xE="@firebase/firestore",wE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tr.UNAUTHENTICATED=new tr(null),tr.GOOGLE_CREDENTIALS=new tr("google-credentials-uid"),tr.FIRST_PARTY=new tr("first-party-uid"),tr.MOCK_USER=new tr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new Kv("@firebase/firestore");function Bl(){return Lo.logLevel}function Se(n,...e){if(Lo.logLevel<=yt.DEBUG){const t=e.map(i0);Lo.debug(`Firestore (${Rc}): ${n}`,...t)}}function Ii(n,...e){if(Lo.logLevel<=yt.ERROR){const t=e.map(i0);Lo.error(`Firestore (${Rc}): ${n}`,...t)}}function Ma(n,...e){if(Lo.logLevel<=yt.WARN){const t=e.map(i0);Lo.warn(`Firestore (${Rc}): ${n}`,...t)}}function i0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,rA(n,s,t)}function rA(n,e,t){let s=`FIRESTORE (${Rc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Ii(s),new Error(s)}function jt(n,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,n||rA(e,a,s)}function st(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Vi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class n6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tr.UNAUTHENTICATED))}shutdown(){}}class r6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class s6{constructor(e){this.t=e,this.currentUser=tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){jt(this.o===void 0,42304);let s=this.i;const a=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let o=new Si;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Si,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const p=o;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},d=p=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Si)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(jt(typeof s.accessToken=="string",31837,{l:s}),new sA(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string",2055,{h:e}),new tr(e)}}class i6{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=tr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class a6{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new i6(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(tr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class EE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o6{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$r(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){jt(this.o===void 0,3512);const s=o=>{o.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Se("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>s(o))};const a=o=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new EE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(jt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new EE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=l6(40);for(let o=0;o<a.length;++o)s.length<20&&a[o]<t&&(s+=e.charAt(a[o]%62))}return s}}function lt(n,e){return n<e?-1:n>e?1:0}function rv(n,e){let t=0;for(;t<n.length&&t<e.length;){const s=n.codePointAt(t),a=e.codePointAt(t);if(s!==a){if(s<128&&a<128)return lt(s,a);{const o=iA(),u=c6(o.encode(TE(n,t)),o.encode(TE(e,t)));return u!==0?u:lt(s,a)}}t+=s>65535?2:1}return lt(n.length,e.length)}function TE(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function c6(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return lt(n[t],e[t]);return lt(n.length,e.length)}function lc(n,e,t){return n.length===e.length&&n.every((s,a)=>t(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="__name__";class Cs{constructor(e,t,s){t===void 0?t=0:t>e.length&&$e(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&$e(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Cs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cs?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const o=Cs.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return lt(e.length,t.length)}static compareSegments(e,t){const s=Cs.isNumericId(e),a=Cs.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?Cs.extractNumericId(e).compare(Cs.extractNumericId(t)):rv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ka.fromString(e.substring(4,e.length-2))}}class $t extends Cs{construct(e,t,s){return new $t(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new we(ce.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new $t(t)}static emptyPath(){return new $t([])}}const u6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yn extends Cs{construct(e,t,s){return new Yn(e,t,s)}static isValidIdentifier(e){return u6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===SE}static keyField(){return new Yn([SE])}static fromServerFormat(e){const t=[];let s="",a=0;const o=()=>{if(s.length===0)throw new we(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let u=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new we(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new we(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,a+=2}else d==="`"?(u=!u,a++):d!=="."||u?(s+=d,a++):(o(),a++)}if(o(),u)throw new we(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yn(t)}static emptyPath(){return new Yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue($t.fromString(e))}static fromName(e){return new Ue($t.fromString(e).popFirst(5))}static empty(){return new Ue($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return $t.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new $t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(n,e,t){if(!t)throw new we(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function d6(n,e,t,s){if(e===!0&&s===!0)throw new we(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function AE(n){if(!Ue.isDocumentKey(n))throw new we(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function CE(n){if(Ue.isDocumentKey(n))throw new we(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function oA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Om(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":$e(12329,{type:typeof n})}function dr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Om(n);throw new we(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function f6(n,e){if(e<=0)throw new we(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Id(n,e){if(!oA(n))throw new we(ce.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const a=e[s].typeString,o="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const u=n[s];if(a&&typeof u!==a){t=`JSON field '${s}' must be a ${a}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${s}' field to equal '${o.value}'`;break}}if(t)throw new we(ce.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=-62135596800,NE=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*NE);return new At(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<RE)throw new we(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/NE}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Id(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-RE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:Tn("string",At._jsonSchemaVersion),seconds:Tn("number"),nanoseconds:Tn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{static fromTimestamp(e){return new Ze(e)}static min(){return new Ze(new At(0,0))}static max(){return new Ze(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd=-1;function h6(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=Ze.fromTimestamp(s===1e9?new At(t+1,0):new At(t,s));return new Pa(a,Ue.empty(),e)}function m6(n){return new Pa(n.readTime,n.key,cd)}class Pa{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Pa(Ze.min(),Ue.empty(),cd)}static max(){return new Pa(Ze.max(),Ue.empty(),cd)}}function p6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ue.comparator(n.documentKey,e.documentKey),t!==0?t:lt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==g6)throw n;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((s,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(s,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,s)=>{t(e)})}static reject(e){return new fe((t,s)=>{s(e)})}static waitFor(e){return new fe((t,s)=>{let a=0,o=0,u=!1;e.forEach(d=>{++a,d.next(()=>{++o,u&&o===a&&t()},p=>s(p))}),u=!0,o===a&&t()})}static or(e){let t=fe.resolve(!1);for(const s of e)t=t.next(a=>a?fe.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,o)=>{s.push(t.call(this,a,o))}),this.waitFor(s)}static mapArray(e,t){return new fe((s,a)=>{const o=e.length,u=new Array(o);let d=0;for(let p=0;p<o;p++){const g=p;t(e[g]).next(v=>{u[g]=v,++d,d===o&&s(u)},v=>a(v))}})}static doWhile(e,t){return new fe((s,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):s()};o()})}}function v6(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ic(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this._e(s),this.ae=s=>t.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}jm.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=-1;function Mm(n){return n==null}function tm(n){return n===0&&1/n==-1/0}function _6(n){return typeof n=="number"&&Number.isInteger(n)&&!tm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="";function b6(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=IE(e)),e=x6(n.get(t),e);return IE(e)}function x6(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case lA:t+="";break;default:t+=o}}return t}function IE(n){return n+lA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ya(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function cA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,t){this.comparator=e,this.root=t||Gn.EMPTY}insert(e,t){return new nn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gn.BLACK,null,null))}remove(e){return new nn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ph(this.root,e,this.comparator,!0)}}class ph{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?s(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gn{constructor(e,t,s,a,o){this.key=e,this.value=t,this.color=s??Gn.RED,this.left=a??Gn.EMPTY,this.right=o??Gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,o){return new Gn(e??this.key,t??this.value,s??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const o=s(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,s),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Gn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw $e(27949);return e+(this.isRed()?0:1)}}Gn.EMPTY=null,Gn.RED=!0,Gn.BLACK=!1;Gn.EMPTY=new class{constructor(){this.size=0}get key(){throw $e(57766)}get value(){throw $e(16141)}get color(){throw $e(16727)}get left(){throw $e(29726)}get right(){throw $e(36894)}copy(e,t,s,a,o){return this}insert(e,t,s){return new Gn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.comparator=e,this.data=new nn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new DE(this.data.getIterator())}getIteratorFrom(e){return new DE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=s.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dn(this.comparator);return t.data=e,t}}class DE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.fields=e,e.sort(Yn.comparator)}static empty(){return new Rr([])}unionWith(e){let t=new Dn(Yn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Rr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return lc(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new uA("Invalid base64 string: "+o):o}}(e);return new Wn(t)}static fromUint8Array(e){const t=function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(e);return new Wn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wn.EMPTY_BYTE_STRING=new Wn("");const w6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Va(n){if(jt(!!n,39018),typeof n=="string"){let e=0;const t=w6.exec(n);if(jt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pn(n.seconds),nanos:pn(n.nanos)}}function pn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function La(n){return typeof n=="string"?Wn.fromBase64String(n):Wn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="server_timestamp",fA="__type__",hA="__previous_value__",mA="__local_write_time__";function l0(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[fA])===null||t===void 0?void 0:t.stringValue)===dA}function Pm(n){const e=n.mapValue.fields[hA];return l0(e)?Pm(e):e}function ud(n){const e=Va(n.mapValue.fields[mA].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,t,s,a,o,u,d,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const nm="(default)";class dd{constructor(e,t){this.projectId=e,this.database=t||nm}static empty(){return new dd("","")}get isDefaultDatabase(){return this.database===nm}isEqual(e){return e instanceof dd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="__type__",T6="__max__",gh={mapValue:{}},gA="__vector__",rm="value";function Ua(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?l0(n)?4:A6(n)?9007199254740991:S6(n)?10:11:$e(28295,{value:n})}function qs(n,e){if(n===e)return!0;const t=Ua(n);if(t!==Ua(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ud(n).isEqual(ud(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=Va(a.timestampValue),d=Va(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,o){return La(a.bytesValue).isEqual(La(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,o){return pn(a.geoPointValue.latitude)===pn(o.geoPointValue.latitude)&&pn(a.geoPointValue.longitude)===pn(o.geoPointValue.longitude)}(n,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return pn(a.integerValue)===pn(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=pn(a.doubleValue),d=pn(o.doubleValue);return u===d?tm(u)===tm(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return lc(n.arrayValue.values||[],e.arrayValue.values||[],qs);case 10:case 11:return function(a,o){const u=a.mapValue.fields||{},d=o.mapValue.fields||{};if(kE(u)!==kE(d))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(d[p]===void 0||!qs(u[p],d[p])))return!1;return!0}(n,e);default:return $e(52216,{left:n})}}function fd(n,e){return(n.values||[]).find(t=>qs(t,e))!==void 0}function cc(n,e){if(n===e)return 0;const t=Ua(n),s=Ua(e);if(t!==s)return lt(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return lt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const d=pn(o.integerValue||o.doubleValue),p=pn(u.integerValue||u.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return OE(n.timestampValue,e.timestampValue);case 4:return OE(ud(n),ud(e));case 5:return rv(n.stringValue,e.stringValue);case 6:return function(o,u){const d=La(o),p=La(u);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),p=u.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=lt(d[g],p[g]);if(v!==0)return v}return lt(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const d=lt(pn(o.latitude),pn(u.latitude));return d!==0?d:lt(pn(o.longitude),pn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return jE(n.arrayValue,e.arrayValue);case 10:return function(o,u){var d,p,g,v;const x=o.fields||{},b=u.fields||{},S=(d=x[rm])===null||d===void 0?void 0:d.arrayValue,R=(p=b[rm])===null||p===void 0?void 0:p.arrayValue,C=lt(((g=S==null?void 0:S.values)===null||g===void 0?void 0:g.length)||0,((v=R==null?void 0:R.values)===null||v===void 0?void 0:v.length)||0);return C!==0?C:jE(S,R)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===gh.mapValue&&u===gh.mapValue)return 0;if(o===gh.mapValue)return 1;if(u===gh.mapValue)return-1;const d=o.fields||{},p=Object.keys(d),g=u.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let x=0;x<p.length&&x<v.length;++x){const b=rv(p[x],v[x]);if(b!==0)return b;const S=cc(d[p[x]],g[v[x]]);if(S!==0)return S}return lt(p.length,v.length)}(n.mapValue,e.mapValue);default:throw $e(23264,{le:t})}}function OE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return lt(n,e);const t=Va(n),s=Va(e),a=lt(t.seconds,s.seconds);return a!==0?a:lt(t.nanos,s.nanos)}function jE(n,e){const t=n.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const o=cc(t[a],s[a]);if(o)return o}return lt(t.length,s.length)}function uc(n){return sv(n)}function sv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const s=Va(t);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return La(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ue.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let s="[",a=!0;for(const o of t.values||[])a?a=!1:s+=",",s+=sv(o);return s+"]"}(n.arrayValue):"mapValue"in n?function(t){const s=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const u of s)o?o=!1:a+=",",a+=`${u}:${sv(t.fields[u])}`;return a+"}"}(n.mapValue):$e(61005,{value:n})}function Mh(n){switch(Ua(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pm(n);return e?16+Mh(e):16;case 5:return 2*n.stringValue.length;case 6:return La(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,o)=>a+Mh(o),0)}(n.arrayValue);case 10:case 11:return function(s){let a=0;return Ya(s.fields,(o,u)=>{a+=o.length+Mh(u)}),a}(n.mapValue);default:throw $e(13486,{value:n})}}function ME(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function iv(n){return!!n&&"integerValue"in n}function c0(n){return!!n&&"arrayValue"in n}function PE(n){return!!n&&"nullValue"in n}function VE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ph(n){return!!n&&"mapValue"in n}function S6(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[pA])===null||t===void 0?void 0:t.stringValue)===gA}function td(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ya(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=td(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=td(n.arrayValue.values[t]);return e}return Object.assign({},n)}function A6(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===T6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.value=e}static empty(){return new yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Ph(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=td(t)}setAll(e){let t=Yn.emptyPath(),s={},a=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,a),s={},a=[],t=d.popLast()}u?s[d.lastSegment()]=td(u):a.push(d.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,s,a)}delete(e){const t=this.field(e.popLast());Ph(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Ph(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Ya(t,(a,o)=>e[a]=o);for(const a of s)delete e[a]}clone(){return new yr(td(this.value))}}function yA(n){const e=[];return Ya(n.fields,(t,s)=>{const a=new Yn([t]);if(Ph(s)){const o=yA(s.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)}),new Rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,t,s,a,o,u,d){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=o,this.data=u,this.documentState=d}static newInvalidDocument(e){return new nr(e,0,Ze.min(),Ze.min(),Ze.min(),yr.empty(),0)}static newFoundDocument(e,t,s,a){return new nr(e,1,t,Ze.min(),s,a,0)}static newNoDocument(e,t){return new nr(e,2,t,Ze.min(),Ze.min(),yr.empty(),0)}static newUnknownDocument(e,t){return new nr(e,3,t,Ze.min(),Ze.min(),yr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,t){this.position=e,this.inclusive=t}}function LE(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const o=e[a],u=n.position[a];if(o.field.isKeyField()?s=Ue.comparator(Ue.fromName(u.referenceValue),t.key):s=cc(u,t.data.field(o.field)),o.dir==="desc"&&(s*=-1),s!==0)break}return s}function UE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!qs(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,t="asc"){this.field=e,this.dir=t}}function C6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{}class En extends vA{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new N6(e,t,s):t==="array-contains"?new D6(e,s):t==="in"?new O6(e,s):t==="not-in"?new j6(e,s):t==="array-contains-any"?new M6(e,s):new En(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new I6(e,s):new k6(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(cc(t,this.value)):t!==null&&Ua(this.value)===Ua(t)&&this.matchesComparison(cc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class as extends vA{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new as(e,t)}matches(e){return _A(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function _A(n){return n.op==="and"}function bA(n){return R6(n)&&_A(n)}function R6(n){for(const e of n.filters)if(e instanceof as)return!1;return!0}function av(n){if(n instanceof En)return n.field.canonicalString()+n.op.toString()+uc(n.value);if(bA(n))return n.filters.map(e=>av(e)).join(",");{const e=n.filters.map(t=>av(t)).join(",");return`${n.op}(${e})`}}function xA(n,e){return n instanceof En?function(s,a){return a instanceof En&&s.op===a.op&&s.field.isEqual(a.field)&&qs(s.value,a.value)}(n,e):n instanceof as?function(s,a){return a instanceof as&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((o,u,d)=>o&&xA(u,a.filters[d]),!0):!1}(n,e):void $e(19439)}function wA(n){return n instanceof En?function(t){return`${t.field.canonicalString()} ${t.op} ${uc(t.value)}`}(n):n instanceof as?function(t){return t.op.toString()+" {"+t.getFilters().map(wA).join(" ,")+"}"}(n):"Filter"}class N6 extends En{constructor(e,t,s){super(e,t,s),this.key=Ue.fromName(s.referenceValue)}matches(e){const t=Ue.comparator(e.key,this.key);return this.matchesComparison(t)}}class I6 extends En{constructor(e,t){super(e,"in",t),this.keys=EA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class k6 extends En{constructor(e,t){super(e,"not-in",t),this.keys=EA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function EA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>Ue.fromName(s.referenceValue))}class D6 extends En{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return c0(t)&&fd(t.arrayValue,this.value)}}class O6 extends En{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&fd(this.value.arrayValue,t)}}class j6 extends En{constructor(e,t){super(e,"not-in",t)}matches(e){if(fd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!fd(this.value.arrayValue,t)}}class M6 extends En{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!c0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>fd(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e,t=null,s=[],a=[],o=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=o,this.startAt=u,this.endAt=d,this.Pe=null}}function zE(n,e=null,t=[],s=[],a=null,o=null,u=null){return new P6(n,e,t,s,a,o,u)}function u0(n){const e=st(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>av(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(o){return o.field.canonicalString()+o.dir}(s)).join(","),Mm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>uc(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>uc(s)).join(",")),e.Pe=t}return e.Pe}function d0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!C6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!xA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!UE(n.startAt,e.startAt)&&UE(n.endAt,e.endAt)}function ov(n){return Ue.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,t=null,s=[],a=[],o=null,u="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=o,this.limitType=u,this.startAt=d,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function V6(n,e,t,s,a,o,u,d){return new kc(n,e,t,s,a,o,u,d)}function Vm(n){return new kc(n)}function BE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function TA(n){return n.collectionGroup!==null}function nd(n){const e=st(n);if(e.Te===null){e.Te=[];const t=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Dn(Yn.comparator);return u.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new hd(o,s))}),t.has(Yn.keyField().canonicalString())||e.Te.push(new hd(Yn.keyField(),s))}return e.Te}function Ps(n){const e=st(n);return e.Ie||(e.Ie=L6(e,nd(n))),e.Ie}function L6(n,e){if(n.limitType==="F")return zE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new hd(a.field,o)});const t=n.endAt?new sm(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new sm(n.startAt.position,n.startAt.inclusive):null;return zE(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function lv(n,e){const t=n.filters.concat([e]);return new kc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function im(n,e,t){return new kc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Lm(n,e){return d0(Ps(n),Ps(e))&&n.limitType===e.limitType}function SA(n){return`${u0(Ps(n))}|lt:${n.limitType}`}function Fl(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(a=>wA(a)).join(", ")}]`),Mm(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(a=>uc(a)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(a=>uc(a)).join(",")),`Target(${s})`}(Ps(n))}; limitType=${n.limitType})`}function Um(n,e){return e.isFoundDocument()&&function(s,a){const o=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(o):Ue.isDocumentKey(s.path)?s.path.isEqual(o):s.path.isImmediateParentOf(o)}(n,e)&&function(s,a){for(const o of nd(s))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,e)&&function(s,a){for(const o of s.filters)if(!o.matches(a))return!1;return!0}(n,e)&&function(s,a){return!(s.startAt&&!function(u,d,p){const g=LE(u,d,p);return u.inclusive?g<=0:g<0}(s.startAt,nd(s),a)||s.endAt&&!function(u,d,p){const g=LE(u,d,p);return u.inclusive?g>=0:g>0}(s.endAt,nd(s),a))}(n,e)}function U6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function AA(n){return(e,t)=>{let s=!1;for(const a of nd(n)){const o=z6(a,e,t);if(o!==0)return o;s=s||a.field.isKeyField()}return 0}}function z6(n,e,t){const s=n.field.isKeyField()?Ue.comparator(e.key,t.key):function(o,u,d){const p=u.data.field(o),g=d.data.field(o);return p!==null&&g!==null?cc(p,g):$e(42886)}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return $e(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,o]of s)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ya(this.inner,(t,s)=>{for(const[a,o]of s)e(a,o)})}isEmpty(){return cA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=new nn(Ue.comparator);function ki(){return B6}const CA=new nn(Ue.comparator);function Ku(...n){let e=CA;for(const t of n)e=e.insert(t.key,t);return e}function RA(n){let e=CA;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ko(){return rd()}function NA(){return rd()}function rd(){return new Go(n=>n.toString(),(n,e)=>n.isEqual(e))}const F6=new nn(Ue.comparator),q6=new Dn(Ue.comparator);function vt(...n){let e=q6;for(const t of n)e=e.add(t);return e}const H6=new Dn(lt);function $6(){return H6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tm(e)?"-0":e}}function IA(n){return{integerValue:""+n}}function G6(n,e){return _6(e)?IA(e):f0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(){this._=void 0}}function Y6(n,e,t){return n instanceof am?function(a,o){const u={fields:{[fA]:{stringValue:dA},[mA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&l0(o)&&(o=Pm(o)),o&&(u.fields[hA]=o),{mapValue:u}}(t,e):n instanceof md?DA(n,e):n instanceof pd?OA(n,e):function(a,o){const u=kA(a,o),d=FE(u)+FE(a.Ee);return iv(u)&&iv(a.Ee)?IA(d):f0(a.serializer,d)}(n,e)}function K6(n,e,t){return n instanceof md?DA(n,e):n instanceof pd?OA(n,e):t}function kA(n,e){return n instanceof om?function(s){return iv(s)||function(o){return!!o&&"doubleValue"in o}(s)}(e)?e:{integerValue:0}:null}class am extends zm{}class md extends zm{constructor(e){super(),this.elements=e}}function DA(n,e){const t=jA(e);for(const s of n.elements)t.some(a=>qs(a,s))||t.push(s);return{arrayValue:{values:t}}}class pd extends zm{constructor(e){super(),this.elements=e}}function OA(n,e){let t=jA(e);for(const s of n.elements)t=t.filter(a=>!qs(a,s));return{arrayValue:{values:t}}}class om extends zm{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function FE(n){return pn(n.integerValue||n.doubleValue)}function jA(n){return c0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function W6(n,e){return n.field.isEqual(e.field)&&function(s,a){return s instanceof md&&a instanceof md||s instanceof pd&&a instanceof pd?lc(s.elements,a.elements,qs):s instanceof om&&a instanceof om?qs(s.Ee,a.Ee):s instanceof am&&a instanceof am}(n.transform,e.transform)}class Q6{constructor(e,t){this.version=e,this.transformResults=t}}class fr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Bm{}function MA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Fm(n.key,fr.none()):new kd(n.key,n.data,fr.none());{const t=n.data,s=yr.empty();let a=new Dn(Yn.comparator);for(let o of e.fields)if(!a.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?s.delete(o):s.set(o,u),a=a.add(o)}return new Ka(n.key,s,new Rr(a.toArray()),fr.none())}}function X6(n,e,t){n instanceof kd?function(a,o,u){const d=a.value.clone(),p=HE(a.fieldTransforms,o,u.transformResults);d.setAll(p),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ka?function(a,o,u){if(!Vh(a.precondition,o))return void o.convertToUnknownDocument(u.version);const d=HE(a.fieldTransforms,o,u.transformResults),p=o.data;p.setAll(PA(a)),p.setAll(d),o.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function sd(n,e,t,s){return n instanceof kd?function(o,u,d,p){if(!Vh(o.precondition,u))return d;const g=o.value.clone(),v=$E(o.fieldTransforms,p,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(n,e,t,s):n instanceof Ka?function(o,u,d,p){if(!Vh(o.precondition,u))return d;const g=$E(o.fieldTransforms,p,u),v=u.data;return v.setAll(PA(o)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(x=>x.field))}(n,e,t,s):function(o,u,d){return Vh(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function Z6(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),o=kA(s.transform,a||null);o!=null&&(t===null&&(t=yr.empty()),t.set(s.field,o))}return t||null}function qE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&lc(s,a,(o,u)=>W6(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class kd extends Bm{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ka extends Bm{constructor(e,t,s,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function PA(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function HE(n,e,t){const s=new Map;jt(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let a=0;a<t.length;a++){const o=n[a],u=o.transform,d=e.data.field(o.field);s.set(o.field,K6(u,d,t[a]))}return s}function $E(n,e,t){const s=new Map;for(const a of n){const o=a.transform,u=t.data.field(a.field);s.set(a.field,Y6(o,u,e))}return s}class Fm extends Bm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class J6 extends Bm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&X6(o,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=sd(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=sd(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=NA();return this.mutations.forEach(a=>{const o=e.get(a.key),u=o.overlayedDocument;let d=this.applyToLocalView(u,o.mutatedFields);d=t.has(a.key)?null:d;const p=MA(u,d);p!==null&&s.set(a.key,p),u.isValidDocument()||u.convertToNoDocument(Ze.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),vt())}isEqual(e){return this.batchId===e.batchId&&lc(this.mutations,e.mutations,(t,s)=>qE(t,s))&&lc(this.baseMutations,e.baseMutations,(t,s)=>qE(t,s))}}class h0{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){jt(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let a=function(){return F6}();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,s[u].version);return new h0(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xn,Et;function rM(n){switch(n){case ce.OK:return $e(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return $e(15467,{code:n})}}function VA(n){if(n===void 0)return Ii("GRPC error has no .code"),ce.UNKNOWN;switch(n){case xn.OK:return ce.OK;case xn.CANCELLED:return ce.CANCELLED;case xn.UNKNOWN:return ce.UNKNOWN;case xn.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case xn.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case xn.INTERNAL:return ce.INTERNAL;case xn.UNAVAILABLE:return ce.UNAVAILABLE;case xn.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case xn.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case xn.NOT_FOUND:return ce.NOT_FOUND;case xn.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case xn.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case xn.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case xn.ABORTED:return ce.ABORTED;case xn.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case xn.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case xn.DATA_LOSS:return ce.DATA_LOSS;default:return $e(39323,{code:n})}}(Et=xn||(xn={}))[Et.OK=0]="OK",Et[Et.CANCELLED=1]="CANCELLED",Et[Et.UNKNOWN=2]="UNKNOWN",Et[Et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Et[Et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Et[Et.NOT_FOUND=5]="NOT_FOUND",Et[Et.ALREADY_EXISTS=6]="ALREADY_EXISTS",Et[Et.PERMISSION_DENIED=7]="PERMISSION_DENIED",Et[Et.UNAUTHENTICATED=16]="UNAUTHENTICATED",Et[Et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Et[Et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Et[Et.ABORTED=10]="ABORTED",Et[Et.OUT_OF_RANGE=11]="OUT_OF_RANGE",Et[Et.UNIMPLEMENTED=12]="UNIMPLEMENTED",Et[Et.INTERNAL=13]="INTERNAL",Et[Et.UNAVAILABLE=14]="UNAVAILABLE",Et[Et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=new ka([4294967295,4294967295],0);function GE(n){const e=iA().encode(n),t=new X1;return t.update(e),new Uint8Array(t.digest())}function YE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ka([t,s],0),new ka([a,o],0)]}class m0{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Wu(`Invalid padding: ${t}`);if(s<0)throw new Wu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Wu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Wu(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=ka.fromNumber(this.fe)}pe(e,t,s){let a=e.add(t.multiply(ka.fromNumber(s)));return a.compare(sM)===1&&(a=new ka([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=GE(e),[s,a]=YE(t);for(let o=0;o<this.hashCount;o++){const u=this.pe(s,a,o);if(!this.ye(u))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new m0(o,a,t);return s.forEach(d=>u.insert(d)),u}insert(e){if(this.fe===0)return;const t=GE(e),[s,a]=YE(t);for(let o=0;o<this.hashCount;o++){const u=this.pe(s,a,o);this.we(u)}}we(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Wu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,t,s,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Dd.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new qm(Ze.min(),a,new nn(lt),ki(),vt())}}class Dd{constructor(e,t,s,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Dd(s,t,vt(),vt(),vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,t,s,a){this.Se=e,this.removedTargetIds=t,this.key=s,this.be=a}}class LA{constructor(e,t){this.targetId=e,this.De=t}}class UA{constructor(e,t,s=Wn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class KE{constructor(){this.ve=0,this.Ce=WE(),this.Fe=Wn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=vt(),t=vt(),s=vt();return this.Ce.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:$e(38017,{changeType:o})}}),new Dd(this.Fe,this.Me,e,t,s)}ke(){this.xe=!1,this.Ce=WE()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class iM{constructor(e){this.We=e,this.Ge=new Map,this.ze=ki(),this.je=yh(),this.Je=yh(),this.He=new nn(lt)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const s=this.tt(t);switch(e.state){case 0:this.nt(t)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),s.Be(e.resumeToken));break;default:$e(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((s,a)=>{this.nt(a)&&t(a)})}it(e){const t=e.targetId,s=e.De.count,a=this.st(t);if(a){const o=a.target;if(ov(o))if(s===0){const u=new Ue(o.path);this.Xe(t,u,nr.newNoDocument(u,Ze.min()))}else jt(s===1,20013,{expectedCount:s});else{const u=this.ot(t);if(u!==s){const d=this._t(e),p=d?this.ut(d,e,u):1;if(p!==0){this.rt(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:o=0}=t;let u,d;try{u=La(s).toUint8Array()}catch(p){if(p instanceof uA)return Ma("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new m0(u,a,o)}catch(p){return Ma(p instanceof Wu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.fe===0?null:d}ut(e,t,s){return t.De.count===s-this.ht(e,t.targetId)?0:2}ht(e,t){const s=this.We.getRemoteKeysForTarget(t);let a=0;return s.forEach(o=>{const u=this.We.lt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.Xe(t,o,null),a++)}),a}Pt(e){const t=new Map;this.Ge.forEach((o,u)=>{const d=this.st(u);if(d){if(o.current&&ov(d.target)){const p=new Ue(d.target.path);this.Tt(p).has(u)||this.It(u,p)||this.Xe(u,p,nr.newNoDocument(p,e))}o.Ne&&(t.set(u,o.Le()),o.ke())}});let s=vt();this.Je.forEach((o,u)=>{let d=!0;u.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(o))}),this.ze.forEach((o,u)=>u.setReadTime(e));const a=new qm(e,t,this.He,this.ze,s);return this.ze=ki(),this.je=yh(),this.Je=yh(),this.He=new nn(lt),a}Ze(e,t){if(!this.nt(e))return;const s=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,s),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,s){if(!this.nt(e))return;const a=this.tt(e);this.It(e,t)?a.qe(t,1):a.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),s&&(this.ze=this.ze.insert(t,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new KE,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Dn(lt),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Dn(lt),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||Se("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new KE),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function yh(){return new nn(Ue.comparator)}function WE(){return new nn(Ue.comparator)}const aM={asc:"ASCENDING",desc:"DESCENDING"},oM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lM={and:"AND",or:"OR"};class cM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function cv(n,e){return n.useProto3Json||Mm(e)?e:{value:e}}function lm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function uM(n,e){return lm(n,e.toTimestamp())}function Vs(n){return jt(!!n,49232),Ze.fromTimestamp(function(t){const s=Va(t);return new At(s.seconds,s.nanos)}(n))}function p0(n,e){return uv(n,e).canonicalString()}function uv(n,e){const t=function(a){return new $t(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function BA(n){const e=$t.fromString(n);return jt(GA(e),10190,{key:e.toString()}),e}function dv(n,e){return p0(n.databaseId,e.path)}function xy(n,e){const t=BA(e);if(t.get(1)!==n.databaseId.projectId)throw new we(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new we(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ue(qA(t))}function FA(n,e){return p0(n.databaseId,e)}function dM(n){const e=BA(n);return e.length===4?$t.emptyPath():qA(e)}function fv(n){return new $t(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function qA(n){return jt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function QE(n,e,t){return{name:dv(n,e),fields:t.value.mapValue.fields}}function fM(n,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:$e(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(g,v){return g.useProto3Json?(jt(v===void 0||typeof v=="string",58123),Wn.fromBase64String(v||"")):(jt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Wn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(g){const v=g.code===void 0?ce.UNKNOWN:VA(g.code);return new we(v,g.message||"")}(u);t=new UA(s,a,o,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=xy(n,s.document.name),o=Vs(s.document.updateTime),u=s.document.createTime?Vs(s.document.createTime):Ze.min(),d=new yr({mapValue:{fields:s.document.fields}}),p=nr.newFoundDocument(a,o,u,d),g=s.targetIds||[],v=s.removedTargetIds||[];t=new Lh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=xy(n,s.document),o=s.readTime?Vs(s.readTime):Ze.min(),u=nr.newNoDocument(a,o),d=s.removedTargetIds||[];t=new Lh([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=xy(n,s.document),o=s.removedTargetIds||[];t=new Lh([],o,a,null)}else{if(!("filter"in e))return $e(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:o}=s,u=new nM(a,o),d=s.targetId;t=new LA(d,u)}}return t}function hM(n,e){let t;if(e instanceof kd)t={update:QE(n,e.key,e.value)};else if(e instanceof Fm)t={delete:dv(n,e.key)};else if(e instanceof Ka)t={update:QE(n,e.key,e.data),updateMask:wM(e.fieldMask)};else{if(!(e instanceof J6))return $e(16599,{Rt:e.type});t={verify:dv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(o,u){const d=u.transform;if(d instanceof am)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof md)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof pd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof om)return{fieldPath:u.field.canonicalString(),increment:d.Ee};throw $e(20930,{transform:u.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:uM(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:$e(27497)}(n,e.precondition)),t}function mM(n,e){return n&&n.length>0?(jt(e!==void 0,14353),n.map(t=>function(a,o){let u=a.updateTime?Vs(a.updateTime):Vs(o);return u.isEqual(Ze.min())&&(u=Vs(o)),new Q6(u,a.transformResults||[])}(t,e))):[]}function pM(n,e){return{documents:[FA(n,e.path)]}}function gM(n,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=FA(n,a);const o=function(g){if(g.length!==0)return $A(as.create(g,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(g){if(g.length!==0)return g.map(v=>function(b){return{field:ql(b.field),direction:_M(b.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=cv(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:t,parent:a}}function yM(n){let e=dM(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){jt(s===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let o=[];t.where&&(o=function(x){const b=HA(x);return b instanceof as&&bA(b)?b.getFilters():[b]}(t.where));let u=[];t.orderBy&&(u=function(x){return x.map(b=>function(R){return new hd(Hl(R.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(b))}(t.orderBy));let d=null;t.limit&&(d=function(x){let b;return b=typeof x=="object"?x.value:x,Mm(b)?null:b}(t.limit));let p=null;t.startAt&&(p=function(x){const b=!!x.before,S=x.values||[];return new sm(S,b)}(t.startAt));let g=null;return t.endAt&&(g=function(x){const b=!x.before,S=x.values||[];return new sm(S,b)}(t.endAt)),V6(e,a,u,o,d,"F",p,g)}function vM(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function HA(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Hl(t.unaryFilter.field);return En.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Hl(t.unaryFilter.field);return En.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Hl(t.unaryFilter.field);return En.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Hl(t.unaryFilter.field);return En.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $e(61313);default:return $e(60726)}}(n):n.fieldFilter!==void 0?function(t){return En.create(Hl(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $e(58110);default:return $e(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return as.create(t.compositeFilter.filters.map(s=>HA(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return $e(1026)}}(t.compositeFilter.op))}(n):$e(30097,{filter:n})}function _M(n){return aM[n]}function bM(n){return oM[n]}function xM(n){return lM[n]}function ql(n){return{fieldPath:n.canonicalString()}}function Hl(n){return Yn.fromServerFormat(n.fieldPath)}function $A(n){return n instanceof En?function(t){if(t.op==="=="){if(VE(t.value))return{unaryFilter:{field:ql(t.field),op:"IS_NAN"}};if(PE(t.value))return{unaryFilter:{field:ql(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(VE(t.value))return{unaryFilter:{field:ql(t.field),op:"IS_NOT_NAN"}};if(PE(t.value))return{unaryFilter:{field:ql(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ql(t.field),op:bM(t.op),value:t.value}}}(n):n instanceof as?function(t){const s=t.getFilters().map(a=>$A(a));return s.length===1?s[0]:{compositeFilter:{op:xM(t.op),filters:s}}}(n):$e(54877,{filter:n})}function wM(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function GA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t,s,a,o=Ze.min(),u=Ze.min(),d=Wn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.gt=e}}function TM(n){const e=yM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?im(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(){this.Dn=new AM}addToCollectionParentIndex(e,t){return this.Dn.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(Pa.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(Pa.min())}updateCollectionGroup(e,t,s){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class AM{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Dn($t.comparator),o=!a.has(s);return this.index[t]=a.add(s),o}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Dn($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YA=41943040;class gr{static withCacheSize(e){return new gr(e,gr.DEFAULT_COLLECTION_PERCENTILE,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr.DEFAULT_COLLECTION_PERCENTILE=10,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gr.DEFAULT=new gr(YA,gr.DEFAULT_COLLECTION_PERCENTILE,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gr.DISABLED=new gr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new dc(0)}static ur(){return new dc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="LruGarbageCollector",CM=1048576;function JE([n,e],[t,s]){const a=lt(n,t);return a===0?lt(e,s):a}class RM{constructor(e){this.Tr=e,this.buffer=new Dn(JE),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();JE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class NM{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Se(ZE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ic(t)?Se(ZE,"Ignoring IndexedDB error during garbage collection: ",t):await Nc(t)}await this.Rr(3e5)})}}class IM{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return fe.resolve(jm.ue);const s=new RM(t);return this.Vr.forEachTarget(e,a=>s.Er(a.sequenceNumber)).next(()=>this.Vr.gr(e,a=>s.Er(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(XE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XE):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let s,a,o,u,d,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,u=Date.now(),this.nthSequenceNumber(e,a))).next(x=>(s=x,d=Date.now(),this.removeTargets(e,s,t))).next(x=>(o=x,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(x=>(g=Date.now(),Bl()<=yt.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(d-u)+`ms
	Removed ${o} targets in `+(p-d)+`ms
	Removed ${x} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:x})))}}function kM(n,e){return new IM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.changes=new Go(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?fe.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(s!==null&&sd(s.mutation,a,Rr.empty(),At.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,vt()).next(()=>s))}getLocalViewOfDocuments(e,t,s=vt()){const a=ko();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(o=>{let u=Ku();return o.forEach((d,p)=>{u=u.insert(d,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const s=ko();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,vt()))}populateOverlays(e,t,s){const a=[];return s.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,s,a){let o=ki();const u=rd(),d=function(){return rd()}();return t.forEach((p,g)=>{const v=s.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Ka)?o=o.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),sd(v.mutation,g,v.mutation.getFieldMask(),At.now())):u.set(g.key,Rr.empty())}),this.recalculateAndSaveOverlays(e,o).next(p=>(p.forEach((g,v)=>u.set(g,v)),t.forEach((g,v)=>{var x;return d.set(g,new OM(v,(x=u.get(g))!==null&&x!==void 0?x:null))}),d))}recalculateAndSaveOverlays(e,t){const s=rd();let a=new nn((u,d)=>u-d),o=vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let v=s.get(p)||Rr.empty();v=d.applyToLocalView(g,v),s.set(p,v);const x=(a.get(d.batchId)||vt()).add(p);a=a.insert(d.batchId,x)})}).next(()=>{const u=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,x=NA();v.forEach(b=>{if(!o.has(b)){const S=MA(t.get(b),s.get(b));S!==null&&x.set(b,S),o=o.add(b)}}),u.push(this.documentOverlayCache.saveOverlays(e,g,x))}return fe.waitFor(u)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,a){return function(u){return Ue.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):TA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-o.size):fe.resolve(ko());let d=cd,p=o;return u.next(g=>fe.forEach(g,(v,x)=>(d<x.largestBatchId&&(d=x.largestBatchId),o.get(v)?fe.resolve():this.remoteDocumentCache.getEntry(e,v).next(b=>{p=p.insert(v,b)}))).next(()=>this.populateOverlays(e,g,o)).next(()=>this.computeViews(e,p,g,vt())).next(v=>({batchId:d,changes:RA(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ue(t)).next(s=>{let a=Ku();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const o=t.collectionGroup;let u=Ku();return this.indexManager.getCollectionParents(e,o).next(d=>fe.forEach(d,p=>{const g=function(x,b){return new kc(b,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(t,p.child(o));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next(v=>{v.forEach((x,b)=>{u=u.insert(x,b)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,s,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,o,a))).next(u=>{o.forEach((p,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,nr.newInvalidDocument(v)))});let d=Ku();return u.forEach((p,g)=>{const v=o.get(p);v!==void 0&&sd(v.mutation,g,Rr.empty(),At.now()),Um(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return fe.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Vs(a.createTime)}}(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(a){return{name:a.name,query:TM(a.bundledQuery),readTime:Vs(a.readTime)}}(t)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(){this.overlays=new nn(Ue.comparator),this.kr=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ko();return fe.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&s.set(a,o)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,o)=>{this.wt(e,t,o)}),fe.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.kr.get(s);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(s)),fe.resolve()}getOverlaysForCollection(e,t,s){const a=ko(),o=t.length+1,u=new Ue(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===o&&p.largestBatchId>s&&a.set(p.getKey(),p)}return fe.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let o=new nn((g,v)=>g-v);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let v=o.get(g.largestBatchId);v===null&&(v=ko(),o=o.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=ko(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=a)););return fe.resolve(d)}wt(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.kr.get(a.largestBatchId).delete(s.key);this.kr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new tM(t,s));let o=this.kr.get(t);o===void 0&&(o=vt(),this.kr.set(t,o)),this.kr.set(t,o.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(){this.sessionToken=Wn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(){this.qr=new Dn(Un.Qr),this.$r=new Dn(Un.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const s=new Un(e,t);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Wr(new Un(e,t))}Gr(e,t){e.forEach(s=>this.removeReference(s,t))}zr(e){const t=new Ue(new $t([])),s=new Un(t,e),a=new Un(t,e+1),o=[];return this.$r.forEachInRange([s,a],u=>{this.Wr(u),o.push(u.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Ue(new $t([])),s=new Un(t,e),a=new Un(t,e+1);let o=vt();return this.$r.forEachInRange([s,a],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Un(e,0),s=this.qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Un{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Ue.comparator(e.key,t.key)||lt(e.Hr,t.Hr)}static Ur(e,t){return lt(e.Hr,t.Hr)||Ue.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Dn(Un.Qr)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new eM(o,t,s,a);this.mutationQueue.push(u);for(const d of a)this.Yr=this.Yr.add(new Un(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return fe.resolve(u)}lookupMutationBatch(e,t){return fe.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.Xr(s),o=a<0?0:a;return fe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?o0:this.er-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Un(t,0),a=new Un(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([s,a],u=>{const d=this.Zr(u.Hr);o.push(d)}),fe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Dn(lt);return t.forEach(a=>{const o=new Un(a,0),u=new Un(a,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,u],d=>{s=s.add(d.Hr)})}),fe.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let o=s;Ue.isDocumentKey(o)||(o=o.child(""));const u=new Un(new Ue(o),0);let d=new Dn(lt);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(p.Hr)),!0)},u),fe.resolve(this.ei(d))}ei(e){const t=[];return e.forEach(s=>{const a=this.Zr(s);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){jt(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return fe.forEach(t.mutations,a=>{const o=new Un(a.key,t.batchId);return s=s.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,t){const s=new Un(t,0),a=this.Yr.firstAfterOrEqual(s);return fe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.ni=e,this.docs=function(){return new nn(Ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),o=a?a.size:0,u=this.ni(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return fe.resolve(s?s.document.mutableCopy():nr.newInvalidDocument(t))}getEntries(e,t){let s=ki();return t.forEach(a=>{const o=this.docs.get(a);s=s.insert(a,o?o.document.mutableCopy():nr.newInvalidDocument(a))}),fe.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let o=ki();const u=t.path,d=new Ue(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||p6(m6(v),s)<=0||(a.has(v.key)||Um(t,v))&&(o=o.insert(v.key,v.mutableCopy()))}return fe.resolve(o)}getAllFromCollectionGroup(e,t,s,a){$e(9500)}ri(e,t){return fe.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new zM(this)}getSize(e){return fe.resolve(this.size)}}class zM extends DM{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.Or.addEntry(e,a)):this.Or.removeEntry(s)}),fe.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e){this.persistence=e,this.ii=new Go(t=>u0(t),d0),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.si=0,this.oi=new g0,this.targetCount=0,this._i=dc.ar()}forEachTarget(e,t){return this.ii.forEach((s,a)=>t(a)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.si&&(this.si=t),fe.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new dc(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.hr(t),fe.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,s){let a=0;const o=[];return this.ii.forEach((u,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.ii.delete(u),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),fe.waitFor(o).next(()=>a)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const s=this.ii.get(t)||null;return fe.resolve(s)}addMatchingKeys(e,t,s){return this.oi.Kr(t,s),fe.resolve()}removeMatchingKeys(e,t,s){this.oi.Gr(t,s);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(u=>{o.push(a.markPotentiallyOrphaned(e,u))}),fe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const s=this.oi.Jr(t);return fe.resolve(s)}containsKey(e,t){return fe.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,t){this.ai={},this.overlays={},this.ui=new jm(0),this.ci=!1,this.ci=!0,this.li=new VM,this.referenceDelegate=e(this),this.hi=new BM(this),this.indexManager=new SM,this.remoteDocumentCache=function(a){return new UM(a)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new EM(t),this.Ti=new MM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new PM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ai[e.toKey()];return s||(s=new LM(t,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,s){Se("MemoryPersistence","Starting transaction:",e);const a=new FM(this.ui.next());return this.referenceDelegate.Ii(),s(a).next(o=>this.referenceDelegate.di(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Ei(e,t){return fe.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,t)))}}class FM extends y6{constructor(e){super(),this.currentSequenceNumber=e}}class y0{constructor(e){this.persistence=e,this.Ai=new g0,this.Ri=null}static Vi(e){return new y0(e)}get mi(){if(this.Ri)return this.Ri;throw $e(60996)}addReference(e,t,s){return this.Ai.addReference(s,t),this.mi.delete(s.toString()),fe.resolve()}removeReference(e,t,s){return this.Ai.removeReference(s,t),this.mi.add(s.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(a=>this.mi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.mi.add(o.toString()))}).next(()=>s.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.mi,s=>{const a=Ue.fromPath(s);return this.fi(e,a).next(o=>{o||t.removeEntry(a,Ze.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(s=>{s?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return fe.or([()=>fe.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class cm{constructor(e,t){this.persistence=e,this.gi=new Go(s=>b6(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=kM(this,t)}static Vi(e,t){return new cm(e,t)}Ii(){}di(e){return fe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}yr(e){let t=0;return this.gr(e,s=>{t++}).next(()=>t)}gr(e,t){return fe.forEach(this.gi,(s,a)=>this.Sr(e,s,a).next(o=>o?fe.resolve():t(a)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ri(e,u=>this.Sr(e,u,t).next(d=>{d||(s++,o.removeEntry(u,Ze.min()))})).next(()=>o.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),fe.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),fe.resolve()}removeReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),fe.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Mh(e.data.value)),t}Sr(e,t,s){return fe.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.gi.get(t);return fe.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Is=s,this.ds=a}static Es(e,t){let s=vt(),a=vt();for(const o of t.docChanges)switch(o.type){case 0:s=s.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new v0(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return xO()?8:v6(rr())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,s,a){const o={result:null};return this.ps(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.ys(e,t,a,s).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new qM;return this.ws(e,t,u).next(d=>{if(o.result=d,this.Rs)return this.Ss(e,t,u,d.size)})}).next(()=>o.result)}Ss(e,t,s,a){return s.documentReadCount<this.Vs?(Bl()<=yt.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",Fl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),fe.resolve()):(Bl()<=yt.DEBUG&&Se("QueryEngine","Query:",Fl(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.fs*a?(Bl()<=yt.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",Fl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ps(t))):fe.resolve())}ps(e,t){if(BE(t))return fe.resolve(null);let s=Ps(t);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=im(t,null,"F"),s=Ps(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(o=>{const u=vt(...o);return this.gs.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.bs(t,d);return this.Ds(t,g,u,p.readTime)?this.ps(e,im(t,null,"F")):this.vs(e,g,t,p)}))})))}ys(e,t,s,a){return BE(t)||a.isEqual(Ze.min())?fe.resolve(null):this.gs.getDocuments(e,s).next(o=>{const u=this.bs(t,o);return this.Ds(t,u,s,a)?fe.resolve(null):(Bl()<=yt.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Fl(t)),this.vs(e,u,t,h6(a,cd)).next(d=>d))})}bs(e,t){let s=new Dn(AA(e));return t.forEach((a,o)=>{Um(e,o)&&(s=s.add(o))}),s}Ds(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}ws(e,t,s){return Bl()<=yt.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",Fl(t)),this.gs.getDocumentsMatchingQuery(e,t,Pa.min(),s)}vs(e,t,s,a){return this.gs.getDocumentsMatchingQuery(e,s,a).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="LocalStore",$M=3e8;class GM{constructor(e,t,s,a){this.persistence=e,this.Cs=t,this.serializer=a,this.Fs=new nn(lt),this.Ms=new Go(o=>u0(o),d0),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jM(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function YM(n,e,t,s){return new GM(n,e,t,s)}async function WA(n,e){const t=st(n);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(o=>(a=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(s))).next(o=>{const u=[],d=[];let p=vt();for(const g of a){u.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of o){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Bs:g,removedBatchIds:u,addedBatchIds:d}))})})}function KM(n,e){const t=st(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return function(d,p,g,v){const x=g.batch,b=x.keys();let S=fe.resolve();return b.forEach(R=>{S=S.next(()=>v.getEntry(p,R)).next(C=>{const I=g.docVersions.get(R);jt(I!==null,48541),C.version.compareTo(I)<0&&(x.applyToRemoteDocument(C,g),C.isValidDocument()&&(C.setReadTime(g.commitVersion),v.addEntry(C)))})}),S.next(()=>d.mutationQueue.removeMutationBatch(p,x))}(t,s,e,o).next(()=>o.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=vt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function QA(n){const e=st(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function WM(n,e){const t=st(n),s=e.snapshotVersion;let a=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Os.newChangeBuffer({trackRemovals:!0});a=t.Fs;const d=[];e.targetChanges.forEach((v,x)=>{const b=a.get(x);if(!b)return;d.push(t.hi.removeMatchingKeys(o,v.removedDocuments,x).next(()=>t.hi.addMatchingKeys(o,v.addedDocuments,x)));let S=b.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(x)!==null?S=S.withResumeToken(Wn.EMPTY_BYTE_STRING,Ze.min()).withLastLimboFreeSnapshotVersion(Ze.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,s)),a=a.insert(x,S),function(C,I,M){return C.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=$M?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(b,S,v)&&d.push(t.hi.updateTargetData(o,S))});let p=ki(),g=vt();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(o,v))}),d.push(QM(o,u,e.documentUpdates).next(v=>{p=v.Ls,g=v.ks})),!s.isEqual(Ze.min())){const v=t.hi.getLastRemoteSnapshotVersion(o).next(x=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,s));d.push(v)}return fe.waitFor(d).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,p,g)).next(()=>p)}).then(o=>(t.Fs=a,o))}function QM(n,e,t){let s=vt(),a=vt();return t.forEach(o=>s=s.add(o)),e.getEntries(n,s).next(o=>{let u=ki();return t.forEach((d,p)=>{const g=o.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(Ze.min())?(e.removeEntry(d,p.readTime),u=u.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),u=u.insert(d,p)):Se(_0,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Ls:u,ks:a}})}function XM(n,e){const t=st(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=o0),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function ZM(n,e){const t=st(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.hi.getTargetData(s,e).next(o=>o?(a=o,fe.resolve(a)):t.hi.allocateTargetId(s).next(u=>(a=new Sa(e,u,"TargetPurposeListen",s.currentSequenceNumber),t.hi.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Fs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(s.targetId,s),t.Ms.set(e,s.targetId)),s})}async function hv(n,e,t){const s=st(n),a=s.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",o,u=>s.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Ic(u))throw u;Se(_0,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(a.target)}function eT(n,e,t){const s=st(n);let a=Ze.min(),o=vt();return s.persistence.runTransaction("Execute query","readwrite",u=>function(p,g,v){const x=st(p),b=x.Ms.get(v);return b!==void 0?fe.resolve(x.Fs.get(b)):x.hi.getTargetData(g,v)}(s,u,Ps(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(u,d.targetId).next(p=>{o=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(u,e,t?a:Ze.min(),t?o:vt())).next(d=>(JM(s,U6(e),d),{documents:d,qs:o})))}function JM(n,e,t){let s=n.xs.get(e)||Ze.min();t.forEach((a,o)=>{o.readTime.compareTo(s)>0&&(s=o.readTime)}),n.xs.set(e,s)}class tT{constructor(){this.activeTargetIds=$6()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eP{constructor(){this.Fo=new tT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,s){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new tT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="ConnectivityMonitor";class rT{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Se(nT,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Se(nT,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh=null;function mv(){return vh===null?vh=function(){return 268435456+Math.round(2147483648*Math.random())}():vh++,"0x"+vh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="RestConnection",nP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rP{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.Ko=this.databaseId.database===nm?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,t,s,a,o){const u=mv(),d=this.Go(e,t.toUriEncodedString());Se(wy,`Sending RPC '${e}' ${u}:`,d,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,a,o);const{host:g}=new URL(d),v=Sc(g);return this.jo(e,d,p,s,v).then(x=>(Se(wy,`Received RPC '${e}' ${u}: `,x),x),x=>{throw Ma(wy,`RPC '${e}' ${u} failed with error: `,x,"url: ",d,"request:",s),x})}Jo(e,t,s,a,o,u){return this.Wo(e,t,s,a,o)}zo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),s&&s.headers.forEach((a,o)=>e[o]=a)}Go(e,t){const s=nP[e];return`${this.$o}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="WebChannelConnection";class iP extends rP{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,s,a,o){const u=mv();return new Promise((d,p)=>{const g=new Z1;g.setWithCredentials(!0),g.listenOnce(J1.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case jh.NO_ERROR:const x=g.getResponseJson();Se(er,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(x)),d(x);break;case jh.TIMEOUT:Se(er,`RPC '${e}' ${u} timed out`),p(new we(ce.DEADLINE_EXCEEDED,"Request time out"));break;case jh.HTTP_ERROR:const b=g.getStatus();if(Se(er,`RPC '${e}' ${u} failed with status:`,b,"response text:",g.getResponseText()),b>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const R=S==null?void 0:S.error;if(R&&R.status&&R.message){const C=function(M){const P=M.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(P)>=0?P:ce.UNKNOWN}(R.status);p(new we(C,R.message))}else p(new we(ce.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new we(ce.UNAVAILABLE,"Connection failed."));break;default:$e(9055,{c_:e,streamId:u,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{Se(er,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(a);Se(er,`RPC '${e}' ${u} sending request:`,a),g.send(t,"POST",v,s,15)})}P_(e,t,s){const a=mv(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=nA(),d=tA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const v=o.join("");Se(er,`Creating RPC '${e}' stream ${a}: ${v}`,p);const x=u.createWebChannel(v,p);this.T_(x);let b=!1,S=!1;const R=new sP({Ho:I=>{S?Se(er,`Not sending because RPC '${e}' stream ${a} is closed:`,I):(b||(Se(er,`Opening RPC '${e}' stream ${a} transport.`),x.open(),b=!0),Se(er,`RPC '${e}' stream ${a} sending:`,I),x.send(I))},Yo:()=>x.close()}),C=(I,M,P)=>{I.listen(M,L=>{try{P(L)}catch($){setTimeout(()=>{throw $},0)}})};return C(x,Yu.EventType.OPEN,()=>{S||(Se(er,`RPC '${e}' stream ${a} transport opened.`),R.s_())}),C(x,Yu.EventType.CLOSE,()=>{S||(S=!0,Se(er,`RPC '${e}' stream ${a} transport closed`),R.__(),this.I_(x))}),C(x,Yu.EventType.ERROR,I=>{S||(S=!0,Ma(er,`RPC '${e}' stream ${a} transport errored. Name:`,I.name,"Message:",I.message),R.__(new we(ce.UNAVAILABLE,"The operation could not be completed")))}),C(x,Yu.EventType.MESSAGE,I=>{var M;if(!S){const P=I.data[0];jt(!!P,16349);const L=P,$=(L==null?void 0:L.error)||((M=L[0])===null||M===void 0?void 0:M.error);if($){Se(er,`RPC '${e}' stream ${a} received error:`,$);const q=$.status;let X=function(O){const U=xn[O];if(U!==void 0)return VA(U)}(q),N=$.message;X===void 0&&(X=ce.INTERNAL,N="Unknown error status: "+q+" with message "+$.message),S=!0,R.__(new we(X,N)),x.close()}else Se(er,`RPC '${e}' stream ${a} received:`,P),R.a_(P)}}),C(d,eA.STAT_EVENT,I=>{I.stat===nv.PROXY?Se(er,`RPC '${e}' stream ${a} detected buffering proxy`):I.stat===nv.NOPROXY&&Se(er,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{R.o_()},0),R}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Ey(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(n){return new cM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,t,s=1e3,a=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=s,this.E_=a,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),a=Math.max(0,t-s);a>0&&Se("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="PersistentStream";class ZA{constructor(e,t,s,a,o,u,d,p){this.Fi=e,this.w_=s,this.S_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new XA(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(Ii(t.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.b_===t&&this.W_(s,a)},s=>{e(()=>{const a=new we(ce.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(a)})})}W_(e,t){const s=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(a=>{s(()=>this.G_(a))}),this.stream.onMessage(a=>{s(()=>++this.C_==1?this.j_(a):this.onNext(a))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Se(sT,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(Se(sT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aP extends ZA{constructor(e,t,s,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,u),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=fM(this.serializer,e),s=function(o){if(!("targetChange"in o))return Ze.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ze.min():u.readTime?Vs(u.readTime):Ze.min()}(e);return this.listener.J_(t,s)}H_(e){const t={};t.database=fv(this.serializer),t.addTarget=function(o,u){let d;const p=u.target;if(d=ov(p)?{documents:pM(o,p)}:{query:gM(o,p).Vt},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=zA(o,u.resumeToken);const g=cv(o,u.expectedCount);g!==null&&(d.expectedCount=g)}else if(u.snapshotVersion.compareTo(Ze.min())>0){d.readTime=lm(o,u.snapshotVersion.toTimestamp());const g=cv(o,u.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=vM(this.serializer,e);s&&(t.labels=s),this.k_(t)}Y_(e){const t={};t.database=fv(this.serializer),t.removeTarget=e,this.k_(t)}}class oP extends ZA{constructor(e,t,s,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,u),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return jt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){jt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=mM(e.writeResults,e.commitTime),s=Vs(e.commitTime);return this.listener.ta(s,t)}na(){const e={};e.database=fv(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>hM(this.serializer,s))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{}class cP extends lP{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.ra=!1}ia(){if(this.ra)throw new we(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Wo(e,uv(t,s),a,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new we(ce.UNKNOWN,o.toString())})}Jo(e,t,s,a,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Jo(e,uv(t,s),a,u,d,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new we(ce.UNKNOWN,u.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class uP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ii(t),this._a=!1):Se("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="RemoteStore";class dP{constructor(e,t,s,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(u=>{s.enqueueAndForget(async()=>{Yo(this)&&(Se(Uo,"Restarting streams for network reachability change."),await async function(p){const g=st(p);g.Ia.add(4),await Od(g),g.Aa.set("Unknown"),g.Ia.delete(4),await $m(g)}(this))})}),this.Aa=new uP(s,a)}}async function $m(n){if(Yo(n))for(const e of n.da)await e(!0)}async function Od(n){for(const e of n.da)await e(!1)}function JA(n,e){const t=st(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),E0(t)?w0(t):Dc(t).x_()&&x0(t,e))}function b0(n,e){const t=st(n),s=Dc(t);t.Ta.delete(e),s.x_()&&eC(t,e),t.Ta.size===0&&(s.x_()?s.B_():Yo(t)&&t.Aa.set("Unknown"))}function x0(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Dc(n).H_(e)}function eC(n,e){n.Ra.$e(e),Dc(n).Y_(e)}function w0(n){n.Ra=new iM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Dc(n).start(),n.Aa.aa()}function E0(n){return Yo(n)&&!Dc(n).M_()&&n.Ta.size>0}function Yo(n){return st(n).Ia.size===0}function tC(n){n.Ra=void 0}async function fP(n){n.Aa.set("Online")}async function hP(n){n.Ta.forEach((e,t)=>{x0(n,e)})}async function mP(n,e){tC(n),E0(n)?(n.Aa.la(e),w0(n)):n.Aa.set("Unknown")}async function pP(n,e,t){if(n.Aa.set("Online"),e instanceof UA&&e.state===2&&e.cause)try{await async function(a,o){const u=o.cause;for(const d of o.targetIds)a.Ta.has(d)&&(await a.remoteSyncer.rejectListen(d,u),a.Ta.delete(d),a.Ra.removeTarget(d))}(n,e)}catch(s){Se(Uo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await um(n,s)}else if(e instanceof Lh?n.Ra.Ye(e):e instanceof LA?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Ze.min()))try{const s=await QA(n.localStore);t.compareTo(s)>=0&&await function(o,u){const d=o.Ra.Pt(u);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=o.Ta.get(g);v&&o.Ta.set(g,v.withResumeToken(p.resumeToken,u))}}),d.targetMismatches.forEach((p,g)=>{const v=o.Ta.get(p);if(!v)return;o.Ta.set(p,v.withResumeToken(Wn.EMPTY_BYTE_STRING,v.snapshotVersion)),eC(o,p);const x=new Sa(v.target,p,g,v.sequenceNumber);x0(o,x)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(s){Se(Uo,"Failed to raise snapshot:",s),await um(n,s)}}async function um(n,e,t){if(!Ic(e))throw e;n.Ia.add(1),await Od(n),n.Aa.set("Offline"),t||(t=()=>QA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Se(Uo,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await $m(n)})}function nC(n,e){return e().catch(t=>um(n,t,e))}async function Gm(n){const e=st(n),t=za(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:o0;for(;gP(e);)try{const a=await XM(e.localStore,s);if(a===null){e.Pa.length===0&&t.B_();break}s=a.batchId,yP(e,a)}catch(a){await um(e,a)}rC(e)&&sC(e)}function gP(n){return Yo(n)&&n.Pa.length<10}function yP(n,e){n.Pa.push(e);const t=za(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function rC(n){return Yo(n)&&!za(n).M_()&&n.Pa.length>0}function sC(n){za(n).start()}async function vP(n){za(n).na()}async function _P(n){const e=za(n);for(const t of n.Pa)e.X_(t.mutations)}async function bP(n,e,t){const s=n.Pa.shift(),a=h0.from(s,e,t);await nC(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Gm(n)}async function xP(n,e){e&&za(n).Z_&&await async function(s,a){if(function(u){return rM(u)&&u!==ce.ABORTED}(a.code)){const o=s.Pa.shift();za(s).N_(),await nC(s,()=>s.remoteSyncer.rejectFailedWrite(o.batchId,a)),await Gm(s)}}(n,e),rC(n)&&sC(n)}async function iT(n,e){const t=st(n);t.asyncQueue.verifyOperationInProgress(),Se(Uo,"RemoteStore received new credentials");const s=Yo(t);t.Ia.add(3),await Od(t),s&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await $m(t)}async function wP(n,e){const t=st(n);e?(t.Ia.delete(2),await $m(t)):e||(t.Ia.add(2),await Od(t),t.Aa.set("Unknown"))}function Dc(n){return n.Va||(n.Va=function(t,s,a){const o=st(t);return o.ia(),new aP(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{Zo:fP.bind(null,n),e_:hP.bind(null,n),n_:mP.bind(null,n),J_:pP.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),E0(n)?w0(n):n.Aa.set("Unknown")):(await n.Va.stop(),tC(n))})),n.Va}function za(n){return n.ma||(n.ma=function(t,s,a){const o=st(t);return o.ia(),new oP(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:vP.bind(null,n),n_:xP.bind(null,n),ea:_P.bind(null,n),ta:bP.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await Gm(n)):(await n.ma.stop(),n.Pa.length>0&&(Se(Uo,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,t,s,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=o,this.deferred=new Si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,o){const u=Date.now()+s,d=new T0(e,t,u,a,o);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function S0(n,e){if(Ii("AsyncQueue",`${e}: ${n}`),Ic(n))return new we(ce.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{static emptySet(e){return new Xl(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ue.comparator(t.key,s.key):(t,s)=>Ue.comparator(t.key,s.key),this.keyedMap=Ku(),this.sortedSet=new nn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=s.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Xl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this.fa=new nn(Ue.comparator)}track(e){const t=e.doc.key,s=this.fa.get(t);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(t,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(t):e.type===1&&s.type===2?this.fa=this.fa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):$e(63341,{At:e,ga:s}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,s)=>{e.push(s)}),e}}class fc{constructor(e,t,s,a,o,u,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,a,o){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new fc(e,t,Xl.emptySet(t),u,s,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class TP{constructor(){this.queries=oT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,s){const a=st(t),o=a.queries;a.queries=oT(),o.forEach((u,d)=>{for(const p of d.wa)p.onError(s)})})(this,new we(ce.ABORTED,"Firestore shutting down"))}}function oT(){return new Go(n=>SA(n),Lm)}async function A0(n,e){const t=st(n);let s=3;const a=e.query;let o=t.queries.get(a);o?!o.Sa()&&e.ba()&&(s=2):(o=new EP,s=e.ba()?0:1);try{switch(s){case 0:o.ya=await t.onListen(a,!0);break;case 1:o.ya=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const d=S0(u,`Initialization of query '${Fl(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&R0(t)}async function C0(n,e){const t=st(n),s=e.query;let a=3;const o=t.queries.get(s);if(o){const u=o.wa.indexOf(e);u>=0&&(o.wa.splice(u,1),o.wa.length===0?a=e.ba()?0:1:!o.Sa()&&e.ba()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function SP(n,e){const t=st(n);let s=!1;for(const a of e){const o=a.query,u=t.queries.get(o);if(u){for(const d of u.wa)d.Ca(a)&&(s=!0);u.ya=a}}s&&R0(t)}function AP(n,e,t){const s=st(n),a=s.queries.get(e);if(a)for(const o of a.wa)o.onError(t);s.queries.delete(e)}function R0(n){n.Da.forEach(e=>{e.next()})}var pv,lT;(lT=pv||(pv={})).Fa="default",lT.Cache="cache";class N0{constructor(e,t,s){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new fc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const s=t!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=fc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==pv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.key=e}}class aC{constructor(e){this.key=e}}class CP{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=vt(),this.mutatedKeys=vt(),this.Xa=AA(e),this.eu=new Xl(this.Xa)}get tu(){return this.Ha}nu(e,t){const s=t?t.ru:new aT,a=t?t.eu:this.eu;let o=t?t.mutatedKeys:this.mutatedKeys,u=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,x)=>{const b=a.get(v),S=Um(this.query,x)?x:null,R=!!b&&this.mutatedKeys.has(b.key),C=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let I=!1;b&&S?b.data.isEqual(S.data)?R!==C&&(s.track({type:3,doc:S}),I=!0):this.iu(b,S)||(s.track({type:2,doc:S}),I=!0,(p&&this.Xa(S,p)>0||g&&this.Xa(S,g)<0)&&(d=!0)):!b&&S?(s.track({type:0,doc:S}),I=!0):b&&!S&&(s.track({type:1,doc:b}),I=!0,(p||g)&&(d=!0)),I&&(S?(u=u.add(S),o=C?o.add(v):o.delete(v)):(u=u.delete(v),o=o.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),o=o.delete(v.key),s.track({type:1,doc:v})}return{eu:u,ru:s,Ds:d,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const u=e.ru.pa();u.sort((v,x)=>function(S,R){const C=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e(20277,{At:I})}};return C(S)-C(R)}(v.type,x.type)||this.Xa(v.doc,x.doc)),this.su(s),a=a!=null&&a;const d=t&&!a?this.ou():[],p=this.Za.size===0&&this.current&&!a?1:0,g=p!==this.Ya;return this.Ya=p,u.length!==0||g?{snapshot:new fc(this.query,e.eu,o,u,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new aT,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=vt(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const t=[];return e.forEach(s=>{this.Za.has(s)||t.push(new aC(s))}),this.Za.forEach(s=>{e.has(s)||t.push(new iC(s))}),t}uu(e){this.Ha=e.qs,this.Za=vt();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return fc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const I0="SyncEngine";class RP{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class NP{constructor(e){this.key=e,this.lu=!1}}class IP{constructor(e,t,s,a,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.hu={},this.Pu=new Go(d=>SA(d),Lm),this.Tu=new Map,this.Iu=new Set,this.du=new nn(Ue.comparator),this.Eu=new Map,this.Au=new g0,this.Ru={},this.Vu=new Map,this.mu=dc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function kP(n,e,t=!0){const s=fC(n);let a;const o=s.Pu.get(e);return o?(s.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.cu()):a=await oC(s,e,t,!0),a}async function DP(n,e){const t=fC(n);await oC(t,e,!0,!1)}async function oC(n,e,t,s){const a=await ZM(n.localStore,Ps(e)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let d;return s&&(d=await OP(n,e,o,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&JA(n.remoteStore,a),d}async function OP(n,e,t,s,a){n.gu=(x,b,S)=>async function(C,I,M,P){let L=I.view.nu(M);L.Ds&&(L=await eT(C.localStore,I.query,!1).then(({documents:N})=>I.view.nu(N,L)));const $=P&&P.targetChanges.get(I.targetId),q=P&&P.targetMismatches.get(I.targetId)!=null,X=I.view.applyChanges(L,C.isPrimaryClient,$,q);return uT(C,I.targetId,X._u),X.snapshot}(n,x,b,S);const o=await eT(n.localStore,e,!0),u=new CP(e,o.qs),d=u.nu(o.documents),p=Dd.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",a),g=u.applyChanges(d,n.isPrimaryClient,p);uT(n,t,g._u);const v=new RP(e,t,u);return n.Pu.set(e,v),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),g.snapshot}async function jP(n,e,t){const s=st(n),a=s.Pu.get(e),o=s.Tu.get(a.targetId);if(o.length>1)return s.Tu.set(a.targetId,o.filter(u=>!Lm(u,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await hv(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),t&&b0(s.remoteStore,a.targetId),gv(s,a.targetId)}).catch(Nc)):(gv(s,a.targetId),await hv(s.localStore,a.targetId,!0))}async function MP(n,e){const t=st(n),s=t.Pu.get(e),a=t.Tu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),b0(t.remoteStore,s.targetId))}async function PP(n,e,t){const s=qP(n);try{const a=await function(u,d){const p=st(u),g=At.now(),v=d.reduce((S,R)=>S.add(R.key),vt());let x,b;return p.persistence.runTransaction("Locally write mutations","readwrite",S=>{let R=ki(),C=vt();return p.Os.getEntries(S,v).next(I=>{R=I,R.forEach((M,P)=>{P.isValidDocument()||(C=C.add(M))})}).next(()=>p.localDocuments.getOverlayedDocuments(S,R)).next(I=>{x=I;const M=[];for(const P of d){const L=Z6(P,x.get(P.key).overlayedDocument);L!=null&&M.push(new Ka(P.key,L,yA(L.value.mapValue),fr.exists(!0)))}return p.mutationQueue.addMutationBatch(S,g,M,d)}).next(I=>{b=I;const M=I.applyToLocalDocumentSet(x,C);return p.documentOverlayCache.saveOverlays(S,I.batchId,M)})}).then(()=>({batchId:b.batchId,changes:RA(x)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(u,d,p){let g=u.Ru[u.currentUser.toKey()];g||(g=new nn(lt)),g=g.insert(d,p),u.Ru[u.currentUser.toKey()]=g}(s,a.batchId,t),await jd(s,a.changes),await Gm(s.remoteStore)}catch(a){const o=S0(a,"Failed to persist write");t.reject(o)}}async function lC(n,e){const t=st(n);try{const s=await WM(t.localStore,e);e.targetChanges.forEach((a,o)=>{const u=t.Eu.get(o);u&&(jt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.lu=!0:a.modifiedDocuments.size>0?jt(u.lu,14607):a.removedDocuments.size>0&&(jt(u.lu,42227),u.lu=!1))}),await jd(t,s,e)}catch(s){await Nc(s)}}function cT(n,e,t){const s=st(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Pu.forEach((o,u)=>{const d=u.view.va(e);d.snapshot&&a.push(d.snapshot)}),function(u,d){const p=st(u);p.onlineState=d;let g=!1;p.queries.forEach((v,x)=>{for(const b of x.wa)b.va(d)&&(g=!0)}),g&&R0(p)}(s.eventManager,e),a.length&&s.hu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function VP(n,e,t){const s=st(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Eu.get(e),o=a&&a.key;if(o){let u=new nn(Ue.comparator);u=u.insert(o,nr.newNoDocument(o,Ze.min()));const d=vt().add(o),p=new qm(Ze.min(),new Map,new nn(lt),u,d);await lC(s,p),s.du=s.du.remove(o),s.Eu.delete(e),k0(s)}else await hv(s.localStore,e,!1).then(()=>gv(s,e,t)).catch(Nc)}async function LP(n,e){const t=st(n),s=e.batch.batchId;try{const a=await KM(t.localStore,e);uC(t,s,null),cC(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await jd(t,a)}catch(a){await Nc(a)}}async function UP(n,e,t){const s=st(n);try{const a=await function(u,d){const p=st(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next(x=>(jt(x!==null,37113),v=x.keys(),p.mutationQueue.removeMutationBatch(g,x))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(s.localStore,e);uC(s,e,t),cC(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await jd(s,a)}catch(a){await Nc(a)}}function cC(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function uC(n,e,t){const s=st(n);let a=s.Ru[s.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),s.Ru[s.currentUser.toKey()]=a}}function gv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Tu.get(e))n.Pu.delete(s),t&&n.hu.pu(s,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(s=>{n.Au.containsKey(s)||dC(n,s)})}function dC(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(b0(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),k0(n))}function uT(n,e,t){for(const s of t)s instanceof iC?(n.Au.addReference(s.key,e),zP(n,s)):s instanceof aC?(Se(I0,"Document no longer in limbo: "+s.key),n.Au.removeReference(s.key,e),n.Au.containsKey(s.key)||dC(n,s.key)):$e(19791,{yu:s})}function zP(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Iu.has(s)||(Se(I0,"New document in limbo: "+t),n.Iu.add(s),k0(n))}function k0(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new Ue($t.fromString(e)),s=n.mu.next();n.Eu.set(s,new NP(t)),n.du=n.du.insert(t,s),JA(n.remoteStore,new Sa(Ps(Vm(t.path)),s,"TargetPurposeLimboResolution",jm.ue))}}async function jd(n,e,t){const s=st(n),a=[],o=[],u=[];s.Pu.isEmpty()||(s.Pu.forEach((d,p)=>{u.push(s.gu(p,e,t).then(g=>{var v;if((g||t)&&s.isPrimaryClient){const x=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,x?"current":"not-current")}if(g){a.push(g);const x=v0.Es(p.targetId,g);o.push(x)}}))}),await Promise.all(u),s.hu.J_(a),await async function(p,g){const v=st(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>fe.forEach(g,b=>fe.forEach(b.Is,S=>v.persistence.referenceDelegate.addReference(x,b.targetId,S)).next(()=>fe.forEach(b.ds,S=>v.persistence.referenceDelegate.removeReference(x,b.targetId,S)))))}catch(x){if(!Ic(x))throw x;Se(_0,"Failed to update sequence numbers: "+x)}for(const x of g){const b=x.targetId;if(!x.fromCache){const S=v.Fs.get(b),R=S.snapshotVersion,C=S.withLastLimboFreeSnapshotVersion(R);v.Fs=v.Fs.insert(b,C)}}}(s.localStore,o))}async function BP(n,e){const t=st(n);if(!t.currentUser.isEqual(e)){Se(I0,"User change. New user:",e.toKey());const s=await WA(t.localStore,e);t.currentUser=e,function(o,u){o.Vu.forEach(d=>{d.forEach(p=>{p.reject(new we(ce.CANCELLED,u))})}),o.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await jd(t,s.Bs)}}function FP(n,e){const t=st(n),s=t.Eu.get(e);if(s&&s.lu)return vt().add(s.key);{let a=vt();const o=t.Tu.get(e);if(!o)return a;for(const u of o){const d=t.Pu.get(u);a=a.unionWith(d.view.tu)}return a}}function fC(n){const e=st(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VP.bind(null,e),e.hu.J_=SP.bind(null,e.eventManager),e.hu.pu=AP.bind(null,e.eventManager),e}function qP(n){const e=st(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UP.bind(null,e),e}class dm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return YM(this.persistence,new HM,e.initialUser,this.serializer)}Du(e){return new KA(y0.Vi,this.serializer)}bu(e){return new eP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dm.provider={build:()=>new dm};class HP extends dm{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){jt(this.persistence.referenceDelegate instanceof cm,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new NM(s,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?gr.withCacheSize(this.cacheSizeBytes):gr.DEFAULT;return new KA(s=>cm.Vi(s,t),this.serializer)}}class yv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>cT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=BP.bind(null,this.syncEngine),await wP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new TP}()}createDatastore(e){const t=Hm(e.databaseInfo.databaseId),s=function(o){return new iP(o)}(e.databaseInfo);return function(o,u,d,p){return new cP(o,u,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,a,o,u,d){return new dP(s,a,o,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>cT(this.syncEngine,t,0),function(){return rT.C()?new rT:new tP}())}createSyncEngine(e,t){return function(a,o,u,d,p,g,v){const x=new IP(a,o,u,d,p,g);return v&&(x.fu=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=st(a);Se(Uo,"RemoteStore shutting down."),o.Ia.add(5),await Od(o),o.Ea.shutdown(),o.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}yv.provider={build:()=>new yv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="FirestoreClient";class $P{constructor(e,t,s,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=tr.UNAUTHENTICATED,this.clientId=a0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(s,async u=>{Se(Ba,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(s,u=>(Se(Ba,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=S0(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Ty(n,e){n.asyncQueue.verifyOperationInProgress(),Se(Ba,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(async a=>{s.isEqual(a)||(await WA(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>{Ma("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{Se("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(a=>{Ma("Terminating Firestore due to IndexedDb database deletion failed",a)})}),n._offlineComponents=e}async function dT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await GP(n);Se(Ba,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(s=>iT(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,a)=>iT(e.remoteStore,a)),n._onlineComponents=e}async function GP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Se(Ba,"Using user provided OfflineComponentProvider");try{await Ty(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ce.FAILED_PRECONDITION||a.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Ma("Error using user provided cache. Falling back to memory cache: "+t),await Ty(n,new dm)}}else Se(Ba,"Using default OfflineComponentProvider"),await Ty(n,new HP(void 0));return n._offlineComponents}async function hC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Se(Ba,"Using user provided OnlineComponentProvider"),await dT(n,n._uninitializedComponentsProvider._online)):(Se(Ba,"Using default OnlineComponentProvider"),await dT(n,new yv))),n._onlineComponents}function YP(n){return hC(n).then(e=>e.syncEngine)}async function fm(n){const e=await hC(n),t=e.eventManager;return t.onListen=kP.bind(null,e.syncEngine),t.onUnlisten=jP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=DP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=MP.bind(null,e.syncEngine),t}function KP(n,e,t={}){const s=new Si;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,d,p,g){const v=new D0({next:b=>{v.Ou(),u.enqueueAndForget(()=>C0(o,x));const S=b.docs.has(d);!S&&b.fromCache?g.reject(new we(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&b.fromCache&&p&&p.source==="server"?g.reject(new we(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),x=new N0(Vm(d.path),v,{includeMetadataChanges:!0,ka:!0});return A0(o,x)}(await fm(n),n.asyncQueue,e,t,s)),s.promise}function WP(n,e,t={}){const s=new Si;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,d,p,g){const v=new D0({next:b=>{v.Ou(),u.enqueueAndForget(()=>C0(o,x)),b.fromCache&&p.source==="server"?g.reject(new we(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),x=new N0(d,v,{includeMetadataChanges:!0,ka:!0});return A0(o,x)}(await fm(n),n.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="firestore.googleapis.com",hT=!0;class mT{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new we(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pC,this.ssl=hT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:hT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CM)throw new we(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}d6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mC((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new we(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new we(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new we(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ym{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new n6;switch(s.type){case"firstParty":return new a6(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new we(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=fT.get(t);s&&(Se("ComponentProvider","Removing Datastore"),fT.delete(t),s.terminate())}(this),Promise.resolve()}}function QP(n,e,t,s={}){var a;n=dr(n,Ym);const o=Sc(e),u=n._getSettings(),d=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;o&&(l1(`https://${p}`),c1("Firestore",!0)),u.host!==pC&&u.host!==p&&Ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:p,ssl:o,emulatorOptions:s});if(!jo(g,d)&&(n._setSettings(g),s.mockUserToken)){let v,x;if(typeof s.mockUserToken=="string")v=s.mockUserToken,x=tr.MOCK_USER;else{v=fO(s.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new we(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new tr(b)}n._authCredentials=new r6(new sA(v,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ui(this.firestore,e,this._query)}}class ln{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}toJSON(){return{type:ln._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Id(t,ln._jsonSchema))return new ln(e,s||null,new Ue($t.fromString(t.referencePath)))}}ln._jsonSchemaVersion="firestore/documentReference/1.0",ln._jsonSchema={type:Tn("string",ln._jsonSchemaVersion),referencePath:Tn("string")};class Da extends Ui{constructor(e,t,s){super(e,t,Vm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new Ue(e))}withConverter(e){return new Da(this.firestore,e,this._path)}}function Gt(n,e,...t){if(n=dn(n),aA("collection","path",e),n instanceof Ym){const s=$t.fromString(e,...t);return CE(s),new Da(n,null,s)}{if(!(n instanceof ln||n instanceof Da))throw new we(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child($t.fromString(e,...t));return CE(s),new Da(n.firestore,null,s)}}function Yt(n,e,...t){if(n=dn(n),arguments.length===1&&(e=a0.newId()),aA("doc","path",e),n instanceof Ym){const s=$t.fromString(e,...t);return AE(s),new ln(n,null,new Ue(s))}{if(!(n instanceof ln||n instanceof Da))throw new we(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child($t.fromString(e,...t));return AE(s),new ln(n.firestore,n instanceof Da?n.converter:null,new Ue(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="AsyncQueue";class gT{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new XA(this,"async_queue_retry"),this.oc=()=>{const s=Ey();s&&Se(pT,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const t=Ey();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Ey();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new Si;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ic(e))throw e;Se(pT,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,Ii("INTERNAL UNHANDLED ERROR: ",yT(s)),s}).then(s=>(this.nc=!1,s))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const a=T0.createAndSchedule(this,e,t,s,o=>this.lc(o));return this.ec.push(a),a}ac(){this.tc&&$e(47125,{hc:yT(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function yT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(n){return function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of s)if(o in a&&typeof a[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Hs extends Ym{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new gT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gT(e),this._firestoreClient=void 0,await e}}}function XP(n,e){const t=typeof n=="object"?n:h1(),s=typeof n=="string"?n:nm,a=Qv(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const o=uO("firestore");o&&QP(a,...o)}return a}function Md(n){if(n._terminated)throw new we(ce.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||ZP(n),n._firestoreClient}function ZP(n){var e,t,s;const a=n._freezeSettings(),o=function(d,p,g,v){return new E6(d,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,mC(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new $P(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gr(Wn.fromBase64String(e))}catch(t){throw new we(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Gr(Wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Id(e,Gr._jsonSchema))return Gr.fromBase64String(e.bytes)}}Gr._jsonSchemaVersion="firestore/bytes/1.0",Gr._jsonSchema={type:Tn("string",Gr._jsonSchemaVersion),bytes:Tn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ls._jsonSchemaVersion}}static fromJSON(e){if(Id(e,Ls._jsonSchema))return new Ls(e.latitude,e.longitude)}}Ls._jsonSchemaVersion="firestore/geoPoint/1.0",Ls._jsonSchema={type:Tn("string",Ls._jsonSchemaVersion),latitude:Tn("number"),longitude:Tn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let o=0;o<s.length;++o)if(s[o]!==a[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Us._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Id(e,Us._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Us(e.vectorValues);throw new we(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Us._jsonSchemaVersion="firestore/vectorValue/1.0",Us._jsonSchema={type:Tn("string",Us._jsonSchemaVersion),vectorValues:Tn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=/^__.*__$/;class e8{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ka(e,this.data,this.fieldMask,t,this.fieldTransforms):new kd(e,this.data,t,this.fieldTransforms)}}class gC{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ka(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e(40011,{Ec:n})}}class j0{constructor(e,t,s,a,o,u){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new j0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Rc({path:s,mc:!1});return a.fc(e),a}gc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Rc({path:s,mc:!1});return a.Ac(),a}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return hm(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(yC(this.Ec)&&JP.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class t8{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Hm(e)}Dc(e,t,s,a=!1){return new j0({Ec:e,methodName:t,bc:s,path:Yn.emptyPath(),mc:!1,Sc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vd(n){const e=n._freezeSettings(),t=Hm(n._databaseId);return new t8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function M0(n,e,t,s,a,o={}){const u=n.Dc(o.merge||o.mergeFields?2:0,e,t,a);P0("Data must be an object, but it was:",u,s);const d=bC(s,u);let p,g;if(o.merge)p=new Rr(u.fieldMask),g=u.fieldTransforms;else if(o.mergeFields){const v=[];for(const x of o.mergeFields){const b=vv(e,x,t);if(!u.contains(b))throw new we(ce.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);wC(v,b)||v.push(b)}p=new Rr(v),g=u.fieldTransforms.filter(x=>p.covers(x.field))}else p=null,g=u.fieldTransforms;return new e8(new yr(d),p,g)}class Km extends O0{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Km}}function vC(n,e,t,s){const a=n.Dc(1,e,t);P0("Data must be an object, but it was:",a,s);const o=[],u=yr.empty();Ya(s,(p,g)=>{const v=V0(e,p,t);g=dn(g);const x=a.gc(v);if(g instanceof Km)o.push(v);else{const b=Ld(g,x);b!=null&&(o.push(v),u.set(v,b))}});const d=new Rr(o);return new gC(u,d,a.fieldTransforms)}function _C(n,e,t,s,a,o){const u=n.Dc(1,e,t),d=[vv(e,s,t)],p=[a];if(o.length%2!=0)throw new we(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)d.push(vv(e,o[b])),p.push(o[b+1]);const g=[],v=yr.empty();for(let b=d.length-1;b>=0;--b)if(!wC(g,d[b])){const S=d[b];let R=p[b];R=dn(R);const C=u.gc(S);if(R instanceof Km)g.push(S);else{const I=Ld(R,C);I!=null&&(g.push(S),v.set(S,I))}}const x=new Rr(g);return new gC(v,x,u.fieldTransforms)}function n8(n,e,t,s=!1){return Ld(t,n.Dc(s?4:3,e))}function Ld(n,e){if(xC(n=dn(n)))return P0("Unsupported field value:",e,n),bC(n,e);if(n instanceof O0)return function(s,a){if(!yC(a.Ec))throw a.wc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.wc(`${s._methodName}() is not currently supported inside arrays`);const o=s._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,a){const o=[];let u=0;for(const d of s){let p=Ld(d,a.yc(u));p==null&&(p={nullValue:"NULL_VALUE"}),o.push(p),u++}return{arrayValue:{values:o}}}(n,e)}return function(s,a){if((s=dn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return G6(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const o=At.fromDate(s);return{timestampValue:lm(a.serializer,o)}}if(s instanceof At){const o=new At(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:lm(a.serializer,o)}}if(s instanceof Ls)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Gr)return{bytesValue:zA(a.serializer,s._byteString)};if(s instanceof ln){const o=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(o))throw a.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:p0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Us)return function(u,d){return{mapValue:{fields:{[pA]:{stringValue:gA},[rm]:{arrayValue:{values:u.toArray().map(g=>{if(typeof g!="number")throw d.wc("VectorValues must only contain numeric values.");return f0(d.serializer,g)})}}}}}}(s,a);throw a.wc(`Unsupported field value: ${Om(s)}`)}(n,e)}function bC(n,e){const t={};return cA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ya(n,(s,a)=>{const o=Ld(a,e.Vc(s));o!=null&&(t[s]=o)}),{mapValue:{fields:t}}}function xC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof At||n instanceof Ls||n instanceof Gr||n instanceof ln||n instanceof O0||n instanceof Us)}function P0(n,e,t){if(!xC(t)||!oA(t)){const s=Om(t);throw s==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+s)}}function vv(n,e,t){if((e=dn(e))instanceof Pd)return e._internalPath;if(typeof e=="string")return V0(n,e);throw hm("Field path arguments must be of type string or ",n,!1,void 0,t)}const r8=new RegExp("[~\\*/\\[\\]]");function V0(n,e,t){if(e.search(r8)>=0)throw hm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Pd(...e.split("."))._internalPath}catch{throw hm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function hm(n,e,t,s,a){const o=s&&!s.isEmpty(),u=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(o||u)&&(p+=" (found",o&&(p+=` in field ${s}`),u&&(p+=` in document ${a}`),p+=")"),new we(ce.INVALID_ARGUMENT,d+n+p)}function wC(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,t,s,a,o){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Wm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class s8 extends EC{data(){return super.data()}}function Wm(n,e){return typeof e=="string"?V0(n,e):e instanceof Pd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new we(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class L0{}class U0 extends L0{}function vr(n,e,...t){let s=[];e instanceof L0&&s.push(e),s=s.concat(t),function(o){const u=o.filter(p=>p instanceof z0).length,d=o.filter(p=>p instanceof Qm).length;if(u>1||u>0&&d>0)throw new we(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)n=a._apply(n);return n}class Qm extends U0{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Qm(e,t,s)}_apply(e){const t=this._parse(e);return AC(e._query,t),new Ui(e.firestore,e.converter,lv(e._query,t))}_parse(e){const t=Vd(e.firestore);return function(o,u,d,p,g,v,x){let b;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new we(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){bT(x,v);const R=[];for(const C of x)R.push(_T(p,o,C));b={arrayValue:{values:R}}}else b=_T(p,o,x)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||bT(x,v),b=n8(d,u,x,v==="in"||v==="not-in");return En.create(g,v,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function zs(n,e,t){const s=e,a=Wm("where",n);return Qm._create(a,s,t)}class z0 extends L0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new z0(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:as.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let u=a;const d=o.getFlattenedFilters();for(const p of d)AC(u,p),u=lv(u,p)}(e._query,t),new Ui(e.firestore,e.converter,lv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class B0 extends U0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new B0(e,t)}_apply(e){const t=function(a,o,u){if(a.startAt!==null)throw new we(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new we(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hd(o,u)}(e._query,this._field,this._direction);return new Ui(e.firestore,e.converter,function(a,o){const u=a.explicitOrderBy.concat([o]);return new kc(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function Di(n,e="asc"){const t=e,s=Wm("orderBy",n);return B0._create(s,t)}class F0 extends U0{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new F0(e,t,s)}_apply(e){return new Ui(e.firestore,e.converter,im(e._query,this._limit,this._limitType))}}function SC(n){return f6("limit",n),F0._create("limit",n,"F")}function _T(n,e,t){if(typeof(t=dn(t))=="string"){if(t==="")throw new we(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TA(e)&&t.indexOf("/")!==-1)throw new we(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child($t.fromString(t));if(!Ue.isDocumentKey(s))throw new we(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ME(n,new Ue(s))}if(t instanceof ln)return ME(n,t._key);throw new we(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Om(t)}.`)}function bT(n,e){if(!Array.isArray(n)||n.length===0)throw new we(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AC(n,e){const t=function(a,o){for(const u of a)for(const d of u.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new we(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class i8{convertValue(e,t="none"){switch(Ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(La(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw $e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ya(e,(a,o)=>{s[a]=this.convertValue(o,t)}),s}convertVectorValue(e){var t,s,a;const o=(a=(s=(t=e.fields)===null||t===void 0?void 0:t[rm].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(u=>pn(u.doubleValue));return new Us(o)}convertGeoPoint(e){return new Ls(pn(e.latitude),pn(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Pm(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ud(e));default:return null}}convertTimestamp(e){const t=Va(e);return new At(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=$t.fromString(e);jt(GA(s),9688,{name:e});const a=new dd(s.get(1),s.get(3)),o=new Ue(s.popFirst(5));return a.isEqual(t)||Ii(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class Qu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Do extends EC{constructor(e,t,s,a,o,u){super(e,t,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Wm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Do._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Do._jsonSchemaVersion="firestore/documentSnapshot/1.0",Do._jsonSchema={type:Tn("string",Do._jsonSchemaVersion),bundleSource:Tn("string","DocumentSnapshot"),bundleName:Tn("string"),bundle:Tn("string")};class Uh extends Do{data(e={}){return super.data(e)}}class Oo{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Qu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Uh(this._firestore,this._userDataWriter,s.key,s,new Qu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(d=>{const p=new Uh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Qu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const p=new Uh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Qu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:a8(d.type),doc:p,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Oo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=a0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],a=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),s.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function a8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(n){n=dr(n,ln);const e=dr(n.firestore,Hs);return KP(Md(e),n._key).then(t=>CC(e,n,t))}Oo._jsonSchemaVersion="firestore/querySnapshot/1.0",Oo._jsonSchema={type:Tn("string",Oo._jsonSchemaVersion),bundleSource:Tn("string","QuerySnapshot"),bundleName:Tn("string"),bundle:Tn("string")};class H0 extends i8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,t)}}function Kn(n){n=dr(n,Ui);const e=dr(n.firestore,Hs),t=Md(e),s=new H0(e);return TC(n._query),WP(t,n._query).then(a=>new Oo(e,s,n,a))}function o8(n,e,t){n=dr(n,ln);const s=dr(n.firestore,Hs),a=q0(n.converter,e,t);return zd(s,[M0(Vd(s),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,fr.none())])}function rs(n,e,t,...s){n=dr(n,ln);const a=dr(n.firestore,Hs),o=Vd(a);let u;return u=typeof(e=dn(e))=="string"||e instanceof Pd?_C(o,"updateDoc",n._key,e,t,s):vC(o,"updateDoc",n._key,e),zd(a,[u.toMutation(n._key,fr.exists(!0))])}function Ud(n){return zd(dr(n.firestore,Hs),[new Fm(n._key,fr.none())])}function Ai(n,e){const t=dr(n.firestore,Hs),s=Yt(n),a=q0(n.converter,e);return zd(t,[M0(Vd(n.firestore),"addDoc",s._key,a,n.converter!==null,{}).toMutation(s._key,fr.exists(!1))]).then(()=>s)}function l8(n,...e){var t,s,a;n=dn(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||vT(e[u])||(o=e[u++]);const d={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(vT(e[u])){const x=e[u];e[u]=(t=x.next)===null||t===void 0?void 0:t.bind(x),e[u+1]=(s=x.error)===null||s===void 0?void 0:s.bind(x),e[u+2]=(a=x.complete)===null||a===void 0?void 0:a.bind(x)}let p,g,v;if(n instanceof ln)g=dr(n.firestore,Hs),v=Vm(n._key.path),p={next:x=>{e[u]&&e[u](CC(g,n,x))},error:e[u+1],complete:e[u+2]};else{const x=dr(n,Ui);g=dr(x.firestore,Hs),v=x._query;const b=new H0(g);p={next:S=>{e[u]&&e[u](new Oo(g,b,x,S))},error:e[u+1],complete:e[u+2]},TC(n._query)}return function(b,S,R,C){const I=new D0(C),M=new N0(S,I,R);return b.asyncQueue.enqueueAndForget(async()=>A0(await fm(b),M)),()=>{I.Ou(),b.asyncQueue.enqueueAndForget(async()=>C0(await fm(b),M))}}(Md(g),v,d,p)}function zd(n,e){return function(s,a){const o=new Si;return s.asyncQueue.enqueueAndForget(async()=>PP(await YP(s),a,o)),o.promise}(Md(n),e)}function CC(n,e,t){const s=t.docs.get(e._key),a=new H0(n);return new Do(n,a,e._key,s,new Qu(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Vd(e)}set(e,t,s){this._verifyNotCommitted();const a=Sy(e,this._firestore),o=q0(a.converter,t,s),u=M0(this._dataReader,"WriteBatch.set",a._key,o,a.converter!==null,s);return this._mutations.push(u.toMutation(a._key,fr.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const o=Sy(e,this._firestore);let u;return u=typeof(t=dn(t))=="string"||t instanceof Pd?_C(this._dataReader,"WriteBatch.update",o._key,t,s,a):vC(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,fr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Sy(e,this._firestore);return this._mutations=this._mutations.concat(new Fm(t._key,fr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new we(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sy(n,e){if((n=dn(n)).firestore!==e)throw new we(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(n){return Md(n=dr(n,Hs)),new c8(n,e=>zd(n,e))}(function(e,t=!0){(function(a){Rc=a})(Ac),ac(new Mo("firestore",(s,{instanceIdentifier:a,options:o})=>{const u=s.getProvider("app").getImmediate(),d=new Hs(new s6(s.getProvider("auth-internal")),new o6(u,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new we(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dd(g.options.projectId,v)}(u,a),u);return o=Object.assign({useFetchStreams:t},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),Ia(xE,wE,e),Ia(xE,wE,"esm2017")})();var u8="firebase",d8="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ia(u8,d8,"app");const f8={apiKey:"AIzaSyBWOaRM6RgB2B63wqHfawl7dMBU2uTMPbI",authDomain:"billybilly-8f5a5.firebaseapp.com",projectId:"billybilly-8f5a5",storageBucket:"billybilly-8f5a5.firebasestorage.app",messagingSenderId:"667395219625",appId:"1:667395219625:web:da57f0bb7b1319838349b8"},RC=f1(f8),_h=e6(RC),Fe=XP(RC),NC=w.createContext();function ir(){return w.useContext(NC)}function h8({children:n}){const[e,t]=w.useState(null),[s,a]=w.useState(!0);function o(g,v,x){return Vj(_h,g,v).then(async b=>(await z1(b.user,{displayName:x}),await o8(Yt(Fe,"users",b.user.uid),{email:b.user.email,displayName:x,createdAt:new Date,preferences:{currency:"CNY",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}}),await Ai(Gt(Fe,"ledgers"),{name:"Personal Expenses",ownerId:b.user.uid,createdAt:new Date,members:{[b.user.uid]:"owner"},currency:"CNY"}),b))}function u(g,v){return Lj(_h,g,v)}function d(){return qj(_h)}w.useEffect(()=>Fj(_h,async v=>{t(v||null),a(!1)}),[]);const p={currentUser:e,signup:o,login:u,logout:d};return h.jsx(NC.Provider,{value:p,children:!s&&n})}const IC=w.createContext();function Ys(){return w.useContext(IC)}function m8({children:n}){const{currentUser:e}=ir(),[t,s]=w.useState([]),[a,o]=w.useState(null),[u,d]=w.useState(!0),p=async()=>{if(!e){s([]),o(null),d(!1);return}try{const C=Gt(Fe,"ledgers"),I=await Kn(C),M=[];I.forEach(P=>{const L=P.data();L.members&&L.members[e.uid]&&M.push({id:P.id,...L})}),s(M),M.length>0?o(M[0]):o(null)}catch(C){console.error("Error fetching ledgers:",C)}finally{d(!1)}},g=async()=>{d(!0),await p()},v=async C=>{try{const I=await Xm(Yt(Fe,"ledgers",C));if(I.exists()){const M={id:I.id,...I.data()};o(M)}}catch(I){console.error("Error switching ledger:",I)}},x=()=>!a||!e?null:a.members[e.uid]||null,b=()=>x()==="owner",S=()=>{const C=x();return C==="owner"||C==="member"};w.useEffect(()=>{p()},[e]),w.useEffect(()=>{if(e&&t.length===0&&!u){const C=setTimeout(()=>{g()},1e3);return()=>clearTimeout(C)}},[e,t.length,u]);const R={ledgers:t,currentLedger:a,loading:u,switchLedger:v,fetchLedgers:p,refreshLedgers:g,getUserRole:x,isOwner:b,canEdit:S};return h.jsx(IC.Provider,{value:R,children:n})}function ya({children:n}){const{currentUser:e}=ir();return e?n:h.jsx(Uy,{to:"/login"})}function tn({className:n,type:e,...t}){return h.jsx("input",{type:e,"data-slot":"input",className:un("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var p8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Lt=p8.reduce((n,e)=>{const t=ad(`Primitive.${e}`),s=w.forwardRef((a,o)=>{const{asChild:u,...d}=a,p=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(p,{...d,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{});function g8(n,e){n&&wd.flushSync(()=>n.dispatchEvent(e))}var y8="Label",kC=w.forwardRef((n,e)=>h.jsx(Lt.label,{...n,ref:e,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||((a=n.onMouseDown)==null||a.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));kC.displayName=y8;var v8=kC;function tt({className:n,...e}){return h.jsx(v8,{"data-slot":"label",className:un("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}const _8=Hv("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Qt({className:n,variant:e,...t}){return h.jsx("div",{"data-slot":"alert",role:"alert",className:un(_8({variant:e}),n),...t})}function Xt({className:n,...e}){return h.jsx("div",{"data-slot":"alert-description",className:un("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}function b8(){const[n,e]=w.useState(""),[t,s]=w.useState(""),[a,o]=w.useState(!1),[u,d]=w.useState(""),[p,g]=w.useState(!1),{login:v}=ir(),x=Cm();async function b(S){S.preventDefault();try{d(""),g(!0),await v(n,t),x("/")}catch(R){d("Failed to log in: "+R.message)}g(!1)}return h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-md w-full space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx(tc,{className:"h-12 w-12 text-blue-600"})}),h.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Sign in to ExpenseTracker"}),h.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",h.jsx(ec,{to:"/signup",className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]}),h.jsxs(Tt,{children:[h.jsxs(kt,{children:[h.jsx(Dt,{children:"Welcome back"}),h.jsx(on,{children:"Enter your credentials to access your account"})]}),h.jsxs(St,{children:[u&&h.jsx(Qt,{className:"mb-4",variant:"destructive",children:h.jsx(Xt,{children:u})}),h.jsxs("form",{onSubmit:b,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"email",children:"Email address"}),h.jsx(tn,{id:"email",type:"email",value:n,onChange:S=>e(S.target.value),required:!0,className:"mt-1",placeholder:"Enter your email"})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"password",children:"Password"}),h.jsxs("div",{className:"relative mt-1",children:[h.jsx(tn,{id:"password",type:a?"text":"password",value:t,onChange:S=>s(S.target.value),required:!0,placeholder:"Enter your password"}),h.jsx(Le,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>o(!a),children:a?h.jsx($y,{className:"h-4 w-4"}):h.jsx(Gy,{className:"h-4 w-4"})})]})]}),h.jsx(Le,{type:"submit",className:"w-full",disabled:p,children:p?"Signing in...":"Sign in"})]})]})]})]})})}function x8(){const[n,e]=w.useState(""),[t,s]=w.useState(""),[a,o]=w.useState(""),[u,d]=w.useState(""),[p,g]=w.useState(!1),[v,x]=w.useState(!1),[b,S]=w.useState(""),[R,C]=w.useState(!1),{signup:I}=ir(),{refreshLedgers:M}=Ys(),P=Cm();async function L($){if($.preventDefault(),t!==a)return S("Passwords do not match");if(t.length<6)return S("Password must be at least 6 characters");try{S(""),C(!0),await I(n,t,u),setTimeout(async()=>{await M(),P("/")},500)}catch(q){S("Failed to create an account: "+q.message),C(!1)}}return h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-md w-full space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx(tc,{className:"h-12 w-12 text-blue-600"})}),h.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Create your account"}),h.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",h.jsx(ec,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"sign in to your existing account"})]})]}),h.jsxs(Tt,{children:[h.jsxs(kt,{children:[h.jsx(Dt,{children:"Get started"}),h.jsx(on,{children:"Create your account to start tracking expenses"})]}),h.jsxs(St,{children:[b&&h.jsx(Qt,{className:"mb-4",variant:"destructive",children:h.jsx(Xt,{children:b})}),h.jsxs("form",{onSubmit:L,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"displayName",children:"Full Name"}),h.jsx(tn,{id:"displayName",type:"text",value:u,onChange:$=>d($.target.value),required:!0,className:"mt-1",placeholder:"Enter your full name"})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"email",children:"Email address"}),h.jsx(tn,{id:"email",type:"email",value:n,onChange:$=>e($.target.value),required:!0,className:"mt-1",placeholder:"Enter your email"})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"password",children:"Password"}),h.jsxs("div",{className:"relative mt-1",children:[h.jsx(tn,{id:"password",type:p?"text":"password",value:t,onChange:$=>s($.target.value),required:!0,placeholder:"Create a password"}),h.jsx(Le,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>g(!p),children:p?h.jsx($y,{className:"h-4 w-4"}):h.jsx(Gy,{className:"h-4 w-4"})})]})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"confirmPassword",children:"Confirm Password"}),h.jsxs("div",{className:"relative mt-1",children:[h.jsx(tn,{id:"confirmPassword",type:v?"text":"password",value:a,onChange:$=>o($.target.value),required:!0,placeholder:"Confirm your password"}),h.jsx(Le,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>x(!v),children:v?h.jsx($y,{className:"h-4 w-4"}):h.jsx(Gy,{className:"h-4 w-4"})})]})]}),h.jsx(Le,{type:"submit",className:"w-full",disabled:R,children:R?"Creating account...":"Create account"})]})]})]})]})})}function w8(n){const[e,t]=w.useState(Date.now());return w.useEffect(()=>{if(!n)return;const s=Gt(Fe,"ledgers",n,"transactions"),a=vr(s,Di("createdAt","desc"),SC(1)),o=l8(a,u=>{u.empty||t(Date.now())});return()=>o()},[n]),e}function E8(){const{currentUser:n}=ir(),{refreshLedgers:e}=Ys(),[t,s]=w.useState([]),[a,o]=w.useState(!1),[u,d]=w.useState(""),[p,g]=w.useState(""),v=async()=>{if(n)try{o(!0);const S=Gt(Fe,"invitations"),R=vr(S,zs("inviteeEmail","==",n.email.toLowerCase()),zs("status","==","pending"),Di("createdAt","desc")),C=await Kn(R),I=[];C.forEach(M=>{var $;const P=M.data(),L=($=P.expiresAt)==null?void 0:$.toDate();(!L||L>new Date)&&I.push({id:M.id,...P})}),s(I)}catch(S){console.error("Error fetching invitations:",S),d("Failed to fetch invitations")}finally{o(!1)}},x=async S=>{try{o(!0),d("");const R=Yt(Fe,"ledgers",S.ledgerId),C=await Kn(vr(Gt(Fe,"ledgers"),zs("__name__","==",S.ledgerId)));if(C.empty)throw new Error("Ledger not found");const M={...C.docs[0].data().members,[n.uid]:S.role};await rs(R,{members:M,updatedAt:new Date}),await rs(Yt(Fe,"invitations",S.id),{status:"accepted",acceptedAt:new Date}),await e(),await v(),g(`Successfully joined "${S.ledgerName}"!`)}catch(R){console.error("Error accepting invitation:",R),d("Failed to accept invitation")}finally{o(!1)}},b=async S=>{try{o(!0),d(""),await rs(Yt(Fe,"invitations",S),{status:"declined",declinedAt:new Date}),await v(),g("Invitation declined")}catch(R){console.error("Error declining invitation:",R),d("Failed to decline invitation")}finally{o(!1)}};return w.useEffect(()=>{v()},[n]),w.useEffect(()=>{if(p||u){const S=setTimeout(()=>{g(""),d("")},3e3);return()=>clearTimeout(S)}},[p,u]),t.length===0&&!a?null:h.jsx("div",{className:"mb-6",children:h.jsxs(Tt,{children:[h.jsxs(kt,{children:[h.jsxs(Dt,{className:"flex items-center",children:[h.jsx(QS,{className:"h-5 w-5 mr-2"}),"Pending Invitations (",t.length,")"]}),h.jsx(on,{children:"You have been invited to join the following ledgers."})]}),h.jsxs(St,{children:[u&&h.jsx(Qt,{variant:"destructive",className:"mb-4",children:h.jsx(Xt,{children:u})}),p&&h.jsx(Qt,{className:"mb-4",children:h.jsx(Xt,{children:p})}),h.jsx("div",{className:"space-y-4",children:t.map(S=>h.jsx("div",{className:"border rounded-lg p-4",children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[h.jsx($h,{className:"h-5 w-5 text-blue-600"}),h.jsx("h3",{className:"font-semibold text-lg",children:S.ledgerName}),h.jsx(Nr,{variant:"secondary",children:S.role})]}),h.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(e1,{className:"h-4 w-4"}),h.jsxs("span",{children:["Invited by: ",S.inviterName]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Hy,{className:"h-4 w-4"}),h.jsxs("span",{children:["Invited: ",new Date(S.createdAt.toDate()).toLocaleDateString()]})]}),S.expiresAt&&h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Hy,{className:"h-4 w-4"}),h.jsxs("span",{children:["Expires: ",new Date(S.expiresAt.toDate()).toLocaleDateString()]})]})]})]}),h.jsxs("div",{className:"flex space-x-2 ml-4",children:[h.jsxs(Le,{size:"sm",onClick:()=>x(S),disabled:a,className:"bg-green-600 hover:bg-green-700",children:[h.jsx(Gv,{className:"h-4 w-4 mr-1"}),"Accept"]}),h.jsxs(Le,{size:"sm",variant:"destructive",onClick:()=>b(S.id),disabled:a,children:[h.jsx(ic,{className:"h-4 w-4 mr-1"}),"Decline"]})]})]})},S.id))})]})]})})}const Aa=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9","#F8C471","#82E0AA","#F1948A","#85929E","#D7BDE2","#A9DFBF","#F9E79F","#AED6F1","#F5B7B1","#D5A6BD"],T8=n=>{if(typeof n!="string")return"?";const e=n.trim();if(e.length===0)return"?";const t=e.charAt(0);return/[\u4e00-\u9fff]/.test(t)?t:t.toUpperCase()},S8=(n,e=null)=>{if(e&&Aa.includes(e))return e;if(!n)return Aa[0];let t=0;for(let a=0;a<n.length;a++){const o=n.charCodeAt(a);t=(t<<5)-t+o,t=t&t}const s=Math.abs(t)%Aa.length;return Aa[s]},A8=n=>{const e=(n==null?void 0:n.displayName)||(n==null?void 0:n.email)||"Unknown",t=T8(e),s=S8(n==null?void 0:n.uid,n==null?void 0:n.profileColor);return{initial:t,backgroundColor:s,textColor:"#FFFFFF"}},C8=()=>{const n=Math.floor(Math.random()*Aa.length);return Aa[n]},R8=n=>Aa.includes(n);function hc({user:n,size:e="md",className:t="",showTooltip:s=!0}){const a=A8(n),o={xs:"w-6 h-6 text-xs",sm:"w-8 h-8 text-sm",md:"w-10 h-10 text-base",lg:"w-12 h-12 text-lg",xl:"w-16 h-16 text-xl","2xl":"w-20 h-20 text-2xl"},u=o[e]||o.md,d=(n==null?void 0:n.displayName)||(n==null?void 0:n.email)||"Unknown User";return h.jsx("div",{className:`
        ${u}
        rounded-full
        flex
        items-center
        justify-center
        font-semibold
        select-none
        flex-shrink-0
        ${t}
      `,style:{backgroundColor:a.backgroundColor,color:a.textColor},title:s?d:void 0,children:a.initial})}function Ro({user:n,size:e="md",className:t="",nameClassName:s="",showEmail:a=!1}){var d;const o=(n==null?void 0:n.displayName)||((d=n==null?void 0:n.email)==null?void 0:d.split("@")[0])||"Unknown User",u=n==null?void 0:n.email;return h.jsxs("div",{className:`flex items-center space-x-2 ${t}`,children:[h.jsx(hc,{user:n,size:e,showTooltip:!1}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:`font-medium ${s}`,children:o}),a&&u&&h.jsx("span",{className:"text-xs text-gray-500",children:u})]})]})}function N8({users:n=[],size:e="sm",maxDisplay:t=3,className:s=""}){const a=n.slice(0,t),o=n.length-t;return h.jsx("div",{className:`flex items-center ${s}`,children:h.jsxs("div",{className:"flex -space-x-1",children:[a.map((u,d)=>h.jsx("div",{className:"ring-2 ring-white",style:{zIndex:a.length-d},children:h.jsx(hc,{user:u,size:e})},(u==null?void 0:u.uid)||d)),o>0&&h.jsxs("div",{className:`
              ${e==="xs"?"w-6 h-6 text-xs":e==="sm"?"w-8 h-8 text-xs":"w-10 h-10 text-sm"}
              rounded-full
              bg-gray-300
              text-gray-600
              flex
              items-center
              justify-center
              font-medium
              ring-2
              ring-white
            `,children:["+",o]})]})})}const I8={CNY:"",USD:"$",EUR:"",GBP:"",JPY:""};function DC(n){return I8[n]||"$"}function zh(n,e="USD"){return`${DC(e)}${n.toFixed(2)}`}function k8(n,e="USD",t=!1){const s=DC(e);return`${t?"+":"-"}${s}${Math.abs(n).toFixed(2)}`}function D8(){var v;const{currentUser:n}=ir(),{currentLedger:e}=Ys(),t=w8(e==null?void 0:e.id),[s,a]=w.useState({totalBalance:0,monthlySpending:0,budgetRemaining:0,recentTransactions:[],memberStats:{},loading:!0}),o=async()=>{if(!e){a(x=>({...x,loading:!1}));return}try{const x=new Date,b=new Date(x.getFullYear(),x.getMonth(),1),S=new Date(x.getFullYear(),x.getMonth()+1,0),R=Gt(Fe,"ledgers",e.id,"transactions"),C=vr(R,Di("date","desc"),SC(5)),I=await Kn(C),M=[];I.forEach(z=>{var G;const V=z.data();M.push({id:z.id,...V,date:((G=V.date)==null?void 0:G.toDate())||new Date})});const P=vr(R,Di("date","desc")),L=await Kn(P);let $=0,q=0;const X={};e.members&&Object.keys(e.members).forEach(z=>{X[z]={monthlyIncome:0,monthlySpending:0,totalIncome:0,totalSpending:0}}),L.forEach(z=>{var K;const V=z.data(),G=((K=V.date)==null?void 0:K.toDate())||new Date,ne=V.amount||0,H=V.userId||V.paidBy||(n==null?void 0:n.uid),Z=G>=b&&G<=S;H&&!X[H]&&(X[H]={monthlyIncome:0,monthlySpending:0,totalIncome:0,totalSpending:0}),V.type==="income"?($+=ne,H&&X[H]&&(X[H].totalIncome+=ne,Z&&(X[H].monthlyIncome+=ne))):($-=ne,H&&X[H]&&(X[H].totalSpending+=ne,Z&&(X[H].monthlySpending+=ne,q+=ne)))});const N=Gt(Fe,"ledgers",e.id,"budgets"),A=vr(N,zs("startDate","<=",At.fromDate(x)),zs("endDate",">=",At.fromDate(x))),O=await Kn(A);let U=0;O.forEach(z=>{const V=z.data();U+=V.totalAmount||0});const D=U-q;a({totalBalance:$,monthlySpending:q,budgetRemaining:D,recentTransactions:M,memberStats:X,loading:!1})}catch(x){console.error("Error calculating dashboard stats:",x),a(b=>({...b,loading:!1}))}};w.useEffect(()=>{o()},[e,t]);const u=x=>zh(x,e==null?void 0:e.currency),d=x=>{const S=Math.abs(new Date-x),R=Math.ceil(S/(1e3*60*60*24));return R===1?"Today":R===2?"Yesterday":R<=7?`${R-1} days ago`:x.toLocaleDateString()},p=x=>x===(n==null?void 0:n.uid)?{uid:x,displayName:n.displayName||n.email,email:n.email}:{uid:x,displayName:`User ${x.slice(0,8)}`,email:`${x.slice(0,8)}@example.com`},g=()=>!s.memberStats||!(e!=null&&e.members)?[]:Object.keys(e.members).map(x=>({...p(x),stats:s.memberStats[x]||{monthlyIncome:0,monthlySpending:0,totalIncome:0,totalSpending:0}}));return s.loading?h.jsx("div",{className:"p-6",children:h.jsxs("div",{className:"animate-pulse space-y-6",children:[h.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(x=>h.jsx("div",{className:"h-32 bg-gray-200 rounded"},x))}),h.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsx(E8,{}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),h.jsxs(Nr,{variant:"secondary",className:"text-sm",children:["Welcome back, ",(n==null?void 0:n.displayName)||((v=n==null?void 0:n.email)==null?void 0:v.split("@")[0])||"User","!"]})]}),e&&h.jsxs("div",{className:"text-sm text-gray-600",children:["Current Ledger: ",h.jsx("span",{className:"font-medium",children:e.name})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs(Tt,{children:[h.jsxs(kt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[h.jsx(Dt,{className:"text-sm font-medium",children:"Total Balance"}),h.jsx(tc,{className:"h-4 w-4 text-muted-foreground"})]}),h.jsxs(St,{children:[h.jsx("div",{className:`text-2xl font-bold ${s.totalBalance>=0?"text-green-600":"text-red-600"}`,children:u(s.totalBalance)}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"All time balance"})]})]}),h.jsxs(Tt,{children:[h.jsxs(kt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[h.jsx(Dt,{className:"text-sm font-medium",children:"Monthly Spending"}),h.jsx(QD,{className:"h-4 w-4 text-muted-foreground"})]}),h.jsxs(St,{children:[h.jsx("div",{className:"text-2xl font-bold text-red-600",children:u(s.monthlySpending)}),h.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"This month's expenses"}),g().length>1&&h.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[h.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Member Breakdown:"}),g().map(x=>h.jsxs("div",{className:"flex items-center justify-between text-xs",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(hc,{user:x,size:"xs"}),h.jsx("span",{className:"text-gray-600",children:x.displayName===(n==null?void 0:n.displayName)?"You":x.displayName})]}),h.jsxs("div",{className:"flex space-x-3 text-right",children:[h.jsxs("span",{className:"text-green-600",children:["+",u(x.stats.monthlyIncome)]}),h.jsxs("span",{className:"text-red-600",children:["-",u(x.stats.monthlySpending)]})]})]},x.uid))]})]})]}),h.jsxs(Tt,{children:[h.jsxs(kt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[h.jsx(Dt,{className:"text-sm font-medium",children:"Budget Remaining"}),h.jsx(dD,{className:"h-4 w-4 text-muted-foreground"})]}),h.jsxs(St,{children:[h.jsx("div",{className:`text-2xl font-bold ${s.budgetRemaining>=0?"text-green-600":"text-red-600"}`,children:u(s.budgetRemaining)}),h.jsx("p",{className:"text-xs text-muted-foreground",children:s.budgetRemaining>=0?"Remaining this month":"Over budget"})]})]})]}),h.jsxs(Tt,{children:[h.jsxs(kt,{children:[h.jsx(Dt,{children:"Recent Transactions"}),h.jsx(on,{children:"Your latest financial activity"})]}),h.jsx(St,{children:s.recentTransactions.length===0?h.jsxs("div",{className:"text-center py-8 text-gray-500",children:[h.jsx(tc,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),h.jsx("p",{children:"No transactions yet"}),h.jsx("p",{className:"text-sm",children:"Add your first transaction to get started"})]}):h.jsx("div",{className:"space-y-4",children:s.recentTransactions.map(x=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[h.jsx(hc,{user:{uid:x.userId||(n==null?void 0:n.uid),displayName:x.userName||(n==null?void 0:n.displayName),email:x.userEmail||(n==null?void 0:n.email)},size:"sm"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"font-medium text-gray-900",children:x.description}),h.jsxs("p",{className:"text-sm text-gray-500",children:[x.paymentMethod,"  ",d(x.date)]})]})]}),h.jsxs("div",{className:`font-semibold ${x.type==="income"?"text-green-600":"text-red-600"}`,children:[x.type==="income"?"+":"-",u(x.amount)]})]},x.id))})})]})]})}function xT(n,[e,t]){return Math.min(t,Math.max(e,n))}function en(n,e,{checkForDefaultPrevented:t=!0}={}){return function(a){if(n==null||n(a),t===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function Oc(n,e=[]){let t=[];function s(o,u){const d=w.createContext(u),p=t.length;t=[...t,u];const g=x=>{var M;const{scope:b,children:S,...R}=x,C=((M=b==null?void 0:b[n])==null?void 0:M[p])||d,I=w.useMemo(()=>R,Object.values(R));return h.jsx(C.Provider,{value:I,children:S})};g.displayName=o+"Provider";function v(x,b){var C;const S=((C=b==null?void 0:b[n])==null?void 0:C[p])||d,R=w.useContext(S);if(R)return R;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${o}\``)}return[g,v]}const a=()=>{const o=t.map(u=>w.createContext(u));return function(d){const p=(d==null?void 0:d[n])||o;return w.useMemo(()=>({[`__scope${n}`]:{...d,[n]:p}}),[d,p])}};return a.scopeName=n,[s,O8(a,...e)]}function O8(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const s=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const u=s.reduce((d,{useScope:p,scopeName:g})=>{const x=p(o)[`__scope${g}`];return{...d,...x}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function j8(n){const e=n+"CollectionProvider",[t,s]=Oc(e),[a,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=C=>{const{scope:I,children:M}=C,P=va.useRef(null),L=va.useRef(new Map).current;return h.jsx(a,{scope:I,itemMap:L,collectionRef:P,children:M})};u.displayName=e;const d=n+"CollectionSlot",p=ad(d),g=va.forwardRef((C,I)=>{const{scope:M,children:P}=C,L=o(d,M),$=cn(I,L.collectionRef);return h.jsx(p,{ref:$,children:P})});g.displayName=d;const v=n+"CollectionItemSlot",x="data-radix-collection-item",b=ad(v),S=va.forwardRef((C,I)=>{const{scope:M,children:P,...L}=C,$=va.useRef(null),q=cn(I,$),X=o(v,M);return va.useEffect(()=>(X.itemMap.set($,{ref:$,...L}),()=>void X.itemMap.delete($))),h.jsx(b,{[x]:"",ref:q,children:P})});S.displayName=v;function R(C){const I=o(n+"CollectionConsumer",C);return va.useCallback(()=>{const P=I.collectionRef.current;if(!P)return[];const L=Array.from(P.querySelectorAll(`[${x}]`));return Array.from(I.itemMap.values()).sort((X,N)=>L.indexOf(X.ref.current)-L.indexOf(N.ref.current))},[I.collectionRef,I.itemMap])}return[{Provider:u,Slot:g,ItemSlot:S},R,s]}var M8=w.createContext(void 0);function P8(n){const e=w.useContext(M8);return n||e||"ltr"}function zo(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n}),w.useMemo(()=>(...t)=>{var s;return(s=e.current)==null?void 0:s.call(e,...t)},[])}function V8(n,e=globalThis==null?void 0:globalThis.document){const t=zo(n);w.useEffect(()=>{const s=a=>{a.key==="Escape"&&t(a)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[t,e])}var L8="DismissableLayer",bv="dismissableLayer.update",U8="dismissableLayer.pointerDownOutside",z8="dismissableLayer.focusOutside",wT,OC=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jC=w.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:u,onDismiss:d,...p}=n,g=w.useContext(OC),[v,x]=w.useState(null),b=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=w.useState({}),R=cn(e,N=>x(N)),C=Array.from(g.layers),[I]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),M=C.indexOf(I),P=v?C.indexOf(v):-1,L=g.layersWithOutsidePointerEventsDisabled.size>0,$=P>=M,q=q8(N=>{const A=N.target,O=[...g.branches].some(U=>U.contains(A));!$||O||(a==null||a(N),u==null||u(N),N.defaultPrevented||d==null||d())},b),X=H8(N=>{const A=N.target;[...g.branches].some(U=>U.contains(A))||(o==null||o(N),u==null||u(N),N.defaultPrevented||d==null||d())},b);return V8(N=>{P===g.layers.size-1&&(s==null||s(N),!N.defaultPrevented&&d&&(N.preventDefault(),d()))},b),w.useEffect(()=>{if(v)return t&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(wT=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(v)),g.layers.add(v),ET(),()=>{t&&g.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=wT)}},[v,b,t,g]),w.useEffect(()=>()=>{v&&(g.layers.delete(v),g.layersWithOutsidePointerEventsDisabled.delete(v),ET())},[v,g]),w.useEffect(()=>{const N=()=>S({});return document.addEventListener(bv,N),()=>document.removeEventListener(bv,N)},[]),h.jsx(Lt.div,{...p,ref:R,style:{pointerEvents:L?$?"auto":"none":void 0,...n.style},onFocusCapture:en(n.onFocusCapture,X.onFocusCapture),onBlurCapture:en(n.onBlurCapture,X.onBlurCapture),onPointerDownCapture:en(n.onPointerDownCapture,q.onPointerDownCapture)})});jC.displayName=L8;var B8="DismissableLayerBranch",F8=w.forwardRef((n,e)=>{const t=w.useContext(OC),s=w.useRef(null),a=cn(e,s);return w.useEffect(()=>{const o=s.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),h.jsx(Lt.div,{...n,ref:a})});F8.displayName=B8;function q8(n,e=globalThis==null?void 0:globalThis.document){const t=zo(n),s=w.useRef(!1),a=w.useRef(()=>{});return w.useEffect(()=>{const o=d=>{if(d.target&&!s.current){let p=function(){MC(U8,t,g,{discrete:!0})};const g={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=p,e.addEventListener("click",a.current,{once:!0})):p()}else e.removeEventListener("click",a.current);s.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",o),e.removeEventListener("click",a.current)}},[e,t]),{onPointerDownCapture:()=>s.current=!0}}function H8(n,e=globalThis==null?void 0:globalThis.document){const t=zo(n),s=w.useRef(!1);return w.useEffect(()=>{const a=o=>{o.target&&!s.current&&MC(z8,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,t]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function ET(){const n=new CustomEvent(bv);document.dispatchEvent(n)}function MC(n,e,t,{discrete:s}){const a=t.originalEvent.target,o=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&a.addEventListener(n,e,{once:!0}),s?g8(a,o):a.dispatchEvent(o)}var Ay=0;function $8(){w.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??TT()),document.body.insertAdjacentElement("beforeend",n[1]??TT()),Ay++,()=>{Ay===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ay--}},[])}function TT(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Cy="focusScope.autoFocusOnMount",Ry="focusScope.autoFocusOnUnmount",ST={bubbles:!1,cancelable:!0},G8="FocusScope",PC=w.forwardRef((n,e)=>{const{loop:t=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...u}=n,[d,p]=w.useState(null),g=zo(a),v=zo(o),x=w.useRef(null),b=cn(e,C=>p(C)),S=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(s){let C=function(L){if(S.paused||!d)return;const $=L.target;d.contains($)?x.current=$:_a(x.current,{select:!0})},I=function(L){if(S.paused||!d)return;const $=L.relatedTarget;$!==null&&(d.contains($)||_a(x.current,{select:!0}))},M=function(L){if(document.activeElement===document.body)for(const q of L)q.removedNodes.length>0&&_a(d)};document.addEventListener("focusin",C),document.addEventListener("focusout",I);const P=new MutationObserver(M);return d&&P.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",I),P.disconnect()}}},[s,d,S.paused]),w.useEffect(()=>{if(d){CT.add(S);const C=document.activeElement;if(!d.contains(C)){const M=new CustomEvent(Cy,ST);d.addEventListener(Cy,g),d.dispatchEvent(M),M.defaultPrevented||(Y8(Z8(VC(d)),{select:!0}),document.activeElement===C&&_a(d))}return()=>{d.removeEventListener(Cy,g),setTimeout(()=>{const M=new CustomEvent(Ry,ST);d.addEventListener(Ry,v),d.dispatchEvent(M),M.defaultPrevented||_a(C??document.body,{select:!0}),d.removeEventListener(Ry,v),CT.remove(S)},0)}}},[d,g,v,S]);const R=w.useCallback(C=>{if(!t&&!s||S.paused)return;const I=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,M=document.activeElement;if(I&&M){const P=C.currentTarget,[L,$]=K8(P);L&&$?!C.shiftKey&&M===$?(C.preventDefault(),t&&_a(L,{select:!0})):C.shiftKey&&M===L&&(C.preventDefault(),t&&_a($,{select:!0})):M===P&&C.preventDefault()}},[t,s,S.paused]);return h.jsx(Lt.div,{tabIndex:-1,...u,ref:b,onKeyDown:R})});PC.displayName=G8;function Y8(n,{select:e=!1}={}){const t=document.activeElement;for(const s of n)if(_a(s,{select:e}),document.activeElement!==t)return}function K8(n){const e=VC(n),t=AT(e,n),s=AT(e.reverse(),n);return[t,s]}function VC(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function AT(n,e){for(const t of n)if(!W8(t,{upTo:e}))return t}function W8(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function Q8(n){return n instanceof HTMLInputElement&&"select"in n}function _a(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&Q8(n)&&e&&n.select()}}var CT=X8();function X8(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=RT(n,e),n.unshift(e)},remove(e){var t;n=RT(n,e),(t=n[0])==null||t.resume()}}}function RT(n,e){const t=[...n],s=t.indexOf(e);return s!==-1&&t.splice(s,1),t}function Z8(n){return n.filter(e=>e.tagName!=="A")}var sr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},J8=gS[" useId ".trim().toString()]||(()=>{}),eV=0;function $0(n){const[e,t]=w.useState(J8());return sr(()=>{t(s=>s??String(eV++))},[n]),n||(e?`radix-${e}`:"")}const tV=["top","right","bottom","left"],Fa=Math.min,Cr=Math.max,mm=Math.round,bh=Math.floor,Bs=n=>({x:n,y:n}),nV={left:"right",right:"left",bottom:"top",top:"bottom"},rV={start:"end",end:"start"};function xv(n,e,t){return Cr(n,Fa(e,t))}function Oi(n,e){return typeof n=="function"?n(e):n}function ji(n){return n.split("-")[0]}function jc(n){return n.split("-")[1]}function G0(n){return n==="x"?"y":"x"}function Y0(n){return n==="y"?"height":"width"}const sV=new Set(["top","bottom"]);function Ns(n){return sV.has(ji(n))?"y":"x"}function K0(n){return G0(Ns(n))}function iV(n,e,t){t===void 0&&(t=!1);const s=jc(n),a=K0(n),o=Y0(a);let u=a==="x"?s===(t?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(u=pm(u)),[u,pm(u)]}function aV(n){const e=pm(n);return[wv(n),e,wv(e)]}function wv(n){return n.replace(/start|end/g,e=>rV[e])}const NT=["left","right"],IT=["right","left"],oV=["top","bottom"],lV=["bottom","top"];function cV(n,e,t){switch(n){case"top":case"bottom":return t?e?IT:NT:e?NT:IT;case"left":case"right":return e?oV:lV;default:return[]}}function uV(n,e,t,s){const a=jc(n);let o=cV(ji(n),t==="start",s);return a&&(o=o.map(u=>u+"-"+a),e&&(o=o.concat(o.map(wv)))),o}function pm(n){return n.replace(/left|right|bottom|top/g,e=>nV[e])}function dV(n){return{top:0,right:0,bottom:0,left:0,...n}}function LC(n){return typeof n!="number"?dV(n):{top:n,right:n,bottom:n,left:n}}function gm(n){const{x:e,y:t,width:s,height:a}=n;return{width:s,height:a,top:t,left:e,right:e+s,bottom:t+a,x:e,y:t}}function kT(n,e,t){let{reference:s,floating:a}=n;const o=Ns(e),u=K0(e),d=Y0(u),p=ji(e),g=o==="y",v=s.x+s.width/2-a.width/2,x=s.y+s.height/2-a.height/2,b=s[d]/2-a[d]/2;let S;switch(p){case"top":S={x:v,y:s.y-a.height};break;case"bottom":S={x:v,y:s.y+s.height};break;case"right":S={x:s.x+s.width,y:x};break;case"left":S={x:s.x-a.width,y:x};break;default:S={x:s.x,y:s.y}}switch(jc(e)){case"start":S[u]-=b*(t&&g?-1:1);break;case"end":S[u]+=b*(t&&g?-1:1);break}return S}const fV=async(n,e,t)=>{const{placement:s="bottom",strategy:a="absolute",middleware:o=[],platform:u}=t,d=o.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(e));let g=await u.getElementRects({reference:n,floating:e,strategy:a}),{x:v,y:x}=kT(g,s,p),b=s,S={},R=0;for(let C=0;C<d.length;C++){const{name:I,fn:M}=d[C],{x:P,y:L,data:$,reset:q}=await M({x:v,y:x,initialPlacement:s,placement:b,strategy:a,middlewareData:S,rects:g,platform:u,elements:{reference:n,floating:e}});v=P??v,x=L??x,S={...S,[I]:{...S[I],...$}},q&&R<=50&&(R++,typeof q=="object"&&(q.placement&&(b=q.placement),q.rects&&(g=q.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:a}):q.rects),{x:v,y:x}=kT(g,b,p)),C=-1)}return{x:v,y:x,placement:b,strategy:a,middlewareData:S}};async function gd(n,e){var t;e===void 0&&(e={});const{x:s,y:a,platform:o,rects:u,elements:d,strategy:p}=n,{boundary:g="clippingAncestors",rootBoundary:v="viewport",elementContext:x="floating",altBoundary:b=!1,padding:S=0}=Oi(e,n),R=LC(S),I=d[b?x==="floating"?"reference":"floating":x],M=gm(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(I)))==null||t?I:I.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:g,rootBoundary:v,strategy:p})),P=x==="floating"?{x:s,y:a,width:u.floating.width,height:u.floating.height}:u.reference,L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating)),$=await(o.isElement==null?void 0:o.isElement(L))?await(o.getScale==null?void 0:o.getScale(L))||{x:1,y:1}:{x:1,y:1},q=gm(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:P,offsetParent:L,strategy:p}):P);return{top:(M.top-q.top+R.top)/$.y,bottom:(q.bottom-M.bottom+R.bottom)/$.y,left:(M.left-q.left+R.left)/$.x,right:(q.right-M.right+R.right)/$.x}}const hV=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:s,placement:a,rects:o,platform:u,elements:d,middlewareData:p}=e,{element:g,padding:v=0}=Oi(n,e)||{};if(g==null)return{};const x=LC(v),b={x:t,y:s},S=K0(a),R=Y0(S),C=await u.getDimensions(g),I=S==="y",M=I?"top":"left",P=I?"bottom":"right",L=I?"clientHeight":"clientWidth",$=o.reference[R]+o.reference[S]-b[S]-o.floating[R],q=b[S]-o.reference[S],X=await(u.getOffsetParent==null?void 0:u.getOffsetParent(g));let N=X?X[L]:0;(!N||!await(u.isElement==null?void 0:u.isElement(X)))&&(N=d.floating[L]||o.floating[R]);const A=$/2-q/2,O=N/2-C[R]/2-1,U=Fa(x[M],O),D=Fa(x[P],O),z=U,V=N-C[R]-D,G=N/2-C[R]/2+A,ne=xv(z,G,V),H=!p.arrow&&jc(a)!=null&&G!==ne&&o.reference[R]/2-(G<z?U:D)-C[R]/2<0,Z=H?G<z?G-z:G-V:0;return{[S]:b[S]+Z,data:{[S]:ne,centerOffset:G-ne-Z,...H&&{alignmentOffset:Z}},reset:H}}}),mV=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,s;const{placement:a,middlewareData:o,rects:u,initialPlacement:d,platform:p,elements:g}=e,{mainAxis:v=!0,crossAxis:x=!0,fallbackPlacements:b,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:C=!0,...I}=Oi(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const M=ji(a),P=Ns(d),L=ji(d)===d,$=await(p.isRTL==null?void 0:p.isRTL(g.floating)),q=b||(L||!C?[pm(d)]:aV(d)),X=R!=="none";!b&&X&&q.push(...uV(d,C,R,$));const N=[d,...q],A=await gd(e,I),O=[];let U=((s=o.flip)==null?void 0:s.overflows)||[];if(v&&O.push(A[M]),x){const G=iV(a,u,$);O.push(A[G[0]],A[G[1]])}if(U=[...U,{placement:a,overflows:O}],!O.every(G=>G<=0)){var D,z;const G=(((D=o.flip)==null?void 0:D.index)||0)+1,ne=N[G];if(ne&&(!(x==="alignment"?P!==Ns(ne):!1)||U.every(K=>K.overflows[0]>0&&Ns(K.placement)===P)))return{data:{index:G,overflows:U},reset:{placement:ne}};let H=(z=U.filter(Z=>Z.overflows[0]<=0).sort((Z,K)=>Z.overflows[1]-K.overflows[1])[0])==null?void 0:z.placement;if(!H)switch(S){case"bestFit":{var V;const Z=(V=U.filter(K=>{if(X){const ye=Ns(K.placement);return ye===P||ye==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(ye=>ye>0).reduce((ye,B)=>ye+B,0)]).sort((K,ye)=>K[1]-ye[1])[0])==null?void 0:V[0];Z&&(H=Z);break}case"initialPlacement":H=d;break}if(a!==H)return{reset:{placement:H}}}return{}}}};function DT(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function OT(n){return tV.some(e=>n[e]>=0)}const pV=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:s="referenceHidden",...a}=Oi(n,e);switch(s){case"referenceHidden":{const o=await gd(e,{...a,elementContext:"reference"}),u=DT(o,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:OT(u)}}}case"escaped":{const o=await gd(e,{...a,altBoundary:!0}),u=DT(o,t.floating);return{data:{escapedOffsets:u,escaped:OT(u)}}}default:return{}}}}},UC=new Set(["left","top"]);async function gV(n,e){const{placement:t,platform:s,elements:a}=n,o=await(s.isRTL==null?void 0:s.isRTL(a.floating)),u=ji(t),d=jc(t),p=Ns(t)==="y",g=UC.has(u)?-1:1,v=o&&p?-1:1,x=Oi(e,n);let{mainAxis:b,crossAxis:S,alignmentAxis:R}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return d&&typeof R=="number"&&(S=d==="end"?R*-1:R),p?{x:S*v,y:b*g}:{x:b*g,y:S*v}}const yV=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,s;const{x:a,y:o,placement:u,middlewareData:d}=e,p=await gV(e,n);return u===((t=d.offset)==null?void 0:t.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:a+p.x,y:o+p.y,data:{...p,placement:u}}}}},vV=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:s,placement:a}=e,{mainAxis:o=!0,crossAxis:u=!1,limiter:d={fn:I=>{let{x:M,y:P}=I;return{x:M,y:P}}},...p}=Oi(n,e),g={x:t,y:s},v=await gd(e,p),x=Ns(ji(a)),b=G0(x);let S=g[b],R=g[x];if(o){const I=b==="y"?"top":"left",M=b==="y"?"bottom":"right",P=S+v[I],L=S-v[M];S=xv(P,S,L)}if(u){const I=x==="y"?"top":"left",M=x==="y"?"bottom":"right",P=R+v[I],L=R-v[M];R=xv(P,R,L)}const C=d.fn({...e,[b]:S,[x]:R});return{...C,data:{x:C.x-t,y:C.y-s,enabled:{[b]:o,[x]:u}}}}}},_V=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:s,placement:a,rects:o,middlewareData:u}=e,{offset:d=0,mainAxis:p=!0,crossAxis:g=!0}=Oi(n,e),v={x:t,y:s},x=Ns(a),b=G0(x);let S=v[b],R=v[x];const C=Oi(d,e),I=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(p){const L=b==="y"?"height":"width",$=o.reference[b]-o.floating[L]+I.mainAxis,q=o.reference[b]+o.reference[L]-I.mainAxis;S<$?S=$:S>q&&(S=q)}if(g){var M,P;const L=b==="y"?"width":"height",$=UC.has(ji(a)),q=o.reference[x]-o.floating[L]+($&&((M=u.offset)==null?void 0:M[x])||0)+($?0:I.crossAxis),X=o.reference[x]+o.reference[L]+($?0:((P=u.offset)==null?void 0:P[x])||0)-($?I.crossAxis:0);R<q?R=q:R>X&&(R=X)}return{[b]:S,[x]:R}}}},bV=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,s;const{placement:a,rects:o,platform:u,elements:d}=e,{apply:p=()=>{},...g}=Oi(n,e),v=await gd(e,g),x=ji(a),b=jc(a),S=Ns(a)==="y",{width:R,height:C}=o.floating;let I,M;x==="top"||x==="bottom"?(I=x,M=b===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(M=x,I=b==="end"?"top":"bottom");const P=C-v.top-v.bottom,L=R-v.left-v.right,$=Fa(C-v[I],P),q=Fa(R-v[M],L),X=!e.middlewareData.shift;let N=$,A=q;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(A=L),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(N=P),X&&!b){const U=Cr(v.left,0),D=Cr(v.right,0),z=Cr(v.top,0),V=Cr(v.bottom,0);S?A=R-2*(U!==0||D!==0?U+D:Cr(v.left,v.right)):N=C-2*(z!==0||V!==0?z+V:Cr(v.top,v.bottom))}await p({...e,availableWidth:A,availableHeight:N});const O=await u.getDimensions(d.floating);return R!==O.width||C!==O.height?{reset:{rects:!0}}:{}}}};function Zm(){return typeof window<"u"}function Mc(n){return zC(n)?(n.nodeName||"").toLowerCase():"#document"}function Ir(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Ks(n){var e;return(e=(zC(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function zC(n){return Zm()?n instanceof Node||n instanceof Ir(n).Node:!1}function os(n){return Zm()?n instanceof Element||n instanceof Ir(n).Element:!1}function $s(n){return Zm()?n instanceof HTMLElement||n instanceof Ir(n).HTMLElement:!1}function jT(n){return!Zm()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Ir(n).ShadowRoot}const xV=new Set(["inline","contents"]);function Bd(n){const{overflow:e,overflowX:t,overflowY:s,display:a}=ls(n);return/auto|scroll|overlay|hidden|clip/.test(e+s+t)&&!xV.has(a)}const wV=new Set(["table","td","th"]);function EV(n){return wV.has(Mc(n))}const TV=[":popover-open",":modal"];function Jm(n){return TV.some(e=>{try{return n.matches(e)}catch{return!1}})}const SV=["transform","translate","scale","rotate","perspective"],AV=["transform","translate","scale","rotate","perspective","filter"],CV=["paint","layout","strict","content"];function W0(n){const e=Q0(),t=os(n)?ls(n):n;return SV.some(s=>t[s]?t[s]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||AV.some(s=>(t.willChange||"").includes(s))||CV.some(s=>(t.contain||"").includes(s))}function RV(n){let e=qa(n);for(;$s(e)&&!mc(e);){if(W0(e))return e;if(Jm(e))return null;e=qa(e)}return null}function Q0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const NV=new Set(["html","body","#document"]);function mc(n){return NV.has(Mc(n))}function ls(n){return Ir(n).getComputedStyle(n)}function ep(n){return os(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function qa(n){if(Mc(n)==="html")return n;const e=n.assignedSlot||n.parentNode||jT(n)&&n.host||Ks(n);return jT(e)?e.host:e}function BC(n){const e=qa(n);return mc(e)?n.ownerDocument?n.ownerDocument.body:n.body:$s(e)&&Bd(e)?e:BC(e)}function yd(n,e,t){var s;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=BC(n),o=a===((s=n.ownerDocument)==null?void 0:s.body),u=Ir(a);if(o){const d=Ev(u);return e.concat(u,u.visualViewport||[],Bd(a)?a:[],d&&t?yd(d):[])}return e.concat(a,yd(a,[],t))}function Ev(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function FC(n){const e=ls(n);let t=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const a=$s(n),o=a?n.offsetWidth:t,u=a?n.offsetHeight:s,d=mm(t)!==o||mm(s)!==u;return d&&(t=o,s=u),{width:t,height:s,$:d}}function X0(n){return os(n)?n:n.contextElement}function Zl(n){const e=X0(n);if(!$s(e))return Bs(1);const t=e.getBoundingClientRect(),{width:s,height:a,$:o}=FC(e);let u=(o?mm(t.width):t.width)/s,d=(o?mm(t.height):t.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const IV=Bs(0);function qC(n){const e=Ir(n);return!Q0()||!e.visualViewport?IV:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function kV(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Ir(n)?!1:e}function Bo(n,e,t,s){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),o=X0(n);let u=Bs(1);e&&(s?os(s)&&(u=Zl(s)):u=Zl(n));const d=kV(o,t,s)?qC(o):Bs(0);let p=(a.left+d.x)/u.x,g=(a.top+d.y)/u.y,v=a.width/u.x,x=a.height/u.y;if(o){const b=Ir(o),S=s&&os(s)?Ir(s):s;let R=b,C=Ev(R);for(;C&&s&&S!==R;){const I=Zl(C),M=C.getBoundingClientRect(),P=ls(C),L=M.left+(C.clientLeft+parseFloat(P.paddingLeft))*I.x,$=M.top+(C.clientTop+parseFloat(P.paddingTop))*I.y;p*=I.x,g*=I.y,v*=I.x,x*=I.y,p+=L,g+=$,R=Ir(C),C=Ev(R)}}return gm({width:v,height:x,x:p,y:g})}function Z0(n,e){const t=ep(n).scrollLeft;return e?e.left+t:Bo(Ks(n)).left+t}function HC(n,e,t){t===void 0&&(t=!1);const s=n.getBoundingClientRect(),a=s.left+e.scrollLeft-(t?0:Z0(n,s)),o=s.top+e.scrollTop;return{x:a,y:o}}function DV(n){let{elements:e,rect:t,offsetParent:s,strategy:a}=n;const o=a==="fixed",u=Ks(s),d=e?Jm(e.floating):!1;if(s===u||d&&o)return t;let p={scrollLeft:0,scrollTop:0},g=Bs(1);const v=Bs(0),x=$s(s);if((x||!x&&!o)&&((Mc(s)!=="body"||Bd(u))&&(p=ep(s)),$s(s))){const S=Bo(s);g=Zl(s),v.x=S.x+s.clientLeft,v.y=S.y+s.clientTop}const b=u&&!x&&!o?HC(u,p,!0):Bs(0);return{width:t.width*g.x,height:t.height*g.y,x:t.x*g.x-p.scrollLeft*g.x+v.x+b.x,y:t.y*g.y-p.scrollTop*g.y+v.y+b.y}}function OV(n){return Array.from(n.getClientRects())}function jV(n){const e=Ks(n),t=ep(n),s=n.ownerDocument.body,a=Cr(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),o=Cr(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let u=-t.scrollLeft+Z0(n);const d=-t.scrollTop;return ls(s).direction==="rtl"&&(u+=Cr(e.clientWidth,s.clientWidth)-a),{width:a,height:o,x:u,y:d}}function MV(n,e){const t=Ir(n),s=Ks(n),a=t.visualViewport;let o=s.clientWidth,u=s.clientHeight,d=0,p=0;if(a){o=a.width,u=a.height;const g=Q0();(!g||g&&e==="fixed")&&(d=a.offsetLeft,p=a.offsetTop)}return{width:o,height:u,x:d,y:p}}const PV=new Set(["absolute","fixed"]);function VV(n,e){const t=Bo(n,!0,e==="fixed"),s=t.top+n.clientTop,a=t.left+n.clientLeft,o=$s(n)?Zl(n):Bs(1),u=n.clientWidth*o.x,d=n.clientHeight*o.y,p=a*o.x,g=s*o.y;return{width:u,height:d,x:p,y:g}}function MT(n,e,t){let s;if(e==="viewport")s=MV(n,t);else if(e==="document")s=jV(Ks(n));else if(os(e))s=VV(e,t);else{const a=qC(n);s={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return gm(s)}function $C(n,e){const t=qa(n);return t===e||!os(t)||mc(t)?!1:ls(t).position==="fixed"||$C(t,e)}function LV(n,e){const t=e.get(n);if(t)return t;let s=yd(n,[],!1).filter(d=>os(d)&&Mc(d)!=="body"),a=null;const o=ls(n).position==="fixed";let u=o?qa(n):n;for(;os(u)&&!mc(u);){const d=ls(u),p=W0(u);!p&&d.position==="fixed"&&(a=null),(o?!p&&!a:!p&&d.position==="static"&&!!a&&PV.has(a.position)||Bd(u)&&!p&&$C(n,u))?s=s.filter(v=>v!==u):a=d,u=qa(u)}return e.set(n,s),s}function UV(n){let{element:e,boundary:t,rootBoundary:s,strategy:a}=n;const u=[...t==="clippingAncestors"?Jm(e)?[]:LV(e,this._c):[].concat(t),s],d=u[0],p=u.reduce((g,v)=>{const x=MT(e,v,a);return g.top=Cr(x.top,g.top),g.right=Fa(x.right,g.right),g.bottom=Fa(x.bottom,g.bottom),g.left=Cr(x.left,g.left),g},MT(e,d,a));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function zV(n){const{width:e,height:t}=FC(n);return{width:e,height:t}}function BV(n,e,t){const s=$s(e),a=Ks(e),o=t==="fixed",u=Bo(n,!0,o,e);let d={scrollLeft:0,scrollTop:0};const p=Bs(0);function g(){p.x=Z0(a)}if(s||!s&&!o)if((Mc(e)!=="body"||Bd(a))&&(d=ep(e)),s){const S=Bo(e,!0,o,e);p.x=S.x+e.clientLeft,p.y=S.y+e.clientTop}else a&&g();o&&!s&&a&&g();const v=a&&!s&&!o?HC(a,d):Bs(0),x=u.left+d.scrollLeft-p.x-v.x,b=u.top+d.scrollTop-p.y-v.y;return{x,y:b,width:u.width,height:u.height}}function Ny(n){return ls(n).position==="static"}function PT(n,e){if(!$s(n)||ls(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Ks(n)===t&&(t=t.ownerDocument.body),t}function GC(n,e){const t=Ir(n);if(Jm(n))return t;if(!$s(n)){let a=qa(n);for(;a&&!mc(a);){if(os(a)&&!Ny(a))return a;a=qa(a)}return t}let s=PT(n,e);for(;s&&EV(s)&&Ny(s);)s=PT(s,e);return s&&mc(s)&&Ny(s)&&!W0(s)?t:s||RV(n)||t}const FV=async function(n){const e=this.getOffsetParent||GC,t=this.getDimensions,s=await t(n.floating);return{reference:BV(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function qV(n){return ls(n).direction==="rtl"}const HV={convertOffsetParentRelativeRectToViewportRelativeRect:DV,getDocumentElement:Ks,getClippingRect:UV,getOffsetParent:GC,getElementRects:FV,getClientRects:OV,getDimensions:zV,getScale:Zl,isElement:os,isRTL:qV};function YC(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function $V(n,e){let t=null,s;const a=Ks(n);function o(){var d;clearTimeout(s),(d=t)==null||d.disconnect(),t=null}function u(d,p){d===void 0&&(d=!1),p===void 0&&(p=1),o();const g=n.getBoundingClientRect(),{left:v,top:x,width:b,height:S}=g;if(d||e(),!b||!S)return;const R=bh(x),C=bh(a.clientWidth-(v+b)),I=bh(a.clientHeight-(x+S)),M=bh(v),L={rootMargin:-R+"px "+-C+"px "+-I+"px "+-M+"px",threshold:Cr(0,Fa(1,p))||1};let $=!0;function q(X){const N=X[0].intersectionRatio;if(N!==p){if(!$)return u();N?u(!1,N):s=setTimeout(()=>{u(!1,1e-7)},1e3)}N===1&&!YC(g,n.getBoundingClientRect())&&u(),$=!1}try{t=new IntersectionObserver(q,{...L,root:a.ownerDocument})}catch{t=new IntersectionObserver(q,L)}t.observe(n)}return u(!0),o}function GV(n,e,t,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:p=!1}=s,g=X0(n),v=a||o?[...g?yd(g):[],...yd(e)]:[];v.forEach(M=>{a&&M.addEventListener("scroll",t,{passive:!0}),o&&M.addEventListener("resize",t)});const x=g&&d?$V(g,t):null;let b=-1,S=null;u&&(S=new ResizeObserver(M=>{let[P]=M;P&&P.target===g&&S&&(S.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var L;(L=S)==null||L.observe(e)})),t()}),g&&!p&&S.observe(g),S.observe(e));let R,C=p?Bo(n):null;p&&I();function I(){const M=Bo(n);C&&!YC(C,M)&&t(),C=M,R=requestAnimationFrame(I)}return t(),()=>{var M;v.forEach(P=>{a&&P.removeEventListener("scroll",t),o&&P.removeEventListener("resize",t)}),x==null||x(),(M=S)==null||M.disconnect(),S=null,p&&cancelAnimationFrame(R)}}const YV=yV,KV=vV,WV=mV,QV=bV,XV=pV,VT=hV,ZV=_V,JV=(n,e,t)=>{const s=new Map,a={platform:HV,...t},o={...a.platform,_c:s};return fV(n,e,{...a,platform:o})};var eL=typeof document<"u",tL=function(){},Bh=eL?w.useLayoutEffect:tL;function ym(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,s,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(s=t;s--!==0;)if(!ym(n[s],e[s]))return!1;return!0}if(a=Object.keys(n),t=a.length,t!==Object.keys(e).length)return!1;for(s=t;s--!==0;)if(!{}.hasOwnProperty.call(e,a[s]))return!1;for(s=t;s--!==0;){const o=a[s];if(!(o==="_owner"&&n.$$typeof)&&!ym(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function KC(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function LT(n,e){const t=KC(n);return Math.round(e*t)/t}function Iy(n){const e=w.useRef(n);return Bh(()=>{e.current=n}),e}function nL(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:s=[],platform:a,elements:{reference:o,floating:u}={},transform:d=!0,whileElementsMounted:p,open:g}=n,[v,x]=w.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[b,S]=w.useState(s);ym(b,s)||S(s);const[R,C]=w.useState(null),[I,M]=w.useState(null),P=w.useCallback(K=>{K!==X.current&&(X.current=K,C(K))},[]),L=w.useCallback(K=>{K!==N.current&&(N.current=K,M(K))},[]),$=o||R,q=u||I,X=w.useRef(null),N=w.useRef(null),A=w.useRef(v),O=p!=null,U=Iy(p),D=Iy(a),z=Iy(g),V=w.useCallback(()=>{if(!X.current||!N.current)return;const K={placement:e,strategy:t,middleware:b};D.current&&(K.platform=D.current),JV(X.current,N.current,K).then(ye=>{const B={...ye,isPositioned:z.current!==!1};G.current&&!ym(A.current,B)&&(A.current=B,wd.flushSync(()=>{x(B)}))})},[b,e,t,D,z]);Bh(()=>{g===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,x(K=>({...K,isPositioned:!1})))},[g]);const G=w.useRef(!1);Bh(()=>(G.current=!0,()=>{G.current=!1}),[]),Bh(()=>{if($&&(X.current=$),q&&(N.current=q),$&&q){if(U.current)return U.current($,q,V);V()}},[$,q,V,U,O]);const ne=w.useMemo(()=>({reference:X,floating:N,setReference:P,setFloating:L}),[P,L]),H=w.useMemo(()=>({reference:$,floating:q}),[$,q]),Z=w.useMemo(()=>{const K={position:t,left:0,top:0};if(!H.floating)return K;const ye=LT(H.floating,v.x),B=LT(H.floating,v.y);return d?{...K,transform:"translate("+ye+"px, "+B+"px)",...KC(H.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ye,top:B}},[t,d,H.floating,v.x,v.y]);return w.useMemo(()=>({...v,update:V,refs:ne,elements:H,floatingStyles:Z}),[v,V,ne,H,Z])}const rL=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:s,padding:a}=typeof n=="function"?n(t):n;return s&&e(s)?s.current!=null?VT({element:s.current,padding:a}).fn(t):{}:s?VT({element:s,padding:a}).fn(t):{}}}},sL=(n,e)=>({...YV(n),options:[n,e]}),iL=(n,e)=>({...KV(n),options:[n,e]}),aL=(n,e)=>({...ZV(n),options:[n,e]}),oL=(n,e)=>({...WV(n),options:[n,e]}),lL=(n,e)=>({...QV(n),options:[n,e]}),cL=(n,e)=>({...XV(n),options:[n,e]}),uL=(n,e)=>({...rL(n),options:[n,e]});var dL="Arrow",WC=w.forwardRef((n,e)=>{const{children:t,width:s=10,height:a=5,...o}=n;return h.jsx(Lt.svg,{...o,ref:e,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});WC.displayName=dL;var fL=WC;function J0(n){const[e,t]=w.useState(void 0);return sr(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let u,d;if("borderBoxSize"in o){const p=o.borderBoxSize,g=Array.isArray(p)?p[0]:p;u=g.inlineSize,d=g.blockSize}else u=n.offsetWidth,d=n.offsetHeight;t({width:u,height:d})});return s.observe(n,{box:"border-box"}),()=>s.unobserve(n)}else t(void 0)},[n]),e}var e_="Popper",[QC,XC]=Oc(e_),[hL,ZC]=QC(e_),JC=n=>{const{__scopePopper:e,children:t}=n,[s,a]=w.useState(null);return h.jsx(hL,{scope:e,anchor:s,onAnchorChange:a,children:t})};JC.displayName=e_;var e2="PopperAnchor",t2=w.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:s,...a}=n,o=ZC(e2,t),u=w.useRef(null),d=cn(e,u);return w.useEffect(()=>{o.onAnchorChange((s==null?void 0:s.current)||u.current)}),s?null:h.jsx(Lt.div,{...a,ref:d})});t2.displayName=e2;var t_="PopperContent",[mL,pL]=QC(t_),n2=w.forwardRef((n,e)=>{var ge,je,ct,We,Qe,Xe;const{__scopePopper:t,side:s="bottom",sideOffset:a=0,align:o="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:p=!0,collisionBoundary:g=[],collisionPadding:v=0,sticky:x="partial",hideWhenDetached:b=!1,updatePositionStrategy:S="optimized",onPlaced:R,...C}=n,I=ZC(t_,t),[M,P]=w.useState(null),L=cn(e,se=>P(se)),[$,q]=w.useState(null),X=J0($),N=(X==null?void 0:X.width)??0,A=(X==null?void 0:X.height)??0,O=s+(o!=="center"?"-"+o:""),U=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},D=Array.isArray(g)?g:[g],z=D.length>0,V={padding:U,boundary:D.filter(yL),altBoundary:z},{refs:G,floatingStyles:ne,placement:H,isPositioned:Z,middlewareData:K}=nL({strategy:"fixed",placement:O,whileElementsMounted:(...se)=>GV(...se,{animationFrame:S==="always"}),elements:{reference:I.anchor},middleware:[sL({mainAxis:a+A,alignmentAxis:u}),p&&iL({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?aL():void 0,...V}),p&&oL({...V}),lL({...V,apply:({elements:se,rects:Ae,availableWidth:Ce,availableHeight:Me})=>{const{width:Ye,height:gn}=Ae.reference,me=se.floating.style;me.setProperty("--radix-popper-available-width",`${Ce}px`),me.setProperty("--radix-popper-available-height",`${Me}px`),me.setProperty("--radix-popper-anchor-width",`${Ye}px`),me.setProperty("--radix-popper-anchor-height",`${gn}px`)}}),$&&uL({element:$,padding:d}),vL({arrowWidth:N,arrowHeight:A}),b&&cL({strategy:"referenceHidden",...V})]}),[ye,B]=i2(H),ae=zo(R);sr(()=>{Z&&(ae==null||ae())},[Z,ae]);const he=(ge=K.arrow)==null?void 0:ge.x,le=(je=K.arrow)==null?void 0:je.y,be=((ct=K.arrow)==null?void 0:ct.centerOffset)!==0,[ze,De]=w.useState();return sr(()=>{M&&De(window.getComputedStyle(M).zIndex)},[M]),h.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:Z?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ze,"--radix-popper-transform-origin":[(We=K.transformOrigin)==null?void 0:We.x,(Qe=K.transformOrigin)==null?void 0:Qe.y].join(" "),...((Xe=K.hide)==null?void 0:Xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:h.jsx(mL,{scope:t,placedSide:ye,onArrowChange:q,arrowX:he,arrowY:le,shouldHideArrow:be,children:h.jsx(Lt.div,{"data-side":ye,"data-align":B,...C,ref:L,style:{...C.style,animation:Z?void 0:"none"}})})})});n2.displayName=t_;var r2="PopperArrow",gL={top:"bottom",right:"left",bottom:"top",left:"right"},s2=w.forwardRef(function(e,t){const{__scopePopper:s,...a}=e,o=pL(r2,s),u=gL[o.placedSide];return h.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:h.jsx(fL,{...a,ref:t,style:{...a.style,display:"block"}})})});s2.displayName=r2;function yL(n){return n!==null}var vL=n=>({name:"transformOrigin",options:n,fn(e){var I,M,P;const{placement:t,rects:s,middlewareData:a}=e,u=((I=a.arrow)==null?void 0:I.centerOffset)!==0,d=u?0:n.arrowWidth,p=u?0:n.arrowHeight,[g,v]=i2(t),x={start:"0%",center:"50%",end:"100%"}[v],b=(((M=a.arrow)==null?void 0:M.x)??0)+d/2,S=(((P=a.arrow)==null?void 0:P.y)??0)+p/2;let R="",C="";return g==="bottom"?(R=u?x:`${b}px`,C=`${-p}px`):g==="top"?(R=u?x:`${b}px`,C=`${s.floating.height+p}px`):g==="right"?(R=`${-p}px`,C=u?x:`${S}px`):g==="left"&&(R=`${s.floating.width+p}px`,C=u?x:`${S}px`),{data:{x:R,y:C}}}});function i2(n){const[e,t="center"]=n.split("-");return[e,t]}var _L=JC,bL=t2,xL=n2,wL=s2,EL="Portal",a2=w.forwardRef((n,e)=>{var d;const{container:t,...s}=n,[a,o]=w.useState(!1);sr(()=>o(!0),[]);const u=t||a&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return u?pk.createPortal(h.jsx(Lt.div,{...s,ref:e}),u):null});a2.displayName=EL;var TL=gS[" useInsertionEffect ".trim().toString()]||sr;function vm({prop:n,defaultProp:e,onChange:t=()=>{},caller:s}){const[a,o,u]=SL({defaultProp:e,onChange:t}),d=n!==void 0,p=d?n:a;{const v=w.useRef(n!==void 0);w.useEffect(()=>{const x=v.current;x!==d&&console.warn(`${s} is changing from ${x?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=d},[d,s])}const g=w.useCallback(v=>{var x;if(d){const b=AL(v)?v(n):v;b!==n&&((x=u.current)==null||x.call(u,b))}else o(v)},[d,n,o,u]);return[p,g]}function SL({defaultProp:n,onChange:e}){const[t,s]=w.useState(n),a=w.useRef(t),o=w.useRef(e);return TL(()=>{o.current=e},[e]),w.useEffect(()=>{var u;a.current!==t&&((u=o.current)==null||u.call(o,t),a.current=t)},[t,a]),[t,s,o]}function AL(n){return typeof n=="function"}function n_(n){const e=w.useRef({value:n,previous:n});return w.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var o2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),CL="VisuallyHidden",RL=w.forwardRef((n,e)=>h.jsx(Lt.span,{...n,ref:e,style:{...o2,...n.style}}));RL.displayName=CL;var NL=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Ll=new WeakMap,xh=new WeakMap,wh={},ky=0,l2=function(n){return n&&(n.host||l2(n.parentNode))},IL=function(n,e){return e.map(function(t){if(n.contains(t))return t;var s=l2(t);return s&&n.contains(s)?s:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},kL=function(n,e,t,s){var a=IL(e,Array.isArray(n)?n:[n]);wh[t]||(wh[t]=new WeakMap);var o=wh[t],u=[],d=new Set,p=new Set(a),g=function(x){!x||d.has(x)||(d.add(x),g(x.parentNode))};a.forEach(g);var v=function(x){!x||p.has(x)||Array.prototype.forEach.call(x.children,function(b){if(d.has(b))v(b);else try{var S=b.getAttribute(s),R=S!==null&&S!=="false",C=(Ll.get(b)||0)+1,I=(o.get(b)||0)+1;Ll.set(b,C),o.set(b,I),u.push(b),C===1&&R&&xh.set(b,!0),I===1&&b.setAttribute(t,"true"),R||b.setAttribute(s,"true")}catch(M){console.error("aria-hidden: cannot operate on ",b,M)}})};return v(e),d.clear(),ky++,function(){u.forEach(function(x){var b=Ll.get(x)-1,S=o.get(x)-1;Ll.set(x,b),o.set(x,S),b||(xh.has(x)||x.removeAttribute(s),xh.delete(x)),S||x.removeAttribute(t)}),ky--,ky||(Ll=new WeakMap,Ll=new WeakMap,xh=new WeakMap,wh={})}},DL=function(n,e,t){t===void 0&&(t="data-aria-hidden");var s=Array.from(Array.isArray(n)?n:[n]),a=NL(n);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),kL(s,a,t,"aria-hidden")):function(){return null}},Fh="right-scroll-bar-position",qh="width-before-scroll-bar",OL="with-scroll-bars-hidden",jL="--removed-body-scroll-bar-size";function Dy(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function ML(n,e){var t=w.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(s){var a=t.value;a!==s&&(t.value=s,t.callback(s,a))}}}})[0];return t.callback=e,t.facade}var PL=typeof window<"u"?w.useLayoutEffect:w.useEffect,UT=new WeakMap;function VL(n,e){var t=ML(null,function(s){return n.forEach(function(a){return Dy(a,s)})});return PL(function(){var s=UT.get(t);if(s){var a=new Set(s),o=new Set(n),u=t.current;a.forEach(function(d){o.has(d)||Dy(d,null)}),o.forEach(function(d){a.has(d)||Dy(d,u)})}UT.set(t,n)},[n]),t}function LL(n){return n}function UL(n,e){e===void 0&&(e=LL);var t=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(o){var u=e(o,s);return t.push(u),function(){t=t.filter(function(d){return d!==u})}},assignSyncMedium:function(o){for(s=!0;t.length;){var u=t;t=[],u.forEach(o)}t={push:function(d){return o(d)},filter:function(){return t}}},assignMedium:function(o){s=!0;var u=[];if(t.length){var d=t;t=[],d.forEach(o),u=t}var p=function(){var v=u;u=[],v.forEach(o)},g=function(){return Promise.resolve().then(p)};g(),t={push:function(v){u.push(v),g()},filter:function(v){return u=u.filter(v),t}}}};return a}function zL(n){n===void 0&&(n={});var e=UL(null);return e.options=Rs({async:!0,ssr:!1},n),e}var c2=function(n){var e=n.sideCar,t=Sd(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return w.createElement(s,Rs({},t))};c2.isSideCarExport=!0;function BL(n,e){return n.useMedium(e),c2}var u2=zL(),Oy=function(){},tp=w.forwardRef(function(n,e){var t=w.useRef(null),s=w.useState({onScrollCapture:Oy,onWheelCapture:Oy,onTouchMoveCapture:Oy}),a=s[0],o=s[1],u=n.forwardProps,d=n.children,p=n.className,g=n.removeScrollBar,v=n.enabled,x=n.shards,b=n.sideCar,S=n.noRelative,R=n.noIsolation,C=n.inert,I=n.allowPinchZoom,M=n.as,P=M===void 0?"div":M,L=n.gapMode,$=Sd(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),q=b,X=VL([t,e]),N=Rs(Rs({},$),a);return w.createElement(w.Fragment,null,v&&w.createElement(q,{sideCar:u2,removeScrollBar:g,shards:x,noRelative:S,noIsolation:R,inert:C,setCallbacks:o,allowPinchZoom:!!I,lockRef:t,gapMode:L}),u?w.cloneElement(w.Children.only(d),Rs(Rs({},N),{ref:X})):w.createElement(P,Rs({},N,{className:p,ref:X}),d))});tp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};tp.classNames={fullWidth:qh,zeroRight:Fh};var FL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qL(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=FL();return e&&n.setAttribute("nonce",e),n}function HL(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function $L(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var GL=function(){var n=0,e=null;return{add:function(t){n==0&&(e=qL())&&(HL(e,t),$L(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},YL=function(){var n=GL();return function(e,t){w.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},d2=function(){var n=YL(),e=function(t){var s=t.styles,a=t.dynamic;return n(s,a),null};return e},KL={left:0,top:0,right:0,gap:0},jy=function(n){return parseInt(n||"",10)||0},WL=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],s=e[n==="padding"?"paddingTop":"marginTop"],a=e[n==="padding"?"paddingRight":"marginRight"];return[jy(t),jy(s),jy(a)]},QL=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return KL;var e=WL(n),t=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-t+e[2]-e[0])}},XL=d2(),Jl="data-scroll-locked",ZL=function(n,e,t,s){var a=n.left,o=n.top,u=n.right,d=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(OL,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(Jl,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),t==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),t==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fh,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(qh,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(Fh," .").concat(Fh,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(qh," .").concat(qh,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Jl,`] {
    `).concat(jL,": ").concat(d,`px;
  }
`)},zT=function(){var n=parseInt(document.body.getAttribute(Jl)||"0",10);return isFinite(n)?n:0},JL=function(){w.useEffect(function(){return document.body.setAttribute(Jl,(zT()+1).toString()),function(){var n=zT()-1;n<=0?document.body.removeAttribute(Jl):document.body.setAttribute(Jl,n.toString())}},[])},e9=function(n){var e=n.noRelative,t=n.noImportant,s=n.gapMode,a=s===void 0?"margin":s;JL();var o=w.useMemo(function(){return QL(a)},[a]);return w.createElement(XL,{styles:ZL(o,!e,a,t?"":"!important")})},Tv=!1;if(typeof window<"u")try{var Eh=Object.defineProperty({},"passive",{get:function(){return Tv=!0,!0}});window.addEventListener("test",Eh,Eh),window.removeEventListener("test",Eh,Eh)}catch{Tv=!1}var Ul=Tv?{passive:!1}:!1,t9=function(n){return n.tagName==="TEXTAREA"},f2=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!t9(n)&&t[e]==="visible")},n9=function(n){return f2(n,"overflowY")},r9=function(n){return f2(n,"overflowX")},BT=function(n,e){var t=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=h2(n,s);if(a){var o=m2(n,s),u=o[1],d=o[2];if(u>d)return!0}s=s.parentNode}while(s&&s!==t.body);return!1},s9=function(n){var e=n.scrollTop,t=n.scrollHeight,s=n.clientHeight;return[e,t,s]},i9=function(n){var e=n.scrollLeft,t=n.scrollWidth,s=n.clientWidth;return[e,t,s]},h2=function(n,e){return n==="v"?n9(e):r9(e)},m2=function(n,e){return n==="v"?s9(e):i9(e)},a9=function(n,e){return n==="h"&&e==="rtl"?-1:1},o9=function(n,e,t,s,a){var o=a9(n,window.getComputedStyle(e).direction),u=o*s,d=t.target,p=e.contains(d),g=!1,v=u>0,x=0,b=0;do{if(!d)break;var S=m2(n,d),R=S[0],C=S[1],I=S[2],M=C-I-o*R;(R||M)&&h2(n,d)&&(x+=M,b+=R);var P=d.parentNode;d=P&&P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?P.host:P}while(!p&&d!==document.body||p&&(e.contains(d)||e===d));return(v&&Math.abs(x)<1||!v&&Math.abs(b)<1)&&(g=!0),g},Th=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},FT=function(n){return[n.deltaX,n.deltaY]},qT=function(n){return n&&"current"in n?n.current:n},l9=function(n,e){return n[0]===e[0]&&n[1]===e[1]},c9=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},u9=0,zl=[];function d9(n){var e=w.useRef([]),t=w.useRef([0,0]),s=w.useRef(),a=w.useState(u9++)[0],o=w.useState(d2)[0],u=w.useRef(n);w.useEffect(function(){u.current=n},[n]),w.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(a));var C=U3([n.lockRef.current],(n.shards||[]).map(qT),!0).filter(Boolean);return C.forEach(function(I){return I.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),C.forEach(function(I){return I.classList.remove("allow-interactivity-".concat(a))})}}},[n.inert,n.lockRef.current,n.shards]);var d=w.useCallback(function(C,I){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!u.current.allowPinchZoom;var M=Th(C),P=t.current,L="deltaX"in C?C.deltaX:P[0]-M[0],$="deltaY"in C?C.deltaY:P[1]-M[1],q,X=C.target,N=Math.abs(L)>Math.abs($)?"h":"v";if("touches"in C&&N==="h"&&X.type==="range")return!1;var A=BT(N,X);if(!A)return!0;if(A?q=N:(q=N==="v"?"h":"v",A=BT(N,X)),!A)return!1;if(!s.current&&"changedTouches"in C&&(L||$)&&(s.current=q),!q)return!0;var O=s.current||q;return o9(O,I,C,O==="h"?L:$)},[]),p=w.useCallback(function(C){var I=C;if(!(!zl.length||zl[zl.length-1]!==o)){var M="deltaY"in I?FT(I):Th(I),P=e.current.filter(function(q){return q.name===I.type&&(q.target===I.target||I.target===q.shadowParent)&&l9(q.delta,M)})[0];if(P&&P.should){I.cancelable&&I.preventDefault();return}if(!P){var L=(u.current.shards||[]).map(qT).filter(Boolean).filter(function(q){return q.contains(I.target)}),$=L.length>0?d(I,L[0]):!u.current.noIsolation;$&&I.cancelable&&I.preventDefault()}}},[]),g=w.useCallback(function(C,I,M,P){var L={name:C,delta:I,target:M,should:P,shadowParent:f9(M)};e.current.push(L),setTimeout(function(){e.current=e.current.filter(function($){return $!==L})},1)},[]),v=w.useCallback(function(C){t.current=Th(C),s.current=void 0},[]),x=w.useCallback(function(C){g(C.type,FT(C),C.target,d(C,n.lockRef.current))},[]),b=w.useCallback(function(C){g(C.type,Th(C),C.target,d(C,n.lockRef.current))},[]);w.useEffect(function(){return zl.push(o),n.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:b}),document.addEventListener("wheel",p,Ul),document.addEventListener("touchmove",p,Ul),document.addEventListener("touchstart",v,Ul),function(){zl=zl.filter(function(C){return C!==o}),document.removeEventListener("wheel",p,Ul),document.removeEventListener("touchmove",p,Ul),document.removeEventListener("touchstart",v,Ul)}},[]);var S=n.removeScrollBar,R=n.inert;return w.createElement(w.Fragment,null,R?w.createElement(o,{styles:c9(a)}):null,S?w.createElement(e9,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function f9(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const h9=BL(u2,d9);var p2=w.forwardRef(function(n,e){return w.createElement(tp,Rs({},n,{ref:e,sideCar:h9}))});p2.classNames=tp.classNames;var m9=[" ","Enter","ArrowUp","ArrowDown"],p9=[" ","Enter"],Fo="Select",[np,rp,g9]=j8(Fo),[Pc,v5]=Oc(Fo,[g9,XC]),sp=XC(),[y9,Wa]=Pc(Fo),[v9,_9]=Pc(Fo),g2=n=>{const{__scopeSelect:e,children:t,open:s,defaultOpen:a,onOpenChange:o,value:u,defaultValue:d,onValueChange:p,dir:g,name:v,autoComplete:x,disabled:b,required:S,form:R}=n,C=sp(e),[I,M]=w.useState(null),[P,L]=w.useState(null),[$,q]=w.useState(!1),X=P8(g),[N,A]=vm({prop:s,defaultProp:a??!1,onChange:o,caller:Fo}),[O,U]=vm({prop:u,defaultProp:d,onChange:p,caller:Fo}),D=w.useRef(null),z=I?R||!!I.closest("form"):!0,[V,G]=w.useState(new Set),ne=Array.from(V).map(H=>H.props.value).join(";");return h.jsx(_L,{...C,children:h.jsxs(y9,{required:S,scope:e,trigger:I,onTriggerChange:M,valueNode:P,onValueNodeChange:L,valueNodeHasChildren:$,onValueNodeHasChildrenChange:q,contentId:$0(),value:O,onValueChange:U,open:N,onOpenChange:A,dir:X,triggerPointerDownPosRef:D,disabled:b,children:[h.jsx(np.Provider,{scope:e,children:h.jsx(v9,{scope:n.__scopeSelect,onNativeOptionAdd:w.useCallback(H=>{G(Z=>new Set(Z).add(H))},[]),onNativeOptionRemove:w.useCallback(H=>{G(Z=>{const K=new Set(Z);return K.delete(H),K})},[]),children:t})}),z?h.jsxs(L2,{"aria-hidden":!0,required:S,tabIndex:-1,name:v,autoComplete:x,value:O,onChange:H=>U(H.target.value),disabled:b,form:R,children:[O===void 0?h.jsx("option",{value:""}):null,Array.from(V)]},ne):null]})})};g2.displayName=Fo;var y2="SelectTrigger",v2=w.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:s=!1,...a}=n,o=sp(t),u=Wa(y2,t),d=u.disabled||s,p=cn(e,u.onTriggerChange),g=rp(t),v=w.useRef("touch"),[x,b,S]=z2(C=>{const I=g().filter(L=>!L.disabled),M=I.find(L=>L.value===u.value),P=B2(I,C,M);P!==void 0&&u.onValueChange(P.value)}),R=C=>{d||(u.onOpenChange(!0),S()),C&&(u.triggerPointerDownPosRef.current={x:Math.round(C.pageX),y:Math.round(C.pageY)})};return h.jsx(bL,{asChild:!0,...o,children:h.jsx(Lt.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":U2(u.value)?"":void 0,...a,ref:p,onClick:en(a.onClick,C=>{C.currentTarget.focus(),v.current!=="mouse"&&R(C)}),onPointerDown:en(a.onPointerDown,C=>{v.current=C.pointerType;const I=C.target;I.hasPointerCapture(C.pointerId)&&I.releasePointerCapture(C.pointerId),C.button===0&&C.ctrlKey===!1&&C.pointerType==="mouse"&&(R(C),C.preventDefault())}),onKeyDown:en(a.onKeyDown,C=>{const I=x.current!=="";!(C.ctrlKey||C.altKey||C.metaKey)&&C.key.length===1&&b(C.key),!(I&&C.key===" ")&&m9.includes(C.key)&&(R(),C.preventDefault())})})})});v2.displayName=y2;var _2="SelectValue",b2=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:s,style:a,children:o,placeholder:u="",...d}=n,p=Wa(_2,t),{onValueNodeHasChildrenChange:g}=p,v=o!==void 0,x=cn(e,p.onValueNodeChange);return sr(()=>{g(v)},[g,v]),h.jsx(Lt.span,{...d,ref:x,style:{pointerEvents:"none"},children:U2(p.value)?h.jsx(h.Fragment,{children:u}):o})});b2.displayName=_2;var b9="SelectIcon",x2=w.forwardRef((n,e)=>{const{__scopeSelect:t,children:s,...a}=n;return h.jsx(Lt.span,{"aria-hidden":!0,...a,ref:e,children:s||""})});x2.displayName=b9;var x9="SelectPortal",w2=n=>h.jsx(a2,{asChild:!0,...n});w2.displayName=x9;var qo="SelectContent",E2=w.forwardRef((n,e)=>{const t=Wa(qo,n.__scopeSelect),[s,a]=w.useState();if(sr(()=>{a(new DocumentFragment)},[]),!t.open){const o=s;return o?wd.createPortal(h.jsx(T2,{scope:n.__scopeSelect,children:h.jsx(np.Slot,{scope:n.__scopeSelect,children:h.jsx("div",{children:n.children})})}),o):null}return h.jsx(S2,{...n,ref:e})});E2.displayName=qo;var ts=10,[T2,Qa]=Pc(qo),w9="SelectContentImpl",E9=ad("SelectContent.RemoveScroll"),S2=w.forwardRef((n,e)=>{const{__scopeSelect:t,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:u,side:d,sideOffset:p,align:g,alignOffset:v,arrowPadding:x,collisionBoundary:b,collisionPadding:S,sticky:R,hideWhenDetached:C,avoidCollisions:I,...M}=n,P=Wa(qo,t),[L,$]=w.useState(null),[q,X]=w.useState(null),N=cn(e,ge=>$(ge)),[A,O]=w.useState(null),[U,D]=w.useState(null),z=rp(t),[V,G]=w.useState(!1),ne=w.useRef(!1);w.useEffect(()=>{if(L)return DL(L)},[L]),$8();const H=w.useCallback(ge=>{const[je,...ct]=z().map(Xe=>Xe.ref.current),[We]=ct.slice(-1),Qe=document.activeElement;for(const Xe of ge)if(Xe===Qe||(Xe==null||Xe.scrollIntoView({block:"nearest"}),Xe===je&&q&&(q.scrollTop=0),Xe===We&&q&&(q.scrollTop=q.scrollHeight),Xe==null||Xe.focus(),document.activeElement!==Qe))return},[z,q]),Z=w.useCallback(()=>H([A,L]),[H,A,L]);w.useEffect(()=>{V&&Z()},[V,Z]);const{onOpenChange:K,triggerPointerDownPosRef:ye}=P;w.useEffect(()=>{if(L){let ge={x:0,y:0};const je=We=>{var Qe,Xe;ge={x:Math.abs(Math.round(We.pageX)-(((Qe=ye.current)==null?void 0:Qe.x)??0)),y:Math.abs(Math.round(We.pageY)-(((Xe=ye.current)==null?void 0:Xe.y)??0))}},ct=We=>{ge.x<=10&&ge.y<=10?We.preventDefault():L.contains(We.target)||K(!1),document.removeEventListener("pointermove",je),ye.current=null};return ye.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",ct,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",ct,{capture:!0})}}},[L,K,ye]),w.useEffect(()=>{const ge=()=>K(!1);return window.addEventListener("blur",ge),window.addEventListener("resize",ge),()=>{window.removeEventListener("blur",ge),window.removeEventListener("resize",ge)}},[K]);const[B,ae]=z2(ge=>{const je=z().filter(Qe=>!Qe.disabled),ct=je.find(Qe=>Qe.ref.current===document.activeElement),We=B2(je,ge,ct);We&&setTimeout(()=>We.ref.current.focus())}),he=w.useCallback((ge,je,ct)=>{const We=!ne.current&&!ct;(P.value!==void 0&&P.value===je||We)&&(O(ge),We&&(ne.current=!0))},[P.value]),le=w.useCallback(()=>L==null?void 0:L.focus(),[L]),be=w.useCallback((ge,je,ct)=>{const We=!ne.current&&!ct;(P.value!==void 0&&P.value===je||We)&&D(ge)},[P.value]),ze=s==="popper"?Sv:A2,De=ze===Sv?{side:d,sideOffset:p,align:g,alignOffset:v,arrowPadding:x,collisionBoundary:b,collisionPadding:S,sticky:R,hideWhenDetached:C,avoidCollisions:I}:{};return h.jsx(T2,{scope:t,content:L,viewport:q,onViewportChange:X,itemRefCallback:he,selectedItem:A,onItemLeave:le,itemTextRefCallback:be,focusSelectedItem:Z,selectedItemText:U,position:s,isPositioned:V,searchRef:B,children:h.jsx(p2,{as:E9,allowPinchZoom:!0,children:h.jsx(PC,{asChild:!0,trapped:P.open,onMountAutoFocus:ge=>{ge.preventDefault()},onUnmountAutoFocus:en(a,ge=>{var je;(je=P.trigger)==null||je.focus({preventScroll:!0}),ge.preventDefault()}),children:h.jsx(jC,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:u,onFocusOutside:ge=>ge.preventDefault(),onDismiss:()=>P.onOpenChange(!1),children:h.jsx(ze,{role:"listbox",id:P.contentId,"data-state":P.open?"open":"closed",dir:P.dir,onContextMenu:ge=>ge.preventDefault(),...M,...De,onPlaced:()=>G(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...M.style},onKeyDown:en(M.onKeyDown,ge=>{const je=ge.ctrlKey||ge.altKey||ge.metaKey;if(ge.key==="Tab"&&ge.preventDefault(),!je&&ge.key.length===1&&ae(ge.key),["ArrowUp","ArrowDown","Home","End"].includes(ge.key)){let We=z().filter(Qe=>!Qe.disabled).map(Qe=>Qe.ref.current);if(["ArrowUp","End"].includes(ge.key)&&(We=We.slice().reverse()),["ArrowUp","ArrowDown"].includes(ge.key)){const Qe=ge.target,Xe=We.indexOf(Qe);We=We.slice(Xe+1)}setTimeout(()=>H(We)),ge.preventDefault()}})})})})})})});S2.displayName=w9;var T9="SelectItemAlignedPosition",A2=w.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:s,...a}=n,o=Wa(qo,t),u=Qa(qo,t),[d,p]=w.useState(null),[g,v]=w.useState(null),x=cn(e,N=>v(N)),b=rp(t),S=w.useRef(!1),R=w.useRef(!0),{viewport:C,selectedItem:I,selectedItemText:M,focusSelectedItem:P}=u,L=w.useCallback(()=>{if(o.trigger&&o.valueNode&&d&&g&&C&&I&&M){const N=o.trigger.getBoundingClientRect(),A=g.getBoundingClientRect(),O=o.valueNode.getBoundingClientRect(),U=M.getBoundingClientRect();if(o.dir!=="rtl"){const Qe=U.left-A.left,Xe=O.left-Qe,se=N.left-Xe,Ae=N.width+se,Ce=Math.max(Ae,A.width),Me=window.innerWidth-ts,Ye=xT(Xe,[ts,Math.max(ts,Me-Ce)]);d.style.minWidth=Ae+"px",d.style.left=Ye+"px"}else{const Qe=A.right-U.right,Xe=window.innerWidth-O.right-Qe,se=window.innerWidth-N.right-Xe,Ae=N.width+se,Ce=Math.max(Ae,A.width),Me=window.innerWidth-ts,Ye=xT(Xe,[ts,Math.max(ts,Me-Ce)]);d.style.minWidth=Ae+"px",d.style.right=Ye+"px"}const D=b(),z=window.innerHeight-ts*2,V=C.scrollHeight,G=window.getComputedStyle(g),ne=parseInt(G.borderTopWidth,10),H=parseInt(G.paddingTop,10),Z=parseInt(G.borderBottomWidth,10),K=parseInt(G.paddingBottom,10),ye=ne+H+V+K+Z,B=Math.min(I.offsetHeight*5,ye),ae=window.getComputedStyle(C),he=parseInt(ae.paddingTop,10),le=parseInt(ae.paddingBottom,10),be=N.top+N.height/2-ts,ze=z-be,De=I.offsetHeight/2,ge=I.offsetTop+De,je=ne+H+ge,ct=ye-je;if(je<=be){const Qe=D.length>0&&I===D[D.length-1].ref.current;d.style.bottom="0px";const Xe=g.clientHeight-C.offsetTop-C.offsetHeight,se=Math.max(ze,De+(Qe?le:0)+Xe+Z),Ae=je+se;d.style.height=Ae+"px"}else{const Qe=D.length>0&&I===D[0].ref.current;d.style.top="0px";const se=Math.max(be,ne+C.offsetTop+(Qe?he:0)+De)+ct;d.style.height=se+"px",C.scrollTop=je-be+C.offsetTop}d.style.margin=`${ts}px 0`,d.style.minHeight=B+"px",d.style.maxHeight=z+"px",s==null||s(),requestAnimationFrame(()=>S.current=!0)}},[b,o.trigger,o.valueNode,d,g,C,I,M,o.dir,s]);sr(()=>L(),[L]);const[$,q]=w.useState();sr(()=>{g&&q(window.getComputedStyle(g).zIndex)},[g]);const X=w.useCallback(N=>{N&&R.current===!0&&(L(),P==null||P(),R.current=!1)},[L,P]);return h.jsx(A9,{scope:t,contentWrapper:d,shouldExpandOnScrollRef:S,onScrollButtonChange:X,children:h.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:$},children:h.jsx(Lt.div,{...a,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});A2.displayName=T9;var S9="SelectPopperPosition",Sv=w.forwardRef((n,e)=>{const{__scopeSelect:t,align:s="start",collisionPadding:a=ts,...o}=n,u=sp(t);return h.jsx(xL,{...u,...o,ref:e,align:s,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Sv.displayName=S9;var[A9,r_]=Pc(qo,{}),Av="SelectViewport",C2=w.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:s,...a}=n,o=Qa(Av,t),u=r_(Av,t),d=cn(e,o.onViewportChange),p=w.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),h.jsx(np.Slot,{scope:t,children:h.jsx(Lt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:en(a.onScroll,g=>{const v=g.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:b}=u;if(b!=null&&b.current&&x){const S=Math.abs(p.current-v.scrollTop);if(S>0){const R=window.innerHeight-ts*2,C=parseFloat(x.style.minHeight),I=parseFloat(x.style.height),M=Math.max(C,I);if(M<R){const P=M+S,L=Math.min(R,P),$=P-L;x.style.height=L+"px",x.style.bottom==="0px"&&(v.scrollTop=$>0?$:0,x.style.justifyContent="flex-end")}}}p.current=v.scrollTop})})})]})});C2.displayName=Av;var R2="SelectGroup",[C9,R9]=Pc(R2),N9=w.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,a=$0();return h.jsx(C9,{scope:t,id:a,children:h.jsx(Lt.div,{role:"group","aria-labelledby":a,...s,ref:e})})});N9.displayName=R2;var N2="SelectLabel",I9=w.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,a=R9(N2,t);return h.jsx(Lt.div,{id:a.id,...s,ref:e})});I9.displayName=N2;var _m="SelectItem",[k9,I2]=Pc(_m),k2=w.forwardRef((n,e)=>{const{__scopeSelect:t,value:s,disabled:a=!1,textValue:o,...u}=n,d=Wa(_m,t),p=Qa(_m,t),g=d.value===s,[v,x]=w.useState(o??""),[b,S]=w.useState(!1),R=cn(e,P=>{var L;return(L=p.itemRefCallback)==null?void 0:L.call(p,P,s,a)}),C=$0(),I=w.useRef("touch"),M=()=>{a||(d.onValueChange(s),d.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(k9,{scope:t,value:s,disabled:a,textId:C,isSelected:g,onItemTextChange:w.useCallback(P=>{x(L=>L||((P==null?void 0:P.textContent)??"").trim())},[]),children:h.jsx(np.ItemSlot,{scope:t,value:s,disabled:a,textValue:v,children:h.jsx(Lt.div,{role:"option","aria-labelledby":C,"data-highlighted":b?"":void 0,"aria-selected":g&&b,"data-state":g?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...u,ref:R,onFocus:en(u.onFocus,()=>S(!0)),onBlur:en(u.onBlur,()=>S(!1)),onClick:en(u.onClick,()=>{I.current!=="mouse"&&M()}),onPointerUp:en(u.onPointerUp,()=>{I.current==="mouse"&&M()}),onPointerDown:en(u.onPointerDown,P=>{I.current=P.pointerType}),onPointerMove:en(u.onPointerMove,P=>{var L;I.current=P.pointerType,a?(L=p.onItemLeave)==null||L.call(p):I.current==="mouse"&&P.currentTarget.focus({preventScroll:!0})}),onPointerLeave:en(u.onPointerLeave,P=>{var L;P.currentTarget===document.activeElement&&((L=p.onItemLeave)==null||L.call(p))}),onKeyDown:en(u.onKeyDown,P=>{var $;(($=p.searchRef)==null?void 0:$.current)!==""&&P.key===" "||(p9.includes(P.key)&&M(),P.key===" "&&P.preventDefault())})})})})});k2.displayName=_m;var Xu="SelectItemText",D2=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:s,style:a,...o}=n,u=Wa(Xu,t),d=Qa(Xu,t),p=I2(Xu,t),g=_9(Xu,t),[v,x]=w.useState(null),b=cn(e,M=>x(M),p.onItemTextChange,M=>{var P;return(P=d.itemTextRefCallback)==null?void 0:P.call(d,M,p.value,p.disabled)}),S=v==null?void 0:v.textContent,R=w.useMemo(()=>h.jsx("option",{value:p.value,disabled:p.disabled,children:S},p.value),[p.disabled,p.value,S]),{onNativeOptionAdd:C,onNativeOptionRemove:I}=g;return sr(()=>(C(R),()=>I(R)),[C,I,R]),h.jsxs(h.Fragment,{children:[h.jsx(Lt.span,{id:p.textId,...o,ref:b}),p.isSelected&&u.valueNode&&!u.valueNodeHasChildren?wd.createPortal(o.children,u.valueNode):null]})});D2.displayName=Xu;var O2="SelectItemIndicator",j2=w.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n;return I2(O2,t).isSelected?h.jsx(Lt.span,{"aria-hidden":!0,...s,ref:e}):null});j2.displayName=O2;var Cv="SelectScrollUpButton",M2=w.forwardRef((n,e)=>{const t=Qa(Cv,n.__scopeSelect),s=r_(Cv,n.__scopeSelect),[a,o]=w.useState(!1),u=cn(e,s.onScrollButtonChange);return sr(()=>{if(t.viewport&&t.isPositioned){let d=function(){const g=p.scrollTop>0;o(g)};const p=t.viewport;return d(),p.addEventListener("scroll",d),()=>p.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),a?h.jsx(V2,{...n,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:p}=t;d&&p&&(d.scrollTop=d.scrollTop-p.offsetHeight)}}):null});M2.displayName=Cv;var Rv="SelectScrollDownButton",P2=w.forwardRef((n,e)=>{const t=Qa(Rv,n.__scopeSelect),s=r_(Rv,n.__scopeSelect),[a,o]=w.useState(!1),u=cn(e,s.onScrollButtonChange);return sr(()=>{if(t.viewport&&t.isPositioned){let d=function(){const g=p.scrollHeight-p.clientHeight,v=Math.ceil(p.scrollTop)<g;o(v)};const p=t.viewport;return d(),p.addEventListener("scroll",d),()=>p.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),a?h.jsx(V2,{...n,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:p}=t;d&&p&&(d.scrollTop=d.scrollTop+p.offsetHeight)}}):null});P2.displayName=Rv;var V2=w.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:s,...a}=n,o=Qa("SelectScrollButton",t),u=w.useRef(null),d=rp(t),p=w.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return w.useEffect(()=>()=>p(),[p]),sr(()=>{var v;const g=d().find(x=>x.ref.current===document.activeElement);(v=g==null?void 0:g.ref.current)==null||v.scrollIntoView({block:"nearest"})},[d]),h.jsx(Lt.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:en(a.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(s,50))}),onPointerMove:en(a.onPointerMove,()=>{var g;(g=o.onItemLeave)==null||g.call(o),u.current===null&&(u.current=window.setInterval(s,50))}),onPointerLeave:en(a.onPointerLeave,()=>{p()})})}),D9="SelectSeparator",O9=w.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n;return h.jsx(Lt.div,{"aria-hidden":!0,...s,ref:e})});O9.displayName=D9;var Nv="SelectArrow",j9=w.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,a=sp(t),o=Wa(Nv,t),u=Qa(Nv,t);return o.open&&u.position==="popper"?h.jsx(wL,{...a,...s,ref:e}):null});j9.displayName=Nv;var M9="SelectBubbleInput",L2=w.forwardRef(({__scopeSelect:n,value:e,...t},s)=>{const a=w.useRef(null),o=cn(s,a),u=n_(e);return w.useEffect(()=>{const d=a.current;if(!d)return;const p=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(p,"value").set;if(u!==e&&v){const x=new Event("change",{bubbles:!0});v.call(d,e),d.dispatchEvent(x)}},[u,e]),h.jsx(Lt.select,{...t,style:{...o2,...t.style},ref:o,defaultValue:e})});L2.displayName=M9;function U2(n){return n===""||n===void 0}function z2(n){const e=zo(n),t=w.useRef(""),s=w.useRef(0),a=w.useCallback(u=>{const d=t.current+u;e(d),function p(g){t.current=g,window.clearTimeout(s.current),g!==""&&(s.current=window.setTimeout(()=>p(""),1e3))}(d)},[e]),o=w.useCallback(()=>{t.current="",window.clearTimeout(s.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(s.current),[]),[t,a,o]}function B2(n,e,t){const a=e.length>1&&Array.from(e).every(g=>g===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let u=P9(n,Math.max(o,0));a.length===1&&(u=u.filter(g=>g!==t));const p=u.find(g=>g.textValue.toLowerCase().startsWith(a.toLowerCase()));return p!==t?p:void 0}function P9(n,e){return n.map((t,s)=>n[(e+s)%n.length])}var V9=g2,L9=v2,U9=b2,z9=x2,B9=w2,F9=E2,q9=C2,H9=k2,$9=D2,G9=j2,Y9=M2,K9=P2;function Is({...n}){return h.jsx(V9,{"data-slot":"select",...n})}function ks({...n}){return h.jsx(U9,{"data-slot":"select-value",...n})}function Ds({className:n,size:e="default",children:t,...s}){return h.jsxs(L9,{"data-slot":"select-trigger","data-size":e,className:un("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...s,children:[t,h.jsx(z9,{asChild:!0,children:h.jsx(KS,{className:"size-4 opacity-50"})})]})}function Os({className:n,children:e,position:t="popper",...s}){return h.jsx(B9,{children:h.jsxs(F9,{"data-slot":"select-content",className:un("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...s,children:[h.jsx(W9,{}),h.jsx(q9,{className:un("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),h.jsx(Q9,{})]})})}function kn({className:n,children:e,...t}){return h.jsxs(H9,{"data-slot":"select-item",className:un("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[h.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:h.jsx(G9,{children:h.jsx(Gv,{className:"size-4"})})}),h.jsx($9,{children:e})]})}function W9({className:n,...e}){return h.jsx(Y9,{"data-slot":"select-scroll-up-button",className:un("flex cursor-default items-center justify-center py-1",n),...e,children:h.jsx(yD,{className:"size-4"})})}function Q9({className:n,...e}){return h.jsx(K9,{"data-slot":"select-scroll-down-button",className:un("flex cursor-default items-center justify-center py-1",n),...e,children:h.jsx(KS,{className:"size-4"})})}function F2({className:n,...e}){return h.jsx("textarea",{"data-slot":"textarea",className:un("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}function X9(n,e){return w.useReducer((t,s)=>e[t][s]??t,n)}var q2=n=>{const{present:e,children:t}=n,s=Z9(e),a=typeof t=="function"?t({present:s.isPresent}):w.Children.only(t),o=cn(s.ref,J9(a));return typeof t=="function"||s.isPresent?w.cloneElement(a,{ref:o}):null};q2.displayName="Presence";function Z9(n){const[e,t]=w.useState(),s=w.useRef(null),a=w.useRef(n),o=w.useRef("none"),u=n?"mounted":"unmounted",[d,p]=X9(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const g=Sh(s.current);o.current=d==="mounted"?g:"none"},[d]),sr(()=>{const g=s.current,v=a.current;if(v!==n){const b=o.current,S=Sh(g);n?p("MOUNT"):S==="none"||(g==null?void 0:g.display)==="none"?p("UNMOUNT"):p(v&&b!==S?"ANIMATION_OUT":"UNMOUNT"),a.current=n}},[n,p]),sr(()=>{if(e){let g;const v=e.ownerDocument.defaultView??window,x=S=>{const C=Sh(s.current).includes(S.animationName);if(S.target===e&&C&&(p("ANIMATION_END"),!a.current)){const I=e.style.animationFillMode;e.style.animationFillMode="forwards",g=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=I)})}},b=S=>{S.target===e&&(o.current=Sh(s.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",x),e.addEventListener("animationend",x),()=>{v.clearTimeout(g),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",x),e.removeEventListener("animationend",x)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:w.useCallback(g=>{s.current=g?getComputedStyle(g):null,t(g)},[])}}function Sh(n){return(n==null?void 0:n.animationName)||"none"}function J9(n){var s,a;let e=(s=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var ip="Checkbox",[eU,_5]=Oc(ip),[tU,s_]=eU(ip);function nU(n){const{__scopeCheckbox:e,checked:t,children:s,defaultChecked:a,disabled:o,form:u,name:d,onCheckedChange:p,required:g,value:v="on",internal_do_not_use_render:x}=n,[b,S]=vm({prop:t,defaultProp:a??!1,onChange:p,caller:ip}),[R,C]=w.useState(null),[I,M]=w.useState(null),P=w.useRef(!1),L=R?!!u||!!R.closest("form"):!0,$={checked:b,disabled:o,setChecked:S,control:R,setControl:C,name:d,form:u,value:v,hasConsumerStoppedPropagationRef:P,required:g,defaultChecked:Oa(a)?!1:a,isFormControl:L,bubbleInput:I,setBubbleInput:M};return h.jsx(tU,{scope:e,...$,children:rU(x)?x($):s})}var H2="CheckboxTrigger",$2=w.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...s},a)=>{const{control:o,value:u,disabled:d,checked:p,required:g,setControl:v,setChecked:x,hasConsumerStoppedPropagationRef:b,isFormControl:S,bubbleInput:R}=s_(H2,n),C=cn(a,v),I=w.useRef(p);return w.useEffect(()=>{const M=o==null?void 0:o.form;if(M){const P=()=>x(I.current);return M.addEventListener("reset",P),()=>M.removeEventListener("reset",P)}},[o,x]),h.jsx(Lt.button,{type:"button",role:"checkbox","aria-checked":Oa(p)?"mixed":p,"aria-required":g,"data-state":X2(p),"data-disabled":d?"":void 0,disabled:d,value:u,...s,ref:C,onKeyDown:en(e,M=>{M.key==="Enter"&&M.preventDefault()}),onClick:en(t,M=>{x(P=>Oa(P)?!0:!P),R&&S&&(b.current=M.isPropagationStopped(),b.current||M.stopPropagation())})})});$2.displayName=H2;var G2=w.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:s,checked:a,defaultChecked:o,required:u,disabled:d,value:p,onCheckedChange:g,form:v,...x}=n;return h.jsx(nU,{__scopeCheckbox:t,checked:a,defaultChecked:o,disabled:d,required:u,onCheckedChange:g,name:s,form:v,value:p,internal_do_not_use_render:({isFormControl:b})=>h.jsxs(h.Fragment,{children:[h.jsx($2,{...x,ref:e,__scopeCheckbox:t}),b&&h.jsx(Q2,{__scopeCheckbox:t})]})})});G2.displayName=ip;var Y2="CheckboxIndicator",K2=w.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:s,...a}=n,o=s_(Y2,t);return h.jsx(q2,{present:s||Oa(o.checked)||o.checked===!0,children:h.jsx(Lt.span,{"data-state":X2(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...n.style}})})});K2.displayName=Y2;var W2="CheckboxBubbleInput",Q2=w.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:o,defaultChecked:u,required:d,disabled:p,name:g,value:v,form:x,bubbleInput:b,setBubbleInput:S}=s_(W2,n),R=cn(t,S),C=n_(o),I=J0(s);w.useEffect(()=>{const P=b;if(!P)return;const L=window.HTMLInputElement.prototype,q=Object.getOwnPropertyDescriptor(L,"checked").set,X=!a.current;if(C!==o&&q){const N=new Event("click",{bubbles:X});P.indeterminate=Oa(o),q.call(P,Oa(o)?!1:o),P.dispatchEvent(N)}},[b,C,o,a]);const M=w.useRef(Oa(o)?!1:o);return h.jsx(Lt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??M.current,required:d,disabled:p,name:g,value:v,form:x,...e,tabIndex:-1,ref:R,style:{...e.style,...I,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Q2.displayName=W2;function rU(n){return typeof n=="function"}function Oa(n){return n==="indeterminate"}function X2(n){return Oa(n)?"indeterminate":n?"checked":"unchecked"}function Ah({className:n,...e}){return h.jsx(G2,{"data-slot":"checkbox",className:un("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:h.jsx(K2,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:h.jsx(Gv,{className:"size-3.5"})})})}function sU(){const{currentUser:n}=ir(),{currentLedger:e,canEdit:t}=Ys(),[s,a]=w.useState([]),[o,u]=w.useState([]),[d,p]=w.useState([]),[g,v]=w.useState(!0),[x,b]=w.useState(!1),[S,R]=w.useState(null),[C,I]=w.useState(!1),[M,P]=w.useState(null),[L,$]=w.useState([]),[q,X]=w.useState(!1),[N,A]=w.useState(""),[O,U]=w.useState(""),[D,z]=w.useState({amount:"",type:"expense",description:"",categoryId:"",paymentMethod:"cash",notes:"",includeInBudget:!0,date:new Date().toISOString().split("T")[0],paidBy:(n==null?void 0:n.uid)||"",splitType:"none",splitWith:[],splitAmounts:{}}),[V,G]=w.useState("none"),[ne,H]=w.useState({categoryId:"",includeInBudget:null}),Z=()=>{z({amount:"",type:"expense",description:"",categoryId:"",paymentMethod:"cash",notes:"",includeInBudget:!0,date:new Date().toISOString().split("T")[0],paidBy:(n==null?void 0:n.uid)||"",splitType:"none",splitWith:[],splitAmounts:{}}),G("none"),I(!1),P(null),R(null)},K=async()=>{if(e)try{const se=Gt(Fe,"ledgers",e.id,"transactions"),Ae=vr(se,Di("date","desc")),Ce=await Kn(Ae),Me=[];Ce.forEach(Ye=>{var me;const gn=Ye.data();Me.push({id:Ye.id,...gn,date:((me=gn.date)==null?void 0:me.toDate())||new Date})}),a(Me)}catch(se){console.error("Error fetching transactions:",se),A("Failed to fetch transactions")}},ye=async()=>{if(e)try{const se=Gt(Fe,"ledgers",e.id,"categories"),Ae=await Kn(se),Ce=[];Ae.forEach(Me=>{Ce.push({id:Me.id,...Me.data()})}),u(Ce),Ce.length===0&&await ae()}catch(se){console.error("Error fetching categories:",se)}},B=async()=>{if(e!=null&&e.members)try{const se=[],Ae=Object.keys(e.members),Ce=10,Me=new Map;for(let Ye=0;Ye<Ae.length;Ye+=Ce){const gn=Ae.slice(Ye,Ye+Ce);try{const me=vr(Gt(Fe,"users"),zs("__name__","in",gn));(await Kn(me)).forEach(ve=>{Me.set(ve.id,ve.data())})}catch(me){console.error("Error fetching user batch:",me)}}for(const[Ye,gn]of Object.entries(e.members)){let me={uid:Ye,role:gn};const xe=Me.get(Ye);xe?me={...me,displayName:xe.displayName,email:xe.email,profileColor:xe.profileColor}:Ye===(n==null?void 0:n.uid)?me={...me,displayName:n.displayName,email:n.email}:me={...me,displayName:`User ${Ye.slice(0,8)}`,email:`${Ye.slice(0,8)}@example.com`},se.push(me)}p(se)}catch(se){console.error("Error fetching members:",se)}},ae=async()=>{const se=[{name:"Food & Dining",type:"expense"},{name:"Transportation",type:"expense"},{name:"Shopping",type:"expense"},{name:"Entertainment",type:"expense"},{name:"Bills & Utilities",type:"expense"},{name:"Healthcare",type:"expense"},{name:"Salary",type:"income"},{name:"Freelance",type:"income"},{name:"Investment",type:"income"}];try{const Ae=Gt(Fe,"ledgers",e.id,"categories");for(const Ce of se)await Ai(Ae,Ce);await ye()}catch(Ae){console.error("Error creating default categories:",Ae)}},he=async se=>{if(se.preventDefault(),!t()){A("You do not have permission to add transactions");return}try{A("");const Ae={...D,amount:parseFloat(D.amount),date:At.fromDate(new Date(D.date)),createdAt:At.now(),userId:n.uid,paidBy:D.paidBy,splitType:D.splitType,splitWith:D.splitWith,splitAmounts:D.splitAmounts};S?(await rs(Yt(Fe,"ledgers",e.id,"transactions",S.id),Ae),U("Transaction updated successfully")):(await Ai(Gt(Fe,"ledgers",e.id,"transactions"),Ae),U("Transaction added successfully")),Z(),b(!1),R(null),await K()}catch(Ae){console.error("Error adding/updating transaction:",Ae),A("Failed to add/update transaction")}},le=async se=>{if(!t()){A("You do not have permission to delete transactions");return}try{await Ud(Yt(Fe,"ledgers",e.id,"transactions",se)),U("Transaction deleted successfully"),await K()}catch(Ae){console.error("Error deleting transaction:",Ae),A("Failed to delete transaction")}},be=async()=>{if(!(!t()||L.length===0)&&window.confirm(`Are you sure you want to delete ${L.length} selected transactions?`))try{A("");const se=500,Ae=[];for(let Ce=0;Ce<L.length;Ce+=se){const Me=_v(Fe);L.slice(Ce,Ce+se).forEach(gn=>{const me=Yt(Fe,"ledgers",e.id,"transactions",gn);Me.delete(me)}),Ae.push(Me)}for(const Ce of Ae)await Ce.commit();U(`Deleted ${L.length} transactions`),$([]),await K()}catch(se){console.error("Error batch deleting transactions:",se),A("Failed to delete transactions")}},ze=async()=>{if(!(!t()||L.length===0))try{A("");const se={};ne.categoryId&&(se.categoryId=ne.categoryId),ne.includeInBudget!==null&&(se.includeInBudget=ne.includeInBudget);const Ae=500,Ce=[];for(let Me=0;Me<L.length;Me+=Ae){const Ye=_v(Fe);L.slice(Me,Me+Ae).forEach(me=>{const xe=Yt(Fe,"ledgers",e.id,"transactions",me);Ye.update(xe,se)}),Ce.push(Ye)}for(const Me of Ce)await Me.commit();U(`Updated ${L.length} transactions`),$([]),X(!1),H({categoryId:"",includeInBudget:null}),await K()}catch(se){console.error("Error batch updating transactions:",se),A("Failed to update transactions")}},De=se=>{R(se),I(!0),P(se.id),b(!0),z({...se,date:se.date instanceof Date?se.date.toISOString().split("T")[0]:se.date,splitWith:se.splitWith||[],splitAmounts:se.splitAmounts||{}});const Ce=d.filter(Me=>Me.uid!==(n==null?void 0:n.uid)).map(Me=>Me.uid);se.splitWith.length===0?G("none"):se.splitWith.length===Ce.length&&Ce.every(Me=>se.splitWith.includes(Me))?G("everyone"):G("individuals")},ge=se=>{$(Ae=>Ae.includes(se)?Ae.filter(Ce=>Ce!==se):[...Ae,se])},je=()=>{L.length===s.length?$([]):$(s.map(se=>se.id))},ct=se=>{z(Ae=>{const Ce=Ae.splitWith||[],Me=Ce.includes(se)?Ce.filter(Ye=>Ye!==se):[...Ce,se];return setTimeout(()=>{Qe(Me)},0),{...Ae,splitWith:Me,splitType:Me.length>0?"equal":"none"}})},We=se=>{if(G(se),se==="none")z(Ae=>({...Ae,splitType:"none",splitWith:[]}));else if(se==="everyone"){const Ae=d.filter(Ce=>Ce.uid!==(n==null?void 0:n.uid)).map(Ce=>Ce.uid);z(Ce=>({...Ce,splitType:"equal",splitWith:Ae}))}else se==="individuals"&&z(Ae=>({...Ae,splitType:Ae.splitWith&&Ae.splitWith.length>0?"equal":"none"}))},Qe=se=>{const Ce=d.filter(Me=>Me.uid!==(n==null?void 0:n.uid)).map(Me=>Me.uid);se.length===0?G("none"):se.length===Ce.length&&Ce.every(Me=>se.includes(Me))?G("everyone"):G("individuals")},Xe=d.length>1;return w.useEffect(()=>{e&&Promise.all([K(),ye(),B()]).finally(()=>v(!1))},[e]),w.useEffect(()=>{n&&z(se=>({...se,paidBy:n.uid}))},[n]),g?h.jsx("div",{className:"p-6",children:"Loading transactions..."}):e?h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Transactions"}),h.jsx("div",{className:"flex space-x-2",children:t()&&h.jsxs(Le,{onClick:()=>b(!0),className:"flex items-center space-x-2",children:[h.jsx(nc,{className:"h-4 w-4"}),h.jsx("span",{children:"Add Transaction"})]})})]}),N&&h.jsx(Qt,{variant:"destructive",children:h.jsx(Xt,{children:N})}),O&&h.jsx(Qt,{children:h.jsx(Xt,{children:O})}),(x||S)&&h.jsxs(Tt,{children:[h.jsx(kt,{children:h.jsx(Dt,{children:S?"Edit Transaction":"Add New Transaction"})}),h.jsx(St,{children:h.jsxs("form",{onSubmit:he,className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"amount",children:"Amount"}),h.jsx(tn,{id:"amount",type:"number",step:"0.01",value:D.amount,onChange:se=>z({...D,amount:se.target.value}),required:!0})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"type",children:"Type"}),h.jsxs(Is,{value:D.type,onValueChange:se=>z({...D,type:se}),children:[h.jsx(Ds,{children:h.jsx(ks,{})}),h.jsxs(Os,{children:[h.jsx(kn,{value:"expense",children:"Expense"}),h.jsx(kn,{value:"income",children:"Income"})]})]})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"description",children:"Description"}),h.jsx(tn,{id:"description",type:"text",value:D.description,onChange:se=>z({...D,description:se.target.value}),required:!0})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"category",children:"Category"}),h.jsxs(Is,{value:D.categoryId,onValueChange:se=>z({...D,categoryId:se}),children:[h.jsx(Ds,{children:h.jsx(ks,{placeholder:"Select a category"})}),h.jsx(Os,{children:o.filter(se=>se.type===D.type).map(se=>h.jsx(kn,{value:se.id,children:se.name},se.id))})]})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"date",children:"Date"}),h.jsx(tn,{id:"date",type:"date",value:D.date,onChange:se=>z({...D,date:se.target.value}),required:!0})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"paymentMethod",children:"Payment Method"}),h.jsx(tn,{id:"paymentMethod",type:"text",value:D.paymentMethod,onChange:se=>z({...D,paymentMethod:se.target.value})})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx(tt,{htmlFor:"notes",children:"Notes"}),h.jsx(F2,{id:"notes",value:D.notes,onChange:se=>z({...D,notes:se.target.value})})]}),h.jsxs("div",{className:"md:col-span-2 flex items-center space-x-2",children:[h.jsx(Ah,{id:"includeInBudget",checked:D.includeInBudget,onCheckedChange:se=>z({...D,includeInBudget:se})}),h.jsx(tt,{htmlFor:"includeInBudget",children:"Include in Budget"})]})]}),Xe&&D.type==="expense"&&h.jsxs("div",{className:"space-y-4 border p-4 rounded-md",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Split Expense"}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"paidBy",children:"Paid By"}),h.jsxs(Is,{value:D.paidBy,onValueChange:se=>z({...D,paidBy:se}),children:[h.jsx(Ds,{children:h.jsx(ks,{placeholder:"Select payer"})}),h.jsx(Os,{children:d.map(se=>h.jsx(kn,{value:se.uid,children:h.jsx(Ro,{user:se})},se.uid))})]})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Le,{type:"button",variant:V==="none"?"default":"outline",onClick:()=>We("none"),children:"Don't Split"}),h.jsx(Le,{type:"button",variant:V==="everyone"?"default":"outline",onClick:()=>We("everyone"),children:"Split Equally (Everyone Else)"}),h.jsx(Le,{type:"button",variant:V==="individuals"?"default":"outline",onClick:()=>We("individuals"),children:"Split with Individuals"})]}),V==="individuals"&&h.jsxs("div",{className:"space-y-2",children:[h.jsx(tt,{children:"Select Members to Split With:"}),d.filter(se=>se.uid!==D.paidBy).map(se=>h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Ah,{id:`split-with-${se.uid}`,checked:(D.splitWith||[]).includes(se.uid),onCheckedChange:()=>ct(se.uid)}),h.jsx(tt,{htmlFor:`split-with-${se.uid}`,children:h.jsx(Ro,{user:se})})]},se.uid))]}),D.splitType==="equal"&&(D.splitWith||[]).length>0&&h.jsxs("div",{className:"border-t pt-4 mt-4",children:[h.jsx("h4",{className:"font-semibold",children:"Split Details:"}),h.jsxs("p",{children:["Total Amount: ",zh(D.amount||0,e==null?void 0:e.currency)]}),h.jsxs("p",{children:["Paid By: ",h.jsx(Ro,{user:d.find(se=>se.uid===D.paidBy)})]}),h.jsxs("p",{children:["Splitting with ",(D.splitWith||[]).length," other(s):"]}),h.jsxs("ul",{children:[(D.splitWith||[]).map(se=>{const Ae=d.find(Me=>Me.uid===se),Ce=zh(D.amount/((D.splitWith||[]).length+1),e==null?void 0:e.currency);return h.jsxs("li",{children:["- ",h.jsx(Ro,{user:Ae}),": ",Ce]},se)}),h.jsxs("li",{children:["- ",h.jsx(Ro,{user:d.find(se=>se.uid===D.paidBy)})," (Payer): ",zh(D.amount-(D.splitWith||[]).length*(D.amount/((D.splitWith||[]).length+1)),e==null?void 0:e.currency)]})]})]})]}),h.jsxs("div",{className:"flex justify-end space-x-2",children:[h.jsx(Le,{type:"button",variant:"outline",onClick:()=>{b(!1),Z()},children:"Cancel"}),h.jsx(Le,{type:"submit",children:S?"Update Transaction":"Add Transaction"})]})]})})]}),q&&h.jsxs(Tt,{children:[h.jsxs(kt,{children:[h.jsx(Dt,{children:"Batch Edit Transactions"}),h.jsxs(on,{children:["Edit ",L.length," selected transactions"]})]}),h.jsx(St,{children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"batchCategory",children:"Category"}),h.jsxs(Is,{value:ne.categoryId,onValueChange:se=>H({...ne,categoryId:se}),children:[h.jsx(Ds,{children:h.jsx(ks,{placeholder:"Select a category"})}),h.jsx(Os,{children:o.map(se=>h.jsx(kn,{value:se.id,children:se.name},se.id))})]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Ah,{id:"batchIncludeInBudget",checked:ne.includeInBudget===!0,onCheckedChange:se=>H({...ne,includeInBudget:se})}),h.jsx(tt,{htmlFor:"batchIncludeInBudget",children:"Include in Budget"})]}),h.jsxs("div",{className:"flex justify-end space-x-2",children:[h.jsx(Le,{type:"button",variant:"outline",onClick:()=>{X(!1),H({categoryId:"",includeInBudget:null})},children:"Cancel"}),h.jsxs(Le,{onClick:ze,children:["Update ",L.length," Transactions"]})]})]})})]}),h.jsxs(Tt,{children:[h.jsxs(kt,{children:[h.jsx(Dt,{children:"All Transactions"}),h.jsx(on,{children:"Manage your ledger's financial records."})]}),h.jsx(St,{children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx(Le,{variant:"outline",onClick:je,children:L.length===s.length?"Deselect All":"Select All"}),L.length>0&&h.jsxs("div",{className:"flex space-x-2",children:[h.jsxs(Le,{variant:"outline",onClick:()=>X(!0),className:"flex items-center space-x-2",children:[h.jsx(rc,{className:"h-4 w-4"}),h.jsxs("span",{children:["Batch Edit (",L.length,")"]})]}),h.jsxs(Le,{variant:"destructive",onClick:be,children:["Delete Selected (",L.length,")"]})]})]}),s.length===0?h.jsx("p",{children:"No transactions found. Add one above!"}):h.jsx("div",{className:"space-y-4",children:(()=>{const se={};return s.forEach(Ce=>{const Me=new Date(Ce.date),Ye=`${Me.getFullYear()}-${String(Me.getMonth()+1).padStart(2,"0")}`;se[Ye]||(se[Ye]=[]),se[Ye].push(Ce)}),Object.keys(se).sort((Ce,Me)=>Me.localeCompare(Ce)).map(Ce=>{const Me=se[Ce],[Ye,gn]=Ce.split("-"),me=new Date(Ye,gn-1).toLocaleDateString("en-US",{year:"numeric",month:"long"});return h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center my-6",children:[h.jsx("div",{className:"flex-grow border-t border-gray-300"}),h.jsx("div",{className:"mx-4 px-3 py-1 bg-gray-100 text-gray-600 text-sm font-medium rounded-full",children:me}),h.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),h.jsx("div",{className:"space-y-3",children:Me.map(xe=>{const ve=o.find(et=>et.id===xe.categoryId),Je=d.find(et=>et.uid===xe.paidBy),Ee=d.filter(et=>(xe.splitWith||[]).includes(et.uid));return h.jsxs("div",{className:"border p-4 rounded-md shadow-sm flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[h.jsx(Ah,{checked:L.includes(xe.id),onCheckedChange:()=>ge(xe.id)}),h.jsx("div",{className:"flex-1",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("p",{className:`font-semibold ${xe.type==="income"?"text-green-600":"text-red-600"}`,children:xe.description}),h.jsxs("p",{className:"text-sm text-gray-500",children:[ve==null?void 0:ve.name," | ",new Date(xe.date).toLocaleDateString()]}),xe.type==="expense"&&xe.splitType!=="none"&&h.jsxs("p",{className:"text-sm text-gray-500",children:["Paid by: ",h.jsx(Ro,{user:Je}),(xe.splitWith||[]).length>0&&h.jsxs("span",{children:[", Split with: ",Ee.map(et=>et.displayName||et.email).join(", ")]})]}),xe.type==="income"&&h.jsxs("p",{className:"text-sm text-gray-500",children:["Paid to: ",h.jsx(Ro,{user:Je})]})]}),h.jsx("div",{className:"text-right",children:h.jsx("p",{className:`font-semibold text-lg ${xe.type==="income"?"text-green-600":"text-red-600"}`,children:k8(xe.amount,e==null?void 0:e.currency,xe.type==="income")})})]})})]}),h.jsxs("div",{className:"flex space-x-2 ml-4",children:[h.jsx(Le,{variant:"outline",size:"sm",onClick:()=>De(xe),children:h.jsx(rc,{className:"h-4 w-4"})}),h.jsx(Le,{variant:"destructive",size:"sm",onClick:()=>le(xe.id),children:h.jsx(sc,{className:"h-4 w-4"})})]})]},xe.id)})})]},Ce)})})()})]})})]})]}):h.jsx("div",{className:"p-6",children:"Please select a ledger to view transactions."})}var i_="Progress",a_=100,[iU,b5]=Oc(i_),[aU,oU]=iU(i_),Z2=w.forwardRef((n,e)=>{const{__scopeProgress:t,value:s=null,max:a,getValueLabel:o=lU,...u}=n;(a||a===0)&&!HT(a)&&console.error(cU(`${a}`,"Progress"));const d=HT(a)?a:a_;s!==null&&!$T(s,d)&&console.error(uU(`${s}`,"Progress"));const p=$T(s,d)?s:null,g=bm(p)?o(p,d):void 0;return h.jsx(aU,{scope:t,value:p,max:d,children:h.jsx(Lt.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":bm(p)?p:void 0,"aria-valuetext":g,role:"progressbar","data-state":tR(p,d),"data-value":p??void 0,"data-max":d,...u,ref:e})})});Z2.displayName=i_;var J2="ProgressIndicator",eR=w.forwardRef((n,e)=>{const{__scopeProgress:t,...s}=n,a=oU(J2,t);return h.jsx(Lt.div,{"data-state":tR(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:e})});eR.displayName=J2;function lU(n,e){return`${Math.round(n/e*100)}%`}function tR(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function bm(n){return typeof n=="number"}function HT(n){return bm(n)&&!isNaN(n)&&n>0}function $T(n,e){return bm(n)&&!isNaN(n)&&n<=e&&n>=0}function cU(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${a_}\`.`}function uU(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${a_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var dU=Z2,fU=eR;function Iv({className:n,value:e,...t}){return h.jsx(dU,{"data-slot":"progress",className:un("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",n),...t,children:h.jsx(fU,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}function hU(){const{currentUser:n}=ir(),{currentLedger:e,canEdit:t}=Ys(),[s,a]=w.useState([]),[o,u]=w.useState([]),[d,p]=w.useState([]),[g,v]=w.useState(!0),[x,b]=w.useState(!1),[S,R]=w.useState(null),[C,I]=w.useState(""),[M,P]=w.useState(""),[L,$]=w.useState({name:"",startDate:new Date().toISOString().split("T")[0],endDate:"",totalAmount:"",timeSpan:"monthly",categories:{}}),q=(G,ne)=>{const H=new Date(G);let Z=new Date(H);switch(ne){case"weekly":Z.setDate(H.getDate()+6);break;case"monthly":Z.setMonth(H.getMonth()+1),Z.setDate(H.getDate()-1);break;case"quarterly":Z.setMonth(H.getMonth()+3),Z.setDate(H.getDate()-1);break;case"yearly":Z.setFullYear(H.getFullYear()+1),Z.setDate(H.getDate()-1);break;default:Z.setMonth(H.getMonth()+1),Z.setDate(H.getDate()-1)}return Z.toISOString().split("T")[0]},X=async()=>{if(e)try{const G=Gt(Fe,"ledgers",e.id,"budgets"),ne=vr(G,Di("startDate","desc")),H=await Kn(ne),Z=[];H.forEach(K=>{var B,ae;const ye=K.data();Z.push({id:K.id,...ye,startDate:((B=ye.startDate)==null?void 0:B.toDate())||new Date,endDate:((ae=ye.endDate)==null?void 0:ae.toDate())||new Date})}),a(Z)}catch(G){console.error("Error fetching budgets:",G),I("Failed to fetch budgets")}},N=async()=>{if(e)try{const G=Gt(Fe,"ledgers",e.id,"categories"),ne=await Kn(G),H=[];ne.forEach(Z=>{H.push({id:Z.id,...Z.data()})}),u(H)}catch(G){console.error("Error fetching categories:",G)}},A=async()=>{if(e)try{const G=Gt(Fe,"ledgers",e.id,"transactions"),ne=vr(G,zs("includeInBudget","==",!0)),H=await Kn(ne),Z=[];H.forEach(K=>{var B;const ye=K.data();Z.push({id:K.id,...ye,date:((B=ye.date)==null?void 0:B.toDate())||new Date})}),p(Z)}catch(G){console.error("Error fetching transactions:",G)}},O=G=>{const ne=d.filter(K=>{const ye=K.date;return ye>=G.startDate&&ye<=G.endDate&&K.type==="expense"}),H=ne.reduce((K,ye)=>K+ye.amount,0),Z={};return ne.forEach(K=>{K.categoryId&&(Z[K.categoryId]=(Z[K.categoryId]||0)+K.amount)}),{totalSpent:H,categorySpending:Z,transactionCount:ne.length}},U=async G=>{if(G.preventDefault(),!t()){I("You do not have permission to manage budgets");return}try{I("");const ne={...L,totalAmount:parseFloat(L.totalAmount),startDate:At.fromDate(new Date(L.startDate)),endDate:At.fromDate(new Date(L.endDate)),createdAt:At.now(),userId:n.uid};S?(await rs(Yt(Fe,"ledgers",e.id,"budgets",S.id),ne),P("Budget updated successfully")):(await Ai(Gt(Fe,"ledgers",e.id,"budgets"),ne),P("Budget created successfully")),$({name:"",startDate:new Date().toISOString().split("T")[0],endDate:"",totalAmount:"",timeSpan:"monthly",categories:{}}),b(!1),R(null),await X()}catch(ne){console.error("Error saving budget:",ne),I("Failed to save budget")}},D=async G=>{if(!t()){I("You do not have permission to delete budgets");return}try{await Ud(Yt(Fe,"ledgers",e.id,"budgets",G)),P("Budget deleted successfully"),await X()}catch(ne){console.error("Error deleting budget:",ne),I("Failed to delete budget")}},z=(G,ne)=>{$(H=>({...H,categories:{...H.categories,[G]:parseFloat(ne)||0}}))},V=()=>{const G=Object.values(L.categories).reduce((ne,H)=>ne+(H||0),0);return(parseFloat(L.totalAmount)||0)-G};return w.useEffect(()=>{e&&Promise.all([X(),N(),A()]).finally(()=>v(!1))},[e]),w.useEffect(()=>{if(L.startDate&&L.timeSpan){const G=q(L.startDate,L.timeSpan);$(ne=>({...ne,endDate:G}))}},[L.startDate,L.timeSpan]),g?h.jsx("div",{className:"p-6",children:"Loading budgets..."}):e?h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Budget Management"}),t()&&h.jsxs(Le,{onClick:()=>b(!0),className:"flex items-center space-x-2",children:[h.jsx(nc,{className:"h-4 w-4"}),h.jsx("span",{children:"Create Budget"})]})]}),C&&h.jsx(Qt,{variant:"destructive",children:h.jsx(Xt,{children:C})}),M&&h.jsx(Qt,{children:h.jsx(Xt,{children:M})}),(x||S)&&h.jsxs(Tt,{children:[h.jsx(kt,{children:h.jsx(Dt,{children:S?"Edit Budget":"Create New Budget"})}),h.jsx(St,{children:h.jsxs("form",{onSubmit:U,className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"name",children:"Budget Name"}),h.jsx(tn,{id:"name",value:L.name,onChange:G=>$({...L,name:G.target.value}),placeholder:"e.g., Monthly Budget - June 2025",required:!0})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"timeSpan",children:"Time Span"}),h.jsxs(Is,{value:L.timeSpan,onValueChange:G=>$({...L,timeSpan:G}),children:[h.jsx(Ds,{children:h.jsx(ks,{})}),h.jsxs(Os,{children:[h.jsx(kn,{value:"weekly",children:"Weekly"}),h.jsx(kn,{value:"monthly",children:"Monthly"}),h.jsx(kn,{value:"quarterly",children:"Quarterly"}),h.jsx(kn,{value:"yearly",children:"Yearly"}),h.jsx(kn,{value:"custom",children:"Custom"})]})]})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"startDate",children:"Start Date"}),h.jsx(tn,{id:"startDate",type:"date",value:L.startDate,onChange:G=>$({...L,startDate:G.target.value}),required:!0})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"endDate",children:"End Date"}),h.jsx(tn,{id:"endDate",type:"date",value:L.endDate,onChange:G=>$({...L,endDate:G.target.value}),disabled:L.timeSpan!=="custom",required:!0})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx(tt,{htmlFor:"totalAmount",children:"Total Budget Amount"}),h.jsx(tn,{id:"totalAmount",type:"number",step:"0.01",value:L.totalAmount,onChange:G=>$({...L,totalAmount:G.target.value}),required:!0})]})]}),h.jsxs("div",{children:[h.jsx(tt,{children:"Category Budget Allocation"}),h.jsxs("div",{className:"mt-2 space-y-2",children:[o.filter(G=>G.type==="expense").map(G=>h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(tt,{className:"w-32 text-sm",children:G.name}),h.jsx(tn,{type:"number",step:"0.01",value:L.categories[G.id]||"",onChange:ne=>z(G.id,ne.target.value),placeholder:"0.00",className:"w-32"})]},G.id)),h.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[h.jsx(tt,{className:"w-32 text-sm font-medium",children:"Remaining:"}),h.jsxs("span",{className:`text-sm font-medium ${V()<0?"text-red-600":"text-green-600"}`,children:["$",V().toFixed(2)]})]})]})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Le,{type:"submit",children:S?"Update Budget":"Create Budget"}),h.jsx(Le,{type:"button",variant:"outline",onClick:()=>{b(!1),R(null),$({name:"",startDate:new Date().toISOString().split("T")[0],endDate:"",totalAmount:"",timeSpan:"monthly",categories:{}})},children:"Cancel"})]})]})})]}),h.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.length===0?h.jsx(Tt,{className:"lg:col-span-2",children:h.jsxs(St,{className:"text-center py-8",children:[h.jsx(YD,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No budgets created yet"}),h.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first budget to start tracking your spending goals."}),t()&&h.jsx(Le,{onClick:()=>b(!0),children:"Create Your First Budget"})]})}):s.map(G=>{const ne=O(G),H=ne.totalSpent/G.totalAmount*100,Z=ne.totalSpent>G.totalAmount,K=Math.ceil((G.endDate-new Date)/(1e3*60*60*24));return h.jsxs(Tt,{children:[h.jsx(kt,{children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx(Dt,{className:"text-lg",children:G.name}),h.jsxs(on,{children:[G.startDate.toLocaleDateString()," - ",G.endDate.toLocaleDateString()]})]}),t()&&h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Le,{variant:"ghost",size:"sm",onClick:()=>{R(G),$({name:G.name,startDate:G.startDate.toISOString().split("T")[0],endDate:G.endDate.toISOString().split("T")[0],totalAmount:G.totalAmount.toString(),timeSpan:G.timeSpan||"custom",categories:G.categories||{}})},children:h.jsx(rc,{className:"h-4 w-4"})}),h.jsx(Le,{variant:"ghost",size:"sm",onClick:()=>D(G.id),children:h.jsx(sc,{className:"h-4 w-4"})})]})]})}),h.jsxs(St,{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm font-medium",children:"Budget Progress"}),h.jsxs(Nr,{variant:Z?"destructive":H>80?"secondary":"default",children:[H.toFixed(1),"%"]})]}),h.jsx(Iv,{value:Math.min(H,100),className:"h-2"}),h.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[h.jsxs("span",{children:["$",ne.totalSpent.toFixed(2)," spent"]}),h.jsxs("span",{children:["$",G.totalAmount.toFixed(2)," budget"]})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[h.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",(G.totalAmount-ne.totalSpent).toFixed(2)]}),h.jsx("div",{className:"text-sm text-gray-600",children:"Remaining"})]}),h.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[h.jsx("div",{className:"text-lg font-semibold text-gray-900",children:K>0?K:0}),h.jsx("div",{className:"text-sm text-gray-600",children:"Days Left"})]})]}),G.categories&&Object.keys(G.categories).length>0&&h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-medium mb-2",children:"Category Breakdown"}),h.jsx("div",{className:"space-y-2",children:Object.entries(G.categories).map(([ye,B])=>{const ae=o.find(be=>be.id===ye),he=ne.categorySpending[ye]||0,le=he/B*100;return ae?h.jsxs("div",{className:"space-y-1",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{children:ae.name}),h.jsxs("span",{children:["$",he.toFixed(2)," / $",B.toFixed(2)]})]}),h.jsx(Iv,{value:Math.min(le,100),className:"h-1"})]},ye):null})})]}),h.jsxs("div",{className:"text-sm text-gray-600",children:[ne.transactionCount," transactions in this period"]})]})]},G.id)})})]}):h.jsx("div",{className:"p-6",children:"Please select a ledger to view budgets."})}/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */var mU=function(){var n={base:"https://twemoji.maxcdn.com/v/14.0.2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:P,toCodePoint:X},onerror:function(){this.parentNode&&this.parentNode.replaceChild(p(this.alt,!1),this)},parse:L,replace:$,test:q},e={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},t=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd\udec3-\udec5\udef0-\udef6]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedd-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec2\uded0-\uded9\udee0-\udee7]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,s=/\uFE0F/g,a="",o=/[&<>'"]/g,u=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,d=String.fromCharCode;return n;function p(N,A){return document.createTextNode(A?N.replace(s,""):N)}function g(N){return N.replace(o,C)}function v(N,A){return"".concat(A.base,A.size,"/",N,A.ext)}function x(N,A){for(var O=N.childNodes,U=O.length,D,z;U--;)D=O[U],z=D.nodeType,z===3?A.push(D):z===1&&!("ownerSVGElement"in D)&&!u.test(D.nodeName.toLowerCase())&&x(D,A);return A}function b(N){return X(N.indexOf(a)<0?N.replace(s,""):N)}function S(N,A){for(var O=x(N,[]),U=O.length,D,z,V,G,ne,H,Z,K,ye,B,ae,he,le;U--;){for(V=!1,G=document.createDocumentFragment(),ne=O[U],H=ne.nodeValue,K=0;Z=t.exec(H);){if(ye=Z.index,ye!==K&&G.appendChild(p(H.slice(K,ye),!0)),ae=Z[0],he=b(ae),K=ye+ae.length,le=A.callback(he,A),he&&le){B=new Image,B.onerror=A.onerror,B.setAttribute("draggable","false"),D=A.attributes(ae,he);for(z in D)D.hasOwnProperty(z)&&z.indexOf("on")!==0&&!B.hasAttribute(z)&&B.setAttribute(z,D[z]);B.className=A.className,B.alt=ae,B.src=le,V=!0,G.appendChild(B)}B||G.appendChild(p(ae,!1)),B=null}V&&(K<H.length&&G.appendChild(p(H.slice(K),!0)),ne.parentNode.replaceChild(G,ne))}return N}function R(N,A){return $(N,function(O){var U=O,D=b(O),z=A.callback(D,A),V,G;if(D&&z){U="<img ".concat('class="',A.className,'" ','draggable="false" ','alt="',O,'"',' src="',z,'"'),V=A.attributes(O,D);for(G in V)V.hasOwnProperty(G)&&G.indexOf("on")!==0&&U.indexOf(" "+G+"=")===-1&&(U=U.concat(" ",G,'="',g(V[G]),'"'));U=U.concat("/>")}return U})}function C(N){return e[N]}function I(){return null}function M(N){return typeof N=="number"?N+"x"+N:N}function P(N){var A=typeof N=="string"?parseInt(N,16):N;return A<65536?d(A):(A-=65536,d(55296+(A>>10),56320+(A&1023)))}function L(N,A){return(!A||typeof A=="function")&&(A={callback:A}),(typeof N=="string"?R:S)(N,{callback:A.callback||v,attributes:typeof A.attributes=="function"?A.attributes:I,base:typeof A.base=="string"?A.base:n.base,ext:A.ext||n.ext,size:A.folder||M(A.size||n.size),className:A.className||n.className,onerror:A.onerror||n.onerror})}function $(N,A){return String(N).replace(t,A)}function q(N){t.lastIndex=0;var A=t.test(N);return t.lastIndex=0,A}function X(N,A){for(var O=[],U=0,D=0,z=0;z<N.length;)U=N.charCodeAt(z++),D?(O.push((65536+(D-55296<<10)+(U-56320)).toString(16)),D=0):55296<=U&&U<=56319?D=U:O.push(U.toString(16));return O.join(A||"-")}}();const pU=[{name:"Food & Dining",emoji:"",type:"expense"},{name:"Transportation",emoji:"",type:"expense"},{name:"Shopping",emoji:"",type:"expense"},{name:"Entertainment",emoji:"",type:"expense"},{name:"Bills & Utilities",emoji:"",type:"expense"},{name:"Healthcare",emoji:"",type:"expense"},{name:"Education",emoji:"",type:"expense"},{name:"Travel",emoji:"",type:"expense"},{name:"Fitness",emoji:"",type:"expense"},{name:"Personal Care",emoji:"",type:"expense"}],gU=[{name:"Salary",emoji:"",type:"income"},{name:"Freelance",emoji:"",type:"income"},{name:"Investment",emoji:"",type:"income"},{name:"Business",emoji:"",type:"income"},{name:"Rental",emoji:"",type:"income"},{name:"Gift",emoji:"",type:"income"}],yU=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];function vU(){const{currentUser:n}=ir(),{currentLedger:e,canEdit:t}=Ys(),[s,a]=w.useState([]),[o,u]=w.useState(!0),[d,p]=w.useState(!1),[g,v]=w.useState(null),[x,b]=w.useState(""),[S,R]=w.useState(""),[C,I]=w.useState({name:"",emoji:"",type:"expense"}),M=D=>D?h.jsx("span",{dangerouslySetInnerHTML:{__html:mU.parse(D,{folder:"svg",ext:".svg",base:"https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/"})},style:{width:"20px",height:"20px",display:"inline-block"}}):null,P=async()=>{if(e)try{const D=Gt(Fe,"ledgers",e.id,"categories"),z=vr(D,Di("type"),Di("name")),V=await Kn(z),G=[];V.forEach(ne=>{G.push({id:ne.id,...ne.data()})}),a(G),u(!1)}catch(D){console.error("Error fetching categories:",D),b("Failed to fetch categories"),u(!1)}},L=async()=>{if(!(!e||!t()))try{const D=Gt(Fe,"ledgers",e.id,"categories");for(const z of pU)await Ai(D,{...z,createdAt:new Date,createdBy:n.uid});for(const z of gU)await Ai(D,{...z,createdAt:new Date,createdBy:n.uid});await P(),R("Default categories created successfully!")}catch(D){console.error("Error creating default categories:",D),b("Failed to create default categories")}},$=async D=>{if(D.preventDefault(),!(!e||!t()))try{const z=Gt(Fe,"ledgers",e.id,"categories");await Ai(z,{...C,createdAt:new Date,createdBy:n.uid}),I({name:"",emoji:"",type:"expense"}),p(!1),await P(),R("Category added successfully!")}catch(z){console.error("Error adding category:",z),b("Failed to add category")}},q=async D=>{if(D.preventDefault(),!(!g||!t()))try{const z=Yt(Fe,"ledgers",e.id,"categories",g.id);await rs(z,{name:C.name,emoji:C.emoji,type:C.type,updatedAt:new Date,updatedBy:n.uid}),v(null),I({name:"",emoji:"",type:"expense"}),await P(),R("Category updated successfully!")}catch(z){console.error("Error updating category:",z),b("Failed to update category")}},X=async D=>{if(!(!t()||!confirm("Are you sure you want to delete this category?")))try{const z=Yt(Fe,"ledgers",e.id,"categories",D);await Ud(z),await P(),R("Category deleted successfully!")}catch(z){console.error("Error deleting category:",z),b("Failed to delete category")}},N=D=>{v(D),I({name:D.name,emoji:D.emoji,type:D.type}),p(!1)},A=()=>{v(null),I({name:"",emoji:"",type:"expense"})};if(w.useEffect(()=>{P()},[e]),w.useEffect(()=>{if(S||x){const D=setTimeout(()=>{R(""),b("")},3e3);return()=>clearTimeout(D)}},[S,x]),o)return h.jsx("div",{className:"p-6",children:h.jsxs("div",{className:"animate-pulse space-y-6",children:[h.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2,3,4].map(D=>h.jsx("div",{className:"h-32 bg-gray-200 rounded"},D))})]})});const O=s.filter(D=>D.type==="expense"),U=s.filter(D=>D.type==="income");return h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Category Management"}),t()&&h.jsxs(Le,{onClick:()=>p(!0),className:"flex items-center space-x-2",children:[h.jsx(nc,{className:"h-4 w-4"}),h.jsx("span",{children:"Add Category"})]})]}),x&&h.jsx(Qt,{variant:"destructive",children:h.jsx(Xt,{children:x})}),S&&h.jsx(Qt,{children:h.jsx(Xt,{children:S})}),(d||g)&&h.jsxs(Tt,{children:[h.jsxs(kt,{children:[h.jsx(Dt,{children:g?"Edit Category":"Add New Category"}),h.jsx(on,{children:g?"Update category details":"Create a new category with emoji"})]}),h.jsx(St,{children:h.jsxs("form",{onSubmit:g?q:$,className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"name",children:"Category Name"}),h.jsx(tn,{id:"name",value:C.name,onChange:D=>I({...C,name:D.target.value}),placeholder:"Enter category name",required:!0})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"type",children:"Type"}),h.jsxs(Is,{value:C.type,onValueChange:D=>I({...C,type:D}),children:[h.jsx(Ds,{children:h.jsx(ks,{})}),h.jsxs(Os,{children:[h.jsx(kn,{value:"expense",children:"Expense"}),h.jsx(kn,{value:"income",children:"Income"})]})]})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"emoji",children:"Emoji"}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(tn,{id:"emoji",value:C.emoji,onChange:D=>I({...C,emoji:D.target.value}),placeholder:"",className:"w-20"}),h.jsx("div",{className:"flex items-center space-x-1",children:M(C.emoji)})]})]})]}),h.jsxs("div",{children:[h.jsx(tt,{children:"Popular Emojis"}),h.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:yU.map((D,z)=>h.jsx("button",{type:"button",onClick:()=>I({...C,emoji:D}),className:"p-2 border rounded hover:bg-gray-100 transition-colors",children:M(D)},z))})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsxs(Le,{type:"submit",className:"flex items-center space-x-2",children:[h.jsx(Yv,{className:"h-4 w-4"}),h.jsxs("span",{children:[g?"Update":"Add"," Category"]})]}),h.jsxs(Le,{type:"button",variant:"outline",onClick:()=>{p(!1),A()},className:"flex items-center space-x-2",children:[h.jsx(ic,{className:"h-4 w-4"}),h.jsx("span",{children:"Cancel"})]})]})]})})]}),s.length===0?h.jsx(Tt,{children:h.jsxs(St,{className:"text-center py-8",children:[h.jsx(XS,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Categories Found"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"Create categories to organize your transactions"}),t()&&h.jsxs(Le,{onClick:L,className:"flex items-center space-x-2 mx-auto",children:[h.jsx(nc,{className:"h-4 w-4"}),h.jsx("span",{children:"Create Default Categories"})]})]})}):h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs(Tt,{children:[h.jsx(kt,{children:h.jsxs(Dt,{className:"flex items-center space-x-2",children:[h.jsx("span",{children:""}),h.jsx("span",{children:"Expense Categories"}),h.jsx(Nr,{variant:"secondary",children:O.length})]})}),h.jsx(St,{children:h.jsx("div",{className:"space-y-2",children:O.map(D=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[M(D.emoji),h.jsx("span",{className:"font-medium",children:D.name})]}),t()&&h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Le,{size:"sm",variant:"ghost",onClick:()=>N(D),className:"h-8 w-8 p-0",children:h.jsx(rc,{className:"h-4 w-4"})}),h.jsx(Le,{size:"sm",variant:"ghost",onClick:()=>X(D.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:h.jsx(sc,{className:"h-4 w-4"})})]})]},D.id))})})]}),h.jsxs(Tt,{children:[h.jsx(kt,{children:h.jsxs(Dt,{className:"flex items-center space-x-2",children:[h.jsx("span",{children:""}),h.jsx("span",{children:"Income Categories"}),h.jsx(Nr,{variant:"secondary",children:U.length})]})}),h.jsx(St,{children:h.jsx("div",{className:"space-y-2",children:U.map(D=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[M(D.emoji),h.jsx("span",{className:"font-medium",children:D.name})]}),t()&&h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Le,{size:"sm",variant:"ghost",onClick:()=>N(D),className:"h-8 w-8 p-0",children:h.jsx(rc,{className:"h-4 w-4"})}),h.jsx(Le,{size:"sm",variant:"ghost",onClick:()=>X(D.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:h.jsx(sc,{className:"h-4 w-4"})})]})]},D.id))})})]})]})]})}function _U({ledger:n,onClose:e}){const{currentUser:t}=ir(),{refreshLedgers:s}=Ys(),[a,o]=w.useState(!1),[u,d]=w.useState(""),[p,g]=w.useState(""),[v,x]=w.useState([]),[b,S]=w.useState([]),[R,C]=w.useState({email:"",role:"member"}),I=async()=>{if(n)try{const q=Gt(Fe,"invitations"),X=vr(q,zs("ledgerId","==",n.id),zs("status","==","pending"),Di("createdAt","desc")),N=await Kn(X),A=[];N.forEach(O=>{A.push({id:O.id,...O.data()})}),x(A)}catch(q){console.error("Error fetching invitations:",q)}},M=async()=>{if(!(!n||!n.members))try{const q=Gt(Fe,"users"),X=Object.keys(n.members);if(X.length===0)return;const N=[];for(const A of X)try{(await Kn(vr(q,zs("__name__","==",A)))).forEach(U=>{N.push({id:U.id,...U.data(),role:n.members[A]})})}catch{N.push({id:A,email:"Unknown User",displayName:"Unknown User",role:n.members[A]})}S(N)}catch(q){console.error("Error fetching members:",q)}},P=async()=>{if(!t||!n||!R.email.trim())return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(R.email)){d("Please enter a valid email address");return}if(b.find(A=>A.email.toLowerCase()===R.email.toLowerCase())){d("This user is already a member of this ledger");return}if(v.find(A=>A.inviteeEmail.toLowerCase()===R.email.toLowerCase())){d("An invitation has already been sent to this email address");return}try{o(!0),d(""),await Ai(Gt(Fe,"invitations"),{ledgerId:n.id,ledgerName:n.name,inviterId:t.uid,inviterEmail:t.email,inviterName:t.displayName||t.email,inviteeEmail:R.email.toLowerCase(),role:R.role,status:"pending",createdAt:new Date,expiresAt:new Date(Date.now()+7*24*60*60*1e3)}),await I(),g("Invitation sent successfully!"),C({email:"",role:"member"})}catch(A){console.error("Error sending invitation:",A),d("Failed to send invitation")}finally{o(!1)}},L=async q=>{try{o(!0),await Ud(Yt(Fe,"invitations",q)),await I(),g("Invitation cancelled successfully!")}catch(X){console.error("Error cancelling invitation:",X),d("Failed to cancel invitation")}finally{o(!1)}},$=async q=>{if(confirm("Are you sure you want to remove this member from the ledger?"))try{o(!0);const X={...n.members};delete X[q],await rs(Yt(Fe,"ledgers",n.id),{members:X,updatedAt:new Date}),await s(),await M(),g("Member removed successfully!")}catch(X){console.error("Error removing member:",X),d("Failed to remove member")}finally{o(!1)}};return w.useEffect(()=>{I(),M()},[n]),w.useEffect(()=>{if(p||u){const q=setTimeout(()=>{g(""),d("")},3e3);return()=>clearTimeout(q)}},[p,u]),h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Manage Ledger Access: ",n==null?void 0:n.name]}),h.jsx(Le,{variant:"ghost",size:"sm",onClick:e,children:h.jsx(ic,{className:"h-4 w-4"})})]}),u&&h.jsx(Qt,{variant:"destructive",className:"mb-4",children:h.jsx(Xt,{children:u})}),p&&h.jsx(Qt,{className:"mb-4",children:h.jsx(Xt,{children:p})}),h.jsxs(Tt,{className:"mb-6",children:[h.jsxs(kt,{children:[h.jsxs(Dt,{className:"flex items-center",children:[h.jsx(JS,{className:"h-5 w-5 mr-2"}),"Invite New User"]}),h.jsx(on,{children:"Send an invitation to add a new member to this ledger."})]}),h.jsxs(St,{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"email",children:"Email Address"}),h.jsx(tn,{id:"email",type:"email",value:R.email,onChange:q=>C(X=>({...X,email:q.target.value})),placeholder:"user@example.com"})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"role",children:"Role"}),h.jsxs(Is,{value:R.role,onValueChange:q=>C(X=>({...X,role:q})),children:[h.jsx(Ds,{children:h.jsx(ks,{placeholder:"Select role"})}),h.jsxs(Os,{children:[h.jsx(kn,{value:"member",children:"Member"}),h.jsx(kn,{value:"owner",children:"Owner"})]})]})]}),h.jsxs(Le,{onClick:P,disabled:a||!R.email.trim(),className:"w-full",children:[h.jsx(BD,{className:"h-4 w-4 mr-2"}),"Send Invitation"]})]})]}),h.jsxs(Tt,{className:"mb-6",children:[h.jsx(kt,{children:h.jsxs(Dt,{className:"flex items-center",children:[h.jsx(t1,{className:"h-5 w-5 mr-2"}),"Current Members (",b.length,")"]})}),h.jsx(St,{children:h.jsx("div",{className:"space-y-3",children:b.map(q=>h.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(hc,{user:q,size:"sm"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium",children:q.displayName||"Unknown User"}),h.jsx("p",{className:"text-sm text-gray-600",children:q.email})]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Nr,{variant:q.role==="owner"?"default":"secondary",children:q.role}),q.id!==t.uid&&q.role!=="owner"&&h.jsx(Le,{size:"sm",variant:"destructive",onClick:()=>$(q.id),disabled:a,children:h.jsx(sc,{className:"h-3 w-3"})})]})]},q.id))})})]}),v.length>0&&h.jsxs(Tt,{children:[h.jsx(kt,{children:h.jsxs(Dt,{className:"flex items-center",children:[h.jsx(Hy,{className:"h-5 w-5 mr-2"}),"Pending Invitations (",v.length,")"]})}),h.jsx(St,{children:h.jsx("div",{className:"space-y-3",children:v.map(q=>h.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(QS,{className:"h-5 w-5 text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium",children:q.inviteeEmail}),h.jsxs("p",{className:"text-sm text-gray-600",children:["Invited ",new Date(q.createdAt.toDate()).toLocaleDateString()]})]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Nr,{variant:"secondary",children:q.role}),h.jsx(Nr,{variant:"outline",children:"Pending"}),h.jsx(Le,{size:"sm",variant:"destructive",onClick:()=>L(q.id),disabled:a,children:h.jsx(ic,{className:"h-3 w-3"})})]})]},q.id))})})]})]})})})}const bU=[{value:"CNY",label:" Chinese Yuan (CNY)"},{value:"USD",label:"$ US Dollar (USD)"},{value:"EUR",label:" Euro (EUR)"},{value:"GBP",label:" British Pound (GBP)"},{value:"JPY",label:" Japanese Yen (JPY)"}];function xU(){const{currentUser:n}=ir(),{ledgers:e,currentLedger:t,switchLedger:s,refreshLedgers:a,isOwner:o}=Ys(),[u,d]=w.useState(!1),[p,g]=w.useState(!1),[v,x]=w.useState(null),[b,S]=w.useState(!1),[R,C]=w.useState(null),[I,M]=w.useState(""),[P,L]=w.useState(""),[$,q]=w.useState({name:"",currency:"CNY",description:""}),X=async()=>{if(!(!n||!$.name.trim()))try{d(!0),M("");const G=await Ai(Gt(Fe,"ledgers"),{name:$.name.trim(),description:$.description.trim(),currency:$.currency,ownerId:n.uid,createdAt:new Date,members:{[n.uid]:"owner"}});await a(),L("Ledger created successfully!"),g(!1),q({name:"",currency:"CNY",description:""})}catch(G){console.error("Error creating ledger:",G),M("Failed to create ledger")}finally{d(!1)}},N=async()=>{if(!(!v||!$.name.trim()))try{d(!0),M(""),await rs(Yt(Fe,"ledgers",v.id),{name:$.name.trim(),description:$.description.trim(),currency:$.currency,updatedAt:new Date}),await a(),L("Ledger updated successfully!"),x(null),q({name:"",currency:"CNY",description:""})}catch(G){console.error("Error updating ledger:",G),M("Failed to update ledger")}finally{d(!1)}},A=async G=>{if(confirm("Are you sure you want to delete this ledger? This action cannot be undone."))try{d(!0),M(""),await Ud(Yt(Fe,"ledgers",G)),await a(),L("Ledger deleted successfully!")}catch(ne){console.error("Error deleting ledger:",ne),M("Failed to delete ledger")}finally{d(!1)}},O=G=>{x(G),q({name:G.name,currency:G.currency||"CNY",description:G.description||""}),g(!1)},U=()=>{x(null),g(!1),q({name:"",currency:"CNY",description:""})},D=G=>!G.members||!n?null:G.members[n.uid]||null,z=G=>G.members?Object.keys(G.members).length:0,V=G=>G.members?Object.keys(G.members).map(ne=>({uid:ne,displayName:ne===(n==null?void 0:n.uid)?n.displayName||n.email:`User ${ne.slice(0,8)}`,email:ne===(n==null?void 0:n.uid)?n.email:`${ne.slice(0,8)}@example.com`})):[];return w.useEffect(()=>{if(P||I){const G=setTimeout(()=>{L(""),M("")},3e3);return()=>clearTimeout(G)}},[P,I]),h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Ledger Management"}),h.jsxs(Le,{onClick:()=>g(!0),className:"bg-blue-500 hover:bg-blue-600",children:[h.jsx(nc,{className:"h-4 w-4 mr-2"}),"Create Ledger"]})]}),I&&h.jsx(Qt,{variant:"destructive",children:h.jsx(Xt,{children:I})}),P&&h.jsx(Qt,{children:h.jsx(Xt,{children:P})}),(p||v)&&h.jsxs(Tt,{children:[h.jsxs(kt,{children:[h.jsx(Dt,{children:v?"Edit Ledger":"Create New Ledger"}),h.jsx(on,{children:v?"Update the ledger details below.":"Create a new ledger to organize your expenses separately."})]}),h.jsxs(St,{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"name",children:"Ledger Name"}),h.jsx(tn,{id:"name",value:$.name,onChange:G=>q(ne=>({...ne,name:G.target.value})),placeholder:"e.g., Personal Expenses, Business Travel, Family Budget"})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"currency",children:"Currency"}),h.jsxs(Is,{value:$.currency,onValueChange:G=>q(ne=>({...ne,currency:G})),children:[h.jsx(Ds,{children:h.jsx(ks,{placeholder:"Select currency"})}),h.jsx(Os,{children:bU.map(G=>h.jsx(kn,{value:G.value,children:G.label},G.value))})]})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"description",children:"Description (Optional)"}),h.jsx(tn,{id:"description",value:$.description,onChange:G=>q(ne=>({...ne,description:G.target.value})),placeholder:"Brief description of this ledger's purpose"})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsxs(Le,{onClick:v?N:X,disabled:u||!$.name.trim(),children:[h.jsx(Yv,{className:"h-4 w-4 mr-2"}),v?"Update":"Create"]}),h.jsxs(Le,{variant:"outline",onClick:U,children:[h.jsx(ic,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})]}),h.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(G=>{const ne=D(G),H=z(G),Z=(t==null?void 0:t.id)===G.id;return h.jsxs(Tt,{className:`cursor-pointer transition-all ${Z?"ring-2 ring-blue-500 bg-blue-50":"hover:shadow-md"}`,onClick:()=>s(G.id),children:[h.jsx(kt,{className:"pb-3",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs(Dt,{className:"text-lg flex items-center",children:[h.jsx($h,{className:"h-5 w-5 mr-2"}),G.name,Z&&h.jsx(Nr,{variant:"secondary",className:"ml-2",children:"Current"})]}),G.description&&h.jsx(on,{className:"mt-1",children:G.description})]}),ne==="owner"&&h.jsx(AD,{className:"h-4 w-4 text-yellow-500"})]})}),h.jsxs(St,{children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-600",children:"Currency:"}),h.jsx("span",{className:"font-medium",children:G.currency||"CNY"})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-600",children:"Members:"}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(N8,{users:V(G),size:"xs",maxDisplay:3}),h.jsx("span",{className:"font-medium text-xs",children:H})]})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-600",children:"Role:"}),h.jsx(Nr,{variant:ne==="owner"?"default":"secondary",children:ne})]})]}),ne==="owner"&&h.jsxs("div",{className:"flex space-x-2 mt-4 pt-3 border-t",children:[h.jsxs(Le,{size:"sm",variant:"outline",onClick:K=>{K.stopPropagation(),O(G)},children:[h.jsx(rc,{className:"h-3 w-3 mr-1"}),"Edit"]}),h.jsxs(Le,{size:"sm",variant:"outline",onClick:K=>{K.stopPropagation(),C(G),S(!0)},children:[h.jsx(JS,{className:"h-3 w-3 mr-1"}),"Invite"]}),e.length>1&&h.jsxs(Le,{size:"sm",variant:"destructive",onClick:K=>{K.stopPropagation(),A(G.id)},children:[h.jsx(sc,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]})]},G.id)})}),e.length===0&&h.jsx(Tt,{children:h.jsxs(St,{className:"text-center py-8",children:[h.jsx($h,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Ledgers Found"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first ledger to start tracking expenses."}),h.jsxs(Le,{onClick:()=>g(!0),children:[h.jsx(nc,{className:"h-4 w-4 mr-2"}),"Create Your First Ledger"]})]})}),b&&R&&h.jsx(_U,{ledger:R,onClose:()=>{S(!1),C(null)}})]})}function wU(){const{currentUser:n}=ir(),[e,t]=w.useState(!1),[s,a]=w.useState(""),[o,u]=w.useState(""),[d,p]=w.useState({displayName:"",profileColor:""}),g={...n,displayName:d.displayName,profileColor:d.profileColor},v=async()=>{if(n)try{t(!0);const R=await Xm(Yt(Fe,"users",n.uid)),C=R.exists()?R.data():{};p({displayName:n.displayName||C.displayName||"",profileColor:C.profileColor||""})}catch(R){console.error("Error loading profile data:",R),a("Failed to load profile data")}finally{t(!1)}},x=async()=>{if(n)try{if(t(!0),a(""),!d.displayName.trim()){a("Display name is required");return}if(d.profileColor&&!R8(d.profileColor)){a("Invalid color selected");return}await z1(n,{displayName:d.displayName.trim()}),await rs(Yt(Fe,"users",n.uid),{displayName:d.displayName.trim(),profileColor:d.profileColor||null,updatedAt:new Date}),u("Profile updated successfully!")}catch(R){console.error("Error saving profile:",R),a("Failed to save profile changes")}finally{t(!1)}},b=()=>{const R=C8();p(C=>({...C,profileColor:R}))},S=()=>{p(R=>({...R,profileColor:""}))};return w.useEffect(()=>{v()},[n]),w.useEffect(()=>{if(o||s){const R=setTimeout(()=>{u(""),a("")},3e3);return()=>clearTimeout(R)}},[o,s]),h.jsxs(Tt,{children:[h.jsxs(kt,{children:[h.jsxs(Dt,{className:"flex items-center",children:[h.jsx(e1,{className:"h-5 w-5 mr-2"}),"Profile Settings"]}),h.jsx(on,{children:"Manage your display name and profile image appearance."})]}),h.jsxs(St,{className:"space-y-6",children:[s&&h.jsx(Qt,{variant:"destructive",children:h.jsx(Xt,{children:s})}),o&&h.jsx(Qt,{children:h.jsx(Xt,{children:o})}),h.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[h.jsx(hc,{user:g,size:"xl"}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-lg",children:"Profile Preview"}),h.jsx("p",{className:"text-sm text-gray-600",children:"This is how your profile will appear to other users"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(tt,{htmlFor:"displayName",children:"Display Name"}),h.jsx(tn,{id:"displayName",value:d.displayName,onChange:R=>p(C=>({...C,displayName:R.target.value})),placeholder:"Enter your display name",disabled:e}),h.jsx("p",{className:"text-xs text-gray-500",children:"This name will be visible to other users in shared ledgers"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(tt,{children:"Profile Color"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsxs(Le,{type:"button",size:"sm",variant:"outline",onClick:b,disabled:e,children:[h.jsx(LD,{className:"h-3 w-3 mr-1"}),"Random"]}),h.jsx(Le,{type:"button",size:"sm",variant:"outline",onClick:S,disabled:e,children:"Default"})]})]}),h.jsx("div",{className:"grid grid-cols-10 gap-2",children:Aa.map(R=>h.jsx("button",{type:"button",className:`
                  w-8 h-8 rounded-full border-2 transition-all
                  ${d.profileColor===R?"border-gray-900 scale-110":"border-gray-300 hover:border-gray-500"}
                `,style:{backgroundColor:R},onClick:()=>p(C=>({...C,profileColor:R})),disabled:e,title:R},R))}),h.jsx("p",{className:"text-xs text-gray-500",children:"Choose a color for your profile image background, or leave default for auto-generated color"})]}),h.jsx("div",{className:"flex justify-end",children:h.jsxs(Le,{onClick:x,disabled:e||!d.displayName.trim(),children:[h.jsx(Yv,{className:"h-4 w-4 mr-2"}),e?"Saving...":"Save Changes"]})})]})]})}var ap="Switch",[EU,x5]=Oc(ap),[TU,SU]=EU(ap),nR=w.forwardRef((n,e)=>{const{__scopeSwitch:t,name:s,checked:a,defaultChecked:o,required:u,disabled:d,value:p="on",onCheckedChange:g,form:v,...x}=n,[b,S]=w.useState(null),R=cn(e,L=>S(L)),C=w.useRef(!1),I=b?v||!!b.closest("form"):!0,[M,P]=vm({prop:a,defaultProp:o??!1,onChange:g,caller:ap});return h.jsxs(TU,{scope:t,checked:M,disabled:d,children:[h.jsx(Lt.button,{type:"button",role:"switch","aria-checked":M,"aria-required":u,"data-state":aR(M),"data-disabled":d?"":void 0,disabled:d,value:p,...x,ref:R,onClick:en(n.onClick,L=>{P($=>!$),I&&(C.current=L.isPropagationStopped(),C.current||L.stopPropagation())})}),I&&h.jsx(iR,{control:b,bubbles:!C.current,name:s,value:p,checked:M,required:u,disabled:d,form:v,style:{transform:"translateX(-100%)"}})]})});nR.displayName=ap;var rR="SwitchThumb",sR=w.forwardRef((n,e)=>{const{__scopeSwitch:t,...s}=n,a=SU(rR,t);return h.jsx(Lt.span,{"data-state":aR(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:e})});sR.displayName=rR;var AU="SwitchBubbleInput",iR=w.forwardRef(({__scopeSwitch:n,control:e,checked:t,bubbles:s=!0,...a},o)=>{const u=w.useRef(null),d=cn(u,o),p=n_(t),g=J0(e);return w.useEffect(()=>{const v=u.current;if(!v)return;const x=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(x,"checked").set;if(p!==t&&S){const R=new Event("click",{bubbles:s});S.call(v,t),v.dispatchEvent(R)}},[p,t,s]),h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...a,tabIndex:-1,ref:d,style:{...a.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});iR.displayName=AU;function aR(n){return n?"checked":"unchecked"}var CU=nR,RU=sR;function My({className:n,...e}){return h.jsx(CU,{"data-slot":"switch",className:un("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:h.jsx(RU,{"data-slot":"switch-thumb",className:un("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function NU({smartCategorizationEnabled:n,setSmartCategorizationEnabled:e,debugModeEnabled:t,setDebugModeEnabled:s,thinkingModeEnabled:a,setThinkingModeEnabled:o}){var z,V;const{currentUser:u}=ir(),{currentLedger:d}=Ys(),[p,g]=w.useState(""),[v,x]=w.useState(!1),[b,S]=w.useState(""),[R,C]=w.useState(!1),[I,M]=w.useState(`You are a financial-data assistant. I will provide you with a CSV file of transactions containing at least the following columns: Date, Description, Amount.  Response in JSON and say nothing else:

1. For each row, determine whether it is an **expense** or an **income**.   

2. Assign each transaction to one of the following **Expense** or **Income** categories (or to a special category if needed):

   **Expense Categories**  
   ${((z=d==null?void 0:d.expenseCategories)==null?void 0:z.map(G=>`- ${G.name}`).join("\\n"))||'- HTT: (Hard To Tell) if you can\\"t unambiguously assign one of the above'}

   **Income Categories**  
   ${((V=d==null?void 0:d.incomeCategories)==null?void 0:V.map(G=>`- ${G.name}`).join("\\n"))||"- HTT"}

   Use merchant names, keywords in the description, or amount signs to guide your choice.  

3. Output a single JSON object with this exact structure:

{
  "transactions": [
    {
      "id": "<self-increment id>",
      "category": "<one of the given categories: Bills & Utilities, , Refund, HTT>"
    }
  ]
}

4.  Optionally, "corrections" showing prior mis-classifications I\\"ve corrected may be provided to guide this categorization `),[P,L]=w.useState(!1),[$,q]=w.useState(""),[X,N]=w.useState(!1),[A,O]=w.useState(!0);w.useEffect(()=>{(async()=>{if(u){O(!0);try{const ne=Yt(Fe,"users",u.uid),H=await Xm(ne);if(H.exists()){const Z=H.data();e(Z.smartCategorizationEnabled||!1),g(Z.llmApiKey||""),Z.llmApiKey&&x(!0)}}catch(ne){console.error("Error loading smart categorization settings:",ne)}finally{O(!1)}}})()},[u,e]),w.useEffect(()=>{u&&!A&&(async()=>{try{const ne=Yt(Fe,"users",u.uid);await rs(ne,{smartCategorizationEnabled:n,updatedAt:new Date})}catch(ne){console.error("Error saving smart categorization setting:",ne)}})()},[n,u,A]);const U=async()=>{if(!p.trim()){S("Please enter an API key.");return}C(!0),S("");try{const G=await fetch("https://ark.cn-beijing.volces.com/api/v3/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify({messages:[{content:"hello world",role:"user"}],model:"doubao-seed-1-6-flash-250615"})});if(G.ok){if(x(!0),S(""),u){const ne=Yt(Fe,"users",u.uid);await rs(ne,{llmApiKey:p,updatedAt:new Date})}}else{const ne=await G.json();S(`API Key verification failed: ${ne.message||G.statusText}`),x(!1)}}catch(G){S(`Network error: ${G.message}`),x(!1)}finally{C(!1)}},D=()=>{I.trim()?(L(!0),q("")):q("System prompt cannot be empty.")};return A?h.jsxs(Tt,{children:[h.jsxs(kt,{children:[h.jsx(Dt,{children:"Smart Categorization Settings"}),h.jsx(on,{children:"Loading settings..."})]}),h.jsx(St,{children:h.jsx("p",{children:"Loading..."})})]}):h.jsxs(Tt,{children:[h.jsxs(kt,{children:[h.jsx(Dt,{children:"Smart Categorization Settings"}),h.jsx(on,{children:"Configure settings for LLM-powered transaction categorization."})]}),h.jsxs(St,{children:[h.jsxs("div",{className:"flex items-center justify-between space-x-2 mb-4",children:[h.jsx(tt,{htmlFor:"smart-categorization-mode",children:"Enable Smart Categorization"}),h.jsx(My,{id:"smart-categorization-mode",checked:n,onCheckedChange:e})]}),n&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between space-x-2 mb-4",children:[h.jsx(tt,{htmlFor:"debug-mode",children:"Enable Debug Mode (Session Only)"}),h.jsx(My,{id:"debug-mode",checked:t,onCheckedChange:s})]}),v&&h.jsxs("div",{className:"flex items-center justify-between space-x-2 mb-4",children:[h.jsx(tt,{htmlFor:"thinking-mode",children:"Enable Thinking Mode (Default: Off)"}),h.jsx(My,{id:"thinking-mode",checked:a,onCheckedChange:o})]}),h.jsxs("div",{className:"space-y-4 mb-4",children:[h.jsx(tt,{htmlFor:"api-key",children:"Doubao API Key"}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(tn,{id:"api-key",type:"password",placeholder:"Enter your Doubao API Key",value:p,onChange:G=>g(G.target.value),disabled:v||R}),h.jsx(Le,{onClick:U,disabled:R||v,children:R?"Verifying...":v?h.jsx(Yl,{className:"h-4 w-4"}):"Verify"})]}),b&&h.jsxs(Qt,{variant:"destructive",children:[h.jsx(Gh,{className:"h-4 w-4"}),h.jsx(Xt,{children:b})]}),v&&h.jsxs(Qt,{children:[h.jsx(Yl,{className:"h-4 w-4"}),h.jsx(Xt,{children:"API Key verified successfully!"})]})]}),t&&h.jsxs("div",{className:"space-y-4",children:[h.jsx(tt,{htmlFor:"system-prompt",children:"System Prompt"}),h.jsx(F2,{id:"system-prompt",placeholder:"Enter the system prompt for LLM categorization",value:I,onChange:G=>M(G.target.value),rows:10,disabled:P}),h.jsx(Le,{onClick:D,disabled:P,children:P?h.jsx(Yl,{className:"h-4 w-4"}):"Confirm Prompt"}),$&&h.jsxs(Qt,{variant:"destructive",children:[h.jsx(Gh,{className:"h-4 w-4"}),h.jsx(Xt,{children:$})]})]})]})]})]})}var Nt;(function(n){n.assertEqual=a=>{};function e(a){}n.assertIs=e;function t(a){throw new Error}n.assertNever=t,n.arrayToEnum=a=>{const o={};for(const u of a)o[u]=u;return o},n.getValidEnumValues=a=>{const o=n.objectKeys(a).filter(d=>typeof a[a[d]]!="number"),u={};for(const d of o)u[d]=a[d];return n.objectValues(u)},n.objectValues=a=>n.objectKeys(a).map(function(o){return a[o]}),n.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const o=[];for(const u in a)Object.prototype.hasOwnProperty.call(a,u)&&o.push(u);return o},n.find=(a,o)=>{for(const u of a)if(o(u))return u},n.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function s(a,o=" | "){return a.map(u=>typeof u=="string"?`'${u}'`:u).join(o)}n.joinValues=s,n.jsonStringifyReplacer=(a,o)=>typeof o=="bigint"?o.toString():o})(Nt||(Nt={}));var GT;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(GT||(GT={}));const ke=Nt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ba=n=>{switch(typeof n){case"undefined":return ke.undefined;case"string":return ke.string;case"number":return Number.isNaN(n)?ke.nan:ke.number;case"boolean":return ke.boolean;case"function":return ke.function;case"bigint":return ke.bigint;case"symbol":return ke.symbol;case"object":return Array.isArray(n)?ke.array:n===null?ke.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?ke.promise:typeof Map<"u"&&n instanceof Map?ke.map:typeof Set<"u"&&n instanceof Set?ke.set:typeof Date<"u"&&n instanceof Date?ke.date:ke.object;default:return ke.unknown}},pe=Nt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Mi extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(o){return o.message},s={_errors:[]},a=o=>{for(const u of o.issues)if(u.code==="invalid_union")u.unionErrors.map(a);else if(u.code==="invalid_return_type")a(u.returnTypeError);else if(u.code==="invalid_arguments")a(u.argumentsError);else if(u.path.length===0)s._errors.push(t(u));else{let d=s,p=0;for(;p<u.path.length;){const g=u.path[p];p===u.path.length-1?(d[g]=d[g]||{_errors:[]},d[g]._errors.push(t(u))):d[g]=d[g]||{_errors:[]},d=d[g],p++}}};return a(this),s}static assert(e){if(!(e instanceof Mi))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Nt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},s=[];for(const a of this.issues)if(a.path.length>0){const o=a.path[0];t[o]=t[o]||[],t[o].push(e(a))}else s.push(e(a));return{formErrors:s,fieldErrors:t}}get formErrors(){return this.flatten()}}Mi.create=n=>new Mi(n);const kv=(n,e)=>{let t;switch(n.code){case pe.invalid_type:n.received===ke.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case pe.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Nt.jsonStringifyReplacer)}`;break;case pe.unrecognized_keys:t=`Unrecognized key(s) in object: ${Nt.joinValues(n.keys,", ")}`;break;case pe.invalid_union:t="Invalid input";break;case pe.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Nt.joinValues(n.options)}`;break;case pe.invalid_enum_value:t=`Invalid enum value. Expected ${Nt.joinValues(n.options)}, received '${n.received}'`;break;case pe.invalid_arguments:t="Invalid function arguments";break;case pe.invalid_return_type:t="Invalid function return type";break;case pe.invalid_date:t="Invalid date";break;case pe.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Nt.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case pe.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="bigint"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case pe.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case pe.custom:t="Invalid input";break;case pe.invalid_intersection_types:t="Intersection results could not be merged";break;case pe.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case pe.not_finite:t="Number must be finite";break;default:t=e.defaultError,Nt.assertNever(n)}return{message:t}};let IU=kv;function kU(){return IU}const DU=n=>{const{data:e,path:t,errorMaps:s,issueData:a}=n,o=[...t,...a.path||[]],u={...a,path:o};if(a.message!==void 0)return{...a,path:o,message:a.message};let d="";const p=s.filter(g=>!!g).slice().reverse();for(const g of p)d=g(u,{data:e,defaultError:d}).message;return{...a,path:o,message:d}};function Te(n,e){const t=kU(),s=DU({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===kv?void 0:kv].filter(a=>!!a)});n.common.issues.push(s)}class kr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const s=[];for(const a of t){if(a.status==="aborted")return nt;a.status==="dirty"&&e.dirty(),s.push(a.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,t){const s=[];for(const a of t){const o=await a.key,u=await a.value;s.push({key:o,value:u})}return kr.mergeObjectSync(e,s)}static mergeObjectSync(e,t){const s={};for(const a of t){const{key:o,value:u}=a;if(o.status==="aborted"||u.status==="aborted")return nt;o.status==="dirty"&&e.dirty(),u.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof u.value<"u"||a.alwaysSet)&&(s[o.value]=u.value)}return{status:e.value,value:s}}}const nt=Object.freeze({status:"aborted"}),Zu=n=>({status:"dirty",value:n}),Yr=n=>({status:"valid",value:n}),YT=n=>n.status==="aborted",KT=n=>n.status==="dirty",pc=n=>n.status==="valid",xm=n=>typeof Promise<"u"&&n instanceof Promise;var Oe;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Oe||(Oe={}));class Ha{constructor(e,t,s,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=s,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const WT=(n,e)=>{if(pc(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Mi(n.common.issues);return this._error=t,this._error}}};function ft(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:s,description:a}=n;if(e&&(t||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(u,d)=>{const{message:p}=n;return u.code==="invalid_enum_value"?{message:p??d.defaultError}:typeof d.data>"u"?{message:p??s??d.defaultError}:u.code!=="invalid_type"?{message:d.defaultError}:{message:p??t??d.defaultError}},description:a}}class Ct{get description(){return this._def.description}_getType(e){return ba(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ba(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new kr,ctx:{common:e.parent.common,data:e.data,parsedType:ba(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(xm(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const s=this.safeParse(e,t);if(s.success)return s.data;throw s.error}safeParse(e,t){const s={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ba(e)},a=this._parseSync({data:e,path:s.path,parent:s});return WT(s,a)}"~validate"(e){var s,a;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ba(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:t});return pc(o)?{value:o.value}:{issues:t.common.issues}}catch(o){(a=(s=o==null?void 0:o.message)==null?void 0:s.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(o=>pc(o)?{value:o.value}:{issues:t.common.issues})}async parseAsync(e,t){const s=await this.safeParseAsync(e,t);if(s.success)return s.data;throw s.error}async safeParseAsync(e,t){const s={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ba(e)},a=this._parse({data:e,path:s.path,parent:s}),o=await(xm(a)?a:Promise.resolve(a));return WT(s,o)}refine(e,t){const s=a=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(a):t;return this._refinement((a,o)=>{const u=e(a),d=()=>o.addIssue({code:pe.custom,...s(a)});return typeof Promise<"u"&&u instanceof Promise?u.then(p=>p?!0:(d(),!1)):u?!0:(d(),!1)})}refinement(e,t){return this._refinement((s,a)=>e(s)?!0:(a.addIssue(typeof t=="function"?t(s,a):t),!1))}_refinement(e){return new vc({schema:this,typeName:rt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return ja.create(this,this._def)}nullable(){return _c.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Fs.create(this)}promise(){return Sm.create(this,this._def)}or(e){return Em.create([this,e],this._def)}and(e){return Tm.create(this,e,this._def)}transform(e){return new vc({...ft(this._def),schema:this,typeName:rt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Ov({...ft(this._def),innerType:this,defaultValue:t,typeName:rt.ZodDefault})}brand(){return new t5({typeName:rt.ZodBranded,type:this,...ft(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new jv({...ft(this._def),innerType:this,catchValue:t,typeName:rt.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return o_.create(this,e)}readonly(){return Mv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const OU=/^c[^\s-]{8,}$/i,jU=/^[0-9a-z]+$/,MU=/^[0-9A-HJKMNP-TV-Z]{26}$/i,PU=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,VU=/^[a-z0-9_-]{21}$/i,LU=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,UU=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,zU=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,BU="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Py;const FU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,qU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,HU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,$U=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,GU=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,YU=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,oR="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",KU=new RegExp(`^${oR}$`);function lR(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function WU(n){return new RegExp(`^${lR(n)}$`)}function QU(n){let e=`${oR}T${lR(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function XU(n,e){return!!((e==="v4"||!e)&&FU.test(n)||(e==="v6"||!e)&&HU.test(n))}function ZU(n,e){if(!LU.test(n))return!1;try{const[t]=n.split(".");if(!t)return!1;const s=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function JU(n,e){return!!((e==="v4"||!e)&&qU.test(n)||(e==="v6"||!e)&&$U.test(n))}class Ca extends Ct{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ke.string){const o=this._getOrReturnCtx(e);return Te(o,{code:pe.invalid_type,expected:ke.string,received:o.parsedType}),nt}const s=new kr;let a;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(a=this._getOrReturnCtx(e,a),Te(a,{code:pe.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),s.dirty());else if(o.kind==="max")e.data.length>o.value&&(a=this._getOrReturnCtx(e,a),Te(a,{code:pe.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),s.dirty());else if(o.kind==="length"){const u=e.data.length>o.value,d=e.data.length<o.value;(u||d)&&(a=this._getOrReturnCtx(e,a),u?Te(a,{code:pe.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):d&&Te(a,{code:pe.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),s.dirty())}else if(o.kind==="email")zU.test(e.data)||(a=this._getOrReturnCtx(e,a),Te(a,{validation:"email",code:pe.invalid_string,message:o.message}),s.dirty());else if(o.kind==="emoji")Py||(Py=new RegExp(BU,"u")),Py.test(e.data)||(a=this._getOrReturnCtx(e,a),Te(a,{validation:"emoji",code:pe.invalid_string,message:o.message}),s.dirty());else if(o.kind==="uuid")PU.test(e.data)||(a=this._getOrReturnCtx(e,a),Te(a,{validation:"uuid",code:pe.invalid_string,message:o.message}),s.dirty());else if(o.kind==="nanoid")VU.test(e.data)||(a=this._getOrReturnCtx(e,a),Te(a,{validation:"nanoid",code:pe.invalid_string,message:o.message}),s.dirty());else if(o.kind==="cuid")OU.test(e.data)||(a=this._getOrReturnCtx(e,a),Te(a,{validation:"cuid",code:pe.invalid_string,message:o.message}),s.dirty());else if(o.kind==="cuid2")jU.test(e.data)||(a=this._getOrReturnCtx(e,a),Te(a,{validation:"cuid2",code:pe.invalid_string,message:o.message}),s.dirty());else if(o.kind==="ulid")MU.test(e.data)||(a=this._getOrReturnCtx(e,a),Te(a,{validation:"ulid",code:pe.invalid_string,message:o.message}),s.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),Te(a,{validation:"url",code:pe.invalid_string,message:o.message}),s.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),Te(a,{validation:"regex",code:pe.invalid_string,message:o.message}),s.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(a=this._getOrReturnCtx(e,a),Te(a,{code:pe.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),s.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(a=this._getOrReturnCtx(e,a),Te(a,{code:pe.invalid_string,validation:{startsWith:o.value},message:o.message}),s.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(a=this._getOrReturnCtx(e,a),Te(a,{code:pe.invalid_string,validation:{endsWith:o.value},message:o.message}),s.dirty()):o.kind==="datetime"?QU(o).test(e.data)||(a=this._getOrReturnCtx(e,a),Te(a,{code:pe.invalid_string,validation:"datetime",message:o.message}),s.dirty()):o.kind==="date"?KU.test(e.data)||(a=this._getOrReturnCtx(e,a),Te(a,{code:pe.invalid_string,validation:"date",message:o.message}),s.dirty()):o.kind==="time"?WU(o).test(e.data)||(a=this._getOrReturnCtx(e,a),Te(a,{code:pe.invalid_string,validation:"time",message:o.message}),s.dirty()):o.kind==="duration"?UU.test(e.data)||(a=this._getOrReturnCtx(e,a),Te(a,{validation:"duration",code:pe.invalid_string,message:o.message}),s.dirty()):o.kind==="ip"?XU(e.data,o.version)||(a=this._getOrReturnCtx(e,a),Te(a,{validation:"ip",code:pe.invalid_string,message:o.message}),s.dirty()):o.kind==="jwt"?ZU(e.data,o.alg)||(a=this._getOrReturnCtx(e,a),Te(a,{validation:"jwt",code:pe.invalid_string,message:o.message}),s.dirty()):o.kind==="cidr"?JU(e.data,o.version)||(a=this._getOrReturnCtx(e,a),Te(a,{validation:"cidr",code:pe.invalid_string,message:o.message}),s.dirty()):o.kind==="base64"?GU.test(e.data)||(a=this._getOrReturnCtx(e,a),Te(a,{validation:"base64",code:pe.invalid_string,message:o.message}),s.dirty()):o.kind==="base64url"?YU.test(e.data)||(a=this._getOrReturnCtx(e,a),Te(a,{validation:"base64url",code:pe.invalid_string,message:o.message}),s.dirty()):Nt.assertNever(o);return{status:s.value,value:e.data}}_regex(e,t,s){return this.refinement(a=>e.test(a),{validation:t,code:pe.invalid_string,...Oe.errToObj(s)})}_addCheck(e){return new Ca({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Oe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Oe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Oe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Oe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Oe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Oe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Oe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Oe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Oe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Oe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Oe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Oe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Oe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Oe.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Oe.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Oe.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Oe.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...Oe.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Oe.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Oe.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Oe.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Oe.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Oe.errToObj(t)})}nonempty(e){return this.min(1,Oe.errToObj(e))}trim(){return new Ca({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ca({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ca({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ca.create=n=>new Ca({checks:[],typeName:rt.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...ft(n)});function e5(n,e){const t=(n.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,a=t>s?t:s,o=Number.parseInt(n.toFixed(a).replace(".","")),u=Number.parseInt(e.toFixed(a).replace(".",""));return o%u/10**a}class gc extends Ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ke.number){const o=this._getOrReturnCtx(e);return Te(o,{code:pe.invalid_type,expected:ke.number,received:o.parsedType}),nt}let s;const a=new kr;for(const o of this._def.checks)o.kind==="int"?Nt.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{code:pe.invalid_type,expected:"integer",received:"float",message:o.message}),a.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(s=this._getOrReturnCtx(e,s),Te(s,{code:pe.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(s=this._getOrReturnCtx(e,s),Te(s,{code:pe.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="multipleOf"?e5(e.data,o.value)!==0&&(s=this._getOrReturnCtx(e,s),Te(s,{code:pe.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),Te(s,{code:pe.not_finite,message:o.message}),a.dirty()):Nt.assertNever(o);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Oe.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Oe.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Oe.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Oe.toString(t))}setLimit(e,t,s,a){return new gc({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:Oe.toString(a)}]})}_addCheck(e){return new gc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Oe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Oe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Oe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Oe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Oe.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Oe.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Oe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Oe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Oe.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Nt.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(t===null||s.value>t)&&(t=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(t)&&Number.isFinite(e)}}gc.create=n=>new gc({checks:[],typeName:rt.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...ft(n)});class vd extends Ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ke.bigint)return this._getInvalidInput(e);let s;const a=new kr;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(s=this._getOrReturnCtx(e,s),Te(s,{code:pe.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(s=this._getOrReturnCtx(e,s),Te(s,{code:pe.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),Te(s,{code:pe.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):Nt.assertNever(o);return{status:a.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Te(t,{code:pe.invalid_type,expected:ke.bigint,received:t.parsedType}),nt}gte(e,t){return this.setLimit("min",e,!0,Oe.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Oe.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Oe.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Oe.toString(t))}setLimit(e,t,s,a){return new vd({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:Oe.toString(a)}]})}_addCheck(e){return new vd({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Oe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Oe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Oe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Oe.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Oe.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}vd.create=n=>new vd({checks:[],typeName:rt.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...ft(n)});class QT extends Ct{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ke.boolean){const s=this._getOrReturnCtx(e);return Te(s,{code:pe.invalid_type,expected:ke.boolean,received:s.parsedType}),nt}return Yr(e.data)}}QT.create=n=>new QT({typeName:rt.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...ft(n)});class wm extends Ct{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ke.date){const o=this._getOrReturnCtx(e);return Te(o,{code:pe.invalid_type,expected:ke.date,received:o.parsedType}),nt}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return Te(o,{code:pe.invalid_date}),nt}const s=new kr;let a;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(a=this._getOrReturnCtx(e,a),Te(a,{code:pe.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),s.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(a=this._getOrReturnCtx(e,a),Te(a,{code:pe.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),s.dirty()):Nt.assertNever(o);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new wm({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Oe.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Oe.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}wm.create=n=>new wm({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:rt.ZodDate,...ft(n)});class XT extends Ct{_parse(e){if(this._getType(e)!==ke.symbol){const s=this._getOrReturnCtx(e);return Te(s,{code:pe.invalid_type,expected:ke.symbol,received:s.parsedType}),nt}return Yr(e.data)}}XT.create=n=>new XT({typeName:rt.ZodSymbol,...ft(n)});class ZT extends Ct{_parse(e){if(this._getType(e)!==ke.undefined){const s=this._getOrReturnCtx(e);return Te(s,{code:pe.invalid_type,expected:ke.undefined,received:s.parsedType}),nt}return Yr(e.data)}}ZT.create=n=>new ZT({typeName:rt.ZodUndefined,...ft(n)});class JT extends Ct{_parse(e){if(this._getType(e)!==ke.null){const s=this._getOrReturnCtx(e);return Te(s,{code:pe.invalid_type,expected:ke.null,received:s.parsedType}),nt}return Yr(e.data)}}JT.create=n=>new JT({typeName:rt.ZodNull,...ft(n)});class eS extends Ct{constructor(){super(...arguments),this._any=!0}_parse(e){return Yr(e.data)}}eS.create=n=>new eS({typeName:rt.ZodAny,...ft(n)});class tS extends Ct{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Yr(e.data)}}tS.create=n=>new tS({typeName:rt.ZodUnknown,...ft(n)});class $a extends Ct{_parse(e){const t=this._getOrReturnCtx(e);return Te(t,{code:pe.invalid_type,expected:ke.never,received:t.parsedType}),nt}}$a.create=n=>new $a({typeName:rt.ZodNever,...ft(n)});class nS extends Ct{_parse(e){if(this._getType(e)!==ke.undefined){const s=this._getOrReturnCtx(e);return Te(s,{code:pe.invalid_type,expected:ke.void,received:s.parsedType}),nt}return Yr(e.data)}}nS.create=n=>new nS({typeName:rt.ZodVoid,...ft(n)});class Fs extends Ct{_parse(e){const{ctx:t,status:s}=this._processInputParams(e),a=this._def;if(t.parsedType!==ke.array)return Te(t,{code:pe.invalid_type,expected:ke.array,received:t.parsedType}),nt;if(a.exactLength!==null){const u=t.data.length>a.exactLength.value,d=t.data.length<a.exactLength.value;(u||d)&&(Te(t,{code:u?pe.too_big:pe.too_small,minimum:d?a.exactLength.value:void 0,maximum:u?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&t.data.length<a.minLength.value&&(Te(t,{code:pe.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&t.data.length>a.maxLength.value&&(Te(t,{code:pe.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),t.common.async)return Promise.all([...t.data].map((u,d)=>a.type._parseAsync(new Ha(t,u,t.path,d)))).then(u=>kr.mergeArray(s,u));const o=[...t.data].map((u,d)=>a.type._parseSync(new Ha(t,u,t.path,d)));return kr.mergeArray(s,o)}get element(){return this._def.type}min(e,t){return new Fs({...this._def,minLength:{value:e,message:Oe.toString(t)}})}max(e,t){return new Fs({...this._def,maxLength:{value:e,message:Oe.toString(t)}})}length(e,t){return new Fs({...this._def,exactLength:{value:e,message:Oe.toString(t)}})}nonempty(e){return this.min(1,e)}}Fs.create=(n,e)=>new Fs({type:n,minLength:null,maxLength:null,exactLength:null,typeName:rt.ZodArray,...ft(e)});function $l(n){if(n instanceof wn){const e={};for(const t in n.shape){const s=n.shape[t];e[t]=ja.create($l(s))}return new wn({...n._def,shape:()=>e})}else return n instanceof Fs?new Fs({...n._def,type:$l(n.element)}):n instanceof ja?ja.create($l(n.unwrap())):n instanceof _c?_c.create($l(n.unwrap())):n instanceof Ho?Ho.create(n.items.map(e=>$l(e))):n}class wn extends Ct{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Nt.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==ke.object){const g=this._getOrReturnCtx(e);return Te(g,{code:pe.invalid_type,expected:ke.object,received:g.parsedType}),nt}const{status:s,ctx:a}=this._processInputParams(e),{shape:o,keys:u}=this._getCached(),d=[];if(!(this._def.catchall instanceof $a&&this._def.unknownKeys==="strip"))for(const g in a.data)u.includes(g)||d.push(g);const p=[];for(const g of u){const v=o[g],x=a.data[g];p.push({key:{status:"valid",value:g},value:v._parse(new Ha(a,x,a.path,g)),alwaysSet:g in a.data})}if(this._def.catchall instanceof $a){const g=this._def.unknownKeys;if(g==="passthrough")for(const v of d)p.push({key:{status:"valid",value:v},value:{status:"valid",value:a.data[v]}});else if(g==="strict")d.length>0&&(Te(a,{code:pe.unrecognized_keys,keys:d}),s.dirty());else if(g!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const g=this._def.catchall;for(const v of d){const x=a.data[v];p.push({key:{status:"valid",value:v},value:g._parse(new Ha(a,x,a.path,v)),alwaysSet:v in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const g=[];for(const v of p){const x=await v.key,b=await v.value;g.push({key:x,value:b,alwaysSet:v.alwaysSet})}return g}).then(g=>kr.mergeObjectSync(s,g)):kr.mergeObjectSync(s,p)}get shape(){return this._def.shape()}strict(e){return Oe.errToObj,new wn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,s)=>{var o,u;const a=((u=(o=this._def).errorMap)==null?void 0:u.call(o,t,s).message)??s.defaultError;return t.code==="unrecognized_keys"?{message:Oe.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new wn({...this._def,unknownKeys:"strip"})}passthrough(){return new wn({...this._def,unknownKeys:"passthrough"})}extend(e){return new wn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new wn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:rt.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new wn({...this._def,catchall:e})}pick(e){const t={};for(const s of Nt.objectKeys(e))e[s]&&this.shape[s]&&(t[s]=this.shape[s]);return new wn({...this._def,shape:()=>t})}omit(e){const t={};for(const s of Nt.objectKeys(this.shape))e[s]||(t[s]=this.shape[s]);return new wn({...this._def,shape:()=>t})}deepPartial(){return $l(this)}partial(e){const t={};for(const s of Nt.objectKeys(this.shape)){const a=this.shape[s];e&&!e[s]?t[s]=a:t[s]=a.optional()}return new wn({...this._def,shape:()=>t})}required(e){const t={};for(const s of Nt.objectKeys(this.shape))if(e&&!e[s])t[s]=this.shape[s];else{let o=this.shape[s];for(;o instanceof ja;)o=o._def.innerType;t[s]=o}return new wn({...this._def,shape:()=>t})}keyof(){return cR(Nt.objectKeys(this.shape))}}wn.create=(n,e)=>new wn({shape:()=>n,unknownKeys:"strip",catchall:$a.create(),typeName:rt.ZodObject,...ft(e)});wn.strictCreate=(n,e)=>new wn({shape:()=>n,unknownKeys:"strict",catchall:$a.create(),typeName:rt.ZodObject,...ft(e)});wn.lazycreate=(n,e)=>new wn({shape:n,unknownKeys:"strip",catchall:$a.create(),typeName:rt.ZodObject,...ft(e)});class Em extends Ct{_parse(e){const{ctx:t}=this._processInputParams(e),s=this._def.options;function a(o){for(const d of o)if(d.result.status==="valid")return d.result;for(const d of o)if(d.result.status==="dirty")return t.common.issues.push(...d.ctx.common.issues),d.result;const u=o.map(d=>new Mi(d.ctx.common.issues));return Te(t,{code:pe.invalid_union,unionErrors:u}),nt}if(t.common.async)return Promise.all(s.map(async o=>{const u={...t,common:{...t.common,issues:[]},parent:null};return{result:await o._parseAsync({data:t.data,path:t.path,parent:u}),ctx:u}})).then(a);{let o;const u=[];for(const p of s){const g={...t,common:{...t.common,issues:[]},parent:null},v=p._parseSync({data:t.data,path:t.path,parent:g});if(v.status==="valid")return v;v.status==="dirty"&&!o&&(o={result:v,ctx:g}),g.common.issues.length&&u.push(g.common.issues)}if(o)return t.common.issues.push(...o.ctx.common.issues),o.result;const d=u.map(p=>new Mi(p));return Te(t,{code:pe.invalid_union,unionErrors:d}),nt}}get options(){return this._def.options}}Em.create=(n,e)=>new Em({options:n,typeName:rt.ZodUnion,...ft(e)});function Dv(n,e){const t=ba(n),s=ba(e);if(n===e)return{valid:!0,data:n};if(t===ke.object&&s===ke.object){const a=Nt.objectKeys(e),o=Nt.objectKeys(n).filter(d=>a.indexOf(d)!==-1),u={...n,...e};for(const d of o){const p=Dv(n[d],e[d]);if(!p.valid)return{valid:!1};u[d]=p.data}return{valid:!0,data:u}}else if(t===ke.array&&s===ke.array){if(n.length!==e.length)return{valid:!1};const a=[];for(let o=0;o<n.length;o++){const u=n[o],d=e[o],p=Dv(u,d);if(!p.valid)return{valid:!1};a.push(p.data)}return{valid:!0,data:a}}else return t===ke.date&&s===ke.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Tm extends Ct{_parse(e){const{status:t,ctx:s}=this._processInputParams(e),a=(o,u)=>{if(YT(o)||YT(u))return nt;const d=Dv(o.value,u.value);return d.valid?((KT(o)||KT(u))&&t.dirty(),{status:t.value,value:d.data}):(Te(s,{code:pe.invalid_intersection_types}),nt)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([o,u])=>a(o,u)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Tm.create=(n,e,t)=>new Tm({left:n,right:e,typeName:rt.ZodIntersection,...ft(t)});class Ho extends Ct{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==ke.array)return Te(s,{code:pe.invalid_type,expected:ke.array,received:s.parsedType}),nt;if(s.data.length<this._def.items.length)return Te(s,{code:pe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),nt;!this._def.rest&&s.data.length>this._def.items.length&&(Te(s,{code:pe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const o=[...s.data].map((u,d)=>{const p=this._def.items[d]||this._def.rest;return p?p._parse(new Ha(s,u,s.path,d)):null}).filter(u=>!!u);return s.common.async?Promise.all(o).then(u=>kr.mergeArray(t,u)):kr.mergeArray(t,o)}get items(){return this._def.items}rest(e){return new Ho({...this._def,rest:e})}}Ho.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ho({items:n,typeName:rt.ZodTuple,rest:null,...ft(e)})};class rS extends Ct{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==ke.map)return Te(s,{code:pe.invalid_type,expected:ke.map,received:s.parsedType}),nt;const a=this._def.keyType,o=this._def.valueType,u=[...s.data.entries()].map(([d,p],g)=>({key:a._parse(new Ha(s,d,s.path,[g,"key"])),value:o._parse(new Ha(s,p,s.path,[g,"value"]))}));if(s.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const p of u){const g=await p.key,v=await p.value;if(g.status==="aborted"||v.status==="aborted")return nt;(g.status==="dirty"||v.status==="dirty")&&t.dirty(),d.set(g.value,v.value)}return{status:t.value,value:d}})}else{const d=new Map;for(const p of u){const g=p.key,v=p.value;if(g.status==="aborted"||v.status==="aborted")return nt;(g.status==="dirty"||v.status==="dirty")&&t.dirty(),d.set(g.value,v.value)}return{status:t.value,value:d}}}}rS.create=(n,e,t)=>new rS({valueType:e,keyType:n,typeName:rt.ZodMap,...ft(t)});class _d extends Ct{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==ke.set)return Te(s,{code:pe.invalid_type,expected:ke.set,received:s.parsedType}),nt;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(Te(s,{code:pe.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(Te(s,{code:pe.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());const o=this._def.valueType;function u(p){const g=new Set;for(const v of p){if(v.status==="aborted")return nt;v.status==="dirty"&&t.dirty(),g.add(v.value)}return{status:t.value,value:g}}const d=[...s.data.values()].map((p,g)=>o._parse(new Ha(s,p,s.path,g)));return s.common.async?Promise.all(d).then(p=>u(p)):u(d)}min(e,t){return new _d({...this._def,minSize:{value:e,message:Oe.toString(t)}})}max(e,t){return new _d({...this._def,maxSize:{value:e,message:Oe.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}_d.create=(n,e)=>new _d({valueType:n,minSize:null,maxSize:null,typeName:rt.ZodSet,...ft(e)});class sS extends Ct{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}sS.create=(n,e)=>new sS({getter:n,typeName:rt.ZodLazy,...ft(e)});class iS extends Ct{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Te(t,{received:t.data,code:pe.invalid_literal,expected:this._def.value}),nt}return{status:"valid",value:e.data}}get value(){return this._def.value}}iS.create=(n,e)=>new iS({value:n,typeName:rt.ZodLiteral,...ft(e)});function cR(n,e){return new yc({values:n,typeName:rt.ZodEnum,...ft(e)})}class yc extends Ct{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),s=this._def.values;return Te(t,{expected:Nt.joinValues(s),received:t.parsedType,code:pe.invalid_type}),nt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),s=this._def.values;return Te(t,{received:t.data,code:pe.invalid_enum_value,options:s}),nt}return Yr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return yc.create(e,{...this._def,...t})}exclude(e,t=this._def){return yc.create(this.options.filter(s=>!e.includes(s)),{...this._def,...t})}}yc.create=cR;class aS extends Ct{_parse(e){const t=Nt.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==ke.string&&s.parsedType!==ke.number){const a=Nt.objectValues(t);return Te(s,{expected:Nt.joinValues(a),received:s.parsedType,code:pe.invalid_type}),nt}if(this._cache||(this._cache=new Set(Nt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=Nt.objectValues(t);return Te(s,{received:s.data,code:pe.invalid_enum_value,options:a}),nt}return Yr(e.data)}get enum(){return this._def.values}}aS.create=(n,e)=>new aS({values:n,typeName:rt.ZodNativeEnum,...ft(e)});class Sm extends Ct{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ke.promise&&t.common.async===!1)return Te(t,{code:pe.invalid_type,expected:ke.promise,received:t.parsedType}),nt;const s=t.parsedType===ke.promise?t.data:Promise.resolve(t.data);return Yr(s.then(a=>this._def.type.parseAsync(a,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Sm.create=(n,e)=>new Sm({type:n,typeName:rt.ZodPromise,...ft(e)});class vc extends Ct{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===rt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:s}=this._processInputParams(e),a=this._def.effect||null,o={addIssue:u=>{Te(s,u),u.fatal?t.abort():t.dirty()},get path(){return s.path}};if(o.addIssue=o.addIssue.bind(o),a.type==="preprocess"){const u=a.transform(s.data,o);if(s.common.async)return Promise.resolve(u).then(async d=>{if(t.value==="aborted")return nt;const p=await this._def.schema._parseAsync({data:d,path:s.path,parent:s});return p.status==="aborted"?nt:p.status==="dirty"||t.value==="dirty"?Zu(p.value):p});{if(t.value==="aborted")return nt;const d=this._def.schema._parseSync({data:u,path:s.path,parent:s});return d.status==="aborted"?nt:d.status==="dirty"||t.value==="dirty"?Zu(d.value):d}}if(a.type==="refinement"){const u=d=>{const p=a.refinement(d,o);if(s.common.async)return Promise.resolve(p);if(p instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(s.common.async===!1){const d=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return d.status==="aborted"?nt:(d.status==="dirty"&&t.dirty(),u(d.value),{status:t.value,value:d.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(d=>d.status==="aborted"?nt:(d.status==="dirty"&&t.dirty(),u(d.value).then(()=>({status:t.value,value:d.value}))))}if(a.type==="transform")if(s.common.async===!1){const u=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!pc(u))return nt;const d=a.transform(u.value,o);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:d}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(u=>pc(u)?Promise.resolve(a.transform(u.value,o)).then(d=>({status:t.value,value:d})):nt);Nt.assertNever(a)}}vc.create=(n,e,t)=>new vc({schema:n,typeName:rt.ZodEffects,effect:e,...ft(t)});vc.createWithPreprocess=(n,e,t)=>new vc({schema:e,effect:{type:"preprocess",transform:n},typeName:rt.ZodEffects,...ft(t)});class ja extends Ct{_parse(e){return this._getType(e)===ke.undefined?Yr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ja.create=(n,e)=>new ja({innerType:n,typeName:rt.ZodOptional,...ft(e)});class _c extends Ct{_parse(e){return this._getType(e)===ke.null?Yr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_c.create=(n,e)=>new _c({innerType:n,typeName:rt.ZodNullable,...ft(e)});class Ov extends Ct{_parse(e){const{ctx:t}=this._processInputParams(e);let s=t.data;return t.parsedType===ke.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Ov.create=(n,e)=>new Ov({innerType:n,typeName:rt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ft(e)});class jv extends Ct{_parse(e){const{ctx:t}=this._processInputParams(e),s={...t,common:{...t.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return xm(a)?a.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Mi(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Mi(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}jv.create=(n,e)=>new jv({innerType:n,typeName:rt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ft(e)});class oS extends Ct{_parse(e){if(this._getType(e)!==ke.nan){const s=this._getOrReturnCtx(e);return Te(s,{code:pe.invalid_type,expected:ke.nan,received:s.parsedType}),nt}return{status:"valid",value:e.data}}}oS.create=n=>new oS({typeName:rt.ZodNaN,...ft(n)});class t5 extends Ct{_parse(e){const{ctx:t}=this._processInputParams(e),s=t.data;return this._def.type._parse({data:s,path:t.path,parent:t})}unwrap(){return this._def.type}}class o_ extends Ct{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?nt:o.status==="dirty"?(t.dirty(),Zu(o.value)):this._def.out._parseAsync({data:o.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?nt:a.status==="dirty"?(t.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(e,t){return new o_({in:e,out:t,typeName:rt.ZodPipeline})}}class Mv extends Ct{_parse(e){const t=this._def.innerType._parse(e),s=a=>(pc(a)&&(a.value=Object.freeze(a.value)),a);return xm(t)?t.then(a=>s(a)):s(t)}unwrap(){return this._def.innerType}}Mv.create=(n,e)=>new Mv({innerType:n,typeName:rt.ZodReadonly,...ft(e)});var rt;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(rt||(rt={}));const Ch=Ca.create,lS=gc.create;$a.create;const n5=Fs.create,uR=wn.create,cS=Em.create;Tm.create;Ho.create;yc.create;Sm.create;ja.create;_c.create;var No={},Vy={},uS;function dS(){return uS||(uS=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Allow=n.ALL=n.COLLECTION=n.ATOM=n.SPECIAL=n.INF=n._INFINITY=n.INFINITY=n.NAN=n.BOOL=n.NULL=n.OBJ=n.ARR=n.NUM=n.STR=void 0,n.STR=1,n.NUM=2,n.ARR=4,n.OBJ=8,n.NULL=16,n.BOOL=32,n.NAN=64,n.INFINITY=128,n._INFINITY=256,n.INF=n.INFINITY|n._INFINITY,n.SPECIAL=n.NULL|n.BOOL|n.INF|n.NAN,n.ATOM=n.STR|n.NUM|n.SPECIAL,n.COLLECTION=n.ARR|n.OBJ,n.ALL=n.ATOM|n.COLLECTION,n.Allow={STR:n.STR,NUM:n.NUM,ARR:n.ARR,OBJ:n.OBJ,NULL:n.NULL,BOOL:n.BOOL,NAN:n.NAN,INFINITY:n.INFINITY,_INFINITY:n._INFINITY,INF:n.INF,SPECIAL:n.SPECIAL,ATOM:n.ATOM,COLLECTION:n.COLLECTION,ALL:n.ALL},n.default=n.Allow}(Vy)),Vy}var fS;function r5(){return fS||(fS=1,function(n){var e=No&&No.__createBinding||(Object.create?function(g,v,x,b){b===void 0&&(b=x);var S=Object.getOwnPropertyDescriptor(v,x);(!S||("get"in S?!v.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return v[x]}}),Object.defineProperty(g,b,S)}:function(g,v,x,b){b===void 0&&(b=x),g[b]=v[x]}),t=No&&No.__exportStar||function(g,v){for(var x in g)x!=="default"&&!Object.prototype.hasOwnProperty.call(v,x)&&e(v,g,x)};Object.defineProperty(n,"__esModule",{value:!0}),n.Allow=n.MalformedJSON=n.PartialJSON=n.parseJSON=n.parse=void 0;const s=dS();Object.defineProperty(n,"Allow",{enumerable:!0,get:function(){return s.Allow}}),t(dS(),n);class a extends Error{}n.PartialJSON=a;class o extends Error{}n.MalformedJSON=o;function u(g,v=s.Allow.ALL){if(typeof g!="string")throw new TypeError(`expecting str, got ${typeof g}`);if(!g.trim())throw new Error(`${g} is empty`);return d(g.trim(),v)}n.parseJSON=u;const d=(g,v)=>{const x=g.length;let b=0;const S=q=>{throw new a(`${q} at position ${b}`)},R=q=>{throw new o(`${q} at position ${b}`)},C=()=>($(),b>=x&&S("Unexpected end of input"),g[b]==='"'?I():g[b]==="{"?M():g[b]==="["?P():g.substring(b,b+4)==="null"||s.Allow.NULL&v&&x-b<4&&"null".startsWith(g.substring(b))?(b+=4,null):g.substring(b,b+4)==="true"||s.Allow.BOOL&v&&x-b<4&&"true".startsWith(g.substring(b))?(b+=4,!0):g.substring(b,b+5)==="false"||s.Allow.BOOL&v&&x-b<5&&"false".startsWith(g.substring(b))?(b+=5,!1):g.substring(b,b+8)==="Infinity"||s.Allow.INFINITY&v&&x-b<8&&"Infinity".startsWith(g.substring(b))?(b+=8,1/0):g.substring(b,b+9)==="-Infinity"||s.Allow._INFINITY&v&&1<x-b&&x-b<9&&"-Infinity".startsWith(g.substring(b))?(b+=9,-1/0):g.substring(b,b+3)==="NaN"||s.Allow.NAN&v&&x-b<3&&"NaN".startsWith(g.substring(b))?(b+=3,NaN):L()),I=()=>{const q=b;let X=!1;for(b++;b<x&&(g[b]!=='"'||X&&g[b-1]==="\\");)X=g[b]==="\\"?!X:!1,b++;if(g.charAt(b)=='"')try{return JSON.parse(g.substring(q,++b-Number(X)))}catch(N){R(String(N))}else if(s.Allow.STR&v)try{return JSON.parse(g.substring(q,b-Number(X))+'"')}catch{return JSON.parse(g.substring(q,g.lastIndexOf("\\"))+'"')}S("Unterminated string literal")},M=()=>{b++,$();const q={};try{for(;g[b]!=="}";){if($(),b>=x&&s.Allow.OBJ&v)return q;const X=I();$(),b++;try{const N=C();q[X]=N}catch(N){if(s.Allow.OBJ&v)return q;throw N}$(),g[b]===","&&b++}}catch{if(s.Allow.OBJ&v)return q;S("Expected '}' at end of object")}return b++,q},P=()=>{b++;const q=[];try{for(;g[b]!=="]";)q.push(C()),$(),g[b]===","&&b++}catch{if(s.Allow.ARR&v)return q;S("Expected ']' at end of array")}return b++,q},L=()=>{if(b===0){g==="-"&&R("Not sure what '-' is");try{return JSON.parse(g)}catch(X){if(s.Allow.NUM&v)try{return JSON.parse(g.substring(0,g.lastIndexOf("e")))}catch{}R(String(X))}}const q=b;for(g[b]==="-"&&b++;g[b]&&",]}".indexOf(g[b])===-1;)b++;b==x&&!(s.Allow.NUM&v)&&S("Unterminated number literal");try{return JSON.parse(g.substring(q,b))}catch{g.substring(q,b)==="-"&&S("Not sure what '-' is");try{return JSON.parse(g.substring(q,g.lastIndexOf("e")))}catch(N){R(String(N))}}},$=()=>{for(;b<x&&` 
\r	`.includes(g[b]);)b++};return C()},p=u;n.parse=p}(No)),No}var hS=r5();const s5=uR({id:cS([Ch(),lS()]).transform(n=>String(n)).optional(),Id:cS([Ch(),lS()]).transform(n=>String(n)).optional(),category:Ch().optional(),cat:Ch().optional()}).transform(n=>({id:n.id||n.Id||"",category:n.category||n.cat||""})),i5=uR({transactions:n5(s5)}),mS=n=>{try{let e=n.trim();e.startsWith("```json")?e=e.replace(/^```json\s*/,"").replace(/\s*```$/,""):e.startsWith("```")&&(e=e.replace(/^```\s*/,"").replace(/\s*```$/,""));const t=hS.parse(e,hS.Allow.ALL);return{success:!0,data:i5.parse(t)}}catch(e){return{success:!1,error:e.message}}},a5=async(n,e,t,s,a,o,u=!1)=>{const v=`Please categorize the following transactions:

CSV Data:
${"Date,Description,Amount,Counterparty"+`
`+n.map(P=>`"${P.date.toISOString()}","${P.description}","${P.amount}","${P.counterparty||""}"`).join(`
`)}`,x={messages:[{content:e,role:"system"},{content:v,role:"user"}],model:"doubao-seed-1-6-flash-250615",stream:!0,thinking:{type:u?"enabled":"disabled"}},b=await fetch("https://ark.cn-beijing.volces.com/api/v3/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(x),signal:o});if(!b.ok)throw new Error(`API request failed: ${b.status} ${b.statusText}`);const S=b.body.getReader(),R=new TextDecoder;let C="",I="";for(;;){const{done:P,value:L}=await S.read();if(P)break;C+=R.decode(L,{stream:!0});const $=C.split(`
`);C=$.pop();for(const q of $)if(q.startsWith("data: ")){const X=q.slice(6).trim();if(X==="[DONE]")continue;try{const N=JSON.parse(X);if(N.choices&&N.choices[0]&&N.choices[0].delta&&N.choices[0].delta.content){const A=N.choices[0].delta.content;I+=A,s(I);const O=mS(I);O.success&&a(O.data)}}catch(N){console.warn("Failed to parse streaming data:",N)}}}const M=mS(I);if(M.success)return M.data;throw new Error(`Failed to parse final response: ${M.error}`)},Hu=[{id:"alipay",name:"Alipay",icon:WS,sampleFields:["","","","","/","","",""],encoding:"GB2312",currency:"CNY"},{id:"wechat",name:"WeChat Pay",icon:qD,sampleFields:["","","","","/","()","",""],encoding:"UTF-8",currency:"CNY"},{id:"llm",name:"Generic (AI Powered)",icon:YS,sampleFields:["Any CSV, TXT, or PDF file"],encoding:"Auto-detect",currency:"Auto-detect"}];function o5({debugModeEnabled:n,thinkingModeEnabled:e}){var Ce,Me,Ye,gn;const{currentUser:t}=ir(),{currentLedger:s,canEdit:a}=Ys(),[o,u]=w.useState(""),[d,p]=w.useState(null),[g,v]=w.useState(!1),[x,b]=w.useState(0),[S,R]=w.useState(null),[C,I]=w.useState([]),[M,P]=w.useState(""),[L,$]=w.useState(""),[q,X]=w.useState(!1),[N,A]=w.useState(""),[O,U]=w.useState(""),[D,z]=w.useState([]),[V,G]=w.useState([]),[ne,H]=w.useState(!1),[Z,K]=w.useState(""),[ye,B]=w.useState(!1),ae=w.useRef(null),he=async()=>{if(t)try{const me=Yt(Fe,"users",t.uid),xe=await Xm(me);if(xe.exists()){const ve=xe.data();if(X(ve.smartCategorizationEnabled||!1),A(ve.llmApiKey||""),s&&C.length>0){const Je=C.filter(ut=>ut.type==="expense"),Ee=C.filter(ut=>ut.type==="income"),et=`You are a financial-data assistant. I will provide you with a CSV file of transactions containing at least the following columns: Date, Description, Amount.  Response in JSON and say nothing else:

1. For each row, determine whether it is an **expense** or an **income**.   

2. Assign each transaction to one of the following **Expense** or **Income** categories (or to a special category if needed):

   **Expense Categories**  
   ${Je.map(ut=>`- ${ut.name}`).join("\\n")||"- HTT: (Hard To Tell) if you can't unambiguously assign one of the above"}

   **Income Categories**  
   ${Ee.map(ut=>`- ${ut.name}`).join("\\n")||"- HTT"}

   Use merchant names, keywords in the description, or amount signs to guide your choice.  

3. Output a single JSON object with this exact structure:

{
  "transactions": [
    {
      "id": "<self-increment id>",
      "category": "<one of the given categories: ${[...Je,...Ee].map(ut=>ut.name).join(", ")}, HTT>"
    }
  ]
}

4.  Optionally, "corrections" showing prior mis-classifications I've corrected may be provided to guide this categorization `;U(et)}}}catch(me){console.error("Error loading smart categorization settings:",me)}},le=async()=>{if(s)try{const me=Gt(Fe,"ledgers",s.id,"categories"),xe=await Kn(me),ve=[];xe.forEach(Je=>{ve.push({id:Je.id,...Je.data()})}),I(ve)}catch(me){console.error("Error fetching categories:",me)}},be=me=>{const xe=[];let ve=!1,Je="";for(let Ee=0;Ee<me.length;Ee++){const et=me[Ee];et==='"'?ve=!ve:et===","&&!ve?(xe.push(Je.trim()),Je=""):Je+=et}return xe.push(Je.trim()),xe.map(Ee=>Ee.replace(/^"|"$/g,""))},ze=me=>{const xe=me.split(`
`);let ve=-1;for(let Ee=0;Ee<xe.length;Ee++){const et=xe[Ee].trim();if(et.includes("")&&(et.includes("")||et.includes("/"))){ve=Ee+1;break}}if(ve===-1){for(let Ee=0;Ee<xe.length;Ee++)if(xe[Ee].trim().match(/^\d{4}-\d{2}-\d{2}\s+\d{2}:\d{2}:\d{2}/)){ve=Ee;break}}ve===-1&&(ve=23);const Je=[];for(let Ee=ve;Ee<xe.length;Ee++){const et=xe[Ee].trim();if(!et)continue;const ut=be(et);if(ut.length<6)continue;let gt,Pe,Ke,ht,Qn,On,rn,Mt,Xn;if(ut.length>=12)[gt,Pe,Ke,ht,Qn,On,rn,Mt,Xn]=ut;else if(ut.length>=8)[gt,Pe,Ke,Qn,On,rn,Mt,Xn]=ut,ht="";else continue;const zn=On===""?"expense":"income",Kr=rn.toString().replace(/[^\d.-]/g,""),ar=parseFloat(Kr);if(isNaN(ar))continue;const Dr=C.find(zi=>zi.name.toLowerCase().includes(Pe.toLowerCase())||Pe.toLowerCase().includes(zi.name.toLowerCase())),us=Ke?`Counterparty: ${Ke}`:"";Je.push({id:Ee-ve+1,date:new Date(gt),type:zn,amount:Math.abs(ar),description:Qn||"Unknown Transaction",notes:us,counterparty:Ke||"",categoryId:Dr?Dr.id:null,categoryName:Dr?Dr.name:Pe,paymentMethod:Mt||"Unknown",platform:"alipay",originalData:{category:Pe,counterparty:Ke,account:ht,status:Xn}})}return Je},De=me=>{const xe=me.split(`
`);let ve=-1;for(let Ee=0;Ee<xe.length;Ee++){const et=xe[Ee].trim();if(et.includes("")&&(et.includes("")||et.includes("/"))){ve=Ee+1;break}}if(ve===-1){for(let Ee=0;Ee<xe.length;Ee++)if(xe[Ee].trim().match(/^\d{4}-\d{2}-\d{2}\s+\d{2}:\d{2}:\d{2}/)){ve=Ee;break}}ve===-1&&(ve=15);const Je=[];for(let Ee=ve;Ee<xe.length;Ee++){const et=xe[Ee].trim();if(!et)continue;const ut=be(et);if(ut.length<6)continue;let gt,Pe,Ke,ht,Qn,On,rn,Mt;if(ut.length>=11)[gt,Pe,Ke,ht,Qn,On,rn,Mt]=ut;else if(ut.length>=8)[gt,Pe,Ke,ht,Qn,On,rn,Mt]=ut;else continue;const Xn=Qn===""?"expense":"income",zn=On.toString().replace(/[,\s]/g,"").replace(/[^\d.-]/g,""),Kr=parseFloat(zn);if(isNaN(Kr))continue;const ar=C.find(us=>us.name.toLowerCase().includes(Pe.toLowerCase())||Pe.toLowerCase().includes(us.name.toLowerCase())),Dr=Ke?`Counterparty: ${Ke}`:"";Je.push({id:Ee-ve+1,date:new Date(gt),type:Xn,amount:Math.abs(Kr),description:ht||"Unknown Transaction",notes:Dr,counterparty:Ke||"",categoryId:ar?ar.id:null,categoryName:ar?ar.name:Pe,paymentMethod:rn||"Unknown",platform:"wechat",originalData:{transactionType:Pe,counterparty:Ke,status:Mt}})}return Je},ge=me=>{G(xe=>xe.map(ve=>{const Je=me.transactions.find(Ee=>parseInt(Ee.id)===ve.id);if(Je){const Ee=Je.category||"HTT";return{...ve,llmCategory:Ee,llmProcessing:!1}}return ve}))},je=async me=>{var xe;try{K("");const Ee=await a5(me,O,N,ut=>{K(ut)},ut=>{ge(ut)},(xe=ae.current)==null?void 0:xe.signal,e||!1);ge(Ee);const et=me.map(ut=>{const gt=Ee.transactions.find(Pe=>parseInt(Pe.id)===ut.id);if(gt){const Pe=gt.category||"HTT",Ke=C.find(ht=>ht.name.toLowerCase()===Pe.toLowerCase());return{...ut,categoryId:Ke?Ke.id:null,categoryName:Ke?Ke.name:Pe,llmCategory:Pe,llmProcessing:!1}}return ut});G(et),B(!0)}catch(ve){ve.name==="AbortError"?P("LLM categorization was cancelled."):(console.error("LLM categorization error:",ve),P(`LLM categorization failed: ${ve.message}`),await ct(me))}finally{H(!1),v(!1)}},ct=async me=>{if(!s||!a())return;const xe=Gt(Fe,"ledgers",s.id,"transactions");let ve=0,Je=0;const Ee=vr(xe),et=await Kn(Ee),ut=new Set;et.forEach(Ke=>{var On,rn;const ht=Ke.data(),Qn=`${(rn=(On=ht.date)==null?void 0:On.toDate())==null?void 0:rn.toISOString()}-${ht.amount}-${ht.description}`;ut.add(Qn)});const gt=500,Pe=[];for(let Ke=0;Ke<me.length;Ke+=gt){const ht=_v(Fe),Qn=me.slice(Ke,Ke+gt);let On=0,rn=0;for(const Mt of Qn){const Xn=`${Mt.date.toISOString()}-${Mt.amount}-${Mt.description}`;if(ut.has(Xn)){rn++;continue}const zn=Yt(xe);ht.set(zn,{date:At.fromDate(Mt.date),type:Mt.type,amount:Mt.amount,description:Mt.description,notes:Mt.notes||"",categoryId:Mt.categoryId,categoryName:Mt.categoryName,paymentMethod:Mt.paymentMethod,includeInBudget:!0,platform:Mt.platform,originalData:Mt.originalData,createdAt:new Date,createdBy:t.uid,paidBy:t.uid}),On++,ut.add(Xn)}On>0?Pe.push({batch:ht,imported:On,skipped:rn}):Je+=rn}for(let Ke=0;Ke<Pe.length;Ke++)try{await Pe[Ke].batch.commit(),ve+=Pe[Ke].imported,Je+=Pe[Ke].skipped;const ht=Math.round((Ke+1)/Pe.length*100);b(ht)}catch(ht){console.error("Error committing batch:",ht),Je+=Pe[Ke].imported}R({imported:ve,skipped:Je})},We=async me=>{const xe=me.target.files[0];if(xe){p(xe),v(!0),b(0),R(null),P(""),$(""),B(!1),ae.current=new AbortController;try{let ve=[];if(o==="alipay"){const Je=await xe.arrayBuffer(),et=new TextDecoder("gb2312").decode(Je);ve=ze(et)}else if(o==="wechat"){const Je=await xe.text();ve=De(Je)}else if(o==="llm")throw new Error("LLM parsing not yet implemented.");if(ve.length===0)throw new Error("No valid transactions found in the file.");z(ve),G(ve.map(Je=>({...Je,llmCategory:null,llmProcessing:!0}))),q&&N&&(o==="alipay"||o==="wechat")?(H(!0),await je(ve)):(await ct(ve),$(`Successfully imported ${(S==null?void 0:S.imported)||0} transactions!`),v(!1))}catch(ve){console.error("Import error:",ve),P(`Import error: ${ve.message}`),v(!1),H(!1)}}},Qe=()=>{ae.current&&(ae.current.abort(),console.log("LLM processing cancelled."),H(!1),v(!1),P("LLM categorization cancelled by user."),B(!1))},Xe=async()=>{v(!0),B(!1),P(""),$("");try{await ct(V),$(`Successfully imported ${(S==null?void 0:S.imported)||0} transactions with AI categorization!`)}catch(me){console.error("Error confirming import:",me),P(`Import confirmation failed: ${me.message}`)}},se=()=>{B(!1),v(!1),G([]),z([]),p(null),P(""),$("Import cancelled.")},Ae=(me,xe)=>{G(ve=>ve.map(Je=>{var Ee;return Je.id===me?{...Je,categoryId:xe==="uncategorized"?null:xe,categoryName:xe==="uncategorized"?"Uncategorized":((Ee=C.find(et=>et.id===xe))==null?void 0:Ee.name)||"HTT"}:Je}))};if(w.useEffect(()=>{le()},[s]),w.useEffect(()=>{C.length>0&&he()},[t,s,C]),w.useEffect(()=>{if(L||M){const me=setTimeout(()=>{$(""),P("")},3e3);return()=>clearTimeout(me)}},[L,M]),!s)return h.jsx("div",{className:"p-6 text-center text-gray-500",children:"Please select a ledger to manage categories."});if(g)return h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:ne?"Processing with Smart Categorization...":"Importing Transactions..."}),ne&&h.jsxs(Le,{variant:"outline",onClick:Qe,className:"flex items-center space-x-2",children:[h.jsx(Fw,{className:"h-4 w-4"}),h.jsx("span",{children:"Cancel"})]})]}),V.length>0&&h.jsxs(Tt,{children:[h.jsxs(kt,{children:[h.jsx(Dt,{children:"Imported Transactions"}),h.jsx(on,{children:ne?"AI is categorizing transactions...":"Processing transactions..."})]}),h.jsx(St,{children:h.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:V.map((me,xe)=>h.jsxs("div",{className:"flex justify-between items-center p-2 border rounded",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"font-medium",children:me.description}),h.jsxs("div",{className:"text-sm text-gray-500",children:[me.date.toLocaleString(),"  ",me.amount," CNY",me.counterparty&&`  ${me.counterparty}`]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx(Nr,{variant:me.type==="expense"?"destructive":"default",children:me.type}),ne&&h.jsx("div",{className:"text-sm text-gray-500 mt-1",children:me.llmCategory||"Processing..."})]})]},xe))})})]}),ne&&n&&Z&&h.jsxs(Tt,{children:[h.jsxs(kt,{children:[h.jsx(Dt,{children:"AI Response Stream"}),h.jsx(on,{children:"Real-time categorization response from AI"})]}),h.jsx(St,{children:h.jsx("div",{className:"bg-gray-100 p-3 rounded text-sm font-mono max-h-40 overflow-y-auto",children:Z})})]}),!ne&&h.jsxs(h.Fragment,{children:[h.jsx(Iv,{value:x,className:"w-full"}),h.jsxs("p",{className:"text-center text-gray-600",children:[x,"% Complete"]})]})]});if(ye){const me=C.filter(ve=>ve.type==="expense"),xe=C.filter(ve=>ve.type==="income");return h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Review Categorization"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsxs(Le,{variant:"outline",onClick:se,className:"flex items-center space-x-2",children:[h.jsx(Fw,{className:"h-4 w-4"}),h.jsx("span",{children:"Cancel"})]}),h.jsxs(Le,{onClick:Xe,className:"flex items-center space-x-2",children:[h.jsx(Yl,{className:"h-4 w-4"}),h.jsx("span",{children:"Confirm Import"})]})]})]}),M&&h.jsxs(Qt,{variant:"destructive",children:[h.jsx(Gh,{className:"h-4 w-4"}),h.jsx(Xt,{children:M})]}),h.jsxs(Tt,{children:[h.jsxs(kt,{children:[h.jsx(Dt,{children:"Categorized Transactions"}),h.jsx(on,{children:"Review and adjust the AI-suggested categories."})]}),h.jsx(St,{children:h.jsx("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:V.map((ve,Je)=>h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center p-3 border rounded-lg shadow-sm",children:[h.jsxs("div",{className:"flex-1 mb-2 md:mb-0",children:[h.jsx("div",{className:"font-medium text-lg",children:ve.description}),h.jsxs("div",{className:"text-sm text-gray-600",children:[ve.date.toLocaleString(),"  ",ve.amount," CNY",ve.counterparty&&`  ${ve.counterparty}`]}),h.jsx(Nr,{variant:ve.type==="expense"?"destructive":"default",children:ve.type})]}),h.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center space-y-2 md:space-y-0 md:space-x-4",children:[h.jsxs("div",{className:"text-sm text-gray-700",children:["AI Suggestion: ",h.jsx("span",{className:"font-semibold",children:ve.llmCategory||"N/A"})]}),h.jsxs(Is,{value:ve.categoryId&&C.find(Ee=>Ee.id===ve.categoryId)?ve.categoryId:"uncategorized",onValueChange:Ee=>Ae(ve.id,Ee),children:[h.jsx(Ds,{className:"w-[180px]",children:h.jsx(ks,{placeholder:"Select Category"})}),h.jsxs(Os,{children:[h.jsx(kn,{value:"uncategorized",children:"Uncategorized"}),ve.type==="expense"&&me.map(Ee=>h.jsx(kn,{value:Ee.id,children:Ee.name},Ee.id)),ve.type==="income"&&xe.map(Ee=>h.jsx(kn,{value:Ee.id,children:Ee.name},Ee.id))]})]})]})]},Je))})})]}),n&&Z&&h.jsxs(Tt,{children:[h.jsxs(kt,{children:[h.jsx(Dt,{children:"AI Response Stream (Debug)"}),h.jsx(on,{children:"Raw streaming response from AI during categorization."})]}),h.jsx(St,{children:h.jsx("div",{className:"bg-gray-100 p-3 rounded text-sm font-mono max-h-40 overflow-y-auto",children:Z})})]})]})}return S?h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Import Complete!"}),h.jsxs(Qt,{variant:"default",children:[h.jsx(Yl,{className:"h-4 w-4"}),h.jsxs(Xt,{children:["Successfully imported ",S.imported," transactions.",S.skipped>0&&` ${S.skipped} transactions skipped (duplicates or errors).`]})]}),h.jsx(Le,{onClick:()=>R(null),children:"Import More"})]}):h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Import Transactions"}),M&&h.jsxs(Qt,{variant:"destructive",children:[h.jsx(Gh,{className:"h-4 w-4"}),h.jsx(Xt,{children:M})]}),L&&h.jsxs(Qt,{children:[h.jsx(Yl,{className:"h-4 w-4"}),h.jsx(Xt,{children:L})]}),q&&h.jsxs(Qt,{children:[h.jsx(YS,{className:"h-4 w-4"}),h.jsx(Xt,{children:"Smart Categorization is enabled. Transactions will be automatically categorized using AI."})]}),h.jsxs(Tt,{children:[h.jsxs(kt,{children:[h.jsx(Dt,{children:"Select Import Platform"}),h.jsx(on,{children:"Choose the platform you want to import transactions from."})]}),h.jsx(St,{children:h.jsxs(Is,{value:o,onValueChange:u,children:[h.jsx(Ds,{className:"w-[240px]",children:h.jsx(ks,{placeholder:"Select a platform"})}),h.jsx(Os,{children:Hu.map(me=>h.jsx(kn,{value:me.id,children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(me.icon,{className:"h-4 w-4"}),h.jsx("span",{children:me.name})]})},me.id))})]})})]}),o&&h.jsxs(Tt,{children:[h.jsxs(kt,{children:[h.jsxs(Dt,{children:["Upload ",(Ce=Hu.find(me=>me.id===o))==null?void 0:Ce.name," File"]}),h.jsxs(on,{children:["Upload your exported ",(Me=Hu.find(me=>me.id===o))==null?void 0:Me.name," CSV file. Ensure it's the correct format."]})]}),h.jsxs(St,{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs(tt,{htmlFor:"file-upload",className:"cursor-pointer bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600",children:[h.jsx(ZS,{className:"h-4 w-4 inline-block mr-2"})," Choose File"]}),h.jsx(tn,{id:"file-upload",type:"file",className:"hidden",onChange:We,accept:".csv,.txt"}),d&&h.jsx(Nr,{variant:"secondary",children:d.name})]}),h.jsxs("div",{className:"text-sm text-gray-500",children:[h.jsxs("p",{children:["Expected fields for ",(Ye=Hu.find(me=>me.id===o))==null?void 0:Ye.name,":"]}),h.jsx("ol",{className:"list-decimal list-inside",children:(gn=Hu.find(me=>me.id===o))==null?void 0:gn.sampleFields.map((me,xe)=>h.jsx("li",{children:me},xe))})]})]})]})]})}function l5({isMobileMenuOpen:n,setIsMobileMenuOpen:e}){const t=Pi(),{currentUser:s,logout:a}=ir(),o=[{path:"/",label:"Dashboard",icon:kD},{path:"/transactions",label:"Transactions",icon:WS},{path:"/budgets",label:"Budgets",icon:hD},{path:"/categories",label:"Categories",icon:XS},{path:"/ledgers",label:"Ledgers",icon:$h},{path:"/splits",label:"Expense Splits",icon:t1},{path:"/import",label:"Import",icon:ZS},{path:"/settings",label:"Settings",icon:ED}],u=async()=>{try{await a()}catch(d){console.error("Failed to log out:",d)}};return h.jsxs(h.Fragment,{children:[h.jsx("nav",{className:"hidden md:flex bg-white border-b border-gray-200 px-6 py-4",children:h.jsxs("div",{className:"flex items-center justify-between w-full",children:[h.jsxs("div",{className:"flex items-center space-x-8",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(tc,{className:"h-8 w-8 text-blue-600"}),h.jsx("span",{className:"text-xl font-bold text-gray-900",children:"ExpenseTracker"})]}),h.jsx("div",{className:"flex space-x-6",children:o.map(d=>{const p=d.icon,g=t.pathname===d.path;return h.jsxs(ec,{to:d.path,className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${g?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[h.jsx(p,{className:"h-4 w-4"}),h.jsx("span",{children:d.label})]},d.path)})})]}),s&&h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("span",{className:"text-sm text-gray-600",children:["Welcome, ",s.displayName||s.email]}),h.jsxs(Le,{variant:"ghost",size:"sm",onClick:u,className:"flex items-center space-x-2",children:[h.jsx(qw,{className:"h-4 w-4"}),h.jsx("span",{children:"Logout"})]})]})]})}),h.jsxs("nav",{className:"md:hidden bg-white border-b border-gray-200",children:[h.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(tc,{className:"h-6 w-6 text-blue-600"}),h.jsx("span",{className:"text-lg font-bold text-gray-900",children:"ExpenseTracker"})]}),h.jsx(Le,{variant:"ghost",size:"sm",onClick:()=>e(!n),children:n?h.jsx(ic,{className:"h-6 w-6"}):h.jsx(MD,{className:"h-6 w-6"})})]}),n&&h.jsxs("div",{className:"border-t border-gray-200 px-4 py-4 space-y-2",children:[o.map(d=>{const p=d.icon,g=t.pathname===d.path;return h.jsxs(ec,{to:d.path,onClick:()=>e(!1),className:`flex items-center space-x-3 px-3 py-2 rounded-md text-sm font-medium transition-colors ${g?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[h.jsx(p,{className:"h-4 w-4"}),h.jsx("span",{children:d.label})]},d.path)}),s&&h.jsxs(Le,{variant:"ghost",size:"sm",onClick:u,className:"flex items-center space-x-3 px-3 py-2 w-full justify-start",children:[h.jsx(qw,{className:"h-4 w-4"}),h.jsx("span",{children:"Logout"})]})]})]})]})}function c5(){return h.jsx(sU,{})}function u5(){return h.jsx(hU,{})}function d5(){return h.jsx(vU,{})}function f5(){return h.jsxs("div",{className:"p-6",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Expense Splits"}),h.jsxs(Tt,{children:[h.jsxs(kt,{children:[h.jsx(Dt,{children:"Split Expenses"}),h.jsx(on,{children:"Share expenses with friends and track balances"})]}),h.jsx(St,{children:h.jsx("p",{className:"text-gray-600",children:"Expense splitting interface will be implemented here."})})]})]})}function h5({debugModeEnabled:n,thinkingModeEnabled:e}){return h.jsx(o5,{debugModeEnabled:n,thinkingModeEnabled:e})}function m5({smartCategorizationEnabled:n,setSmartCategorizationEnabled:e,debugModeEnabled:t,setDebugModeEnabled:s,thinkingModeEnabled:a,setThinkingModeEnabled:o}){return h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),h.jsx(wU,{}),h.jsx(NU,{smartCategorizationEnabled:n,setSmartCategorizationEnabled:e,debugModeEnabled:t,setDebugModeEnabled:s,thinkingModeEnabled:a,setThinkingModeEnabled:o}),h.jsxs(Tt,{children:[h.jsxs(kt,{children:[h.jsx(Dt,{children:"Application Preferences"}),h.jsx(on,{children:"Additional application settings will be available here"})]}),h.jsx(St,{children:h.jsx("p",{className:"text-gray-600",children:"More settings options coming soon..."})})]})]})}function p5(){const[n,e]=w.useState(!1),{currentUser:t}=ir(),[s,a]=w.useState(!1),[o,u]=w.useState(!1),[d,p]=w.useState(!1);return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t&&h.jsx(l5,{isMobileMenuOpen:n,setIsMobileMenuOpen:e}),h.jsx("main",{className:t?"max-w-7xl mx-auto":"",children:h.jsxs(MI,{children:[h.jsx(es,{path:"/login",element:t?h.jsx(Uy,{to:"/"}):h.jsx(b8,{})}),h.jsx(es,{path:"/signup",element:t?h.jsx(Uy,{to:"/"}):h.jsx(x8,{})}),h.jsx(es,{path:"/",element:h.jsx(ya,{children:h.jsx(D8,{})})}),h.jsx(es,{path:"/transactions",element:h.jsx(ya,{children:h.jsx(c5,{})})}),h.jsx(es,{path:"/budgets",element:h.jsx(ya,{children:h.jsx(u5,{})})}),h.jsx(es,{path:"/categories",element:h.jsx(ya,{children:h.jsx(d5,{})})}),h.jsx(es,{path:"/ledgers",element:h.jsx(ya,{children:h.jsx(xU,{})})}),h.jsx(es,{path:"/splits",element:h.jsx(ya,{children:h.jsx(f5,{})})}),h.jsx(es,{path:"/import",element:h.jsx(ya,{children:h.jsx(h5,{debugModeEnabled:s,thinkingModeEnabled:d})})}),h.jsx(es,{path:"/settings",element:h.jsx(ya,{children:h.jsx(m5,{smartCategorizationEnabled:o,setSmartCategorizationEnabled:u,debugModeEnabled:s,setDebugModeEnabled:a,thinkingModeEnabled:d,setThinkingModeEnabled:p})})})]})})]})}function g5(){return h.jsx(ik,{children:h.jsx(h8,{children:h.jsx(m8,{children:h.jsx(p5,{})})})})}HN.createRoot(document.getElementById("root")).render(h.jsx(w.StrictMode,{children:h.jsx(g5,{})}));
