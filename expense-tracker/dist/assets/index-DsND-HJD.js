function qN(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in n)){const o=Object.getOwnPropertyDescriptor(s,a);o&&Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function vS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ty={exports:{}},$u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vw;function $N(){if(Vw)return $u;Vw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var d in a)d!=="key"&&(o[d]=a[d])}else o=a;return a=o.ref,{$$typeof:n,type:s,key:c,ref:a!==void 0?a:null,props:o}}return $u.Fragment=e,$u.jsx=t,$u.jsxs=t,$u}var Uw;function GN(){return Uw||(Uw=1,Ty.exports=$N()),Ty.exports}var h=GN(),Sy={exports:{}},st={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bw;function YN(){if(Bw)return st;Bw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function x(z){return z===null||typeof z!="object"?null:(z=b&&z[b]||z["@@iterator"],typeof z=="function"?z:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,C={};function N(z,ie,he){this.props=z,this.context=ie,this.refs=C,this.updater=he||S}N.prototype.isReactComponent={},N.prototype.setState=function(z,ie){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ie,"setState")},N.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function M(){}M.prototype=N.prototype;function L(z,ie,he){this.props=z,this.context=ie,this.refs=C,this.updater=he||S}var V=L.prototype=new M;V.constructor=L,R(V,N.prototype),V.isPureReactComponent=!0;var q=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},Z=Object.prototype.hasOwnProperty;function k(z,ie,he,oe,_e,Ue){return he=Ue.ref,{$$typeof:n,type:z,key:ie,ref:he!==void 0?he:null,props:Ue}}function A(z,ie){return k(z.type,ie,void 0,void 0,void 0,z.props)}function O(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function B(z){var ie={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(he){return ie[he]})}var D=/\/+/g;function U(z,ie){return typeof z=="object"&&z!==null&&z.key!=null?B(""+z.key):ie.toString(36)}function P(){}function G(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(P,P):(z.status="pending",z.then(function(ie){z.status==="pending"&&(z.status="fulfilled",z.value=ie)},function(ie){z.status==="pending"&&(z.status="rejected",z.reason=ie)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function te(z,ie,he,oe,_e){var Ue=typeof z;(Ue==="undefined"||Ue==="boolean")&&(z=null);var Ce=!1;if(z===null)Ce=!0;else switch(Ue){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(z.$$typeof){case n:case e:Ce=!0;break;case v:return Ce=z._init,te(Ce(z._payload),ie,he,oe,_e)}}if(Ce)return _e=_e(z),Ce=oe===""?"."+U(z,0):oe,q(_e)?(he="",Ce!=null&&(he=Ce.replace(D,"$&/")+"/"),te(_e,ie,he,"",function(ht){return ht})):_e!=null&&(O(_e)&&(_e=A(_e,he+(_e.key==null||z&&z.key===_e.key?"":(""+_e.key).replace(D,"$&/")+"/")+Ce)),ie.push(_e)),1;Ce=0;var ge=oe===""?".":oe+":";if(q(z))for(var Me=0;Me<z.length;Me++)oe=z[Me],Ue=ge+U(oe,Me),Ce+=te(oe,ie,he,Ue,_e);else if(Me=x(z),typeof Me=="function")for(z=Me.call(z),Me=0;!(oe=z.next()).done;)oe=oe.value,Ue=ge+U(oe,Me++),Ce+=te(oe,ie,he,Ue,_e);else if(Ue==="object"){if(typeof z.then=="function")return te(G(z),ie,he,oe,_e);throw ie=String(z),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function $(z,ie,he){if(z==null)return z;var oe=[],_e=0;return te(z,oe,"","",function(Ue){return ie.call(he,Ue,_e++)}),oe}function X(z){if(z._status===-1){var ie=z._result;ie=ie(),ie.then(function(he){(z._status===0||z._status===-1)&&(z._status=1,z._result=he)},function(he){(z._status===0||z._status===-1)&&(z._status=2,z._result=he)}),z._status===-1&&(z._status=0,z._result=ie)}if(z._status===1)return z._result.default;throw z._result}var K=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function pe(){}return st.Children={map:$,forEach:function(z,ie,he){$(z,function(){ie.apply(this,arguments)},he)},count:function(z){var ie=0;return $(z,function(){ie++}),ie},toArray:function(z){return $(z,function(ie){return ie})||[]},only:function(z){if(!O(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},st.Component=N,st.Fragment=t,st.Profiler=a,st.PureComponent=L,st.StrictMode=s,st.Suspense=m,st.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,st.__COMPILER_RUNTIME={__proto__:null,c:function(z){return F.H.useMemoCache(z)}},st.cache=function(z){return function(){return z.apply(null,arguments)}},st.cloneElement=function(z,ie,he){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var oe=R({},z.props),_e=z.key,Ue=void 0;if(ie!=null)for(Ce in ie.ref!==void 0&&(Ue=void 0),ie.key!==void 0&&(_e=""+ie.key),ie)!Z.call(ie,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ie.ref===void 0||(oe[Ce]=ie[Ce]);var Ce=arguments.length-2;if(Ce===1)oe.children=he;else if(1<Ce){for(var ge=Array(Ce),Me=0;Me<Ce;Me++)ge[Me]=arguments[Me+2];oe.children=ge}return k(z.type,_e,void 0,void 0,Ue,oe)},st.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},st.createElement=function(z,ie,he){var oe,_e={},Ue=null;if(ie!=null)for(oe in ie.key!==void 0&&(Ue=""+ie.key),ie)Z.call(ie,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(_e[oe]=ie[oe]);var Ce=arguments.length-2;if(Ce===1)_e.children=he;else if(1<Ce){for(var ge=Array(Ce),Me=0;Me<Ce;Me++)ge[Me]=arguments[Me+2];_e.children=ge}if(z&&z.defaultProps)for(oe in Ce=z.defaultProps,Ce)_e[oe]===void 0&&(_e[oe]=Ce[oe]);return k(z,Ue,void 0,void 0,null,_e)},st.createRef=function(){return{current:null}},st.forwardRef=function(z){return{$$typeof:d,render:z}},st.isValidElement=O,st.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:X}},st.memo=function(z,ie){return{$$typeof:p,type:z,compare:ie===void 0?null:ie}},st.startTransition=function(z){var ie=F.T,he={};F.T=he;try{var oe=z(),_e=F.S;_e!==null&&_e(he,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(pe,K)}catch(Ue){K(Ue)}finally{F.T=ie}},st.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},st.use=function(z){return F.H.use(z)},st.useActionState=function(z,ie,he){return F.H.useActionState(z,ie,he)},st.useCallback=function(z,ie){return F.H.useCallback(z,ie)},st.useContext=function(z){return F.H.useContext(z)},st.useDebugValue=function(){},st.useDeferredValue=function(z,ie){return F.H.useDeferredValue(z,ie)},st.useEffect=function(z,ie,he){var oe=F.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(z,ie)},st.useId=function(){return F.H.useId()},st.useImperativeHandle=function(z,ie,he){return F.H.useImperativeHandle(z,ie,he)},st.useInsertionEffect=function(z,ie){return F.H.useInsertionEffect(z,ie)},st.useLayoutEffect=function(z,ie){return F.H.useLayoutEffect(z,ie)},st.useMemo=function(z,ie){return F.H.useMemo(z,ie)},st.useOptimistic=function(z,ie){return F.H.useOptimistic(z,ie)},st.useReducer=function(z,ie,he){return F.H.useReducer(z,ie,he)},st.useRef=function(z){return F.H.useRef(z)},st.useState=function(z){return F.H.useState(z)},st.useSyncExternalStore=function(z,ie,he){return F.H.useSyncExternalStore(z,ie,he)},st.useTransition=function(){return F.H.useTransition()},st.version="19.1.0",st}var zw;function t0(){return zw||(zw=1,Sy.exports=YN()),Sy.exports}var w=t0();const Sa=vS(w),_S=qN({__proto__:null,default:Sa},[w]);var Ay={exports:{}},Gu={},Cy={exports:{}},Ry={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fw;function KN(){return Fw||(Fw=1,function(n){function e($,X){var K=$.length;$.push(X);e:for(;0<K;){var pe=K-1>>>1,z=$[pe];if(0<a(z,X))$[pe]=X,$[K]=z,K=pe;else break e}}function t($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var X=$[0],K=$.pop();if(K!==X){$[0]=K;e:for(var pe=0,z=$.length,ie=z>>>1;pe<ie;){var he=2*(pe+1)-1,oe=$[he],_e=he+1,Ue=$[_e];if(0>a(oe,K))_e<z&&0>a(Ue,oe)?($[pe]=Ue,$[_e]=K,pe=_e):($[pe]=oe,$[he]=K,pe=he);else if(_e<z&&0>a(Ue,K))$[pe]=Ue,$[_e]=K,pe=_e;else break e}}return X}function a($,X){var K=$.sortIndex-X.sortIndex;return K!==0?K:$.id-X.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],p=[],v=1,b=null,x=3,S=!1,R=!1,C=!1,N=!1,M=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function q($){for(var X=t(p);X!==null;){if(X.callback===null)s(p);else if(X.startTime<=$)s(p),X.sortIndex=X.expirationTime,e(m,X);else break;X=t(p)}}function F($){if(C=!1,q($),!R)if(t(m)!==null)R=!0,Z||(Z=!0,U());else{var X=t(p);X!==null&&te(F,X.startTime-$)}}var Z=!1,k=-1,A=5,O=-1;function B(){return N?!0:!(n.unstable_now()-O<A)}function D(){if(N=!1,Z){var $=n.unstable_now();O=$;var X=!0;try{e:{R=!1,C&&(C=!1,L(k),k=-1),S=!0;var K=x;try{t:{for(q($),b=t(m);b!==null&&!(b.expirationTime>$&&B());){var pe=b.callback;if(typeof pe=="function"){b.callback=null,x=b.priorityLevel;var z=pe(b.expirationTime<=$);if($=n.unstable_now(),typeof z=="function"){b.callback=z,q($),X=!0;break t}b===t(m)&&s(m),q($)}else s(m);b=t(m)}if(b!==null)X=!0;else{var ie=t(p);ie!==null&&te(F,ie.startTime-$),X=!1}}break e}finally{b=null,x=K,S=!1}X=void 0}}finally{X?U():Z=!1}}}var U;if(typeof V=="function")U=function(){V(D)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,G=P.port2;P.port1.onmessage=D,U=function(){G.postMessage(null)}}else U=function(){M(D,0)};function te($,X){k=M(function(){$(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function($){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var K=x;x=X;try{return $()}finally{x=K}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function($,X){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var K=x;x=$;try{return X()}finally{x=K}},n.unstable_scheduleCallback=function($,X,K){var pe=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?pe+K:pe):K=pe,$){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=K+z,$={id:v++,callback:X,priorityLevel:$,startTime:K,expirationTime:z,sortIndex:-1},K>pe?($.sortIndex=K,e(p,$),t(m)===null&&$===t(p)&&(C?(L(k),k=-1):C=!0,te(F,K-pe))):($.sortIndex=z,e(m,$),R||S||(R=!0,Z||(Z=!0,U()))),$},n.unstable_shouldYield=B,n.unstable_wrapCallback=function($){var X=x;return function(){var K=x;x=X;try{return $.apply(this,arguments)}finally{x=K}}}}(Ry)),Ry}var Hw;function QN(){return Hw||(Hw=1,Cy.exports=KN()),Cy.exports}var Ny={exports:{}},tr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qw;function ZN(){if(qw)return tr;qw=1;var n=t0();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(m,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:p,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return tr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tr.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(m,p,null,v)},tr.flushSync=function(m){var p=c.T,v=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=v,s.d.f()}},tr.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},tr.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},tr.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,b=d(v,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:S}):v==="script"&&s.d.X(m,{crossOrigin:b,integrity:x,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},tr.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},tr.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=d(v,p.crossOrigin);s.d.L(m,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},tr.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=d(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},tr.requestFormReset=function(m){s.d.r(m)},tr.unstable_batchedUpdates=function(m,p){return m(p)},tr.useFormState=function(m,p,v){return c.H.useFormState(m,p,v)},tr.useFormStatus=function(){return c.H.useHostTransitionStatus()},tr.version="19.1.0",tr}var $w;function bS(){if($w)return Ny.exports;$w=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ny.exports=ZN(),Ny.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gw;function WN(){if(Gw)return Gu;Gw=1;var n=QN(),e=t0(),t=bS();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(s(188))}function m(r){var i=r.alternate;if(!i){if(i=o(r),i===null)throw Error(s(188));return i!==r?null:r}for(var l=r,u=i;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return d(g),r;if(y===u)return d(g),i;y=y.sibling}throw Error(s(188))}if(l.return!==u.return)l=g,u=y;else{for(var T=!1,I=g.child;I;){if(I===l){T=!0,l=g,u=y;break}if(I===u){T=!0,u=g,l=y;break}I=I.sibling}if(!T){for(I=y.child;I;){if(I===l){T=!0,l=y,u=g;break}if(I===u){T=!0,u=y,l=g;break}I=I.sibling}if(!T)throw Error(s(189))}}if(l.alternate!==u)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?r:i}function p(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=p(r),i!==null)return i;r=r.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),V=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function G(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case N:return"Profiler";case C:return"StrictMode";case F:return"Suspense";case Z:return"SuspenseList";case O:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case V:return(r.displayName||"Context")+".Provider";case L:return(r._context.displayName||"Context")+".Consumer";case q:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case k:return i=r.displayName||null,i!==null?i:G(r.type)||"Memo";case A:i=r._payload,r=r._init;try{return G(r(i))}catch{}}return null}var te=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},pe=[],z=-1;function ie(r){return{current:r}}function he(r){0>z||(r.current=pe[z],pe[z]=null,z--)}function oe(r,i){z++,pe[z]=r.current,r.current=i}var _e=ie(null),Ue=ie(null),Ce=ie(null),ge=ie(null);function Me(r,i){switch(oe(Ce,i),oe(Ue,r),oe(_e,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?fw(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=fw(i),r=hw(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}he(_e),oe(_e,r)}function ht(){he(_e),he(Ue),he(Ce)}function Qe(r){r.memoizedState!==null&&oe(ge,r);var i=_e.current,l=hw(i,r.type);i!==l&&(oe(Ue,r),oe(_e,l))}function Ze(r){Ue.current===r&&(he(_e),he(Ue)),ge.current===r&&(he(ge),Bu._currentValue=K)}var Je=Object.prototype.hasOwnProperty,se=n.unstable_scheduleCallback,Ne=n.unstable_cancelCallback,Re=n.unstable_shouldYield,Le=n.unstable_requestPaint,We=n.unstable_now,An=n.unstable_getCurrentPriorityLevel,At=n.unstable_ImmediatePriority,ct=n.unstable_UserBlockingPriority,Jn=n.unstable_NormalPriority,ti=n.unstable_LowPriority,Xr=n.unstable_IdlePriority,Hn=n.log,no=n.unstable_setDisableYieldValue,be=null,xe=null;function ye(r){if(typeof Hn=="function"&&no(r),xe&&typeof xe.setStrictMode=="function")try{xe.setStrictMode(be,r)}catch{}}var Ve=Math.clz32?Math.clz32:_t,Ae=Math.log,bt=Math.LN2;function _t(r){return r>>>=0,r===0?32:31-(Ae(r)/bt|0)|0}var Nt=256,It=4194304;function Xe(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ot(r,i,l){var u=r.pendingLanes;if(u===0)return 0;var g=0,y=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var I=u&134217727;return I!==0?(u=I&~y,u!==0?g=Xe(u):(T&=I,T!==0?g=Xe(T):l||(l=I&~r,l!==0&&(g=Xe(l))))):(I=u&~y,I!==0?g=Xe(I):T!==0?g=Xe(T):l||(l=u&~r,l!==0&&(g=Xe(l)))),g===0?0:i!==0&&i!==g&&(i&y)===0&&(y=g&-g,l=i&-i,y>=l||y===32&&(l&4194048)!==0)?i:g}function hn(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function vn(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _n(){var r=Nt;return Nt<<=1,(Nt&4194048)===0&&(Nt=256),r}function Ht(){var r=It;return It<<=1,(It&62914560)===0&&(It=4194304),r}function Mn(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function ur(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function vs(r,i,l,u,g,y){var T=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var I=r.entanglements,H=r.expirationTimes,ee=r.hiddenUpdates;for(l=T&~l;0<l;){var le=31-Ve(l),de=1<<le;I[le]=0,H[le]=-1;var ne=ee[le];if(ne!==null)for(ee[le]=null,le=0;le<ne.length;le++){var re=ne[le];re!==null&&(re.lane&=-536870913)}l&=~de}u!==0&&Pn(r,u,0),y!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=y&~(T&~i))}function Pn(r,i,l){r.pendingLanes|=i,r.suspendedLanes&=~i;var u=31-Ve(i);r.entangledLanes|=i,r.entanglements[u]=r.entanglements[u]|1073741824|l&4194090}function Vr(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var u=31-Ve(l),g=1<<u;g&i|r[u]&i&&(r[u]|=i),l&=~g}}function Tr(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ni(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Qi(){var r=X.p;return r!==0?r:(r=window.event,r===void 0?32:Dw(r.type))}function of(r,i){var l=X.p;try{return X.p=r,i()}finally{X.p=l}}var Zt=Math.random().toString(36).slice(2),Cn="__reactFiber$"+Zt,bn="__reactProps$"+Zt,Ur="__reactContainer$"+Zt,$c="__reactEvents$"+Zt,Cp="__reactListeners$"+Zt,Zi="__reactHandles$"+Zt,lf="__reactResources$"+Zt,ro="__reactMarker$"+Zt;function Wi(r){delete r[Cn],delete r[bn],delete r[$c],delete r[Cp],delete r[Zi]}function ri(r){var i=r[Cn];if(i)return i;for(var l=r.parentNode;l;){if(i=l[Ur]||l[Cn]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=yw(r);r!==null;){if(l=r[Cn])return l;r=yw(r)}return i}r=l,l=r.parentNode}return null}function _s(r){if(r=r[Cn]||r[Ur]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function bs(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function dr(r){var i=r[lf];return i||(i=r[lf]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function mn(r){r[ro]=!0}var Gc=new Set,tl={};function Jr(r,i){si(r,i),si(r+"Capture",i)}function si(r,i){for(tl[r]=i,r=0;r<i.length;r++)Gc.add(i[r])}var cf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uf={},so={};function df(r){return Je.call(so,r)?!0:Je.call(uf,r)?!1:cf.test(r)?so[r]=!0:(uf[r]=!0,!1)}function Xi(r,i,l){if(df(i))if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+l)}}function xs(r,i,l){if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+l)}}function qn(r,i,l,u){if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(i,l,""+u)}}var io,ff;function ii(r){if(io===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);io=i&&i[1]||"",ff=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+io+r+ff}var nl=!1;function rl(r,i){if(!r||nl)return"";nl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(re){var ne=re}Reflect.construct(r,[],de)}else{try{de.call()}catch(re){ne=re}r.call(de.prototype)}}else{try{throw Error()}catch(re){ne=re}(de=r())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(re){if(re&&ne&&typeof re.stack=="string")return[re.stack,ne.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),T=y[0],I=y[1];if(T&&I){var H=T.split(`
`),ee=I.split(`
`);for(g=u=0;u<H.length&&!H[u].includes("DetermineComponentFrameRoot");)u++;for(;g<ee.length&&!ee[g].includes("DetermineComponentFrameRoot");)g++;if(u===H.length||g===ee.length)for(u=H.length-1,g=ee.length-1;1<=u&&0<=g&&H[u]!==ee[g];)g--;for(;1<=u&&0<=g;u--,g--)if(H[u]!==ee[g]){if(u!==1||g!==1)do if(u--,g--,0>g||H[u]!==ee[g]){var le=`
`+H[u].replace(" at new "," at ");return r.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",r.displayName)),le}while(1<=u&&0<=g);break}}}finally{nl=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?ii(l):""}function Yc(r){switch(r.tag){case 26:case 27:case 5:return ii(r.type);case 16:return ii("Lazy");case 13:return ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return rl(r.type,!1);case 11:return rl(r.type.render,!1);case 1:return rl(r.type,!0);case 31:return ii("Activity");default:return""}}function sl(r){try{var i="";do i+=Yc(r),r=r.return;while(r);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function fr(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Kc(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Rp(r){var i=Kc(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),u=""+r[i];if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,y=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return g.call(this)},set:function(T){u=""+T,y.call(this,T)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function il(r){r._valueTracker||(r._valueTracker=Rp(r))}function Qc(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return r&&(u=Kc(r)?r.checked?"true":"false":r.value),r=u,r!==l?(i.setValue(r),!0):!1}function ao(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Np=/[\n"\\]/g;function xn(r){return r.replace(Np,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Sr(r,i,l,u,g,y,T,I){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),i!=null?T==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+fr(i)):r.value!==""+fr(i)&&(r.value=""+fr(i)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),i!=null?Ji(r,T,fr(i)):l!=null?Ji(r,T,fr(l)):u!=null&&r.removeAttribute("value"),g==null&&y!=null&&(r.defaultChecked=!!y),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.name=""+fr(I):r.removeAttribute("name")}function oo(r,i,l,u,g,y,T,I){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),i!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||i!=null))return;l=l!=null?""+fr(l):"",i=i!=null?""+fr(i):l,I||i===r.value||(r.value=i),r.defaultValue=i}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=I?r.checked:!!u,r.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function Ji(r,i,l){i==="number"&&ao(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function ai(r,i,l,u){if(r=r.options,i){i={};for(var g=0;g<l.length;g++)i["$"+l[g]]=!0;for(l=0;l<r.length;l++)g=i.hasOwnProperty("$"+r[l].value),r[l].selected!==g&&(r[l].selected=g),g&&u&&(r[l].defaultSelected=!0)}else{for(l=""+fr(l),i=null,g=0;g<r.length;g++){if(r[g].value===l){r[g].selected=!0,u&&(r[g].defaultSelected=!0);return}i!==null||r[g].disabled||(i=r[g])}i!==null&&(i.selected=!0)}}function Ut(r,i,l){if(i!=null&&(i=""+fr(i),i!==r.value&&(r.value=i),l==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=l!=null?""+fr(l):""}function lo(r,i,l,u){if(i==null){if(u!=null){if(l!=null)throw Error(s(92));if(te(u)){if(1<u.length)throw Error(s(93));u=u[0]}l=u}l==null&&(l=""),i=l}l=fr(i),r.defaultValue=l,u=r.textContent,u===l&&u!==""&&u!==null&&(r.value=u)}function Br(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var co=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hf(r,i,l){var u=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":u?r.setProperty(i,l):typeof l!="number"||l===0||co.has(i)?i==="float"?r.cssFloat=l:r[i]=(""+l).trim():r[i]=l+"px"}function Zc(r,i,l){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var g in i)u=i[g],i.hasOwnProperty(g)&&l[g]!==u&&hf(r,g,u)}else for(var y in i)i.hasOwnProperty(y)&&hf(r,y,i[y])}function Wc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ip=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function al(r){return kp.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var oi=null;function zr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var li=null,ci=null;function Xc(r){var i=_s(r);if(i&&(r=i.stateNode)){var l=r[bn]||null;e:switch(r=i.stateNode,i.type){case"input":if(Sr(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+xn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==r&&u.form===r.form){var g=u[bn]||null;if(!g)throw Error(s(90));Sr(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<l.length;i++)u=l[i],u.form===r.form&&Qc(u)}break e;case"textarea":Ut(r,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&ai(r,!!l.multiple,i,!1)}}}var ws=!1;function mf(r,i,l){if(ws)return r(i,l);ws=!0;try{var u=r(i);return u}finally{if(ws=!1,(li!==null||ci!==null)&&(oh(),li&&(i=li,r=ci,ci=li=null,Xc(i),r)))for(i=0;i<r.length;i++)Xc(r[i])}}function uo(r,i){var l=r.stateNode;if(l===null)return null;var u=l[bn]||null;if(u===null)return null;l=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(s(231,i,typeof l));return l}var es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fr=!1;if(es)try{var fo={};Object.defineProperty(fo,"passive",{get:function(){Fr=!0}}),window.addEventListener("test",fo,fo),window.removeEventListener("test",fo,fo)}catch{Fr=!1}var Es=null,ea=null,ui=null;function Jc(){if(ui)return ui;var r,i=ea,l=i.length,u,g="value"in Es?Es.value:Es.textContent,y=g.length;for(r=0;r<l&&i[r]===g[r];r++);var T=l-r;for(u=1;u<=T&&i[l-u]===g[y-u];u++);return ui=g.slice(r,1<u?1-u:void 0)}function Ts(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Ss(){return!0}function eu(){return!1}function Ln(r){function i(l,u,g,y,T){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(l=r[I],this[I]=l?l(y):y[I]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ss:eu,this.isPropagationStopped=eu,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),i}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ol=Ln(jt),ho=v({},jt,{view:0,detail:0}),pf=Ln(ho),ll,cl,As,mo=v({},ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yo,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==As&&(As&&r.type==="mousemove"?(ll=r.screenX-As.screenX,cl=r.screenY-As.screenY):cl=ll=0,As=r),ll)},movementY:function(r){return"movementY"in r?r.movementY:cl}}),Hr=Ln(mo),gf=v({},mo,{dataTransfer:0}),Dp=Ln(gf),po=v({},ho,{relatedTarget:0}),ul=Ln(po),tu=v({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),dl=Ln(tu),yf=v({},jt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),fl=Ln(yf),Op=v({},jt,{data:0}),nu=Ln(Op),go={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_f={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ru(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=_f[r])?!!i[r]:!1}function yo(){return ru}var bf=v({},ho,{key:function(r){if(r.key){var i=go[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Ts(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?vf[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yo,charCode:function(r){return r.type==="keypress"?Ts(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ts(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),hl=Ln(bf),xf=v({},mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),su=Ln(xf),di=v({},ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yo}),wf=Ln(di),Ef=v({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tf=Ln(Ef),Sf=v({},mo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ml=Ln(Sf),hr=v({},jt,{newState:0,oldState:0}),Af=Ln(hr),Cf=[9,13,27,32],Cs=es&&"CompositionEvent"in window,f=null;es&&"documentMode"in document&&(f=document.documentMode);var _=es&&"TextEvent"in window&&!f,E=es&&(!Cs||f&&8<f&&11>=f),j=" ",W=!1;function ae(r,i){switch(r){case"keyup":return Cf.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var xt=!1;function Rn(r,i){switch(r){case"compositionend":return ve(i);case"keypress":return i.which!==32?null:(W=!0,j);case"textInput":return r=i.data,r===j&&W?null:r;default:return null}}function wt(r,i){if(xt)return r==="compositionend"||!Cs&&ae(r,i)?(r=Jc(),ui=ea=Es=null,xt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return E&&i.locale!=="ko"?null:i.data;default:return null}}var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nn(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Vn[r.type]:i==="textarea"}function fi(r,i,l,u){li?ci?ci.push(u):ci=[u]:li=u,i=hh(i,"onChange"),0<i.length&&(l=new ol("onChange","change",null,l,u),r.push({event:l,listeners:i}))}var $n=null,Rs=null;function iu(r){ow(r,0)}function Rf(r){var i=bs(r);if(Qc(i))return r}function R_(r,i){if(r==="change")return i}var N_=!1;if(es){var jp;if(es){var Mp="oninput"in document;if(!Mp){var I_=document.createElement("div");I_.setAttribute("oninput","return;"),Mp=typeof I_.oninput=="function"}jp=Mp}else jp=!1;N_=jp&&(!document.documentMode||9<document.documentMode)}function k_(){$n&&($n.detachEvent("onpropertychange",D_),Rs=$n=null)}function D_(r){if(r.propertyName==="value"&&Rf(Rs)){var i=[];fi(i,Rs,r,zr(r)),mf(iu,i)}}function bR(r,i,l){r==="focusin"?(k_(),$n=i,Rs=l,$n.attachEvent("onpropertychange",D_)):r==="focusout"&&k_()}function xR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Rf(Rs)}function wR(r,i){if(r==="click")return Rf(i)}function ER(r,i){if(r==="input"||r==="change")return Rf(i)}function TR(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Ar=typeof Object.is=="function"?Object.is:TR;function au(r,i){if(Ar(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Je.call(i,g)||!Ar(r[g],i[g]))return!1}return!0}function O_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function j_(r,i){var l=O_(r);r=0;for(var u;l;){if(l.nodeType===3){if(u=r+l.textContent.length,r<=i&&u>=i)return{node:l,offset:i-r};r=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=O_(l)}}function M_(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?M_(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function P_(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=ao(r.document);i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=ao(r.document)}return i}function Pp(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var SR=es&&"documentMode"in document&&11>=document.documentMode,pl=null,Lp=null,ou=null,Vp=!1;function L_(r,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Vp||pl==null||pl!==ao(u)||(u=pl,"selectionStart"in u&&Pp(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ou&&au(ou,u)||(ou=u,u=hh(Lp,"onSelect"),0<u.length&&(i=new ol("onSelect","select",null,i,l),r.push({event:i,listeners:u}),i.target=pl)))}function vo(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var gl={animationend:vo("Animation","AnimationEnd"),animationiteration:vo("Animation","AnimationIteration"),animationstart:vo("Animation","AnimationStart"),transitionrun:vo("Transition","TransitionRun"),transitionstart:vo("Transition","TransitionStart"),transitioncancel:vo("Transition","TransitionCancel"),transitionend:vo("Transition","TransitionEnd")},Up={},V_={};es&&(V_=document.createElement("div").style,"AnimationEvent"in window||(delete gl.animationend.animation,delete gl.animationiteration.animation,delete gl.animationstart.animation),"TransitionEvent"in window||delete gl.transitionend.transition);function _o(r){if(Up[r])return Up[r];if(!gl[r])return r;var i=gl[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in V_)return Up[r]=i[l];return r}var U_=_o("animationend"),B_=_o("animationiteration"),z_=_o("animationstart"),AR=_o("transitionrun"),CR=_o("transitionstart"),RR=_o("transitioncancel"),F_=_o("transitionend"),H_=new Map,Bp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bp.push("scrollEnd");function ts(r,i){H_.set(r,i),Jr(i,[r])}var q_=new WeakMap;function qr(r,i){if(typeof r=="object"&&r!==null){var l=q_.get(r);return l!==void 0?l:(i={value:r,source:i,stack:sl(i)},q_.set(r,i),i)}return{value:r,source:i,stack:sl(i)}}var $r=[],yl=0,zp=0;function Nf(){for(var r=yl,i=zp=yl=0;i<r;){var l=$r[i];$r[i++]=null;var u=$r[i];$r[i++]=null;var g=$r[i];$r[i++]=null;var y=$r[i];if($r[i++]=null,u!==null&&g!==null){var T=u.pending;T===null?g.next=g:(g.next=T.next,T.next=g),u.pending=g}y!==0&&$_(l,g,y)}}function If(r,i,l,u){$r[yl++]=r,$r[yl++]=i,$r[yl++]=l,$r[yl++]=u,zp|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Fp(r,i,l,u){return If(r,i,l,u),kf(r)}function vl(r,i){return If(r,null,null,i),kf(r)}function $_(r,i,l){r.lanes|=l;var u=r.alternate;u!==null&&(u.lanes|=l);for(var g=!1,y=r.return;y!==null;)y.childLanes|=l,u=y.alternate,u!==null&&(u.childLanes|=l),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(g=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,g&&i!==null&&(g=31-Ve(l),r=y.hiddenUpdates,u=r[g],u===null?r[g]=[i]:u.push(i),i.lane=l|536870912),y):null}function kf(r){if(50<Du)throw Du=0,Kg=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var _l={};function NR(r,i,l,u){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(r,i,l,u){return new NR(r,i,l,u)}function Hp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function hi(r,i){var l=r.alternate;return l===null?(l=Cr(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function G_(r,i){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,i=l.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Df(r,i,l,u,g,y){var T=0;if(u=r,typeof r=="function")Hp(r)&&(T=1);else if(typeof r=="string")T=kN(r,l,_e.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case O:return r=Cr(31,l,i,g),r.elementType=O,r.lanes=y,r;case R:return bo(l.children,g,y,i);case C:T=8,g|=24;break;case N:return r=Cr(12,l,i,g|2),r.elementType=N,r.lanes=y,r;case F:return r=Cr(13,l,i,g),r.elementType=F,r.lanes=y,r;case Z:return r=Cr(19,l,i,g),r.elementType=Z,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:case V:T=10;break e;case L:T=9;break e;case q:T=11;break e;case k:T=14;break e;case A:T=16,u=null;break e}T=29,l=Error(s(130,r===null?"null":typeof r,"")),u=null}return i=Cr(T,l,i,g),i.elementType=r,i.type=u,i.lanes=y,i}function bo(r,i,l,u){return r=Cr(7,r,u,i),r.lanes=l,r}function qp(r,i,l){return r=Cr(6,r,null,i),r.lanes=l,r}function $p(r,i,l){return i=Cr(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var bl=[],xl=0,Of=null,jf=0,Gr=[],Yr=0,xo=null,mi=1,pi="";function wo(r,i){bl[xl++]=jf,bl[xl++]=Of,Of=r,jf=i}function Y_(r,i,l){Gr[Yr++]=mi,Gr[Yr++]=pi,Gr[Yr++]=xo,xo=r;var u=mi;r=pi;var g=32-Ve(u)-1;u&=~(1<<g),l+=1;var y=32-Ve(i)+g;if(30<y){var T=g-g%5;y=(u&(1<<T)-1).toString(32),u>>=T,g-=T,mi=1<<32-Ve(i)+g|l<<g|u,pi=y+r}else mi=1<<y|l<<g|u,pi=r}function Gp(r){r.return!==null&&(wo(r,1),Y_(r,1,0))}function Yp(r){for(;r===Of;)Of=bl[--xl],bl[xl]=null,jf=bl[--xl],bl[xl]=null;for(;r===xo;)xo=Gr[--Yr],Gr[Yr]=null,pi=Gr[--Yr],Gr[Yr]=null,mi=Gr[--Yr],Gr[Yr]=null}var mr=null,cn=null,Dt=!1,Eo=null,Ns=!1,Kp=Error(s(519));function To(r){var i=Error(s(418,""));throw uu(qr(i,r)),Kp}function K_(r){var i=r.stateNode,l=r.type,u=r.memoizedProps;switch(i[Cn]=r,i[bn]=u,l){case"dialog":ft("cancel",i),ft("close",i);break;case"iframe":case"object":case"embed":ft("load",i);break;case"video":case"audio":for(l=0;l<ju.length;l++)ft(ju[l],i);break;case"source":ft("error",i);break;case"img":case"image":case"link":ft("error",i),ft("load",i);break;case"details":ft("toggle",i);break;case"input":ft("invalid",i),oo(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),il(i);break;case"select":ft("invalid",i);break;case"textarea":ft("invalid",i),lo(i,u.value,u.defaultValue,u.children),il(i)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||u.suppressHydrationWarning===!0||dw(i.textContent,l)?(u.popover!=null&&(ft("beforetoggle",i),ft("toggle",i)),u.onScroll!=null&&ft("scroll",i),u.onScrollEnd!=null&&ft("scrollend",i),u.onClick!=null&&(i.onclick=mh),i=!0):i=!1,i||To(r)}function Q_(r){for(mr=r.return;mr;)switch(mr.tag){case 5:case 13:Ns=!1;return;case 27:case 3:Ns=!0;return;default:mr=mr.return}}function lu(r){if(r!==mr)return!1;if(!Dt)return Q_(r),Dt=!0,!1;var i=r.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||uy(r.type,r.memoizedProps)),l=!l),l&&cn&&To(r),Q_(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(i===0){cn=rs(r.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;r=r.nextSibling}cn=null}}else i===27?(i=cn,ga(r.type)?(r=my,my=null,cn=r):cn=i):cn=mr?rs(r.stateNode.nextSibling):null;return!0}function cu(){cn=mr=null,Dt=!1}function Z_(){var r=Eo;return r!==null&&(br===null?br=r:br.push.apply(br,r),Eo=null),r}function uu(r){Eo===null?Eo=[r]:Eo.push(r)}var Qp=ie(null),So=null,gi=null;function ta(r,i,l){oe(Qp,i._currentValue),i._currentValue=l}function yi(r){r._currentValue=Qp.current,he(Qp)}function Zp(r,i,l){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===l)break;r=r.return}}function Wp(r,i,l,u){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var y=g.dependencies;if(y!==null){var T=g.child;y=y.firstContext;e:for(;y!==null;){var I=y;y=g;for(var H=0;H<i.length;H++)if(I.context===i[H]){y.lanes|=l,I=y.alternate,I!==null&&(I.lanes|=l),Zp(y.return,l,r),u||(T=null);break e}y=I.next}}else if(g.tag===18){if(T=g.return,T===null)throw Error(s(341));T.lanes|=l,y=T.alternate,y!==null&&(y.lanes|=l),Zp(T,l,r),T=null}else T=g.child;if(T!==null)T.return=g;else for(T=g;T!==null;){if(T===r){T=null;break}if(g=T.sibling,g!==null){g.return=T.return,T=g;break}T=T.return}g=T}}function du(r,i,l,u){r=null;for(var g=i,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var T=g.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var I=g.type;Ar(g.pendingProps.value,T.value)||(r!==null?r.push(I):r=[I])}}else if(g===ge.current){if(T=g.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(Bu):r=[Bu])}g=g.return}r!==null&&Wp(i,r,l,u),i.flags|=262144}function Mf(r){for(r=r.firstContext;r!==null;){if(!Ar(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ao(r){So=r,gi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function er(r){return W_(So,r)}function Pf(r,i){return So===null&&Ao(r),W_(r,i)}function W_(r,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},gi===null){if(r===null)throw Error(s(308));gi=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else gi=gi.next=i;return l}var IR=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(l,u){r.push(u)}};this.abort=function(){i.aborted=!0,r.forEach(function(l){return l()})}},kR=n.unstable_scheduleCallback,DR=n.unstable_NormalPriority,In={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xp(){return{controller:new IR,data:new Map,refCount:0}}function fu(r){r.refCount--,r.refCount===0&&kR(DR,function(){r.controller.abort()})}var hu=null,Jp=0,wl=0,El=null;function OR(r,i){if(hu===null){var l=hu=[];Jp=0,wl=ty(),El={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Jp++,i.then(X_,X_),i}function X_(){if(--Jp===0&&hu!==null){El!==null&&(El.status="fulfilled");var r=hu;hu=null,wl=0,El=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function jR(r,i){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return r.then(function(){u.status="fulfilled",u.value=i;for(var g=0;g<l.length;g++)(0,l[g])(i)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var J_=$.S;$.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&OR(r,i),J_!==null&&J_(r,i)};var Co=ie(null);function eg(){var r=Co.current;return r!==null?r:Gt.pooledCache}function Lf(r,i){i===null?oe(Co,Co.current):oe(Co,i.pool)}function eb(){var r=eg();return r===null?null:{parent:In._currentValue,pool:r}}var mu=Error(s(460)),tb=Error(s(474)),Vf=Error(s(542)),tg={then:function(){}};function nb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Uf(){}function rb(r,i,l){switch(l=r[l],l===void 0?r.push(i):l!==i&&(i.then(Uf,Uf),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,ib(r),r;default:if(typeof i.status=="string")i.then(Uf,Uf);else{if(r=Gt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(u){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=u}},function(u){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,ib(r),r}throw pu=i,mu}}var pu=null;function sb(){if(pu===null)throw Error(s(459));var r=pu;return pu=null,r}function ib(r){if(r===mu||r===Vf)throw Error(s(483))}var na=!1;function ng(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rg(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ra(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function sa(r,i,l){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Pt&2)!==0){var g=u.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),u.pending=i,i=kf(r),$_(r,null,l),i}return If(r,u,i,l),kf(r)}function gu(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var u=i.lanes;u&=r.pendingLanes,l|=u,i.lanes=l,Vr(r,l)}}function sg(r,i){var l=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?g=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?g=y=i:y=y.next=i}else g=y=i;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}var ig=!1;function yu(){if(ig){var r=El;if(r!==null)throw r}}function vu(r,i,l,u){ig=!1;var g=r.updateQueue;na=!1;var y=g.firstBaseUpdate,T=g.lastBaseUpdate,I=g.shared.pending;if(I!==null){g.shared.pending=null;var H=I,ee=H.next;H.next=null,T===null?y=ee:T.next=ee,T=H;var le=r.alternate;le!==null&&(le=le.updateQueue,I=le.lastBaseUpdate,I!==T&&(I===null?le.firstBaseUpdate=ee:I.next=ee,le.lastBaseUpdate=H))}if(y!==null){var de=g.baseState;T=0,le=ee=H=null,I=y;do{var ne=I.lane&-536870913,re=ne!==I.lane;if(re?(Et&ne)===ne:(u&ne)===ne){ne!==0&&ne===wl&&(ig=!0),le!==null&&(le=le.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Ye=r,ze=I;ne=i;var Ft=l;switch(ze.tag){case 1:if(Ye=ze.payload,typeof Ye=="function"){de=Ye.call(Ft,de,ne);break e}de=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=ze.payload,ne=typeof Ye=="function"?Ye.call(Ft,de,ne):Ye,ne==null)break e;de=v({},de,ne);break e;case 2:na=!0}}ne=I.callback,ne!==null&&(r.flags|=64,re&&(r.flags|=8192),re=g.callbacks,re===null?g.callbacks=[ne]:re.push(ne))}else re={lane:ne,tag:I.tag,payload:I.payload,callback:I.callback,next:null},le===null?(ee=le=re,H=de):le=le.next=re,T|=ne;if(I=I.next,I===null){if(I=g.shared.pending,I===null)break;re=I,I=re.next,re.next=null,g.lastBaseUpdate=re,g.shared.pending=null}}while(!0);le===null&&(H=de),g.baseState=H,g.firstBaseUpdate=ee,g.lastBaseUpdate=le,y===null&&(g.shared.lanes=0),fa|=T,r.lanes=T,r.memoizedState=de}}function ab(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function ob(r,i){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)ab(l[r],i)}var Tl=ie(null),Bf=ie(0);function lb(r,i){r=Ti,oe(Bf,r),oe(Tl,i),Ti=r|i.baseLanes}function ag(){oe(Bf,Ti),oe(Tl,Tl.current)}function og(){Ti=Bf.current,he(Tl),he(Bf)}var ia=0,at=null,Bt=null,wn=null,zf=!1,Sl=!1,Ro=!1,Ff=0,_u=0,Al=null,MR=0;function pn(){throw Error(s(321))}function lg(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!Ar(r[l],i[l]))return!1;return!0}function cg(r,i,l,u,g,y){return ia=y,at=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=r===null||r.memoizedState===null?$b:Gb,Ro=!1,y=l(u,g),Ro=!1,Sl&&(y=ub(i,l,u,g)),cb(r),y}function cb(r){$.H=Kf;var i=Bt!==null&&Bt.next!==null;if(ia=0,wn=Bt=at=null,zf=!1,_u=0,Al=null,i)throw Error(s(300));r===null||Un||(r=r.dependencies,r!==null&&Mf(r)&&(Un=!0))}function ub(r,i,l,u){at=r;var g=0;do{if(Sl&&(Al=null),_u=0,Sl=!1,25<=g)throw Error(s(301));if(g+=1,wn=Bt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}$.H=FR,y=i(l,u)}while(Sl);return y}function PR(){var r=$.H,i=r.useState()[0];return i=typeof i.then=="function"?bu(i):i,r=r.useState()[0],(Bt!==null?Bt.memoizedState:null)!==r&&(at.flags|=1024),i}function ug(){var r=Ff!==0;return Ff=0,r}function dg(r,i,l){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~l}function fg(r){if(zf){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}zf=!1}ia=0,wn=Bt=at=null,Sl=!1,_u=Ff=0,Al=null}function vr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?at.memoizedState=wn=r:wn=wn.next=r,wn}function En(){if(Bt===null){var r=at.alternate;r=r!==null?r.memoizedState:null}else r=Bt.next;var i=wn===null?at.memoizedState:wn.next;if(i!==null)wn=i,Bt=r;else{if(r===null)throw at.alternate===null?Error(s(467)):Error(s(310));Bt=r,r={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},wn===null?at.memoizedState=wn=r:wn=wn.next=r}return wn}function hg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bu(r){var i=_u;return _u+=1,Al===null&&(Al=[]),r=rb(Al,r,i),i=at,(wn===null?i.memoizedState:wn.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?$b:Gb),r}function Hf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return bu(r);if(r.$$typeof===V)return er(r)}throw Error(s(438,String(r)))}function mg(r){var i=null,l=at.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var u=at.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=hg(),at.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(r),u=0;u<r;u++)l[u]=B;return i.index++,l}function vi(r,i){return typeof i=="function"?i(r):i}function qf(r){var i=En();return pg(i,Bt,r)}function pg(r,i,l){var u=r.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=l;var g=r.baseQueue,y=u.pending;if(y!==null){if(g!==null){var T=g.next;g.next=y.next,y.next=T}i.baseQueue=g=y,u.pending=null}if(y=r.baseState,g===null)r.memoizedState=y;else{i=g.next;var I=T=null,H=null,ee=i,le=!1;do{var de=ee.lane&-536870913;if(de!==ee.lane?(Et&de)===de:(ia&de)===de){var ne=ee.revertLane;if(ne===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),de===wl&&(le=!0);else if((ia&ne)===ne){ee=ee.next,ne===wl&&(le=!0);continue}else de={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(I=H=de,T=y):H=H.next=de,at.lanes|=ne,fa|=ne;de=ee.action,Ro&&l(y,de),y=ee.hasEagerState?ee.eagerState:l(y,de)}else ne={lane:de,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(I=H=ne,T=y):H=H.next=ne,at.lanes|=de,fa|=de;ee=ee.next}while(ee!==null&&ee!==i);if(H===null?T=y:H.next=I,!Ar(y,r.memoizedState)&&(Un=!0,le&&(l=El,l!==null)))throw l;r.memoizedState=y,r.baseState=T,r.baseQueue=H,u.lastRenderedState=y}return g===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function gg(r){var i=En(),l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var u=l.dispatch,g=l.pending,y=i.memoizedState;if(g!==null){l.pending=null;var T=g=g.next;do y=r(y,T.action),T=T.next;while(T!==g);Ar(y,i.memoizedState)||(Un=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,u]}function db(r,i,l){var u=at,g=En(),y=Dt;if(y){if(l===void 0)throw Error(s(407));l=l()}else l=i();var T=!Ar((Bt||g).memoizedState,l);T&&(g.memoizedState=l,Un=!0),g=g.queue;var I=mb.bind(null,u,g,r);if(xu(2048,8,I,[r]),g.getSnapshot!==i||T||wn!==null&&wn.memoizedState.tag&1){if(u.flags|=2048,Cl(9,$f(),hb.bind(null,u,g,l,i),null),Gt===null)throw Error(s(349));y||(ia&124)!==0||fb(u,i,l)}return l}function fb(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=at.updateQueue,i===null?(i=hg(),at.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function hb(r,i,l,u){i.value=l,i.getSnapshot=u,pb(i)&&gb(r)}function mb(r,i,l){return l(function(){pb(i)&&gb(r)})}function pb(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!Ar(r,l)}catch{return!0}}function gb(r){var i=vl(r,2);i!==null&&Dr(i,r,2)}function yg(r){var i=vr();if(typeof r=="function"){var l=r;if(r=l(),Ro){ye(!0);try{l()}finally{ye(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:r},i}function yb(r,i,l,u){return r.baseState=l,pg(r,Bt,typeof u=="function"?u:vi)}function LR(r,i,l,u,g){if(Yf(r))throw Error(s(485));if(r=i.action,r!==null){var y={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};$.T!==null?l(!0):y.isTransition=!1,u(y),l=i.pending,l===null?(y.next=i.pending=y,vb(i,y)):(y.next=l.next,i.pending=l.next=y)}}function vb(r,i){var l=i.action,u=i.payload,g=r.state;if(i.isTransition){var y=$.T,T={};$.T=T;try{var I=l(g,u),H=$.S;H!==null&&H(T,I),_b(r,i,I)}catch(ee){vg(r,i,ee)}finally{$.T=y}}else try{y=l(g,u),_b(r,i,y)}catch(ee){vg(r,i,ee)}}function _b(r,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){bb(r,i,u)},function(u){return vg(r,i,u)}):bb(r,i,l)}function bb(r,i,l){i.status="fulfilled",i.value=l,xb(i),r.state=l,i=r.pending,i!==null&&(l=i.next,l===i?r.pending=null:(l=l.next,i.next=l,vb(r,l)))}function vg(r,i,l){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=l,xb(i),i=i.next;while(i!==u)}r.action=null}function xb(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function wb(r,i){return i}function Eb(r,i){if(Dt){var l=Gt.formState;if(l!==null){e:{var u=at;if(Dt){if(cn){t:{for(var g=cn,y=Ns;g.nodeType!==8;){if(!y){g=null;break t}if(g=rs(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){cn=rs(g.nextSibling),u=g.data==="F!";break e}}To(u)}u=!1}u&&(i=l[0])}}return l=vr(),l.memoizedState=l.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wb,lastRenderedState:i},l.queue=u,l=Fb.bind(null,at,u),u.dispatch=l,u=yg(!1),y=Eg.bind(null,at,!1,u.queue),u=vr(),g={state:i,dispatch:null,action:r,pending:null},u.queue=g,l=LR.bind(null,at,g,y,l),g.dispatch=l,u.memoizedState=r,[i,l,!1]}function Tb(r){var i=En();return Sb(i,Bt,r)}function Sb(r,i,l){if(i=pg(r,i,wb)[0],r=qf(vi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=bu(i)}catch(T){throw T===mu?Vf:T}else u=i;i=En();var g=i.queue,y=g.dispatch;return l!==i.memoizedState&&(at.flags|=2048,Cl(9,$f(),VR.bind(null,g,l),null)),[u,y,r]}function VR(r,i){r.action=i}function Ab(r){var i=En(),l=Bt;if(l!==null)return Sb(i,l,r);En(),i=i.memoizedState,l=En();var u=l.queue.dispatch;return l.memoizedState=r,[i,u,!1]}function Cl(r,i,l,u){return r={tag:r,create:l,deps:u,inst:i,next:null},i=at.updateQueue,i===null&&(i=hg(),at.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=r.next=r:(u=l.next,l.next=r,r.next=u,i.lastEffect=r),r}function $f(){return{destroy:void 0,resource:void 0}}function Cb(){return En().memoizedState}function Gf(r,i,l,u){var g=vr();u=u===void 0?null:u,at.flags|=r,g.memoizedState=Cl(1|i,$f(),l,u)}function xu(r,i,l,u){var g=En();u=u===void 0?null:u;var y=g.memoizedState.inst;Bt!==null&&u!==null&&lg(u,Bt.memoizedState.deps)?g.memoizedState=Cl(i,y,l,u):(at.flags|=r,g.memoizedState=Cl(1|i,y,l,u))}function Rb(r,i){Gf(8390656,8,r,i)}function Nb(r,i){xu(2048,8,r,i)}function Ib(r,i){return xu(4,2,r,i)}function kb(r,i){return xu(4,4,r,i)}function Db(r,i){if(typeof i=="function"){r=r();var l=i(r);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Ob(r,i,l){l=l!=null?l.concat([r]):null,xu(4,4,Db.bind(null,i,r),l)}function _g(){}function jb(r,i){var l=En();i=i===void 0?null:i;var u=l.memoizedState;return i!==null&&lg(i,u[1])?u[0]:(l.memoizedState=[r,i],r)}function Mb(r,i){var l=En();i=i===void 0?null:i;var u=l.memoizedState;if(i!==null&&lg(i,u[1]))return u[0];if(u=r(),Ro){ye(!0);try{r()}finally{ye(!1)}}return l.memoizedState=[u,i],u}function bg(r,i,l){return l===void 0||(ia&1073741824)!==0?r.memoizedState=i:(r.memoizedState=l,r=Vx(),at.lanes|=r,fa|=r,l)}function Pb(r,i,l,u){return Ar(l,i)?l:Tl.current!==null?(r=bg(r,l,u),Ar(r,i)||(Un=!0),r):(ia&42)===0?(Un=!0,r.memoizedState=l):(r=Vx(),at.lanes|=r,fa|=r,i)}function Lb(r,i,l,u,g){var y=X.p;X.p=y!==0&&8>y?y:8;var T=$.T,I={};$.T=I,Eg(r,!1,i,l);try{var H=g(),ee=$.S;if(ee!==null&&ee(I,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var le=jR(H,u);wu(r,i,le,kr(r))}else wu(r,i,u,kr(r))}catch(de){wu(r,i,{then:function(){},status:"rejected",reason:de},kr())}finally{X.p=y,$.T=T}}function UR(){}function xg(r,i,l,u){if(r.tag!==5)throw Error(s(476));var g=Vb(r).queue;Lb(r,g,i,K,l===null?UR:function(){return Ub(r),l(u)})}function Vb(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:K},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:l},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function Ub(r){var i=Vb(r).next.queue;wu(r,i,{},kr())}function wg(){return er(Bu)}function Bb(){return En().memoizedState}function zb(){return En().memoizedState}function BR(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var l=kr();r=ra(l);var u=sa(i,r,l);u!==null&&(Dr(u,i,l),gu(u,i,l)),i={cache:Xp()},r.payload=i;return}i=i.return}}function zR(r,i,l){var u=kr();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Yf(r)?Hb(i,l):(l=Fp(r,i,l,u),l!==null&&(Dr(l,r,u),qb(l,i,u)))}function Fb(r,i,l){var u=kr();wu(r,i,l,u)}function wu(r,i,l,u){var g={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Yf(r))Hb(i,g);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var T=i.lastRenderedState,I=y(T,l);if(g.hasEagerState=!0,g.eagerState=I,Ar(I,T))return If(r,i,g,0),Gt===null&&Nf(),!1}catch{}finally{}if(l=Fp(r,i,g,u),l!==null)return Dr(l,r,u),qb(l,i,u),!0}return!1}function Eg(r,i,l,u){if(u={lane:2,revertLane:ty(),action:u,hasEagerState:!1,eagerState:null,next:null},Yf(r)){if(i)throw Error(s(479))}else i=Fp(r,l,u,2),i!==null&&Dr(i,r,2)}function Yf(r){var i=r.alternate;return r===at||i!==null&&i===at}function Hb(r,i){Sl=zf=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function qb(r,i,l){if((l&4194048)!==0){var u=i.lanes;u&=r.pendingLanes,l|=u,i.lanes=l,Vr(r,l)}}var Kf={readContext:er,use:Hf,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useLayoutEffect:pn,useInsertionEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useSyncExternalStore:pn,useId:pn,useHostTransitionStatus:pn,useFormState:pn,useActionState:pn,useOptimistic:pn,useMemoCache:pn,useCacheRefresh:pn},$b={readContext:er,use:Hf,useCallback:function(r,i){return vr().memoizedState=[r,i===void 0?null:i],r},useContext:er,useEffect:Rb,useImperativeHandle:function(r,i,l){l=l!=null?l.concat([r]):null,Gf(4194308,4,Db.bind(null,i,r),l)},useLayoutEffect:function(r,i){return Gf(4194308,4,r,i)},useInsertionEffect:function(r,i){Gf(4,2,r,i)},useMemo:function(r,i){var l=vr();i=i===void 0?null:i;var u=r();if(Ro){ye(!0);try{r()}finally{ye(!1)}}return l.memoizedState=[u,i],u},useReducer:function(r,i,l){var u=vr();if(l!==void 0){var g=l(i);if(Ro){ye(!0);try{l(i)}finally{ye(!1)}}}else g=i;return u.memoizedState=u.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},u.queue=r,r=r.dispatch=zR.bind(null,at,r),[u.memoizedState,r]},useRef:function(r){var i=vr();return r={current:r},i.memoizedState=r},useState:function(r){r=yg(r);var i=r.queue,l=Fb.bind(null,at,i);return i.dispatch=l,[r.memoizedState,l]},useDebugValue:_g,useDeferredValue:function(r,i){var l=vr();return bg(l,r,i)},useTransition:function(){var r=yg(!1);return r=Lb.bind(null,at,r.queue,!0,!1),vr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,l){var u=at,g=vr();if(Dt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=i(),Gt===null)throw Error(s(349));(Et&124)!==0||fb(u,i,l)}g.memoizedState=l;var y={value:l,getSnapshot:i};return g.queue=y,Rb(mb.bind(null,u,y,r),[r]),u.flags|=2048,Cl(9,$f(),hb.bind(null,u,y,l,i),null),l},useId:function(){var r=vr(),i=Gt.identifierPrefix;if(Dt){var l=pi,u=mi;l=(u&~(1<<32-Ve(u)-1)).toString(32)+l,i="«"+i+"R"+l,l=Ff++,0<l&&(i+="H"+l.toString(32)),i+="»"}else l=MR++,i="«"+i+"r"+l.toString(32)+"»";return r.memoizedState=i},useHostTransitionStatus:wg,useFormState:Eb,useActionState:Eb,useOptimistic:function(r){var i=vr();i.memoizedState=i.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Eg.bind(null,at,!0,l),l.dispatch=i,[r,i]},useMemoCache:mg,useCacheRefresh:function(){return vr().memoizedState=BR.bind(null,at)}},Gb={readContext:er,use:Hf,useCallback:jb,useContext:er,useEffect:Nb,useImperativeHandle:Ob,useInsertionEffect:Ib,useLayoutEffect:kb,useMemo:Mb,useReducer:qf,useRef:Cb,useState:function(){return qf(vi)},useDebugValue:_g,useDeferredValue:function(r,i){var l=En();return Pb(l,Bt.memoizedState,r,i)},useTransition:function(){var r=qf(vi)[0],i=En().memoizedState;return[typeof r=="boolean"?r:bu(r),i]},useSyncExternalStore:db,useId:Bb,useHostTransitionStatus:wg,useFormState:Tb,useActionState:Tb,useOptimistic:function(r,i){var l=En();return yb(l,Bt,r,i)},useMemoCache:mg,useCacheRefresh:zb},FR={readContext:er,use:Hf,useCallback:jb,useContext:er,useEffect:Nb,useImperativeHandle:Ob,useInsertionEffect:Ib,useLayoutEffect:kb,useMemo:Mb,useReducer:gg,useRef:Cb,useState:function(){return gg(vi)},useDebugValue:_g,useDeferredValue:function(r,i){var l=En();return Bt===null?bg(l,r,i):Pb(l,Bt.memoizedState,r,i)},useTransition:function(){var r=gg(vi)[0],i=En().memoizedState;return[typeof r=="boolean"?r:bu(r),i]},useSyncExternalStore:db,useId:Bb,useHostTransitionStatus:wg,useFormState:Ab,useActionState:Ab,useOptimistic:function(r,i){var l=En();return Bt!==null?yb(l,Bt,r,i):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:mg,useCacheRefresh:zb},Rl=null,Eu=0;function Qf(r){var i=Eu;return Eu+=1,Rl===null&&(Rl=[]),rb(Rl,r,i)}function Tu(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Zf(r,i){throw i.$$typeof===b?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function Yb(r){var i=r._init;return i(r._payload)}function Kb(r){function i(Q,Y){if(r){var J=Q.deletions;J===null?(Q.deletions=[Y],Q.flags|=16):J.push(Y)}}function l(Q,Y){if(!r)return null;for(;Y!==null;)i(Q,Y),Y=Y.sibling;return null}function u(Q){for(var Y=new Map;Q!==null;)Q.key!==null?Y.set(Q.key,Q):Y.set(Q.index,Q),Q=Q.sibling;return Y}function g(Q,Y){return Q=hi(Q,Y),Q.index=0,Q.sibling=null,Q}function y(Q,Y,J){return Q.index=J,r?(J=Q.alternate,J!==null?(J=J.index,J<Y?(Q.flags|=67108866,Y):J):(Q.flags|=67108866,Y)):(Q.flags|=1048576,Y)}function T(Q){return r&&Q.alternate===null&&(Q.flags|=67108866),Q}function I(Q,Y,J,ce){return Y===null||Y.tag!==6?(Y=qp(J,Q.mode,ce),Y.return=Q,Y):(Y=g(Y,J),Y.return=Q,Y)}function H(Q,Y,J,ce){var Ie=J.type;return Ie===R?le(Q,Y,J.props.children,ce,J.key):Y!==null&&(Y.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===A&&Yb(Ie)===Y.type)?(Y=g(Y,J.props),Tu(Y,J),Y.return=Q,Y):(Y=Df(J.type,J.key,J.props,null,Q.mode,ce),Tu(Y,J),Y.return=Q,Y)}function ee(Q,Y,J,ce){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==J.containerInfo||Y.stateNode.implementation!==J.implementation?(Y=$p(J,Q.mode,ce),Y.return=Q,Y):(Y=g(Y,J.children||[]),Y.return=Q,Y)}function le(Q,Y,J,ce,Ie){return Y===null||Y.tag!==7?(Y=bo(J,Q.mode,ce,Ie),Y.return=Q,Y):(Y=g(Y,J),Y.return=Q,Y)}function de(Q,Y,J){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=qp(""+Y,Q.mode,J),Y.return=Q,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case x:return J=Df(Y.type,Y.key,Y.props,null,Q.mode,J),Tu(J,Y),J.return=Q,J;case S:return Y=$p(Y,Q.mode,J),Y.return=Q,Y;case A:var ce=Y._init;return Y=ce(Y._payload),de(Q,Y,J)}if(te(Y)||U(Y))return Y=bo(Y,Q.mode,J,null),Y.return=Q,Y;if(typeof Y.then=="function")return de(Q,Qf(Y),J);if(Y.$$typeof===V)return de(Q,Pf(Q,Y),J);Zf(Q,Y)}return null}function ne(Q,Y,J,ce){var Ie=Y!==null?Y.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ie!==null?null:I(Q,Y,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case x:return J.key===Ie?H(Q,Y,J,ce):null;case S:return J.key===Ie?ee(Q,Y,J,ce):null;case A:return Ie=J._init,J=Ie(J._payload),ne(Q,Y,J,ce)}if(te(J)||U(J))return Ie!==null?null:le(Q,Y,J,ce,null);if(typeof J.then=="function")return ne(Q,Y,Qf(J),ce);if(J.$$typeof===V)return ne(Q,Y,Pf(Q,J),ce);Zf(Q,J)}return null}function re(Q,Y,J,ce,Ie){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Q=Q.get(J)||null,I(Y,Q,""+ce,Ie);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case x:return Q=Q.get(ce.key===null?J:ce.key)||null,H(Y,Q,ce,Ie);case S:return Q=Q.get(ce.key===null?J:ce.key)||null,ee(Y,Q,ce,Ie);case A:var ut=ce._init;return ce=ut(ce._payload),re(Q,Y,J,ce,Ie)}if(te(ce)||U(ce))return Q=Q.get(J)||null,le(Y,Q,ce,Ie,null);if(typeof ce.then=="function")return re(Q,Y,J,Qf(ce),Ie);if(ce.$$typeof===V)return re(Q,Y,J,Pf(Y,ce),Ie);Zf(Y,ce)}return null}function Ye(Q,Y,J,ce){for(var Ie=null,ut=null,Pe=Y,He=Y=0,zn=null;Pe!==null&&He<J.length;He++){Pe.index>He?(zn=Pe,Pe=null):zn=Pe.sibling;var kt=ne(Q,Pe,J[He],ce);if(kt===null){Pe===null&&(Pe=zn);break}r&&Pe&&kt.alternate===null&&i(Q,Pe),Y=y(kt,Y,He),ut===null?Ie=kt:ut.sibling=kt,ut=kt,Pe=zn}if(He===J.length)return l(Q,Pe),Dt&&wo(Q,He),Ie;if(Pe===null){for(;He<J.length;He++)Pe=de(Q,J[He],ce),Pe!==null&&(Y=y(Pe,Y,He),ut===null?Ie=Pe:ut.sibling=Pe,ut=Pe);return Dt&&wo(Q,He),Ie}for(Pe=u(Pe);He<J.length;He++)zn=re(Pe,Q,He,J[He],ce),zn!==null&&(r&&zn.alternate!==null&&Pe.delete(zn.key===null?He:zn.key),Y=y(zn,Y,He),ut===null?Ie=zn:ut.sibling=zn,ut=zn);return r&&Pe.forEach(function(xa){return i(Q,xa)}),Dt&&wo(Q,He),Ie}function ze(Q,Y,J,ce){if(J==null)throw Error(s(151));for(var Ie=null,ut=null,Pe=Y,He=Y=0,zn=null,kt=J.next();Pe!==null&&!kt.done;He++,kt=J.next()){Pe.index>He?(zn=Pe,Pe=null):zn=Pe.sibling;var xa=ne(Q,Pe,kt.value,ce);if(xa===null){Pe===null&&(Pe=zn);break}r&&Pe&&xa.alternate===null&&i(Q,Pe),Y=y(xa,Y,He),ut===null?Ie=xa:ut.sibling=xa,ut=xa,Pe=zn}if(kt.done)return l(Q,Pe),Dt&&wo(Q,He),Ie;if(Pe===null){for(;!kt.done;He++,kt=J.next())kt=de(Q,kt.value,ce),kt!==null&&(Y=y(kt,Y,He),ut===null?Ie=kt:ut.sibling=kt,ut=kt);return Dt&&wo(Q,He),Ie}for(Pe=u(Pe);!kt.done;He++,kt=J.next())kt=re(Pe,Q,He,kt.value,ce),kt!==null&&(r&&kt.alternate!==null&&Pe.delete(kt.key===null?He:kt.key),Y=y(kt,Y,He),ut===null?Ie=kt:ut.sibling=kt,ut=kt);return r&&Pe.forEach(function(HN){return i(Q,HN)}),Dt&&wo(Q,He),Ie}function Ft(Q,Y,J,ce){if(typeof J=="object"&&J!==null&&J.type===R&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case x:e:{for(var Ie=J.key;Y!==null;){if(Y.key===Ie){if(Ie=J.type,Ie===R){if(Y.tag===7){l(Q,Y.sibling),ce=g(Y,J.props.children),ce.return=Q,Q=ce;break e}}else if(Y.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===A&&Yb(Ie)===Y.type){l(Q,Y.sibling),ce=g(Y,J.props),Tu(ce,J),ce.return=Q,Q=ce;break e}l(Q,Y);break}else i(Q,Y);Y=Y.sibling}J.type===R?(ce=bo(J.props.children,Q.mode,ce,J.key),ce.return=Q,Q=ce):(ce=Df(J.type,J.key,J.props,null,Q.mode,ce),Tu(ce,J),ce.return=Q,Q=ce)}return T(Q);case S:e:{for(Ie=J.key;Y!==null;){if(Y.key===Ie)if(Y.tag===4&&Y.stateNode.containerInfo===J.containerInfo&&Y.stateNode.implementation===J.implementation){l(Q,Y.sibling),ce=g(Y,J.children||[]),ce.return=Q,Q=ce;break e}else{l(Q,Y);break}else i(Q,Y);Y=Y.sibling}ce=$p(J,Q.mode,ce),ce.return=Q,Q=ce}return T(Q);case A:return Ie=J._init,J=Ie(J._payload),Ft(Q,Y,J,ce)}if(te(J))return Ye(Q,Y,J,ce);if(U(J)){if(Ie=U(J),typeof Ie!="function")throw Error(s(150));return J=Ie.call(J),ze(Q,Y,J,ce)}if(typeof J.then=="function")return Ft(Q,Y,Qf(J),ce);if(J.$$typeof===V)return Ft(Q,Y,Pf(Q,J),ce);Zf(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,Y!==null&&Y.tag===6?(l(Q,Y.sibling),ce=g(Y,J),ce.return=Q,Q=ce):(l(Q,Y),ce=qp(J,Q.mode,ce),ce.return=Q,Q=ce),T(Q)):l(Q,Y)}return function(Q,Y,J,ce){try{Eu=0;var Ie=Ft(Q,Y,J,ce);return Rl=null,Ie}catch(Pe){if(Pe===mu||Pe===Vf)throw Pe;var ut=Cr(29,Pe,null,Q.mode);return ut.lanes=ce,ut.return=Q,ut}finally{}}}var Nl=Kb(!0),Qb=Kb(!1),Kr=ie(null),Is=null;function aa(r){var i=r.alternate;oe(kn,kn.current&1),oe(Kr,r),Is===null&&(i===null||Tl.current!==null||i.memoizedState!==null)&&(Is=r)}function Zb(r){if(r.tag===22){if(oe(kn,kn.current),oe(Kr,r),Is===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(Is=r)}}else oa()}function oa(){oe(kn,kn.current),oe(Kr,Kr.current)}function _i(r){he(Kr),Is===r&&(Is=null),he(kn)}var kn=ie(0);function Wf(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||hy(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Tg(r,i,l,u){i=r.memoizedState,l=l(u,i),l=l==null?i:v({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Sg={enqueueSetState:function(r,i,l){r=r._reactInternals;var u=kr(),g=ra(u);g.payload=i,l!=null&&(g.callback=l),i=sa(r,g,u),i!==null&&(Dr(i,r,u),gu(i,r,u))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var u=kr(),g=ra(u);g.tag=1,g.payload=i,l!=null&&(g.callback=l),i=sa(r,g,u),i!==null&&(Dr(i,r,u),gu(i,r,u))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=kr(),u=ra(l);u.tag=2,i!=null&&(u.callback=i),i=sa(r,u,l),i!==null&&(Dr(i,r,l),gu(i,r,l))}};function Wb(r,i,l,u,g,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,y,T):i.prototype&&i.prototype.isPureReactComponent?!au(l,u)||!au(g,y):!0}function Xb(r,i,l,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==r&&Sg.enqueueReplaceState(i,i.state,null)}function No(r,i){var l=i;if("ref"in i){l={};for(var u in i)u!=="ref"&&(l[u]=i[u])}if(r=r.defaultProps){l===i&&(l=v({},l));for(var g in r)l[g]===void 0&&(l[g]=r[g])}return l}var Xf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Jb(r){Xf(r)}function ex(r){console.error(r)}function tx(r){Xf(r)}function Jf(r,i){try{var l=r.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function nx(r,i,l){try{var u=r.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Ag(r,i,l){return l=ra(l),l.tag=3,l.payload={element:null},l.callback=function(){Jf(r,i)},l}function rx(r){return r=ra(r),r.tag=3,r}function sx(r,i,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var y=u.value;r.payload=function(){return g(y)},r.callback=function(){nx(i,l,u)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){nx(i,l,u),typeof g!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var I=u.stack;this.componentDidCatch(u.value,{componentStack:I!==null?I:""})})}function HR(r,i,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=l.alternate,i!==null&&du(i,l,g,!0),l=Kr.current,l!==null){switch(l.tag){case 13:return Is===null?Zg():l.alternate===null&&un===0&&(un=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===tg?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([u]):i.add(u),Xg(r,u,g)),!1;case 22:return l.flags|=65536,u===tg?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([u]):l.add(u)),Xg(r,u,g)),!1}throw Error(s(435,l.tag))}return Xg(r,u,g),Zg(),!1}if(Dt)return i=Kr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,u!==Kp&&(r=Error(s(422),{cause:u}),uu(qr(r,l)))):(u!==Kp&&(i=Error(s(423),{cause:u}),uu(qr(i,l))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,u=qr(u,l),g=Ag(r.stateNode,u,g),sg(r,g),un!==4&&(un=2)),!1;var y=Error(s(520),{cause:u});if(y=qr(y,l),ku===null?ku=[y]:ku.push(y),un!==4&&(un=2),i===null)return!0;u=qr(u,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,r=g&-g,l.lanes|=r,r=Ag(l.stateNode,u,r),sg(l,r),!1;case 1:if(i=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ha===null||!ha.has(y))))return l.flags|=65536,g&=-g,l.lanes|=g,g=rx(g),sx(g,r,l,u),sg(l,g),!1}l=l.return}while(l!==null);return!1}var ix=Error(s(461)),Un=!1;function Gn(r,i,l,u){i.child=r===null?Qb(i,null,l,u):Nl(i,r.child,l,u)}function ax(r,i,l,u,g){l=l.render;var y=i.ref;if("ref"in u){var T={};for(var I in u)I!=="ref"&&(T[I]=u[I])}else T=u;return Ao(i),u=cg(r,i,l,T,y,g),I=ug(),r!==null&&!Un?(dg(r,i,g),bi(r,i,g)):(Dt&&I&&Gp(i),i.flags|=1,Gn(r,i,u,g),i.child)}function ox(r,i,l,u,g){if(r===null){var y=l.type;return typeof y=="function"&&!Hp(y)&&y.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=y,lx(r,i,y,u,g)):(r=Df(l.type,null,u,i,i.mode,g),r.ref=i.ref,r.return=i,i.child=r)}if(y=r.child,!jg(r,g)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:au,l(T,u)&&r.ref===i.ref)return bi(r,i,g)}return i.flags|=1,r=hi(y,u),r.ref=i.ref,r.return=i,i.child=r}function lx(r,i,l,u,g){if(r!==null){var y=r.memoizedProps;if(au(y,u)&&r.ref===i.ref)if(Un=!1,i.pendingProps=u=y,jg(r,g))(r.flags&131072)!==0&&(Un=!0);else return i.lanes=r.lanes,bi(r,i,g)}return Cg(r,i,l,u,g)}function cx(r,i,l){var u=i.pendingProps,g=u.children,y=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=y!==null?y.baseLanes|l:l,r!==null){for(g=i.child=r.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;i.childLanes=y&~u}else i.childLanes=0,i.child=null;return ux(r,i,u,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Lf(i,y!==null?y.cachePool:null),y!==null?lb(i,y):ag(),Zb(i);else return i.lanes=i.childLanes=536870912,ux(r,i,y!==null?y.baseLanes|l:l,l)}else y!==null?(Lf(i,y.cachePool),lb(i,y),oa(),i.memoizedState=null):(r!==null&&Lf(i,null),ag(),oa());return Gn(r,i,g,l),i.child}function ux(r,i,l,u){var g=eg();return g=g===null?null:{parent:In._currentValue,pool:g},i.memoizedState={baseLanes:l,cachePool:g},r!==null&&Lf(i,null),ag(),Zb(i),r!==null&&du(r,i,u,!0),null}function eh(r,i){var l=i.ref;if(l===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(r===null||r.ref!==l)&&(i.flags|=4194816)}}function Cg(r,i,l,u,g){return Ao(i),l=cg(r,i,l,u,void 0,g),u=ug(),r!==null&&!Un?(dg(r,i,g),bi(r,i,g)):(Dt&&u&&Gp(i),i.flags|=1,Gn(r,i,l,g),i.child)}function dx(r,i,l,u,g,y){return Ao(i),i.updateQueue=null,l=ub(i,u,l,g),cb(r),u=ug(),r!==null&&!Un?(dg(r,i,y),bi(r,i,y)):(Dt&&u&&Gp(i),i.flags|=1,Gn(r,i,l,y),i.child)}function fx(r,i,l,u,g){if(Ao(i),i.stateNode===null){var y=_l,T=l.contextType;typeof T=="object"&&T!==null&&(y=er(T)),y=new l(u,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Sg,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=u,y.state=i.memoizedState,y.refs={},ng(i),T=l.contextType,y.context=typeof T=="object"&&T!==null?er(T):_l,y.state=i.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Tg(i,l,T,u),y.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&Sg.enqueueReplaceState(y,y.state,null),vu(i,u,y,g),yu(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(r===null){y=i.stateNode;var I=i.memoizedProps,H=No(l,I);y.props=H;var ee=y.context,le=l.contextType;T=_l,typeof le=="object"&&le!==null&&(T=er(le));var de=l.getDerivedStateFromProps;le=typeof de=="function"||typeof y.getSnapshotBeforeUpdate=="function",I=i.pendingProps!==I,le||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(I||ee!==T)&&Xb(i,y,u,T),na=!1;var ne=i.memoizedState;y.state=ne,vu(i,u,y,g),yu(),ee=i.memoizedState,I||ne!==ee||na?(typeof de=="function"&&(Tg(i,l,de,u),ee=i.memoizedState),(H=na||Wb(i,l,H,u,ne,ee,T))?(le||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=ee),y.props=u,y.state=ee,y.context=T,u=H):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{y=i.stateNode,rg(r,i),T=i.memoizedProps,le=No(l,T),y.props=le,de=i.pendingProps,ne=y.context,ee=l.contextType,H=_l,typeof ee=="object"&&ee!==null&&(H=er(ee)),I=l.getDerivedStateFromProps,(ee=typeof I=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==de||ne!==H)&&Xb(i,y,u,H),na=!1,ne=i.memoizedState,y.state=ne,vu(i,u,y,g),yu();var re=i.memoizedState;T!==de||ne!==re||na||r!==null&&r.dependencies!==null&&Mf(r.dependencies)?(typeof I=="function"&&(Tg(i,l,I,u),re=i.memoizedState),(le=na||Wb(i,l,le,u,ne,re,H)||r!==null&&r.dependencies!==null&&Mf(r.dependencies))?(ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,re,H),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,re,H)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&ne===r.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&ne===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=re),y.props=u,y.state=re,y.context=H,u=le):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&ne===r.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&ne===r.memoizedState||(i.flags|=1024),u=!1)}return y=u,eh(r,i),u=(i.flags&128)!==0,y||u?(y=i.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,r!==null&&u?(i.child=Nl(i,r.child,null,g),i.child=Nl(i,null,l,g)):Gn(r,i,l,g),i.memoizedState=y.state,r=i.child):r=bi(r,i,g),r}function hx(r,i,l,u){return cu(),i.flags|=256,Gn(r,i,l,u),i.child}var Rg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ng(r){return{baseLanes:r,cachePool:eb()}}function Ig(r,i,l){return r=r!==null?r.childLanes&~l:0,i&&(r|=Qr),r}function mx(r,i,l){var u=i.pendingProps,g=!1,y=(i.flags&128)!==0,T;if((T=y)||(T=r!==null&&r.memoizedState===null?!1:(kn.current&2)!==0),T&&(g=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,r===null){if(Dt){if(g?aa(i):oa(),Dt){var I=cn,H;if(H=I){e:{for(H=I,I=Ns;H.nodeType!==8;){if(!I){I=null;break e}if(H=rs(H.nextSibling),H===null){I=null;break e}}I=H}I!==null?(i.memoizedState={dehydrated:I,treeContext:xo!==null?{id:mi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},H=Cr(18,null,null,0),H.stateNode=I,H.return=i,i.child=H,mr=i,cn=null,H=!0):H=!1}H||To(i)}if(I=i.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return hy(I)?i.lanes=32:i.lanes=536870912,null;_i(i)}return I=u.children,u=u.fallback,g?(oa(),g=i.mode,I=th({mode:"hidden",children:I},g),u=bo(u,g,l,null),I.return=i,u.return=i,I.sibling=u,i.child=I,g=i.child,g.memoizedState=Ng(l),g.childLanes=Ig(r,T,l),i.memoizedState=Rg,u):(aa(i),kg(i,I))}if(H=r.memoizedState,H!==null&&(I=H.dehydrated,I!==null)){if(y)i.flags&256?(aa(i),i.flags&=-257,i=Dg(r,i,l)):i.memoizedState!==null?(oa(),i.child=r.child,i.flags|=128,i=null):(oa(),g=u.fallback,I=i.mode,u=th({mode:"visible",children:u.children},I),g=bo(g,I,l,null),g.flags|=2,u.return=i,g.return=i,u.sibling=g,i.child=u,Nl(i,r.child,null,l),u=i.child,u.memoizedState=Ng(l),u.childLanes=Ig(r,T,l),i.memoizedState=Rg,i=g);else if(aa(i),hy(I)){if(T=I.nextSibling&&I.nextSibling.dataset,T)var ee=T.dgst;T=ee,u=Error(s(419)),u.stack="",u.digest=T,uu({value:u,source:null,stack:null}),i=Dg(r,i,l)}else if(Un||du(r,i,l,!1),T=(l&r.childLanes)!==0,Un||T){if(T=Gt,T!==null&&(u=l&-l,u=(u&42)!==0?1:Tr(u),u=(u&(T.suspendedLanes|l))!==0?0:u,u!==0&&u!==H.retryLane))throw H.retryLane=u,vl(r,u),Dr(T,r,u),ix;I.data==="$?"||Zg(),i=Dg(r,i,l)}else I.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=H.treeContext,cn=rs(I.nextSibling),mr=i,Dt=!0,Eo=null,Ns=!1,r!==null&&(Gr[Yr++]=mi,Gr[Yr++]=pi,Gr[Yr++]=xo,mi=r.id,pi=r.overflow,xo=i),i=kg(i,u.children),i.flags|=4096);return i}return g?(oa(),g=u.fallback,I=i.mode,H=r.child,ee=H.sibling,u=hi(H,{mode:"hidden",children:u.children}),u.subtreeFlags=H.subtreeFlags&65011712,ee!==null?g=hi(ee,g):(g=bo(g,I,l,null),g.flags|=2),g.return=i,u.return=i,u.sibling=g,i.child=u,u=g,g=i.child,I=r.child.memoizedState,I===null?I=Ng(l):(H=I.cachePool,H!==null?(ee=In._currentValue,H=H.parent!==ee?{parent:ee,pool:ee}:H):H=eb(),I={baseLanes:I.baseLanes|l,cachePool:H}),g.memoizedState=I,g.childLanes=Ig(r,T,l),i.memoizedState=Rg,u):(aa(i),l=r.child,r=l.sibling,l=hi(l,{mode:"visible",children:u.children}),l.return=i,l.sibling=null,r!==null&&(T=i.deletions,T===null?(i.deletions=[r],i.flags|=16):T.push(r)),i.child=l,i.memoizedState=null,l)}function kg(r,i){return i=th({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function th(r,i){return r=Cr(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Dg(r,i,l){return Nl(i,r.child,null,l),r=kg(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function px(r,i,l){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),Zp(r.return,i,l)}function Og(r,i,l,u,g){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=l,y.tailMode=g)}function gx(r,i,l){var u=i.pendingProps,g=u.revealOrder,y=u.tail;if(Gn(r,i,u.children,l),u=kn.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&px(r,l,i);else if(r.tag===19)px(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(oe(kn,u),g){case"forwards":for(l=i.child,g=null;l!==null;)r=l.alternate,r!==null&&Wf(r)===null&&(g=l),l=l.sibling;l=g,l===null?(g=i.child,i.child=null):(g=l.sibling,l.sibling=null),Og(i,!1,g,l,y);break;case"backwards":for(l=null,g=i.child,i.child=null;g!==null;){if(r=g.alternate,r!==null&&Wf(r)===null){i.child=g;break}r=g.sibling,g.sibling=l,l=g,g=r}Og(i,!0,l,null,y);break;case"together":Og(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function bi(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),fa|=i.lanes,(l&i.childLanes)===0)if(r!==null){if(du(r,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,l=hi(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=hi(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function jg(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Mf(r)))}function qR(r,i,l){switch(i.tag){case 3:Me(i,i.stateNode.containerInfo),ta(i,In,r.memoizedState.cache),cu();break;case 27:case 5:Qe(i);break;case 4:Me(i,i.stateNode.containerInfo);break;case 10:ta(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(aa(i),i.flags|=128,null):(l&i.child.childLanes)!==0?mx(r,i,l):(aa(i),r=bi(r,i,l),r!==null?r.sibling:null);aa(i);break;case 19:var g=(r.flags&128)!==0;if(u=(l&i.childLanes)!==0,u||(du(r,i,l,!1),u=(l&i.childLanes)!==0),g){if(u)return gx(r,i,l);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),oe(kn,kn.current),u)break;return null;case 22:case 23:return i.lanes=0,cx(r,i,l);case 24:ta(i,In,r.memoizedState.cache)}return bi(r,i,l)}function yx(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps)Un=!0;else{if(!jg(r,l)&&(i.flags&128)===0)return Un=!1,qR(r,i,l);Un=(r.flags&131072)!==0}else Un=!1,Dt&&(i.flags&1048576)!==0&&Y_(i,jf,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var u=i.elementType,g=u._init;if(u=g(u._payload),i.type=u,typeof u=="function")Hp(u)?(r=No(u,r),i.tag=1,i=fx(null,i,u,r,l)):(i.tag=0,i=Cg(null,i,u,r,l));else{if(u!=null){if(g=u.$$typeof,g===q){i.tag=11,i=ax(null,i,u,r,l);break e}else if(g===k){i.tag=14,i=ox(null,i,u,r,l);break e}}throw i=G(u)||u,Error(s(306,i,""))}}return i;case 0:return Cg(r,i,i.type,i.pendingProps,l);case 1:return u=i.type,g=No(u,i.pendingProps),fx(r,i,u,g,l);case 3:e:{if(Me(i,i.stateNode.containerInfo),r===null)throw Error(s(387));u=i.pendingProps;var y=i.memoizedState;g=y.element,rg(r,i),vu(i,u,null,l);var T=i.memoizedState;if(u=T.cache,ta(i,In,u),u!==y.cache&&Wp(i,[In],l,!0),yu(),u=T.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=hx(r,i,u,l);break e}else if(u!==g){g=qr(Error(s(424)),i),uu(g),i=hx(r,i,u,l);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(cn=rs(r.firstChild),mr=i,Dt=!0,Eo=null,Ns=!0,l=Qb(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(cu(),u===g){i=bi(r,i,l);break e}Gn(r,i,u,l)}i=i.child}return i;case 26:return eh(r,i),r===null?(l=xw(i.type,null,i.pendingProps,null))?i.memoizedState=l:Dt||(l=i.type,r=i.pendingProps,u=ph(Ce.current).createElement(l),u[Cn]=i,u[bn]=r,Kn(u,l,r),mn(u),i.stateNode=u):i.memoizedState=xw(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Qe(i),r===null&&Dt&&(u=i.stateNode=vw(i.type,i.pendingProps,Ce.current),mr=i,Ns=!0,g=cn,ga(i.type)?(my=g,cn=rs(u.firstChild)):cn=g),Gn(r,i,i.pendingProps.children,l),eh(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Dt&&((g=u=cn)&&(u=vN(u,i.type,i.pendingProps,Ns),u!==null?(i.stateNode=u,mr=i,cn=rs(u.firstChild),Ns=!1,g=!0):g=!1),g||To(i)),Qe(i),g=i.type,y=i.pendingProps,T=r!==null?r.memoizedProps:null,u=y.children,uy(g,y)?u=null:T!==null&&uy(g,T)&&(i.flags|=32),i.memoizedState!==null&&(g=cg(r,i,PR,null,null,l),Bu._currentValue=g),eh(r,i),Gn(r,i,u,l),i.child;case 6:return r===null&&Dt&&((r=l=cn)&&(l=_N(l,i.pendingProps,Ns),l!==null?(i.stateNode=l,mr=i,cn=null,r=!0):r=!1),r||To(i)),null;case 13:return mx(r,i,l);case 4:return Me(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=Nl(i,null,u,l):Gn(r,i,u,l),i.child;case 11:return ax(r,i,i.type,i.pendingProps,l);case 7:return Gn(r,i,i.pendingProps,l),i.child;case 8:return Gn(r,i,i.pendingProps.children,l),i.child;case 12:return Gn(r,i,i.pendingProps.children,l),i.child;case 10:return u=i.pendingProps,ta(i,i.type,u.value),Gn(r,i,u.children,l),i.child;case 9:return g=i.type._context,u=i.pendingProps.children,Ao(i),g=er(g),u=u(g),i.flags|=1,Gn(r,i,u,l),i.child;case 14:return ox(r,i,i.type,i.pendingProps,l);case 15:return lx(r,i,i.type,i.pendingProps,l);case 19:return gx(r,i,l);case 31:return u=i.pendingProps,l=i.mode,u={mode:u.mode,children:u.children},r===null?(l=th(u,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=hi(r.child,u),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return cx(r,i,l);case 24:return Ao(i),u=er(In),r===null?(g=eg(),g===null&&(g=Gt,y=Xp(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=l),g=y),i.memoizedState={parent:u,cache:g},ng(i),ta(i,In,g)):((r.lanes&l)!==0&&(rg(r,i),vu(i,null,null,l),yu()),g=r.memoizedState,y=i.memoizedState,g.parent!==u?(g={parent:u,cache:u},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),ta(i,In,u)):(u=y.cache,ta(i,In,u),u!==g.cache&&Wp(i,[In],l,!0))),Gn(r,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function xi(r){r.flags|=4}function vx(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Aw(i)){if(i=Kr.current,i!==null&&((Et&4194048)===Et?Is!==null:(Et&62914560)!==Et&&(Et&536870912)===0||i!==Is))throw pu=tg,tb;r.flags|=8192}}function nh(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Ht():536870912,r.lanes|=i,Ol|=i)}function Su(r,i){if(!Dt)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function nn(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,u=0;if(i)for(var g=r.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=u,r.childLanes=l,i}function $R(r,i,l){var u=i.pendingProps;switch(Yp(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(i),null;case 1:return nn(i),null;case 3:return l=i.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),yi(In),ht(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(lu(i)?xi(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Z_())),nn(i),null;case 26:return l=i.memoizedState,r===null?(xi(i),l!==null?(nn(i),vx(i,l)):(nn(i),i.flags&=-16777217)):l?l!==r.memoizedState?(xi(i),nn(i),vx(i,l)):(nn(i),i.flags&=-16777217):(r.memoizedProps!==u&&xi(i),nn(i),i.flags&=-16777217),null;case 27:Ze(i),l=Ce.current;var g=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==u&&xi(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return nn(i),null}r=_e.current,lu(i)?K_(i):(r=vw(g,u,l),i.stateNode=r,xi(i))}return nn(i),null;case 5:if(Ze(i),l=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&xi(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return nn(i),null}if(r=_e.current,lu(i))K_(i);else{switch(g=ph(Ce.current),r){case 1:r=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?g.createElement("select",{is:u.is}):g.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?g.createElement(l,{is:u.is}):g.createElement(l)}}r[Cn]=i,r[bn]=u;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)r.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=r;e:switch(Kn(r,l,u),l){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&xi(i)}}return nn(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==u&&xi(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(r=Ce.current,lu(i)){if(r=i.stateNode,l=i.memoizedProps,u=null,g=mr,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}r[Cn]=i,r=!!(r.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||dw(r.nodeValue,l)),r||To(i)}else r=ph(r).createTextNode(u),r[Cn]=i,i.stateNode=r}return nn(i),null;case 13:if(u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=lu(i),u!==null&&u.dehydrated!==null){if(r===null){if(!g)throw Error(s(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[Cn]=i}else cu(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nn(i),g=!1}else g=Z_(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(_i(i),i):(_i(i),null)}if(_i(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=u!==null,r=r!==null&&r.memoizedState!==null,l){u=i.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==g&&(u.flags|=2048)}return l!==r&&l&&(i.child.flags|=8192),nh(i,i.updateQueue),nn(i),null;case 4:return ht(),r===null&&iy(i.stateNode.containerInfo),nn(i),null;case 10:return yi(i.type),nn(i),null;case 19:if(he(kn),g=i.memoizedState,g===null)return nn(i),null;if(u=(i.flags&128)!==0,y=g.rendering,y===null)if(u)Su(g,!1);else{if(un!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(y=Wf(r),y!==null){for(i.flags|=128,Su(g,!1),r=y.updateQueue,i.updateQueue=r,nh(i,r),i.subtreeFlags=0,r=l,l=i.child;l!==null;)G_(l,r),l=l.sibling;return oe(kn,kn.current&1|2),i.child}r=r.sibling}g.tail!==null&&We()>ih&&(i.flags|=128,u=!0,Su(g,!1),i.lanes=4194304)}else{if(!u)if(r=Wf(y),r!==null){if(i.flags|=128,u=!0,r=r.updateQueue,i.updateQueue=r,nh(i,r),Su(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!Dt)return nn(i),null}else 2*We()-g.renderingStartTime>ih&&l!==536870912&&(i.flags|=128,u=!0,Su(g,!1),i.lanes=4194304);g.isBackwards?(y.sibling=i.child,i.child=y):(r=g.last,r!==null?r.sibling=y:i.child=y,g.last=y)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=We(),i.sibling=null,r=kn.current,oe(kn,u?r&1|2:r&1),i):(nn(i),null);case 22:case 23:return _i(i),og(),u=i.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(l&536870912)!==0&&(i.flags&128)===0&&(nn(i),i.subtreeFlags&6&&(i.flags|=8192)):nn(i),l=i.updateQueue,l!==null&&nh(i,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==l&&(i.flags|=2048),r!==null&&he(Co),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),yi(In),nn(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function GR(r,i){switch(Yp(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return yi(In),ht(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Ze(i),null;case 13:if(_i(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));cu()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return he(kn),null;case 4:return ht(),null;case 10:return yi(i.type),null;case 22:case 23:return _i(i),og(),r!==null&&he(Co),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return yi(In),null;case 25:return null;default:return null}}function _x(r,i){switch(Yp(i),i.tag){case 3:yi(In),ht();break;case 26:case 27:case 5:Ze(i);break;case 4:ht();break;case 13:_i(i);break;case 19:he(kn);break;case 10:yi(i.type);break;case 22:case 23:_i(i),og(),r!==null&&he(Co);break;case 24:yi(In)}}function Au(r,i){try{var l=i.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&r)===r){u=void 0;var y=l.create,T=l.inst;u=y(),T.destroy=u}l=l.next}while(l!==g)}}catch(I){qt(i,i.return,I)}}function la(r,i,l){try{var u=i.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var y=g.next;u=y;do{if((u.tag&r)===r){var T=u.inst,I=T.destroy;if(I!==void 0){T.destroy=void 0,g=i;var H=l,ee=I;try{ee()}catch(le){qt(g,H,le)}}}u=u.next}while(u!==y)}}catch(le){qt(i,i.return,le)}}function bx(r){var i=r.updateQueue;if(i!==null){var l=r.stateNode;try{ob(i,l)}catch(u){qt(r,r.return,u)}}}function xx(r,i,l){l.props=No(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(u){qt(r,i,u)}}function Cu(r,i){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof l=="function"?r.refCleanup=l(u):l.current=u}}catch(g){qt(r,i,g)}}function ks(r,i){var l=r.ref,u=r.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){qt(r,i,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){qt(r,i,g)}else l.current=null}function wx(r){var i=r.type,l=r.memoizedProps,u=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){qt(r,r.return,g)}}function Mg(r,i,l){try{var u=r.stateNode;hN(u,r.type,l,i),u[bn]=i}catch(g){qt(r,r.return,g)}}function Ex(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ga(r.type)||r.tag===4}function Pg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Ex(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ga(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Lg(r,i,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(r),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=mh));else if(u!==4&&(u===27&&ga(r.type)&&(l=r.stateNode,i=null),r=r.child,r!==null))for(Lg(r,i,l),r=r.sibling;r!==null;)Lg(r,i,l),r=r.sibling}function rh(r,i,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(u!==4&&(u===27&&ga(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(rh(r,i,l),r=r.sibling;r!==null;)rh(r,i,l),r=r.sibling}function Tx(r){var i=r.stateNode,l=r.memoizedProps;try{for(var u=r.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);Kn(i,u,l),i[Cn]=r,i[bn]=l}catch(y){qt(r,r.return,y)}}var wi=!1,gn=!1,Vg=!1,Sx=typeof WeakSet=="function"?WeakSet:Set,Bn=null;function YR(r,i){if(r=r.containerInfo,ly=xh,r=P_(r),Pp(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,I=-1,H=-1,ee=0,le=0,de=r,ne=null;t:for(;;){for(var re;de!==l||g!==0&&de.nodeType!==3||(I=T+g),de!==y||u!==0&&de.nodeType!==3||(H=T+u),de.nodeType===3&&(T+=de.nodeValue.length),(re=de.firstChild)!==null;)ne=de,de=re;for(;;){if(de===r)break t;if(ne===l&&++ee===g&&(I=T),ne===y&&++le===u&&(H=T),(re=de.nextSibling)!==null)break;de=ne,ne=de.parentNode}de=re}l=I===-1||H===-1?null:{start:I,end:H}}else l=null}l=l||{start:0,end:0}}else l=null;for(cy={focusedElem:r,selectionRange:l},xh=!1,Bn=i;Bn!==null;)if(i=Bn,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,Bn=r;else for(;Bn!==null;){switch(i=Bn,y=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,l=i,g=y.memoizedProps,y=y.memoizedState,u=l.stateNode;try{var Ye=No(l.type,g,l.elementType===l.type);r=u.getSnapshotBeforeUpdate(Ye,y),u.__reactInternalSnapshotBeforeUpdate=r}catch(ze){qt(l,l.return,ze)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,l=r.nodeType,l===9)fy(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":fy(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,Bn=r;break}Bn=i.return}}function Ax(r,i,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:ca(r,l),u&4&&Au(5,l);break;case 1:if(ca(r,l),u&4)if(r=l.stateNode,i===null)try{r.componentDidMount()}catch(T){qt(l,l.return,T)}else{var g=No(l.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(g,i,r.__reactInternalSnapshotBeforeUpdate)}catch(T){qt(l,l.return,T)}}u&64&&bx(l),u&512&&Cu(l,l.return);break;case 3:if(ca(r,l),u&64&&(r=l.updateQueue,r!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{ob(r,i)}catch(T){qt(l,l.return,T)}}break;case 27:i===null&&u&4&&Tx(l);case 26:case 5:ca(r,l),i===null&&u&4&&wx(l),u&512&&Cu(l,l.return);break;case 12:ca(r,l);break;case 13:ca(r,l),u&4&&Nx(r,l),u&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=nN.bind(null,l),bN(r,l))));break;case 22:if(u=l.memoizedState!==null||wi,!u){i=i!==null&&i.memoizedState!==null||gn,g=wi;var y=gn;wi=u,(gn=i)&&!y?ua(r,l,(l.subtreeFlags&8772)!==0):ca(r,l),wi=g,gn=y}break;case 30:break;default:ca(r,l)}}function Cx(r){var i=r.alternate;i!==null&&(r.alternate=null,Cx(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Wi(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Wt=null,_r=!1;function Ei(r,i,l){for(l=l.child;l!==null;)Rx(r,i,l),l=l.sibling}function Rx(r,i,l){if(xe&&typeof xe.onCommitFiberUnmount=="function")try{xe.onCommitFiberUnmount(be,l)}catch{}switch(l.tag){case 26:gn||ks(l,i),Ei(r,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:gn||ks(l,i);var u=Wt,g=_r;ga(l.type)&&(Wt=l.stateNode,_r=!1),Ei(r,i,l),Pu(l.stateNode),Wt=u,_r=g;break;case 5:gn||ks(l,i);case 6:if(u=Wt,g=_r,Wt=null,Ei(r,i,l),Wt=u,_r=g,Wt!==null)if(_r)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(l.stateNode)}catch(y){qt(l,i,y)}else try{Wt.removeChild(l.stateNode)}catch(y){qt(l,i,y)}break;case 18:Wt!==null&&(_r?(r=Wt,gw(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),qu(r)):gw(Wt,l.stateNode));break;case 4:u=Wt,g=_r,Wt=l.stateNode.containerInfo,_r=!0,Ei(r,i,l),Wt=u,_r=g;break;case 0:case 11:case 14:case 15:gn||la(2,l,i),gn||la(4,l,i),Ei(r,i,l);break;case 1:gn||(ks(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"&&xx(l,i,u)),Ei(r,i,l);break;case 21:Ei(r,i,l);break;case 22:gn=(u=gn)||l.memoizedState!==null,Ei(r,i,l),gn=u;break;default:Ei(r,i,l)}}function Nx(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{qu(r)}catch(l){qt(i,i.return,l)}}function KR(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new Sx),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new Sx),i;default:throw Error(s(435,r.tag))}}function Ug(r,i){var l=KR(r);i.forEach(function(u){var g=rN.bind(null,r,u);l.has(u)||(l.add(u),u.then(g,g))})}function Rr(r,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],y=r,T=i,I=T;e:for(;I!==null;){switch(I.tag){case 27:if(ga(I.type)){Wt=I.stateNode,_r=!1;break e}break;case 5:Wt=I.stateNode,_r=!1;break e;case 3:case 4:Wt=I.stateNode.containerInfo,_r=!0;break e}I=I.return}if(Wt===null)throw Error(s(160));Rx(y,T,g),Wt=null,_r=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ix(i,r),i=i.sibling}var ns=null;function Ix(r,i){var l=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Rr(i,r),Nr(r),u&4&&(la(3,r,r.return),Au(3,r),la(5,r,r.return));break;case 1:Rr(i,r),Nr(r),u&512&&(gn||l===null||ks(l,l.return)),u&64&&wi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=ns;if(Rr(i,r),Nr(r),u&512&&(gn||l===null||ks(l,l.return)),u&4){var y=l!==null?l.memoizedState:null;if(u=r.memoizedState,l===null)if(u===null)if(r.stateNode===null){e:{u=r.type,l=r.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":y=g.getElementsByTagName("title")[0],(!y||y[ro]||y[Cn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(u),g.head.insertBefore(y,g.querySelector("head > title"))),Kn(y,u,l),y[Cn]=r,mn(y),u=y;break e;case"link":var T=Tw("link","href",g).get(u+(l.href||""));if(T){for(var I=0;I<T.length;I++)if(y=T[I],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(I,1);break t}}y=g.createElement(u),Kn(y,u,l),g.head.appendChild(y);break;case"meta":if(T=Tw("meta","content",g).get(u+(l.content||""))){for(I=0;I<T.length;I++)if(y=T[I],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(I,1);break t}}y=g.createElement(u),Kn(y,u,l),g.head.appendChild(y);break;default:throw Error(s(468,u))}y[Cn]=r,mn(y),u=y}r.stateNode=u}else Sw(g,r.type,r.stateNode);else r.stateNode=Ew(g,u,r.memoizedProps);else y!==u?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,u===null?Sw(g,r.type,r.stateNode):Ew(g,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Mg(r,r.memoizedProps,l.memoizedProps)}break;case 27:Rr(i,r),Nr(r),u&512&&(gn||l===null||ks(l,l.return)),l!==null&&u&4&&Mg(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Rr(i,r),Nr(r),u&512&&(gn||l===null||ks(l,l.return)),r.flags&32){g=r.stateNode;try{Br(g,"")}catch(re){qt(r,r.return,re)}}u&4&&r.stateNode!=null&&(g=r.memoizedProps,Mg(r,g,l!==null?l.memoizedProps:g)),u&1024&&(Vg=!0);break;case 6:if(Rr(i,r),Nr(r),u&4){if(r.stateNode===null)throw Error(s(162));u=r.memoizedProps,l=r.stateNode;try{l.nodeValue=u}catch(re){qt(r,r.return,re)}}break;case 3:if(vh=null,g=ns,ns=gh(i.containerInfo),Rr(i,r),ns=g,Nr(r),u&4&&l!==null&&l.memoizedState.isDehydrated)try{qu(i.containerInfo)}catch(re){qt(r,r.return,re)}Vg&&(Vg=!1,kx(r));break;case 4:u=ns,ns=gh(r.stateNode.containerInfo),Rr(i,r),Nr(r),ns=u;break;case 12:Rr(i,r),Nr(r);break;case 13:Rr(i,r),Nr(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&($g=We()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Ug(r,u)));break;case 22:g=r.memoizedState!==null;var H=l!==null&&l.memoizedState!==null,ee=wi,le=gn;if(wi=ee||g,gn=le||H,Rr(i,r),gn=le,wi=ee,Nr(r),u&8192)e:for(i=r.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(l===null||H||wi||gn||Io(r)),l=null,i=r;;){if(i.tag===5||i.tag===26){if(l===null){H=l=i;try{if(y=H.stateNode,g)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{I=H.stateNode;var de=H.memoizedProps.style,ne=de!=null&&de.hasOwnProperty("display")?de.display:null;I.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(re){qt(H,H.return,re)}}}else if(i.tag===6){if(l===null){H=i;try{H.stateNode.nodeValue=g?"":H.memoizedProps}catch(re){qt(H,H.return,re)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=r.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Ug(r,l))));break;case 19:Rr(i,r),Nr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Ug(r,u)));break;case 30:break;case 21:break;default:Rr(i,r),Nr(r)}}function Nr(r){var i=r.flags;if(i&2){try{for(var l,u=r.return;u!==null;){if(Ex(u)){l=u;break}u=u.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var g=l.stateNode,y=Pg(r);rh(r,y,g);break;case 5:var T=l.stateNode;l.flags&32&&(Br(T,""),l.flags&=-33);var I=Pg(r);rh(r,I,T);break;case 3:case 4:var H=l.stateNode.containerInfo,ee=Pg(r);Lg(r,ee,H);break;default:throw Error(s(161))}}catch(le){qt(r,r.return,le)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function kx(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;kx(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function ca(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ax(r,i.alternate,i),i=i.sibling}function Io(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:la(4,i,i.return),Io(i);break;case 1:ks(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&xx(i,i.return,l),Io(i);break;case 27:Pu(i.stateNode);case 26:case 5:ks(i,i.return),Io(i);break;case 22:i.memoizedState===null&&Io(i);break;case 30:Io(i);break;default:Io(i)}r=r.sibling}}function ua(r,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,g=r,y=i,T=y.flags;switch(y.tag){case 0:case 11:case 15:ua(g,y,l),Au(4,y);break;case 1:if(ua(g,y,l),u=y,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ee){qt(u,u.return,ee)}if(u=y,g=u.updateQueue,g!==null){var I=u.stateNode;try{var H=g.shared.hiddenCallbacks;if(H!==null)for(g.shared.hiddenCallbacks=null,g=0;g<H.length;g++)ab(H[g],I)}catch(ee){qt(u,u.return,ee)}}l&&T&64&&bx(y),Cu(y,y.return);break;case 27:Tx(y);case 26:case 5:ua(g,y,l),l&&u===null&&T&4&&wx(y),Cu(y,y.return);break;case 12:ua(g,y,l);break;case 13:ua(g,y,l),l&&T&4&&Nx(g,y);break;case 22:y.memoizedState===null&&ua(g,y,l),Cu(y,y.return);break;case 30:break;default:ua(g,y,l)}i=i.sibling}}function Bg(r,i){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&fu(l))}function zg(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&fu(r))}function Ds(r,i,l,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Dx(r,i,l,u),i=i.sibling}function Dx(r,i,l,u){var g=i.flags;switch(i.tag){case 0:case 11:case 15:Ds(r,i,l,u),g&2048&&Au(9,i);break;case 1:Ds(r,i,l,u);break;case 3:Ds(r,i,l,u),g&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&fu(r)));break;case 12:if(g&2048){Ds(r,i,l,u),r=i.stateNode;try{var y=i.memoizedProps,T=y.id,I=y.onPostCommit;typeof I=="function"&&I(T,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(H){qt(i,i.return,H)}}else Ds(r,i,l,u);break;case 13:Ds(r,i,l,u);break;case 23:break;case 22:y=i.stateNode,T=i.alternate,i.memoizedState!==null?y._visibility&2?Ds(r,i,l,u):Ru(r,i):y._visibility&2?Ds(r,i,l,u):(y._visibility|=2,Il(r,i,l,u,(i.subtreeFlags&10256)!==0)),g&2048&&Bg(T,i);break;case 24:Ds(r,i,l,u),g&2048&&zg(i.alternate,i);break;default:Ds(r,i,l,u)}}function Il(r,i,l,u,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var y=r,T=i,I=l,H=u,ee=T.flags;switch(T.tag){case 0:case 11:case 15:Il(y,T,I,H,g),Au(8,T);break;case 23:break;case 22:var le=T.stateNode;T.memoizedState!==null?le._visibility&2?Il(y,T,I,H,g):Ru(y,T):(le._visibility|=2,Il(y,T,I,H,g)),g&&ee&2048&&Bg(T.alternate,T);break;case 24:Il(y,T,I,H,g),g&&ee&2048&&zg(T.alternate,T);break;default:Il(y,T,I,H,g)}i=i.sibling}}function Ru(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=r,u=i,g=u.flags;switch(u.tag){case 22:Ru(l,u),g&2048&&Bg(u.alternate,u);break;case 24:Ru(l,u),g&2048&&zg(u.alternate,u);break;default:Ru(l,u)}i=i.sibling}}var Nu=8192;function kl(r){if(r.subtreeFlags&Nu)for(r=r.child;r!==null;)Ox(r),r=r.sibling}function Ox(r){switch(r.tag){case 26:kl(r),r.flags&Nu&&r.memoizedState!==null&&ON(ns,r.memoizedState,r.memoizedProps);break;case 5:kl(r);break;case 3:case 4:var i=ns;ns=gh(r.stateNode.containerInfo),kl(r),ns=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=Nu,Nu=16777216,kl(r),Nu=i):kl(r));break;default:kl(r)}}function jx(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Iu(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];Bn=u,Px(u,r)}jx(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Mx(r),r=r.sibling}function Mx(r){switch(r.tag){case 0:case 11:case 15:Iu(r),r.flags&2048&&la(9,r,r.return);break;case 3:Iu(r);break;case 12:Iu(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,sh(r)):Iu(r);break;default:Iu(r)}}function sh(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];Bn=u,Px(u,r)}jx(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:la(8,i,i.return),sh(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,sh(i));break;default:sh(i)}r=r.sibling}}function Px(r,i){for(;Bn!==null;){var l=Bn;switch(l.tag){case 0:case 11:case 15:la(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:fu(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Bn=u;else e:for(l=r;Bn!==null;){u=Bn;var g=u.sibling,y=u.return;if(Cx(u),u===l){Bn=null;break e}if(g!==null){g.return=y,Bn=g;break e}Bn=y}}}var QR={getCacheForType:function(r){var i=er(In),l=i.data.get(r);return l===void 0&&(l=r(),i.data.set(r,l)),l}},ZR=typeof WeakMap=="function"?WeakMap:Map,Pt=0,Gt=null,dt=null,Et=0,Lt=0,Ir=null,da=!1,Dl=!1,Fg=!1,Ti=0,un=0,fa=0,ko=0,Hg=0,Qr=0,Ol=0,ku=null,br=null,qg=!1,$g=0,ih=1/0,ah=null,ha=null,Yn=0,ma=null,jl=null,Ml=0,Gg=0,Yg=null,Lx=null,Du=0,Kg=null;function kr(){if((Pt&2)!==0&&Et!==0)return Et&-Et;if($.T!==null){var r=wl;return r!==0?r:ty()}return Qi()}function Vx(){Qr===0&&(Qr=(Et&536870912)===0||Dt?_n():536870912);var r=Kr.current;return r!==null&&(r.flags|=32),Qr}function Dr(r,i,l){(r===Gt&&(Lt===2||Lt===9)||r.cancelPendingCommit!==null)&&(Pl(r,0),pa(r,Et,Qr,!1)),ur(r,l),((Pt&2)===0||r!==Gt)&&(r===Gt&&((Pt&2)===0&&(ko|=l),un===4&&pa(r,Et,Qr,!1)),Os(r))}function Ux(r,i,l){if((Pt&6)!==0)throw Error(s(327));var u=!l&&(i&124)===0&&(i&r.expiredLanes)===0||hn(r,i),g=u?JR(r,i):Wg(r,i,!0),y=u;do{if(g===0){Dl&&!u&&pa(r,i,0,!1);break}else{if(l=r.current.alternate,y&&!WR(l)){g=Wg(r,i,!1),y=!1;continue}if(g===2){if(y=i,r.errorRecoveryDisabledLanes&y)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var I=r;g=ku;var H=I.current.memoizedState.isDehydrated;if(H&&(Pl(I,T).flags|=256),T=Wg(I,T,!1),T!==2){if(Fg&&!H){I.errorRecoveryDisabledLanes|=y,ko|=y,g=4;break e}y=br,br=g,y!==null&&(br===null?br=y:br.push.apply(br,y))}g=T}if(y=!1,g!==2)continue}}if(g===1){Pl(r,0),pa(r,i,0,!0);break}e:{switch(u=r,y=g,y){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:pa(u,i,Qr,!da);break e;case 2:br=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(g=$g+300-We(),10<g)){if(pa(u,i,Qr,!da),Ot(u,0,!0)!==0)break e;u.timeoutHandle=mw(Bx.bind(null,u,l,br,ah,qg,i,Qr,ko,Ol,da,y,2,-0,0),g);break e}Bx(u,l,br,ah,qg,i,Qr,ko,Ol,da,y,0,-0,0)}}break}while(!0);Os(r)}function Bx(r,i,l,u,g,y,T,I,H,ee,le,de,ne,re){if(r.timeoutHandle=-1,de=i.subtreeFlags,(de&8192||(de&16785408)===16785408)&&(Uu={stylesheets:null,count:0,unsuspend:DN},Ox(i),de=jN(),de!==null)){r.cancelPendingCommit=de(Yx.bind(null,r,i,y,l,u,g,T,I,H,le,1,ne,re)),pa(r,y,T,!ee);return}Yx(r,i,y,l,u,g,T,I,H)}function WR(r){for(var i=r;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],y=g.getSnapshot;g=g.value;try{if(!Ar(y(),g))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function pa(r,i,l,u){i&=~Hg,i&=~ko,r.suspendedLanes|=i,r.pingedLanes&=~i,u&&(r.warmLanes|=i),u=r.expirationTimes;for(var g=i;0<g;){var y=31-Ve(g),T=1<<y;u[y]=-1,g&=~T}l!==0&&Pn(r,l,i)}function oh(){return(Pt&6)===0?(Ou(0),!1):!0}function Qg(){if(dt!==null){if(Lt===0)var r=dt.return;else r=dt,gi=So=null,fg(r),Rl=null,Eu=0,r=dt;for(;r!==null;)_x(r.alternate,r),r=r.return;dt=null}}function Pl(r,i){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,pN(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Qg(),Gt=r,dt=l=hi(r.current,null),Et=i,Lt=0,Ir=null,da=!1,Dl=hn(r,i),Fg=!1,Ol=Qr=Hg=ko=fa=un=0,br=ku=null,qg=!1,(i&8)!==0&&(i|=i&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=i;0<u;){var g=31-Ve(u),y=1<<g;i|=r[g],u&=~y}return Ti=i,Nf(),l}function zx(r,i){at=null,$.H=Kf,i===mu||i===Vf?(i=sb(),Lt=3):i===tb?(i=sb(),Lt=4):Lt=i===ix?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ir=i,dt===null&&(un=1,Jf(r,qr(i,r.current)))}function Fx(){var r=$.H;return $.H=Kf,r===null?Kf:r}function Hx(){var r=$.A;return $.A=QR,r}function Zg(){un=4,da||(Et&4194048)!==Et&&Kr.current!==null||(Dl=!0),(fa&134217727)===0&&(ko&134217727)===0||Gt===null||pa(Gt,Et,Qr,!1)}function Wg(r,i,l){var u=Pt;Pt|=2;var g=Fx(),y=Hx();(Gt!==r||Et!==i)&&(ah=null,Pl(r,i)),i=!1;var T=un;e:do try{if(Lt!==0&&dt!==null){var I=dt,H=Ir;switch(Lt){case 8:Qg(),T=6;break e;case 3:case 2:case 9:case 6:Kr.current===null&&(i=!0);var ee=Lt;if(Lt=0,Ir=null,Ll(r,I,H,ee),l&&Dl){T=0;break e}break;default:ee=Lt,Lt=0,Ir=null,Ll(r,I,H,ee)}}XR(),T=un;break}catch(le){zx(r,le)}while(!0);return i&&r.shellSuspendCounter++,gi=So=null,Pt=u,$.H=g,$.A=y,dt===null&&(Gt=null,Et=0,Nf()),T}function XR(){for(;dt!==null;)qx(dt)}function JR(r,i){var l=Pt;Pt|=2;var u=Fx(),g=Hx();Gt!==r||Et!==i?(ah=null,ih=We()+500,Pl(r,i)):Dl=hn(r,i);e:do try{if(Lt!==0&&dt!==null){i=dt;var y=Ir;t:switch(Lt){case 1:Lt=0,Ir=null,Ll(r,i,y,1);break;case 2:case 9:if(nb(y)){Lt=0,Ir=null,$x(i);break}i=function(){Lt!==2&&Lt!==9||Gt!==r||(Lt=7),Os(r)},y.then(i,i);break e;case 3:Lt=7;break e;case 4:Lt=5;break e;case 7:nb(y)?(Lt=0,Ir=null,$x(i)):(Lt=0,Ir=null,Ll(r,i,y,7));break;case 5:var T=null;switch(dt.tag){case 26:T=dt.memoizedState;case 5:case 27:var I=dt;if(!T||Aw(T)){Lt=0,Ir=null;var H=I.sibling;if(H!==null)dt=H;else{var ee=I.return;ee!==null?(dt=ee,lh(ee)):dt=null}break t}}Lt=0,Ir=null,Ll(r,i,y,5);break;case 6:Lt=0,Ir=null,Ll(r,i,y,6);break;case 8:Qg(),un=6;break e;default:throw Error(s(462))}}eN();break}catch(le){zx(r,le)}while(!0);return gi=So=null,$.H=u,$.A=g,Pt=l,dt!==null?0:(Gt=null,Et=0,Nf(),un)}function eN(){for(;dt!==null&&!Re();)qx(dt)}function qx(r){var i=yx(r.alternate,r,Ti);r.memoizedProps=r.pendingProps,i===null?lh(r):dt=i}function $x(r){var i=r,l=i.alternate;switch(i.tag){case 15:case 0:i=dx(l,i,i.pendingProps,i.type,void 0,Et);break;case 11:i=dx(l,i,i.pendingProps,i.type.render,i.ref,Et);break;case 5:fg(i);default:_x(l,i),i=dt=G_(i,Ti),i=yx(l,i,Ti)}r.memoizedProps=r.pendingProps,i===null?lh(r):dt=i}function Ll(r,i,l,u){gi=So=null,fg(i),Rl=null,Eu=0;var g=i.return;try{if(HR(r,g,i,l,Et)){un=1,Jf(r,qr(l,r.current)),dt=null;return}}catch(y){if(g!==null)throw dt=g,y;un=1,Jf(r,qr(l,r.current)),dt=null;return}i.flags&32768?(Dt||u===1?r=!0:Dl||(Et&536870912)!==0?r=!1:(da=r=!0,(u===2||u===9||u===3||u===6)&&(u=Kr.current,u!==null&&u.tag===13&&(u.flags|=16384))),Gx(i,r)):lh(i)}function lh(r){var i=r;do{if((i.flags&32768)!==0){Gx(i,da);return}r=i.return;var l=$R(i.alternate,i,Ti);if(l!==null){dt=l;return}if(i=i.sibling,i!==null){dt=i;return}dt=i=r}while(i!==null);un===0&&(un=5)}function Gx(r,i){do{var l=GR(r.alternate,r);if(l!==null){l.flags&=32767,dt=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(r=r.sibling,r!==null)){dt=r;return}dt=r=l}while(r!==null);un=6,dt=null}function Yx(r,i,l,u,g,y,T,I,H){r.cancelPendingCommit=null;do ch();while(Yn!==0);if((Pt&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(y=i.lanes|i.childLanes,y|=zp,vs(r,l,y,T,I,H),r===Gt&&(dt=Gt=null,Et=0),jl=i,ma=r,Ml=l,Gg=y,Yg=g,Lx=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,sN(Jn,function(){return Xx(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,g=X.p,X.p=2,T=Pt,Pt|=4;try{YR(r,i,l)}finally{Pt=T,X.p=g,$.T=u}}Yn=1,Kx(),Qx(),Zx()}}function Kx(){if(Yn===1){Yn=0;var r=ma,i=jl,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var u=X.p;X.p=2;var g=Pt;Pt|=4;try{Ix(i,r);var y=cy,T=P_(r.containerInfo),I=y.focusedElem,H=y.selectionRange;if(T!==I&&I&&I.ownerDocument&&M_(I.ownerDocument.documentElement,I)){if(H!==null&&Pp(I)){var ee=H.start,le=H.end;if(le===void 0&&(le=ee),"selectionStart"in I)I.selectionStart=ee,I.selectionEnd=Math.min(le,I.value.length);else{var de=I.ownerDocument||document,ne=de&&de.defaultView||window;if(ne.getSelection){var re=ne.getSelection(),Ye=I.textContent.length,ze=Math.min(H.start,Ye),Ft=H.end===void 0?ze:Math.min(H.end,Ye);!re.extend&&ze>Ft&&(T=Ft,Ft=ze,ze=T);var Q=j_(I,ze),Y=j_(I,Ft);if(Q&&Y&&(re.rangeCount!==1||re.anchorNode!==Q.node||re.anchorOffset!==Q.offset||re.focusNode!==Y.node||re.focusOffset!==Y.offset)){var J=de.createRange();J.setStart(Q.node,Q.offset),re.removeAllRanges(),ze>Ft?(re.addRange(J),re.extend(Y.node,Y.offset)):(J.setEnd(Y.node,Y.offset),re.addRange(J))}}}}for(de=[],re=I;re=re.parentNode;)re.nodeType===1&&de.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<de.length;I++){var ce=de[I];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}xh=!!ly,cy=ly=null}finally{Pt=g,X.p=u,$.T=l}}r.current=i,Yn=2}}function Qx(){if(Yn===2){Yn=0;var r=ma,i=jl,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var u=X.p;X.p=2;var g=Pt;Pt|=4;try{Ax(r,i.alternate,i)}finally{Pt=g,X.p=u,$.T=l}}Yn=3}}function Zx(){if(Yn===4||Yn===3){Yn=0,Le();var r=ma,i=jl,l=Ml,u=Lx;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Yn=5:(Yn=0,jl=ma=null,Wx(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(ha=null),ni(l),i=i.stateNode,xe&&typeof xe.onCommitFiberRoot=="function")try{xe.onCommitFiberRoot(be,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=$.T,g=X.p,X.p=2,$.T=null;try{for(var y=r.onRecoverableError,T=0;T<u.length;T++){var I=u[T];y(I.value,{componentStack:I.stack})}}finally{$.T=i,X.p=g}}(Ml&3)!==0&&ch(),Os(r),g=r.pendingLanes,(l&4194090)!==0&&(g&42)!==0?r===Kg?Du++:(Du=0,Kg=r):Du=0,Ou(0)}}function Wx(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,fu(i)))}function ch(r){return Kx(),Qx(),Zx(),Xx()}function Xx(){if(Yn!==5)return!1;var r=ma,i=Gg;Gg=0;var l=ni(Ml),u=$.T,g=X.p;try{X.p=32>l?32:l,$.T=null,l=Yg,Yg=null;var y=ma,T=Ml;if(Yn=0,jl=ma=null,Ml=0,(Pt&6)!==0)throw Error(s(331));var I=Pt;if(Pt|=4,Mx(y.current),Dx(y,y.current,T,l),Pt=I,Ou(0,!1),xe&&typeof xe.onPostCommitFiberRoot=="function")try{xe.onPostCommitFiberRoot(be,y)}catch{}return!0}finally{X.p=g,$.T=u,Wx(r,i)}}function Jx(r,i,l){i=qr(l,i),i=Ag(r.stateNode,i,2),r=sa(r,i,2),r!==null&&(ur(r,2),Os(r))}function qt(r,i,l){if(r.tag===3)Jx(r,r,l);else for(;i!==null;){if(i.tag===3){Jx(i,r,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ha===null||!ha.has(u))){r=qr(l,r),l=rx(2),u=sa(i,l,2),u!==null&&(sx(l,u,i,r),ur(u,2),Os(u));break}}i=i.return}}function Xg(r,i,l){var u=r.pingCache;if(u===null){u=r.pingCache=new ZR;var g=new Set;u.set(i,g)}else g=u.get(i),g===void 0&&(g=new Set,u.set(i,g));g.has(l)||(Fg=!0,g.add(l),r=tN.bind(null,r,i,l),i.then(r,r))}function tN(r,i,l){var u=r.pingCache;u!==null&&u.delete(i),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,Gt===r&&(Et&l)===l&&(un===4||un===3&&(Et&62914560)===Et&&300>We()-$g?(Pt&2)===0&&Pl(r,0):Hg|=l,Ol===Et&&(Ol=0)),Os(r)}function ew(r,i){i===0&&(i=Ht()),r=vl(r,i),r!==null&&(ur(r,i),Os(r))}function nN(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),ew(r,l)}function rN(r,i){var l=0;switch(r.tag){case 13:var u=r.stateNode,g=r.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),ew(r,l)}function sN(r,i){return se(r,i)}var uh=null,Vl=null,Jg=!1,dh=!1,ey=!1,Do=0;function Os(r){r!==Vl&&r.next===null&&(Vl===null?uh=Vl=r:Vl=Vl.next=r),dh=!0,Jg||(Jg=!0,aN())}function Ou(r,i){if(!ey&&dh){ey=!0;do for(var l=!1,u=uh;u!==null;){if(r!==0){var g=u.pendingLanes;if(g===0)var y=0;else{var T=u.suspendedLanes,I=u.pingedLanes;y=(1<<31-Ve(42|r)+1)-1,y&=g&~(T&~I),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,sw(u,y))}else y=Et,y=Ot(u,u===Gt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||hn(u,y)||(l=!0,sw(u,y));u=u.next}while(l);ey=!1}}function iN(){tw()}function tw(){dh=Jg=!1;var r=0;Do!==0&&(mN()&&(r=Do),Do=0);for(var i=We(),l=null,u=uh;u!==null;){var g=u.next,y=nw(u,i);y===0?(u.next=null,l===null?uh=g:l.next=g,g===null&&(Vl=l)):(l=u,(r!==0||(y&3)!==0)&&(dh=!0)),u=g}Ou(r)}function nw(r,i){for(var l=r.suspendedLanes,u=r.pingedLanes,g=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var T=31-Ve(y),I=1<<T,H=g[T];H===-1?((I&l)===0||(I&u)!==0)&&(g[T]=vn(I,i)):H<=i&&(r.expiredLanes|=I),y&=~I}if(i=Gt,l=Et,l=Ot(r,r===i?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,l===0||r===i&&(Lt===2||Lt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Ne(u),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||hn(r,l)){if(i=l&-l,i===r.callbackPriority)return i;switch(u!==null&&Ne(u),ni(l)){case 2:case 8:l=ct;break;case 32:l=Jn;break;case 268435456:l=Xr;break;default:l=Jn}return u=rw.bind(null,r),l=se(l,u),r.callbackPriority=i,r.callbackNode=l,i}return u!==null&&u!==null&&Ne(u),r.callbackPriority=2,r.callbackNode=null,2}function rw(r,i){if(Yn!==0&&Yn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(ch()&&r.callbackNode!==l)return null;var u=Et;return u=Ot(r,r===Gt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(Ux(r,u,i),nw(r,We()),r.callbackNode!=null&&r.callbackNode===l?rw.bind(null,r):null)}function sw(r,i){if(ch())return null;Ux(r,i,!0)}function aN(){gN(function(){(Pt&6)!==0?se(At,iN):tw()})}function ty(){return Do===0&&(Do=_n()),Do}function iw(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:al(""+r)}function aw(r,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,r.id&&l.setAttribute("form",r.id),i.parentNode.insertBefore(l,i),r=new FormData(r),l.parentNode.removeChild(l),r}function oN(r,i,l,u,g){if(i==="submit"&&l&&l.stateNode===g){var y=iw((g[bn]||null).action),T=u.submitter;T&&(i=(i=T[bn]||null)?iw(i.formAction):T.getAttribute("formAction"),i!==null&&(y=i,T=null));var I=new ol("action","action",null,u,g);r.push({event:I,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Do!==0){var H=T?aw(g,T):new FormData(g);xg(l,{pending:!0,data:H,method:g.method,action:y},null,H)}}else typeof y=="function"&&(I.preventDefault(),H=T?aw(g,T):new FormData(g),xg(l,{pending:!0,data:H,method:g.method,action:y},y,H))},currentTarget:g}]})}}for(var ny=0;ny<Bp.length;ny++){var ry=Bp[ny],lN=ry.toLowerCase(),cN=ry[0].toUpperCase()+ry.slice(1);ts(lN,"on"+cN)}ts(U_,"onAnimationEnd"),ts(B_,"onAnimationIteration"),ts(z_,"onAnimationStart"),ts("dblclick","onDoubleClick"),ts("focusin","onFocus"),ts("focusout","onBlur"),ts(AR,"onTransitionRun"),ts(CR,"onTransitionStart"),ts(RR,"onTransitionCancel"),ts(F_,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ju));function ow(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var u=r[l],g=u.event;u=u.listeners;e:{var y=void 0;if(i)for(var T=u.length-1;0<=T;T--){var I=u[T],H=I.instance,ee=I.currentTarget;if(I=I.listener,H!==y&&g.isPropagationStopped())break e;y=I,g.currentTarget=ee;try{y(g)}catch(le){Xf(le)}g.currentTarget=null,y=H}else for(T=0;T<u.length;T++){if(I=u[T],H=I.instance,ee=I.currentTarget,I=I.listener,H!==y&&g.isPropagationStopped())break e;y=I,g.currentTarget=ee;try{y(g)}catch(le){Xf(le)}g.currentTarget=null,y=H}}}}function ft(r,i){var l=i[$c];l===void 0&&(l=i[$c]=new Set);var u=r+"__bubble";l.has(u)||(lw(i,r,2,!1),l.add(u))}function sy(r,i,l){var u=0;i&&(u|=4),lw(l,r,u,i)}var fh="_reactListening"+Math.random().toString(36).slice(2);function iy(r){if(!r[fh]){r[fh]=!0,Gc.forEach(function(l){l!=="selectionchange"&&(uN.has(l)||sy(l,!1,r),sy(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[fh]||(i[fh]=!0,sy("selectionchange",!1,i))}}function lw(r,i,l,u){switch(Dw(i)){case 2:var g=LN;break;case 8:g=VN;break;default:g=_y}l=g.bind(null,i,l,r),g=void 0,!Fr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),u?g!==void 0?r.addEventListener(i,l,{capture:!0,passive:g}):r.addEventListener(i,l,!0):g!==void 0?r.addEventListener(i,l,{passive:g}):r.addEventListener(i,l,!1)}function ay(r,i,l,u,g){var y=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var I=u.stateNode.containerInfo;if(I===g)break;if(T===4)for(T=u.return;T!==null;){var H=T.tag;if((H===3||H===4)&&T.stateNode.containerInfo===g)return;T=T.return}for(;I!==null;){if(T=ri(I),T===null)return;if(H=T.tag,H===5||H===6||H===26||H===27){u=y=T;continue e}I=I.parentNode}}u=u.return}mf(function(){var ee=y,le=zr(l),de=[];e:{var ne=H_.get(r);if(ne!==void 0){var re=ol,Ye=r;switch(r){case"keypress":if(Ts(l)===0)break e;case"keydown":case"keyup":re=hl;break;case"focusin":Ye="focus",re=ul;break;case"focusout":Ye="blur",re=ul;break;case"beforeblur":case"afterblur":re=ul;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Dp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=wf;break;case U_:case B_:case z_:re=dl;break;case F_:re=Tf;break;case"scroll":case"scrollend":re=pf;break;case"wheel":re=ml;break;case"copy":case"cut":case"paste":re=fl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=su;break;case"toggle":case"beforetoggle":re=Af}var ze=(i&4)!==0,Ft=!ze&&(r==="scroll"||r==="scrollend"),Q=ze?ne!==null?ne+"Capture":null:ne;ze=[];for(var Y=ee,J;Y!==null;){var ce=Y;if(J=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||J===null||Q===null||(ce=uo(Y,Q),ce!=null&&ze.push(Mu(Y,ce,J))),Ft)break;Y=Y.return}0<ze.length&&(ne=new re(ne,Ye,null,l,le),de.push({event:ne,listeners:ze}))}}if((i&7)===0){e:{if(ne=r==="mouseover"||r==="pointerover",re=r==="mouseout"||r==="pointerout",ne&&l!==oi&&(Ye=l.relatedTarget||l.fromElement)&&(ri(Ye)||Ye[Ur]))break e;if((re||ne)&&(ne=le.window===le?le:(ne=le.ownerDocument)?ne.defaultView||ne.parentWindow:window,re?(Ye=l.relatedTarget||l.toElement,re=ee,Ye=Ye?ri(Ye):null,Ye!==null&&(Ft=o(Ye),ze=Ye.tag,Ye!==Ft||ze!==5&&ze!==27&&ze!==6)&&(Ye=null)):(re=null,Ye=ee),re!==Ye)){if(ze=Hr,ce="onMouseLeave",Q="onMouseEnter",Y="mouse",(r==="pointerout"||r==="pointerover")&&(ze=su,ce="onPointerLeave",Q="onPointerEnter",Y="pointer"),Ft=re==null?ne:bs(re),J=Ye==null?ne:bs(Ye),ne=new ze(ce,Y+"leave",re,l,le),ne.target=Ft,ne.relatedTarget=J,ce=null,ri(le)===ee&&(ze=new ze(Q,Y+"enter",Ye,l,le),ze.target=J,ze.relatedTarget=Ft,ce=ze),Ft=ce,re&&Ye)t:{for(ze=re,Q=Ye,Y=0,J=ze;J;J=Ul(J))Y++;for(J=0,ce=Q;ce;ce=Ul(ce))J++;for(;0<Y-J;)ze=Ul(ze),Y--;for(;0<J-Y;)Q=Ul(Q),J--;for(;Y--;){if(ze===Q||Q!==null&&ze===Q.alternate)break t;ze=Ul(ze),Q=Ul(Q)}ze=null}else ze=null;re!==null&&cw(de,ne,re,ze,!1),Ye!==null&&Ft!==null&&cw(de,Ft,Ye,ze,!0)}}e:{if(ne=ee?bs(ee):window,re=ne.nodeName&&ne.nodeName.toLowerCase(),re==="select"||re==="input"&&ne.type==="file")var Ie=R_;else if(Nn(ne))if(N_)Ie=ER;else{Ie=xR;var ut=bR}else re=ne.nodeName,!re||re.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&Wc(ee.elementType)&&(Ie=R_):Ie=wR;if(Ie&&(Ie=Ie(r,ee))){fi(de,Ie,l,le);break e}ut&&ut(r,ne,ee),r==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&Ji(ne,"number",ne.value)}switch(ut=ee?bs(ee):window,r){case"focusin":(Nn(ut)||ut.contentEditable==="true")&&(pl=ut,Lp=ee,ou=null);break;case"focusout":ou=Lp=pl=null;break;case"mousedown":Vp=!0;break;case"contextmenu":case"mouseup":case"dragend":Vp=!1,L_(de,l,le);break;case"selectionchange":if(SR)break;case"keydown":case"keyup":L_(de,l,le)}var Pe;if(Cs)e:{switch(r){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else xt?ae(r,l)&&(He="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(He="onCompositionStart");He&&(E&&l.locale!=="ko"&&(xt||He!=="onCompositionStart"?He==="onCompositionEnd"&&xt&&(Pe=Jc()):(Es=le,ea="value"in Es?Es.value:Es.textContent,xt=!0)),ut=hh(ee,He),0<ut.length&&(He=new nu(He,r,null,l,le),de.push({event:He,listeners:ut}),Pe?He.data=Pe:(Pe=ve(l),Pe!==null&&(He.data=Pe)))),(Pe=_?Rn(r,l):wt(r,l))&&(He=hh(ee,"onBeforeInput"),0<He.length&&(ut=new nu("onBeforeInput","beforeinput",null,l,le),de.push({event:ut,listeners:He}),ut.data=Pe)),oN(de,r,ee,l,le)}ow(de,i)})}function Mu(r,i,l){return{instance:r,listener:i,currentTarget:l}}function hh(r,i){for(var l=i+"Capture",u=[];r!==null;){var g=r,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=uo(r,l),g!=null&&u.unshift(Mu(r,g,y)),g=uo(r,i),g!=null&&u.push(Mu(r,g,y))),r.tag===3)return u;r=r.return}return[]}function Ul(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function cw(r,i,l,u,g){for(var y=i._reactName,T=[];l!==null&&l!==u;){var I=l,H=I.alternate,ee=I.stateNode;if(I=I.tag,H!==null&&H===u)break;I!==5&&I!==26&&I!==27||ee===null||(H=ee,g?(ee=uo(l,y),ee!=null&&T.unshift(Mu(l,ee,H))):g||(ee=uo(l,y),ee!=null&&T.push(Mu(l,ee,H)))),l=l.return}T.length!==0&&r.push({event:i,listeners:T})}var dN=/\r\n?/g,fN=/\u0000|\uFFFD/g;function uw(r){return(typeof r=="string"?r:""+r).replace(dN,`
`).replace(fN,"")}function dw(r,i){return i=uw(i),uw(r)===i}function mh(){}function zt(r,i,l,u,g,y){switch(l){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Br(r,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Br(r,""+u);break;case"className":xs(r,"class",u);break;case"tabIndex":xs(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":xs(r,l,u);break;case"style":Zc(r,u,y);break;case"data":if(i!=="object"){xs(r,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||l!=="href")){r.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=al(""+u),r.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(i!=="input"&&zt(r,i,"name",g.name,g,null),zt(r,i,"formEncType",g.formEncType,g,null),zt(r,i,"formMethod",g.formMethod,g,null),zt(r,i,"formTarget",g.formTarget,g,null)):(zt(r,i,"encType",g.encType,g,null),zt(r,i,"method",g.method,g,null),zt(r,i,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=al(""+u),r.setAttribute(l,u);break;case"onClick":u!=null&&(r.onclick=mh);break;case"onScroll":u!=null&&ft("scroll",r);break;case"onScrollEnd":u!=null&&ft("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}l=al(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""+u):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":u===!0?r.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,u):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(l,u):r.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(l):r.setAttribute(l,u);break;case"popover":ft("beforetoggle",r),ft("toggle",r),Xi(r,"popover",u);break;case"xlinkActuate":qn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Xi(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ip.get(l)||l,Xi(r,l,u))}}function oy(r,i,l,u,g,y){switch(l){case"style":Zc(r,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"children":typeof u=="string"?Br(r,u):(typeof u=="number"||typeof u=="bigint")&&Br(r,""+u);break;case"onScroll":u!=null&&ft("scroll",r);break;case"onScrollEnd":u!=null&&ft("scrollend",r);break;case"onClick":u!=null&&(r.onclick=mh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tl.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),i=l.slice(2,g?l.length-7:void 0),y=r[bn]||null,y=y!=null?y[l]:null,typeof y=="function"&&r.removeEventListener(i,y,g),typeof u=="function")){typeof y!="function"&&y!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(i,u,g);break e}l in r?r[l]=u:u===!0?r.setAttribute(l,""):Xi(r,l,u)}}}function Kn(r,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",r),ft("load",r);var u=!1,g=!1,y;for(y in l)if(l.hasOwnProperty(y)){var T=l[y];if(T!=null)switch(y){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:zt(r,i,y,T,l,null)}}g&&zt(r,i,"srcSet",l.srcSet,l,null),u&&zt(r,i,"src",l.src,l,null);return;case"input":ft("invalid",r);var I=y=T=g=null,H=null,ee=null;for(u in l)if(l.hasOwnProperty(u)){var le=l[u];if(le!=null)switch(u){case"name":g=le;break;case"type":T=le;break;case"checked":H=le;break;case"defaultChecked":ee=le;break;case"value":y=le;break;case"defaultValue":I=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(s(137,i));break;default:zt(r,i,u,le,l,null)}}oo(r,y,I,H,ee,T,g,!1),il(r);return;case"select":ft("invalid",r),u=T=y=null;for(g in l)if(l.hasOwnProperty(g)&&(I=l[g],I!=null))switch(g){case"value":y=I;break;case"defaultValue":T=I;break;case"multiple":u=I;default:zt(r,i,g,I,l,null)}i=y,l=T,r.multiple=!!u,i!=null?ai(r,!!u,i,!1):l!=null&&ai(r,!!u,l,!0);return;case"textarea":ft("invalid",r),y=g=u=null;for(T in l)if(l.hasOwnProperty(T)&&(I=l[T],I!=null))switch(T){case"value":u=I;break;case"defaultValue":g=I;break;case"children":y=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(91));break;default:zt(r,i,T,I,l,null)}lo(r,u,g,y),il(r);return;case"option":for(H in l)if(l.hasOwnProperty(H)&&(u=l[H],u!=null))switch(H){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:zt(r,i,H,u,l,null)}return;case"dialog":ft("beforetoggle",r),ft("toggle",r),ft("cancel",r),ft("close",r);break;case"iframe":case"object":ft("load",r);break;case"video":case"audio":for(u=0;u<ju.length;u++)ft(ju[u],r);break;case"image":ft("error",r),ft("load",r);break;case"details":ft("toggle",r);break;case"embed":case"source":case"link":ft("error",r),ft("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in l)if(l.hasOwnProperty(ee)&&(u=l[ee],u!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:zt(r,i,ee,u,l,null)}return;default:if(Wc(i)){for(le in l)l.hasOwnProperty(le)&&(u=l[le],u!==void 0&&oy(r,i,le,u,l,void 0));return}}for(I in l)l.hasOwnProperty(I)&&(u=l[I],u!=null&&zt(r,i,I,u,l,null))}function hN(r,i,l,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,T=null,I=null,H=null,ee=null,le=null;for(re in l){var de=l[re];if(l.hasOwnProperty(re)&&de!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":H=de;default:u.hasOwnProperty(re)||zt(r,i,re,null,u,de)}}for(var ne in u){var re=u[ne];if(de=l[ne],u.hasOwnProperty(ne)&&(re!=null||de!=null))switch(ne){case"type":y=re;break;case"name":g=re;break;case"checked":ee=re;break;case"defaultChecked":le=re;break;case"value":T=re;break;case"defaultValue":I=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,i));break;default:re!==de&&zt(r,i,ne,re,u,de)}}Sr(r,T,I,H,ee,le,y,g);return;case"select":re=T=I=ne=null;for(y in l)if(H=l[y],l.hasOwnProperty(y)&&H!=null)switch(y){case"value":break;case"multiple":re=H;default:u.hasOwnProperty(y)||zt(r,i,y,null,u,H)}for(g in u)if(y=u[g],H=l[g],u.hasOwnProperty(g)&&(y!=null||H!=null))switch(g){case"value":ne=y;break;case"defaultValue":I=y;break;case"multiple":T=y;default:y!==H&&zt(r,i,g,y,u,H)}i=I,l=T,u=re,ne!=null?ai(r,!!l,ne,!1):!!u!=!!l&&(i!=null?ai(r,!!l,i,!0):ai(r,!!l,l?[]:"",!1));return;case"textarea":re=ne=null;for(I in l)if(g=l[I],l.hasOwnProperty(I)&&g!=null&&!u.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:zt(r,i,I,null,u,g)}for(T in u)if(g=u[T],y=l[T],u.hasOwnProperty(T)&&(g!=null||y!=null))switch(T){case"value":ne=g;break;case"defaultValue":re=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==y&&zt(r,i,T,g,u,y)}Ut(r,ne,re);return;case"option":for(var Ye in l)if(ne=l[Ye],l.hasOwnProperty(Ye)&&ne!=null&&!u.hasOwnProperty(Ye))switch(Ye){case"selected":r.selected=!1;break;default:zt(r,i,Ye,null,u,ne)}for(H in u)if(ne=u[H],re=l[H],u.hasOwnProperty(H)&&ne!==re&&(ne!=null||re!=null))switch(H){case"selected":r.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:zt(r,i,H,ne,u,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in l)ne=l[ze],l.hasOwnProperty(ze)&&ne!=null&&!u.hasOwnProperty(ze)&&zt(r,i,ze,null,u,ne);for(ee in u)if(ne=u[ee],re=l[ee],u.hasOwnProperty(ee)&&ne!==re&&(ne!=null||re!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,i));break;default:zt(r,i,ee,ne,u,re)}return;default:if(Wc(i)){for(var Ft in l)ne=l[Ft],l.hasOwnProperty(Ft)&&ne!==void 0&&!u.hasOwnProperty(Ft)&&oy(r,i,Ft,void 0,u,ne);for(le in u)ne=u[le],re=l[le],!u.hasOwnProperty(le)||ne===re||ne===void 0&&re===void 0||oy(r,i,le,ne,u,re);return}}for(var Q in l)ne=l[Q],l.hasOwnProperty(Q)&&ne!=null&&!u.hasOwnProperty(Q)&&zt(r,i,Q,null,u,ne);for(de in u)ne=u[de],re=l[de],!u.hasOwnProperty(de)||ne===re||ne==null&&re==null||zt(r,i,de,ne,u,re)}var ly=null,cy=null;function ph(r){return r.nodeType===9?r:r.ownerDocument}function fw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hw(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function uy(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var dy=null;function mN(){var r=window.event;return r&&r.type==="popstate"?r===dy?!1:(dy=r,!0):(dy=null,!1)}var mw=typeof setTimeout=="function"?setTimeout:void 0,pN=typeof clearTimeout=="function"?clearTimeout:void 0,pw=typeof Promise=="function"?Promise:void 0,gN=typeof queueMicrotask=="function"?queueMicrotask:typeof pw<"u"?function(r){return pw.resolve(null).then(r).catch(yN)}:mw;function yN(r){setTimeout(function(){throw r})}function ga(r){return r==="head"}function gw(r,i){var l=i,u=0,g=0;do{var y=l.nextSibling;if(r.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<u&&8>u){l=u;var T=r.ownerDocument;if(l&1&&Pu(T.documentElement),l&2&&Pu(T.body),l&4)for(l=T.head,Pu(l),T=l.firstChild;T;){var I=T.nextSibling,H=T.nodeName;T[ro]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=I}}if(g===0){r.removeChild(y),qu(i);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:u=l.charCodeAt(0)-48;else u=0;l=y}while(l);qu(i)}function fy(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":fy(l),Wi(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function vN(r,i,l,u){for(;r.nodeType===1;){var g=l;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[ro])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=rs(r.nextSibling),r===null)break}return null}function _N(r,i,l){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=rs(r.nextSibling),r===null))return null;return r}function hy(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function bN(r,i){var l=r.ownerDocument;if(r.data!=="$?"||l.readyState==="complete")i();else{var u=function(){i(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function rs(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var my=null;function yw(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return r;i--}else l==="/$"&&i++}r=r.previousSibling}return null}function vw(r,i,l){switch(i=ph(l),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function Pu(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Wi(r)}var Zr=new Map,_w=new Set;function gh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Si=X.d;X.d={f:xN,r:wN,D:EN,C:TN,L:SN,m:AN,X:RN,S:CN,M:NN};function xN(){var r=Si.f(),i=oh();return r||i}function wN(r){var i=_s(r);i!==null&&i.tag===5&&i.type==="form"?Ub(i):Si.r(r)}var Bl=typeof document>"u"?null:document;function bw(r,i,l){var u=Bl;if(u&&typeof i=="string"&&i){var g=xn(i);g='link[rel="'+r+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),_w.has(g)||(_w.add(g),r={rel:r,crossOrigin:l,href:i},u.querySelector(g)===null&&(i=u.createElement("link"),Kn(i,"link",r),mn(i),u.head.appendChild(i)))}}function EN(r){Si.D(r),bw("dns-prefetch",r,null)}function TN(r,i){Si.C(r,i),bw("preconnect",r,i)}function SN(r,i,l){Si.L(r,i,l);var u=Bl;if(u&&r&&i){var g='link[rel="preload"][as="'+xn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+xn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+xn(l.imageSizes)+'"]')):g+='[href="'+xn(r)+'"]';var y=g;switch(i){case"style":y=zl(r);break;case"script":y=Fl(r)}Zr.has(y)||(r=v({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:r,as:i},l),Zr.set(y,r),u.querySelector(g)!==null||i==="style"&&u.querySelector(Lu(y))||i==="script"&&u.querySelector(Vu(y))||(i=u.createElement("link"),Kn(i,"link",r),mn(i),u.head.appendChild(i)))}}function AN(r,i){Si.m(r,i);var l=Bl;if(l&&r){var u=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+xn(u)+'"][href="'+xn(r)+'"]',y=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Fl(r)}if(!Zr.has(y)&&(r=v({rel:"modulepreload",href:r},i),Zr.set(y,r),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Vu(y)))return}u=l.createElement("link"),Kn(u,"link",r),mn(u),l.head.appendChild(u)}}}function CN(r,i,l){Si.S(r,i,l);var u=Bl;if(u&&r){var g=dr(u).hoistableStyles,y=zl(r);i=i||"default";var T=g.get(y);if(!T){var I={loading:0,preload:null};if(T=u.querySelector(Lu(y)))I.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":i},l),(l=Zr.get(y))&&py(r,l);var H=T=u.createElement("link");mn(H),Kn(H,"link",r),H._p=new Promise(function(ee,le){H.onload=ee,H.onerror=le}),H.addEventListener("load",function(){I.loading|=1}),H.addEventListener("error",function(){I.loading|=2}),I.loading|=4,yh(T,i,u)}T={type:"stylesheet",instance:T,count:1,state:I},g.set(y,T)}}}function RN(r,i){Si.X(r,i);var l=Bl;if(l&&r){var u=dr(l).hoistableScripts,g=Fl(r),y=u.get(g);y||(y=l.querySelector(Vu(g)),y||(r=v({src:r,async:!0},i),(i=Zr.get(g))&&gy(r,i),y=l.createElement("script"),mn(y),Kn(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function NN(r,i){Si.M(r,i);var l=Bl;if(l&&r){var u=dr(l).hoistableScripts,g=Fl(r),y=u.get(g);y||(y=l.querySelector(Vu(g)),y||(r=v({src:r,async:!0,type:"module"},i),(i=Zr.get(g))&&gy(r,i),y=l.createElement("script"),mn(y),Kn(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function xw(r,i,l,u){var g=(g=Ce.current)?gh(g):null;if(!g)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=zl(l.href),l=dr(g).hoistableStyles,u=l.get(i),u||(u={type:"style",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=zl(l.href);var y=dr(g).hoistableStyles,T=y.get(r);if(T||(g=g.ownerDocument||g,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,T),(y=g.querySelector(Lu(r)))&&!y._p&&(T.instance=y,T.state.loading=5),Zr.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Zr.set(r,l),y||IN(g,r,l,T.state))),i&&u===null)throw Error(s(528,""));return T}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Fl(l),l=dr(g).hoistableScripts,u=l.get(i),u||(u={type:"script",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function zl(r){return'href="'+xn(r)+'"'}function Lu(r){return'link[rel="stylesheet"]['+r+"]"}function ww(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function IN(r,i,l,u){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=r.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Kn(i,"link",l),mn(i),r.head.appendChild(i))}function Fl(r){return'[src="'+xn(r)+'"]'}function Vu(r){return"script[async]"+r}function Ew(r,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var u=r.querySelector('style[data-href~="'+xn(l.href)+'"]');if(u)return i.instance=u,mn(u),u;var g=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),mn(u),Kn(u,"style",g),yh(u,l.precedence,r),i.instance=u;case"stylesheet":g=zl(l.href);var y=r.querySelector(Lu(g));if(y)return i.state.loading|=4,i.instance=y,mn(y),y;u=ww(l),(g=Zr.get(g))&&py(u,g),y=(r.ownerDocument||r).createElement("link"),mn(y);var T=y;return T._p=new Promise(function(I,H){T.onload=I,T.onerror=H}),Kn(y,"link",u),i.state.loading|=4,yh(y,l.precedence,r),i.instance=y;case"script":return y=Fl(l.src),(g=r.querySelector(Vu(y)))?(i.instance=g,mn(g),g):(u=l,(g=Zr.get(y))&&(u=v({},l),gy(u,g)),r=r.ownerDocument||r,g=r.createElement("script"),mn(g),Kn(g,"link",u),r.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,yh(u,l.precedence,r));return i.instance}function yh(r,i,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,y=g,T=0;T<u.length;T++){var I=u[T];if(I.dataset.precedence===i)y=I;else if(y!==g)break}y?y.parentNode.insertBefore(r,y.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(r,i.firstChild))}function py(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function gy(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var vh=null;function Tw(r,i,l){if(vh===null){var u=new Map,g=vh=new Map;g.set(l,u)}else g=vh,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(r))return u;for(u.set(r,null),l=l.getElementsByTagName(r),g=0;g<l.length;g++){var y=l[g];if(!(y[ro]||y[Cn]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(i)||"";T=r+T;var I=u.get(T);I?I.push(y):u.set(T,[y])}}return u}function Sw(r,i,l){r=r.ownerDocument||r,r.head.insertBefore(l,i==="title"?r.querySelector("head > title"):null)}function kN(r,i,l){if(l===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Aw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Uu=null;function DN(){}function ON(r,i,l){if(Uu===null)throw Error(s(475));var u=Uu;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=zl(l.href),y=r.querySelector(Lu(g));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=_h.bind(u),r.then(u,u)),i.state.loading|=4,i.instance=y,mn(y);return}y=r.ownerDocument||r,l=ww(l),(g=Zr.get(g))&&py(l,g),y=y.createElement("link"),mn(y);var T=y;T._p=new Promise(function(I,H){T.onload=I,T.onerror=H}),Kn(y,"link",l),i.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=_h.bind(u),r.addEventListener("load",i),r.addEventListener("error",i))}}function jN(){if(Uu===null)throw Error(s(475));var r=Uu;return r.stylesheets&&r.count===0&&yy(r,r.stylesheets),0<r.count?function(i){var l=setTimeout(function(){if(r.stylesheets&&yy(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(l)}}:null}function _h(){if(this.count--,this.count===0){if(this.stylesheets)yy(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var bh=null;function yy(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,bh=new Map,i.forEach(MN,r),bh=null,_h.call(r))}function MN(r,i){if(!(i.state.loading&4)){var l=bh.get(r);if(l)var u=l.get(null);else{l=new Map,bh.set(r,l);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var T=g[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),u=T)}u&&l.set(null,u)}g=i.instance,T=g.getAttribute("data-precedence"),y=l.get(T)||u,y===u&&l.set(null,g),l.set(T,g),this.count++,u=_h.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),y?y.parentNode.insertBefore(g,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),i.state.loading|=4}}var Bu={$$typeof:V,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function PN(r,i,l,u,g,y,T,I){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mn(0),this.hiddenUpdates=Mn(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Cw(r,i,l,u,g,y,T,I,H,ee,le,de){return r=new PN(r,i,l,T,I,H,ee,de),i=1,y===!0&&(i|=24),y=Cr(3,null,null,i),r.current=y,y.stateNode=r,i=Xp(),i.refCount++,r.pooledCache=i,i.refCount++,y.memoizedState={element:u,isDehydrated:l,cache:i},ng(y),r}function Rw(r){return r?(r=_l,r):_l}function Nw(r,i,l,u,g,y){g=Rw(g),u.context===null?u.context=g:u.pendingContext=g,u=ra(i),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=sa(r,u,i),l!==null&&(Dr(l,r,i),gu(l,r,i))}function Iw(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function vy(r,i){Iw(r,i),(r=r.alternate)&&Iw(r,i)}function kw(r){if(r.tag===13){var i=vl(r,67108864);i!==null&&Dr(i,r,67108864),vy(r,67108864)}}var xh=!0;function LN(r,i,l,u){var g=$.T;$.T=null;var y=X.p;try{X.p=2,_y(r,i,l,u)}finally{X.p=y,$.T=g}}function VN(r,i,l,u){var g=$.T;$.T=null;var y=X.p;try{X.p=8,_y(r,i,l,u)}finally{X.p=y,$.T=g}}function _y(r,i,l,u){if(xh){var g=by(u);if(g===null)ay(r,i,u,wh,l),Ow(r,u);else if(BN(g,r,i,l,u))u.stopPropagation();else if(Ow(r,u),i&4&&-1<UN.indexOf(r)){for(;g!==null;){var y=_s(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=Xe(y.pendingLanes);if(T!==0){var I=y;for(I.pendingLanes|=2,I.entangledLanes|=2;T;){var H=1<<31-Ve(T);I.entanglements[1]|=H,T&=~H}Os(y),(Pt&6)===0&&(ih=We()+500,Ou(0))}}break;case 13:I=vl(y,2),I!==null&&Dr(I,y,2),oh(),vy(y,2)}if(y=by(u),y===null&&ay(r,i,u,wh,l),y===g)break;g=y}g!==null&&u.stopPropagation()}else ay(r,i,u,null,l)}}function by(r){return r=zr(r),xy(r)}var wh=null;function xy(r){if(wh=null,r=ri(r),r!==null){var i=o(r);if(i===null)r=null;else{var l=i.tag;if(l===13){if(r=c(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return wh=r,null}function Dw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(An()){case At:return 2;case ct:return 8;case Jn:case ti:return 32;case Xr:return 268435456;default:return 32}default:return 32}}var wy=!1,ya=null,va=null,_a=null,zu=new Map,Fu=new Map,ba=[],UN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ow(r,i){switch(r){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":zu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fu.delete(i.pointerId)}}function Hu(r,i,l,u,g,y){return r===null||r.nativeEvent!==y?(r={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[g]},i!==null&&(i=_s(i),i!==null&&kw(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),r)}function BN(r,i,l,u,g){switch(i){case"focusin":return ya=Hu(ya,r,i,l,u,g),!0;case"dragenter":return va=Hu(va,r,i,l,u,g),!0;case"mouseover":return _a=Hu(_a,r,i,l,u,g),!0;case"pointerover":var y=g.pointerId;return zu.set(y,Hu(zu.get(y)||null,r,i,l,u,g)),!0;case"gotpointercapture":return y=g.pointerId,Fu.set(y,Hu(Fu.get(y)||null,r,i,l,u,g)),!0}return!1}function jw(r){var i=ri(r.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=c(l),i!==null){r.blockedOn=i,of(r.priority,function(){if(l.tag===13){var u=kr();u=Tr(u);var g=vl(l,u);g!==null&&Dr(g,l,u),vy(l,u)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Eh(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=by(r.nativeEvent);if(l===null){l=r.nativeEvent;var u=new l.constructor(l.type,l);oi=u,l.target.dispatchEvent(u),oi=null}else return i=_s(l),i!==null&&kw(i),r.blockedOn=l,!1;i.shift()}return!0}function Mw(r,i,l){Eh(r)&&l.delete(i)}function zN(){wy=!1,ya!==null&&Eh(ya)&&(ya=null),va!==null&&Eh(va)&&(va=null),_a!==null&&Eh(_a)&&(_a=null),zu.forEach(Mw),Fu.forEach(Mw)}function Th(r,i){r.blockedOn===i&&(r.blockedOn=null,wy||(wy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,zN)))}var Sh=null;function Pw(r){Sh!==r&&(Sh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Sh===r&&(Sh=null);for(var i=0;i<r.length;i+=3){var l=r[i],u=r[i+1],g=r[i+2];if(typeof u!="function"){if(xy(u||l)===null)continue;break}var y=_s(l);y!==null&&(r.splice(i,3),i-=3,xg(y,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function qu(r){function i(H){return Th(H,r)}ya!==null&&Th(ya,r),va!==null&&Th(va,r),_a!==null&&Th(_a,r),zu.forEach(i),Fu.forEach(i);for(var l=0;l<ba.length;l++){var u=ba[l];u.blockedOn===r&&(u.blockedOn=null)}for(;0<ba.length&&(l=ba[0],l.blockedOn===null);)jw(l),l.blockedOn===null&&ba.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],y=l[u+1],T=g[bn]||null;if(typeof y=="function")T||Pw(l);else if(T){var I=null;if(y&&y.hasAttribute("formAction")){if(g=y,T=y[bn]||null)I=T.formAction;else if(xy(g)!==null)continue}else I=T.action;typeof I=="function"?l[u+1]=I:(l.splice(u,3),u-=3),Pw(l)}}}function Ey(r){this._internalRoot=r}Ah.prototype.render=Ey.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var l=i.current,u=kr();Nw(l,u,r,i,null,null)},Ah.prototype.unmount=Ey.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Nw(r.current,2,null,r,null,null),oh(),i[Ur]=null}};function Ah(r){this._internalRoot=r}Ah.prototype.unstable_scheduleHydration=function(r){if(r){var i=Qi();r={blockedOn:null,target:r,priority:i};for(var l=0;l<ba.length&&i!==0&&i<ba[l].priority;l++);ba.splice(l,0,r),l===0&&jw(r)}};var Lw=e.version;if(Lw!=="19.1.0")throw Error(s(527,Lw,"19.1.0"));X.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=m(i),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var FN={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ch.isDisabled&&Ch.supportsFiber)try{be=Ch.inject(FN),xe=Ch}catch{}}return Gu.createRoot=function(r,i){if(!a(r))throw Error(s(299));var l=!1,u="",g=Jb,y=ex,T=tx,I=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(I=i.unstable_transitionCallbacks)),i=Cw(r,1,!1,null,null,l,u,g,y,T,I,null),r[Ur]=i.current,iy(r),new Ey(i)},Gu.hydrateRoot=function(r,i,l){if(!a(r))throw Error(s(299));var u=!1,g="",y=Jb,T=ex,I=tx,H=null,ee=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(H=l.unstable_transitionCallbacks),l.formState!==void 0&&(ee=l.formState)),i=Cw(r,1,!0,i,l??null,u,g,y,T,I,H,ee),i.context=Rw(null),l=i.current,u=kr(),u=Tr(u),g=ra(u),g.callback=null,sa(l,g,u),l=u,i.current.lanes=l,ur(i,l),Os(i),r[Ur]=i.current,iy(r),new Ah(i)},Gu.version="19.1.0",Gu}var Yw;function XN(){if(Yw)return Ay.exports;Yw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ay.exports=WN(),Ay.exports}var JN=XN(),Yu={},Kw;function eI(){if(Kw)return Yu;Kw=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.parse=c,Yu.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function c(x,S){const R=new o,C=x.length;if(C<2)return R;const N=(S==null?void 0:S.decode)||v;let M=0;do{const L=x.indexOf("=",M);if(L===-1)break;const V=x.indexOf(";",M),q=V===-1?C:V;if(L>q){M=x.lastIndexOf(";",L-1)+1;continue}const F=d(x,M,L),Z=m(x,L,F),k=x.slice(F,Z);if(R[k]===void 0){let A=d(x,L+1,q),O=m(x,q,A);const B=N(x.slice(A,O));R[k]=B}M=q+1}while(M<C);return R}function d(x,S,R){do{const C=x.charCodeAt(S);if(C!==32&&C!==9)return S}while(++S<R);return R}function m(x,S,R){for(;S>R;){const C=x.charCodeAt(--S);if(C!==32&&C!==9)return S+1}return R}function p(x,S,R){const C=(R==null?void 0:R.encode)||encodeURIComponent;if(!n.test(x))throw new TypeError(`argument name is invalid: ${x}`);const N=C(S);if(!e.test(N))throw new TypeError(`argument val is invalid: ${S}`);let M=x+"="+N;if(!R)return M;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);M+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);M+="; Domain="+R.domain}if(R.path){if(!s.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);M+="; Path="+R.path}if(R.expires){if(!b(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);M+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(M+="; HttpOnly"),R.secure&&(M+="; Secure"),R.partitioned&&(M+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return M}function v(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function b(x){return a.call(x)==="[object Date]"}return Yu}eI();var Qw="popstate";function tI(n={}){function e(s,a){let{pathname:o,search:c,hash:d}=s.location;return sv("",{pathname:o,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){return typeof a=="string"?a:fd(a)}return rI(e,t,null,n)}function tn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ds(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nI(){return Math.random().toString(36).substring(2,10)}function Zw(n,e){return{usr:n.state,key:n.key,idx:e}}function sv(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Rc(e):e,state:t,key:e&&e.key||s||nI()}}function fd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Rc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function rI(n,e,t,s={}){let{window:a=document.defaultView,v5Compat:o=!1}=s,c=a.history,d="POP",m=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function b(){d="POP";let N=v(),M=N==null?null:N-p;p=N,m&&m({action:d,location:C.location,delta:M})}function x(N,M){d="PUSH";let L=sv(C.location,N,M);p=v()+1;let V=Zw(L,p),q=C.createHref(L);try{c.pushState(V,"",q)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;a.location.assign(q)}o&&m&&m({action:d,location:C.location,delta:1})}function S(N,M){d="REPLACE";let L=sv(C.location,N,M);p=v();let V=Zw(L,p),q=C.createHref(L);c.replaceState(V,"",q),o&&m&&m({action:d,location:C.location,delta:0})}function R(N){return sI(N)}let C={get action(){return d},get location(){return n(a,c)},listen(N){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(Qw,b),m=N,()=>{a.removeEventListener(Qw,b),m=null}},createHref(N){return e(a,N)},createURL:R,encodeLocation(N){let M=R(N);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:x,replace:S,go(N){return c.go(N)}};return C}function sI(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),tn(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:fd(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function xS(n,e,t="/"){return iI(n,e,t,!1)}function iI(n,e,t,s){let a=typeof e=="string"?Rc(e):e,o=Pi(a.pathname||"/",t);if(o==null)return null;let c=wS(n);aI(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=yI(o);d=pI(c[m],p,s)}return d}function wS(n,e=[],t=[],s=""){let a=(o,c,d)=>{let m={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};m.relativePath.startsWith("/")&&(tn(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let p=ki([s,m.relativePath]),v=t.concat(m);o.children&&o.children.length>0&&(tn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),wS(o.children,e,v,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:hI(p,o.index),routesMeta:v})};return n.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))a(o,c);else for(let m of ES(o.path))a(o,c,m)}),e}function ES(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let c=ES(s.join("/")),d=[];return d.push(...c.map(m=>m===""?o:[o,m].join("/"))),a&&d.push(...c),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function aI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:mI(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var oI=/^:[\w-]+$/,lI=3,cI=2,uI=1,dI=10,fI=-2,Ww=n=>n==="*";function hI(n,e){let t=n.split("/"),s=t.length;return t.some(Ww)&&(s+=fI),e&&(s+=cI),t.filter(a=>!Ww(a)).reduce((a,o)=>a+(oI.test(o)?lI:o===""?uI:dI),s)}function mI(n,e){return n.length===e.length&&n.slice(0,-1).every((s,a)=>s===e[a])?n[n.length-1]-e[e.length-1]:0}function pI(n,e,t=!1){let{routesMeta:s}=n,a={},o="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],p=d===s.length-1,v=o==="/"?e:e.slice(o.length)||"/",b=om({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),x=m.route;if(!b&&p&&t&&!s[s.length-1].route.index&&(b=om({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:ki([o,b.pathname]),pathnameBase:xI(ki([o,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(o=ki([o,b.pathnameBase]))}return c}function om(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=gI(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((p,{paramName:v,isOptional:b},x)=>{if(v==="*"){let R=d[x]||"";c=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const S=d[x];return b&&!S?p[v]=void 0:p[v]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:n}}function gI(n,e=!1,t=!0){ds(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function yI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ds(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Pi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function vI(n,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof n=="string"?Rc(n):n;return{pathname:t?t.startsWith("/")?t:_I(t,e):e,search:wI(s),hash:EI(a)}}function _I(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Iy(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function n0(n){let e=bI(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function r0(n,e,t,s=!1){let a;typeof n=="string"?a=Rc(n):(a={...n},tn(!a.pathname||!a.pathname.includes("?"),Iy("?","pathname","search",a)),tn(!a.pathname||!a.pathname.includes("#"),Iy("#","pathname","hash",a)),tn(!a.search||!a.search.includes("#"),Iy("#","search","hash",a)));let o=n===""||a.pathname==="",c=o?"/":a.pathname,d;if(c==null)d=t;else{let b=e.length-1;if(!s&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),b-=1;a.pathname=x.join("/")}d=b>=0?e[b]:"/"}let m=vI(a,d),p=c&&c!=="/"&&c.endsWith("/"),v=(o||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var ki=n=>n.join("/").replace(/\/\/+/g,"/"),xI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),wI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,EI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function TI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var TS=["POST","PUT","PATCH","DELETE"];new Set(TS);var SI=["GET",...TS];new Set(SI);var Nc=w.createContext(null);Nc.displayName="DataRouter";var $m=w.createContext(null);$m.displayName="DataRouterState";var SS=w.createContext({isTransitioning:!1});SS.displayName="ViewTransition";var AI=w.createContext(new Map);AI.displayName="Fetchers";var CI=w.createContext(null);CI.displayName="Await";var ys=w.createContext(null);ys.displayName="Navigation";var Vd=w.createContext(null);Vd.displayName="Location";var Xs=w.createContext({outlet:null,matches:[],isDataRoute:!1});Xs.displayName="Route";var s0=w.createContext(null);s0.displayName="RouteError";function RI(n,{relative:e}={}){tn(Ic(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=w.useContext(ys),{hash:a,pathname:o,search:c}=Ud(n,{relative:e}),d=o;return t!=="/"&&(d=o==="/"?t:ki([t,o])),s.createHref({pathname:d,search:c,hash:a})}function Ic(){return w.useContext(Vd)!=null}function $i(){return tn(Ic(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Vd).location}var AS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CS(n){w.useContext(ys).static||w.useLayoutEffect(n)}function Gm(){let{isDataRoute:n}=w.useContext(Xs);return n?zI():NI()}function NI(){tn(Ic(),"useNavigate() may be used only in the context of a <Router> component.");let n=w.useContext(Nc),{basename:e,navigator:t}=w.useContext(ys),{matches:s}=w.useContext(Xs),{pathname:a}=$i(),o=JSON.stringify(n0(s)),c=w.useRef(!1);return CS(()=>{c.current=!0}),w.useCallback((m,p={})=>{if(ds(c.current,AS),!c.current)return;if(typeof m=="number"){t.go(m);return}let v=r0(m,JSON.parse(o),a,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ki([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,o,a,n])}w.createContext(null);function Ud(n,{relative:e}={}){let{matches:t}=w.useContext(Xs),{pathname:s}=$i(),a=JSON.stringify(n0(t));return w.useMemo(()=>r0(n,JSON.parse(a),s,e==="path"),[n,a,s,e])}function II(n,e){return RS(n,e)}function RS(n,e,t,s){var M;tn(Ic(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=w.useContext(ys),{matches:o}=w.useContext(Xs),c=o[o.length-1],d=c?c.params:{},m=c?c.pathname:"/",p=c?c.pathnameBase:"/",v=c&&c.route;{let L=v&&v.path||"";NS(m,!v||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let b=$i(),x;if(e){let L=typeof e=="string"?Rc(e):e;tn(p==="/"||((M=L.pathname)==null?void 0:M.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${L.pathname}" was given in the \`location\` prop.`),x=L}else x=b;let S=x.pathname||"/",R=S;if(p!=="/"){let L=p.replace(/^\//,"").split("/");R="/"+S.replace(/^\//,"").split("/").slice(L.length).join("/")}let C=xS(n,{pathname:R});ds(v||C!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ds(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=MI(C&&C.map(L=>Object.assign({},L,{params:Object.assign({},d,L.params),pathname:ki([p,a.encodeLocation?a.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?p:ki([p,a.encodeLocation?a.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),o,t,s);return e&&N?w.createElement(Vd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},N):N}function kI(){let n=BI(),e=TI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:o},"ErrorBoundary")," or"," ",w.createElement("code",{style:o},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:a},t):null,c)}var DI=w.createElement(kI,null),OI=class extends w.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?w.createElement(Xs.Provider,{value:this.props.routeContext},w.createElement(s0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jI({routeContext:n,match:e,children:t}){let s=w.useContext(Nc);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Xs.Provider,{value:n},t)}function MI(n,e=[],t=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let m=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);tn(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(t)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:v,errors:b}=t,x=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||x){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,p,v)=>{let b,x=!1,S=null,R=null;t&&(b=o&&p.route.id?o[p.route.id]:void 0,S=p.route.errorElement||DI,c&&(d<0&&v===0?(NS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,R=null):d===v&&(x=!0,R=p.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,v+1)),N=()=>{let M;return b?M=S:x?M=R:p.route.Component?M=w.createElement(p.route.Component,null):p.route.element?M=p.route.element:M=m,w.createElement(jI,{match:p,routeContext:{outlet:m,matches:C,isDataRoute:t!=null},children:M})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?w.createElement(OI,{location:t.location,revalidation:t.revalidation,component:S,error:b,children:N(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):N()},null)}function i0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PI(n){let e=w.useContext(Nc);return tn(e,i0(n)),e}function LI(n){let e=w.useContext($m);return tn(e,i0(n)),e}function VI(n){let e=w.useContext(Xs);return tn(e,i0(n)),e}function a0(n){let e=VI(n),t=e.matches[e.matches.length-1];return tn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function UI(){return a0("useRouteId")}function BI(){var s;let n=w.useContext(s0),e=LI("useRouteError"),t=a0("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[t]}function zI(){let{router:n}=PI("useNavigate"),e=a0("useNavigate"),t=w.useRef(!1);return CS(()=>{t.current=!0}),w.useCallback(async(a,o={})=>{ds(t.current,AS),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var Xw={};function NS(n,e,t){!e&&!Xw[n]&&(Xw[n]=!0,ds(!1,t))}w.memo(FI);function FI({routes:n,future:e,state:t}){return RS(n,void 0,t,e)}function iv({to:n,replace:e,state:t,relative:s}){tn(Ic(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=w.useContext(ys);ds(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=w.useContext(Xs),{pathname:c}=$i(),d=Gm(),m=r0(n,n0(o),c,s==="path"),p=JSON.stringify(m);return w.useEffect(()=>{d(JSON.parse(p),{replace:e,state:t,relative:s})},[d,p,s,e,t]),null}function ss(n){tn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function HI({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:o=!1}){tn(!Ic(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof t=="string"&&(t=Rc(t));let{pathname:m="/",search:p="",hash:v="",state:b=null,key:x="default"}=t,S=w.useMemo(()=>{let R=Pi(m,c);return R==null?null:{location:{pathname:R,search:p,hash:v,state:b,key:x},navigationType:s}},[c,m,p,v,b,x,s]);return ds(S!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:w.createElement(ys.Provider,{value:d},w.createElement(Vd.Provider,{children:e,value:S}))}function qI({children:n,location:e}){return II(av(n),e)}function av(n,e=[]){let t=[];return w.Children.forEach(n,(s,a)=>{if(!w.isValidElement(s))return;let o=[...e,a];if(s.type===w.Fragment){t.push.apply(t,av(s.props.children,o));return}tn(s.type===ss,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tn(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=av(s.props.children,o)),t.push(c)}),t}var $h="get",Gh="application/x-www-form-urlencoded";function Ym(n){return n!=null&&typeof n.tagName=="string"}function $I(n){return Ym(n)&&n.tagName.toLowerCase()==="button"}function GI(n){return Ym(n)&&n.tagName.toLowerCase()==="form"}function YI(n){return Ym(n)&&n.tagName.toLowerCase()==="input"}function KI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function QI(n,e){return n.button===0&&(!e||e==="_self")&&!KI(n)}var Rh=null;function ZI(){if(Rh===null)try{new FormData(document.createElement("form"),0),Rh=!1}catch{Rh=!0}return Rh}var WI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ky(n){return n!=null&&!WI.has(n)?(ds(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gh}"`),null):n}function XI(n,e){let t,s,a,o,c;if(GI(n)){let d=n.getAttribute("action");s=d?Pi(d,e):null,t=n.getAttribute("method")||$h,a=ky(n.getAttribute("enctype"))||Gh,o=new FormData(n)}else if($I(n)||YI(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(s=m?Pi(m,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||$h,a=ky(n.getAttribute("formenctype"))||ky(d.getAttribute("enctype"))||Gh,o=new FormData(d,n),!ZI()){let{name:p,type:v,value:b}=n;if(v==="image"){let x=p?`${p}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else p&&o.append(p,b)}}else{if(Ym(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=$h,s=null,a=Gh,c=n}return o&&a==="text/plain"&&(c=o,o=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:o,body:c}}function o0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function JI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ek(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function tk(n,e,t){let s=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await JI(o,t);return c.links?c.links():[]}return[]}));return ik(s.flat(1).filter(ek).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Jw(n,e,t,s,a,o){let c=(m,p)=>t[p]?m.route.id!==t[p].route.id:!0,d=(m,p)=>{var v;return t[p].pathname!==m.pathname||((v=t[p].route.path)==null?void 0:v.endsWith("*"))&&t[p].params["*"]!==m.params["*"]};return o==="assets"?e.filter((m,p)=>c(m,p)||d(m,p)):o==="data"?e.filter((m,p)=>{var b;let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let x=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function nk(n,e,{includeHydrateFallback:t}={}){return rk(n.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function rk(n){return[...new Set(n)]}function sk(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function ik(n,e){let t=new Set;return new Set(e),n.reduce((s,a)=>{let o=JSON.stringify(sk(a));return t.has(o)||(t.add(o),s.push({key:o,link:a})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ak=new Set([100,101,204,205]);function ok(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Pi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function IS(){let n=w.useContext(Nc);return o0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function lk(){let n=w.useContext($m);return o0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var l0=w.createContext(void 0);l0.displayName="FrameworkContext";function kS(){let n=w.useContext(l0);return o0(n,"You must render this element inside a <HydratedRouter> element"),n}function ck(n,e){let t=w.useContext(l0),[s,a]=w.useState(!1),[o,c]=w.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=e,x=w.useRef(null);w.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let C=M=>{M.forEach(L=>{c(L.isIntersecting)})},N=new IntersectionObserver(C,{threshold:.5});return x.current&&N.observe(x.current),()=>{N.disconnect()}}},[n]),w.useEffect(()=>{if(s){let C=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(C)}}},[s]);let S=()=>{a(!0)},R=()=>{a(!1),c(!1)};return t?n!=="intent"?[o,x,{}]:[o,x,{onFocus:Ku(d,S),onBlur:Ku(m,R),onMouseEnter:Ku(p,S),onMouseLeave:Ku(v,R),onTouchStart:Ku(b,S)}]:[!1,x,{}]}function Ku(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function uk({page:n,...e}){let{router:t}=IS(),s=w.useMemo(()=>xS(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?w.createElement(fk,{page:n,matches:s,...e}):null}function dk(n){let{manifest:e,routeModules:t}=kS(),[s,a]=w.useState([]);return w.useEffect(()=>{let o=!1;return tk(n,e,t).then(c=>{o||a(c)}),()=>{o=!0}},[n,e,t]),s}function fk({page:n,matches:e,...t}){let s=$i(),{manifest:a,routeModules:o}=kS(),{basename:c}=IS(),{loaderData:d,matches:m}=lk(),p=w.useMemo(()=>Jw(n,e,m,a,s,"data"),[n,e,m,a,s]),v=w.useMemo(()=>Jw(n,e,m,a,s,"assets"),[n,e,m,a,s]),b=w.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let R=new Set,C=!1;if(e.forEach(M=>{var V;let L=a.routes[M.route.id];!L||!L.hasLoader||(!p.some(q=>q.route.id===M.route.id)&&M.route.id in d&&((V=o[M.route.id])!=null&&V.shouldRevalidate)||L.hasClientLoader?C=!0:R.add(M.route.id))}),R.size===0)return[];let N=ok(n,c);return C&&R.size>0&&N.searchParams.set("_routes",e.filter(M=>R.has(M.route.id)).map(M=>M.route.id).join(",")),[N.pathname+N.search]},[c,d,s,a,p,e,n,o]),x=w.useMemo(()=>nk(v,a),[v,a]),S=dk(v);return w.createElement(w.Fragment,null,b.map(R=>w.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),x.map(R=>w.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),S.map(({key:R,link:C})=>w.createElement("link",{key:R,...C})))}function hk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var DS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DS&&(window.__reactRouterVersion="7.6.1")}catch{}function mk({basename:n,children:e,window:t}){let s=w.useRef();s.current==null&&(s.current=tI({window:t,v5Compat:!0}));let a=s.current,[o,c]=w.useState({action:a.action,location:a.location}),d=w.useCallback(m=>{w.startTransition(()=>c(m))},[c]);return w.useLayoutEffect(()=>a.listen(d),[a,d]),w.createElement(HI,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:a})}var OS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lc=w.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:o,replace:c,state:d,target:m,to:p,preventScrollReset:v,viewTransition:b,...x},S){let{basename:R}=w.useContext(ys),C=typeof p=="string"&&OS.test(p),N,M=!1;if(typeof p=="string"&&C&&(N=p,DS))try{let O=new URL(window.location.href),B=p.startsWith("//")?new URL(O.protocol+p):new URL(p),D=Pi(B.pathname,R);B.origin===O.origin&&D!=null?p=D+B.search+B.hash:M=!0}catch{ds(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=RI(p,{relative:a}),[V,q,F]=ck(s,x),Z=vk(p,{replace:c,state:d,target:m,preventScrollReset:v,relative:a,viewTransition:b});function k(O){e&&e(O),O.defaultPrevented||Z(O)}let A=w.createElement("a",{...x,...F,href:N||L,onClick:M||o?e:k,ref:hk(S,q),target:m,"data-discover":!C&&t==="render"?"true":void 0});return V&&!C?w.createElement(w.Fragment,null,A,w.createElement(uk,{page:L})):A});lc.displayName="Link";var pk=w.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:o,to:c,viewTransition:d,children:m,...p},v){let b=Ud(c,{relative:p.relative}),x=$i(),S=w.useContext($m),{navigator:R,basename:C}=w.useContext(ys),N=S!=null&&Ek(b)&&d===!0,M=R.encodeLocation?R.encodeLocation(b).pathname:b.pathname,L=x.pathname,V=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(L=L.toLowerCase(),V=V?V.toLowerCase():null,M=M.toLowerCase()),V&&C&&(V=Pi(V,C)||V);const q=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let F=L===M||!a&&L.startsWith(M)&&L.charAt(q)==="/",Z=V!=null&&(V===M||!a&&V.startsWith(M)&&V.charAt(M.length)==="/"),k={isActive:F,isPending:Z,isTransitioning:N},A=F?e:void 0,O;typeof s=="function"?O=s(k):O=[s,F?"active":null,Z?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(k):o;return w.createElement(lc,{...p,"aria-current":A,className:O,ref:v,style:B,to:c,viewTransition:d},typeof m=="function"?m(k):m)});pk.displayName="NavLink";var gk=w.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:o,method:c=$h,action:d,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:b,...x},S)=>{let R=xk(),C=wk(d,{relative:p}),N=c.toLowerCase()==="get"?"get":"post",M=typeof d=="string"&&OS.test(d),L=V=>{if(m&&m(V),V.defaultPrevented)return;V.preventDefault();let q=V.nativeEvent.submitter,F=(q==null?void 0:q.getAttribute("formmethod"))||c;R(q||V.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:a,state:o,relative:p,preventScrollReset:v,viewTransition:b})};return w.createElement("form",{ref:S,method:N,action:C,onSubmit:s?m:L,...x,"data-discover":!M&&n==="render"?"true":void 0})});gk.displayName="Form";function yk(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jS(n){let e=w.useContext(Nc);return tn(e,yk(n)),e}function vk(n,{target:e,replace:t,state:s,preventScrollReset:a,relative:o,viewTransition:c}={}){let d=Gm(),m=$i(),p=Ud(n,{relative:o});return w.useCallback(v=>{if(QI(v,e)){v.preventDefault();let b=t!==void 0?t:fd(m)===fd(p);d(n,{replace:b,state:s,preventScrollReset:a,relative:o,viewTransition:c})}},[m,d,p,t,s,e,n,a,o,c])}var _k=0,bk=()=>`__${String(++_k)}__`;function xk(){let{router:n}=jS("useSubmit"),{basename:e}=w.useContext(ys),t=UI();return w.useCallback(async(s,a={})=>{let{action:o,method:c,encType:d,formData:m,body:p}=XI(s,e);if(a.navigate===!1){let v=a.fetcherKey||bk();await n.fetch(v,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function wk(n,{relative:e}={}){let{basename:t}=w.useContext(ys),s=w.useContext(Xs);tn(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),o={...Ud(n||".",{relative:e})},c=$i();if(n==null){o.search=c.search;let d=new URLSearchParams(o.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();o.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:ki([t,o.pathname])),fd(o)}function Ek(n,e={}){let t=w.useContext(SS);tn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=jS("useViewTransitionState"),a=Ud(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Pi(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=Pi(t.nextLocation.pathname,s)||t.nextLocation.pathname;return om(a.pathname,c)!=null||om(a.pathname,o)!=null}[...ak];var Bd=bS();const Tk=vS(Bd);function eE(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Sk(...n){return e=>{let t=!1;const s=n.map(a=>{const o=eE(a,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let a=0;a<s.length;a++){const o=s[a];typeof o=="function"?o():eE(n[a],null)}}}}function on(...n){return w.useCallback(Sk(...n),n)}function hd(n){const e=Ak(n),t=w.forwardRef((s,a)=>{const{children:o,...c}=s,d=w.Children.toArray(o),m=d.find(Rk);if(m){const p=m.props.children,v=d.map(b=>b===m?w.Children.count(p)>1?w.Children.only(null):w.isValidElement(p)?p.props.children:null:b);return h.jsx(e,{...c,ref:a,children:w.isValidElement(p)?w.cloneElement(p,void 0,v):null})}return h.jsx(e,{...c,ref:a,children:o})});return t.displayName=`${n}.Slot`,t}var MS=hd("Slot");function Ak(n){const e=w.forwardRef((t,s)=>{const{children:a,...o}=t,c=w.isValidElement(a)?Ik(a):void 0,d=on(c,s);if(w.isValidElement(a)){const m=Nk(o,a.props);return a.type!==w.Fragment&&(m.ref=d),w.cloneElement(a,m)}return w.Children.count(a)>1?w.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var Ck=Symbol("radix.slottable");function Rk(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===Ck}function Nk(n,e){const t={...e};for(const s in e){const a=n[s],o=e[s];/^on[A-Z]/.test(s)?a&&o?t[s]=(...d)=>{const m=o(...d);return a(...d),m}:a&&(t[s]=a):s==="style"?t[s]={...a,...o}:s==="className"&&(t[s]=[a,o].filter(Boolean).join(" "))}return{...n,...t}}function Ik(n){var s,a;let e=(s=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function PS(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=PS(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function LS(){for(var n,e,t=0,s="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=PS(n))&&(s&&(s+=" "),s+=e);return s}const tE=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,nE=LS,c0=(n,e)=>t=>{var s;if((e==null?void 0:e.variants)==null)return nE(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:a,defaultVariants:o}=e,c=Object.keys(a).map(p=>{const v=t==null?void 0:t[p],b=o==null?void 0:o[p];if(v===null)return null;const x=tE(v)||tE(b);return a[p][x]}),d=t&&Object.entries(t).reduce((p,v)=>{let[b,x]=v;return x===void 0||(p[b]=x),p},{}),m=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((p,v)=>{let{class:b,className:x,...S}=v;return Object.entries(S).every(R=>{let[C,N]=R;return Array.isArray(N)?N.includes({...o,...d}[C]):{...o,...d}[C]===N})?[...p,b,x]:p},[]);return nE(n,c,m,t==null?void 0:t.class,t==null?void 0:t.className)},u0="-",kk=n=>{const e=Ok(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=n;return{getClassGroupId:c=>{const d=c.split(u0);return d[0]===""&&d.length!==1&&d.shift(),VS(d,e)||Dk(c)},getConflictingClassGroupIds:(c,d)=>{const m=t[c]||[];return d&&s[c]?[...m,...s[c]]:m}}},VS=(n,e)=>{var c;if(n.length===0)return e.classGroupId;const t=n[0],s=e.nextPart.get(t),a=s?VS(n.slice(1),s):void 0;if(a)return a;if(e.validators.length===0)return;const o=n.join(u0);return(c=e.validators.find(({validator:d})=>d(o)))==null?void 0:c.classGroupId},rE=/^\[(.+)\]$/,Dk=n=>{if(rE.test(n)){const e=rE.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},Ok=n=>{const{theme:e,classGroups:t}=n,s={nextPart:new Map,validators:[]};for(const a in t)ov(t[a],s,a,e);return s},ov=(n,e,t,s)=>{n.forEach(a=>{if(typeof a=="string"){const o=a===""?e:sE(e,a);o.classGroupId=t;return}if(typeof a=="function"){if(jk(a)){ov(a(s),e,t,s);return}e.validators.push({validator:a,classGroupId:t});return}Object.entries(a).forEach(([o,c])=>{ov(c,sE(e,o),t,s)})})},sE=(n,e)=>{let t=n;return e.split(u0).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},jk=n=>n.isThemeGetter,Mk=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,s=new Map;const a=(o,c)=>{t.set(o,c),e++,e>n&&(e=0,s=t,t=new Map)};return{get(o){let c=t.get(o);if(c!==void 0)return c;if((c=s.get(o))!==void 0)return a(o,c),c},set(o,c){t.has(o)?t.set(o,c):a(o,c)}}},lv="!",cv=":",Pk=cv.length,Lk=n=>{const{prefix:e,experimentalParseClassName:t}=n;let s=a=>{const o=[];let c=0,d=0,m=0,p;for(let R=0;R<a.length;R++){let C=a[R];if(c===0&&d===0){if(C===cv){o.push(a.slice(m,R)),m=R+Pk;continue}if(C==="/"){p=R;continue}}C==="["?c++:C==="]"?c--:C==="("?d++:C===")"&&d--}const v=o.length===0?a:a.substring(m),b=Vk(v),x=b!==v,S=p&&p>m?p-m:void 0;return{modifiers:o,hasImportantModifier:x,baseClassName:b,maybePostfixModifierPosition:S}};if(e){const a=e+cv,o=s;s=c=>c.startsWith(a)?o(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(t){const a=s;s=o=>t({className:o,parseClassName:a})}return s},Vk=n=>n.endsWith(lv)?n.substring(0,n.length-1):n.startsWith(lv)?n.substring(1):n,Uk=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const a=[];let o=[];return s.forEach(c=>{c[0]==="["||e[c]?(a.push(...o.sort(),c),o=[]):o.push(c)}),a.push(...o.sort()),a}},Bk=n=>({cache:Mk(n.cacheSize),parseClassName:Lk(n),sortModifiers:Uk(n),...kk(n)}),zk=/\s+/,Fk=(n,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:o}=e,c=[],d=n.trim().split(zk);let m="";for(let p=d.length-1;p>=0;p-=1){const v=d[p],{isExternal:b,modifiers:x,hasImportantModifier:S,baseClassName:R,maybePostfixModifierPosition:C}=t(v);if(b){m=v+(m.length>0?" "+m:m);continue}let N=!!C,M=s(N?R.substring(0,C):R);if(!M){if(!N){m=v+(m.length>0?" "+m:m);continue}if(M=s(R),!M){m=v+(m.length>0?" "+m:m);continue}N=!1}const L=o(x).join(":"),V=S?L+lv:L,q=V+M;if(c.includes(q))continue;c.push(q);const F=a(M,N);for(let Z=0;Z<F.length;++Z){const k=F[Z];c.push(V+k)}m=v+(m.length>0?" "+m:m)}return m};function Hk(){let n=0,e,t,s="";for(;n<arguments.length;)(e=arguments[n++])&&(t=US(e))&&(s&&(s+=" "),s+=t);return s}const US=n=>{if(typeof n=="string")return n;let e,t="";for(let s=0;s<n.length;s++)n[s]&&(e=US(n[s]))&&(t&&(t+=" "),t+=e);return t};function qk(n,...e){let t,s,a,o=c;function c(m){const p=e.reduce((v,b)=>b(v),n());return t=Bk(p),s=t.cache.get,a=t.cache.set,o=d,d(m)}function d(m){const p=s(m);if(p)return p;const v=Fk(m,t);return a(m,v),v}return function(){return o(Hk.apply(null,arguments))}}const Dn=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},BS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,zS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,$k=/^\d+\/\d+$/,Gk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Yk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Kk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Qk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Zk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hl=n=>$k.test(n),ot=n=>!!n&&!Number.isNaN(Number(n)),wa=n=>!!n&&Number.isInteger(Number(n)),Dy=n=>n.endsWith("%")&&ot(n.slice(0,-1)),Ai=n=>Gk.test(n),Wk=()=>!0,Xk=n=>Yk.test(n)&&!Kk.test(n),FS=()=>!1,Jk=n=>Qk.test(n),eD=n=>Zk.test(n),tD=n=>!ke(n)&&!De(n),nD=n=>kc(n,$S,FS),ke=n=>BS.test(n),Oo=n=>kc(n,GS,Xk),Oy=n=>kc(n,oD,ot),iE=n=>kc(n,HS,FS),rD=n=>kc(n,qS,eD),Nh=n=>kc(n,YS,Jk),De=n=>zS.test(n),Qu=n=>Dc(n,GS),sD=n=>Dc(n,lD),aE=n=>Dc(n,HS),iD=n=>Dc(n,$S),aD=n=>Dc(n,qS),Ih=n=>Dc(n,YS,!0),kc=(n,e,t)=>{const s=BS.exec(n);return s?s[1]?e(s[1]):t(s[2]):!1},Dc=(n,e,t=!1)=>{const s=zS.exec(n);return s?s[1]?e(s[1]):t:!1},HS=n=>n==="position"||n==="percentage",qS=n=>n==="image"||n==="url",$S=n=>n==="length"||n==="size"||n==="bg-size",GS=n=>n==="length",oD=n=>n==="number",lD=n=>n==="family-name",YS=n=>n==="shadow",cD=()=>{const n=Dn("color"),e=Dn("font"),t=Dn("text"),s=Dn("font-weight"),a=Dn("tracking"),o=Dn("leading"),c=Dn("breakpoint"),d=Dn("container"),m=Dn("spacing"),p=Dn("radius"),v=Dn("shadow"),b=Dn("inset-shadow"),x=Dn("text-shadow"),S=Dn("drop-shadow"),R=Dn("blur"),C=Dn("perspective"),N=Dn("aspect"),M=Dn("ease"),L=Dn("animate"),V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],F=()=>[...q(),De,ke],Z=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],A=()=>[De,ke,m],O=()=>[Hl,"full","auto",...A()],B=()=>[wa,"none","subgrid",De,ke],D=()=>["auto",{span:["full",wa,De,ke]},wa,De,ke],U=()=>[wa,"auto",De,ke],P=()=>["auto","min","max","fr",De,ke],G=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],te=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...A()],X=()=>[Hl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],K=()=>[n,De,ke],pe=()=>[...q(),aE,iE,{position:[De,ke]}],z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ie=()=>["auto","cover","contain",iD,nD,{size:[De,ke]}],he=()=>[Dy,Qu,Oo],oe=()=>["","none","full",p,De,ke],_e=()=>["",ot,Qu,Oo],Ue=()=>["solid","dashed","dotted","double"],Ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ge=()=>[ot,Dy,aE,iE],Me=()=>["","none",R,De,ke],ht=()=>["none",ot,De,ke],Qe=()=>["none",ot,De,ke],Ze=()=>[ot,De,ke],Je=()=>[Hl,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ai],breakpoint:[Ai],color:[Wk],container:[Ai],"drop-shadow":[Ai],ease:["in","out","in-out"],font:[tD],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ai],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ai],shadow:[Ai],spacing:["px",ot],text:[Ai],"text-shadow":[Ai],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Hl,ke,De,N]}],container:["container"],columns:[{columns:[ot,ke,De,d]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:F()}],overflow:[{overflow:Z()}],"overflow-x":[{"overflow-x":Z()}],"overflow-y":[{"overflow-y":Z()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[wa,"auto",De,ke]}],basis:[{basis:[Hl,"full","auto",d,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ot,Hl,"auto","initial","none",ke]}],grow:[{grow:["",ot,De,ke]}],shrink:[{shrink:["",ot,De,ke]}],order:[{order:[wa,"first","last","none",De,ke]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...G(),"normal"]}],"justify-items":[{"justify-items":[...te(),"normal"]}],"justify-self":[{"justify-self":["auto",...te()]}],"align-content":[{content:["normal",...G()]}],"align-items":[{items:[...te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...te(),{baseline:["","last"]}]}],"place-content":[{"place-content":G()}],"place-items":[{"place-items":[...te(),"baseline"]}],"place-self":[{"place-self":["auto",...te()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:X()}],w:[{w:[d,"screen",...X()]}],"min-w":[{"min-w":[d,"screen","none",...X()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...X()]}],h:[{h:["screen","lh",...X()]}],"min-h":[{"min-h":["screen","lh","none",...X()]}],"max-h":[{"max-h":["screen","lh",...X()]}],"font-size":[{text:["base",t,Qu,Oo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,De,Oy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Dy,ke]}],"font-family":[{font:[sD,ke,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,De,ke]}],"line-clamp":[{"line-clamp":[ot,"none",De,Oy]}],leading:[{leading:[o,...A()]}],"list-image":[{"list-image":["none",De,ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",De,ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[ot,"from-font","auto",De,Oo]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[ot,"auto",De,ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De,ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De,ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:pe()}],"bg-repeat":[{bg:z()}],"bg-size":[{bg:ie()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},wa,De,ke],radial:["",De,ke],conic:[wa,De,ke]},aD,rD]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:he()}],"gradient-via-pos":[{via:he()}],"gradient-to-pos":[{to:he()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:_e()}],"border-w-x":[{"border-x":_e()}],"border-w-y":[{"border-y":_e()}],"border-w-s":[{"border-s":_e()}],"border-w-e":[{"border-e":_e()}],"border-w-t":[{"border-t":_e()}],"border-w-r":[{"border-r":_e()}],"border-w-b":[{"border-b":_e()}],"border-w-l":[{"border-l":_e()}],"divide-x":[{"divide-x":_e()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":_e()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ue(),"hidden","none"]}],"divide-style":[{divide:[...Ue(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...Ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ot,De,ke]}],"outline-w":[{outline:["",ot,Qu,Oo]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",v,Ih,Nh]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",b,Ih,Nh]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:_e()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[ot,Oo]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":_e()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",x,Ih,Nh]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[ot,De,ke]}],"mix-blend":[{"mix-blend":[...Ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ot]}],"mask-image-linear-from-pos":[{"mask-linear-from":ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":ge()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":ge()}],"mask-image-t-to-pos":[{"mask-t-to":ge()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":ge()}],"mask-image-r-to-pos":[{"mask-r-to":ge()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":ge()}],"mask-image-b-to-pos":[{"mask-b-to":ge()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":ge()}],"mask-image-l-to-pos":[{"mask-l-to":ge()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":ge()}],"mask-image-x-to-pos":[{"mask-x-to":ge()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":ge()}],"mask-image-y-to-pos":[{"mask-y-to":ge()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[De,ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":ge()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":q()}],"mask-image-conic-pos":[{"mask-conic":[ot]}],"mask-image-conic-from-pos":[{"mask-conic-from":ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":ge()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:pe()}],"mask-repeat":[{mask:z()}],"mask-size":[{mask:ie()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",De,ke]}],filter:[{filter:["","none",De,ke]}],blur:[{blur:Me()}],brightness:[{brightness:[ot,De,ke]}],contrast:[{contrast:[ot,De,ke]}],"drop-shadow":[{"drop-shadow":["","none",S,Ih,Nh]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",ot,De,ke]}],"hue-rotate":[{"hue-rotate":[ot,De,ke]}],invert:[{invert:["",ot,De,ke]}],saturate:[{saturate:[ot,De,ke]}],sepia:[{sepia:["",ot,De,ke]}],"backdrop-filter":[{"backdrop-filter":["","none",De,ke]}],"backdrop-blur":[{"backdrop-blur":Me()}],"backdrop-brightness":[{"backdrop-brightness":[ot,De,ke]}],"backdrop-contrast":[{"backdrop-contrast":[ot,De,ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ot,De,ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ot,De,ke]}],"backdrop-invert":[{"backdrop-invert":["",ot,De,ke]}],"backdrop-opacity":[{"backdrop-opacity":[ot,De,ke]}],"backdrop-saturate":[{"backdrop-saturate":[ot,De,ke]}],"backdrop-sepia":[{"backdrop-sepia":["",ot,De,ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",De,ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ot,"initial",De,ke]}],ease:[{ease:["linear","initial",M,De,ke]}],delay:[{delay:[ot,De,ke]}],animate:[{animate:["none",L,De,ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,De,ke]}],"perspective-origin":[{"perspective-origin":F()}],rotate:[{rotate:ht()}],"rotate-x":[{"rotate-x":ht()}],"rotate-y":[{"rotate-y":ht()}],"rotate-z":[{"rotate-z":ht()}],scale:[{scale:Qe()}],"scale-x":[{"scale-x":Qe()}],"scale-y":[{"scale-y":Qe()}],"scale-z":[{"scale-z":Qe()}],"scale-3d":["scale-3d"],skew:[{skew:Ze()}],"skew-x":[{"skew-x":Ze()}],"skew-y":[{"skew-y":Ze()}],transform:[{transform:[De,ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:F()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Je()}],"translate-x":[{"translate-x":Je()}],"translate-y":[{"translate-y":Je()}],"translate-z":[{"translate-z":Je()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De,ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De,ke]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[ot,Qu,Oo,Oy]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},uD=qk(cD);function dn(...n){return uD(LS(n))}const dD=c0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Oe({className:n,variant:e,size:t,asChild:s=!1,...a}){const o=s?MS:"button";return h.jsx(o,{"data-slot":"button",className:dn(dD({variant:e,size:t,className:n})),...a})}function pt({className:n,...e}){return h.jsx("div",{"data-slot":"card",className:dn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...e})}function Ct({className:n,...e}){return h.jsx("div",{"data-slot":"card-header",className:dn("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function Rt({className:n,...e}){return h.jsx("div",{"data-slot":"card-title",className:dn("leading-none font-semibold",n),...e})}function Xt({className:n,...e}){return h.jsx("div",{"data-slot":"card-description",className:dn("text-muted-foreground text-sm",n),...e})}function gt({className:n,...e}){return h.jsx("div",{"data-slot":"card-content",className:dn("px-6",n),...e})}const fD=c0("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Mr({className:n,variant:e,asChild:t=!1,...s}){const a=t?MS:"span";return h.jsx(a,{"data-slot":"badge",className:dn(fD({variant:e}),n),...s})}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mD=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),oE=n=>{const e=mD(n);return e.charAt(0).toUpperCase()+e.slice(1)},KS=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),pD=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=w.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:c,...d},m)=>w.createElement("svg",{ref:m,...gD,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:KS("lucide",a),...!o&&!pD(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,v])=>w.createElement(p,v)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=(n,e)=>{const t=w.forwardRef(({className:s,...a},o)=>w.createElement(yD,{ref:o,iconNode:e,className:KS(`lucide-${hD(oE(n))}`,`lucide-${n}`,s),...a}));return t.displayName=oE(n),t};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],lm=vt("book-open",vD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],QS=vt("bot",_D);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],xD=vt("calendar",bD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],ED=vt("chart-pie",wD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],d0=vt("check",TD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ZS=vt("chevron-down",SD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],CD=vt("chevron-up",AD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],cm=vt("circle-alert",RD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ec=vt("circle-check-big",ND);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],lE=vt("circle-x",ID);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],uv=vt("clock",kD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]],OD=vt("cog",DD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],WS=vt("credit-card",jD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],PD=vt("crown",MD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],cc=vt("dollar-sign",LD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],dv=vt("eye-off",VD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fv=vt("eye",UD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],zD=vt("house",BD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],cE=vt("log-out",FD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],XS=vt("mail",HD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],$D=vt("menu",qD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],uc=vt("plus",GD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],KD=vt("refresh-cw",YD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],f0=vt("save",QD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],WD=vt("send",ZD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],JD=vt("smartphone",XD);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],dc=vt("square-pen",eO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],JS=vt("tag",tO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],rO=vt("target",nO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],fc=vt("trash-2",sO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],aO=vt("trending-down",iO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],e1=vt("upload",oO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],t1=vt("user-plus",lO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],n1=vt("user",cO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],r1=vt("users",uO);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hc=vt("x",dO);/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=()=>{};var uE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},hO=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const a=n[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[s++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],c=n[t++],d=n[t++],m=((a&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const o=n[t++],c=n[t++];e[s++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},i1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,d=c?n[a+1]:0,m=a+2<n.length,p=m?n[a+2]:0,v=o>>2,b=(o&3)<<4|d>>4;let x=(d&15)<<2|p>>6,S=p&63;m||(S=64,c||(x=64)),s.push(t[v],t[b],t[x],t[S])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(s1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):hO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const b=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||d==null||p==null||b==null)throw new mO;const x=o<<2|d>>4;if(s.push(x),p!==64){const S=d<<4&240|p>>2;if(s.push(S),b!==64){const R=p<<6&192|b;s.push(R)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class mO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pO=function(n){const e=s1(n);return i1.encodeByteArray(e,!0)},um=function(n){return pO(n).replace(/\./g,"")},a1=function(n){try{return i1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=()=>gO().__FIREBASE_DEFAULTS__,vO=()=>{if(typeof process>"u"||typeof uE>"u")return;const n=uE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},_O=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&a1(n[1]);return e&&JSON.parse(e)},Km=()=>{try{return fO()||yO()||vO()||_O()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},o1=n=>{var e,t;return(t=(e=Km())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},bO=n=>{const e=o1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},l1=()=>{var n;return(n=Km())===null||n===void 0?void 0:n.config},c1=n=>{var e;return(e=Km())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(n){return n.endsWith(".cloudworkstations.dev")}async function u1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[um(JSON.stringify(t)),um(JSON.stringify(c)),""].join(".")}const ad={};function EO(){const n={prod:[],emulator:[]};for(const e of Object.keys(ad))ad[e]?n.emulator.push(e):n.prod.push(e);return n}function TO(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let dE=!1;function d1(n,e){if(typeof window>"u"||typeof document>"u"||!Oc(window.location.host)||ad[n]===e||ad[n]||dE)return;ad[n]=e;function t(x){return`__firebase__banner__${x}`}const s="__firebase__banner",o=EO().prod.length>0;function c(){const x=document.getElementById(s);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function m(x,S){x.setAttribute("width","24"),x.setAttribute("id",S),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{dE=!0,c()},x}function v(x,S){x.setAttribute("id",S),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=TO(s),S=t("text"),R=document.getElementById(S)||document.createElement("span"),C=t("learnmore"),N=document.getElementById(C)||document.createElement("a"),M=t("preprendIcon"),L=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const V=x.element;d(V),v(N,C);const q=p();m(L,M),V.append(L,R,N,q),document.body.appendChild(V)}o?(R.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ar())}function AO(){var n;const e=(n=Km())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function NO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IO(){const n=ar();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function kO(){return!AO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DO(){try{return typeof indexedDB=="object"}catch{return!1}}function OO(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="FirebaseError";class Gi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=jO,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zd.prototype.create)}}class zd{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?MO(o,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Gi(a,d,s)}}function MO(n,e){return n.replace(PO,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const PO=/\{\$([^}]+)}/g;function LO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Uo(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const o=n[a],c=e[a];if(fE(o)&&fE(c)){if(!Uo(o,c))return!1}else if(o!==c)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function fE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Wu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,o]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Xu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function VO(n,e){const t=new UO(n,e);return t.subscribe.bind(t)}class UO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");BO(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=jy),a.error===void 0&&(a.error=jy),a.complete===void 0&&(a.complete=jy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BO(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function jy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(n){return n&&n._delegate?n._delegate:n}class Bo{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new xO;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HO(e))try{this.getOrInitializeService({instanceIdentifier:Po})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});s.resolve(o)}catch{}}}}clearInstance(e=Po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Po){return this.instances.has(e)}getOptions(e=Po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);s===d&&c.resolve(a)}return a}onInit(e,t){var s;const a=this.normalizeInstanceIdentifier(t),o=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:FO(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Po){return this.component?this.component.multipleInstances?e:Po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FO(n){return n===Po?void 0:n}function HO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new zO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(mt||(mt={}));const $O={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},GO=mt.INFO,YO={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},KO=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=YO[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class h0{constructor(e){this.name=e,this._logLevel=GO,this._logHandler=KO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$O[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...e),this._logHandler(this,mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...e),this._logHandler(this,mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...e),this._logHandler(this,mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...e),this._logHandler(this,mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...e),this._logHandler(this,mt.ERROR,...e)}}const QO=(n,e)=>e.some(t=>n instanceof t);let hE,mE;function ZO(){return hE||(hE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WO(){return mE||(mE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f1=new WeakMap,hv=new WeakMap,h1=new WeakMap,My=new WeakMap,m0=new WeakMap;function XO(n){const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(Oa(n.result)),a()},c=()=>{s(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&f1.set(t,n)}).catch(()=>{}),m0.set(e,n),e}function JO(n){if(hv.has(n))return;const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),a()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});hv.set(n,e)}let mv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return hv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||h1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Oa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function e3(n){mv=n(mv)}function t3(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Py(this),e,...t);return h1.set(s,e.sort?e.sort():[e]),Oa(s)}:WO().includes(n)?function(...e){return n.apply(Py(this),e),Oa(f1.get(this))}:function(...e){return Oa(n.apply(Py(this),e))}}function n3(n){return typeof n=="function"?t3(n):(n instanceof IDBTransaction&&JO(n),QO(n,ZO())?new Proxy(n,mv):n)}function Oa(n){if(n instanceof IDBRequest)return XO(n);if(My.has(n))return My.get(n);const e=n3(n);return e!==n&&(My.set(n,e),m0.set(e,n)),e}const Py=n=>m0.get(n);function r3(n,e,{blocked:t,upgrade:s,blocking:a,terminated:o}={}){const c=indexedDB.open(n,e),d=Oa(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Oa(c.result),m.oldVersion,m.newVersion,Oa(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{o&&m.addEventListener("close",()=>o()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const s3=["get","getKey","getAll","getAllKeys","count"],i3=["put","add","delete","clear"],Ly=new Map;function pE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ly.get(e))return Ly.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=i3.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||s3.includes(t)))return;const o=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),a&&m.done]))[0]};return Ly.set(e,o),o}e3(n=>({...n,get:(e,t,s)=>pE(e,t)||n.get(e,t,s),has:(e,t)=>!!pE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(o3(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function o3(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pv="@firebase/app",gE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new h0("@firebase/app"),l3="@firebase/app-compat",c3="@firebase/analytics-compat",u3="@firebase/analytics",d3="@firebase/app-check-compat",f3="@firebase/app-check",h3="@firebase/auth",m3="@firebase/auth-compat",p3="@firebase/database",g3="@firebase/data-connect",y3="@firebase/database-compat",v3="@firebase/functions",_3="@firebase/functions-compat",b3="@firebase/installations",x3="@firebase/installations-compat",w3="@firebase/messaging",E3="@firebase/messaging-compat",T3="@firebase/performance",S3="@firebase/performance-compat",A3="@firebase/remote-config",C3="@firebase/remote-config-compat",R3="@firebase/storage",N3="@firebase/storage-compat",I3="@firebase/firestore",k3="@firebase/ai",D3="@firebase/firestore-compat",O3="firebase",j3="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="[DEFAULT]",M3={[pv]:"fire-core",[l3]:"fire-core-compat",[u3]:"fire-analytics",[c3]:"fire-analytics-compat",[f3]:"fire-app-check",[d3]:"fire-app-check-compat",[h3]:"fire-auth",[m3]:"fire-auth-compat",[p3]:"fire-rtdb",[g3]:"fire-data-connect",[y3]:"fire-rtdb-compat",[v3]:"fire-fn",[_3]:"fire-fn-compat",[b3]:"fire-iid",[x3]:"fire-iid-compat",[w3]:"fire-fcm",[E3]:"fire-fcm-compat",[T3]:"fire-perf",[S3]:"fire-perf-compat",[A3]:"fire-rc",[C3]:"fire-rc-compat",[R3]:"fire-gcs",[N3]:"fire-gcs-compat",[I3]:"fire-fst",[D3]:"fire-fst-compat",[k3]:"fire-vertex","fire-js":"fire-js",[O3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm=new Map,P3=new Map,yv=new Map;function yE(n,e){try{n.container.addComponent(e)}catch(t){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function mc(n){const e=n.name;if(yv.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;yv.set(e,n);for(const t of dm.values())yE(t,n);for(const t of P3.values())yE(t,n);return!0}function p0(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Wr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ja=new zd("app","Firebase",L3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ja.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=j3;function m1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:gv,automaticDataCollectionEnabled:!0},e),a=s.name;if(typeof a!="string"||!a)throw ja.create("bad-app-name",{appName:String(a)});if(t||(t=l1()),!t)throw ja.create("no-options");const o=dm.get(a);if(o){if(Uo(t,o.options)&&Uo(s,o.config))return o;throw ja.create("duplicate-app",{appName:a})}const c=new qO(a);for(const m of yv.values())c.addComponent(m);const d=new V3(t,s,c);return dm.set(a,d),d}function p1(n=gv){const e=dm.get(n);if(!e&&n===gv&&l1())return m1();if(!e)throw ja.create("no-app",{appName:n});return e}function Ma(n,e,t){var s;let a=(s=M3[n])!==null&&s!==void 0?s:n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Li.warn(d.join(" "));return}mc(new Bo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3="firebase-heartbeat-database",B3=1,md="firebase-heartbeat-store";let Vy=null;function g1(){return Vy||(Vy=r3(U3,B3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(md)}catch(t){console.warn(t)}}}}).catch(n=>{throw ja.create("idb-open",{originalErrorMessage:n.message})})),Vy}async function z3(n){try{const t=(await g1()).transaction(md),s=await t.objectStore(md).get(y1(n));return await t.done,s}catch(e){if(e instanceof Gi)Li.warn(e.message);else{const t=ja.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Li.warn(t.message)}}}async function vE(n,e){try{const s=(await g1()).transaction(md,"readwrite");await s.objectStore(md).put(e,y1(n)),await s.done}catch(t){if(t instanceof Gi)Li.warn(t.message);else{const s=ja.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Li.warn(s.message)}}}function y1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=1024,H3=30;class q3{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new G3(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=_E();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>H3){const c=Y3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Li.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=_E(),{heartbeatsToSend:s,unsentEntries:a}=$3(this._heartbeatsCache.heartbeats),o=um(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Li.warn(t),""}}}function _E(){return new Date().toISOString().substring(0,10)}function $3(n,e=F3){const t=[];let s=n.slice();for(const a of n){const o=t.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),bE(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),bE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class G3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DO()?OO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await z3(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return vE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return vE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function bE(n){return um(JSON.stringify({version:2,heartbeats:n})).length}function Y3(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(n){mc(new Bo("platform-logger",e=>new a3(e),"PRIVATE")),mc(new Bo("heartbeat",e=>new q3(e),"PRIVATE")),Ma(pv,gE,n),Ma(pv,gE,"esm2017"),Ma("fire-js","")}K3("");var Ms=function(){return Ms=Object.assign||function(e){for(var t,s=1,a=arguments.length;s<a;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ms.apply(this,arguments)};function Hd(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(t[s[a]]=n[s[a]]);return t}function Q3(n,e,t){if(t||arguments.length===2)for(var s=0,a=e.length,o;s<a;s++)(o||!(s in e))&&(o||(o=Array.prototype.slice.call(e,0,s)),o[s]=e[s]);return n.concat(o||Array.prototype.slice.call(e))}function v1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Z3=v1,_1=new zd("auth","Firebase",v1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm=new h0("@firebase/auth");function W3(n,...e){fm.logLevel<=mt.WARN&&fm.warn(`Auth (${jc}): ${n}`,...e)}function Yh(n,...e){fm.logLevel<=mt.ERROR&&fm.error(`Auth (${jc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(n,...e){throw g0(n,...e)}function Bs(n,...e){return g0(n,...e)}function b1(n,e,t){const s=Object.assign(Object.assign({},Z3()),{[e]:t});return new zd("auth","Firebase",s).create(e,{appName:n.name})}function Di(n){return b1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function g0(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return _1.create(n,...e)}function qe(n,e,...t){if(!n)throw g0(e,...t)}function Ni(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Yh(e),new Error(e)}function Vi(n,e){n||Ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function X3(){return xE()==="http:"||xE()==="https:"}function xE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X3()||RO()||"connection"in navigator)?navigator.onLine:!0}function ej(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vi(t>e,"Short delay should be less than long delay!"),this.isMobile=SO()||NO()}get(){return J3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(n,e){Vi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rj=new qd(3e4,6e4);function Wa(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Yi(n,e,t,s,a={}){return w1(n,a,async()=>{let o={},c={};s&&(e==="GET"?c=s:o={body:JSON.stringify(s)});const d=Fd(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:m},o);return CO()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Oc(n.emulatorConfig.host)&&(p.credentials="include"),x1.fetch()(await E1(n,n.config.apiHost,t,d),p)})}async function w1(n,e,t){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},tj),e);try{const a=new ij(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw kh(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw kh(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw kh(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw kh(n,"user-disabled",c);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw b1(n,v,p);fs(n,v)}}catch(a){if(a instanceof Gi)throw a;fs(n,"network-request-failed",{message:String(a)})}}async function $d(n,e,t,s,a={}){const o=await Yi(n,e,t,s,a);return"mfaPendingCredential"in o&&fs(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function E1(n,e,t,s){const a=`${e}${t}?${s}`,o=n,c=o.config.emulator?y0(n.config,a):`${n.config.apiScheme}://${a}`;return nj.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function sj(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ij{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Bs(this.auth,"network-request-failed")),rj.get())})}}function kh(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=Bs(n,e,s);return a.customData._tokenResponse=t,a}function wE(n){return n!==void 0&&n.enterprise!==void 0}class aj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return sj(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oj(n,e){return Yi(n,"GET","/v2/recaptchaConfig",Wa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lj(n,e){return Yi(n,"POST","/v1/accounts:delete",e)}async function hm(n,e){return Yi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cj(n,e=!1){const t=fn(n),s=await t.getIdToken(e),a=v0(s);qe(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:a,token:s,authTime:od(Uy(a.auth_time)),issuedAtTime:od(Uy(a.iat)),expirationTime:od(Uy(a.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Uy(n){return Number(n)*1e3}function v0(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Yh("JWT malformed, contained fewer than 3 sections"),null;try{const a=a1(t);return a?JSON.parse(a):(Yh("Failed to decode base64 JWT payload"),null)}catch(a){return Yh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function EE(n){const e=v0(n);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Gi&&uj(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function uj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=od(this.lastLoginAt),this.creationTime=od(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mm(n){var e;const t=n.auth,s=await n.getIdToken(),a=await pc(n,hm(t,{idToken:s}));qe(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?T1(o.providerUserInfo):[],d=hj(n.providerData,c),m=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(d!=null&&d.length),v=m?p:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new _v(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(n,b)}async function fj(n){const e=fn(n);await mm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hj(n,e){return[...n.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function T1(n){return n.map(e=>{var{providerId:t}=e,s=Hd(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mj(n,e){const t=await w1(n,{},async()=>{const s=Fd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await E1(n,a,"/v1/token",`key=${o}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return n.emulatorConfig&&Oc(n.emulatorConfig.host)&&(m.credentials="include"),x1.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function pj(n,e){return Yi(n,"POST","/v2/accounts:revokeToken",Wa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):EE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const t=EE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:o}=await mj(e,t);this.updateTokensAndExpiration(s,a,Number(o))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:o}=t,c=new tc;return s&&(qe(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(qe(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(qe(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tc,this.toJSON())}_performRefresh(){return Ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(n,e){qe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class os{constructor(e){var{uid:t,auth:s,stsTokenManager:a}=e,o=Hd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _v(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await pc(this,this.stsTokenManager.getToken(this.auth,e));return qe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return cj(this,e)}reload(){return fj(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new os(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await mm(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wr(this.auth.app))return Promise.reject(Di(this.auth));const e=await this.getIdToken();return await pc(this,lj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,a,o,c,d,m,p,v;const b=(s=t.displayName)!==null&&s!==void 0?s:void 0,x=(a=t.email)!==null&&a!==void 0?a:void 0,S=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,R=(c=t.photoURL)!==null&&c!==void 0?c:void 0,C=(d=t.tenantId)!==null&&d!==void 0?d:void 0,N=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,M=(p=t.createdAt)!==null&&p!==void 0?p:void 0,L=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:V,emailVerified:q,isAnonymous:F,providerData:Z,stsTokenManager:k}=t;qe(V&&k,e,"internal-error");const A=tc.fromJSON(this.name,k);qe(typeof V=="string",e,"internal-error"),Ea(b,e.name),Ea(x,e.name),qe(typeof q=="boolean",e,"internal-error"),qe(typeof F=="boolean",e,"internal-error"),Ea(S,e.name),Ea(R,e.name),Ea(C,e.name),Ea(N,e.name),Ea(M,e.name),Ea(L,e.name);const O=new os({uid:V,auth:e,email:x,emailVerified:q,displayName:b,isAnonymous:F,photoURL:R,phoneNumber:S,tenantId:C,stsTokenManager:A,createdAt:M,lastLoginAt:L});return Z&&Array.isArray(Z)&&(O.providerData=Z.map(B=>Object.assign({},B))),N&&(O._redirectEventId=N),O}static async _fromIdTokenResponse(e,t,s=!1){const a=new tc;a.updateFromServerResponse(t);const o=new os({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await mm(o),o}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];qe(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?T1(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),d=new tc;d.updateFromIdToken(s);const m=new os({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new _v(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=new Map;function Ii(n){Vi(n instanceof Function,"Expected a class definition");let e=TE.get(n);return e?(Vi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,TE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}S1.type="NONE";const SE=S1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(n,e,t){return`firebase:${n}:${e}:${t}`}class nc{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:o}=this.auth;this.fullUserKey=Kh(this.userKey,a.apiKey,o),this.fullPersistenceKey=Kh("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await hm(this.auth,{idToken:e}).catch(()=>{});return t?os._fromGetAccountInfoResponse(this.auth,t,e):null}return os._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new nc(Ii(SE),e,s);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=a[0]||Ii(SE);const c=Kh(s,e.config.apiKey,e.name);let d=null;for(const p of t)try{const v=await p._get(c);if(v){let b;if(typeof v=="string"){const x=await hm(e,{idToken:v}).catch(()=>{});if(!x)break;b=await os._fromGetAccountInfoResponse(e,x,v)}else b=os._fromJSON(e,v);p!==o&&(d=b),o=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!m.length?new nc(o,e,s):(o=m[0],d&&await o._set(c,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(c)}catch{}})),new nc(o,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(N1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(A1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k1(e))return"Blackberry";if(D1(e))return"Webos";if(C1(e))return"Safari";if((e.includes("chrome/")||R1(e))&&!e.includes("edge/"))return"Chrome";if(I1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function A1(n=ar()){return/firefox\//i.test(n)}function C1(n=ar()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function R1(n=ar()){return/crios\//i.test(n)}function N1(n=ar()){return/iemobile/i.test(n)}function I1(n=ar()){return/android/i.test(n)}function k1(n=ar()){return/blackberry/i.test(n)}function D1(n=ar()){return/webos/i.test(n)}function _0(n=ar()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function gj(n=ar()){var e;return _0(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yj(){return IO()&&document.documentMode===10}function O1(n=ar()){return _0(n)||I1(n)||D1(n)||k1(n)||/windows phone/i.test(n)||N1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(n,e=[]){let t;switch(n){case"Browser":t=AE(ar());break;case"Worker":t=`${AE(ar())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${jc}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=o=>new Promise((c,d)=>{try{const m=e(o);c(m)}catch(m){d(m)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _j(n,e={}){return Yi(n,"GET","/v2/passwordPolicy",Wa(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=6;class xj{constructor(e){var t,s,a,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:bj,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,a,o,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(o=m.containsUppercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CE(this),this.idTokenSubscription=new CE(this),this.beforeStateQueue=new vj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ii(t)),this._initializationPromise=this.queue(async()=>{var s,a,o;if(!this._deleted&&(this.persistenceManager=await nc.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await hm(this,{idToken:e}),s=await os._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Wr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&(m!=null&&m.user)&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await mm(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ej()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wr(this.app))return Promise.reject(Di(this));const t=e?fn(e):null;return t&&qe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wr(this.app)?Promise.reject(Di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wr(this.app)?Promise.reject(Di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _j(this),t=new xj(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zd("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await pj(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ii(e)||this._popupRedirectResolver;qe(t,this,"argument-error"),this.redirectPersistenceManager=await nc.create(this,[Ii(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=j1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&W3(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Xo(n){return fn(n)}class CE{constructor(e){this.auth=e,this.observer=null,this.addObserver=VO(t=>this.observer=t)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ej(n){Qm=n}function M1(n){return Qm.loadJS(n)}function Tj(){return Qm.recaptchaEnterpriseScript}function Sj(){return Qm.gapiScript}function Aj(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Cj{constructor(){this.enterprise=new Rj}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Rj{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Nj="recaptcha-enterprise",P1="NO_RECAPTCHA";class Ij{constructor(e){this.type=Nj,this.auth=Xo(e)}async verify(e="verify",t=!1){async function s(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,d)=>{oj(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new aj(m);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,c(p.siteKey)}}).catch(m=>{d(m)})})}function a(o,c,d){const m=window.grecaptcha;wE(m)?m.enterprise.ready(()=>{m.enterprise.execute(o,{action:e}).then(p=>{c(p)}).catch(()=>{c(P1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Cj().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{s(this.auth).then(d=>{if(!t&&wE(window.grecaptcha))a(d,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=Tj();m.length!==0&&(m+=d),M1(m).then(()=>{a(d,o,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function RE(n,e,t,s=!1,a=!1){const o=new Ij(n);let c;if(a)c=P1;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function bv(n,e,t,s,a){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await RE(n,e,t,t==="getOobCode");return s(n,c)}else return s(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await RE(n,e,t,t==="getOobCode");return s(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(n,e){const t=p0(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Uo(o,e??{}))return a;fs(a,"already-initialized")}return t.initialize({options:e})}function Dj(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Ii);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Oj(n,e,t){const s=Xo(n);qe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,o=L1(e),{host:c,port:d}=jj(e),m=d===null?"":`:${d}`,p={url:`${o}//${c}${m}/`},v=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){qe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),qe(Uo(p,s.config.emulator)&&Uo(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Oc(c)?(u1(`${o}//${c}${m}`),d1("Auth",!0)):Mj()}function L1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function jj(n){const e=L1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const o=a[1];return{host:o,port:NE(s.substr(o.length+1))}}else{const[o,c]=s.split(":");return{host:o,port:NE(c)}}}function NE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Mj(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,t){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}async function Pj(n,e){return Yi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lj(n,e){return $d(n,"POST","/v1/accounts:signInWithPassword",Wa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vj(n,e){return $d(n,"POST","/v1/accounts:signInWithEmailLink",Wa(n,e))}async function Uj(n,e){return $d(n,"POST","/v1/accounts:signInWithEmailLink",Wa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd extends b0{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new pd(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new pd(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bv(e,t,"signInWithPassword",Lj);case"emailLink":return Vj(e,{email:this._email,oobCode:this._password});default:fs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bv(e,s,"signUpPassword",Pj);case"emailLink":return Uj(e,{idToken:t,email:this._email,oobCode:this._password});default:fs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(n,e){return $d(n,"POST","/v1/accounts:signInWithIdp",Wa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj="http://localhost";class zo extends b0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new zo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=t,o=Hd(t,["providerId","signInMethod"]);if(!s||!a)return null;const c=new zo(s,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return rc(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,rc(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,rc(e,t)}buildRequest(){const e={requestUri:Bj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Fd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Fj(n){const e=Wu(Xu(n)).link,t=e?Wu(Xu(e)).deep_link_id:null,s=Wu(Xu(n)).deep_link_id;return(s?Wu(Xu(s)).link:null)||s||t||e||n}class x0{constructor(e){var t,s,a,o,c,d;const m=Wu(Xu(e)),p=(t=m.apiKey)!==null&&t!==void 0?t:null,v=(s=m.oobCode)!==null&&s!==void 0?s:null,b=zj((a=m.mode)!==null&&a!==void 0?a:null);qe(p&&v&&b,"argument-error"),this.apiKey=p,this.operation=b,this.code=v,this.continueUrl=(o=m.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=Fj(e);try{return new x0(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(){this.providerId=Mc.PROVIDER_ID}static credential(e,t){return pd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=x0.parseLink(t);return qe(s,"argument-error"),pd._fromEmailAndCode(e,s.code,s.tenantId)}}Mc.PROVIDER_ID="password";Mc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd extends V1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends Gd{constructor(){super("facebook.com")}static credential(e){return zo._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ca.credential(e.oauthAccessToken)}catch{return null}}}Ca.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ca.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Gd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return zo._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Ra.credential(t,s)}catch{return null}}}Ra.GOOGLE_SIGN_IN_METHOD="google.com";Ra.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Gd{constructor(){super("github.com")}static credential(e){return zo._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Na.credential(e.oauthAccessToken)}catch{return null}}}Na.GITHUB_SIGN_IN_METHOD="github.com";Na.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends Gd{constructor(){super("twitter.com")}static credential(e,t){return zo._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Ia.credential(t,s)}catch{return null}}}Ia.TWITTER_SIGN_IN_METHOD="twitter.com";Ia.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hj(n,e){return $d(n,"POST","/v1/accounts:signUp",Wa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const o=await os._fromIdTokenResponse(e,s,a),c=IE(s);return new Fo({user:o,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=IE(s);return new Fo({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function IE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm extends Gi{constructor(e,t,s,a){var o;super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,pm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new pm(e,t,s,a)}}function U1(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?pm._fromErrorAndOperation(n,o,e,s):o})}async function qj(n,e,t=!1){const s=await pc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Fo._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $j(n,e,t=!1){const{auth:s}=n;if(Wr(s.app))return Promise.reject(Di(s));const a="reauthenticate";try{const o=await pc(n,U1(s,a,e,n),t);qe(o.idToken,s,"internal-error");const c=v0(o.idToken);qe(c,s,"internal-error");const{sub:d}=c;return qe(n.uid===d,s,"user-mismatch"),Fo._forOperation(n,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&fs(s,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B1(n,e,t=!1){if(Wr(n.app))return Promise.reject(Di(n));const s="signIn",a=await U1(n,s,e),o=await Fo._fromIdTokenResponse(n,s,a);return t||await n._updateCurrentUser(o.user),o}async function Gj(n,e){return B1(Xo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z1(n){const e=Xo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Yj(n,e,t){if(Wr(n.app))return Promise.reject(Di(n));const s=Xo(n),c=await bv(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Hj).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&z1(n),m}),d=await Fo._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function Kj(n,e,t){return Wr(n.app)?Promise.reject(Di(n)):Gj(fn(n),Mc.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&z1(n),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qj(n,e){return Yi(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F1(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=fn(n),o={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await pc(s,Qj(s.auth,o));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const d=s.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=s.displayName,d.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function Zj(n,e,t,s){return fn(n).onIdTokenChanged(e,t,s)}function Wj(n,e,t){return fn(n).beforeAuthStateChanged(e,t)}function Xj(n,e,t,s){return fn(n).onAuthStateChanged(e,t,s)}function Jj(n){return fn(n).signOut()}const gm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gm,"1"),this.storage.removeItem(gm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=1e3,t4=10;class q1 extends H1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=O1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},o=this.storage.getItem(s);yj()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,t4):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},e4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}q1.type="LOCAL";const n4=q1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1 extends H1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}$1.type="SESSION";const G1=$1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new Zm(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:o}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async p=>p(t.origin,o)),m=await r4(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((d,m)=>{const p=w0("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(b){const x=b;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(x.data.response);break;default:clearTimeout(v),clearTimeout(o),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(){return window}function i4(n){zs().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(){return typeof zs().WorkerGlobalScope<"u"&&typeof zs().importScripts=="function"}async function a4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function o4(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function l4(){return Y1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="firebaseLocalStorageDb",c4=1,ym="firebaseLocalStorage",Q1="fbase_key";class Yd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Wm(n,e){return n.transaction([ym],e?"readwrite":"readonly").objectStore(ym)}function u4(){const n=indexedDB.deleteDatabase(K1);return new Yd(n).toPromise()}function xv(){const n=indexedDB.open(K1,c4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(ym,{keyPath:Q1})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(ym)?e(s):(s.close(),await u4(),e(await xv()))})})}async function kE(n,e,t){const s=Wm(n,!0).put({[Q1]:e,value:t});return new Yd(s).toPromise()}async function d4(n,e){const t=Wm(n,!1).get(e),s=await new Yd(t).toPromise();return s===void 0?null:s.value}function DE(n,e){const t=Wm(n,!0).delete(e);return new Yd(t).toPromise()}const f4=800,h4=3;class Z1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>h4)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Y1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zm._getInstance(l4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await a4(),!this.activeServiceWorker)return;this.sender=new s4(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||o4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xv();return await kE(e,gm,"1"),await DE(e,gm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>kE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>d4(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>DE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=Wm(a,!1).getAll();return new Yd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),f4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Z1.type="LOCAL";const m4=Z1;new qd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(n,e){return e?Ii(e):(qe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0 extends b0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return rc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return rc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function g4(n){return B1(n.auth,new E0(n),n.bypassAuthState)}function y4(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),$j(t,new E0(n),n.bypassAuthState)}async function v4(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),qj(t,new E0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,t,s,a,o=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return g4;case"linkViaPopup":case"linkViaRedirect":return v4;case"reauthViaPopup":case"reauthViaRedirect":return y4;default:fs(this.auth,"internal-error")}}resolve(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=new qd(2e3,1e4);class Xl extends W1{constructor(e,t,s,a,o){super(e,t,a,o),this.provider=s,this.authWindow=null,this.pollId=null,Xl.currentPopupAction&&Xl.currentPopupAction.cancel(),Xl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){Vi(this.filter.length===1,"Popup operations only handle one event");const e=w0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_4.get())};e()}}Xl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="pendingRedirect",Qh=new Map;class x4 extends W1{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Qh.get(this.auth._key());if(!e){try{const s=await w4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Qh.set(this.auth._key(),e)}return this.bypassAuthState||Qh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function w4(n,e){const t=S4(e),s=T4(n);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function E4(n,e){Qh.set(n._key(),e)}function T4(n){return Ii(n._redirectPersistence)}function S4(n){return Kh(b4,n.config.apiKey,n.name)}async function A4(n,e,t=!1){if(Wr(n.app))return Promise.reject(Di(n));const s=Xo(n),a=p4(s,e),c=await new x4(s,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=10*60*1e3;class R4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!N4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!X1(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Bs(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=C4&&this.cachedEventUids.clear(),this.cachedEventUids.has(OE(e))}saveEventToCache(e){this.cachedEventUids.add(OE(e)),this.lastProcessedEventTime=Date.now()}}function OE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function X1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function N4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4(n,e={}){return Yi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,D4=/^https?/;async function O4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await I4(n);for(const t of e)try{if(j4(t))return}catch{}fs(n,"unauthorized-domain")}function j4(n){const e=vv(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!D4.test(t))return!1;if(k4.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=new qd(3e4,6e4);function jE(){const n=zs().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function P4(n){return new Promise((e,t)=>{var s,a,o;function c(){jE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jE(),t(Bs(n,"network-request-failed"))},timeout:M4.get()})}if(!((a=(s=zs().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=zs().gapi)===null||o===void 0)&&o.load)c();else{const d=Aj("iframefcb");return zs()[d]=()=>{gapi.load?c():t(Bs(n,"network-request-failed"))},M1(`${Sj()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw Zh=null,e})}let Zh=null;function L4(n){return Zh=Zh||P4(n),Zh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=new qd(5e3,15e3),U4="__/auth/iframe",B4="emulator/auth/iframe",z4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},F4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function H4(n){const e=n.config;qe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?y0(e,B4):`https://${n.config.authDomain}/${U4}`,s={apiKey:e.apiKey,appName:n.name,v:jc},a=F4.get(n.config.apiHost);a&&(s.eid=a);const o=n._getFrameworks();return o.length&&(s.fw=o.join(",")),`${t}?${Fd(s).slice(1)}`}async function q4(n){const e=await L4(n),t=zs().gapi;return qe(t,n,"internal-error"),e.open({where:document.body,url:H4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:z4,dontclear:!0},s=>new Promise(async(a,o)=>{await s.restyle({setHideOnLeave:!1});const c=Bs(n,"network-request-failed"),d=zs().setTimeout(()=>{o(c)},V4.get());function m(){zs().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},G4=500,Y4=600,K4="_blank",Q4="http://localhost";class ME{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Z4(n,e,t,s=G4,a=Y4){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m=Object.assign(Object.assign({},$4),{width:s.toString(),height:a.toString(),top:o,left:c}),p=ar().toLowerCase();t&&(d=R1(p)?K4:t),A1(p)&&(e=e||Q4,m.scrollbars="yes");const v=Object.entries(m).reduce((x,[S,R])=>`${x}${S}=${R},`,"");if(gj(p)&&d!=="_self")return W4(e||"",d),new ME(null);const b=window.open(e||"",d,v);qe(b,n,"popup-blocked");try{b.focus()}catch{}return new ME(b)}function W4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="__/auth/handler",J4="emulator/auth/handler",eM=encodeURIComponent("fac");async function PE(n,e,t,s,a,o){qe(n.config.authDomain,n,"auth-domain-config-required"),qe(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:jc,eventId:a};if(e instanceof V1){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",LO(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof Gd){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await n._getAppCheckToken(),p=m?`#${eM}=${encodeURIComponent(m)}`:"";return`${tM(n)}?${Fd(d).slice(1)}${p}`}function tM({config:n}){return n.emulator?y0(n,J4):`https://${n.authDomain}/${X4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="webStorageSupport";class nM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=G1,this._completeRedirectFn=A4,this._overrideRedirectResult=E4}async _openPopup(e,t,s,a){var o;Vi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await PE(e,t,s,vv(),a);return Z4(e,c,w0())}async _openRedirect(e,t,s,a){await this._originValidation(e);const o=await PE(e,t,s,vv(),a);return i4(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Vi(o,"If manager is not set, promise should be"),o)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await q4(e),s=new R4(e);return t.register("authEvent",a=>(qe(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(By,{type:By},a=>{var o;const c=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[By];c!==void 0&&t(!!c),fs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=O4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return O1()||C1()||_0()}}const rM=nM;var LE="@firebase/auth",VE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aM(n){mc(new Bo("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;qe(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j1(n)},p=new wj(s,a,o,m);return Dj(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),mc(new Bo("auth-internal",e=>{const t=Xo(e.getProvider("auth").getImmediate());return(s=>new sM(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ma(LE,VE,iM(n)),Ma(LE,VE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=5*60,lM=c1("authIdTokenMaxAge")||oM;let UE=null;const cM=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>lM)return;const a=t==null?void 0:t.token;UE!==a&&(UE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function uM(n=p1()){const e=p0(n,"auth");if(e.isInitialized())return e.getImmediate();const t=kj(n,{popupRedirectResolver:rM,persistence:[m4,n4,G1]}),s=c1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(s,location.origin);if(location.origin===o.origin){const c=cM(o.toString());Wj(t,c,()=>c(t.currentUser)),Zj(t,d=>c(d))}}const a=o1("auth");return a&&Oj(t,`http://${a}`),t}function dM(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Ej({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=a=>{const o=Bs("internal-error");o.customData=a,t(o)},s.type="text/javascript",s.charset="UTF-8",dM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aM("Browser");var BE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pa,J1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,A){function O(){}O.prototype=A.prototype,k.D=A.prototype,k.prototype=new O,k.prototype.constructor=k,k.C=function(B,D,U){for(var P=Array(arguments.length-2),G=2;G<arguments.length;G++)P[G-2]=arguments[G];return A.prototype[D].apply(B,P)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,A,O){O||(O=0);var B=Array(16);if(typeof A=="string")for(var D=0;16>D;++D)B[D]=A.charCodeAt(O++)|A.charCodeAt(O++)<<8|A.charCodeAt(O++)<<16|A.charCodeAt(O++)<<24;else for(D=0;16>D;++D)B[D]=A[O++]|A[O++]<<8|A[O++]<<16|A[O++]<<24;A=k.g[0],O=k.g[1],D=k.g[2];var U=k.g[3],P=A+(U^O&(D^U))+B[0]+3614090360&4294967295;A=O+(P<<7&4294967295|P>>>25),P=U+(D^A&(O^D))+B[1]+3905402710&4294967295,U=A+(P<<12&4294967295|P>>>20),P=D+(O^U&(A^O))+B[2]+606105819&4294967295,D=U+(P<<17&4294967295|P>>>15),P=O+(A^D&(U^A))+B[3]+3250441966&4294967295,O=D+(P<<22&4294967295|P>>>10),P=A+(U^O&(D^U))+B[4]+4118548399&4294967295,A=O+(P<<7&4294967295|P>>>25),P=U+(D^A&(O^D))+B[5]+1200080426&4294967295,U=A+(P<<12&4294967295|P>>>20),P=D+(O^U&(A^O))+B[6]+2821735955&4294967295,D=U+(P<<17&4294967295|P>>>15),P=O+(A^D&(U^A))+B[7]+4249261313&4294967295,O=D+(P<<22&4294967295|P>>>10),P=A+(U^O&(D^U))+B[8]+1770035416&4294967295,A=O+(P<<7&4294967295|P>>>25),P=U+(D^A&(O^D))+B[9]+2336552879&4294967295,U=A+(P<<12&4294967295|P>>>20),P=D+(O^U&(A^O))+B[10]+4294925233&4294967295,D=U+(P<<17&4294967295|P>>>15),P=O+(A^D&(U^A))+B[11]+2304563134&4294967295,O=D+(P<<22&4294967295|P>>>10),P=A+(U^O&(D^U))+B[12]+1804603682&4294967295,A=O+(P<<7&4294967295|P>>>25),P=U+(D^A&(O^D))+B[13]+4254626195&4294967295,U=A+(P<<12&4294967295|P>>>20),P=D+(O^U&(A^O))+B[14]+2792965006&4294967295,D=U+(P<<17&4294967295|P>>>15),P=O+(A^D&(U^A))+B[15]+1236535329&4294967295,O=D+(P<<22&4294967295|P>>>10),P=A+(D^U&(O^D))+B[1]+4129170786&4294967295,A=O+(P<<5&4294967295|P>>>27),P=U+(O^D&(A^O))+B[6]+3225465664&4294967295,U=A+(P<<9&4294967295|P>>>23),P=D+(A^O&(U^A))+B[11]+643717713&4294967295,D=U+(P<<14&4294967295|P>>>18),P=O+(U^A&(D^U))+B[0]+3921069994&4294967295,O=D+(P<<20&4294967295|P>>>12),P=A+(D^U&(O^D))+B[5]+3593408605&4294967295,A=O+(P<<5&4294967295|P>>>27),P=U+(O^D&(A^O))+B[10]+38016083&4294967295,U=A+(P<<9&4294967295|P>>>23),P=D+(A^O&(U^A))+B[15]+3634488961&4294967295,D=U+(P<<14&4294967295|P>>>18),P=O+(U^A&(D^U))+B[4]+3889429448&4294967295,O=D+(P<<20&4294967295|P>>>12),P=A+(D^U&(O^D))+B[9]+568446438&4294967295,A=O+(P<<5&4294967295|P>>>27),P=U+(O^D&(A^O))+B[14]+3275163606&4294967295,U=A+(P<<9&4294967295|P>>>23),P=D+(A^O&(U^A))+B[3]+4107603335&4294967295,D=U+(P<<14&4294967295|P>>>18),P=O+(U^A&(D^U))+B[8]+1163531501&4294967295,O=D+(P<<20&4294967295|P>>>12),P=A+(D^U&(O^D))+B[13]+2850285829&4294967295,A=O+(P<<5&4294967295|P>>>27),P=U+(O^D&(A^O))+B[2]+4243563512&4294967295,U=A+(P<<9&4294967295|P>>>23),P=D+(A^O&(U^A))+B[7]+1735328473&4294967295,D=U+(P<<14&4294967295|P>>>18),P=O+(U^A&(D^U))+B[12]+2368359562&4294967295,O=D+(P<<20&4294967295|P>>>12),P=A+(O^D^U)+B[5]+4294588738&4294967295,A=O+(P<<4&4294967295|P>>>28),P=U+(A^O^D)+B[8]+2272392833&4294967295,U=A+(P<<11&4294967295|P>>>21),P=D+(U^A^O)+B[11]+1839030562&4294967295,D=U+(P<<16&4294967295|P>>>16),P=O+(D^U^A)+B[14]+4259657740&4294967295,O=D+(P<<23&4294967295|P>>>9),P=A+(O^D^U)+B[1]+2763975236&4294967295,A=O+(P<<4&4294967295|P>>>28),P=U+(A^O^D)+B[4]+1272893353&4294967295,U=A+(P<<11&4294967295|P>>>21),P=D+(U^A^O)+B[7]+4139469664&4294967295,D=U+(P<<16&4294967295|P>>>16),P=O+(D^U^A)+B[10]+3200236656&4294967295,O=D+(P<<23&4294967295|P>>>9),P=A+(O^D^U)+B[13]+681279174&4294967295,A=O+(P<<4&4294967295|P>>>28),P=U+(A^O^D)+B[0]+3936430074&4294967295,U=A+(P<<11&4294967295|P>>>21),P=D+(U^A^O)+B[3]+3572445317&4294967295,D=U+(P<<16&4294967295|P>>>16),P=O+(D^U^A)+B[6]+76029189&4294967295,O=D+(P<<23&4294967295|P>>>9),P=A+(O^D^U)+B[9]+3654602809&4294967295,A=O+(P<<4&4294967295|P>>>28),P=U+(A^O^D)+B[12]+3873151461&4294967295,U=A+(P<<11&4294967295|P>>>21),P=D+(U^A^O)+B[15]+530742520&4294967295,D=U+(P<<16&4294967295|P>>>16),P=O+(D^U^A)+B[2]+3299628645&4294967295,O=D+(P<<23&4294967295|P>>>9),P=A+(D^(O|~U))+B[0]+4096336452&4294967295,A=O+(P<<6&4294967295|P>>>26),P=U+(O^(A|~D))+B[7]+1126891415&4294967295,U=A+(P<<10&4294967295|P>>>22),P=D+(A^(U|~O))+B[14]+2878612391&4294967295,D=U+(P<<15&4294967295|P>>>17),P=O+(U^(D|~A))+B[5]+4237533241&4294967295,O=D+(P<<21&4294967295|P>>>11),P=A+(D^(O|~U))+B[12]+1700485571&4294967295,A=O+(P<<6&4294967295|P>>>26),P=U+(O^(A|~D))+B[3]+2399980690&4294967295,U=A+(P<<10&4294967295|P>>>22),P=D+(A^(U|~O))+B[10]+4293915773&4294967295,D=U+(P<<15&4294967295|P>>>17),P=O+(U^(D|~A))+B[1]+2240044497&4294967295,O=D+(P<<21&4294967295|P>>>11),P=A+(D^(O|~U))+B[8]+1873313359&4294967295,A=O+(P<<6&4294967295|P>>>26),P=U+(O^(A|~D))+B[15]+4264355552&4294967295,U=A+(P<<10&4294967295|P>>>22),P=D+(A^(U|~O))+B[6]+2734768916&4294967295,D=U+(P<<15&4294967295|P>>>17),P=O+(U^(D|~A))+B[13]+1309151649&4294967295,O=D+(P<<21&4294967295|P>>>11),P=A+(D^(O|~U))+B[4]+4149444226&4294967295,A=O+(P<<6&4294967295|P>>>26),P=U+(O^(A|~D))+B[11]+3174756917&4294967295,U=A+(P<<10&4294967295|P>>>22),P=D+(A^(U|~O))+B[2]+718787259&4294967295,D=U+(P<<15&4294967295|P>>>17),P=O+(U^(D|~A))+B[9]+3951481745&4294967295,k.g[0]=k.g[0]+A&4294967295,k.g[1]=k.g[1]+(D+(P<<21&4294967295|P>>>11))&4294967295,k.g[2]=k.g[2]+D&4294967295,k.g[3]=k.g[3]+U&4294967295}s.prototype.u=function(k,A){A===void 0&&(A=k.length);for(var O=A-this.blockSize,B=this.B,D=this.h,U=0;U<A;){if(D==0)for(;U<=O;)a(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<A;)if(B[D++]=k.charCodeAt(U++),D==this.blockSize){a(this,B),D=0;break}}else for(;U<A;)if(B[D++]=k[U++],D==this.blockSize){a(this,B),D=0;break}}this.h=D,this.o+=A},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var A=1;A<k.length-8;++A)k[A]=0;var O=8*this.o;for(A=k.length-8;A<k.length;++A)k[A]=O&255,O/=256;for(this.u(k),k=Array(16),A=O=0;4>A;++A)for(var B=0;32>B;B+=8)k[O++]=this.g[A]>>>B&255;return k};function o(k,A){var O=d;return Object.prototype.hasOwnProperty.call(O,k)?O[k]:O[k]=A(k)}function c(k,A){this.h=A;for(var O=[],B=!0,D=k.length-1;0<=D;D--){var U=k[D]|0;B&&U==A||(O[D]=U,B=!1)}this.g=O}var d={};function m(k){return-128<=k&&128>k?o(k,function(A){return new c([A|0],0>A?-1:0)}):new c([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return b;if(0>k)return N(p(-k));for(var A=[],O=1,B=0;k>=O;B++)A[B]=k/O|0,O*=4294967296;return new c(A,0)}function v(k,A){if(k.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(k.charAt(0)=="-")return N(v(k.substring(1),A));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=p(Math.pow(A,8)),B=b,D=0;D<k.length;D+=8){var U=Math.min(8,k.length-D),P=parseInt(k.substring(D,D+U),A);8>U?(U=p(Math.pow(A,U)),B=B.j(U).add(p(P))):(B=B.j(O),B=B.add(p(P)))}return B}var b=m(0),x=m(1),S=m(16777216);n=c.prototype,n.m=function(){if(C(this))return-N(this).m();for(var k=0,A=1,O=0;O<this.g.length;O++){var B=this.i(O);k+=(0<=B?B:4294967296+B)*A,A*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(R(this))return"0";if(C(this))return"-"+N(this).toString(k);for(var A=p(Math.pow(k,6)),O=this,B="";;){var D=q(O,A).g;O=M(O,D.j(A));var U=((0<O.g.length?O.g[0]:O.h)>>>0).toString(k);if(O=D,R(O))return U+B;for(;6>U.length;)U="0"+U;B=U+B}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function R(k){if(k.h!=0)return!1;for(var A=0;A<k.g.length;A++)if(k.g[A]!=0)return!1;return!0}function C(k){return k.h==-1}n.l=function(k){return k=M(this,k),C(k)?-1:R(k)?0:1};function N(k){for(var A=k.g.length,O=[],B=0;B<A;B++)O[B]=~k.g[B];return new c(O,~k.h).add(x)}n.abs=function(){return C(this)?N(this):this},n.add=function(k){for(var A=Math.max(this.g.length,k.g.length),O=[],B=0,D=0;D<=A;D++){var U=B+(this.i(D)&65535)+(k.i(D)&65535),P=(U>>>16)+(this.i(D)>>>16)+(k.i(D)>>>16);B=P>>>16,U&=65535,P&=65535,O[D]=P<<16|U}return new c(O,O[O.length-1]&-2147483648?-1:0)};function M(k,A){return k.add(N(A))}n.j=function(k){if(R(this)||R(k))return b;if(C(this))return C(k)?N(this).j(N(k)):N(N(this).j(k));if(C(k))return N(this.j(N(k)));if(0>this.l(S)&&0>k.l(S))return p(this.m()*k.m());for(var A=this.g.length+k.g.length,O=[],B=0;B<2*A;B++)O[B]=0;for(B=0;B<this.g.length;B++)for(var D=0;D<k.g.length;D++){var U=this.i(B)>>>16,P=this.i(B)&65535,G=k.i(D)>>>16,te=k.i(D)&65535;O[2*B+2*D]+=P*te,L(O,2*B+2*D),O[2*B+2*D+1]+=U*te,L(O,2*B+2*D+1),O[2*B+2*D+1]+=P*G,L(O,2*B+2*D+1),O[2*B+2*D+2]+=U*G,L(O,2*B+2*D+2)}for(B=0;B<A;B++)O[B]=O[2*B+1]<<16|O[2*B];for(B=A;B<2*A;B++)O[B]=0;return new c(O,0)};function L(k,A){for(;(k[A]&65535)!=k[A];)k[A+1]+=k[A]>>>16,k[A]&=65535,A++}function V(k,A){this.g=k,this.h=A}function q(k,A){if(R(A))throw Error("division by zero");if(R(k))return new V(b,b);if(C(k))return A=q(N(k),A),new V(N(A.g),N(A.h));if(C(A))return A=q(k,N(A)),new V(N(A.g),A.h);if(30<k.g.length){if(C(k)||C(A))throw Error("slowDivide_ only works with positive integers.");for(var O=x,B=A;0>=B.l(k);)O=F(O),B=F(B);var D=Z(O,1),U=Z(B,1);for(B=Z(B,2),O=Z(O,2);!R(B);){var P=U.add(B);0>=P.l(k)&&(D=D.add(O),U=P),B=Z(B,1),O=Z(O,1)}return A=M(k,D.j(A)),new V(D,A)}for(D=b;0<=k.l(A);){for(O=Math.max(1,Math.floor(k.m()/A.m())),B=Math.ceil(Math.log(O)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),U=p(O),P=U.j(A);C(P)||0<P.l(k);)O-=B,U=p(O),P=U.j(A);R(U)&&(U=x),D=D.add(U),k=M(k,P)}return new V(D,k)}n.A=function(k){return q(this,k).h},n.and=function(k){for(var A=Math.max(this.g.length,k.g.length),O=[],B=0;B<A;B++)O[B]=this.i(B)&k.i(B);return new c(O,this.h&k.h)},n.or=function(k){for(var A=Math.max(this.g.length,k.g.length),O=[],B=0;B<A;B++)O[B]=this.i(B)|k.i(B);return new c(O,this.h|k.h)},n.xor=function(k){for(var A=Math.max(this.g.length,k.g.length),O=[],B=0;B<A;B++)O[B]=this.i(B)^k.i(B);return new c(O,this.h^k.h)};function F(k){for(var A=k.g.length+1,O=[],B=0;B<A;B++)O[B]=k.i(B)<<1|k.i(B-1)>>>31;return new c(O,k.h)}function Z(k,A){var O=A>>5;A%=32;for(var B=k.g.length-O,D=[],U=0;U<B;U++)D[U]=0<A?k.i(U+O)>>>A|k.i(U+O+1)<<32-A:k.i(U+O);return new c(D,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,J1=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,Pa=c}).apply(typeof BE<"u"?BE:typeof self<"u"?self:typeof window<"u"?window:{});var Dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eA,Ju,tA,Wh,wv,nA,rA,sA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,E){return f==Array.prototype||f==Object.prototype||(f[_]=E.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dh=="object"&&Dh];for(var _=0;_<f.length;++_){var E=f[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=t(this);function a(f,_){if(_)e:{var E=s;f=f.split(".");for(var j=0;j<f.length-1;j++){var W=f[j];if(!(W in E))break e;E=E[W]}f=f[f.length-1],j=E[f],_=_(j),_!=j&&_!=null&&e(E,f,{configurable:!0,writable:!0,value:_})}}function o(f,_){f instanceof String&&(f+="");var E=0,j=!1,W={next:function(){if(!j&&E<f.length){var ae=E++;return{value:_(ae,f[ae]),done:!1}}return j=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}a("Array.prototype.values",function(f){return f||function(){return o(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function p(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function v(f,_,E){return f.call.apply(f.bind,arguments)}function b(f,_,E){if(!f)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,j),f.apply(_,W)}}return function(){return f.apply(_,arguments)}}function x(f,_,E){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,x.apply(null,arguments)}function S(f,_){var E=Array.prototype.slice.call(arguments,1);return function(){var j=E.slice();return j.push.apply(j,arguments),f.apply(this,j)}}function R(f,_){function E(){}E.prototype=_.prototype,f.aa=_.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(j,W,ae){for(var ve=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)ve[xt-2]=arguments[xt];return _.prototype[W].apply(j,ve)}}function C(f){const _=f.length;if(0<_){const E=Array(_);for(let j=0;j<_;j++)E[j]=f[j];return E}return[]}function N(f,_){for(let E=1;E<arguments.length;E++){const j=arguments[E];if(m(j)){const W=f.length||0,ae=j.length||0;f.length=W+ae;for(let ve=0;ve<ae;ve++)f[W+ve]=j[ve]}else f.push(j)}}class M{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function L(f){return/^[\s\xa0]*$/.test(f)}function V(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function q(f){return q[" "](f),f}q[" "]=function(){};var F=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function Z(f,_,E){for(const j in f)_.call(E,f[j],j,f)}function k(f,_){for(const E in f)_.call(void 0,f[E],E,f)}function A(f){const _={};for(const E in f)_[E]=f[E];return _}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(f,_){let E,j;for(let W=1;W<arguments.length;W++){j=arguments[W];for(E in j)f[E]=j[E];for(let ae=0;ae<O.length;ae++)E=O[ae],Object.prototype.hasOwnProperty.call(j,E)&&(f[E]=j[E])}}function D(f){var _=1;f=f.split(":");const E=[];for(;0<_&&f.length;)E.push(f.shift()),_--;return f.length&&E.push(f.join(":")),E}function U(f){d.setTimeout(()=>{throw f},0)}function P(){var f=pe;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class G{constructor(){this.h=this.g=null}add(_,E){const j=te.get();j.set(_,E),this.h?this.h.next=j:this.g=j,this.h=j}}var te=new M(()=>new $,f=>f.reset());class ${constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let X,K=!1,pe=new G,z=()=>{const f=d.Promise.resolve(void 0);X=()=>{f.then(ie)}};var ie=()=>{for(var f;f=P();){try{f.h.call(f.g)}catch(E){U(E)}var _=te;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}K=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};d.addEventListener("test",E,_),d.removeEventListener("test",E,_)}catch{}return f}();function Ue(f,_){if(oe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,j=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(F){e:{try{q(_.nodeName);var W=!0;break e}catch{}W=!1}W||(_=null)}}else E=="mouseover"?_=f.fromElement:E=="mouseout"&&(_=f.toElement);this.relatedTarget=_,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ce[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ue.aa.h.call(this)}}R(Ue,oe);var Ce={2:"touch",3:"pen",4:"mouse"};Ue.prototype.h=function(){Ue.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),Me=0;function ht(f,_,E,j,W){this.listener=f,this.proxy=null,this.src=_,this.type=E,this.capture=!!j,this.ha=W,this.key=++Me,this.da=this.fa=!1}function Qe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ze(f){this.src=f,this.g={},this.h=0}Ze.prototype.add=function(f,_,E,j,W){var ae=f.toString();f=this.g[ae],f||(f=this.g[ae]=[],this.h++);var ve=se(f,_,j,W);return-1<ve?(_=f[ve],E||(_.fa=!1)):(_=new ht(_,this.src,ae,!!j,W),_.fa=E,f.push(_)),_};function Je(f,_){var E=_.type;if(E in f.g){var j=f.g[E],W=Array.prototype.indexOf.call(j,_,void 0),ae;(ae=0<=W)&&Array.prototype.splice.call(j,W,1),ae&&(Qe(_),f.g[E].length==0&&(delete f.g[E],f.h--))}}function se(f,_,E,j){for(var W=0;W<f.length;++W){var ae=f[W];if(!ae.da&&ae.listener==_&&ae.capture==!!E&&ae.ha==j)return W}return-1}var Ne="closure_lm_"+(1e6*Math.random()|0),Re={};function Le(f,_,E,j,W){if(Array.isArray(_)){for(var ae=0;ae<_.length;ae++)Le(f,_[ae],E,j,W);return null}return E=no(E),f&&f[ge]?f.K(_,E,p(j)?!!j.capture:!1,W):We(f,_,E,!1,j,W)}function We(f,_,E,j,W,ae){if(!_)throw Error("Invalid event type");var ve=p(W)?!!W.capture:!!W,xt=Xr(f);if(xt||(f[Ne]=xt=new Ze(f)),E=xt.add(_,E,j,ve,ae),E.proxy)return E;if(j=An(),E.proxy=j,j.src=f,j.listener=E,f.addEventListener)_e||(W=ve),W===void 0&&(W=!1),f.addEventListener(_.toString(),j,W);else if(f.attachEvent)f.attachEvent(Jn(_.toString()),j);else if(f.addListener&&f.removeListener)f.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return E}function An(){function f(E){return _.call(f.src,f.listener,E)}const _=ti;return f}function At(f,_,E,j,W){if(Array.isArray(_))for(var ae=0;ae<_.length;ae++)At(f,_[ae],E,j,W);else j=p(j)?!!j.capture:!!j,E=no(E),f&&f[ge]?(f=f.i,_=String(_).toString(),_ in f.g&&(ae=f.g[_],E=se(ae,E,j,W),-1<E&&(Qe(ae[E]),Array.prototype.splice.call(ae,E,1),ae.length==0&&(delete f.g[_],f.h--)))):f&&(f=Xr(f))&&(_=f.g[_.toString()],f=-1,_&&(f=se(_,E,j,W)),(E=-1<f?_[f]:null)&&ct(E))}function ct(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[ge])Je(_.i,f);else{var E=f.type,j=f.proxy;_.removeEventListener?_.removeEventListener(E,j,f.capture):_.detachEvent?_.detachEvent(Jn(E),j):_.addListener&&_.removeListener&&_.removeListener(j),(E=Xr(_))?(Je(E,f),E.h==0&&(E.src=null,_[Ne]=null)):Qe(f)}}}function Jn(f){return f in Re?Re[f]:Re[f]="on"+f}function ti(f,_){if(f.da)f=!0;else{_=new Ue(_,this);var E=f.listener,j=f.ha||f.src;f.fa&&ct(f),f=E.call(j,_)}return f}function Xr(f){return f=f[Ne],f instanceof Ze?f:null}var Hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function no(f){return typeof f=="function"?f:(f[Hn]||(f[Hn]=function(_){return f.handleEvent(_)}),f[Hn])}function be(){he.call(this),this.i=new Ze(this),this.M=this,this.F=null}R(be,he),be.prototype[ge]=!0,be.prototype.removeEventListener=function(f,_,E,j){At(this,f,_,E,j)};function xe(f,_){var E,j=f.F;if(j)for(E=[];j;j=j.F)E.push(j);if(f=f.M,j=_.type||_,typeof _=="string")_=new oe(_,f);else if(_ instanceof oe)_.target=_.target||f;else{var W=_;_=new oe(j,f),B(_,W)}if(W=!0,E)for(var ae=E.length-1;0<=ae;ae--){var ve=_.g=E[ae];W=ye(ve,j,!0,_)&&W}if(ve=_.g=f,W=ye(ve,j,!0,_)&&W,W=ye(ve,j,!1,_)&&W,E)for(ae=0;ae<E.length;ae++)ve=_.g=E[ae],W=ye(ve,j,!1,_)&&W}be.prototype.N=function(){if(be.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var E=f.g[_],j=0;j<E.length;j++)Qe(E[j]);delete f.g[_],f.h--}}this.F=null},be.prototype.K=function(f,_,E,j){return this.i.add(String(f),_,!1,E,j)},be.prototype.L=function(f,_,E,j){return this.i.add(String(f),_,!0,E,j)};function ye(f,_,E,j){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var W=!0,ae=0;ae<_.length;++ae){var ve=_[ae];if(ve&&!ve.da&&ve.capture==E){var xt=ve.listener,Rn=ve.ha||ve.src;ve.fa&&Je(f.i,ve),W=xt.call(Rn,j)!==!1&&W}}return W&&!j.defaultPrevented}function Ve(f,_,E){if(typeof f=="function")E&&(f=x(f,E));else if(f&&typeof f.handleEvent=="function")f=x(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:d.setTimeout(f,_||0)}function Ae(f){f.g=Ve(()=>{f.g=null,f.i&&(f.i=!1,Ae(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class bt extends he{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ae(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _t(f){he.call(this),this.h=f,this.g={}}R(_t,he);var Nt=[];function It(f){Z(f.g,function(_,E){this.g.hasOwnProperty(E)&&ct(_)},f),f.g={}}_t.prototype.N=function(){_t.aa.N.call(this),It(this)},_t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xe=d.JSON.stringify,Ot=d.JSON.parse,hn=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function vn(){}vn.prototype.h=null;function _n(f){return f.h||(f.h=f.i())}function Ht(){}var Mn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ur(){oe.call(this,"d")}R(ur,oe);function vs(){oe.call(this,"c")}R(vs,oe);var Pn={},Vr=null;function Tr(){return Vr=Vr||new be}Pn.La="serverreachability";function ni(f){oe.call(this,Pn.La,f)}R(ni,oe);function Qi(f){const _=Tr();xe(_,new ni(_))}Pn.STAT_EVENT="statevent";function of(f,_){oe.call(this,Pn.STAT_EVENT,f),this.stat=_}R(of,oe);function Zt(f){const _=Tr();xe(_,new of(_,f))}Pn.Ma="timingevent";function Cn(f,_){oe.call(this,Pn.Ma,f),this.size=_}R(Cn,oe);function bn(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},_)}function Ur(){this.g=!0}Ur.prototype.xa=function(){this.g=!1};function $c(f,_,E,j,W,ae){f.info(function(){if(f.g)if(ae)for(var ve="",xt=ae.split("&"),Rn=0;Rn<xt.length;Rn++){var wt=xt[Rn].split("=");if(1<wt.length){var Vn=wt[0];wt=wt[1];var Nn=Vn.split("_");ve=2<=Nn.length&&Nn[1]=="type"?ve+(Vn+"="+wt+"&"):ve+(Vn+"=redacted&")}}else ve=null;else ve=ae;return"XMLHTTP REQ ("+j+") [attempt "+W+"]: "+_+`
`+E+`
`+ve})}function Cp(f,_,E,j,W,ae,ve){f.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+W+"]: "+_+`
`+E+`
`+ae+" "+ve})}function Zi(f,_,E,j){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+ro(f,E)+(j?" "+j:"")})}function lf(f,_){f.info(function(){return"TIMEOUT: "+_})}Ur.prototype.info=function(){};function ro(f,_){if(!f.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var j=E[f];if(!(2>j.length)){var W=j[1];if(Array.isArray(W)&&!(1>W.length)){var ae=W[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(var ve=1;ve<W.length;ve++)W[ve]=""}}}}return Xe(E)}catch{return _}}var Wi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_s;function bs(){}R(bs,vn),bs.prototype.g=function(){return new XMLHttpRequest},bs.prototype.i=function(){return{}},_s=new bs;function dr(f,_,E,j){this.j=f,this.i=_,this.l=E,this.R=j||1,this.U=new _t(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mn}function mn(){this.i=null,this.g="",this.h=!1}var Gc={},tl={};function Jr(f,_,E){f.L=1,f.v=lo(Sr(_)),f.m=E,f.P=!0,si(f,null)}function si(f,_){f.F=Date.now(),so(f),f.A=Sr(f.v);var E=f.A,j=f.R;Array.isArray(j)||(j=[String(j)]),Xc(E.i,"t",j),f.C=0,E=f.j.J,f.h=new mn,f.g=Tf(f.j,E?_:null,!f.m),0<f.O&&(f.M=new bt(x(f.Y,f,f.g),f.O)),_=f.U,E=f.g,j=f.ca;var W="readystatechange";Array.isArray(W)||(W&&(Nt[0]=W.toString()),W=Nt);for(var ae=0;ae<W.length;ae++){var ve=Le(E,W[ae],j||_.handleEvent,!1,_.h||_);if(!ve)break;_.g[ve.key]=ve}_=f.H?A(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),Qi(),$c(f.i,f.u,f.A,f.l,f.R,f.m)}dr.prototype.ca=function(f){f=f.target;const _=this.M;_&&Hr(f)==3?_.j():this.Y(f)},dr.prototype.Y=function(f){try{if(f==this.g)e:{const Nn=Hr(this.g);var _=this.g.Ba();const fi=this.g.Z();if(!(3>Nn)&&(Nn!=3||this.g&&(this.h.h||this.g.oa()||gf(this.g)))){this.J||Nn!=4||_==7||(_==8||0>=fi?Qi(3):Qi(2)),Xi(this);var E=this.g.Z();this.X=E;t:if(cf(this)){var j=gf(this.g);f="";var W=j.length,ae=Hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qn(this),xs(this);var ve="";break t}this.h.i=new d.TextDecoder}for(_=0;_<W;_++)this.h.h=!0,f+=this.h.i.decode(j[_],{stream:!(ae&&_==W-1)});j.length=0,this.h.g+=f,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=E==200,Cp(this.i,this.u,this.A,this.l,this.R,Nn,E),this.o){if(this.T&&!this.K){t:{if(this.g){var xt,Rn=this.g;if((xt=Rn.g?Rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(xt)){var wt=xt;break t}}wt=null}if(E=wt)Zi(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,io(this,E);else{this.o=!1,this.s=3,Zt(12),qn(this),xs(this);break e}}if(this.P){E=!0;let $n;for(;!this.J&&this.C<ve.length;)if($n=uf(this,ve),$n==tl){Nn==4&&(this.s=4,Zt(14),E=!1),Zi(this.i,this.l,null,"[Incomplete Response]");break}else if($n==Gc){this.s=4,Zt(15),Zi(this.i,this.l,ve,"[Invalid Chunk]"),E=!1;break}else Zi(this.i,this.l,$n,null),io(this,$n);if(cf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nn!=4||ve.length!=0||this.h.h||(this.s=1,Zt(16),E=!1),this.o=this.o&&E,!E)Zi(this.i,this.l,ve,"[Invalid Chunked Response]"),qn(this),xs(this);else if(0<ve.length&&!this.W){this.W=!0;var Vn=this.j;Vn.g==this&&Vn.ba&&!Vn.M&&(Vn.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),yo(Vn),Vn.M=!0,Zt(11))}}else Zi(this.i,this.l,ve,null),io(this,ve);Nn==4&&qn(this),this.o&&!this.J&&(Nn==4?xf(this.j,this):(this.o=!1,so(this)))}else Dp(this.g),E==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Zt(12)):(this.s=0,Zt(13)),qn(this),xs(this)}}}catch{}finally{}};function cf(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function uf(f,_){var E=f.C,j=_.indexOf(`
`,E);return j==-1?tl:(E=Number(_.substring(E,j)),isNaN(E)?Gc:(j+=1,j+E>_.length?tl:(_=_.slice(j,j+E),f.C=j+E,_)))}dr.prototype.cancel=function(){this.J=!0,qn(this)};function so(f){f.S=Date.now()+f.I,df(f,f.I)}function df(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=bn(x(f.ba,f),_)}function Xi(f){f.B&&(d.clearTimeout(f.B),f.B=null)}dr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(lf(this.i,this.A),this.L!=2&&(Qi(),Zt(17)),qn(this),this.s=2,xs(this)):df(this,this.S-f)};function xs(f){f.j.G==0||f.J||xf(f.j,f)}function qn(f){Xi(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,It(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function io(f,_){try{var E=f.j;if(E.G!=0&&(E.g==f||Yc(E.h,f))){if(!f.K&&Yc(E.h,f)&&E.G==3){try{var j=E.Da.g.parse(_)}catch{j=null}if(Array.isArray(j)&&j.length==3){var W=j;if(W[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)hl(E),dl(E);else break e;ru(E),Zt(18)}}else E.za=W[1],0<E.za-E.T&&37500>W[2]&&E.F&&E.v==0&&!E.C&&(E.C=bn(x(E.Za,E),6e3));if(1>=rl(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else di(E,11)}else if((f.K||E.g==f)&&hl(E),!L(_))for(W=E.Da.g.parse(_),_=0;_<W.length;_++){let wt=W[_];if(E.T=wt[0],wt=wt[1],E.G==2)if(wt[0]=="c"){E.K=wt[1],E.ia=wt[2];const Vn=wt[3];Vn!=null&&(E.la=Vn,E.j.info("VER="+E.la));const Nn=wt[4];Nn!=null&&(E.Aa=Nn,E.j.info("SVER="+E.Aa));const fi=wt[5];fi!=null&&typeof fi=="number"&&0<fi&&(j=1.5*fi,E.L=j,E.j.info("backChannelRequestTimeoutMs_="+j)),j=E;const $n=f.g;if($n){const Rs=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rs){var ae=j.h;ae.g||Rs.indexOf("spdy")==-1&&Rs.indexOf("quic")==-1&&Rs.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(sl(ae,ae.h),ae.h=null))}if(j.D){const iu=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;iu&&(j.ya=iu,Ut(j.I,j.D,iu))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),j=E;var ve=f;if(j.qa=Ef(j,j.J?j.ia:null,j.W),ve.K){fr(j.h,ve);var xt=ve,Rn=j.L;Rn&&(xt.I=Rn),xt.B&&(Xi(xt),so(xt)),j.g=ve}else _f(j);0<E.i.length&&fl(E)}else wt[0]!="stop"&&wt[0]!="close"||di(E,7);else E.G==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?di(E,7):tu(E):wt[0]!="noop"&&E.l&&E.l.ta(wt),E.v=0)}}Qi(4)}catch{}}var ff=class{constructor(f,_){this.g=f,this.map=_}};function ii(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function rl(f){return f.h?1:f.g?f.g.size:0}function Yc(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function sl(f,_){f.g?f.g.add(_):f.h=_}function fr(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}ii.prototype.cancel=function(){if(this.i=Kc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Kc(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const E of f.g.values())_=_.concat(E.D);return _}return C(f.i)}function Rp(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(m(f)){for(var _=[],E=f.length,j=0;j<E;j++)_.push(f[j]);return _}_=[],E=0;for(j in f)_[E++]=f[j];return _}function il(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(m(f)||typeof f=="string"){var _=[];f=f.length;for(var E=0;E<f;E++)_.push(E);return _}_=[],E=0;for(const j in f)_[E++]=j;return _}}}function Qc(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(m(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var E=il(f),j=Rp(f),W=j.length,ae=0;ae<W;ae++)_.call(void 0,j[ae],E&&E[ae],f)}var ao=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Np(f,_){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var j=f[E].indexOf("="),W=null;if(0<=j){var ae=f[E].substring(0,j);W=f[E].substring(j+1)}else ae=f[E];_(ae,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function xn(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof xn){this.h=f.h,oo(this,f.j),this.o=f.o,this.g=f.g,Ji(this,f.s),this.l=f.l;var _=f.i,E=new oi;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),ai(this,E),this.m=f.m}else f&&(_=String(f).match(ao))?(this.h=!1,oo(this,_[1]||"",!0),this.o=Br(_[2]||""),this.g=Br(_[3]||"",!0),Ji(this,_[4]),this.l=Br(_[5]||"",!0),ai(this,_[6]||"",!0),this.m=Br(_[7]||"")):(this.h=!1,this.i=new oi(null,this.h))}xn.prototype.toString=function(){var f=[],_=this.j;_&&f.push(co(_,Zc,!0),":");var E=this.g;return(E||_=="file")&&(f.push("//"),(_=this.o)&&f.push(co(_,Zc,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(co(E,E.charAt(0)=="/"?Ip:Wc,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",co(E,al)),f.join("")};function Sr(f){return new xn(f)}function oo(f,_,E){f.j=E?Br(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Ji(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function ai(f,_,E){_ instanceof oi?(f.i=_,mf(f.i,f.h)):(E||(_=co(_,kp)),f.i=new oi(_,f.h))}function Ut(f,_,E){f.i.set(_,E)}function lo(f){return Ut(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Br(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function co(f,_,E){return typeof f=="string"?(f=encodeURI(f).replace(_,hf),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function hf(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Zc=/[#\/\?@]/g,Wc=/[#\?:]/g,Ip=/[#\?]/g,kp=/[#\?@]/g,al=/#/g;function oi(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function zr(f){f.g||(f.g=new Map,f.h=0,f.i&&Np(f.i,function(_,E){f.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}n=oi.prototype,n.add=function(f,_){zr(this),this.i=null,f=ws(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(_),this.h+=1,this};function li(f,_){zr(f),_=ws(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function ci(f,_){return zr(f),_=ws(f,_),f.g.has(_)}n.forEach=function(f,_){zr(this),this.g.forEach(function(E,j){E.forEach(function(W){f.call(_,W,j,this)},this)},this)},n.na=function(){zr(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let j=0;j<_.length;j++){const W=f[j];for(let ae=0;ae<W.length;ae++)E.push(_[j])}return E},n.V=function(f){zr(this);let _=[];if(typeof f=="string")ci(this,f)&&(_=_.concat(this.g.get(ws(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)_=_.concat(f[E])}return _},n.set=function(f,_){return zr(this),this.i=null,f=ws(this,f),ci(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},n.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function Xc(f,_,E){li(f,_),0<E.length&&(f.i=null,f.g.set(ws(f,_),C(E)),f.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var j=_[E];const ae=encodeURIComponent(String(j)),ve=this.V(j);for(j=0;j<ve.length;j++){var W=ae;ve[j]!==""&&(W+="="+encodeURIComponent(String(ve[j]))),f.push(W)}}return this.i=f.join("&")};function ws(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function mf(f,_){_&&!f.j&&(zr(f),f.i=null,f.g.forEach(function(E,j){var W=j.toLowerCase();j!=W&&(li(this,j),Xc(this,W,E))},f)),f.j=_}function uo(f,_){const E=new Ur;if(d.Image){const j=new Image;j.onload=S(Fr,E,"TestLoadImage: loaded",!0,_,j),j.onerror=S(Fr,E,"TestLoadImage: error",!1,_,j),j.onabort=S(Fr,E,"TestLoadImage: abort",!1,_,j),j.ontimeout=S(Fr,E,"TestLoadImage: timeout",!1,_,j),d.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=f}else _(!1)}function es(f,_){const E=new Ur,j=new AbortController,W=setTimeout(()=>{j.abort(),Fr(E,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:j.signal}).then(ae=>{clearTimeout(W),ae.ok?Fr(E,"TestPingServer: ok",!0,_):Fr(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(W),Fr(E,"TestPingServer: error",!1,_)})}function Fr(f,_,E,j,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),j(E)}catch{}}function fo(){this.g=new hn}function Es(f,_,E){const j=E||"";try{Qc(f,function(W,ae){let ve=W;p(W)&&(ve=Xe(W)),_.push(j+ae+"="+encodeURIComponent(ve))})}catch(W){throw _.push(j+"type="+encodeURIComponent("_badmap")),W}}function ea(f){this.l=f.Ub||null,this.j=f.eb||!1}R(ea,vn),ea.prototype.g=function(){return new ui(this.l,this.j)},ea.prototype.i=function(f){return function(){return f}}({});function ui(f,_){be.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(ui,be),n=ui.prototype,n.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,Ss(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||d).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ts(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ss(this)),this.g&&(this.readyState=3,Ss(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jc(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jc(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Ts(this):Ss(this),this.readyState==3&&Jc(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Ts(this))},n.Qa=function(f){this.g&&(this.response=f,Ts(this))},n.ga=function(){this.g&&Ts(this)};function Ts(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ss(f)}n.setRequestHeader=function(f,_){this.u.append(f,_)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=_.next();return f.join(`\r
`)};function Ss(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function eu(f){let _="";return Z(f,function(E,j){_+=j,_+=":",_+=E,_+=`\r
`}),_}function Ln(f,_,E){e:{for(j in E){var j=!1;break e}j=!0}j||(E=eu(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):Ut(f,_,E))}function jt(f){be.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(jt,be);var ol=/^https?$/i,ho=["POST","PUT"];n=jt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,_,E,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_s.g(),this.v=this.o?_n(this.o):_n(_s),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(ae){pf(this,ae);return}if(f=E||"",E=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var W in j)E.set(W,j[W]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const ae of j.keys())E.set(ae,j.get(ae));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(E.keys()).find(ae=>ae.toLowerCase()=="content-type"),W=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ho,_,void 0))||j||W||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,ve]of E)this.g.setRequestHeader(ae,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mo(this),this.u=!0,this.g.send(f),this.u=!1}catch(ae){pf(this,ae)}};function pf(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,ll(f),As(f)}function ll(f){f.A||(f.A=!0,xe(f,"complete"),xe(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,xe(this,"complete"),xe(this,"abort"),As(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),As(this,!0)),jt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?cl(this):this.bb())},n.bb=function(){cl(this)};function cl(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Hr(f)!=4||f.Z()!=2)){if(f.u&&Hr(f)==4)Ve(f.Ea,0,f);else if(xe(f,"readystatechange"),Hr(f)==4){f.h=!1;try{const ve=f.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var j;if(j=ve===0){var W=String(f.D).match(ao)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),j=!ol.test(W?W.toLowerCase():"")}E=j}if(E)xe(f,"complete"),xe(f,"success");else{f.m=6;try{var ae=2<Hr(f)?f.g.statusText:""}catch{ae=""}f.l=ae+" ["+f.Z()+"]",ll(f)}}finally{As(f)}}}}function As(f,_){if(f.g){mo(f);const E=f.g,j=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||xe(f,"ready");try{E.onreadystatechange=j}catch{}}}function mo(f){f.I&&(d.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Hr(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Hr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Ot(_)}};function gf(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Dp(f){const _={};f=(f.g&&2<=Hr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<f.length;j++){if(L(f[j]))continue;var E=D(f[j]);const W=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ae=_[W]||[];_[W]=ae,ae.push(E)}k(_,function(j){return j.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function po(f,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||_}function ul(f){this.Aa=0,this.i=[],this.j=new Ur,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=po("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=po("baseRetryDelayMs",5e3,f),this.cb=po("retryDelaySeedMs",1e4,f),this.Wa=po("forwardChannelMaxRetries",2,f),this.wa=po("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ii(f&&f.concurrentRequestLimit),this.Da=new fo,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ul.prototype,n.la=8,n.G=1,n.connect=function(f,_,E,j){Zt(0),this.W=f,this.H=_||{},E&&j!==void 0&&(this.H.OSID=E,this.H.OAID=j),this.F=this.X,this.I=Ef(this,null,this.W),fl(this)};function tu(f){if(yf(f),f.G==3){var _=f.U++,E=Sr(f.I);if(Ut(E,"SID",f.K),Ut(E,"RID",_),Ut(E,"TYPE","terminate"),go(f,E),_=new dr(f,f.j,_),_.L=2,_.v=lo(Sr(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=_.v,E=!0),E||(_.g=Tf(_.j,null),_.g.ea(_.v)),_.F=Date.now(),so(_)}wf(f)}function dl(f){f.g&&(yo(f),f.g.cancel(),f.g=null)}function yf(f){dl(f),f.u&&(d.clearTimeout(f.u),f.u=null),hl(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function fl(f){if(!nl(f.h)&&!f.s){f.s=!0;var _=f.Ga;X||z(),K||(X(),K=!0),pe.add(_,f),f.B=0}}function Op(f,_){return rl(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=bn(x(f.Ga,f,_),su(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const W=new dr(this,this.j,f);let ae=this.o;if(this.S&&(ae?(ae=A(ae),B(ae,this.S)):ae=this.S),this.m!==null||this.O||(W.H=ae,ae=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var j=this.i[E];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(_+=j,4096<_){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=vf(this,W,_),E=Sr(this.I),Ut(E,"RID",f),Ut(E,"CVER",22),this.D&&Ut(E,"X-HTTP-Session-Id",this.D),go(this,E),ae&&(this.O?_="headers="+encodeURIComponent(String(eu(ae)))+"&"+_:this.m&&Ln(E,this.m,ae)),sl(this.h,W),this.Ua&&Ut(E,"TYPE","init"),this.P?(Ut(E,"$req",_),Ut(E,"SID","null"),W.T=!0,Jr(W,E,null)):Jr(W,E,_),this.G=2}}else this.G==3&&(f?nu(this,f):this.i.length==0||nl(this.h)||nu(this))};function nu(f,_){var E;_?E=_.l:E=f.U++;const j=Sr(f.I);Ut(j,"SID",f.K),Ut(j,"RID",E),Ut(j,"AID",f.T),go(f,j),f.m&&f.o&&Ln(j,f.m,f.o),E=new dr(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),_&&(f.i=_.D.concat(f.i)),_=vf(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),sl(f.h,E),Jr(E,j,_)}function go(f,_){f.H&&Z(f.H,function(E,j){Ut(_,j,E)}),f.l&&Qc({},function(E,j){Ut(_,j,E)})}function vf(f,_,E){E=Math.min(f.i.length,E);var j=f.l?x(f.l.Na,f.l,f):null;e:{var W=f.i;let ae=-1;for(;;){const ve=["count="+E];ae==-1?0<E?(ae=W[0].g,ve.push("ofs="+ae)):ae=0:ve.push("ofs="+ae);let xt=!0;for(let Rn=0;Rn<E;Rn++){let wt=W[Rn].g;const Vn=W[Rn].map;if(wt-=ae,0>wt)ae=Math.max(0,W[Rn].g-100),xt=!1;else try{Es(Vn,ve,"req"+wt+"_")}catch{j&&j(Vn)}}if(xt){j=ve.join("&");break e}}}return f=f.i.splice(0,E),_.D=f,j}function _f(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;X||z(),K||(X(),K=!0),pe.add(_,f),f.v=0}}function ru(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=bn(x(f.Fa,f),su(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,bf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=bn(x(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zt(10),dl(this),bf(this))};function yo(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function bf(f){f.g=new dr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=Sr(f.qa);Ut(_,"RID","rpc"),Ut(_,"SID",f.K),Ut(_,"AID",f.T),Ut(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ut(_,"TO",f.ja),Ut(_,"TYPE","xmlhttp"),go(f,_),f.m&&f.o&&Ln(_,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=lo(Sr(_)),E.m=null,E.P=!0,si(E,f)}n.Za=function(){this.C!=null&&(this.C=null,dl(this),ru(this),Zt(19))};function hl(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function xf(f,_){var E=null;if(f.g==_){hl(f),yo(f),f.g=null;var j=2}else if(Yc(f.h,_))E=_.D,fr(f.h,_),j=1;else return;if(f.G!=0){if(_.o)if(j==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var W=f.B;j=Tr(),xe(j,new Cn(j,E)),fl(f)}else _f(f);else if(W=_.s,W==3||W==0&&0<_.X||!(j==1&&Op(f,_)||j==2&&ru(f)))switch(E&&0<E.length&&(_=f.h,_.i=_.i.concat(E)),W){case 1:di(f,5);break;case 4:di(f,10);break;case 3:di(f,6);break;default:di(f,2)}}}function su(f,_){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*_}function di(f,_){if(f.j.info("Error code "+_),_==2){var E=x(f.fb,f),j=f.Xa;const W=!j;j=new xn(j||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||oo(j,"https"),lo(j),W?uo(j.toString(),E):es(j.toString(),E)}else Zt(2);f.G=0,f.l&&f.l.sa(_),wf(f),yf(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Zt(2)):(this.j.info("Failed to ping google.com"),Zt(1))};function wf(f){if(f.G=0,f.ka=[],f.l){const _=Kc(f.h);(_.length!=0||f.i.length!=0)&&(N(f.ka,_),N(f.ka,f.i),f.h.i.length=0,C(f.i),f.i.length=0),f.l.ra()}}function Ef(f,_,E){var j=E instanceof xn?Sr(E):new xn(E);if(j.g!="")_&&(j.g=_+"."+j.g),Ji(j,j.s);else{var W=d.location;j=W.protocol,_=_?_+"."+W.hostname:W.hostname,W=+W.port;var ae=new xn(null);j&&oo(ae,j),_&&(ae.g=_),W&&Ji(ae,W),E&&(ae.l=E),j=ae}return E=f.D,_=f.ya,E&&_&&Ut(j,E,_),Ut(j,"VER",f.la),go(f,j),j}function Tf(f,_,E){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new jt(new ea({eb:E})):new jt(f.pa),_.Ha(f.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sf(){}n=Sf.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ml(){}ml.prototype.g=function(f,_){return new hr(f,_)};function hr(f,_){be.call(this),this.g=new ul(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!L(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!L(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Cs(this)}R(hr,be),hr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hr.prototype.close=function(){tu(this.g)},hr.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=Xe(f),f=E);_.i.push(new ff(_.Ya++,f)),_.G==3&&fl(_)},hr.prototype.N=function(){this.g.l=null,delete this.j,tu(this.g),delete this.g,hr.aa.N.call(this)};function Af(f){ur.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const E in _){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}R(Af,ur);function Cf(){vs.call(this),this.status=1}R(Cf,vs);function Cs(f){this.g=f}R(Cs,Sf),Cs.prototype.ua=function(){xe(this.g,"a")},Cs.prototype.ta=function(f){xe(this.g,new Af(f))},Cs.prototype.sa=function(f){xe(this.g,new Cf)},Cs.prototype.ra=function(){xe(this.g,"b")},ml.prototype.createWebChannel=ml.prototype.g,hr.prototype.send=hr.prototype.o,hr.prototype.open=hr.prototype.m,hr.prototype.close=hr.prototype.close,sA=function(){return new ml},rA=function(){return Tr()},nA=Pn,wv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wi.NO_ERROR=0,Wi.TIMEOUT=8,Wi.HTTP_ERROR=6,Wh=Wi,ri.COMPLETE="complete",tA=ri,Ht.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",be.prototype.listen=be.prototype.K,Ju=Ht,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,eA=jt}).apply(typeof Dh<"u"?Dh:typeof self<"u"?self:typeof window<"u"?window:{});const zE="@firebase/firestore",FE="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rr.UNAUTHENTICATED=new rr(null),rr.GOOGLE_CREDENTIALS=new rr("google-credentials-uid"),rr.FIRST_PARTY=new rr("first-party-uid"),rr.MOCK_USER=new rr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=new h0("@firebase/firestore");function Yl(){return Ho.logLevel}function Se(n,...e){if(Ho.logLevel<=mt.DEBUG){const t=e.map(T0);Ho.debug(`Firestore (${Pc}): ${n}`,...t)}}function Ui(n,...e){if(Ho.logLevel<=mt.ERROR){const t=e.map(T0);Ho.error(`Firestore (${Pc}): ${n}`,...t)}}function gc(n,...e){if(Ho.logLevel<=mt.WARN){const t=e.map(T0);Ho.warn(`Firestore (${Pc}): ${n}`,...t)}}function T0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,iA(n,s,t)}function iA(n,e,t){let s=`FIRESTORE (${Pc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Ui(s),new Error(s)}function Mt(n,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,n||iA(e,a,s)}function nt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Gi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(rr.UNAUTHENTICATED))}shutdown(){}}class hM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class mM{constructor(e){this.t=e,this.currentUser=rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Mt(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let o=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Oi,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=o;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Oi)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Mt(typeof s.accessToken=="string",31837,{l:s}),new aA(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Mt(e===null||typeof e=="string",2055,{h:e}),new rr(e)}}class pM{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=rr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gM{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new pM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(rr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Mt(this.o===void 0,3512);const s=o=>{o.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,Se("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>s(o))};const a=o=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new HE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Mt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new HE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=vM(40);for(let o=0;o<a.length;++o)s.length<20&&a[o]<t&&(s+=e.charAt(a[o]%62))}return s}}function lt(n,e){return n<e?-1:n>e?1:0}function Ev(n,e){let t=0;for(;t<n.length&&t<e.length;){const s=n.codePointAt(t),a=e.codePointAt(t);if(s!==a){if(s<128&&a<128)return lt(s,a);{const o=oA(),c=_M(o.encode(qE(n,t)),o.encode(qE(e,t)));return c!==0?c:lt(s,a)}}t+=s>65535?2:1}return lt(n.length,e.length)}function qE(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function _M(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return lt(n[t],e[t]);return lt(n.length,e.length)}function yc(n,e,t){return n.length===e.length&&n.every((s,a)=>t(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=-62135596800,GE=1e6;class $t{static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*GE);return new $t(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<$E)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GE}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-$E;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{static fromTimestamp(e){return new et(e)}static min(){return new et(new $t(0,0))}static max(){return new et(new $t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="__name__";class js{constructor(e,t,s){t===void 0?t=0:t>e.length&&$e(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&$e(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return js.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof js?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const o=js.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return lt(e.length,t.length)}static compareSegments(e,t){const s=js.isNumericId(e),a=js.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?js.extractNumericId(e).compare(js.extractNumericId(t)):Ev(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pa.fromString(e.substring(4,e.length-2))}}class Yt extends js{construct(e,t,s){return new Yt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ee(ue.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Yt(t)}static emptyPath(){return new Yt([])}}const bM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zn extends js{construct(e,t,s){return new Zn(e,t,s)}static isValidIdentifier(e){return bM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===YE}static keyField(){return new Zn([YE])}static fromServerFormat(e){const t=[];let s="",a=0;const o=()=>{if(s.length===0)throw new Ee(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new Ee(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Ee(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(o(),a++)}if(o(),c)throw new Ee(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zn(t)}static emptyPath(){return new Zn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Yt.fromString(e))}static fromName(e){return new Be(Yt.fromString(e).popFirst(5))}static empty(){return new Be(Yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Yt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=-1;function xM(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=et.fromTimestamp(s===1e9?new $t(t+1,0):new $t(t,s));return new Ua(a,Be.empty(),e)}function wM(n){return new Ua(n.readTime,n.key,gd)}class Ua{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ua(et.min(),Be.empty(),gd)}static max(){return new Ua(et.max(),Be.empty(),gd)}}function EM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Be.comparator(n.documentKey,e.documentKey),t!==0?t:lt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lc(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==TM)throw n;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((s,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(s,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,s)=>{t(e)})}static reject(e){return new fe((t,s)=>{s(e)})}static waitFor(e){return new fe((t,s)=>{let a=0,o=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++o,c&&o===a&&t()},m=>s(m))}),c=!0,o===a&&t()})}static or(e){let t=fe.resolve(!1);for(const s of e)t=t.next(a=>a?fe.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,o)=>{s.push(t.call(this,a,o))}),this.waitFor(s)}static mapArray(e,t){return new fe((s,a)=>{const o=e.length,c=new Array(o);let d=0;for(let m=0;m<o;m++){const p=m;t(e[p]).next(v=>{c[p]=v,++d,d===o&&s(c)},v=>a(v))}})}static doWhile(e,t){return new fe((s,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):s()};o()})}}function AM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Vc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>t.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Xm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=-1;function Jm(n){return n==null}function vm(n){return n===0&&1/n==-1/0}function CM(n){return typeof n=="number"&&Number.isInteger(n)&&!vm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="";function RM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=KE(e)),e=NM(n.get(t),e);return KE(e)}function NM(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case cA:t+="";break;default:t+=o}}return t}function KE(n){return n+cA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Xa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function uA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,t){this.comparator=e,this.root=t||Qn.EMPTY}insert(e,t){return new ln(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qn.BLACK,null,null))}remove(e){return new ln(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oh(this.root,e,this.comparator,!0)}}class Oh{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?s(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qn{constructor(e,t,s,a,o){this.key=e,this.value=t,this.color=s??Qn.RED,this.left=a??Qn.EMPTY,this.right=o??Qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,o){return new Qn(e??this.key,t??this.value,s??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const o=s(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,s),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Qn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw $e(27949);return e+(this.isRed()?0:1)}}Qn.EMPTY=null,Qn.RED=!0,Qn.BLACK=!1;Qn.EMPTY=new class{constructor(){this.size=0}get key(){throw $e(57766)}get value(){throw $e(16141)}get color(){throw $e(16727)}get left(){throw $e(29726)}get right(){throw $e(36894)}copy(e,t,s,a,o){return this}insert(e,t,s){return new Qn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.comparator=e,this.data=new ln(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ZE(this.data.getIterator())}getIteratorFrom(e){return new ZE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof jn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=s.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new jn(this.comparator);return t.data=e,t}}class ZE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.fields=e,e.sort(Zn.comparator)}static empty(){return new jr([])}unionWith(e){let t=new jn(Zn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new jr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yc(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new dA("Invalid base64 string: "+o):o}}(e);return new Xn(t)}static fromUint8Array(e){const t=function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o}(e);return new Xn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xn.EMPTY_BYTE_STRING=new Xn("");const IM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ba(n){if(Mt(!!n,39018),typeof n=="string"){let e=0;const t=IM.exec(n);if(Mt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yn(n.seconds),nanos:yn(n.nanos)}}function yn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function za(n){return typeof n=="string"?Xn.fromBase64String(n):Xn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="server_timestamp",hA="__type__",mA="__previous_value__",pA="__local_write_time__";function A0(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[hA])===null||t===void 0?void 0:t.stringValue)===fA}function ep(n){const e=n.mapValue.fields[mA];return A0(e)?ep(e):e}function yd(n){const e=Ba(n.mapValue.fields[pA].timestampValue);return new $t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,t,s,a,o,c,d,m,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v}}const _m="(default)";class vd{constructor(e,t){this.projectId=e,this.database=t||_m}static empty(){return new vd("","")}get isDefaultDatabase(){return this.database===_m}isEqual(e){return e instanceof vd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="__type__",DM="__max__",jh={mapValue:{}},yA="__vector__",bm="value";function Fa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?A0(n)?4:jM(n)?9007199254740991:OM(n)?10:11:$e(28295,{value:n})}function Ys(n,e){if(n===e)return!0;const t=Fa(n);if(t!==Fa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return yd(n).isEqual(yd(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Ba(a.timestampValue),d=Ba(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,o){return za(a.bytesValue).isEqual(za(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,o){return yn(a.geoPointValue.latitude)===yn(o.geoPointValue.latitude)&&yn(a.geoPointValue.longitude)===yn(o.geoPointValue.longitude)}(n,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return yn(a.integerValue)===yn(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=yn(a.doubleValue),d=yn(o.doubleValue);return c===d?vm(c)===vm(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return yc(n.arrayValue.values||[],e.arrayValue.values||[],Ys);case 10:case 11:return function(a,o){const c=a.mapValue.fields||{},d=o.mapValue.fields||{};if(QE(c)!==QE(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Ys(c[m],d[m])))return!1;return!0}(n,e);default:return $e(52216,{left:n})}}function _d(n,e){return(n.values||[]).find(t=>Ys(t,e))!==void 0}function vc(n,e){if(n===e)return 0;const t=Fa(n),s=Fa(e);if(t!==s)return lt(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return lt(n.booleanValue,e.booleanValue);case 2:return function(o,c){const d=yn(o.integerValue||o.doubleValue),m=yn(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return WE(n.timestampValue,e.timestampValue);case 4:return WE(yd(n),yd(e));case 5:return Ev(n.stringValue,e.stringValue);case 6:return function(o,c){const d=za(o),m=za(c);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,c){const d=o.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const v=lt(d[p],m[p]);if(v!==0)return v}return lt(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,c){const d=lt(yn(o.latitude),yn(c.latitude));return d!==0?d:lt(yn(o.longitude),yn(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return XE(n.arrayValue,e.arrayValue);case 10:return function(o,c){var d,m,p,v;const b=o.fields||{},x=c.fields||{},S=(d=b[bm])===null||d===void 0?void 0:d.arrayValue,R=(m=x[bm])===null||m===void 0?void 0:m.arrayValue,C=lt(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((v=R==null?void 0:R.values)===null||v===void 0?void 0:v.length)||0);return C!==0?C:XE(S,R)}(n.mapValue,e.mapValue);case 11:return function(o,c){if(o===jh.mapValue&&c===jh.mapValue)return 0;if(o===jh.mapValue)return 1;if(c===jh.mapValue)return-1;const d=o.fields||{},m=Object.keys(d),p=c.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let b=0;b<m.length&&b<v.length;++b){const x=Ev(m[b],v[b]);if(x!==0)return x;const S=vc(d[m[b]],p[v[b]]);if(S!==0)return S}return lt(m.length,v.length)}(n.mapValue,e.mapValue);default:throw $e(23264,{Pe:t})}}function WE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return lt(n,e);const t=Ba(n),s=Ba(e),a=lt(t.seconds,s.seconds);return a!==0?a:lt(t.nanos,s.nanos)}function XE(n,e){const t=n.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const o=vc(t[a],s[a]);if(o)return o}return lt(t.length,s.length)}function _c(n){return Tv(n)}function Tv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const s=Ba(t);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return za(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Be.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let s="[",a=!0;for(const o of t.values||[])a?a=!1:s+=",",s+=Tv(o);return s+"]"}(n.arrayValue):"mapValue"in n?function(t){const s=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const c of s)o?o=!1:a+=",",a+=`${c}:${Tv(t.fields[c])}`;return a+"}"}(n.mapValue):$e(61005,{value:n})}function Xh(n){switch(Fa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ep(n);return e?16+Xh(e):16;case 5:return 2*n.stringValue.length;case 6:return za(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,o)=>a+Xh(o),0)}(n.arrayValue);case 10:case 11:return function(s){let a=0;return Xa(s.fields,(o,c)=>{a+=o.length+Xh(c)}),a}(n.mapValue);default:throw $e(13486,{value:n})}}function JE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Sv(n){return!!n&&"integerValue"in n}function C0(n){return!!n&&"arrayValue"in n}function eT(n){return!!n&&"nullValue"in n}function tT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Jh(n){return!!n&&"mapValue"in n}function OM(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[gA])===null||t===void 0?void 0:t.stringValue)===yA}function ld(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Xa(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=ld(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ld(n.arrayValue.values[t]);return e}return Object.assign({},n)}function jM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===DM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.value=e}static empty(){return new wr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Jh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ld(t)}setAll(e){let t=Zn.emptyPath(),s={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,s,a),s={},a=[],t=d.popLast()}c?s[d.lastSegment()]=ld(c):a.push(d.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,s,a)}delete(e){const t=this.field(e.popLast());Jh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ys(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Jh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Xa(t,(a,o)=>e[a]=o);for(const a of s)delete e[a]}clone(){return new wr(ld(this.value))}}function vA(n){const e=[];return Xa(n.fields,(t,s)=>{const a=new Zn([t]);if(Jh(s)){const o=vA(s.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)}),new jr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,t,s,a,o,c,d){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new sr(e,0,et.min(),et.min(),et.min(),wr.empty(),0)}static newFoundDocument(e,t,s,a){return new sr(e,1,t,et.min(),s,a,0)}static newNoDocument(e,t){return new sr(e,2,t,et.min(),et.min(),wr.empty(),0)}static newUnknownDocument(e,t){return new sr(e,3,t,et.min(),et.min(),wr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,t){this.position=e,this.inclusive=t}}function nT(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const o=e[a],c=n.position[a];if(o.field.isKeyField()?s=Be.comparator(Be.fromName(c.referenceValue),t.key):s=vc(c,t.data.field(o.field)),o.dir==="desc"&&(s*=-1),s!==0)break}return s}function rT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ys(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,t="asc"){this.field=e,this.dir=t}}function MM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{}class Sn extends _A{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new LM(e,t,s):t==="array-contains"?new BM(e,s):t==="in"?new zM(e,s):t==="not-in"?new FM(e,s):t==="array-contains-any"?new HM(e,s):new Sn(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new VM(e,s):new UM(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(vc(t,this.value)):t!==null&&Fa(this.value)===Fa(t)&&this.matchesComparison(vc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hs extends _A{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new hs(e,t)}matches(e){return bA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function bA(n){return n.op==="and"}function xA(n){return PM(n)&&bA(n)}function PM(n){for(const e of n.filters)if(e instanceof hs)return!1;return!0}function Av(n){if(n instanceof Sn)return n.field.canonicalString()+n.op.toString()+_c(n.value);if(xA(n))return n.filters.map(e=>Av(e)).join(",");{const e=n.filters.map(t=>Av(t)).join(",");return`${n.op}(${e})`}}function wA(n,e){return n instanceof Sn?function(s,a){return a instanceof Sn&&s.op===a.op&&s.field.isEqual(a.field)&&Ys(s.value,a.value)}(n,e):n instanceof hs?function(s,a){return a instanceof hs&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((o,c,d)=>o&&wA(c,a.filters[d]),!0):!1}(n,e):void $e(19439)}function EA(n){return n instanceof Sn?function(t){return`${t.field.canonicalString()} ${t.op} ${_c(t.value)}`}(n):n instanceof hs?function(t){return t.op.toString()+" {"+t.getFilters().map(EA).join(" ,")+"}"}(n):"Filter"}class LM extends Sn{constructor(e,t,s){super(e,t,s),this.key=Be.fromName(s.referenceValue)}matches(e){const t=Be.comparator(e.key,this.key);return this.matchesComparison(t)}}class VM extends Sn{constructor(e,t){super(e,"in",t),this.keys=TA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class UM extends Sn{constructor(e,t){super(e,"not-in",t),this.keys=TA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function TA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>Be.fromName(s.referenceValue))}class BM extends Sn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return C0(t)&&_d(t.arrayValue,this.value)}}class zM extends Sn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_d(this.value.arrayValue,t)}}class FM extends Sn{constructor(e,t){super(e,"not-in",t)}matches(e){if(_d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!_d(this.value.arrayValue,t)}}class HM extends Sn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!C0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>_d(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,t=null,s=[],a=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=o,this.startAt=c,this.endAt=d,this.Ie=null}}function sT(n,e=null,t=[],s=[],a=null,o=null,c=null){return new qM(n,e,t,s,a,o,c)}function R0(n){const e=nt(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Av(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(o){return o.field.canonicalString()+o.dir}(s)).join(","),Jm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>_c(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>_c(s)).join(",")),e.Ie=t}return e.Ie}function N0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!MM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!wA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rT(n.startAt,e.startAt)&&rT(n.endAt,e.endAt)}function Cv(n){return Be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t=null,s=[],a=[],o=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function $M(n,e,t,s,a,o,c,d){return new Uc(n,e,t,s,a,o,c,d)}function tp(n){return new Uc(n)}function iT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function SA(n){return n.collectionGroup!==null}function cd(n){const e=nt(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new jn(Zn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new bd(o,s))}),t.has(Zn.keyField().canonicalString())||e.Ee.push(new bd(Zn.keyField(),s))}return e.Ee}function Fs(n){const e=nt(n);return e.de||(e.de=GM(e,cd(n))),e.de}function GM(n,e){if(n.limitType==="F")return sT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new bd(a.field,o)});const t=n.endAt?new xm(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new xm(n.startAt.position,n.startAt.inclusive):null;return sT(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Rv(n,e){const t=n.filters.concat([e]);return new Uc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function wm(n,e,t){return new Uc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function np(n,e){return N0(Fs(n),Fs(e))&&n.limitType===e.limitType}function AA(n){return`${R0(Fs(n))}|lt:${n.limitType}`}function Kl(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(a=>EA(a)).join(", ")}]`),Jm(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(a=>_c(a)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(a=>_c(a)).join(",")),`Target(${s})`}(Fs(n))}; limitType=${n.limitType})`}function rp(n,e){return e.isFoundDocument()&&function(s,a){const o=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(o):Be.isDocumentKey(s.path)?s.path.isEqual(o):s.path.isImmediateParentOf(o)}(n,e)&&function(s,a){for(const o of cd(s))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,e)&&function(s,a){for(const o of s.filters)if(!o.matches(a))return!1;return!0}(n,e)&&function(s,a){return!(s.startAt&&!function(c,d,m){const p=nT(c,d,m);return c.inclusive?p<=0:p<0}(s.startAt,cd(s),a)||s.endAt&&!function(c,d,m){const p=nT(c,d,m);return c.inclusive?p>=0:p>0}(s.endAt,cd(s),a))}(n,e)}function YM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function CA(n){return(e,t)=>{let s=!1;for(const a of cd(n)){const o=KM(a,e,t);if(o!==0)return o;s=s||a.field.isKeyField()}return 0}}function KM(n,e,t){const s=n.field.isKeyField()?Be.comparator(e.key,t.key):function(o,c,d){const m=c.data.field(o),p=d.data.field(o);return m!==null&&p!==null?vc(m,p):$e(42886)}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return $e(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,o]of s)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Xa(this.inner,(t,s)=>{for(const[a,o]of s)e(a,o)})}isEmpty(){return uA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=new ln(Be.comparator);function Bi(){return QM}const RA=new ln(Be.comparator);function ed(...n){let e=RA;for(const t of n)e=e.insert(t.key,t);return e}function NA(n){let e=RA;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Lo(){return ud()}function IA(){return ud()}function ud(){return new Jo(n=>n.toString(),(n,e)=>n.isEqual(e))}const ZM=new ln(Be.comparator),WM=new jn(Be.comparator);function yt(...n){let e=WM;for(const t of n)e=e.add(t);return e}const XM=new jn(lt);function JM(){return XM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vm(e)?"-0":e}}function kA(n){return{integerValue:""+n}}function e6(n,e){return CM(e)?kA(e):I0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(){this._=void 0}}function t6(n,e,t){return n instanceof Em?function(a,o){const c={fields:{[hA]:{stringValue:fA},[pA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&A0(o)&&(o=ep(o)),o&&(c.fields[mA]=o),{mapValue:c}}(t,e):n instanceof xd?OA(n,e):n instanceof wd?jA(n,e):function(a,o){const c=DA(a,o),d=aT(c)+aT(a.Re);return Sv(c)&&Sv(a.Re)?kA(d):I0(a.serializer,d)}(n,e)}function n6(n,e,t){return n instanceof xd?OA(n,e):n instanceof wd?jA(n,e):t}function DA(n,e){return n instanceof Tm?function(s){return Sv(s)||function(o){return!!o&&"doubleValue"in o}(s)}(e)?e:{integerValue:0}:null}class Em extends sp{}class xd extends sp{constructor(e){super(),this.elements=e}}function OA(n,e){const t=MA(e);for(const s of n.elements)t.some(a=>Ys(a,s))||t.push(s);return{arrayValue:{values:t}}}class wd extends sp{constructor(e){super(),this.elements=e}}function jA(n,e){let t=MA(e);for(const s of n.elements)t=t.filter(a=>!Ys(a,s));return{arrayValue:{values:t}}}class Tm extends sp{constructor(e,t){super(),this.serializer=e,this.Re=t}}function aT(n){return yn(n.integerValue||n.doubleValue)}function MA(n){return C0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function r6(n,e){return n.field.isEqual(e.field)&&function(s,a){return s instanceof xd&&a instanceof xd||s instanceof wd&&a instanceof wd?yc(s.elements,a.elements,Ys):s instanceof Tm&&a instanceof Tm?Ys(s.Re,a.Re):s instanceof Em&&a instanceof Em}(n.transform,e.transform)}class s6{constructor(e,t){this.version=e,this.transformResults=t}}class pr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pr}static exists(e){return new pr(void 0,e)}static updateTime(e){return new pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function em(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ip{}function PA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ap(n.key,pr.none()):new Kd(n.key,n.data,pr.none());{const t=n.data,s=wr.empty();let a=new jn(Zn.comparator);for(let o of e.fields)if(!a.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?s.delete(o):s.set(o,c),a=a.add(o)}return new Ja(n.key,s,new jr(a.toArray()),pr.none())}}function i6(n,e,t){n instanceof Kd?function(a,o,c){const d=a.value.clone(),m=lT(a.fieldTransforms,o,c.transformResults);d.setAll(m),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ja?function(a,o,c){if(!em(a.precondition,o))return void o.convertToUnknownDocument(c.version);const d=lT(a.fieldTransforms,o,c.transformResults),m=o.data;m.setAll(LA(a)),m.setAll(d),o.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function dd(n,e,t,s){return n instanceof Kd?function(o,c,d,m){if(!em(o.precondition,c))return d;const p=o.value.clone(),v=cT(o.fieldTransforms,m,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,e,t,s):n instanceof Ja?function(o,c,d,m){if(!em(o.precondition,c))return d;const p=cT(o.fieldTransforms,m,c),v=c.data;return v.setAll(LA(o)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(b=>b.field))}(n,e,t,s):function(o,c,d){return em(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function a6(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),o=DA(s.transform,a||null);o!=null&&(t===null&&(t=wr.empty()),t.set(s.field,o))}return t||null}function oT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&yc(s,a,(o,c)=>r6(o,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Kd extends ip{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ja extends ip{constructor(e,t,s,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function LA(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function lT(n,e,t){const s=new Map;Mt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const o=n[a],c=o.transform,d=e.data.field(o.field);s.set(o.field,n6(c,d,t[a]))}return s}function cT(n,e,t){const s=new Map;for(const a of n){const o=a.transform,c=t.data.field(a.field);s.set(a.field,t6(o,c,e))}return s}class ap extends ip{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class o6 extends ip{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&i6(o,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=dd(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=dd(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=IA();return this.mutations.forEach(a=>{const o=e.get(a.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=t.has(a.key)?null:d;const m=PA(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(et.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),yt())}isEqual(e){return this.batchId===e.batchId&&yc(this.mutations,e.mutations,(t,s)=>oT(t,s))&&yc(this.baseMutations,e.baseMutations,(t,s)=>oT(t,s))}}class k0{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Mt(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let a=function(){return ZM}();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,s[c].version);return new k0(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tn,Tt;function d6(n){switch(n){case ue.OK:return $e(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return $e(15467,{code:n})}}function VA(n){if(n===void 0)return Ui("GRPC error has no .code"),ue.UNKNOWN;switch(n){case Tn.OK:return ue.OK;case Tn.CANCELLED:return ue.CANCELLED;case Tn.UNKNOWN:return ue.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return ue.INTERNAL;case Tn.UNAVAILABLE:return ue.UNAVAILABLE;case Tn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Tn.NOT_FOUND:return ue.NOT_FOUND;case Tn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Tn.ABORTED:return ue.ABORTED;case Tn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Tn.DATA_LOSS:return ue.DATA_LOSS;default:return $e(39323,{code:n})}}(Tt=Tn||(Tn={}))[Tt.OK=0]="OK",Tt[Tt.CANCELLED=1]="CANCELLED",Tt[Tt.UNKNOWN=2]="UNKNOWN",Tt[Tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tt[Tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tt[Tt.NOT_FOUND=5]="NOT_FOUND",Tt[Tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tt[Tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tt[Tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tt[Tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tt[Tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tt[Tt.ABORTED=10]="ABORTED",Tt[Tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tt[Tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tt[Tt.INTERNAL=13]="INTERNAL",Tt[Tt.UNAVAILABLE=14]="UNAVAILABLE",Tt[Tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=new Pa([4294967295,4294967295],0);function uT(n){const e=oA().encode(n),t=new J1;return t.update(e),new Uint8Array(t.digest())}function dT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Pa([t,s],0),new Pa([a,o],0)]}class D0{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new td(`Invalid padding: ${t}`);if(s<0)throw new td(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new td(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new td(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Pa.fromNumber(this.pe)}we(e,t,s){let a=e.add(t.multiply(Pa.fromNumber(s)));return a.compare(f6)===1&&(a=new Pa([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=uT(e),[s,a]=dT(t);for(let o=0;o<this.hashCount;o++){const c=this.we(s,a,o);if(!this.be(c))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new D0(o,a,t);return s.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const t=uT(e),[s,a]=dT(t);for(let o=0;o<this.hashCount;o++){const c=this.we(s,a,o);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class td extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,t,s,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Qd.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new op(et.min(),a,new ln(lt),Bi(),yt())}}class Qd{constructor(e,t,s,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Qd(s,t,yt(),yt(),yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,t,s,a){this.De=e,this.removedTargetIds=t,this.key=s,this.ve=a}}class UA{constructor(e,t){this.targetId=e,this.Ce=t}}class BA{constructor(e,t,s=Xn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class fT{constructor(){this.Fe=0,this.Me=hT(),this.xe=Xn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=yt(),t=yt(),s=yt();return this.Me.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:$e(38017,{changeType:o})}}),new Qd(this.xe,this.Oe,e,t,s)}Qe(){this.Ne=!1,this.Me=hT()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Mt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class h6{constructor(e){this.ze=e,this.je=new Map,this.He=Bi(),this.Je=Mh(),this.Ye=Mh(),this.Ze=new ln(lt)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const s=this.rt(t);switch(e.state){case 0:this.it(t)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(t);break;case 3:this.it(t)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),s.ke(e.resumeToken));break;default:$e(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((s,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,s=e.Ce.count,a=this._t(t);if(a){const o=a.target;if(Cv(o))if(s===0){const c=new Be(o.path);this.tt(t,c,sr.newNoDocument(c,et.min()))}else Mt(s===1,20013,{expectedCount:s});else{const c=this.ut(t);if(c!==s){const d=this.ct(e),m=d?this.lt(d,e,c):1;if(m!==0){this.st(t);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:o=0}=t;let c,d;try{c=za(s).toUint8Array()}catch(m){if(m instanceof dA)return gc("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new D0(c,a,o)}catch(m){return gc(m instanceof td?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.pe===0?null:d}lt(e,t,s){return t.Ce.count===s-this.Tt(e,t.targetId)?0:2}Tt(e,t){const s=this.ze.getRemoteKeysForTarget(t);let a=0;return s.forEach(o=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,o,null),a++)}),a}It(e){const t=new Map;this.je.forEach((o,c)=>{const d=this._t(c);if(d){if(o.current&&Cv(d.target)){const m=new Be(d.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,sr.newNoDocument(m,e))}o.Le&&(t.set(c,o.qe()),o.Qe())}});let s=yt();this.Ye.forEach((o,c)=>{let d=!0;c.forEachWhile(m=>{const p=this._t(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(o))}),this.He.forEach((o,c)=>c.setReadTime(e));const a=new op(e,t,this.Ze,this.He,s);return this.He=Bi(),this.Je=Mh(),this.Ye=Mh(),this.Ze=new ln(lt),a}et(e,t){if(!this.it(e))return;const s=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,s),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,s){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),s&&(this.He=this.He.insert(t,s))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new fT,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new jn(lt),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new jn(lt),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Se("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new fT),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Mh(){return new ln(Be.comparator)}function hT(){return new ln(Be.comparator)}const m6={asc:"ASCENDING",desc:"DESCENDING"},p6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},g6={and:"AND",or:"OR"};class y6{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Nv(n,e){return n.useProto3Json||Jm(e)?e:{value:e}}function Sm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function v6(n,e){return Sm(n,e.toTimestamp())}function Hs(n){return Mt(!!n,49232),et.fromTimestamp(function(t){const s=Ba(t);return new $t(s.seconds,s.nanos)}(n))}function O0(n,e){return Iv(n,e).canonicalString()}function Iv(n,e){const t=function(a){return new Yt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function FA(n){const e=Yt.fromString(n);return Mt(YA(e),10190,{key:e.toString()}),e}function kv(n,e){return O0(n.databaseId,e.path)}function zy(n,e){const t=FA(e);if(t.get(1)!==n.databaseId.projectId)throw new Ee(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ee(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Be(qA(t))}function HA(n,e){return O0(n.databaseId,e)}function _6(n){const e=FA(n);return e.length===4?Yt.emptyPath():qA(e)}function Dv(n){return new Yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function qA(n){return Mt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function mT(n,e,t){return{name:kv(n,e),fields:t.value.mapValue.fields}}function b6(n,e){let t;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:$e(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(p,v){return p.useProto3Json?(Mt(v===void 0||typeof v=="string",58123),Xn.fromBase64String(v||"")):(Mt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Xn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const v=p.code===void 0?ue.UNKNOWN:VA(p.code);return new Ee(v,p.message||"")}(c);t=new BA(s,a,o,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=zy(n,s.document.name),o=Hs(s.document.updateTime),c=s.document.createTime?Hs(s.document.createTime):et.min(),d=new wr({mapValue:{fields:s.document.fields}}),m=sr.newFoundDocument(a,o,c,d),p=s.targetIds||[],v=s.removedTargetIds||[];t=new tm(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=zy(n,s.document),o=s.readTime?Hs(s.readTime):et.min(),c=sr.newNoDocument(a,o),d=s.removedTargetIds||[];t=new tm([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=zy(n,s.document),o=s.removedTargetIds||[];t=new tm([],o,a,null)}else{if(!("filter"in e))return $e(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:o}=s,c=new u6(a,o),d=s.targetId;t=new UA(d,c)}}return t}function x6(n,e){let t;if(e instanceof Kd)t={update:mT(n,e.key,e.value)};else if(e instanceof ap)t={delete:kv(n,e.key)};else if(e instanceof Ja)t={update:mT(n,e.key,e.data),updateMask:I6(e.fieldMask)};else{if(!(e instanceof o6))return $e(16599,{ft:e.type});t={verify:kv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(o,c){const d=c.transform;if(d instanceof Em)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof xd)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof wd)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Tm)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw $e(20930,{transform:c.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:v6(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:$e(27497)}(n,e.precondition)),t}function w6(n,e){return n&&n.length>0?(Mt(e!==void 0,14353),n.map(t=>function(a,o){let c=a.updateTime?Hs(a.updateTime):Hs(o);return c.isEqual(et.min())&&(c=Hs(o)),new s6(c,a.transformResults||[])}(t,e))):[]}function E6(n,e){return{documents:[HA(n,e.path)]}}function T6(n,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=HA(n,a);const o=function(p){if(p.length!==0)return GA(hs.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const c=function(p){if(p.length!==0)return p.map(v=>function(x){return{field:Ql(x.field),direction:C6(x.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Nv(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:a}}function S6(n){let e=_6(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Mt(s===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let o=[];t.where&&(o=function(b){const x=$A(b);return x instanceof hs&&xA(x)?x.getFilters():[x]}(t.where));let c=[];t.orderBy&&(c=function(b){return b.map(x=>function(R){return new bd(Zl(R.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(x))}(t.orderBy));let d=null;t.limit&&(d=function(b){let x;return x=typeof b=="object"?b.value:b,Jm(x)?null:x}(t.limit));let m=null;t.startAt&&(m=function(b){const x=!!b.before,S=b.values||[];return new xm(S,x)}(t.startAt));let p=null;return t.endAt&&(p=function(b){const x=!b.before,S=b.values||[];return new xm(S,x)}(t.endAt)),$M(e,a,c,o,d,"F",m,p)}function A6(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function $A(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Zl(t.unaryFilter.field);return Sn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Zl(t.unaryFilter.field);return Sn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Zl(t.unaryFilter.field);return Sn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Zl(t.unaryFilter.field);return Sn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $e(61313);default:return $e(60726)}}(n):n.fieldFilter!==void 0?function(t){return Sn.create(Zl(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $e(58110);default:return $e(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return hs.create(t.compositeFilter.filters.map(s=>$A(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return $e(1026)}}(t.compositeFilter.op))}(n):$e(30097,{filter:n})}function C6(n){return m6[n]}function R6(n){return p6[n]}function N6(n){return g6[n]}function Ql(n){return{fieldPath:n.canonicalString()}}function Zl(n){return Zn.fromServerFormat(n.fieldPath)}function GA(n){return n instanceof Sn?function(t){if(t.op==="=="){if(tT(t.value))return{unaryFilter:{field:Ql(t.field),op:"IS_NAN"}};if(eT(t.value))return{unaryFilter:{field:Ql(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(tT(t.value))return{unaryFilter:{field:Ql(t.field),op:"IS_NOT_NAN"}};if(eT(t.value))return{unaryFilter:{field:Ql(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ql(t.field),op:R6(t.op),value:t.value}}}(n):n instanceof hs?function(t){const s=t.getFilters().map(a=>GA(a));return s.length===1?s[0]:{compositeFilter:{op:N6(t.op),filters:s}}}(n):$e(54877,{filter:n})}function I6(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function YA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,t,s,a,o=et.min(),c=et.min(),d=Xn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new ka(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.wt=e}}function D6(n){const e=S6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?wm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(){this.Cn=new j6}addToCollectionParentIndex(e,t){return this.Cn.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(Ua.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(Ua.min())}updateCollectionGroup(e,t,s){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class j6{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new jn(Yt.comparator),o=!a.has(s);return this.index[t]=a.add(s),o}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new jn(Yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},KA=41943040;class xr{static withCacheSize(e){return new xr(e,xr.DEFAULT_COLLECTION_PERCENTILE,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr.DEFAULT_COLLECTION_PERCENTILE=10,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xr.DEFAULT=new xr(KA,xr.DEFAULT_COLLECTION_PERCENTILE,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xr.DISABLED=new xr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new bc(0)}static lr(){return new bc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="LruGarbageCollector",M6=1048576;function yT([n,e],[t,s]){const a=lt(n,t);return a===0?lt(e,s):a}class P6{constructor(e){this.Er=e,this.buffer=new jn(yT),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();yT(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class L6{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Se(gT,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Vc(t)?Se(gT,"Ignoring IndexedDB error during garbage collection: ",t):await Lc(t)}await this.mr(3e5)})}}class V6{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return fe.resolve(Xm.le);const s=new P6(t);return this.gr.forEachTarget(e,a=>s.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>s.Rr(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.gr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(pT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pT):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let s,a,o,c,d,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a))).next(b=>(s=b,d=Date.now(),this.removeTargets(e,s,t))).next(b=>(o=b,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(p=Date.now(),Yl()<=mt.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${o} targets in `+(m-d)+`ms
	Removed ${b} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:b})))}}function U6(n,e){return new V6(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(){this.changes=new Jo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?fe.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(s!==null&&dd(s.mutation,a,jr.empty(),$t.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,yt()).next(()=>s))}getLocalViewOfDocuments(e,t,s=yt()){const a=Lo();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(o=>{let c=ed();return o.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const s=Lo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,yt()))}populateOverlays(e,t,s){const a=[];return s.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,s,a){let o=Bi();const c=ud(),d=function(){return ud()}();return t.forEach((m,p)=>{const v=s.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Ja)?o=o.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),dd(v.mutation,p,v.mutation.getFieldMask(),$t.now())):c.set(p.key,jr.empty())}),this.recalculateAndSaveOverlays(e,o).next(m=>(m.forEach((p,v)=>c.set(p,v)),t.forEach((p,v)=>{var b;return d.set(p,new z6(v,(b=c.get(p))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,t){const s=ud();let a=new ln((c,d)=>c-d),o=yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(m=>{const p=t.get(m);if(p===null)return;let v=s.get(m)||jr.empty();v=d.applyToLocalView(p,v),s.set(m,v);const b=(a.get(d.batchId)||yt()).add(m);a=a.insert(d.batchId,b)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,v=m.value,b=IA();v.forEach(x=>{if(!o.has(x)){const S=PA(t.get(x),s.get(x));S!==null&&b.set(x,S),o=o.add(x)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,b))}return fe.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,a){return function(c){return Be.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):SA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-o.size):fe.resolve(Lo());let d=gd,m=o;return c.next(p=>fe.forEach(p,(v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),o.get(v)?fe.resolve():this.remoteDocumentCache.getEntry(e,v).next(x=>{m=m.insert(v,x)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,m,p,yt())).next(v=>({batchId:d,changes:NA(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Be(t)).next(s=>{let a=ed();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const o=t.collectionGroup;let c=ed();return this.indexManager.getCollectionParents(e,o).next(d=>fe.forEach(d,m=>{const p=function(b,x){return new Uc(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,m.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next(v=>{v.forEach((b,x)=>{c=c.insert(b,x)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,o,a))).next(c=>{o.forEach((m,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,sr.newInvalidDocument(v)))});let d=ed();return c.forEach((m,p)=>{const v=o.get(m);v!==void 0&&dd(v.mutation,p,jr.empty(),$t.now()),rp(t,p)&&(d=d.insert(m,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return fe.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Hs(a.createTime)}}(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(a){return{name:a.name,query:D6(a.bundledQuery),readTime:Hs(a.readTime)}}(t)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(){this.overlays=new ln(Be.comparator),this.Qr=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Lo();return fe.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&s.set(a,o)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,o)=>{this.St(e,t,o)}),fe.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.Qr.get(s);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(s)),fe.resolve()}getOverlaysForCollection(e,t,s){const a=Lo(),o=t.length+1,c=new Be(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&m.largestBatchId>s&&a.set(m.getKey(),m)}return fe.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let o=new ln((p,v)=>p-v);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>s){let v=o.get(p.largestBatchId);v===null&&(v=Lo(),o=o.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=Lo(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,v)=>d.set(p,v)),!(d.size()>=a)););return fe.resolve(d)}St(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(s.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new c6(t,s));let o=this.Qr.get(t);o===void 0&&(o=yt(),this.Qr.set(t,o)),this.Qr.set(t,o.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(){this.sessionToken=Xn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(){this.$r=new jn(Fn.Ur),this.Kr=new jn(Fn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const s=new Fn(e,t);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.zr(new Fn(e,t))}jr(e,t){e.forEach(s=>this.removeReference(s,t))}Hr(e){const t=new Be(new Yt([])),s=new Fn(t,e),a=new Fn(t,e+1),o=[];return this.Kr.forEachInRange([s,a],c=>{this.zr(c),o.push(c.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Be(new Yt([])),s=new Fn(t,e),a=new Fn(t,e+1);let o=yt();return this.Kr.forEachInRange([s,a],c=>{o=o.add(c.key)}),o}containsKey(e){const t=new Fn(e,0),s=this.$r.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Fn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Be.comparator(e.key,t.key)||lt(e.Zr,t.Zr)}static Wr(e,t){return lt(e.Zr,t.Zr)||Be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new jn(Fn.Ur)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new l6(o,t,s,a);this.mutationQueue.push(c);for(const d of a)this.Xr=this.Xr.add(new Fn(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return fe.resolve(c)}lookupMutationBatch(e,t){return fe.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.ti(s),o=a<0?0:a;return fe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?S0:this.nr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Fn(t,0),a=new Fn(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([s,a],c=>{const d=this.ei(c.Zr);o.push(d)}),fe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new jn(lt);return t.forEach(a=>{const o=new Fn(a,0),c=new Fn(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,c],d=>{s=s.add(d.Zr)})}),fe.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let o=s;Be.isDocumentKey(o)||(o=o.child(""));const c=new Fn(new Be(o),0);let d=new jn(lt);return this.Xr.forEachWhile(m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Zr)),!0)},c),fe.resolve(this.ni(d))}ni(e){const t=[];return e.forEach(s=>{const a=this.ei(s);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Mt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return fe.forEach(t.mutations,a=>{const o=new Fn(a.key,t.batchId);return s=s.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,t){const s=new Fn(t,0),a=this.Xr.firstAfterOrEqual(s);return fe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e){this.ii=e,this.docs=function(){return new ln(Be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),o=a?a.size:0,c=this.ii(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return fe.resolve(s?s.document.mutableCopy():sr.newInvalidDocument(t))}getEntries(e,t){let s=Bi();return t.forEach(a=>{const o=this.docs.get(a);s=s.insert(a,o?o.document.mutableCopy():sr.newInvalidDocument(a))}),fe.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let o=Bi();const c=t.path,d=new Be(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||EM(wM(v),s)<=0||(a.has(v.key)||rp(t,v))&&(o=o.insert(v.key,v.mutableCopy()))}return fe.resolve(o)}getAllFromCollectionGroup(e,t,s,a){$e(9500)}si(e,t){return fe.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new K6(this)}getSize(e){return fe.resolve(this.size)}}class K6 extends B6{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.Br.addEntry(e,a)):this.Br.removeEntry(s)}),fe.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e){this.persistence=e,this.oi=new Jo(t=>R0(t),N0),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this._i=0,this.ai=new j0,this.targetCount=0,this.ui=bc.cr()}forEachTarget(e,t){return this.oi.forEach((s,a)=>t(a)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this._i&&(this._i=t),fe.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new bc(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.Tr(t),fe.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,s){let a=0;const o=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.oi.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),fe.waitFor(o).next(()=>a)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const s=this.oi.get(t)||null;return fe.resolve(s)}addMatchingKeys(e,t,s){return this.ai.Gr(t,s),fe.resolve()}removeMatchingKeys(e,t,s){this.ai.jr(t,s);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(c=>{o.push(a.markPotentiallyOrphaned(e,c))}),fe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ai.Yr(t);return fe.resolve(s)}containsKey(e,t){return fe.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,t){this.ci={},this.overlays={},this.li=new Xm(0),this.hi=!1,this.hi=!0,this.Pi=new $6,this.referenceDelegate=e(this),this.Ti=new Q6(this),this.indexManager=new O6,this.remoteDocumentCache=function(a){return new Y6(a)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new k6(t),this.Ei=new H6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new q6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ci[e.toKey()];return s||(s=new G6(t,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,s){Se("MemoryPersistence","Starting transaction:",e);const a=new Z6(this.li.next());return this.referenceDelegate.di(),s(a).next(o=>this.referenceDelegate.Ai(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Ri(e,t){return fe.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,t)))}}class Z6 extends SM{constructor(e){super(),this.currentSequenceNumber=e}}class M0{constructor(e){this.persistence=e,this.Vi=new j0,this.mi=null}static fi(e){return new M0(e)}get gi(){if(this.mi)return this.mi;throw $e(60996)}addReference(e,t,s){return this.Vi.addReference(s,t),this.gi.delete(s.toString()),fe.resolve()}removeReference(e,t,s){return this.Vi.removeReference(s,t),this.gi.add(s.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(a=>this.gi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.gi.add(o.toString()))}).next(()=>s.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.gi,s=>{const a=Be.fromPath(s);return this.pi(e,a).next(o=>{o||t.removeEntry(a,et.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(s=>{s?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return fe.or([()=>fe.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Am{constructor(e,t){this.persistence=e,this.yi=new Jo(s=>RM(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=U6(this,t)}static fi(e,t){return new Am(e,t)}di(){}Ai(e){return fe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}br(e){let t=0;return this.yr(e,s=>{t++}).next(()=>t)}yr(e,t){return fe.forEach(this.yi,(s,a)=>this.Dr(e,s,a).next(o=>o?fe.resolve():t(a)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.si(e,c=>this.Dr(e,c,t).next(d=>{d||(s++,o.removeEntry(c,et.min()))})).next(()=>o.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),fe.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),fe.resolve()}removeReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),fe.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Xh(e.data.value)),t}Dr(e,t,s){return fe.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.yi.get(t);return fe.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.ds=s,this.As=a}static Rs(e,t){let s=yt(),a=yt();for(const o of t.docChanges)switch(o.type){case 0:s=s.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new P0(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return kO()?8:AM(ar())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,s,a){const o={result:null};return this.ws(e,t).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.bs(e,t,a,s).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new W6;return this.Ss(e,t,c).next(d=>{if(o.result=d,this.fs)return this.Ds(e,t,c,d.size)})}).next(()=>o.result)}Ds(e,t,s,a){return s.documentReadCount<this.gs?(Yl()<=mt.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",Kl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),fe.resolve()):(Yl()<=mt.DEBUG&&Se("QueryEngine","Query:",Kl(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ps*a?(Yl()<=mt.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",Kl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fs(t))):fe.resolve())}ws(e,t){if(iT(t))return fe.resolve(null);let s=Fs(t);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=wm(t,null,"F"),s=Fs(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(o=>{const c=yt(...o);return this.ys.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,s).next(m=>{const p=this.vs(t,d);return this.Cs(t,p,c,m.readTime)?this.ws(e,wm(t,null,"F")):this.Fs(e,p,t,m)}))})))}bs(e,t,s,a){return iT(t)||a.isEqual(et.min())?fe.resolve(null):this.ys.getDocuments(e,s).next(o=>{const c=this.vs(t,o);return this.Cs(t,c,s,a)?fe.resolve(null):(Yl()<=mt.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Kl(t)),this.Fs(e,c,t,xM(a,gd)).next(d=>d))})}vs(e,t){let s=new jn(CA(e));return t.forEach((a,o)=>{rp(e,o)&&(s=s.add(o))}),s}Cs(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,t,s){return Yl()<=mt.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",Kl(t)),this.ys.getDocumentsMatchingQuery(e,t,Ua.min(),s)}Fs(e,t,s,a){return this.ys.getDocumentsMatchingQuery(e,s,a).next(o=>(t.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="LocalStore",J6=3e8;class eP{constructor(e,t,s,a){this.persistence=e,this.Ms=t,this.serializer=a,this.xs=new ln(lt),this.Os=new Jo(o=>R0(o),N0),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new F6(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function tP(n,e,t,s){return new eP(n,e,t,s)}async function ZA(n,e){const t=nt(n);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(o=>(a=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(s))).next(o=>{const c=[],d=[];let m=yt();for(const p of a){c.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of o){d.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(s,m).next(p=>({ks:p,removedBatchIds:c,addedBatchIds:d}))})})}function nP(n,e){const t=nt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(d,m,p,v){const b=p.batch,x=b.keys();let S=fe.resolve();return x.forEach(R=>{S=S.next(()=>v.getEntry(m,R)).next(C=>{const N=p.docVersions.get(R);Mt(N!==null,48541),C.version.compareTo(N)<0&&(b.applyToRemoteDocument(C,p),C.isValidDocument()&&(C.setReadTime(p.commitVersion),v.addEntry(C)))})}),S.next(()=>d.mutationQueue.removeMutationBatch(m,b))}(t,s,e,o).next(()=>o.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let m=yt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function WA(n){const e=nt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function rP(n,e){const t=nt(n),s=e.snapshotVersion;let a=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});a=t.xs;const d=[];e.targetChanges.forEach((v,b)=>{const x=a.get(b);if(!x)return;d.push(t.Ti.removeMatchingKeys(o,v.removedDocuments,b).next(()=>t.Ti.addMatchingKeys(o,v.addedDocuments,b)));let S=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?S=S.withResumeToken(Xn.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,s)),a=a.insert(b,S),function(C,N,M){return C.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=J6?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(x,S,v)&&d.push(t.Ti.updateTargetData(o,S))});let m=Bi(),p=yt();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(o,v))}),d.push(sP(o,c,e.documentUpdates).next(v=>{m=v.qs,p=v.Qs})),!s.isEqual(et.min())){const v=t.Ti.getLastRemoteSnapshotVersion(o).next(b=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,s));d.push(v)}return fe.waitFor(d).next(()=>c.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,m,p)).next(()=>m)}).then(o=>(t.xs=a,o))}function sP(n,e,t){let s=yt(),a=yt();return t.forEach(o=>s=s.add(o)),e.getEntries(n,s).next(o=>{let c=Bi();return t.forEach((d,m)=>{const p=o.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(et.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):Se(L0,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)}),{qs:c,Qs:a}})}function iP(n,e){const t=nt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=S0),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function aP(n,e){const t=nt(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Ti.getTargetData(s,e).next(o=>o?(a=o,fe.resolve(a)):t.Ti.allocateTargetId(s).next(c=>(a=new ka(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Ti.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.xs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.xs=t.xs.insert(s.targetId,s),t.Os.set(e,s.targetId)),s})}async function Ov(n,e,t){const s=nt(n),a=s.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",o,c=>s.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Vc(c))throw c;Se(L0,`Failed to update sequence numbers for target ${e}: ${c}`)}s.xs=s.xs.remove(e),s.Os.delete(a.target)}function vT(n,e,t){const s=nt(n);let a=et.min(),o=yt();return s.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,v){const b=nt(m),x=b.Os.get(v);return x!==void 0?fe.resolve(b.xs.get(x)):b.Ti.getTargetData(p,v)}(s,c,Fs(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(c,d.targetId).next(m=>{o=m})}).next(()=>s.Ms.getDocumentsMatchingQuery(c,e,t?a:et.min(),t?o:yt())).next(d=>(oP(s,YM(e),d),{documents:d,$s:o})))}function oP(n,e,t){let s=n.Ns.get(e)||et.min();t.forEach((a,o)=>{o.readTime.compareTo(s)>0&&(s=o.readTime)}),n.Ns.set(e,s)}class _T{constructor(){this.activeTargetIds=JM()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lP{constructor(){this.xo=new _T,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,s){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new _T,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="ConnectivityMonitor";class xT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Se(bT,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Se(bT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph=null;function jv(){return Ph===null?Ph=function(){return 268435456+Math.round(2147483648*Math.random())}():Ph++,"0x"+Ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="RestConnection",uP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dP{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${s}/databases/${a}`,this.Go=this.databaseId.database===_m?`project_id=${s}`:`project_id=${s}&database_id=${a}`}zo(e,t,s,a,o){const c=jv(),d=this.jo(e,t.toUriEncodedString());Se(Fy,`Sending RPC '${e}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,a,o);const{host:p}=new URL(d),v=Oc(p);return this.Jo(e,d,m,s,v).then(b=>(Se(Fy,`Received RPC '${e}' ${c}: `,b),b),b=>{throw gc(Fy,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",s),b})}Yo(e,t,s,a,o,c){return this.zo(e,t,s,a,o)}Ho(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),s&&s.headers.forEach((a,o)=>e[o]=a)}jo(e,t){const s=uP[e];return`${this.Ko}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr="WebChannelConnection";class hP extends dP{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,a,o){const c=jv();return new Promise((d,m)=>{const p=new eA;p.setWithCredentials(!0),p.listenOnce(tA.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Wh.NO_ERROR:const b=p.getResponseJson();Se(nr,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case Wh.TIMEOUT:Se(nr,`RPC '${e}' ${c} timed out`),m(new Ee(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Wh.HTTP_ERROR:const x=p.getStatus();if(Se(nr,`RPC '${e}' ${c} failed with status:`,x,"response text:",p.getResponseText()),x>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const R=S==null?void 0:S.error;if(R&&R.status&&R.message){const C=function(M){const L=M.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(L)>=0?L:ue.UNKNOWN}(R.status);m(new Ee(C,R.message))}else m(new Ee(ue.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new Ee(ue.UNAVAILABLE,"Connection failed."));break;default:$e(9055,{h_:e,streamId:c,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{Se(nr,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(a);Se(nr,`RPC '${e}' ${c} sending request:`,a),p.send(t,"POST",v,s,15)})}I_(e,t,s){const a=jv(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=sA(),d=rA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const v=o.join("");Se(nr,`Creating RPC '${e}' stream ${a}: ${v}`,m);const b=c.createWebChannel(v,m);this.E_(b);let x=!1,S=!1;const R=new fP({Zo:N=>{S?Se(nr,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(x||(Se(nr,`Opening RPC '${e}' stream ${a} transport.`),b.open(),x=!0),Se(nr,`RPC '${e}' stream ${a} sending:`,N),b.send(N))},Xo:()=>b.close()}),C=(N,M,L)=>{N.listen(M,V=>{try{L(V)}catch(q){setTimeout(()=>{throw q},0)}})};return C(b,Ju.EventType.OPEN,()=>{S||(Se(nr,`RPC '${e}' stream ${a} transport opened.`),R.__())}),C(b,Ju.EventType.CLOSE,()=>{S||(S=!0,Se(nr,`RPC '${e}' stream ${a} transport closed`),R.u_(),this.d_(b))}),C(b,Ju.EventType.ERROR,N=>{S||(S=!0,gc(nr,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),R.u_(new Ee(ue.UNAVAILABLE,"The operation could not be completed")))}),C(b,Ju.EventType.MESSAGE,N=>{var M;if(!S){const L=N.data[0];Mt(!!L,16349);const V=L,q=(V==null?void 0:V.error)||((M=V[0])===null||M===void 0?void 0:M.error);if(q){Se(nr,`RPC '${e}' stream ${a} received error:`,q);const F=q.status;let Z=function(O){const B=Tn[O];if(B!==void 0)return VA(B)}(F),k=q.message;Z===void 0&&(Z=ue.INTERNAL,k="Unknown error status: "+F+" with message "+q.message),S=!0,R.u_(new Ee(Z,k)),b.close()}else Se(nr,`RPC '${e}' stream ${a} received:`,L),R.c_(L)}}),C(d,nA.STAT_EVENT,N=>{N.stat===wv.PROXY?Se(nr,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===wv.NOPROXY&&Se(nr,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{R.a_()},0),R}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Hy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(n){return new y6(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,t,s=1e3,a=1.5,o=6e4){this.xi=e,this.timerId=t,this.A_=s,this.R_=a,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),a=Math.max(0,t-s);a>0&&Se("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="PersistentStream";class JA{constructor(e,t,s,a,o,c,d,m){this.xi=e,this.S_=s,this.D_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new XA(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(Ui(t.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.v_===t&&this.z_(s,a)},s=>{e(()=>{const a=new Ee(ue.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(a)})})}z_(e,t){const s=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{s(()=>this.j_(a))}),this.stream.onMessage(a=>{s(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Se(wT,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(Se(wT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mP extends JA{constructor(e,t,s,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,c),this.serializer=o}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=b6(this.serializer,e),s=function(o){if(!("targetChange"in o))return et.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?et.min():c.readTime?Hs(c.readTime):et.min()}(e);return this.listener.Y_(t,s)}Z_(e){const t={};t.database=Dv(this.serializer),t.addTarget=function(o,c){let d;const m=c.target;if(d=Cv(m)?{documents:E6(o,m)}:{query:T6(o,m).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=zA(o,c.resumeToken);const p=Nv(o,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(et.min())>0){d.readTime=Sm(o,c.snapshotVersion.toTimestamp());const p=Nv(o,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const s=A6(this.serializer,e);s&&(t.labels=s),this.Q_(t)}X_(e){const t={};t.database=Dv(this.serializer),t.removeTarget=e,this.Q_(t)}}class pP extends JA{constructor(e,t,s,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,c),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=w6(e.writeResults,e.commitTime),s=Hs(e.commitTime);return this.listener.ra(s,t)}ia(){const e={};e.database=Dv(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>x6(this.serializer,s))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{}class yP extends gP{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new Ee(ue.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,s,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.zo(e,Iv(t,s),a,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ee(ue.UNKNOWN,o.toString())})}Yo(e,t,s,a,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(e,Iv(t,s),a,c,d,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ee(ue.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class vP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ui(t),this.ua=!1):Se("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo="RemoteStore";class _P{constructor(e,t,s,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(c=>{s.enqueueAndForget(async()=>{el(this)&&(Se(qo,"Restarting streams for network reachability change."),await async function(m){const p=nt(m);p.da.add(4),await Zd(p),p.Va.set("Unknown"),p.da.delete(4),await cp(p)}(this))})}),this.Va=new vP(s,a)}}async function cp(n){if(el(n))for(const e of n.Aa)await e(!0)}async function Zd(n){for(const e of n.Aa)await e(!1)}function eC(n,e){const t=nt(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),z0(t)?B0(t):Bc(t).N_()&&U0(t,e))}function V0(n,e){const t=nt(n),s=Bc(t);t.Ea.delete(e),s.N_()&&tC(t,e),t.Ea.size===0&&(s.N_()?s.k_():el(t)&&t.Va.set("Unknown"))}function U0(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(et.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Bc(n).Z_(e)}function tC(n,e){n.ma.Ke(e),Bc(n).X_(e)}function B0(n){n.ma=new h6({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Bc(n).start(),n.Va.ca()}function z0(n){return el(n)&&!Bc(n).O_()&&n.Ea.size>0}function el(n){return nt(n).da.size===0}function nC(n){n.ma=void 0}async function bP(n){n.Va.set("Online")}async function xP(n){n.Ea.forEach((e,t)=>{U0(n,e)})}async function wP(n,e){nC(n),z0(n)?(n.Va.Pa(e),B0(n)):n.Va.set("Unknown")}async function EP(n,e,t){if(n.Va.set("Online"),e instanceof BA&&e.state===2&&e.cause)try{await async function(a,o){const c=o.cause;for(const d of o.targetIds)a.Ea.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ea.delete(d),a.ma.removeTarget(d))}(n,e)}catch(s){Se(qo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Cm(n,s)}else if(e instanceof tm?n.ma.Xe(e):e instanceof UA?n.ma.ot(e):n.ma.nt(e),!t.isEqual(et.min()))try{const s=await WA(n.localStore);t.compareTo(s)>=0&&await function(o,c){const d=o.ma.It(c);return d.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=o.Ea.get(p);v&&o.Ea.set(p,v.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,p)=>{const v=o.Ea.get(m);if(!v)return;o.Ea.set(m,v.withResumeToken(Xn.EMPTY_BYTE_STRING,v.snapshotVersion)),tC(o,m);const b=new ka(v.target,m,p,v.sequenceNumber);U0(o,b)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(s){Se(qo,"Failed to raise snapshot:",s),await Cm(n,s)}}async function Cm(n,e,t){if(!Vc(e))throw e;n.da.add(1),await Zd(n),n.Va.set("Offline"),t||(t=()=>WA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Se(qo,"Retrying IndexedDB access"),await t(),n.da.delete(1),await cp(n)})}function rC(n,e){return e().catch(t=>Cm(n,t,e))}async function up(n){const e=nt(n),t=Ha(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:S0;for(;TP(e);)try{const a=await iP(e.localStore,s);if(a===null){e.Ia.length===0&&t.k_();break}s=a.batchId,SP(e,a)}catch(a){await Cm(e,a)}sC(e)&&iC(e)}function TP(n){return el(n)&&n.Ia.length<10}function SP(n,e){n.Ia.push(e);const t=Ha(n);t.N_()&&t.ea&&t.ta(e.mutations)}function sC(n){return el(n)&&!Ha(n).O_()&&n.Ia.length>0}function iC(n){Ha(n).start()}async function AP(n){Ha(n).ia()}async function CP(n){const e=Ha(n);for(const t of n.Ia)e.ta(t.mutations)}async function RP(n,e,t){const s=n.Ia.shift(),a=k0.from(s,e,t);await rC(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await up(n)}async function NP(n,e){e&&Ha(n).ea&&await async function(s,a){if(function(c){return d6(c)&&c!==ue.ABORTED}(a.code)){const o=s.Ia.shift();Ha(s).L_(),await rC(s,()=>s.remoteSyncer.rejectFailedWrite(o.batchId,a)),await up(s)}}(n,e),sC(n)&&iC(n)}async function ET(n,e){const t=nt(n);t.asyncQueue.verifyOperationInProgress(),Se(qo,"RemoteStore received new credentials");const s=el(t);t.da.add(3),await Zd(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await cp(t)}async function IP(n,e){const t=nt(n);e?(t.da.delete(2),await cp(t)):e||(t.da.add(2),await Zd(t),t.Va.set("Unknown"))}function Bc(n){return n.fa||(n.fa=function(t,s,a){const o=nt(t);return o.oa(),new mP(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{e_:bP.bind(null,n),n_:xP.bind(null,n),i_:wP.bind(null,n),Y_:EP.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),z0(n)?B0(n):n.Va.set("Unknown")):(await n.fa.stop(),nC(n))})),n.fa}function Ha(n){return n.ga||(n.ga=function(t,s,a){const o=nt(t);return o.oa(),new pP(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:AP.bind(null,n),i_:NP.bind(null,n),na:CP.bind(null,n),ra:RP.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await up(n)):(await n.ga.stop(),n.Ia.length>0&&(Se(qo,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,t,s,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=o,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,o){const c=Date.now()+s,d=new F0(e,t,c,a,o);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function H0(n,e){if(Ui("AsyncQueue",`${e}: ${n}`),Vc(n))return new Ee(ue.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{static emptySet(e){return new sc(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Be.comparator(t.key,s.key):(t,s)=>Be.comparator(t.key,s.key),this.keyedMap=ed(),this.sortedSet=new ln(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=s.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new sc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.pa=new ln(Be.comparator)}track(e){const t=e.doc.key,s=this.pa.get(t);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(t,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(t):e.type===1&&s.type===2?this.pa=this.pa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):$e(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,s)=>{e.push(s)}),e}}class xc{constructor(e,t,s,a,o,c,d,m,p){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,t,s,a,o){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new xc(e,t,sc.emptySet(t),c,s,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&np(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class DP{constructor(){this.queries=ST(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const a=nt(t),o=a.queries;a.queries=ST(),o.forEach((c,d)=>{for(const m of d.Sa)m.onError(s)})})(this,new Ee(ue.ABORTED,"Firestore shutting down"))}}function ST(){return new Jo(n=>AA(n),np)}async function q0(n,e){const t=nt(n);let s=3;const a=e.query;let o=t.queries.get(a);o?!o.Da()&&e.va()&&(s=2):(o=new kP,s=e.va()?0:1);try{switch(s){case 0:o.ba=await t.onListen(a,!0);break;case 1:o.ba=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=H0(c,`Initialization of query '${Kl(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,o),o.Sa.push(e),e.Fa(t.onlineState),o.ba&&e.Ma(o.ba)&&G0(t)}async function $0(n,e){const t=nt(n),s=e.query;let a=3;const o=t.queries.get(s);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=e.va()?0:1:!o.Da()&&e.va()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function OP(n,e){const t=nt(n);let s=!1;for(const a of e){const o=a.query,c=t.queries.get(o);if(c){for(const d of c.Sa)d.Ma(a)&&(s=!0);c.ba=a}}s&&G0(t)}function jP(n,e,t){const s=nt(n),a=s.queries.get(e);if(a)for(const o of a.Sa)o.onError(t);s.queries.delete(e)}function G0(n){n.Ca.forEach(e=>{e.next()})}var Mv,AT;(AT=Mv||(Mv={})).xa="default",AT.Cache="cache";class Y0{constructor(e,t,s){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new xc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const s=t!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Mv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.key=e}}class oC{constructor(e){this.key=e}}class MP{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=yt(),this.mutatedKeys=yt(),this.Za=CA(e),this.Xa=new sc(this.Za)}get eu(){return this.Ha}tu(e,t){const s=t?t.nu:new TT,a=t?t.Xa:this.Xa;let o=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,b)=>{const x=a.get(v),S=rp(this.query,b)?b:null,R=!!x&&this.mutatedKeys.has(x.key),C=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let N=!1;x&&S?x.data.isEqual(S.data)?R!==C&&(s.track({type:3,doc:S}),N=!0):this.ru(x,S)||(s.track({type:2,doc:S}),N=!0,(m&&this.Za(S,m)>0||p&&this.Za(S,p)<0)&&(d=!0)):!x&&S?(s.track({type:0,doc:S}),N=!0):x&&!S&&(s.track({type:1,doc:x}),N=!0,(m||p)&&(d=!0)),N&&(S?(c=c.add(S),o=C?o.add(v):o.delete(v)):(c=c.delete(v),o=o.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),o=o.delete(v.key),s.track({type:1,doc:v})}return{Xa:c,nu:s,Cs:d,mutatedKeys:o}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const c=e.nu.wa();c.sort((v,b)=>function(S,R){const C=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e(20277,{Vt:N})}};return C(S)-C(R)}(v.type,b.type)||this.Za(v.doc,b.doc)),this.iu(s),a=a!=null&&a;const d=t&&!a?this.su():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Ja;return this.Ja=m,c.length!==0||p?{snapshot:new xc(this.query,e.Xa,o,c,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new TT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=yt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const t=[];return e.forEach(s=>{this.Ya.has(s)||t.push(new oC(s))}),this.Ya.forEach(s=>{e.has(s)||t.push(new aC(s))}),t}au(e){this.Ha=e.$s,this.Ya=yt();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return xc.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const K0="SyncEngine";class PP{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class LP{constructor(e){this.key=e,this.cu=!1}}class VP{constructor(e,t,s,a,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new Jo(d=>AA(d),np),this.Pu=new Map,this.Tu=new Set,this.Iu=new ln(Be.comparator),this.Eu=new Map,this.du=new j0,this.Au={},this.Ru=new Map,this.Vu=bc.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function UP(n,e,t=!0){const s=hC(n);let a;const o=s.hu.get(e);return o?(s.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.uu()):a=await lC(s,e,t,!0),a}async function BP(n,e){const t=hC(n);await lC(t,e,!0,!1)}async function lC(n,e,t,s){const a=await aP(n.localStore,Fs(e)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let d;return s&&(d=await zP(n,e,o,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&eC(n.remoteStore,a),d}async function zP(n,e,t,s,a){n.fu=(b,x,S)=>async function(C,N,M,L){let V=N.view.tu(M);V.Cs&&(V=await vT(C.localStore,N.query,!1).then(({documents:k})=>N.view.tu(k,V)));const q=L&&L.targetChanges.get(N.targetId),F=L&&L.targetMismatches.get(N.targetId)!=null,Z=N.view.applyChanges(V,C.isPrimaryClient,q,F);return RT(C,N.targetId,Z.ou),Z.snapshot}(n,b,x,S);const o=await vT(n.localStore,e,!0),c=new MP(e,o.$s),d=c.tu(o.documents),m=Qd.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",a),p=c.applyChanges(d,n.isPrimaryClient,m);RT(n,t,p.ou);const v=new PP(e,t,c);return n.hu.set(e,v),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),p.snapshot}async function FP(n,e,t){const s=nt(n),a=s.hu.get(e),o=s.Pu.get(a.targetId);if(o.length>1)return s.Pu.set(a.targetId,o.filter(c=>!np(c,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Ov(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),t&&V0(s.remoteStore,a.targetId),Pv(s,a.targetId)}).catch(Lc)):(Pv(s,a.targetId),await Ov(s.localStore,a.targetId,!0))}async function HP(n,e){const t=nt(n),s=t.hu.get(e),a=t.Pu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),V0(t.remoteStore,s.targetId))}async function qP(n,e,t){const s=WP(n);try{const a=await function(c,d){const m=nt(c),p=$t.now(),v=d.reduce((S,R)=>S.add(R.key),yt());let b,x;return m.persistence.runTransaction("Locally write mutations","readwrite",S=>{let R=Bi(),C=yt();return m.Bs.getEntries(S,v).next(N=>{R=N,R.forEach((M,L)=>{L.isValidDocument()||(C=C.add(M))})}).next(()=>m.localDocuments.getOverlayedDocuments(S,R)).next(N=>{b=N;const M=[];for(const L of d){const V=a6(L,b.get(L.key).overlayedDocument);V!=null&&M.push(new Ja(L.key,V,vA(V.value.mapValue),pr.exists(!0)))}return m.mutationQueue.addMutationBatch(S,p,M,d)}).next(N=>{x=N;const M=N.applyToLocalDocumentSet(b,C);return m.documentOverlayCache.saveOverlays(S,N.batchId,M)})}).then(()=>({batchId:x.batchId,changes:NA(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let p=c.Au[c.currentUser.toKey()];p||(p=new ln(lt)),p=p.insert(d,m),c.Au[c.currentUser.toKey()]=p}(s,a.batchId,t),await Wd(s,a.changes),await up(s.remoteStore)}catch(a){const o=H0(a,"Failed to persist write");t.reject(o)}}async function cC(n,e){const t=nt(n);try{const s=await rP(t.localStore,e);e.targetChanges.forEach((a,o)=>{const c=t.Eu.get(o);c&&(Mt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.cu=!0:a.modifiedDocuments.size>0?Mt(c.cu,14607):a.removedDocuments.size>0&&(Mt(c.cu,42227),c.cu=!1))}),await Wd(t,s,e)}catch(s){await Lc(s)}}function CT(n,e,t){const s=nt(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.hu.forEach((o,c)=>{const d=c.view.Fa(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=nt(c);m.onlineState=d;let p=!1;m.queries.forEach((v,b)=>{for(const x of b.Sa)x.Fa(d)&&(p=!0)}),p&&G0(m)}(s.eventManager,e),a.length&&s.lu.Y_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function $P(n,e,t){const s=nt(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Eu.get(e),o=a&&a.key;if(o){let c=new ln(Be.comparator);c=c.insert(o,sr.newNoDocument(o,et.min()));const d=yt().add(o),m=new op(et.min(),new Map,new ln(lt),c,d);await cC(s,m),s.Iu=s.Iu.remove(o),s.Eu.delete(e),Q0(s)}else await Ov(s.localStore,e,!1).then(()=>Pv(s,e,t)).catch(Lc)}async function GP(n,e){const t=nt(n),s=e.batch.batchId;try{const a=await nP(t.localStore,e);dC(t,s,null),uC(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Wd(t,a)}catch(a){await Lc(a)}}async function YP(n,e,t){const s=nt(n);try{const a=await function(c,d){const m=nt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return m.mutationQueue.lookupMutationBatch(p,d).next(b=>(Mt(b!==null,37113),v=b.keys(),m.mutationQueue.removeMutationBatch(p,b))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>m.localDocuments.getDocuments(p,v))})}(s.localStore,e);dC(s,e,t),uC(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Wd(s,a)}catch(a){await Lc(a)}}function uC(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function dC(n,e,t){const s=nt(n);let a=s.Au[s.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),s.Au[s.currentUser.toKey()]=a}}function Pv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Pu.get(e))n.hu.delete(s),t&&n.lu.gu(s,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(s=>{n.du.containsKey(s)||fC(n,s)})}function fC(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(V0(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),Q0(n))}function RT(n,e,t){for(const s of t)s instanceof aC?(n.du.addReference(s.key,e),KP(n,s)):s instanceof oC?(Se(K0,"Document no longer in limbo: "+s.key),n.du.removeReference(s.key,e),n.du.containsKey(s.key)||fC(n,s.key)):$e(19791,{pu:s})}function KP(n,e){const t=e.key,s=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(s)||(Se(K0,"New document in limbo: "+t),n.Tu.add(s),Q0(n))}function Q0(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new Be(Yt.fromString(e)),s=n.Vu.next();n.Eu.set(s,new LP(t)),n.Iu=n.Iu.insert(t,s),eC(n.remoteStore,new ka(Fs(tp(t.path)),s,"TargetPurposeLimboResolution",Xm.le))}}async function Wd(n,e,t){const s=nt(n),a=[],o=[],c=[];s.hu.isEmpty()||(s.hu.forEach((d,m)=>{c.push(s.fu(m,e,t).then(p=>{var v;if((p||t)&&s.isPrimaryClient){const b=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(m.targetId,b?"current":"not-current")}if(p){a.push(p);const b=P0.Rs(m.targetId,p);o.push(b)}}))}),await Promise.all(c),s.lu.Y_(a),await async function(m,p){const v=nt(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>fe.forEach(p,x=>fe.forEach(x.ds,S=>v.persistence.referenceDelegate.addReference(b,x.targetId,S)).next(()=>fe.forEach(x.As,S=>v.persistence.referenceDelegate.removeReference(b,x.targetId,S)))))}catch(b){if(!Vc(b))throw b;Se(L0,"Failed to update sequence numbers: "+b)}for(const b of p){const x=b.targetId;if(!b.fromCache){const S=v.xs.get(x),R=S.snapshotVersion,C=S.withLastLimboFreeSnapshotVersion(R);v.xs=v.xs.insert(x,C)}}}(s.localStore,o))}async function QP(n,e){const t=nt(n);if(!t.currentUser.isEqual(e)){Se(K0,"User change. New user:",e.toKey());const s=await ZA(t.localStore,e);t.currentUser=e,function(o,c){o.Ru.forEach(d=>{d.forEach(m=>{m.reject(new Ee(ue.CANCELLED,c))})}),o.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Wd(t,s.ks)}}function ZP(n,e){const t=nt(n),s=t.Eu.get(e);if(s&&s.cu)return yt().add(s.key);{let a=yt();const o=t.Pu.get(e);if(!o)return a;for(const c of o){const d=t.hu.get(c);a=a.unionWith(d.view.eu)}return a}}function hC(n){const e=nt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=cC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$P.bind(null,e),e.lu.Y_=OP.bind(null,e.eventManager),e.lu.gu=jP.bind(null,e.eventManager),e}function WP(n){const e=nt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YP.bind(null,e),e}class Rm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lp(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return tP(this.persistence,new X6,e.initialUser,this.serializer)}Su(e){return new QA(M0.fi,this.serializer)}bu(e){return new lP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rm.provider={build:()=>new Rm};class XP extends Rm{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Mt(this.persistence.referenceDelegate instanceof Am,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new L6(s,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?xr.withCacheSize(this.cacheSizeBytes):xr.DEFAULT;return new QA(s=>Am.fi(s,t),this.serializer)}}class Lv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>CT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=QP.bind(null,this.syncEngine),await IP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DP}()}createDatastore(e){const t=lp(e.databaseInfo.databaseId),s=function(o){return new hP(o)}(e.databaseInfo);return function(o,c,d,m){return new yP(o,c,d,m)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,a,o,c,d){return new _P(s,a,o,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>CT(this.syncEngine,t,0),function(){return xT.C()?new xT:new cP}())}createSyncEngine(e,t){return function(a,o,c,d,m,p,v){const b=new VP(a,o,c,d,m,p);return v&&(b.mu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=nt(a);Se(qo,"RemoteStore shutting down."),o.da.add(5),await Zd(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Lv.provider={build:()=>new Lv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="FirestoreClient";class JP{constructor(e,t,s,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=rr.UNAUTHENTICATED,this.clientId=lA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(s,async c=>{Se(qa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(Se(qa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=H0(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function qy(n,e){n.asyncQueue.verifyOperationInProgress(),Se(qa,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(async a=>{s.isEqual(a)||(await ZA(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function NT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await e8(n);Se(qa,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(s=>ET(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,a)=>ET(e.remoteStore,a)),n._onlineComponents=e}async function e8(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Se(qa,"Using user provided OfflineComponentProvider");try{await qy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ue.FAILED_PRECONDITION||a.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;gc("Error using user provided cache. Falling back to memory cache: "+t),await qy(n,new Rm)}}else Se(qa,"Using default OfflineComponentProvider"),await qy(n,new XP(void 0));return n._offlineComponents}async function mC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Se(qa,"Using user provided OnlineComponentProvider"),await NT(n,n._uninitializedComponentsProvider._online)):(Se(qa,"Using default OnlineComponentProvider"),await NT(n,new Lv))),n._onlineComponents}function t8(n){return mC(n).then(e=>e.syncEngine)}async function Nm(n){const e=await mC(n),t=e.eventManager;return t.onListen=UP.bind(null,e.syncEngine),t.onUnlisten=FP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=BP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=HP.bind(null,e.syncEngine),t}function n8(n,e,t={}){const s=new Oi;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,d,m,p){const v=new Z0({next:x=>{v.xu(),c.enqueueAndForget(()=>$0(o,b));const S=x.docs.has(d);!S&&x.fromCache?p.reject(new Ee(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&x.fromCache&&m&&m.source==="server"?p.reject(new Ee(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),b=new Y0(tp(d.path),v,{includeMetadataChanges:!0,Qa:!0});return q0(o,b)}(await Nm(n),n.asyncQueue,e,t,s)),s.promise}function r8(n,e,t={}){const s=new Oi;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,d,m,p){const v=new Z0({next:x=>{v.xu(),c.enqueueAndForget(()=>$0(o,b)),x.fromCache&&m.source==="server"?p.reject(new Ee(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),b=new Y0(d,v,{includeMetadataChanges:!0,Qa:!0});return q0(o,b)}(await Nm(n),n.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(n,e,t){if(!t)throw new Ee(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function s8(n,e,t,s){if(e===!0&&s===!0)throw new Ee(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function kT(n){if(!Be.isDocumentKey(n))throw new Ee(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function DT(n){if(Be.isDocumentKey(n))throw new Ee(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":$e(12329,{type:typeof n})}function gr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ee(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dp(n);throw new Ee(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function i8(n,e){if(e<=0)throw new Ee(ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="firestore.googleapis.com",OT=!0;class jT{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yC,this.ssl=OT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:OT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=KA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<M6)throw new Ee(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}s8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pC((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ee(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ee(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ee(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fp{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new fM;switch(s.type){case"firstParty":return new gM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ee(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=IT.get(t);s&&(Se("ComponentProvider","Removing Datastore"),IT.delete(t),s.terminate())}(this),Promise.resolve()}}function a8(n,e,t,s={}){var a;n=gr(n,fp);const o=Oc(e),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),m=`${e}:${t}`;o&&(u1(`https://${m}`),d1("Firestore",!0)),c.host!==yC&&c.host!==m&&gc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:o,emulatorOptions:s});if(!Uo(p,d)&&(n._setSettings(p),s.mockUserToken)){let v,b;if(typeof s.mockUserToken=="string")v=s.mockUserToken,b=rr.MOCK_USER;else{v=wO(s.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new Ee(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new rr(x)}n._authCredentials=new hM(new aA(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ki(this.firestore,e,this._query)}}class ir{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new La(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ir(this.firestore,e,this._key)}}class La extends Ki{constructor(e,t,s){super(e,t,tp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ir(this.firestore,null,new Be(e))}withConverter(e){return new La(this.firestore,e,this._path)}}function Kt(n,e,...t){if(n=fn(n),gC("collection","path",e),n instanceof fp){const s=Yt.fromString(e,...t);return DT(s),new La(n,null,s)}{if(!(n instanceof ir||n instanceof La))throw new Ee(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Yt.fromString(e,...t));return DT(s),new La(n.firestore,null,s)}}function Qt(n,e,...t){if(n=fn(n),arguments.length===1&&(e=lA.newId()),gC("doc","path",e),n instanceof fp){const s=Yt.fromString(e,...t);return kT(s),new ir(n,null,new Be(s))}{if(!(n instanceof ir||n instanceof La))throw new Ee(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Yt.fromString(e,...t));return kT(s),new ir(n.firestore,n instanceof La?n.converter:null,new Be(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="AsyncQueue";class PT{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new XA(this,"async_queue_retry"),this.rc=()=>{const s=Hy();s&&Se(MT,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const t=Hy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Hy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Oi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Vc(e))throw e;Se(MT,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,Ui("INTERNAL UNHANDLED ERROR: ",LT(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=t,t}enqueueAfterDelay(e,t,s){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const a=F0.createAndSchedule(this,e,t,s,o=>this.uc(o));return this.Zu.push(a),a}oc(){this.Xu&&$e(47125,{cc:LT(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function LT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(n){return function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of s)if(o in a&&typeof a[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Ks extends fp{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new PT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new PT(e),this._firestoreClient=void 0,await e}}}function o8(n,e){const t=typeof n=="object"?n:p1(),s=typeof n=="string"?n:_m,a=p0(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const o=bO("firestore");o&&a8(a,...o)}return a}function Xd(n){if(n._terminated)throw new Ee(ue.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||l8(n),n._firestoreClient}function l8(n){var e,t,s;const a=n._freezeSettings(),o=function(d,m,p,v){return new kM(d,m,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,pC(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new JP(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wc(Xn.fromBase64String(e))}catch(t){throw new Ee(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new wc(Xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ee(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ee(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ee(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let o=0;o<s.length;++o)if(s[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=/^__.*__$/;class u8{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ja(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kd(e,this.data,t,this.fieldTransforms)}}class vC{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ja(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _C(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e(40011,{Ic:n})}}class e_{constructor(e,t,s,a,o,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new e_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:s,Rc:!1});return a.Vc(e),a}mc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:s,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Im(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(_C(this.Ic)&&c8.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class d8{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||lp(e)}bc(e,t,s,a=!1){return new e_({Ic:e,methodName:t,wc:s,path:Zn.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ef(n){const e=n._freezeSettings(),t=lp(n._databaseId);return new d8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function t_(n,e,t,s,a,o={}){const c=n.bc(o.merge||o.mergeFields?2:0,e,t,a);n_("Data must be an object, but it was:",c,s);const d=wC(s,c);let m,p;if(o.merge)m=new jr(c.fieldMask),p=c.fieldTransforms;else if(o.mergeFields){const v=[];for(const b of o.mergeFields){const x=Vv(e,b,t);if(!c.contains(x))throw new Ee(ue.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);TC(v,x)||v.push(x)}m=new jr(v),p=c.fieldTransforms.filter(b=>m.covers(b.field))}else m=null,p=c.fieldTransforms;return new u8(new wr(d),m,p)}class hp extends W0{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hp}}function bC(n,e,t,s){const a=n.bc(1,e,t);n_("Data must be an object, but it was:",a,s);const o=[],c=wr.empty();Xa(s,(m,p)=>{const v=r_(e,m,t);p=fn(p);const b=a.mc(v);if(p instanceof hp)o.push(v);else{const x=tf(p,b);x!=null&&(o.push(v),c.set(v,x))}});const d=new jr(o);return new vC(c,d,a.fieldTransforms)}function xC(n,e,t,s,a,o){const c=n.bc(1,e,t),d=[Vv(e,s,t)],m=[a];if(o.length%2!=0)throw new Ee(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)d.push(Vv(e,o[x])),m.push(o[x+1]);const p=[],v=wr.empty();for(let x=d.length-1;x>=0;--x)if(!TC(p,d[x])){const S=d[x];let R=m[x];R=fn(R);const C=c.mc(S);if(R instanceof hp)p.push(S);else{const N=tf(R,C);N!=null&&(p.push(S),v.set(S,N))}}const b=new jr(p);return new vC(v,b,c.fieldTransforms)}function f8(n,e,t,s=!1){return tf(t,n.bc(s?4:3,e))}function tf(n,e){if(EC(n=fn(n)))return n_("Unsupported field value:",e,n),wC(n,e);if(n instanceof W0)return function(s,a){if(!_C(a.Ic))throw a.gc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${s._methodName}() is not currently supported inside arrays`);const o=s._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,a){const o=[];let c=0;for(const d of s){let m=tf(d,a.fc(c));m==null&&(m={nullValue:"NULL_VALUE"}),o.push(m),c++}return{arrayValue:{values:o}}}(n,e)}return function(s,a){if((s=fn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return e6(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const o=$t.fromDate(s);return{timestampValue:Sm(a.serializer,o)}}if(s instanceof $t){const o=new $t(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Sm(a.serializer,o)}}if(s instanceof X0)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof wc)return{bytesValue:zA(a.serializer,s._byteString)};if(s instanceof ir){const o=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(o))throw a.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:O0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof J0)return function(c,d){return{mapValue:{fields:{[gA]:{stringValue:yA},[bm]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.gc("VectorValues must only contain numeric values.");return I0(d.serializer,p)})}}}}}}(s,a);throw a.gc(`Unsupported field value: ${dp(s)}`)}(n,e)}function wC(n,e){const t={};return uA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xa(n,(s,a)=>{const o=tf(a,e.Ac(s));o!=null&&(t[s]=o)}),{mapValue:{fields:t}}}function EC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof $t||n instanceof X0||n instanceof wc||n instanceof ir||n instanceof W0||n instanceof J0)}function n_(n,e,t){if(!EC(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const s=dp(t);throw s==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+s)}}function Vv(n,e,t){if((e=fn(e))instanceof Jd)return e._internalPath;if(typeof e=="string")return r_(n,e);throw Im("Field path arguments must be of type string or ",n,!1,void 0,t)}const h8=new RegExp("[~\\*/\\[\\]]");function r_(n,e,t){if(e.search(h8)>=0)throw Im(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Jd(...e.split("."))._internalPath}catch{throw Im(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Im(n,e,t,s,a){const o=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(o||c)&&(m+=" (found",o&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new Ee(ue.INVALID_ARGUMENT,d+n+m)}function TC(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,t,s,a,o){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ir(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class m8 extends SC{data(){return super.data()}}function mp(n,e){return typeof e=="string"?r_(n,e):e instanceof Jd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ee(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class s_{}class i_ extends s_{}function Er(n,e,...t){let s=[];e instanceof s_&&s.push(e),s=s.concat(t),function(o){const c=o.filter(m=>m instanceof a_).length,d=o.filter(m=>m instanceof pp).length;if(c>1||c>0&&d>0)throw new Ee(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)n=a._apply(n);return n}class pp extends i_{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new pp(e,t,s)}_apply(e){const t=this._parse(e);return RC(e._query,t),new Ki(e.firestore,e.converter,Rv(e._query,t))}_parse(e){const t=ef(e.firestore);return function(o,c,d,m,p,v,b){let x;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Ee(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){BT(b,v);const R=[];for(const C of b)R.push(UT(m,o,C));x={arrayValue:{values:R}}}else x=UT(m,o,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||BT(b,v),x=f8(d,c,b,v==="in"||v==="not-in");return Sn.create(p,v,x)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function qs(n,e,t){const s=e,a=mp("where",n);return pp._create(a,s,t)}class a_ extends s_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new a_(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:hs.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let c=a;const d=o.getFlattenedFilters();for(const m of d)RC(c,m),c=Rv(c,m)}(e._query,t),new Ki(e.firestore,e.converter,Rv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class o_ extends i_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new o_(e,t)}_apply(e){const t=function(a,o,c){if(a.startAt!==null)throw new Ee(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ee(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bd(o,c)}(e._query,this._field,this._direction);return new Ki(e.firestore,e.converter,function(a,o){const c=a.explicitOrderBy.concat([o]);return new Uc(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function zi(n,e="asc"){const t=e,s=mp("orderBy",n);return o_._create(s,t)}class l_ extends i_{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new l_(e,t,s)}_apply(e){return new Ki(e.firestore,e.converter,wm(e._query,this._limit,this._limitType))}}function CC(n){return i8("limit",n),l_._create("limit",n,"F")}function UT(n,e,t){if(typeof(t=fn(t))=="string"){if(t==="")throw new Ee(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SA(e)&&t.indexOf("/")!==-1)throw new Ee(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Yt.fromString(t));if(!Be.isDocumentKey(s))throw new Ee(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return JE(n,new Be(s))}if(t instanceof ir)return JE(n,t._key);throw new Ee(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dp(t)}.`)}function BT(n,e){if(!Array.isArray(n)||n.length===0)throw new Ee(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RC(n,e){const t=function(a,o){for(const c of a)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ee(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class p8{convertValue(e,t="none"){switch(Fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw $e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Xa(e,(a,o)=>{s[a]=this.convertValue(o,t)}),s}convertVectorValue(e){var t,s,a;const o=(a=(s=(t=e.fields)===null||t===void 0?void 0:t[bm].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(c=>yn(c.doubleValue));return new J0(o)}convertGeoPoint(e){return new X0(yn(e.latitude),yn(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=ep(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(yd(e));default:return null}}convertTimestamp(e){const t=Ba(e);return new $t(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Yt.fromString(e);Mt(YA(s),9688,{name:e});const a=new vd(s.get(1),s.get(3)),o=new Be(s.popFirst(5));return a.isEqual(t)||Ui(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class NC extends SC{constructor(e,t,s,a,o,c){super(e,t,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new nm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(mp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class nm extends NC{data(e={}){return super.data(e)}}class IC{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new nd(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new nm(this._firestore,this._userDataWriter,s.key,s,new nd(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ee(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const m=new nm(a._firestore,a._userDataWriter,d.doc.key,d.doc,new nd(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const m=new nm(a._firestore,a._userDataWriter,d.doc.key,d.doc,new nd(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:g8(d.type),doc:m,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function g8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(n){n=gr(n,ir);const e=gr(n.firestore,Ks);return n8(Xd(e),n._key).then(t=>kC(e,n,t))}class u_ extends p8{constructor(e){super(),this.firestore=e}convertBytes(e){return new wc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ir(this.firestore,null,t)}}function Wn(n){n=gr(n,Ki);const e=gr(n.firestore,Ks),t=Xd(e),s=new u_(e);return AC(n._query),r8(t,n._query).then(a=>new IC(e,s,n,a))}function y8(n,e,t){n=gr(n,ir);const s=gr(n.firestore,Ks),a=c_(n.converter,e,t);return rf(s,[t_(ef(s),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,pr.none())])}function cs(n,e,t,...s){n=gr(n,ir);const a=gr(n.firestore,Ks),o=ef(a);let c;return c=typeof(e=fn(e))=="string"||e instanceof Jd?xC(o,"updateDoc",n._key,e,t,s):bC(o,"updateDoc",n._key,e),rf(a,[c.toMutation(n._key,pr.exists(!0))])}function nf(n){return rf(gr(n.firestore,Ks),[new ap(n._key,pr.none())])}function ji(n,e){const t=gr(n.firestore,Ks),s=Qt(n),a=c_(n.converter,e);return rf(t,[t_(ef(n.firestore),"addDoc",s._key,a,n.converter!==null,{}).toMutation(s._key,pr.exists(!1))]).then(()=>s)}function v8(n,...e){var t,s,a;n=fn(n);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||VT(e[c])||(o=e[c],c++);const d={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(VT(e[c])){const b=e[c];e[c]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[c+1]=(s=b.error)===null||s===void 0?void 0:s.bind(b),e[c+2]=(a=b.complete)===null||a===void 0?void 0:a.bind(b)}let m,p,v;if(n instanceof ir)p=gr(n.firestore,Ks),v=tp(n._key.path),m={next:b=>{e[c]&&e[c](kC(p,n,b))},error:e[c+1],complete:e[c+2]};else{const b=gr(n,Ki);p=gr(b.firestore,Ks),v=b._query;const x=new u_(p);m={next:S=>{e[c]&&e[c](new IC(p,x,b,S))},error:e[c+1],complete:e[c+2]},AC(n._query)}return function(x,S,R,C){const N=new Z0(C),M=new Y0(S,N,R);return x.asyncQueue.enqueueAndForget(async()=>q0(await Nm(x),M)),()=>{N.xu(),x.asyncQueue.enqueueAndForget(async()=>$0(await Nm(x),M))}}(Xd(p),v,d,m)}function rf(n,e){return function(s,a){const o=new Oi;return s.asyncQueue.enqueueAndForget(async()=>qP(await t8(s),a,o)),o.promise}(Xd(n),e)}function kC(n,e,t){const s=t.docs.get(e._key),a=new u_(n);return new NC(n,a,e._key,s,new nd(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ef(e)}set(e,t,s){this._verifyNotCommitted();const a=$y(e,this._firestore),o=c_(a.converter,t,s),c=t_(this._dataReader,"WriteBatch.set",a._key,o,a.converter!==null,s);return this._mutations.push(c.toMutation(a._key,pr.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const o=$y(e,this._firestore);let c;return c=typeof(t=fn(t))=="string"||t instanceof Jd?xC(this._dataReader,"WriteBatch.update",o._key,t,s,a):bC(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(c.toMutation(o._key,pr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=$y(e,this._firestore);return this._mutations=this._mutations.concat(new ap(t._key,pr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ee(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $y(n,e){if((n=fn(n)).firestore!==e)throw new Ee(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(n){return Xd(n=gr(n,Ks)),new _8(n,e=>rf(n,e))}(function(e,t=!0){(function(a){Pc=a})(jc),mc(new Bo("firestore",(s,{instanceIdentifier:a,options:o})=>{const c=s.getProvider("app").getImmediate(),d=new Ks(new mM(s.getProvider("auth-internal")),new yM(c,s.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ee(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vd(p.options.projectId,v)}(c,a),c);return o=Object.assign({useFetchStreams:t},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),Ma(zE,FE,e),Ma(zE,FE,"esm2017")})();var b8="firebase",x8="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ma(b8,x8,"app");const w8={apiKey:"AIzaSyBWOaRM6RgB2B63wqHfawl7dMBU2uTMPbI",authDomain:"billybilly-8f5a5.firebaseapp.com",projectId:"billybilly-8f5a5",storageBucket:"billybilly-8f5a5.firebasestorage.app",messagingSenderId:"667395219625",appId:"1:667395219625:web:da57f0bb7b1319838349b8"},DC=m1(w8),Lh=uM(DC),Fe=o8(DC),OC=w.createContext();function cr(){return w.useContext(OC)}function E8({children:n}){const[e,t]=w.useState(null),[s,a]=w.useState(!0);function o(p,v,b){return Yj(Lh,p,v).then(async x=>(await F1(x.user,{displayName:b}),await y8(Qt(Fe,"users",x.user.uid),{email:x.user.email,displayName:b,createdAt:new Date,preferences:{currency:"CNY",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}}),await ji(Kt(Fe,"ledgers"),{name:"Personal Expenses",ownerId:x.user.uid,createdAt:new Date,members:{[x.user.uid]:"owner"},currency:"CNY"}),x))}function c(p,v){return Kj(Lh,p,v)}function d(){return Jj(Lh)}w.useEffect(()=>Xj(Lh,async v=>{t(v||null),a(!1)}),[]);const m={currentUser:e,signup:o,login:c,logout:d};return h.jsx(OC.Provider,{value:m,children:!s&&n})}const jC=w.createContext();function Js(){return w.useContext(jC)}function T8({children:n}){const{currentUser:e}=cr(),[t,s]=w.useState([]),[a,o]=w.useState(null),[c,d]=w.useState(!0),m=async()=>{if(!e){s([]),o(null),d(!1);return}try{const C=Kt(Fe,"ledgers"),N=await Wn(C),M=[];N.forEach(L=>{const V=L.data();V.members&&V.members[e.uid]&&M.push({id:L.id,...V})}),s(M),M.length>0?o(M[0]):o(null)}catch(C){console.error("Error fetching ledgers:",C)}finally{d(!1)}},p=async()=>{d(!0),await m()},v=async C=>{try{const N=await gp(Qt(Fe,"ledgers",C));if(N.exists()){const M={id:N.id,...N.data()};o(M)}}catch(N){console.error("Error switching ledger:",N)}},b=()=>!a||!e?null:a.members[e.uid]||null,x=()=>b()==="owner",S=()=>{const C=b();return C==="owner"||C==="member"};w.useEffect(()=>{m()},[e]),w.useEffect(()=>{if(e&&t.length===0&&!c){const C=setTimeout(()=>{p()},1e3);return()=>clearTimeout(C)}},[e,t.length,c]);const R={ledgers:t,currentLedger:a,loading:c,switchLedger:v,fetchLedgers:m,refreshLedgers:p,getUserRole:b,isOwner:x,canEdit:S};return h.jsx(jC.Provider,{value:R,children:n})}function Ta({children:n}){const{currentUser:e}=cr();return e?n:h.jsx(iv,{to:"/login"})}function an({className:n,type:e,...t}){return h.jsx("input",{type:e,"data-slot":"input",className:dn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var S8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vt=S8.reduce((n,e)=>{const t=hd(`Primitive.${e}`),s=w.forwardRef((a,o)=>{const{asChild:c,...d}=a,m=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(m,{...d,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{});function A8(n,e){n&&Bd.flushSync(()=>n.dispatchEvent(e))}var C8="Label",MC=w.forwardRef((n,e)=>h.jsx(Vt.label,{...n,ref:e,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||((a=n.onMouseDown)==null||a.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));MC.displayName=C8;var R8=MC;function tt({className:n,...e}){return h.jsx(R8,{"data-slot":"label",className:dn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}const N8=c0("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Jt({className:n,variant:e,...t}){return h.jsx("div",{"data-slot":"alert",role:"alert",className:dn(N8({variant:e}),n),...t})}function en({className:n,...e}){return h.jsx("div",{"data-slot":"alert-description",className:dn("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}function I8(){const[n,e]=w.useState(""),[t,s]=w.useState(""),[a,o]=w.useState(!1),[c,d]=w.useState(""),[m,p]=w.useState(!1),{login:v}=cr(),b=Gm();async function x(S){S.preventDefault();try{d(""),p(!0),await v(n,t),b("/")}catch(R){d("Failed to log in: "+R.message)}p(!1)}return h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-md w-full space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx(cc,{className:"h-12 w-12 text-blue-600"})}),h.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Sign in to ExpenseTracker"}),h.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",h.jsx(lc,{to:"/signup",className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]}),h.jsxs(pt,{children:[h.jsxs(Ct,{children:[h.jsx(Rt,{children:"Welcome back"}),h.jsx(Xt,{children:"Enter your credentials to access your account"})]}),h.jsxs(gt,{children:[c&&h.jsx(Jt,{className:"mb-4",variant:"destructive",children:h.jsx(en,{children:c})}),h.jsxs("form",{onSubmit:x,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"email",children:"Email address"}),h.jsx(an,{id:"email",type:"email",value:n,onChange:S=>e(S.target.value),required:!0,className:"mt-1",placeholder:"Enter your email"})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"password",children:"Password"}),h.jsxs("div",{className:"relative mt-1",children:[h.jsx(an,{id:"password",type:a?"text":"password",value:t,onChange:S=>s(S.target.value),required:!0,placeholder:"Enter your password"}),h.jsx(Oe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>o(!a),children:a?h.jsx(dv,{className:"h-4 w-4"}):h.jsx(fv,{className:"h-4 w-4"})})]})]}),h.jsx(Oe,{type:"submit",className:"w-full",disabled:m,children:m?"Signing in...":"Sign in"})]})]})]})]})})}function k8(){const[n,e]=w.useState(""),[t,s]=w.useState(""),[a,o]=w.useState(""),[c,d]=w.useState(""),[m,p]=w.useState(!1),[v,b]=w.useState(!1),[x,S]=w.useState(""),[R,C]=w.useState(!1),{signup:N}=cr(),{refreshLedgers:M}=Js(),L=Gm();async function V(q){if(q.preventDefault(),t!==a)return S("Passwords do not match");if(t.length<6)return S("Password must be at least 6 characters");try{S(""),C(!0),await N(n,t,c),setTimeout(async()=>{await M(),L("/")},500)}catch(F){S("Failed to create an account: "+F.message),C(!1)}}return h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-md w-full space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx(cc,{className:"h-12 w-12 text-blue-600"})}),h.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Create your account"}),h.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Or"," ",h.jsx(lc,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"sign in to your existing account"})]})]}),h.jsxs(pt,{children:[h.jsxs(Ct,{children:[h.jsx(Rt,{children:"Get started"}),h.jsx(Xt,{children:"Create your account to start tracking expenses"})]}),h.jsxs(gt,{children:[x&&h.jsx(Jt,{className:"mb-4",variant:"destructive",children:h.jsx(en,{children:x})}),h.jsxs("form",{onSubmit:V,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"displayName",children:"Full Name"}),h.jsx(an,{id:"displayName",type:"text",value:c,onChange:q=>d(q.target.value),required:!0,className:"mt-1",placeholder:"Enter your full name"})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"email",children:"Email address"}),h.jsx(an,{id:"email",type:"email",value:n,onChange:q=>e(q.target.value),required:!0,className:"mt-1",placeholder:"Enter your email"})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"password",children:"Password"}),h.jsxs("div",{className:"relative mt-1",children:[h.jsx(an,{id:"password",type:m?"text":"password",value:t,onChange:q=>s(q.target.value),required:!0,placeholder:"Create a password"}),h.jsx(Oe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>p(!m),children:m?h.jsx(dv,{className:"h-4 w-4"}):h.jsx(fv,{className:"h-4 w-4"})})]})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"confirmPassword",children:"Confirm Password"}),h.jsxs("div",{className:"relative mt-1",children:[h.jsx(an,{id:"confirmPassword",type:v?"text":"password",value:a,onChange:q=>o(q.target.value),required:!0,placeholder:"Confirm your password"}),h.jsx(Oe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>b(!v),children:v?h.jsx(dv,{className:"h-4 w-4"}):h.jsx(fv,{className:"h-4 w-4"})})]})]}),h.jsx(Oe,{type:"submit",className:"w-full",disabled:R,children:R?"Creating account...":"Create account"})]})]})]})]})})}function D8(n){const[e,t]=w.useState(Date.now());return w.useEffect(()=>{if(!n)return;const s=Kt(Fe,"ledgers",n,"transactions"),a=Er(s,zi("createdAt","desc"),CC(1)),o=v8(a,c=>{c.empty||t(Date.now())});return()=>o()},[n]),e}function O8(){const{currentUser:n}=cr(),{refreshLedgers:e}=Js(),[t,s]=w.useState([]),[a,o]=w.useState(!1),[c,d]=w.useState(""),[m,p]=w.useState(""),v=async()=>{if(n)try{o(!0);const S=Kt(Fe,"invitations"),R=Er(S,qs("inviteeEmail","==",n.email.toLowerCase()),qs("status","==","pending"),zi("createdAt","desc")),C=await Wn(R),N=[];C.forEach(M=>{var q;const L=M.data(),V=(q=L.expiresAt)==null?void 0:q.toDate();(!V||V>new Date)&&N.push({id:M.id,...L})}),s(N)}catch(S){console.error("Error fetching invitations:",S),d("Failed to fetch invitations")}finally{o(!1)}},b=async S=>{try{o(!0),d("");const R=Qt(Fe,"ledgers",S.ledgerId),C=await Wn(Er(Kt(Fe,"ledgers"),qs("__name__","==",S.ledgerId)));if(C.empty)throw new Error("Ledger not found");const M={...C.docs[0].data().members,[n.uid]:S.role};await cs(R,{members:M,updatedAt:new Date}),await cs(Qt(Fe,"invitations",S.id),{status:"accepted",acceptedAt:new Date}),await e(),await v(),p(`Successfully joined "${S.ledgerName}"!`)}catch(R){console.error("Error accepting invitation:",R),d("Failed to accept invitation")}finally{o(!1)}},x=async S=>{try{o(!0),d(""),await cs(Qt(Fe,"invitations",S),{status:"declined",declinedAt:new Date}),await v(),p("Invitation declined")}catch(R){console.error("Error declining invitation:",R),d("Failed to decline invitation")}finally{o(!1)}};return w.useEffect(()=>{v()},[n]),w.useEffect(()=>{if(m||c){const S=setTimeout(()=>{p(""),d("")},3e3);return()=>clearTimeout(S)}},[m,c]),t.length===0&&!a?null:h.jsx("div",{className:"mb-6",children:h.jsxs(pt,{children:[h.jsxs(Ct,{children:[h.jsxs(Rt,{className:"flex items-center",children:[h.jsx(XS,{className:"h-5 w-5 mr-2"}),"Pending Invitations (",t.length,")"]}),h.jsx(Xt,{children:"You have been invited to join the following ledgers."})]}),h.jsxs(gt,{children:[c&&h.jsx(Jt,{variant:"destructive",className:"mb-4",children:h.jsx(en,{children:c})}),m&&h.jsx(Jt,{className:"mb-4",children:h.jsx(en,{children:m})}),h.jsx("div",{className:"space-y-4",children:t.map(S=>h.jsx("div",{className:"border rounded-lg p-4",children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[h.jsx(lm,{className:"h-5 w-5 text-blue-600"}),h.jsx("h3",{className:"font-semibold text-lg",children:S.ledgerName}),h.jsx(Mr,{variant:"secondary",children:S.role})]}),h.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(n1,{className:"h-4 w-4"}),h.jsxs("span",{children:["Invited by: ",S.inviterName]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(uv,{className:"h-4 w-4"}),h.jsxs("span",{children:["Invited: ",new Date(S.createdAt.toDate()).toLocaleDateString()]})]}),S.expiresAt&&h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(uv,{className:"h-4 w-4"}),h.jsxs("span",{children:["Expires: ",new Date(S.expiresAt.toDate()).toLocaleDateString()]})]})]})]}),h.jsxs("div",{className:"flex space-x-2 ml-4",children:[h.jsxs(Oe,{size:"sm",onClick:()=>b(S),disabled:a,className:"bg-green-600 hover:bg-green-700",children:[h.jsx(d0,{className:"h-4 w-4 mr-1"}),"Accept"]}),h.jsxs(Oe,{size:"sm",variant:"destructive",onClick:()=>x(S.id),disabled:a,children:[h.jsx(hc,{className:"h-4 w-4 mr-1"}),"Decline"]})]})]})},S.id))})]})]})})}const Da=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9","#F8C471","#82E0AA","#F1948A","#85929E","#D7BDE2","#A9DFBF","#F9E79F","#AED6F1","#F5B7B1","#D5A6BD"],j8=n=>{if(typeof n!="string")return"?";const e=n.trim();if(e.length===0)return"?";const t=e.charAt(0);return/[\u4e00-\u9fff]/.test(t)?t:t.toUpperCase()},M8=(n,e=null)=>{if(e&&Da.includes(e))return e;if(!n)return Da[0];let t=0;for(let a=0;a<n.length;a++){const o=n.charCodeAt(a);t=(t<<5)-t+o,t=t&t}const s=Math.abs(t)%Da.length;return Da[s]},P8=n=>{const e=(n==null?void 0:n.displayName)||(n==null?void 0:n.email)||"Unknown",t=j8(e),s=M8(n==null?void 0:n.uid,n==null?void 0:n.profileColor);return{initial:t,backgroundColor:s,textColor:"#FFFFFF"}},L8=()=>{const n=Math.floor(Math.random()*Da.length);return Da[n]},V8=n=>Da.includes(n);function Ec({user:n,size:e="md",className:t="",showTooltip:s=!0}){const a=P8(n),o={xs:"w-6 h-6 text-xs",sm:"w-8 h-8 text-sm",md:"w-10 h-10 text-base",lg:"w-12 h-12 text-lg",xl:"w-16 h-16 text-xl","2xl":"w-20 h-20 text-2xl"},c=o[e]||o.md,d=(n==null?void 0:n.displayName)||(n==null?void 0:n.email)||"Unknown User";return h.jsx("div",{className:`
        ${c}
        rounded-full
        flex
        items-center
        justify-center
        font-semibold
        select-none
        flex-shrink-0
        ${t}
      `,style:{backgroundColor:a.backgroundColor,color:a.textColor},title:s?d:void 0,children:a.initial})}function jo({user:n,size:e="md",className:t="",nameClassName:s="",showEmail:a=!1}){var d;const o=(n==null?void 0:n.displayName)||((d=n==null?void 0:n.email)==null?void 0:d.split("@")[0])||"Unknown User",c=n==null?void 0:n.email;return h.jsxs("div",{className:`flex items-center space-x-2 ${t}`,children:[h.jsx(Ec,{user:n,size:e,showTooltip:!1}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:`font-medium ${s}`,children:o}),a&&c&&h.jsx("span",{className:"text-xs text-gray-500",children:c})]})]})}function U8({users:n=[],size:e="sm",maxDisplay:t=3,className:s=""}){const a=n.slice(0,t),o=n.length-t;return h.jsx("div",{className:`flex items-center ${s}`,children:h.jsxs("div",{className:"flex -space-x-1",children:[a.map((c,d)=>h.jsx("div",{className:"ring-2 ring-white",style:{zIndex:a.length-d},children:h.jsx(Ec,{user:c,size:e})},(c==null?void 0:c.uid)||d)),o>0&&h.jsxs("div",{className:`
              ${e==="xs"?"w-6 h-6 text-xs":e==="sm"?"w-8 h-8 text-xs":"w-10 h-10 text-sm"}
              rounded-full
              bg-gray-300
              text-gray-600
              flex
              items-center
              justify-center
              font-medium
              ring-2
              ring-white
            `,children:["+",o]})]})})}const B8={CNY:"¥",USD:"$",EUR:"€",GBP:"£",JPY:"¥"};function PC(n){return B8[n]||"$"}function rm(n,e="USD"){return`${PC(e)}${n.toFixed(2)}`}function z8(n,e="USD",t=!1){const s=PC(e);return`${t?"+":"-"}${s}${Math.abs(n).toFixed(2)}`}function F8(){var v;const{currentUser:n}=cr(),{currentLedger:e}=Js(),t=D8(e==null?void 0:e.id),[s,a]=w.useState({totalBalance:0,monthlySpending:0,budgetRemaining:0,recentTransactions:[],memberStats:{},loading:!0}),o=async()=>{if(!e){a(b=>({...b,loading:!1}));return}try{const b=new Date,x=new Date(b.getFullYear(),b.getMonth(),1),S=new Date(b.getFullYear(),b.getMonth()+1,0),R=Kt(Fe,"ledgers",e.id,"transactions"),C=Er(R,zi("date","desc"),CC(5)),N=await Wn(C),M=[];N.forEach(U=>{var G;const P=U.data();M.push({id:U.id,...P,date:((G=P.date)==null?void 0:G.toDate())||new Date})});const L=Er(R,zi("date","desc")),V=await Wn(L);let q=0,F=0;const Z={};e.members&&Object.keys(e.members).forEach(U=>{Z[U]={monthlyIncome:0,monthlySpending:0,totalIncome:0,totalSpending:0}}),V.forEach(U=>{var K;const P=U.data(),G=((K=P.date)==null?void 0:K.toDate())||new Date,te=P.amount||0,$=P.userId||P.paidBy||(n==null?void 0:n.uid),X=G>=x&&G<=S;$&&!Z[$]&&(Z[$]={monthlyIncome:0,monthlySpending:0,totalIncome:0,totalSpending:0}),P.type==="income"?(q+=te,$&&Z[$]&&(Z[$].totalIncome+=te,X&&(Z[$].monthlyIncome+=te))):(q-=te,$&&Z[$]&&(Z[$].totalSpending+=te,X&&(Z[$].monthlySpending+=te,F+=te)))});const k=Kt(Fe,"ledgers",e.id,"budgets"),A=Er(k,qs("startDate","<=",$t.fromDate(b)),qs("endDate",">=",$t.fromDate(b))),O=await Wn(A);let B=0;O.forEach(U=>{const P=U.data();B+=P.totalAmount||0});const D=B-F;a({totalBalance:q,monthlySpending:F,budgetRemaining:D,recentTransactions:M,memberStats:Z,loading:!1})}catch(b){console.error("Error calculating dashboard stats:",b),a(x=>({...x,loading:!1}))}};w.useEffect(()=>{o()},[e,t]);const c=b=>rm(b,e==null?void 0:e.currency),d=b=>{const S=Math.abs(new Date-b),R=Math.ceil(S/(1e3*60*60*24));return R===1?"Today":R===2?"Yesterday":R<=7?`${R-1} days ago`:b.toLocaleDateString()},m=b=>b===(n==null?void 0:n.uid)?{uid:b,displayName:n.displayName||n.email,email:n.email}:{uid:b,displayName:`User ${b.slice(0,8)}`,email:`${b.slice(0,8)}@example.com`},p=()=>!s.memberStats||!(e!=null&&e.members)?[]:Object.keys(e.members).map(b=>({...m(b),stats:s.memberStats[b]||{monthlyIncome:0,monthlySpending:0,totalIncome:0,totalSpending:0}}));return s.loading?h.jsx("div",{className:"p-6",children:h.jsxs("div",{className:"animate-pulse space-y-6",children:[h.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(b=>h.jsx("div",{className:"h-32 bg-gray-200 rounded"},b))}),h.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsx(O8,{}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),h.jsxs(Mr,{variant:"secondary",className:"text-sm",children:["Welcome back, ",(n==null?void 0:n.displayName)||((v=n==null?void 0:n.email)==null?void 0:v.split("@")[0])||"User","!"]})]}),e&&h.jsxs("div",{className:"text-sm text-gray-600",children:["Current Ledger: ",h.jsx("span",{className:"font-medium",children:e.name})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs(pt,{children:[h.jsxs(Ct,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[h.jsx(Rt,{className:"text-sm font-medium",children:"Total Balance"}),h.jsx(cc,{className:"h-4 w-4 text-muted-foreground"})]}),h.jsxs(gt,{children:[h.jsx("div",{className:`text-2xl font-bold ${s.totalBalance>=0?"text-green-600":"text-red-600"}`,children:c(s.totalBalance)}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"All time balance"})]})]}),h.jsxs(pt,{children:[h.jsxs(Ct,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[h.jsx(Rt,{className:"text-sm font-medium",children:"Monthly Spending"}),h.jsx(aO,{className:"h-4 w-4 text-muted-foreground"})]}),h.jsxs(gt,{children:[h.jsx("div",{className:"text-2xl font-bold text-red-600",children:c(s.monthlySpending)}),h.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"This month's expenses"}),p().length>1&&h.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[h.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Member Breakdown:"}),p().map(b=>h.jsxs("div",{className:"flex items-center justify-between text-xs",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Ec,{user:b,size:"xs"}),h.jsx("span",{className:"text-gray-600",children:b.displayName===(n==null?void 0:n.displayName)?"You":b.displayName})]}),h.jsxs("div",{className:"flex space-x-3 text-right",children:[h.jsxs("span",{className:"text-green-600",children:["+",c(b.stats.monthlyIncome)]}),h.jsxs("span",{className:"text-red-600",children:["-",c(b.stats.monthlySpending)]})]})]},b.uid))]})]})]}),h.jsxs(pt,{children:[h.jsxs(Ct,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[h.jsx(Rt,{className:"text-sm font-medium",children:"Budget Remaining"}),h.jsx(xD,{className:"h-4 w-4 text-muted-foreground"})]}),h.jsxs(gt,{children:[h.jsx("div",{className:`text-2xl font-bold ${s.budgetRemaining>=0?"text-green-600":"text-red-600"}`,children:c(s.budgetRemaining)}),h.jsx("p",{className:"text-xs text-muted-foreground",children:s.budgetRemaining>=0?"Remaining this month":"Over budget"})]})]})]}),h.jsxs(pt,{children:[h.jsxs(Ct,{children:[h.jsx(Rt,{children:"Recent Transactions"}),h.jsx(Xt,{children:"Your latest financial activity"})]}),h.jsx(gt,{children:s.recentTransactions.length===0?h.jsxs("div",{className:"text-center py-8 text-gray-500",children:[h.jsx(cc,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),h.jsx("p",{children:"No transactions yet"}),h.jsx("p",{className:"text-sm",children:"Add your first transaction to get started"})]}):h.jsx("div",{className:"space-y-4",children:s.recentTransactions.map(b=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[h.jsx(Ec,{user:{uid:b.userId||(n==null?void 0:n.uid),displayName:b.userName||(n==null?void 0:n.displayName),email:b.userEmail||(n==null?void 0:n.email)},size:"sm"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"font-medium text-gray-900",children:b.description}),h.jsxs("p",{className:"text-sm text-gray-500",children:[b.paymentMethod," • ",d(b.date)]})]})]}),h.jsxs("div",{className:`font-semibold ${b.type==="income"?"text-green-600":"text-red-600"}`,children:[b.type==="income"?"+":"-",c(b.amount)]})]},b.id))})})]})]})}function zT(n,[e,t]){return Math.min(t,Math.max(e,n))}function sn(n,e,{checkForDefaultPrevented:t=!0}={}){return function(a){if(n==null||n(a),t===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function zc(n,e=[]){let t=[];function s(o,c){const d=w.createContext(c),m=t.length;t=[...t,c];const p=b=>{var M;const{scope:x,children:S,...R}=b,C=((M=x==null?void 0:x[n])==null?void 0:M[m])||d,N=w.useMemo(()=>R,Object.values(R));return h.jsx(C.Provider,{value:N,children:S})};p.displayName=o+"Provider";function v(b,x){var C;const S=((C=x==null?void 0:x[n])==null?void 0:C[m])||d,R=w.useContext(S);if(R)return R;if(c!==void 0)return c;throw new Error(`\`${b}\` must be used within \`${o}\``)}return[p,v]}const a=()=>{const o=t.map(c=>w.createContext(c));return function(d){const m=(d==null?void 0:d[n])||o;return w.useMemo(()=>({[`__scope${n}`]:{...d,[n]:m}}),[d,m])}};return a.scopeName=n,[s,H8(a,...e)]}function H8(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const s=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const c=s.reduce((d,{useScope:m,scopeName:p})=>{const b=m(o)[`__scope${p}`];return{...d,...b}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}function q8(n){const e=n+"CollectionProvider",[t,s]=zc(e),[a,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),c=C=>{const{scope:N,children:M}=C,L=Sa.useRef(null),V=Sa.useRef(new Map).current;return h.jsx(a,{scope:N,itemMap:V,collectionRef:L,children:M})};c.displayName=e;const d=n+"CollectionSlot",m=hd(d),p=Sa.forwardRef((C,N)=>{const{scope:M,children:L}=C,V=o(d,M),q=on(N,V.collectionRef);return h.jsx(m,{ref:q,children:L})});p.displayName=d;const v=n+"CollectionItemSlot",b="data-radix-collection-item",x=hd(v),S=Sa.forwardRef((C,N)=>{const{scope:M,children:L,...V}=C,q=Sa.useRef(null),F=on(N,q),Z=o(v,M);return Sa.useEffect(()=>(Z.itemMap.set(q,{ref:q,...V}),()=>void Z.itemMap.delete(q))),h.jsx(x,{[b]:"",ref:F,children:L})});S.displayName=v;function R(C){const N=o(n+"CollectionConsumer",C);return Sa.useCallback(()=>{const L=N.collectionRef.current;if(!L)return[];const V=Array.from(L.querySelectorAll(`[${b}]`));return Array.from(N.itemMap.values()).sort((Z,k)=>V.indexOf(Z.ref.current)-V.indexOf(k.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:c,Slot:p,ItemSlot:S},R,s]}var $8=w.createContext(void 0);function G8(n){const e=w.useContext($8);return n||e||"ltr"}function $o(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n}),w.useMemo(()=>(...t)=>{var s;return(s=e.current)==null?void 0:s.call(e,...t)},[])}function Y8(n,e=globalThis==null?void 0:globalThis.document){const t=$o(n);w.useEffect(()=>{const s=a=>{a.key==="Escape"&&t(a)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[t,e])}var K8="DismissableLayer",Bv="dismissableLayer.update",Q8="dismissableLayer.pointerDownOutside",Z8="dismissableLayer.focusOutside",FT,LC=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),VC=w.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:c,onDismiss:d,...m}=n,p=w.useContext(LC),[v,b]=w.useState(null),x=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=w.useState({}),R=on(e,k=>b(k)),C=Array.from(p.layers),[N]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),M=C.indexOf(N),L=v?C.indexOf(v):-1,V=p.layersWithOutsidePointerEventsDisabled.size>0,q=L>=M,F=J8(k=>{const A=k.target,O=[...p.branches].some(B=>B.contains(A));!q||O||(a==null||a(k),c==null||c(k),k.defaultPrevented||d==null||d())},x),Z=eL(k=>{const A=k.target;[...p.branches].some(B=>B.contains(A))||(o==null||o(k),c==null||c(k),k.defaultPrevented||d==null||d())},x);return Y8(k=>{L===p.layers.size-1&&(s==null||s(k),!k.defaultPrevented&&d&&(k.preventDefault(),d()))},x),w.useEffect(()=>{if(v)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(FT=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),HT(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=FT)}},[v,x,t,p]),w.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),HT())},[v,p]),w.useEffect(()=>{const k=()=>S({});return document.addEventListener(Bv,k),()=>document.removeEventListener(Bv,k)},[]),h.jsx(Vt.div,{...m,ref:R,style:{pointerEvents:V?q?"auto":"none":void 0,...n.style},onFocusCapture:sn(n.onFocusCapture,Z.onFocusCapture),onBlurCapture:sn(n.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:sn(n.onPointerDownCapture,F.onPointerDownCapture)})});VC.displayName=K8;var W8="DismissableLayerBranch",X8=w.forwardRef((n,e)=>{const t=w.useContext(LC),s=w.useRef(null),a=on(e,s);return w.useEffect(()=>{const o=s.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),h.jsx(Vt.div,{...n,ref:a})});X8.displayName=W8;function J8(n,e=globalThis==null?void 0:globalThis.document){const t=$o(n),s=w.useRef(!1),a=w.useRef(()=>{});return w.useEffect(()=>{const o=d=>{if(d.target&&!s.current){let m=function(){UC(Q8,t,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=m,e.addEventListener("click",a.current,{once:!0})):m()}else e.removeEventListener("click",a.current);s.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",o),e.removeEventListener("click",a.current)}},[e,t]),{onPointerDownCapture:()=>s.current=!0}}function eL(n,e=globalThis==null?void 0:globalThis.document){const t=$o(n),s=w.useRef(!1);return w.useEffect(()=>{const a=o=>{o.target&&!s.current&&UC(Z8,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,t]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function HT(){const n=new CustomEvent(Bv);document.dispatchEvent(n)}function UC(n,e,t,{discrete:s}){const a=t.originalEvent.target,o=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&a.addEventListener(n,e,{once:!0}),s?A8(a,o):a.dispatchEvent(o)}var Gy=0;function tL(){w.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??qT()),document.body.insertAdjacentElement("beforeend",n[1]??qT()),Gy++,()=>{Gy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Gy--}},[])}function qT(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Yy="focusScope.autoFocusOnMount",Ky="focusScope.autoFocusOnUnmount",$T={bubbles:!1,cancelable:!0},nL="FocusScope",BC=w.forwardRef((n,e)=>{const{loop:t=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...c}=n,[d,m]=w.useState(null),p=$o(a),v=$o(o),b=w.useRef(null),x=on(e,C=>m(C)),S=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(s){let C=function(V){if(S.paused||!d)return;const q=V.target;d.contains(q)?b.current=q:Aa(b.current,{select:!0})},N=function(V){if(S.paused||!d)return;const q=V.relatedTarget;q!==null&&(d.contains(q)||Aa(b.current,{select:!0}))},M=function(V){if(document.activeElement===document.body)for(const F of V)F.removedNodes.length>0&&Aa(d)};document.addEventListener("focusin",C),document.addEventListener("focusout",N);const L=new MutationObserver(M);return d&&L.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",N),L.disconnect()}}},[s,d,S.paused]),w.useEffect(()=>{if(d){YT.add(S);const C=document.activeElement;if(!d.contains(C)){const M=new CustomEvent(Yy,$T);d.addEventListener(Yy,p),d.dispatchEvent(M),M.defaultPrevented||(rL(lL(zC(d)),{select:!0}),document.activeElement===C&&Aa(d))}return()=>{d.removeEventListener(Yy,p),setTimeout(()=>{const M=new CustomEvent(Ky,$T);d.addEventListener(Ky,v),d.dispatchEvent(M),M.defaultPrevented||Aa(C??document.body,{select:!0}),d.removeEventListener(Ky,v),YT.remove(S)},0)}}},[d,p,v,S]);const R=w.useCallback(C=>{if(!t&&!s||S.paused)return;const N=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,M=document.activeElement;if(N&&M){const L=C.currentTarget,[V,q]=sL(L);V&&q?!C.shiftKey&&M===q?(C.preventDefault(),t&&Aa(V,{select:!0})):C.shiftKey&&M===V&&(C.preventDefault(),t&&Aa(q,{select:!0})):M===L&&C.preventDefault()}},[t,s,S.paused]);return h.jsx(Vt.div,{tabIndex:-1,...c,ref:x,onKeyDown:R})});BC.displayName=nL;function rL(n,{select:e=!1}={}){const t=document.activeElement;for(const s of n)if(Aa(s,{select:e}),document.activeElement!==t)return}function sL(n){const e=zC(n),t=GT(e,n),s=GT(e.reverse(),n);return[t,s]}function zC(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function GT(n,e){for(const t of n)if(!iL(t,{upTo:e}))return t}function iL(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function aL(n){return n instanceof HTMLInputElement&&"select"in n}function Aa(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&aL(n)&&e&&n.select()}}var YT=oL();function oL(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=KT(n,e),n.unshift(e)},remove(e){var t;n=KT(n,e),(t=n[0])==null||t.resume()}}}function KT(n,e){const t=[...n],s=t.indexOf(e);return s!==-1&&t.splice(s,1),t}function lL(n){return n.filter(e=>e.tagName!=="A")}var or=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},cL=_S[" useId ".trim().toString()]||(()=>{}),uL=0;function d_(n){const[e,t]=w.useState(cL());return or(()=>{t(s=>s??String(uL++))},[n]),n||(e?`radix-${e}`:"")}const dL=["top","right","bottom","left"],$a=Math.min,Or=Math.max,km=Math.round,Vh=Math.floor,$s=n=>({x:n,y:n}),fL={left:"right",right:"left",bottom:"top",top:"bottom"},hL={start:"end",end:"start"};function zv(n,e,t){return Or(n,$a(e,t))}function Fi(n,e){return typeof n=="function"?n(e):n}function Hi(n){return n.split("-")[0]}function Fc(n){return n.split("-")[1]}function f_(n){return n==="x"?"y":"x"}function h_(n){return n==="y"?"height":"width"}function Mi(n){return["top","bottom"].includes(Hi(n))?"y":"x"}function m_(n){return f_(Mi(n))}function mL(n,e,t){t===void 0&&(t=!1);const s=Fc(n),a=m_(n),o=h_(a);let c=a==="x"?s===(t?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=Dm(c)),[c,Dm(c)]}function pL(n){const e=Dm(n);return[Fv(n),e,Fv(e)]}function Fv(n){return n.replace(/start|end/g,e=>hL[e])}function gL(n,e,t){const s=["left","right"],a=["right","left"],o=["top","bottom"],c=["bottom","top"];switch(n){case"top":case"bottom":return t?e?a:s:e?s:a;case"left":case"right":return e?o:c;default:return[]}}function yL(n,e,t,s){const a=Fc(n);let o=gL(Hi(n),t==="start",s);return a&&(o=o.map(c=>c+"-"+a),e&&(o=o.concat(o.map(Fv)))),o}function Dm(n){return n.replace(/left|right|bottom|top/g,e=>fL[e])}function vL(n){return{top:0,right:0,bottom:0,left:0,...n}}function FC(n){return typeof n!="number"?vL(n):{top:n,right:n,bottom:n,left:n}}function Om(n){const{x:e,y:t,width:s,height:a}=n;return{width:s,height:a,top:t,left:e,right:e+s,bottom:t+a,x:e,y:t}}function QT(n,e,t){let{reference:s,floating:a}=n;const o=Mi(e),c=m_(e),d=h_(c),m=Hi(e),p=o==="y",v=s.x+s.width/2-a.width/2,b=s.y+s.height/2-a.height/2,x=s[d]/2-a[d]/2;let S;switch(m){case"top":S={x:v,y:s.y-a.height};break;case"bottom":S={x:v,y:s.y+s.height};break;case"right":S={x:s.x+s.width,y:b};break;case"left":S={x:s.x-a.width,y:b};break;default:S={x:s.x,y:s.y}}switch(Fc(e)){case"start":S[c]-=x*(t&&p?-1:1);break;case"end":S[c]+=x*(t&&p?-1:1);break}return S}const _L=async(n,e,t)=>{const{placement:s="bottom",strategy:a="absolute",middleware:o=[],platform:c}=t,d=o.filter(Boolean),m=await(c.isRTL==null?void 0:c.isRTL(e));let p=await c.getElementRects({reference:n,floating:e,strategy:a}),{x:v,y:b}=QT(p,s,m),x=s,S={},R=0;for(let C=0;C<d.length;C++){const{name:N,fn:M}=d[C],{x:L,y:V,data:q,reset:F}=await M({x:v,y:b,initialPlacement:s,placement:x,strategy:a,middlewareData:S,rects:p,platform:c,elements:{reference:n,floating:e}});v=L??v,b=V??b,S={...S,[N]:{...S[N],...q}},F&&R<=50&&(R++,typeof F=="object"&&(F.placement&&(x=F.placement),F.rects&&(p=F.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:a}):F.rects),{x:v,y:b}=QT(p,x,m)),C=-1)}return{x:v,y:b,placement:x,strategy:a,middlewareData:S}};async function Ed(n,e){var t;e===void 0&&(e={});const{x:s,y:a,platform:o,rects:c,elements:d,strategy:m}=n,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:b="floating",altBoundary:x=!1,padding:S=0}=Fi(e,n),R=FC(S),N=d[x?b==="floating"?"reference":"floating":b],M=Om(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(N)))==null||t?N:N.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:p,rootBoundary:v,strategy:m})),L=b==="floating"?{x:s,y:a,width:c.floating.width,height:c.floating.height}:c.reference,V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating)),q=await(o.isElement==null?void 0:o.isElement(V))?await(o.getScale==null?void 0:o.getScale(V))||{x:1,y:1}:{x:1,y:1},F=Om(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:L,offsetParent:V,strategy:m}):L);return{top:(M.top-F.top+R.top)/q.y,bottom:(F.bottom-M.bottom+R.bottom)/q.y,left:(M.left-F.left+R.left)/q.x,right:(F.right-M.right+R.right)/q.x}}const bL=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:s,placement:a,rects:o,platform:c,elements:d,middlewareData:m}=e,{element:p,padding:v=0}=Fi(n,e)||{};if(p==null)return{};const b=FC(v),x={x:t,y:s},S=m_(a),R=h_(S),C=await c.getDimensions(p),N=S==="y",M=N?"top":"left",L=N?"bottom":"right",V=N?"clientHeight":"clientWidth",q=o.reference[R]+o.reference[S]-x[S]-o.floating[R],F=x[S]-o.reference[S],Z=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let k=Z?Z[V]:0;(!k||!await(c.isElement==null?void 0:c.isElement(Z)))&&(k=d.floating[V]||o.floating[R]);const A=q/2-F/2,O=k/2-C[R]/2-1,B=$a(b[M],O),D=$a(b[L],O),U=B,P=k-C[R]-D,G=k/2-C[R]/2+A,te=zv(U,G,P),$=!m.arrow&&Fc(a)!=null&&G!==te&&o.reference[R]/2-(G<U?B:D)-C[R]/2<0,X=$?G<U?G-U:G-P:0;return{[S]:x[S]+X,data:{[S]:te,centerOffset:G-te-X,...$&&{alignmentOffset:X}},reset:$}}}),xL=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,s;const{placement:a,middlewareData:o,rects:c,initialPlacement:d,platform:m,elements:p}=e,{mainAxis:v=!0,crossAxis:b=!0,fallbackPlacements:x,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:C=!0,...N}=Fi(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const M=Hi(a),L=Mi(d),V=Hi(d)===d,q=await(m.isRTL==null?void 0:m.isRTL(p.floating)),F=x||(V||!C?[Dm(d)]:pL(d)),Z=R!=="none";!x&&Z&&F.push(...yL(d,C,R,q));const k=[d,...F],A=await Ed(e,N),O=[];let B=((s=o.flip)==null?void 0:s.overflows)||[];if(v&&O.push(A[M]),b){const te=mL(a,c,q);O.push(A[te[0]],A[te[1]])}if(B=[...B,{placement:a,overflows:O}],!O.every(te=>te<=0)){var D,U;const te=(((D=o.flip)==null?void 0:D.index)||0)+1,$=k[te];if($){var P;const K=b==="alignment"?L!==Mi($):!1,pe=((P=B[0])==null?void 0:P.overflows[0])>0;if(!K||pe)return{data:{index:te,overflows:B},reset:{placement:$}}}let X=(U=B.filter(K=>K.overflows[0]<=0).sort((K,pe)=>K.overflows[1]-pe.overflows[1])[0])==null?void 0:U.placement;if(!X)switch(S){case"bestFit":{var G;const K=(G=B.filter(pe=>{if(Z){const z=Mi(pe.placement);return z===L||z==="y"}return!0}).map(pe=>[pe.placement,pe.overflows.filter(z=>z>0).reduce((z,ie)=>z+ie,0)]).sort((pe,z)=>pe[1]-z[1])[0])==null?void 0:G[0];K&&(X=K);break}case"initialPlacement":X=d;break}if(a!==X)return{reset:{placement:X}}}return{}}}};function ZT(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function WT(n){return dL.some(e=>n[e]>=0)}const wL=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:s="referenceHidden",...a}=Fi(n,e);switch(s){case"referenceHidden":{const o=await Ed(e,{...a,elementContext:"reference"}),c=ZT(o,t.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:WT(c)}}}case"escaped":{const o=await Ed(e,{...a,altBoundary:!0}),c=ZT(o,t.floating);return{data:{escapedOffsets:c,escaped:WT(c)}}}default:return{}}}}};async function EL(n,e){const{placement:t,platform:s,elements:a}=n,o=await(s.isRTL==null?void 0:s.isRTL(a.floating)),c=Hi(t),d=Fc(t),m=Mi(t)==="y",p=["left","top"].includes(c)?-1:1,v=o&&m?-1:1,b=Fi(e,n);let{mainAxis:x,crossAxis:S,alignmentAxis:R}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return d&&typeof R=="number"&&(S=d==="end"?R*-1:R),m?{x:S*v,y:x*p}:{x:x*p,y:S*v}}const TL=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,s;const{x:a,y:o,placement:c,middlewareData:d}=e,m=await EL(e,n);return c===((t=d.offset)==null?void 0:t.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:a+m.x,y:o+m.y,data:{...m,placement:c}}}}},SL=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:s,placement:a}=e,{mainAxis:o=!0,crossAxis:c=!1,limiter:d={fn:N=>{let{x:M,y:L}=N;return{x:M,y:L}}},...m}=Fi(n,e),p={x:t,y:s},v=await Ed(e,m),b=Mi(Hi(a)),x=f_(b);let S=p[x],R=p[b];if(o){const N=x==="y"?"top":"left",M=x==="y"?"bottom":"right",L=S+v[N],V=S-v[M];S=zv(L,S,V)}if(c){const N=b==="y"?"top":"left",M=b==="y"?"bottom":"right",L=R+v[N],V=R-v[M];R=zv(L,R,V)}const C=d.fn({...e,[x]:S,[b]:R});return{...C,data:{x:C.x-t,y:C.y-s,enabled:{[x]:o,[b]:c}}}}}},AL=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:s,placement:a,rects:o,middlewareData:c}=e,{offset:d=0,mainAxis:m=!0,crossAxis:p=!0}=Fi(n,e),v={x:t,y:s},b=Mi(a),x=f_(b);let S=v[x],R=v[b];const C=Fi(d,e),N=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(m){const V=x==="y"?"height":"width",q=o.reference[x]-o.floating[V]+N.mainAxis,F=o.reference[x]+o.reference[V]-N.mainAxis;S<q?S=q:S>F&&(S=F)}if(p){var M,L;const V=x==="y"?"width":"height",q=["top","left"].includes(Hi(a)),F=o.reference[b]-o.floating[V]+(q&&((M=c.offset)==null?void 0:M[b])||0)+(q?0:N.crossAxis),Z=o.reference[b]+o.reference[V]+(q?0:((L=c.offset)==null?void 0:L[b])||0)-(q?N.crossAxis:0);R<F?R=F:R>Z&&(R=Z)}return{[x]:S,[b]:R}}}},CL=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,s;const{placement:a,rects:o,platform:c,elements:d}=e,{apply:m=()=>{},...p}=Fi(n,e),v=await Ed(e,p),b=Hi(a),x=Fc(a),S=Mi(a)==="y",{width:R,height:C}=o.floating;let N,M;b==="top"||b==="bottom"?(N=b,M=x===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(M=b,N=x==="end"?"top":"bottom");const L=C-v.top-v.bottom,V=R-v.left-v.right,q=$a(C-v[N],L),F=$a(R-v[M],V),Z=!e.middlewareData.shift;let k=q,A=F;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(A=V),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(k=L),Z&&!x){const B=Or(v.left,0),D=Or(v.right,0),U=Or(v.top,0),P=Or(v.bottom,0);S?A=R-2*(B!==0||D!==0?B+D:Or(v.left,v.right)):k=C-2*(U!==0||P!==0?U+P:Or(v.top,v.bottom))}await m({...e,availableWidth:A,availableHeight:k});const O=await c.getDimensions(d.floating);return R!==O.width||C!==O.height?{reset:{rects:!0}}:{}}}};function yp(){return typeof window<"u"}function Hc(n){return HC(n)?(n.nodeName||"").toLowerCase():"#document"}function Pr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function ei(n){var e;return(e=(HC(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function HC(n){return yp()?n instanceof Node||n instanceof Pr(n).Node:!1}function ms(n){return yp()?n instanceof Element||n instanceof Pr(n).Element:!1}function Qs(n){return yp()?n instanceof HTMLElement||n instanceof Pr(n).HTMLElement:!1}function XT(n){return!yp()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Pr(n).ShadowRoot}function sf(n){const{overflow:e,overflowX:t,overflowY:s,display:a}=ps(n);return/auto|scroll|overlay|hidden|clip/.test(e+s+t)&&!["inline","contents"].includes(a)}function RL(n){return["table","td","th"].includes(Hc(n))}function vp(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function p_(n){const e=g_(),t=ms(n)?ps(n):n;return["transform","translate","scale","rotate","perspective"].some(s=>t[s]?t[s]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(t.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(t.contain||"").includes(s))}function NL(n){let e=Ga(n);for(;Qs(e)&&!Tc(e);){if(p_(e))return e;if(vp(e))return null;e=Ga(e)}return null}function g_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Tc(n){return["html","body","#document"].includes(Hc(n))}function ps(n){return Pr(n).getComputedStyle(n)}function _p(n){return ms(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Ga(n){if(Hc(n)==="html")return n;const e=n.assignedSlot||n.parentNode||XT(n)&&n.host||ei(n);return XT(e)?e.host:e}function qC(n){const e=Ga(n);return Tc(e)?n.ownerDocument?n.ownerDocument.body:n.body:Qs(e)&&sf(e)?e:qC(e)}function Td(n,e,t){var s;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=qC(n),o=a===((s=n.ownerDocument)==null?void 0:s.body),c=Pr(a);if(o){const d=Hv(c);return e.concat(c,c.visualViewport||[],sf(a)?a:[],d&&t?Td(d):[])}return e.concat(a,Td(a,[],t))}function Hv(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function $C(n){const e=ps(n);let t=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const a=Qs(n),o=a?n.offsetWidth:t,c=a?n.offsetHeight:s,d=km(t)!==o||km(s)!==c;return d&&(t=o,s=c),{width:t,height:s,$:d}}function y_(n){return ms(n)?n:n.contextElement}function ic(n){const e=y_(n);if(!Qs(e))return $s(1);const t=e.getBoundingClientRect(),{width:s,height:a,$:o}=$C(e);let c=(o?km(t.width):t.width)/s,d=(o?km(t.height):t.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const IL=$s(0);function GC(n){const e=Pr(n);return!g_()||!e.visualViewport?IL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function kL(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Pr(n)?!1:e}function Go(n,e,t,s){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),o=y_(n);let c=$s(1);e&&(s?ms(s)&&(c=ic(s)):c=ic(n));const d=kL(o,t,s)?GC(o):$s(0);let m=(a.left+d.x)/c.x,p=(a.top+d.y)/c.y,v=a.width/c.x,b=a.height/c.y;if(o){const x=Pr(o),S=s&&ms(s)?Pr(s):s;let R=x,C=Hv(R);for(;C&&s&&S!==R;){const N=ic(C),M=C.getBoundingClientRect(),L=ps(C),V=M.left+(C.clientLeft+parseFloat(L.paddingLeft))*N.x,q=M.top+(C.clientTop+parseFloat(L.paddingTop))*N.y;m*=N.x,p*=N.y,v*=N.x,b*=N.y,m+=V,p+=q,R=Pr(C),C=Hv(R)}}return Om({width:v,height:b,x:m,y:p})}function v_(n,e){const t=_p(n).scrollLeft;return e?e.left+t:Go(ei(n)).left+t}function YC(n,e,t){t===void 0&&(t=!1);const s=n.getBoundingClientRect(),a=s.left+e.scrollLeft-(t?0:v_(n,s)),o=s.top+e.scrollTop;return{x:a,y:o}}function DL(n){let{elements:e,rect:t,offsetParent:s,strategy:a}=n;const o=a==="fixed",c=ei(s),d=e?vp(e.floating):!1;if(s===c||d&&o)return t;let m={scrollLeft:0,scrollTop:0},p=$s(1);const v=$s(0),b=Qs(s);if((b||!b&&!o)&&((Hc(s)!=="body"||sf(c))&&(m=_p(s)),Qs(s))){const S=Go(s);p=ic(s),v.x=S.x+s.clientLeft,v.y=S.y+s.clientTop}const x=c&&!b&&!o?YC(c,m,!0):$s(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-m.scrollLeft*p.x+v.x+x.x,y:t.y*p.y-m.scrollTop*p.y+v.y+x.y}}function OL(n){return Array.from(n.getClientRects())}function jL(n){const e=ei(n),t=_p(n),s=n.ownerDocument.body,a=Or(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),o=Or(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let c=-t.scrollLeft+v_(n);const d=-t.scrollTop;return ps(s).direction==="rtl"&&(c+=Or(e.clientWidth,s.clientWidth)-a),{width:a,height:o,x:c,y:d}}function ML(n,e){const t=Pr(n),s=ei(n),a=t.visualViewport;let o=s.clientWidth,c=s.clientHeight,d=0,m=0;if(a){o=a.width,c=a.height;const p=g_();(!p||p&&e==="fixed")&&(d=a.offsetLeft,m=a.offsetTop)}return{width:o,height:c,x:d,y:m}}function PL(n,e){const t=Go(n,!0,e==="fixed"),s=t.top+n.clientTop,a=t.left+n.clientLeft,o=Qs(n)?ic(n):$s(1),c=n.clientWidth*o.x,d=n.clientHeight*o.y,m=a*o.x,p=s*o.y;return{width:c,height:d,x:m,y:p}}function JT(n,e,t){let s;if(e==="viewport")s=ML(n,t);else if(e==="document")s=jL(ei(n));else if(ms(e))s=PL(e,t);else{const a=GC(n);s={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Om(s)}function KC(n,e){const t=Ga(n);return t===e||!ms(t)||Tc(t)?!1:ps(t).position==="fixed"||KC(t,e)}function LL(n,e){const t=e.get(n);if(t)return t;let s=Td(n,[],!1).filter(d=>ms(d)&&Hc(d)!=="body"),a=null;const o=ps(n).position==="fixed";let c=o?Ga(n):n;for(;ms(c)&&!Tc(c);){const d=ps(c),m=p_(c);!m&&d.position==="fixed"&&(a=null),(o?!m&&!a:!m&&d.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||sf(c)&&!m&&KC(n,c))?s=s.filter(v=>v!==c):a=d,c=Ga(c)}return e.set(n,s),s}function VL(n){let{element:e,boundary:t,rootBoundary:s,strategy:a}=n;const c=[...t==="clippingAncestors"?vp(e)?[]:LL(e,this._c):[].concat(t),s],d=c[0],m=c.reduce((p,v)=>{const b=JT(e,v,a);return p.top=Or(b.top,p.top),p.right=$a(b.right,p.right),p.bottom=$a(b.bottom,p.bottom),p.left=Or(b.left,p.left),p},JT(e,d,a));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function UL(n){const{width:e,height:t}=$C(n);return{width:e,height:t}}function BL(n,e,t){const s=Qs(e),a=ei(e),o=t==="fixed",c=Go(n,!0,o,e);let d={scrollLeft:0,scrollTop:0};const m=$s(0);function p(){m.x=v_(a)}if(s||!s&&!o)if((Hc(e)!=="body"||sf(a))&&(d=_p(e)),s){const S=Go(e,!0,o,e);m.x=S.x+e.clientLeft,m.y=S.y+e.clientTop}else a&&p();o&&!s&&a&&p();const v=a&&!s&&!o?YC(a,d):$s(0),b=c.left+d.scrollLeft-m.x-v.x,x=c.top+d.scrollTop-m.y-v.y;return{x:b,y:x,width:c.width,height:c.height}}function Qy(n){return ps(n).position==="static"}function eS(n,e){if(!Qs(n)||ps(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return ei(n)===t&&(t=t.ownerDocument.body),t}function QC(n,e){const t=Pr(n);if(vp(n))return t;if(!Qs(n)){let a=Ga(n);for(;a&&!Tc(a);){if(ms(a)&&!Qy(a))return a;a=Ga(a)}return t}let s=eS(n,e);for(;s&&RL(s)&&Qy(s);)s=eS(s,e);return s&&Tc(s)&&Qy(s)&&!p_(s)?t:s||NL(n)||t}const zL=async function(n){const e=this.getOffsetParent||QC,t=this.getDimensions,s=await t(n.floating);return{reference:BL(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function FL(n){return ps(n).direction==="rtl"}const HL={convertOffsetParentRelativeRectToViewportRelativeRect:DL,getDocumentElement:ei,getClippingRect:VL,getOffsetParent:QC,getElementRects:zL,getClientRects:OL,getDimensions:UL,getScale:ic,isElement:ms,isRTL:FL};function ZC(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function qL(n,e){let t=null,s;const a=ei(n);function o(){var d;clearTimeout(s),(d=t)==null||d.disconnect(),t=null}function c(d,m){d===void 0&&(d=!1),m===void 0&&(m=1),o();const p=n.getBoundingClientRect(),{left:v,top:b,width:x,height:S}=p;if(d||e(),!x||!S)return;const R=Vh(b),C=Vh(a.clientWidth-(v+x)),N=Vh(a.clientHeight-(b+S)),M=Vh(v),V={rootMargin:-R+"px "+-C+"px "+-N+"px "+-M+"px",threshold:Or(0,$a(1,m))||1};let q=!0;function F(Z){const k=Z[0].intersectionRatio;if(k!==m){if(!q)return c();k?c(!1,k):s=setTimeout(()=>{c(!1,1e-7)},1e3)}k===1&&!ZC(p,n.getBoundingClientRect())&&c(),q=!1}try{t=new IntersectionObserver(F,{...V,root:a.ownerDocument})}catch{t=new IntersectionObserver(F,V)}t.observe(n)}return c(!0),o}function $L(n,e,t,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:m=!1}=s,p=y_(n),v=a||o?[...p?Td(p):[],...Td(e)]:[];v.forEach(M=>{a&&M.addEventListener("scroll",t,{passive:!0}),o&&M.addEventListener("resize",t)});const b=p&&d?qL(p,t):null;let x=-1,S=null;c&&(S=new ResizeObserver(M=>{let[L]=M;L&&L.target===p&&S&&(S.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var V;(V=S)==null||V.observe(e)})),t()}),p&&!m&&S.observe(p),S.observe(e));let R,C=m?Go(n):null;m&&N();function N(){const M=Go(n);C&&!ZC(C,M)&&t(),C=M,R=requestAnimationFrame(N)}return t(),()=>{var M;v.forEach(L=>{a&&L.removeEventListener("scroll",t),o&&L.removeEventListener("resize",t)}),b==null||b(),(M=S)==null||M.disconnect(),S=null,m&&cancelAnimationFrame(R)}}const GL=TL,YL=SL,KL=xL,QL=CL,ZL=wL,tS=bL,WL=AL,XL=(n,e,t)=>{const s=new Map,a={platform:HL,...t},o={...a.platform,_c:s};return _L(n,e,{...a,platform:o})};var sm=typeof document<"u"?w.useLayoutEffect:w.useEffect;function jm(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,s,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(s=t;s--!==0;)if(!jm(n[s],e[s]))return!1;return!0}if(a=Object.keys(n),t=a.length,t!==Object.keys(e).length)return!1;for(s=t;s--!==0;)if(!{}.hasOwnProperty.call(e,a[s]))return!1;for(s=t;s--!==0;){const o=a[s];if(!(o==="_owner"&&n.$$typeof)&&!jm(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function WC(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function nS(n,e){const t=WC(n);return Math.round(e*t)/t}function Zy(n){const e=w.useRef(n);return sm(()=>{e.current=n}),e}function JL(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:s=[],platform:a,elements:{reference:o,floating:c}={},transform:d=!0,whileElementsMounted:m,open:p}=n,[v,b]=w.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[x,S]=w.useState(s);jm(x,s)||S(s);const[R,C]=w.useState(null),[N,M]=w.useState(null),L=w.useCallback(K=>{K!==Z.current&&(Z.current=K,C(K))},[]),V=w.useCallback(K=>{K!==k.current&&(k.current=K,M(K))},[]),q=o||R,F=c||N,Z=w.useRef(null),k=w.useRef(null),A=w.useRef(v),O=m!=null,B=Zy(m),D=Zy(a),U=Zy(p),P=w.useCallback(()=>{if(!Z.current||!k.current)return;const K={placement:e,strategy:t,middleware:x};D.current&&(K.platform=D.current),XL(Z.current,k.current,K).then(pe=>{const z={...pe,isPositioned:U.current!==!1};G.current&&!jm(A.current,z)&&(A.current=z,Bd.flushSync(()=>{b(z)}))})},[x,e,t,D,U]);sm(()=>{p===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,b(K=>({...K,isPositioned:!1})))},[p]);const G=w.useRef(!1);sm(()=>(G.current=!0,()=>{G.current=!1}),[]),sm(()=>{if(q&&(Z.current=q),F&&(k.current=F),q&&F){if(B.current)return B.current(q,F,P);P()}},[q,F,P,B,O]);const te=w.useMemo(()=>({reference:Z,floating:k,setReference:L,setFloating:V}),[L,V]),$=w.useMemo(()=>({reference:q,floating:F}),[q,F]),X=w.useMemo(()=>{const K={position:t,left:0,top:0};if(!$.floating)return K;const pe=nS($.floating,v.x),z=nS($.floating,v.y);return d?{...K,transform:"translate("+pe+"px, "+z+"px)",...WC($.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:pe,top:z}},[t,d,$.floating,v.x,v.y]);return w.useMemo(()=>({...v,update:P,refs:te,elements:$,floatingStyles:X}),[v,P,te,$,X])}const eV=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:s,padding:a}=typeof n=="function"?n(t):n;return s&&e(s)?s.current!=null?tS({element:s.current,padding:a}).fn(t):{}:s?tS({element:s,padding:a}).fn(t):{}}}},tV=(n,e)=>({...GL(n),options:[n,e]}),nV=(n,e)=>({...YL(n),options:[n,e]}),rV=(n,e)=>({...WL(n),options:[n,e]}),sV=(n,e)=>({...KL(n),options:[n,e]}),iV=(n,e)=>({...QL(n),options:[n,e]}),aV=(n,e)=>({...ZL(n),options:[n,e]}),oV=(n,e)=>({...eV(n),options:[n,e]});var lV="Arrow",XC=w.forwardRef((n,e)=>{const{children:t,width:s=10,height:a=5,...o}=n;return h.jsx(Vt.svg,{...o,ref:e,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});XC.displayName=lV;var cV=XC;function __(n){const[e,t]=w.useState(void 0);return or(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let c,d;if("borderBoxSize"in o){const m=o.borderBoxSize,p=Array.isArray(m)?m[0]:m;c=p.inlineSize,d=p.blockSize}else c=n.offsetWidth,d=n.offsetHeight;t({width:c,height:d})});return s.observe(n,{box:"border-box"}),()=>s.unobserve(n)}else t(void 0)},[n]),e}var b_="Popper",[JC,e2]=zc(b_),[uV,t2]=JC(b_),n2=n=>{const{__scopePopper:e,children:t}=n,[s,a]=w.useState(null);return h.jsx(uV,{scope:e,anchor:s,onAnchorChange:a,children:t})};n2.displayName=b_;var r2="PopperAnchor",s2=w.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:s,...a}=n,o=t2(r2,t),c=w.useRef(null),d=on(e,c);return w.useEffect(()=>{o.onAnchorChange((s==null?void 0:s.current)||c.current)}),s?null:h.jsx(Vt.div,{...a,ref:d})});s2.displayName=r2;var x_="PopperContent",[dV,fV]=JC(x_),i2=w.forwardRef((n,e)=>{var ge,Me,ht,Qe,Ze,Je;const{__scopePopper:t,side:s="bottom",sideOffset:a=0,align:o="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:m=!0,collisionBoundary:p=[],collisionPadding:v=0,sticky:b="partial",hideWhenDetached:x=!1,updatePositionStrategy:S="optimized",onPlaced:R,...C}=n,N=t2(x_,t),[M,L]=w.useState(null),V=on(e,se=>L(se)),[q,F]=w.useState(null),Z=__(q),k=(Z==null?void 0:Z.width)??0,A=(Z==null?void 0:Z.height)??0,O=s+(o!=="center"?"-"+o:""),B=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},D=Array.isArray(p)?p:[p],U=D.length>0,P={padding:B,boundary:D.filter(mV),altBoundary:U},{refs:G,floatingStyles:te,placement:$,isPositioned:X,middlewareData:K}=JL({strategy:"fixed",placement:O,whileElementsMounted:(...se)=>$L(...se,{animationFrame:S==="always"}),elements:{reference:N.anchor},middleware:[tV({mainAxis:a+A,alignmentAxis:c}),m&&nV({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?rV():void 0,...P}),m&&sV({...P}),iV({...P,apply:({elements:se,rects:Ne,availableWidth:Re,availableHeight:Le})=>{const{width:We,height:An}=Ne.reference,At=se.floating.style;At.setProperty("--radix-popper-available-width",`${Re}px`),At.setProperty("--radix-popper-available-height",`${Le}px`),At.setProperty("--radix-popper-anchor-width",`${We}px`),At.setProperty("--radix-popper-anchor-height",`${An}px`)}}),q&&oV({element:q,padding:d}),pV({arrowWidth:k,arrowHeight:A}),x&&aV({strategy:"referenceHidden",...P})]}),[pe,z]=l2($),ie=$o(R);or(()=>{X&&(ie==null||ie())},[X,ie]);const he=(ge=K.arrow)==null?void 0:ge.x,oe=(Me=K.arrow)==null?void 0:Me.y,_e=((ht=K.arrow)==null?void 0:ht.centerOffset)!==0,[Ue,Ce]=w.useState();return or(()=>{M&&Ce(window.getComputedStyle(M).zIndex)},[M]),h.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:X?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ue,"--radix-popper-transform-origin":[(Qe=K.transformOrigin)==null?void 0:Qe.x,(Ze=K.transformOrigin)==null?void 0:Ze.y].join(" "),...((Je=K.hide)==null?void 0:Je.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:h.jsx(dV,{scope:t,placedSide:pe,onArrowChange:F,arrowX:he,arrowY:oe,shouldHideArrow:_e,children:h.jsx(Vt.div,{"data-side":pe,"data-align":z,...C,ref:V,style:{...C.style,animation:X?void 0:"none"}})})})});i2.displayName=x_;var a2="PopperArrow",hV={top:"bottom",right:"left",bottom:"top",left:"right"},o2=w.forwardRef(function(e,t){const{__scopePopper:s,...a}=e,o=fV(a2,s),c=hV[o.placedSide];return h.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:h.jsx(cV,{...a,ref:t,style:{...a.style,display:"block"}})})});o2.displayName=a2;function mV(n){return n!==null}var pV=n=>({name:"transformOrigin",options:n,fn(e){var N,M,L;const{placement:t,rects:s,middlewareData:a}=e,c=((N=a.arrow)==null?void 0:N.centerOffset)!==0,d=c?0:n.arrowWidth,m=c?0:n.arrowHeight,[p,v]=l2(t),b={start:"0%",center:"50%",end:"100%"}[v],x=(((M=a.arrow)==null?void 0:M.x)??0)+d/2,S=(((L=a.arrow)==null?void 0:L.y)??0)+m/2;let R="",C="";return p==="bottom"?(R=c?b:`${x}px`,C=`${-m}px`):p==="top"?(R=c?b:`${x}px`,C=`${s.floating.height+m}px`):p==="right"?(R=`${-m}px`,C=c?b:`${S}px`):p==="left"&&(R=`${s.floating.width+m}px`,C=c?b:`${S}px`),{data:{x:R,y:C}}}});function l2(n){const[e,t="center"]=n.split("-");return[e,t]}var gV=n2,yV=s2,vV=i2,_V=o2,bV="Portal",c2=w.forwardRef((n,e)=>{var d;const{container:t,...s}=n,[a,o]=w.useState(!1);or(()=>o(!0),[]);const c=t||a&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return c?Tk.createPortal(h.jsx(Vt.div,{...s,ref:e}),c):null});c2.displayName=bV;var xV=_S[" useInsertionEffect ".trim().toString()]||or;function Mm({prop:n,defaultProp:e,onChange:t=()=>{},caller:s}){const[a,o,c]=wV({defaultProp:e,onChange:t}),d=n!==void 0,m=d?n:a;{const v=w.useRef(n!==void 0);w.useEffect(()=>{const b=v.current;b!==d&&console.warn(`${s} is changing from ${b?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=d},[d,s])}const p=w.useCallback(v=>{var b;if(d){const x=EV(v)?v(n):v;x!==n&&((b=c.current)==null||b.call(c,x))}else o(v)},[d,n,o,c]);return[m,p]}function wV({defaultProp:n,onChange:e}){const[t,s]=w.useState(n),a=w.useRef(t),o=w.useRef(e);return xV(()=>{o.current=e},[e]),w.useEffect(()=>{var c;a.current!==t&&((c=o.current)==null||c.call(o,t),a.current=t)},[t,a]),[t,s,o]}function EV(n){return typeof n=="function"}function w_(n){const e=w.useRef({value:n,previous:n});return w.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var u2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),TV="VisuallyHidden",SV=w.forwardRef((n,e)=>h.jsx(Vt.span,{...n,ref:e,style:{...u2,...n.style}}));SV.displayName=TV;var AV=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},ql=new WeakMap,Uh=new WeakMap,Bh={},Wy=0,d2=function(n){return n&&(n.host||d2(n.parentNode))},CV=function(n,e){return e.map(function(t){if(n.contains(t))return t;var s=d2(t);return s&&n.contains(s)?s:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},RV=function(n,e,t,s){var a=CV(e,Array.isArray(n)?n:[n]);Bh[t]||(Bh[t]=new WeakMap);var o=Bh[t],c=[],d=new Set,m=new Set(a),p=function(b){!b||d.has(b)||(d.add(b),p(b.parentNode))};a.forEach(p);var v=function(b){!b||m.has(b)||Array.prototype.forEach.call(b.children,function(x){if(d.has(x))v(x);else try{var S=x.getAttribute(s),R=S!==null&&S!=="false",C=(ql.get(x)||0)+1,N=(o.get(x)||0)+1;ql.set(x,C),o.set(x,N),c.push(x),C===1&&R&&Uh.set(x,!0),N===1&&x.setAttribute(t,"true"),R||x.setAttribute(s,"true")}catch(M){console.error("aria-hidden: cannot operate on ",x,M)}})};return v(e),d.clear(),Wy++,function(){c.forEach(function(b){var x=ql.get(b)-1,S=o.get(b)-1;ql.set(b,x),o.set(b,S),x||(Uh.has(b)||b.removeAttribute(s),Uh.delete(b)),S||b.removeAttribute(t)}),Wy--,Wy||(ql=new WeakMap,ql=new WeakMap,Uh=new WeakMap,Bh={})}},NV=function(n,e,t){t===void 0&&(t="data-aria-hidden");var s=Array.from(Array.isArray(n)?n:[n]),a=AV(n);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),RV(s,a,t,"aria-hidden")):function(){return null}},im="right-scroll-bar-position",am="width-before-scroll-bar",IV="with-scroll-bars-hidden",kV="--removed-body-scroll-bar-size";function Xy(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function DV(n,e){var t=w.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(s){var a=t.value;a!==s&&(t.value=s,t.callback(s,a))}}}})[0];return t.callback=e,t.facade}var OV=typeof window<"u"?w.useLayoutEffect:w.useEffect,rS=new WeakMap;function jV(n,e){var t=DV(null,function(s){return n.forEach(function(a){return Xy(a,s)})});return OV(function(){var s=rS.get(t);if(s){var a=new Set(s),o=new Set(n),c=t.current;a.forEach(function(d){o.has(d)||Xy(d,null)}),o.forEach(function(d){a.has(d)||Xy(d,c)})}rS.set(t,n)},[n]),t}function MV(n){return n}function PV(n,e){e===void 0&&(e=MV);var t=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(o){var c=e(o,s);return t.push(c),function(){t=t.filter(function(d){return d!==c})}},assignSyncMedium:function(o){for(s=!0;t.length;){var c=t;t=[],c.forEach(o)}t={push:function(d){return o(d)},filter:function(){return t}}},assignMedium:function(o){s=!0;var c=[];if(t.length){var d=t;t=[],d.forEach(o),c=t}var m=function(){var v=c;c=[],v.forEach(o)},p=function(){return Promise.resolve().then(m)};p(),t={push:function(v){c.push(v),p()},filter:function(v){return c=c.filter(v),t}}}};return a}function LV(n){n===void 0&&(n={});var e=PV(null);return e.options=Ms({async:!0,ssr:!1},n),e}var f2=function(n){var e=n.sideCar,t=Hd(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return w.createElement(s,Ms({},t))};f2.isSideCarExport=!0;function VV(n,e){return n.useMedium(e),f2}var h2=LV(),Jy=function(){},bp=w.forwardRef(function(n,e){var t=w.useRef(null),s=w.useState({onScrollCapture:Jy,onWheelCapture:Jy,onTouchMoveCapture:Jy}),a=s[0],o=s[1],c=n.forwardProps,d=n.children,m=n.className,p=n.removeScrollBar,v=n.enabled,b=n.shards,x=n.sideCar,S=n.noIsolation,R=n.inert,C=n.allowPinchZoom,N=n.as,M=N===void 0?"div":N,L=n.gapMode,V=Hd(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),q=x,F=jV([t,e]),Z=Ms(Ms({},V),a);return w.createElement(w.Fragment,null,v&&w.createElement(q,{sideCar:h2,removeScrollBar:p,shards:b,noIsolation:S,inert:R,setCallbacks:o,allowPinchZoom:!!C,lockRef:t,gapMode:L}),c?w.cloneElement(w.Children.only(d),Ms(Ms({},Z),{ref:F})):w.createElement(M,Ms({},Z,{className:m,ref:F}),d))});bp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bp.classNames={fullWidth:am,zeroRight:im};var UV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function BV(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=UV();return e&&n.setAttribute("nonce",e),n}function zV(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function FV(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var HV=function(){var n=0,e=null;return{add:function(t){n==0&&(e=BV())&&(zV(e,t),FV(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},qV=function(){var n=HV();return function(e,t){w.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},m2=function(){var n=qV(),e=function(t){var s=t.styles,a=t.dynamic;return n(s,a),null};return e},$V={left:0,top:0,right:0,gap:0},ev=function(n){return parseInt(n||"",10)||0},GV=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],s=e[n==="padding"?"paddingTop":"marginTop"],a=e[n==="padding"?"paddingRight":"marginRight"];return[ev(t),ev(s),ev(a)]},YV=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return $V;var e=GV(n),t=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-t+e[2]-e[0])}},KV=m2(),ac="data-scroll-locked",QV=function(n,e,t,s){var a=n.left,o=n.top,c=n.right,d=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(IV,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(ac,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),t==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),t==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(im,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(am,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(im," .").concat(im,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(am," .").concat(am,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(ac,`] {
    `).concat(kV,": ").concat(d,`px;
  }
`)},sS=function(){var n=parseInt(document.body.getAttribute(ac)||"0",10);return isFinite(n)?n:0},ZV=function(){w.useEffect(function(){return document.body.setAttribute(ac,(sS()+1).toString()),function(){var n=sS()-1;n<=0?document.body.removeAttribute(ac):document.body.setAttribute(ac,n.toString())}},[])},WV=function(n){var e=n.noRelative,t=n.noImportant,s=n.gapMode,a=s===void 0?"margin":s;ZV();var o=w.useMemo(function(){return YV(a)},[a]);return w.createElement(KV,{styles:QV(o,!e,a,t?"":"!important")})},qv=!1;if(typeof window<"u")try{var zh=Object.defineProperty({},"passive",{get:function(){return qv=!0,!0}});window.addEventListener("test",zh,zh),window.removeEventListener("test",zh,zh)}catch{qv=!1}var $l=qv?{passive:!1}:!1,XV=function(n){return n.tagName==="TEXTAREA"},p2=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!XV(n)&&t[e]==="visible")},JV=function(n){return p2(n,"overflowY")},e9=function(n){return p2(n,"overflowX")},iS=function(n,e){var t=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=g2(n,s);if(a){var o=y2(n,s),c=o[1],d=o[2];if(c>d)return!0}s=s.parentNode}while(s&&s!==t.body);return!1},t9=function(n){var e=n.scrollTop,t=n.scrollHeight,s=n.clientHeight;return[e,t,s]},n9=function(n){var e=n.scrollLeft,t=n.scrollWidth,s=n.clientWidth;return[e,t,s]},g2=function(n,e){return n==="v"?JV(e):e9(e)},y2=function(n,e){return n==="v"?t9(e):n9(e)},r9=function(n,e){return n==="h"&&e==="rtl"?-1:1},s9=function(n,e,t,s,a){var o=r9(n,window.getComputedStyle(e).direction),c=o*s,d=t.target,m=e.contains(d),p=!1,v=c>0,b=0,x=0;do{var S=y2(n,d),R=S[0],C=S[1],N=S[2],M=C-N-o*R;(R||M)&&g2(n,d)&&(b+=M,x+=R),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!m&&d!==document.body||m&&(e.contains(d)||e===d));return(v&&Math.abs(b)<1||!v&&Math.abs(x)<1)&&(p=!0),p},Fh=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},aS=function(n){return[n.deltaX,n.deltaY]},oS=function(n){return n&&"current"in n?n.current:n},i9=function(n,e){return n[0]===e[0]&&n[1]===e[1]},a9=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},o9=0,Gl=[];function l9(n){var e=w.useRef([]),t=w.useRef([0,0]),s=w.useRef(),a=w.useState(o9++)[0],o=w.useState(m2)[0],c=w.useRef(n);w.useEffect(function(){c.current=n},[n]),w.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(a));var C=Q3([n.lockRef.current],(n.shards||[]).map(oS),!0).filter(Boolean);return C.forEach(function(N){return N.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),C.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(a))})}}},[n.inert,n.lockRef.current,n.shards]);var d=w.useCallback(function(C,N){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!c.current.allowPinchZoom;var M=Fh(C),L=t.current,V="deltaX"in C?C.deltaX:L[0]-M[0],q="deltaY"in C?C.deltaY:L[1]-M[1],F,Z=C.target,k=Math.abs(V)>Math.abs(q)?"h":"v";if("touches"in C&&k==="h"&&Z.type==="range")return!1;var A=iS(k,Z);if(!A)return!0;if(A?F=k:(F=k==="v"?"h":"v",A=iS(k,Z)),!A)return!1;if(!s.current&&"changedTouches"in C&&(V||q)&&(s.current=F),!F)return!0;var O=s.current||F;return s9(O,N,C,O==="h"?V:q)},[]),m=w.useCallback(function(C){var N=C;if(!(!Gl.length||Gl[Gl.length-1]!==o)){var M="deltaY"in N?aS(N):Fh(N),L=e.current.filter(function(F){return F.name===N.type&&(F.target===N.target||N.target===F.shadowParent)&&i9(F.delta,M)})[0];if(L&&L.should){N.cancelable&&N.preventDefault();return}if(!L){var V=(c.current.shards||[]).map(oS).filter(Boolean).filter(function(F){return F.contains(N.target)}),q=V.length>0?d(N,V[0]):!c.current.noIsolation;q&&N.cancelable&&N.preventDefault()}}},[]),p=w.useCallback(function(C,N,M,L){var V={name:C,delta:N,target:M,should:L,shadowParent:c9(M)};e.current.push(V),setTimeout(function(){e.current=e.current.filter(function(q){return q!==V})},1)},[]),v=w.useCallback(function(C){t.current=Fh(C),s.current=void 0},[]),b=w.useCallback(function(C){p(C.type,aS(C),C.target,d(C,n.lockRef.current))},[]),x=w.useCallback(function(C){p(C.type,Fh(C),C.target,d(C,n.lockRef.current))},[]);w.useEffect(function(){return Gl.push(o),n.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:x}),document.addEventListener("wheel",m,$l),document.addEventListener("touchmove",m,$l),document.addEventListener("touchstart",v,$l),function(){Gl=Gl.filter(function(C){return C!==o}),document.removeEventListener("wheel",m,$l),document.removeEventListener("touchmove",m,$l),document.removeEventListener("touchstart",v,$l)}},[]);var S=n.removeScrollBar,R=n.inert;return w.createElement(w.Fragment,null,R?w.createElement(o,{styles:a9(a)}):null,S?w.createElement(WV,{gapMode:n.gapMode}):null)}function c9(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const u9=VV(h2,l9);var v2=w.forwardRef(function(n,e){return w.createElement(bp,Ms({},n,{ref:e,sideCar:u9}))});v2.classNames=bp.classNames;var d9=[" ","Enter","ArrowUp","ArrowDown"],f9=[" ","Enter"],Yo="Select",[xp,wp,h9]=q8(Yo),[qc,Z5]=zc(Yo,[h9,e2]),Ep=e2(),[m9,eo]=qc(Yo),[p9,g9]=qc(Yo),_2=n=>{const{__scopeSelect:e,children:t,open:s,defaultOpen:a,onOpenChange:o,value:c,defaultValue:d,onValueChange:m,dir:p,name:v,autoComplete:b,disabled:x,required:S,form:R}=n,C=Ep(e),[N,M]=w.useState(null),[L,V]=w.useState(null),[q,F]=w.useState(!1),Z=G8(p),[k,A]=Mm({prop:s,defaultProp:a??!1,onChange:o,caller:Yo}),[O,B]=Mm({prop:c,defaultProp:d,onChange:m,caller:Yo}),D=w.useRef(null),U=N?R||!!N.closest("form"):!0,[P,G]=w.useState(new Set),te=Array.from(P).map($=>$.props.value).join(";");return h.jsx(gV,{...C,children:h.jsxs(m9,{required:S,scope:e,trigger:N,onTriggerChange:M,valueNode:L,onValueNodeChange:V,valueNodeHasChildren:q,onValueNodeHasChildrenChange:F,contentId:d_(),value:O,onValueChange:B,open:k,onOpenChange:A,dir:Z,triggerPointerDownPosRef:D,disabled:x,children:[h.jsx(xp.Provider,{scope:e,children:h.jsx(p9,{scope:n.__scopeSelect,onNativeOptionAdd:w.useCallback($=>{G(X=>new Set(X).add($))},[]),onNativeOptionRemove:w.useCallback($=>{G(X=>{const K=new Set(X);return K.delete($),K})},[]),children:t})}),U?h.jsxs(z2,{"aria-hidden":!0,required:S,tabIndex:-1,name:v,autoComplete:b,value:O,onChange:$=>B($.target.value),disabled:x,form:R,children:[O===void 0?h.jsx("option",{value:""}):null,Array.from(P)]},te):null]})})};_2.displayName=Yo;var b2="SelectTrigger",x2=w.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:s=!1,...a}=n,o=Ep(t),c=eo(b2,t),d=c.disabled||s,m=on(e,c.onTriggerChange),p=wp(t),v=w.useRef("touch"),[b,x,S]=H2(C=>{const N=p().filter(V=>!V.disabled),M=N.find(V=>V.value===c.value),L=q2(N,C,M);L!==void 0&&c.onValueChange(L.value)}),R=C=>{d||(c.onOpenChange(!0),S()),C&&(c.triggerPointerDownPosRef.current={x:Math.round(C.pageX),y:Math.round(C.pageY)})};return h.jsx(yV,{asChild:!0,...o,children:h.jsx(Vt.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":F2(c.value)?"":void 0,...a,ref:m,onClick:sn(a.onClick,C=>{C.currentTarget.focus(),v.current!=="mouse"&&R(C)}),onPointerDown:sn(a.onPointerDown,C=>{v.current=C.pointerType;const N=C.target;N.hasPointerCapture(C.pointerId)&&N.releasePointerCapture(C.pointerId),C.button===0&&C.ctrlKey===!1&&C.pointerType==="mouse"&&(R(C),C.preventDefault())}),onKeyDown:sn(a.onKeyDown,C=>{const N=b.current!=="";!(C.ctrlKey||C.altKey||C.metaKey)&&C.key.length===1&&x(C.key),!(N&&C.key===" ")&&d9.includes(C.key)&&(R(),C.preventDefault())})})})});x2.displayName=b2;var w2="SelectValue",E2=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:s,style:a,children:o,placeholder:c="",...d}=n,m=eo(w2,t),{onValueNodeHasChildrenChange:p}=m,v=o!==void 0,b=on(e,m.onValueNodeChange);return or(()=>{p(v)},[p,v]),h.jsx(Vt.span,{...d,ref:b,style:{pointerEvents:"none"},children:F2(m.value)?h.jsx(h.Fragment,{children:c}):o})});E2.displayName=w2;var y9="SelectIcon",T2=w.forwardRef((n,e)=>{const{__scopeSelect:t,children:s,...a}=n;return h.jsx(Vt.span,{"aria-hidden":!0,...a,ref:e,children:s||"▼"})});T2.displayName=y9;var v9="SelectPortal",S2=n=>h.jsx(c2,{asChild:!0,...n});S2.displayName=v9;var Ko="SelectContent",A2=w.forwardRef((n,e)=>{const t=eo(Ko,n.__scopeSelect),[s,a]=w.useState();if(or(()=>{a(new DocumentFragment)},[]),!t.open){const o=s;return o?Bd.createPortal(h.jsx(C2,{scope:n.__scopeSelect,children:h.jsx(xp.Slot,{scope:n.__scopeSelect,children:h.jsx("div",{children:n.children})})}),o):null}return h.jsx(R2,{...n,ref:e})});A2.displayName=Ko;var is=10,[C2,to]=qc(Ko),_9="SelectContentImpl",b9=hd("SelectContent.RemoveScroll"),R2=w.forwardRef((n,e)=>{const{__scopeSelect:t,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:c,side:d,sideOffset:m,align:p,alignOffset:v,arrowPadding:b,collisionBoundary:x,collisionPadding:S,sticky:R,hideWhenDetached:C,avoidCollisions:N,...M}=n,L=eo(Ko,t),[V,q]=w.useState(null),[F,Z]=w.useState(null),k=on(e,ge=>q(ge)),[A,O]=w.useState(null),[B,D]=w.useState(null),U=wp(t),[P,G]=w.useState(!1),te=w.useRef(!1);w.useEffect(()=>{if(V)return NV(V)},[V]),tL();const $=w.useCallback(ge=>{const[Me,...ht]=U().map(Je=>Je.ref.current),[Qe]=ht.slice(-1),Ze=document.activeElement;for(const Je of ge)if(Je===Ze||(Je==null||Je.scrollIntoView({block:"nearest"}),Je===Me&&F&&(F.scrollTop=0),Je===Qe&&F&&(F.scrollTop=F.scrollHeight),Je==null||Je.focus(),document.activeElement!==Ze))return},[U,F]),X=w.useCallback(()=>$([A,V]),[$,A,V]);w.useEffect(()=>{P&&X()},[P,X]);const{onOpenChange:K,triggerPointerDownPosRef:pe}=L;w.useEffect(()=>{if(V){let ge={x:0,y:0};const Me=Qe=>{var Ze,Je;ge={x:Math.abs(Math.round(Qe.pageX)-(((Ze=pe.current)==null?void 0:Ze.x)??0)),y:Math.abs(Math.round(Qe.pageY)-(((Je=pe.current)==null?void 0:Je.y)??0))}},ht=Qe=>{ge.x<=10&&ge.y<=10?Qe.preventDefault():V.contains(Qe.target)||K(!1),document.removeEventListener("pointermove",Me),pe.current=null};return pe.current!==null&&(document.addEventListener("pointermove",Me),document.addEventListener("pointerup",ht,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Me),document.removeEventListener("pointerup",ht,{capture:!0})}}},[V,K,pe]),w.useEffect(()=>{const ge=()=>K(!1);return window.addEventListener("blur",ge),window.addEventListener("resize",ge),()=>{window.removeEventListener("blur",ge),window.removeEventListener("resize",ge)}},[K]);const[z,ie]=H2(ge=>{const Me=U().filter(Ze=>!Ze.disabled),ht=Me.find(Ze=>Ze.ref.current===document.activeElement),Qe=q2(Me,ge,ht);Qe&&setTimeout(()=>Qe.ref.current.focus())}),he=w.useCallback((ge,Me,ht)=>{const Qe=!te.current&&!ht;(L.value!==void 0&&L.value===Me||Qe)&&(O(ge),Qe&&(te.current=!0))},[L.value]),oe=w.useCallback(()=>V==null?void 0:V.focus(),[V]),_e=w.useCallback((ge,Me,ht)=>{const Qe=!te.current&&!ht;(L.value!==void 0&&L.value===Me||Qe)&&D(ge)},[L.value]),Ue=s==="popper"?$v:N2,Ce=Ue===$v?{side:d,sideOffset:m,align:p,alignOffset:v,arrowPadding:b,collisionBoundary:x,collisionPadding:S,sticky:R,hideWhenDetached:C,avoidCollisions:N}:{};return h.jsx(C2,{scope:t,content:V,viewport:F,onViewportChange:Z,itemRefCallback:he,selectedItem:A,onItemLeave:oe,itemTextRefCallback:_e,focusSelectedItem:X,selectedItemText:B,position:s,isPositioned:P,searchRef:z,children:h.jsx(v2,{as:b9,allowPinchZoom:!0,children:h.jsx(BC,{asChild:!0,trapped:L.open,onMountAutoFocus:ge=>{ge.preventDefault()},onUnmountAutoFocus:sn(a,ge=>{var Me;(Me=L.trigger)==null||Me.focus({preventScroll:!0}),ge.preventDefault()}),children:h.jsx(VC,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:ge=>ge.preventDefault(),onDismiss:()=>L.onOpenChange(!1),children:h.jsx(Ue,{role:"listbox",id:L.contentId,"data-state":L.open?"open":"closed",dir:L.dir,onContextMenu:ge=>ge.preventDefault(),...M,...Ce,onPlaced:()=>G(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...M.style},onKeyDown:sn(M.onKeyDown,ge=>{const Me=ge.ctrlKey||ge.altKey||ge.metaKey;if(ge.key==="Tab"&&ge.preventDefault(),!Me&&ge.key.length===1&&ie(ge.key),["ArrowUp","ArrowDown","Home","End"].includes(ge.key)){let Qe=U().filter(Ze=>!Ze.disabled).map(Ze=>Ze.ref.current);if(["ArrowUp","End"].includes(ge.key)&&(Qe=Qe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ge.key)){const Ze=ge.target,Je=Qe.indexOf(Ze);Qe=Qe.slice(Je+1)}setTimeout(()=>$(Qe)),ge.preventDefault()}})})})})})})});R2.displayName=_9;var x9="SelectItemAlignedPosition",N2=w.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:s,...a}=n,o=eo(Ko,t),c=to(Ko,t),[d,m]=w.useState(null),[p,v]=w.useState(null),b=on(e,k=>v(k)),x=wp(t),S=w.useRef(!1),R=w.useRef(!0),{viewport:C,selectedItem:N,selectedItemText:M,focusSelectedItem:L}=c,V=w.useCallback(()=>{if(o.trigger&&o.valueNode&&d&&p&&C&&N&&M){const k=o.trigger.getBoundingClientRect(),A=p.getBoundingClientRect(),O=o.valueNode.getBoundingClientRect(),B=M.getBoundingClientRect();if(o.dir!=="rtl"){const Ze=B.left-A.left,Je=O.left-Ze,se=k.left-Je,Ne=k.width+se,Re=Math.max(Ne,A.width),Le=window.innerWidth-is,We=zT(Je,[is,Math.max(is,Le-Re)]);d.style.minWidth=Ne+"px",d.style.left=We+"px"}else{const Ze=A.right-B.right,Je=window.innerWidth-O.right-Ze,se=window.innerWidth-k.right-Je,Ne=k.width+se,Re=Math.max(Ne,A.width),Le=window.innerWidth-is,We=zT(Je,[is,Math.max(is,Le-Re)]);d.style.minWidth=Ne+"px",d.style.right=We+"px"}const D=x(),U=window.innerHeight-is*2,P=C.scrollHeight,G=window.getComputedStyle(p),te=parseInt(G.borderTopWidth,10),$=parseInt(G.paddingTop,10),X=parseInt(G.borderBottomWidth,10),K=parseInt(G.paddingBottom,10),pe=te+$+P+K+X,z=Math.min(N.offsetHeight*5,pe),ie=window.getComputedStyle(C),he=parseInt(ie.paddingTop,10),oe=parseInt(ie.paddingBottom,10),_e=k.top+k.height/2-is,Ue=U-_e,Ce=N.offsetHeight/2,ge=N.offsetTop+Ce,Me=te+$+ge,ht=pe-Me;if(Me<=_e){const Ze=D.length>0&&N===D[D.length-1].ref.current;d.style.bottom="0px";const Je=p.clientHeight-C.offsetTop-C.offsetHeight,se=Math.max(Ue,Ce+(Ze?oe:0)+Je+X),Ne=Me+se;d.style.height=Ne+"px"}else{const Ze=D.length>0&&N===D[0].ref.current;d.style.top="0px";const se=Math.max(_e,te+C.offsetTop+(Ze?he:0)+Ce)+ht;d.style.height=se+"px",C.scrollTop=Me-_e+C.offsetTop}d.style.margin=`${is}px 0`,d.style.minHeight=z+"px",d.style.maxHeight=U+"px",s==null||s(),requestAnimationFrame(()=>S.current=!0)}},[x,o.trigger,o.valueNode,d,p,C,N,M,o.dir,s]);or(()=>V(),[V]);const[q,F]=w.useState();or(()=>{p&&F(window.getComputedStyle(p).zIndex)},[p]);const Z=w.useCallback(k=>{k&&R.current===!0&&(V(),L==null||L(),R.current=!1)},[V,L]);return h.jsx(E9,{scope:t,contentWrapper:d,shouldExpandOnScrollRef:S,onScrollButtonChange:Z,children:h.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:q},children:h.jsx(Vt.div,{...a,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});N2.displayName=x9;var w9="SelectPopperPosition",$v=w.forwardRef((n,e)=>{const{__scopeSelect:t,align:s="start",collisionPadding:a=is,...o}=n,c=Ep(t);return h.jsx(vV,{...c,...o,ref:e,align:s,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$v.displayName=w9;var[E9,E_]=qc(Ko,{}),Gv="SelectViewport",I2=w.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:s,...a}=n,o=to(Gv,t),c=E_(Gv,t),d=on(e,o.onViewportChange),m=w.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),h.jsx(xp.Slot,{scope:t,children:h.jsx(Vt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:sn(a.onScroll,p=>{const v=p.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:x}=c;if(x!=null&&x.current&&b){const S=Math.abs(m.current-v.scrollTop);if(S>0){const R=window.innerHeight-is*2,C=parseFloat(b.style.minHeight),N=parseFloat(b.style.height),M=Math.max(C,N);if(M<R){const L=M+S,V=Math.min(R,L),q=L-V;b.style.height=V+"px",b.style.bottom==="0px"&&(v.scrollTop=q>0?q:0,b.style.justifyContent="flex-end")}}}m.current=v.scrollTop})})})]})});I2.displayName=Gv;var k2="SelectGroup",[T9,S9]=qc(k2),A9=w.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,a=d_();return h.jsx(T9,{scope:t,id:a,children:h.jsx(Vt.div,{role:"group","aria-labelledby":a,...s,ref:e})})});A9.displayName=k2;var D2="SelectLabel",C9=w.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,a=S9(D2,t);return h.jsx(Vt.div,{id:a.id,...s,ref:e})});C9.displayName=D2;var Pm="SelectItem",[R9,O2]=qc(Pm),j2=w.forwardRef((n,e)=>{const{__scopeSelect:t,value:s,disabled:a=!1,textValue:o,...c}=n,d=eo(Pm,t),m=to(Pm,t),p=d.value===s,[v,b]=w.useState(o??""),[x,S]=w.useState(!1),R=on(e,L=>{var V;return(V=m.itemRefCallback)==null?void 0:V.call(m,L,s,a)}),C=d_(),N=w.useRef("touch"),M=()=>{a||(d.onValueChange(s),d.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(R9,{scope:t,value:s,disabled:a,textId:C,isSelected:p,onItemTextChange:w.useCallback(L=>{b(V=>V||((L==null?void 0:L.textContent)??"").trim())},[]),children:h.jsx(xp.ItemSlot,{scope:t,value:s,disabled:a,textValue:v,children:h.jsx(Vt.div,{role:"option","aria-labelledby":C,"data-highlighted":x?"":void 0,"aria-selected":p&&x,"data-state":p?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...c,ref:R,onFocus:sn(c.onFocus,()=>S(!0)),onBlur:sn(c.onBlur,()=>S(!1)),onClick:sn(c.onClick,()=>{N.current!=="mouse"&&M()}),onPointerUp:sn(c.onPointerUp,()=>{N.current==="mouse"&&M()}),onPointerDown:sn(c.onPointerDown,L=>{N.current=L.pointerType}),onPointerMove:sn(c.onPointerMove,L=>{var V;N.current=L.pointerType,a?(V=m.onItemLeave)==null||V.call(m):N.current==="mouse"&&L.currentTarget.focus({preventScroll:!0})}),onPointerLeave:sn(c.onPointerLeave,L=>{var V;L.currentTarget===document.activeElement&&((V=m.onItemLeave)==null||V.call(m))}),onKeyDown:sn(c.onKeyDown,L=>{var q;((q=m.searchRef)==null?void 0:q.current)!==""&&L.key===" "||(f9.includes(L.key)&&M(),L.key===" "&&L.preventDefault())})})})})});j2.displayName=Pm;var rd="SelectItemText",M2=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:s,style:a,...o}=n,c=eo(rd,t),d=to(rd,t),m=O2(rd,t),p=g9(rd,t),[v,b]=w.useState(null),x=on(e,M=>b(M),m.onItemTextChange,M=>{var L;return(L=d.itemTextRefCallback)==null?void 0:L.call(d,M,m.value,m.disabled)}),S=v==null?void 0:v.textContent,R=w.useMemo(()=>h.jsx("option",{value:m.value,disabled:m.disabled,children:S},m.value),[m.disabled,m.value,S]),{onNativeOptionAdd:C,onNativeOptionRemove:N}=p;return or(()=>(C(R),()=>N(R)),[C,N,R]),h.jsxs(h.Fragment,{children:[h.jsx(Vt.span,{id:m.textId,...o,ref:x}),m.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Bd.createPortal(o.children,c.valueNode):null]})});M2.displayName=rd;var P2="SelectItemIndicator",L2=w.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n;return O2(P2,t).isSelected?h.jsx(Vt.span,{"aria-hidden":!0,...s,ref:e}):null});L2.displayName=P2;var Yv="SelectScrollUpButton",V2=w.forwardRef((n,e)=>{const t=to(Yv,n.__scopeSelect),s=E_(Yv,n.__scopeSelect),[a,o]=w.useState(!1),c=on(e,s.onScrollButtonChange);return or(()=>{if(t.viewport&&t.isPositioned){let d=function(){const p=m.scrollTop>0;o(p)};const m=t.viewport;return d(),m.addEventListener("scroll",d),()=>m.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),a?h.jsx(B2,{...n,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:m}=t;d&&m&&(d.scrollTop=d.scrollTop-m.offsetHeight)}}):null});V2.displayName=Yv;var Kv="SelectScrollDownButton",U2=w.forwardRef((n,e)=>{const t=to(Kv,n.__scopeSelect),s=E_(Kv,n.__scopeSelect),[a,o]=w.useState(!1),c=on(e,s.onScrollButtonChange);return or(()=>{if(t.viewport&&t.isPositioned){let d=function(){const p=m.scrollHeight-m.clientHeight,v=Math.ceil(m.scrollTop)<p;o(v)};const m=t.viewport;return d(),m.addEventListener("scroll",d),()=>m.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),a?h.jsx(B2,{...n,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:m}=t;d&&m&&(d.scrollTop=d.scrollTop+m.offsetHeight)}}):null});U2.displayName=Kv;var B2=w.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:s,...a}=n,o=to("SelectScrollButton",t),c=w.useRef(null),d=wp(t),m=w.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return w.useEffect(()=>()=>m(),[m]),or(()=>{var v;const p=d().find(b=>b.ref.current===document.activeElement);(v=p==null?void 0:p.ref.current)==null||v.scrollIntoView({block:"nearest"})},[d]),h.jsx(Vt.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:sn(a.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(s,50))}),onPointerMove:sn(a.onPointerMove,()=>{var p;(p=o.onItemLeave)==null||p.call(o),c.current===null&&(c.current=window.setInterval(s,50))}),onPointerLeave:sn(a.onPointerLeave,()=>{m()})})}),N9="SelectSeparator",I9=w.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n;return h.jsx(Vt.div,{"aria-hidden":!0,...s,ref:e})});I9.displayName=N9;var Qv="SelectArrow",k9=w.forwardRef((n,e)=>{const{__scopeSelect:t,...s}=n,a=Ep(t),o=eo(Qv,t),c=to(Qv,t);return o.open&&c.position==="popper"?h.jsx(_V,{...a,...s,ref:e}):null});k9.displayName=Qv;var D9="SelectBubbleInput",z2=w.forwardRef(({__scopeSelect:n,value:e,...t},s)=>{const a=w.useRef(null),o=on(s,a),c=w_(e);return w.useEffect(()=>{const d=a.current;if(!d)return;const m=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(m,"value").set;if(c!==e&&v){const b=new Event("change",{bubbles:!0});v.call(d,e),d.dispatchEvent(b)}},[c,e]),h.jsx(Vt.select,{...t,style:{...u2,...t.style},ref:o,defaultValue:e})});z2.displayName=D9;function F2(n){return n===""||n===void 0}function H2(n){const e=$o(n),t=w.useRef(""),s=w.useRef(0),a=w.useCallback(c=>{const d=t.current+c;e(d),function m(p){t.current=p,window.clearTimeout(s.current),p!==""&&(s.current=window.setTimeout(()=>m(""),1e3))}(d)},[e]),o=w.useCallback(()=>{t.current="",window.clearTimeout(s.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(s.current),[]),[t,a,o]}function q2(n,e,t){const a=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let c=O9(n,Math.max(o,0));a.length===1&&(c=c.filter(p=>p!==t));const m=c.find(p=>p.textValue.toLowerCase().startsWith(a.toLowerCase()));return m!==t?m:void 0}function O9(n,e){return n.map((t,s)=>n[(e+s)%n.length])}var j9=_2,M9=x2,P9=E2,L9=T2,V9=S2,U9=A2,B9=I2,z9=j2,F9=M2,H9=L2,q9=V2,$9=U2;function Ps({...n}){return h.jsx(j9,{"data-slot":"select",...n})}function Ls({...n}){return h.jsx(P9,{"data-slot":"select-value",...n})}function Vs({className:n,size:e="default",children:t,...s}){return h.jsxs(M9,{"data-slot":"select-trigger","data-size":e,className:dn("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...s,children:[t,h.jsx(L9,{asChild:!0,children:h.jsx(ZS,{className:"size-4 opacity-50"})})]})}function Us({className:n,children:e,position:t="popper",...s}){return h.jsx(V9,{children:h.jsxs(U9,{"data-slot":"select-content",className:dn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...s,children:[h.jsx(G9,{}),h.jsx(B9,{className:dn("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),h.jsx(Y9,{})]})})}function On({className:n,children:e,...t}){return h.jsxs(z9,{"data-slot":"select-item",className:dn("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[h.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:h.jsx(H9,{children:h.jsx(d0,{className:"size-4"})})}),h.jsx(F9,{children:e})]})}function G9({className:n,...e}){return h.jsx(q9,{"data-slot":"select-scroll-up-button",className:dn("flex cursor-default items-center justify-center py-1",n),...e,children:h.jsx(CD,{className:"size-4"})})}function Y9({className:n,...e}){return h.jsx($9,{"data-slot":"select-scroll-down-button",className:dn("flex cursor-default items-center justify-center py-1",n),...e,children:h.jsx(ZS,{className:"size-4"})})}function $2({className:n,...e}){return h.jsx("textarea",{"data-slot":"textarea",className:dn("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}function K9(n,e){return w.useReducer((t,s)=>e[t][s]??t,n)}var G2=n=>{const{present:e,children:t}=n,s=Q9(e),a=typeof t=="function"?t({present:s.isPresent}):w.Children.only(t),o=on(s.ref,Z9(a));return typeof t=="function"||s.isPresent?w.cloneElement(a,{ref:o}):null};G2.displayName="Presence";function Q9(n){const[e,t]=w.useState(),s=w.useRef(null),a=w.useRef(n),o=w.useRef("none"),c=n?"mounted":"unmounted",[d,m]=K9(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const p=Hh(s.current);o.current=d==="mounted"?p:"none"},[d]),or(()=>{const p=s.current,v=a.current;if(v!==n){const x=o.current,S=Hh(p);n?m("MOUNT"):S==="none"||(p==null?void 0:p.display)==="none"?m("UNMOUNT"):m(v&&x!==S?"ANIMATION_OUT":"UNMOUNT"),a.current=n}},[n,m]),or(()=>{if(e){let p;const v=e.ownerDocument.defaultView??window,b=S=>{const C=Hh(s.current).includes(S.animationName);if(S.target===e&&C&&(m("ANIMATION_END"),!a.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",p=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},x=S=>{S.target===e&&(o.current=Hh(s.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",b),e.addEventListener("animationend",b),()=>{v.clearTimeout(p),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",b),e.removeEventListener("animationend",b)}}else m("ANIMATION_END")},[e,m]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:w.useCallback(p=>{s.current=p?getComputedStyle(p):null,t(p)},[])}}function Hh(n){return(n==null?void 0:n.animationName)||"none"}function Z9(n){var s,a;let e=(s=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Tp="Checkbox",[W9,W5]=zc(Tp),[X9,T_]=W9(Tp);function J9(n){const{__scopeCheckbox:e,checked:t,children:s,defaultChecked:a,disabled:o,form:c,name:d,onCheckedChange:m,required:p,value:v="on",internal_do_not_use_render:b}=n,[x,S]=Mm({prop:t,defaultProp:a??!1,onChange:m,caller:Tp}),[R,C]=w.useState(null),[N,M]=w.useState(null),L=w.useRef(!1),V=R?!!c||!!R.closest("form"):!0,q={checked:x,disabled:o,setChecked:S,control:R,setControl:C,name:d,form:c,value:v,hasConsumerStoppedPropagationRef:L,required:p,defaultChecked:Va(a)?!1:a,isFormControl:V,bubbleInput:N,setBubbleInput:M};return h.jsx(X9,{scope:e,...q,children:eU(b)?b(q):s})}var Y2="CheckboxTrigger",K2=w.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...s},a)=>{const{control:o,value:c,disabled:d,checked:m,required:p,setControl:v,setChecked:b,hasConsumerStoppedPropagationRef:x,isFormControl:S,bubbleInput:R}=T_(Y2,n),C=on(a,v),N=w.useRef(m);return w.useEffect(()=>{const M=o==null?void 0:o.form;if(M){const L=()=>b(N.current);return M.addEventListener("reset",L),()=>M.removeEventListener("reset",L)}},[o,b]),h.jsx(Vt.button,{type:"button",role:"checkbox","aria-checked":Va(m)?"mixed":m,"aria-required":p,"data-state":eR(m),"data-disabled":d?"":void 0,disabled:d,value:c,...s,ref:C,onKeyDown:sn(e,M=>{M.key==="Enter"&&M.preventDefault()}),onClick:sn(t,M=>{b(L=>Va(L)?!0:!L),R&&S&&(x.current=M.isPropagationStopped(),x.current||M.stopPropagation())})})});K2.displayName=Y2;var Q2=w.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:s,checked:a,defaultChecked:o,required:c,disabled:d,value:m,onCheckedChange:p,form:v,...b}=n;return h.jsx(J9,{__scopeCheckbox:t,checked:a,defaultChecked:o,disabled:d,required:c,onCheckedChange:p,name:s,form:v,value:m,internal_do_not_use_render:({isFormControl:x})=>h.jsxs(h.Fragment,{children:[h.jsx(K2,{...b,ref:e,__scopeCheckbox:t}),x&&h.jsx(J2,{__scopeCheckbox:t})]})})});Q2.displayName=Tp;var Z2="CheckboxIndicator",W2=w.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:s,...a}=n,o=T_(Z2,t);return h.jsx(G2,{present:s||Va(o.checked)||o.checked===!0,children:h.jsx(Vt.span,{"data-state":eR(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...n.style}})})});W2.displayName=Z2;var X2="CheckboxBubbleInput",J2=w.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:o,defaultChecked:c,required:d,disabled:m,name:p,value:v,form:b,bubbleInput:x,setBubbleInput:S}=T_(X2,n),R=on(t,S),C=w_(o),N=__(s);w.useEffect(()=>{const L=x;if(!L)return;const V=window.HTMLInputElement.prototype,F=Object.getOwnPropertyDescriptor(V,"checked").set,Z=!a.current;if(C!==o&&F){const k=new Event("click",{bubbles:Z});L.indeterminate=Va(o),F.call(L,Va(o)?!1:o),L.dispatchEvent(k)}},[x,C,o,a]);const M=w.useRef(Va(o)?!1:o);return h.jsx(Vt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??M.current,required:d,disabled:m,name:p,value:v,form:b,...e,tabIndex:-1,ref:R,style:{...e.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});J2.displayName=X2;function eU(n){return typeof n=="function"}function Va(n){return n==="indeterminate"}function eR(n){return Va(n)?"indeterminate":n?"checked":"unchecked"}function qh({className:n,...e}){return h.jsx(Q2,{"data-slot":"checkbox",className:dn("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:h.jsx(W2,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:h.jsx(d0,{className:"size-3.5"})})})}function tU(){const{currentUser:n}=cr(),{currentLedger:e,canEdit:t}=Js(),[s,a]=w.useState([]),[o,c]=w.useState([]),[d,m]=w.useState([]),[p,v]=w.useState(!0),[b,x]=w.useState(!1),[S,R]=w.useState(null),[C,N]=w.useState(!1),[M,L]=w.useState(null),[V,q]=w.useState([]),[F,Z]=w.useState(!1),[k,A]=w.useState(""),[O,B]=w.useState(""),[D,U]=w.useState({amount:"",type:"expense",description:"",categoryId:"",paymentMethod:"cash",notes:"",includeInBudget:!0,date:new Date().toISOString().split("T")[0],paidBy:(n==null?void 0:n.uid)||"",splitType:"none",splitWith:[],splitAmounts:{}}),[P,G]=w.useState("none"),[te,$]=w.useState({categoryId:"",includeInBudget:null}),X=()=>{U({amount:"",type:"expense",description:"",categoryId:"",paymentMethod:"cash",notes:"",includeInBudget:!0,date:new Date().toISOString().split("T")[0],paidBy:(n==null?void 0:n.uid)||"",splitType:"none",splitWith:[],splitAmounts:{}}),G("none"),N(!1),L(null),R(null)},K=async()=>{if(e)try{const se=Kt(Fe,"ledgers",e.id,"transactions"),Ne=Er(se,zi("date","desc")),Re=await Wn(Ne),Le=[];Re.forEach(We=>{var At;const An=We.data();Le.push({id:We.id,...An,date:((At=An.date)==null?void 0:At.toDate())||new Date})}),a(Le)}catch(se){console.error("Error fetching transactions:",se),A("Failed to fetch transactions")}},pe=async()=>{if(e)try{const se=Kt(Fe,"ledgers",e.id,"categories"),Ne=await Wn(se),Re=[];Ne.forEach(Le=>{Re.push({id:Le.id,...Le.data()})}),c(Re),Re.length===0&&await ie()}catch(se){console.error("Error fetching categories:",se)}},z=async()=>{if(e!=null&&e.members)try{const se=[],Ne=Object.keys(e.members),Re=10,Le=new Map;for(let We=0;We<Ne.length;We+=Re){const An=Ne.slice(We,We+Re);try{const At=Er(Kt(Fe,"users"),qs("__name__","in",An));(await Wn(At)).forEach(Jn=>{Le.set(Jn.id,Jn.data())})}catch(At){console.error("Error fetching user batch:",At)}}for(const[We,An]of Object.entries(e.members)){let At={uid:We,role:An};const ct=Le.get(We);ct?At={...At,displayName:ct.displayName,email:ct.email,profileColor:ct.profileColor}:We===(n==null?void 0:n.uid)?At={...At,displayName:n.displayName,email:n.email}:At={...At,displayName:`User ${We.slice(0,8)}`,email:`${We.slice(0,8)}@example.com`},se.push(At)}m(se)}catch(se){console.error("Error fetching members:",se)}},ie=async()=>{const se=[{name:"Food & Dining",type:"expense"},{name:"Transportation",type:"expense"},{name:"Shopping",type:"expense"},{name:"Entertainment",type:"expense"},{name:"Bills & Utilities",type:"expense"},{name:"Healthcare",type:"expense"},{name:"Salary",type:"income"},{name:"Freelance",type:"income"},{name:"Investment",type:"income"}];try{const Ne=Kt(Fe,"ledgers",e.id,"categories");for(const Re of se)await ji(Ne,Re);await pe()}catch(Ne){console.error("Error creating default categories:",Ne)}},he=async se=>{if(se.preventDefault(),!t()){A("You do not have permission to add transactions");return}try{A("");const Ne={...D,amount:parseFloat(D.amount),date:$t.fromDate(new Date(D.date)),createdAt:$t.now(),userId:n.uid,paidBy:D.paidBy,splitType:D.splitType,splitWith:D.splitWith,splitAmounts:D.splitAmounts};S?(await cs(Qt(Fe,"ledgers",e.id,"transactions",S.id),Ne),B("Transaction updated successfully")):(await ji(Kt(Fe,"ledgers",e.id,"transactions"),Ne),B("Transaction added successfully")),X(),x(!1),R(null),await K()}catch(Ne){console.error("Error adding/updating transaction:",Ne),A("Failed to add/update transaction")}},oe=async se=>{if(!t()){A("You do not have permission to delete transactions");return}try{await nf(Qt(Fe,"ledgers",e.id,"transactions",se)),B("Transaction deleted successfully"),await K()}catch(Ne){console.error("Error deleting transaction:",Ne),A("Failed to delete transaction")}},_e=async()=>{if(!(!t()||V.length===0)&&window.confirm(`Are you sure you want to delete ${V.length} selected transactions?`))try{A("");const se=500,Ne=[];for(let Re=0;Re<V.length;Re+=se){const Le=Uv(Fe);V.slice(Re,Re+se).forEach(An=>{const At=Qt(Fe,"ledgers",e.id,"transactions",An);Le.delete(At)}),Ne.push(Le)}for(const Re of Ne)await Re.commit();B(`Deleted ${V.length} transactions`),q([]),await K()}catch(se){console.error("Error batch deleting transactions:",se),A("Failed to delete transactions")}},Ue=async()=>{if(!(!t()||V.length===0))try{A("");const se={};te.categoryId&&(se.categoryId=te.categoryId),te.includeInBudget!==null&&(se.includeInBudget=te.includeInBudget);const Ne=500,Re=[];for(let Le=0;Le<V.length;Le+=Ne){const We=Uv(Fe);V.slice(Le,Le+Ne).forEach(At=>{const ct=Qt(Fe,"ledgers",e.id,"transactions",At);We.update(ct,se)}),Re.push(We)}for(const Le of Re)await Le.commit();B(`Updated ${V.length} transactions`),q([]),Z(!1),$({categoryId:"",includeInBudget:null}),await K()}catch(se){console.error("Error batch updating transactions:",se),A("Failed to update transactions")}},Ce=se=>{R(se),N(!0),L(se.id),x(!0),U({...se,date:se.date instanceof Date?se.date.toISOString().split("T")[0]:se.date,splitWith:se.splitWith||[],splitAmounts:se.splitAmounts||{}});const Re=d.filter(Le=>Le.uid!==(n==null?void 0:n.uid)).map(Le=>Le.uid);se.splitWith.length===0?G("none"):se.splitWith.length===Re.length&&Re.every(Le=>se.splitWith.includes(Le))?G("everyone"):G("individuals")},ge=se=>{q(Ne=>Ne.includes(se)?Ne.filter(Re=>Re!==se):[...Ne,se])},Me=()=>{V.length===s.length?q([]):q(s.map(se=>se.id))},ht=se=>{U(Ne=>{const Re=Ne.splitWith||[],Le=Re.includes(se)?Re.filter(We=>We!==se):[...Re,se];return setTimeout(()=>{Ze(Le)},0),{...Ne,splitWith:Le,splitType:Le.length>0?"equal":"none"}})},Qe=se=>{if(G(se),se==="none")U(Ne=>({...Ne,splitType:"none",splitWith:[]}));else if(se==="everyone"){const Ne=d.filter(Re=>Re.uid!==(n==null?void 0:n.uid)).map(Re=>Re.uid);U(Re=>({...Re,splitType:"equal",splitWith:Ne}))}else se==="individuals"&&U(Ne=>({...Ne,splitType:Ne.splitWith&&Ne.splitWith.length>0?"equal":"none"}))},Ze=se=>{const Re=d.filter(Le=>Le.uid!==(n==null?void 0:n.uid)).map(Le=>Le.uid);se.length===0?G("none"):se.length===Re.length&&Re.every(Le=>se.includes(Le))?G("everyone"):G("individuals")},Je=d.length>1;return w.useEffect(()=>{e&&Promise.all([K(),pe(),z()]).finally(()=>v(!1))},[e]),w.useEffect(()=>{n&&U(se=>({...se,paidBy:n.uid}))},[n]),p?h.jsx("div",{className:"p-6",children:"Loading transactions..."}):e?h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Transactions"}),h.jsx("div",{className:"flex space-x-2",children:t()&&h.jsxs(Oe,{onClick:()=>x(!0),className:"flex items-center space-x-2",children:[h.jsx(uc,{className:"h-4 w-4"}),h.jsx("span",{children:"Add Transaction"})]})})]}),k&&h.jsx(Jt,{variant:"destructive",children:h.jsx(en,{children:k})}),O&&h.jsx(Jt,{children:h.jsx(en,{children:O})}),(b||S)&&h.jsxs(pt,{children:[h.jsx(Ct,{children:h.jsx(Rt,{children:S?"Edit Transaction":"Add New Transaction"})}),h.jsx(gt,{children:h.jsxs("form",{onSubmit:he,className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"amount",children:"Amount"}),h.jsx(an,{id:"amount",type:"number",step:"0.01",value:D.amount,onChange:se=>U({...D,amount:se.target.value}),required:!0})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"type",children:"Type"}),h.jsxs(Ps,{value:D.type,onValueChange:se=>U({...D,type:se}),children:[h.jsx(Vs,{children:h.jsx(Ls,{})}),h.jsxs(Us,{children:[h.jsx(On,{value:"expense",children:"Expense"}),h.jsx(On,{value:"income",children:"Income"})]})]})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"description",children:"Description"}),h.jsx(an,{id:"description",type:"text",value:D.description,onChange:se=>U({...D,description:se.target.value}),required:!0})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"category",children:"Category"}),h.jsxs(Ps,{value:D.categoryId,onValueChange:se=>U({...D,categoryId:se}),children:[h.jsx(Vs,{children:h.jsx(Ls,{placeholder:"Select a category"})}),h.jsx(Us,{children:o.filter(se=>se.type===D.type).map(se=>h.jsx(On,{value:se.id,children:se.name},se.id))})]})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"date",children:"Date"}),h.jsx(an,{id:"date",type:"date",value:D.date,onChange:se=>U({...D,date:se.target.value}),required:!0})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"paymentMethod",children:"Payment Method"}),h.jsx(an,{id:"paymentMethod",type:"text",value:D.paymentMethod,onChange:se=>U({...D,paymentMethod:se.target.value})})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx(tt,{htmlFor:"notes",children:"Notes"}),h.jsx($2,{id:"notes",value:D.notes,onChange:se=>U({...D,notes:se.target.value})})]}),h.jsxs("div",{className:"md:col-span-2 flex items-center space-x-2",children:[h.jsx(qh,{id:"includeInBudget",checked:D.includeInBudget,onCheckedChange:se=>U({...D,includeInBudget:se})}),h.jsx(tt,{htmlFor:"includeInBudget",children:"Include in Budget"})]})]}),Je&&D.type==="expense"&&h.jsxs("div",{className:"space-y-4 border p-4 rounded-md",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Split Expense"}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"paidBy",children:"Paid By"}),h.jsxs(Ps,{value:D.paidBy,onValueChange:se=>U({...D,paidBy:se}),children:[h.jsx(Vs,{children:h.jsx(Ls,{placeholder:"Select payer"})}),h.jsx(Us,{children:d.map(se=>h.jsx(On,{value:se.uid,children:h.jsx(jo,{user:se})},se.uid))})]})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Oe,{type:"button",variant:P==="none"?"default":"outline",onClick:()=>Qe("none"),children:"Don't Split"}),h.jsx(Oe,{type:"button",variant:P==="everyone"?"default":"outline",onClick:()=>Qe("everyone"),children:"Split Equally (Everyone Else)"}),h.jsx(Oe,{type:"button",variant:P==="individuals"?"default":"outline",onClick:()=>Qe("individuals"),children:"Split with Individuals"})]}),P==="individuals"&&h.jsxs("div",{className:"space-y-2",children:[h.jsx(tt,{children:"Select Members to Split With:"}),d.filter(se=>se.uid!==D.paidBy).map(se=>h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(qh,{id:`split-with-${se.uid}`,checked:(D.splitWith||[]).includes(se.uid),onCheckedChange:()=>ht(se.uid)}),h.jsx(tt,{htmlFor:`split-with-${se.uid}`,children:h.jsx(jo,{user:se})})]},se.uid))]}),D.splitType==="equal"&&(D.splitWith||[]).length>0&&h.jsxs("div",{className:"border-t pt-4 mt-4",children:[h.jsx("h4",{className:"font-semibold",children:"Split Details:"}),h.jsxs("p",{children:["Total Amount: ",rm(D.amount||0,e==null?void 0:e.currency)]}),h.jsxs("p",{children:["Paid By: ",h.jsx(jo,{user:d.find(se=>se.uid===D.paidBy)})]}),h.jsxs("p",{children:["Splitting with ",(D.splitWith||[]).length," other(s):"]}),h.jsxs("ul",{children:[(D.splitWith||[]).map(se=>{const Ne=d.find(Le=>Le.uid===se),Re=rm(D.amount/((D.splitWith||[]).length+1),e==null?void 0:e.currency);return h.jsxs("li",{children:["- ",h.jsx(jo,{user:Ne}),": ",Re]},se)}),h.jsxs("li",{children:["- ",h.jsx(jo,{user:d.find(se=>se.uid===D.paidBy)})," (Payer): ",rm(D.amount-(D.splitWith||[]).length*(D.amount/((D.splitWith||[]).length+1)),e==null?void 0:e.currency)]})]})]})]}),h.jsxs("div",{className:"flex justify-end space-x-2",children:[h.jsx(Oe,{type:"button",variant:"outline",onClick:()=>{x(!1),X()},children:"Cancel"}),h.jsx(Oe,{type:"submit",children:S?"Update Transaction":"Add Transaction"})]})]})})]}),F&&h.jsxs(pt,{children:[h.jsxs(Ct,{children:[h.jsx(Rt,{children:"Batch Edit Transactions"}),h.jsxs(Xt,{children:["Edit ",V.length," selected transactions"]})]}),h.jsx(gt,{children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"batchCategory",children:"Category"}),h.jsxs(Ps,{value:te.categoryId,onValueChange:se=>$({...te,categoryId:se}),children:[h.jsx(Vs,{children:h.jsx(Ls,{placeholder:"Select a category"})}),h.jsx(Us,{children:o.map(se=>h.jsx(On,{value:se.id,children:se.name},se.id))})]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(qh,{id:"batchIncludeInBudget",checked:te.includeInBudget===!0,onCheckedChange:se=>$({...te,includeInBudget:se})}),h.jsx(tt,{htmlFor:"batchIncludeInBudget",children:"Include in Budget"})]}),h.jsxs("div",{className:"flex justify-end space-x-2",children:[h.jsx(Oe,{type:"button",variant:"outline",onClick:()=>{Z(!1),$({categoryId:"",includeInBudget:null})},children:"Cancel"}),h.jsxs(Oe,{onClick:Ue,children:["Update ",V.length," Transactions"]})]})]})})]}),h.jsxs(pt,{children:[h.jsxs(Ct,{children:[h.jsx(Rt,{children:"All Transactions"}),h.jsx(Xt,{children:"Manage your ledger's financial records."})]}),h.jsx(gt,{children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx(Oe,{variant:"outline",onClick:Me,children:V.length===s.length?"Deselect All":"Select All"}),V.length>0&&h.jsxs("div",{className:"flex space-x-2",children:[h.jsxs(Oe,{variant:"outline",onClick:()=>Z(!0),className:"flex items-center space-x-2",children:[h.jsx(dc,{className:"h-4 w-4"}),h.jsxs("span",{children:["Batch Edit (",V.length,")"]})]}),h.jsxs(Oe,{variant:"destructive",onClick:_e,children:["Delete Selected (",V.length,")"]})]})]}),s.length===0?h.jsx("p",{children:"No transactions found. Add one above!"}):h.jsx("div",{className:"space-y-4",children:(()=>{const se={};return s.forEach(Re=>{const Le=new Date(Re.date),We=`${Le.getFullYear()}-${String(Le.getMonth()+1).padStart(2,"0")}`;se[We]||(se[We]=[]),se[We].push(Re)}),Object.keys(se).sort((Re,Le)=>Le.localeCompare(Re)).map(Re=>{const Le=se[Re],[We,An]=Re.split("-"),At=new Date(We,An-1).toLocaleDateString("en-US",{year:"numeric",month:"long"});return h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center my-6",children:[h.jsx("div",{className:"flex-grow border-t border-gray-300"}),h.jsx("div",{className:"mx-4 px-3 py-1 bg-gray-100 text-gray-600 text-sm font-medium rounded-full",children:At}),h.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),h.jsx("div",{className:"space-y-3",children:Le.map(ct=>{const Jn=o.find(Hn=>Hn.id===ct.categoryId),ti=d.find(Hn=>Hn.uid===ct.paidBy),Xr=d.filter(Hn=>(ct.splitWith||[]).includes(Hn.uid));return h.jsxs("div",{className:"border p-4 rounded-md shadow-sm flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[h.jsx(qh,{checked:V.includes(ct.id),onCheckedChange:()=>ge(ct.id)}),h.jsx("div",{className:"flex-1",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("p",{className:`font-semibold ${ct.type==="income"?"text-green-600":"text-red-600"}`,children:ct.description}),h.jsxs("p",{className:"text-sm text-gray-500",children:[Jn==null?void 0:Jn.name," | ",new Date(ct.date).toLocaleDateString()]}),ct.type==="expense"&&ct.splitType!=="none"&&h.jsxs("p",{className:"text-sm text-gray-500",children:["Paid by: ",h.jsx(jo,{user:ti}),(ct.splitWith||[]).length>0&&h.jsxs("span",{children:[", Split with: ",Xr.map(Hn=>Hn.displayName||Hn.email).join(", ")]})]}),ct.type==="income"&&h.jsxs("p",{className:"text-sm text-gray-500",children:["Paid to: ",h.jsx(jo,{user:ti})]})]}),h.jsx("div",{className:"text-right",children:h.jsx("p",{className:`font-semibold text-lg ${ct.type==="income"?"text-green-600":"text-red-600"}`,children:z8(ct.amount,e==null?void 0:e.currency,ct.type==="income")})})]})})]}),h.jsxs("div",{className:"flex space-x-2 ml-4",children:[h.jsx(Oe,{variant:"outline",size:"sm",onClick:()=>Ce(ct),children:h.jsx(dc,{className:"h-4 w-4"})}),h.jsx(Oe,{variant:"destructive",size:"sm",onClick:()=>oe(ct.id),children:h.jsx(fc,{className:"h-4 w-4"})})]})]},ct.id)})})]},Re)})})()})]})})]})]}):h.jsx("div",{className:"p-6",children:"Please select a ledger to view transactions."})}var S_="Progress",A_=100,[nU,X5]=zc(S_),[rU,sU]=nU(S_),tR=w.forwardRef((n,e)=>{const{__scopeProgress:t,value:s=null,max:a,getValueLabel:o=iU,...c}=n;(a||a===0)&&!lS(a)&&console.error(aU(`${a}`,"Progress"));const d=lS(a)?a:A_;s!==null&&!cS(s,d)&&console.error(oU(`${s}`,"Progress"));const m=cS(s,d)?s:null,p=Lm(m)?o(m,d):void 0;return h.jsx(rU,{scope:t,value:m,max:d,children:h.jsx(Vt.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":Lm(m)?m:void 0,"aria-valuetext":p,role:"progressbar","data-state":sR(m,d),"data-value":m??void 0,"data-max":d,...c,ref:e})})});tR.displayName=S_;var nR="ProgressIndicator",rR=w.forwardRef((n,e)=>{const{__scopeProgress:t,...s}=n,a=sU(nR,t);return h.jsx(Vt.div,{"data-state":sR(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:e})});rR.displayName=nR;function iU(n,e){return`${Math.round(n/e*100)}%`}function sR(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function Lm(n){return typeof n=="number"}function lS(n){return Lm(n)&&!isNaN(n)&&n>0}function cS(n,e){return Lm(n)&&!isNaN(n)&&n<=e&&n>=0}function aU(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${A_}\`.`}function oU(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${A_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var lU=tR,cU=rR;function Zv({className:n,value:e,...t}){return h.jsx(lU,{"data-slot":"progress",className:dn("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",n),...t,children:h.jsx(cU,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}function uU(){const{currentUser:n}=cr(),{currentLedger:e,canEdit:t}=Js(),[s,a]=w.useState([]),[o,c]=w.useState([]),[d,m]=w.useState([]),[p,v]=w.useState(!0),[b,x]=w.useState(!1),[S,R]=w.useState(null),[C,N]=w.useState(""),[M,L]=w.useState(""),[V,q]=w.useState({name:"",startDate:new Date().toISOString().split("T")[0],endDate:"",totalAmount:"",timeSpan:"monthly",categories:{}}),F=(G,te)=>{const $=new Date(G);let X=new Date($);switch(te){case"weekly":X.setDate($.getDate()+6);break;case"monthly":X.setMonth($.getMonth()+1),X.setDate($.getDate()-1);break;case"quarterly":X.setMonth($.getMonth()+3),X.setDate($.getDate()-1);break;case"yearly":X.setFullYear($.getFullYear()+1),X.setDate($.getDate()-1);break;default:X.setMonth($.getMonth()+1),X.setDate($.getDate()-1)}return X.toISOString().split("T")[0]},Z=async()=>{if(e)try{const G=Kt(Fe,"ledgers",e.id,"budgets"),te=Er(G,zi("startDate","desc")),$=await Wn(te),X=[];$.forEach(K=>{var z,ie;const pe=K.data();X.push({id:K.id,...pe,startDate:((z=pe.startDate)==null?void 0:z.toDate())||new Date,endDate:((ie=pe.endDate)==null?void 0:ie.toDate())||new Date})}),a(X)}catch(G){console.error("Error fetching budgets:",G),N("Failed to fetch budgets")}},k=async()=>{if(e)try{const G=Kt(Fe,"ledgers",e.id,"categories"),te=await Wn(G),$=[];te.forEach(X=>{$.push({id:X.id,...X.data()})}),c($)}catch(G){console.error("Error fetching categories:",G)}},A=async()=>{if(e)try{const G=Kt(Fe,"ledgers",e.id,"transactions"),te=Er(G,qs("includeInBudget","==",!0)),$=await Wn(te),X=[];$.forEach(K=>{var z;const pe=K.data();X.push({id:K.id,...pe,date:((z=pe.date)==null?void 0:z.toDate())||new Date})}),m(X)}catch(G){console.error("Error fetching transactions:",G)}},O=G=>{const te=d.filter(K=>{const pe=K.date;return pe>=G.startDate&&pe<=G.endDate&&K.type==="expense"}),$=te.reduce((K,pe)=>K+pe.amount,0),X={};return te.forEach(K=>{K.categoryId&&(X[K.categoryId]=(X[K.categoryId]||0)+K.amount)}),{totalSpent:$,categorySpending:X,transactionCount:te.length}},B=async G=>{if(G.preventDefault(),!t()){N("You do not have permission to manage budgets");return}try{N("");const te={...V,totalAmount:parseFloat(V.totalAmount),startDate:$t.fromDate(new Date(V.startDate)),endDate:$t.fromDate(new Date(V.endDate)),createdAt:$t.now(),userId:n.uid};S?(await cs(Qt(Fe,"ledgers",e.id,"budgets",S.id),te),L("Budget updated successfully")):(await ji(Kt(Fe,"ledgers",e.id,"budgets"),te),L("Budget created successfully")),q({name:"",startDate:new Date().toISOString().split("T")[0],endDate:"",totalAmount:"",timeSpan:"monthly",categories:{}}),x(!1),R(null),await Z()}catch(te){console.error("Error saving budget:",te),N("Failed to save budget")}},D=async G=>{if(!t()){N("You do not have permission to delete budgets");return}try{await nf(Qt(Fe,"ledgers",e.id,"budgets",G)),L("Budget deleted successfully"),await Z()}catch(te){console.error("Error deleting budget:",te),N("Failed to delete budget")}},U=(G,te)=>{q($=>({...$,categories:{...$.categories,[G]:parseFloat(te)||0}}))},P=()=>{const G=Object.values(V.categories).reduce((te,$)=>te+($||0),0);return(parseFloat(V.totalAmount)||0)-G};return w.useEffect(()=>{e&&Promise.all([Z(),k(),A()]).finally(()=>v(!1))},[e]),w.useEffect(()=>{if(V.startDate&&V.timeSpan){const G=F(V.startDate,V.timeSpan);q(te=>({...te,endDate:G}))}},[V.startDate,V.timeSpan]),p?h.jsx("div",{className:"p-6",children:"Loading budgets..."}):e?h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Budget Management"}),t()&&h.jsxs(Oe,{onClick:()=>x(!0),className:"flex items-center space-x-2",children:[h.jsx(uc,{className:"h-4 w-4"}),h.jsx("span",{children:"Create Budget"})]})]}),C&&h.jsx(Jt,{variant:"destructive",children:h.jsx(en,{children:C})}),M&&h.jsx(Jt,{children:h.jsx(en,{children:M})}),(b||S)&&h.jsxs(pt,{children:[h.jsx(Ct,{children:h.jsx(Rt,{children:S?"Edit Budget":"Create New Budget"})}),h.jsx(gt,{children:h.jsxs("form",{onSubmit:B,className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"name",children:"Budget Name"}),h.jsx(an,{id:"name",value:V.name,onChange:G=>q({...V,name:G.target.value}),placeholder:"e.g., Monthly Budget - June 2025",required:!0})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"timeSpan",children:"Time Span"}),h.jsxs(Ps,{value:V.timeSpan,onValueChange:G=>q({...V,timeSpan:G}),children:[h.jsx(Vs,{children:h.jsx(Ls,{})}),h.jsxs(Us,{children:[h.jsx(On,{value:"weekly",children:"Weekly"}),h.jsx(On,{value:"monthly",children:"Monthly"}),h.jsx(On,{value:"quarterly",children:"Quarterly"}),h.jsx(On,{value:"yearly",children:"Yearly"}),h.jsx(On,{value:"custom",children:"Custom"})]})]})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"startDate",children:"Start Date"}),h.jsx(an,{id:"startDate",type:"date",value:V.startDate,onChange:G=>q({...V,startDate:G.target.value}),required:!0})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"endDate",children:"End Date"}),h.jsx(an,{id:"endDate",type:"date",value:V.endDate,onChange:G=>q({...V,endDate:G.target.value}),disabled:V.timeSpan!=="custom",required:!0})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx(tt,{htmlFor:"totalAmount",children:"Total Budget Amount"}),h.jsx(an,{id:"totalAmount",type:"number",step:"0.01",value:V.totalAmount,onChange:G=>q({...V,totalAmount:G.target.value}),required:!0})]})]}),h.jsxs("div",{children:[h.jsx(tt,{children:"Category Budget Allocation"}),h.jsxs("div",{className:"mt-2 space-y-2",children:[o.filter(G=>G.type==="expense").map(G=>h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(tt,{className:"w-32 text-sm",children:G.name}),h.jsx(an,{type:"number",step:"0.01",value:V.categories[G.id]||"",onChange:te=>U(G.id,te.target.value),placeholder:"0.00",className:"w-32"})]},G.id)),h.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t",children:[h.jsx(tt,{className:"w-32 text-sm font-medium",children:"Remaining:"}),h.jsxs("span",{className:`text-sm font-medium ${P()<0?"text-red-600":"text-green-600"}`,children:["$",P().toFixed(2)]})]})]})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Oe,{type:"submit",children:S?"Update Budget":"Create Budget"}),h.jsx(Oe,{type:"button",variant:"outline",onClick:()=>{x(!1),R(null),q({name:"",startDate:new Date().toISOString().split("T")[0],endDate:"",totalAmount:"",timeSpan:"monthly",categories:{}})},children:"Cancel"})]})]})})]}),h.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.length===0?h.jsx(pt,{className:"lg:col-span-2",children:h.jsxs(gt,{className:"text-center py-8",children:[h.jsx(rO,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No budgets created yet"}),h.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first budget to start tracking your spending goals."}),t()&&h.jsx(Oe,{onClick:()=>x(!0),children:"Create Your First Budget"})]})}):s.map(G=>{const te=O(G),$=te.totalSpent/G.totalAmount*100,X=te.totalSpent>G.totalAmount,K=Math.ceil((G.endDate-new Date)/(1e3*60*60*24));return h.jsxs(pt,{children:[h.jsx(Ct,{children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx(Rt,{className:"text-lg",children:G.name}),h.jsxs(Xt,{children:[G.startDate.toLocaleDateString()," - ",G.endDate.toLocaleDateString()]})]}),t()&&h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>{R(G),q({name:G.name,startDate:G.startDate.toISOString().split("T")[0],endDate:G.endDate.toISOString().split("T")[0],totalAmount:G.totalAmount.toString(),timeSpan:G.timeSpan||"custom",categories:G.categories||{}})},children:h.jsx(dc,{className:"h-4 w-4"})}),h.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>D(G.id),children:h.jsx(fc,{className:"h-4 w-4"})})]})]})}),h.jsxs(gt,{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm font-medium",children:"Budget Progress"}),h.jsxs(Mr,{variant:X?"destructive":$>80?"secondary":"default",children:[$.toFixed(1),"%"]})]}),h.jsx(Zv,{value:Math.min($,100),className:"h-2"}),h.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[h.jsxs("span",{children:["$",te.totalSpent.toFixed(2)," spent"]}),h.jsxs("span",{children:["$",G.totalAmount.toFixed(2)," budget"]})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[h.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["$",(G.totalAmount-te.totalSpent).toFixed(2)]}),h.jsx("div",{className:"text-sm text-gray-600",children:"Remaining"})]}),h.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[h.jsx("div",{className:"text-lg font-semibold text-gray-900",children:K>0?K:0}),h.jsx("div",{className:"text-sm text-gray-600",children:"Days Left"})]})]}),G.categories&&Object.keys(G.categories).length>0&&h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-medium mb-2",children:"Category Breakdown"}),h.jsx("div",{className:"space-y-2",children:Object.entries(G.categories).map(([pe,z])=>{const ie=o.find(_e=>_e.id===pe),he=te.categorySpending[pe]||0,oe=he/z*100;return ie?h.jsxs("div",{className:"space-y-1",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{children:ie.name}),h.jsxs("span",{children:["$",he.toFixed(2)," / $",z.toFixed(2)]})]}),h.jsx(Zv,{value:Math.min(oe,100),className:"h-1"})]},pe):null})})]}),h.jsxs("div",{className:"text-sm text-gray-600",children:[te.transactionCount," transactions in this period"]})]})]},G.id)})})]}):h.jsx("div",{className:"p-6",children:"Please select a ledger to view budgets."})}/*! Copyright Twitter Inc. and other contributors. Licensed under MIT */var dU=function(){var n={base:"https://twemoji.maxcdn.com/v/14.0.2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:L,toCodePoint:Z},onerror:function(){this.parentNode&&this.parentNode.replaceChild(m(this.alt,!1),this)},parse:V,replace:q,test:F},e={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},t=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[©®\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd\udec3-\udec5\udef0-\udef6]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedd-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec2\uded0-\uded9\udee0-\udee7]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,s=/\uFE0F/g,a="‍",o=/[&<>'"]/g,c=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,d=String.fromCharCode;return n;function m(k,A){return document.createTextNode(A?k.replace(s,""):k)}function p(k){return k.replace(o,C)}function v(k,A){return"".concat(A.base,A.size,"/",k,A.ext)}function b(k,A){for(var O=k.childNodes,B=O.length,D,U;B--;)D=O[B],U=D.nodeType,U===3?A.push(D):U===1&&!("ownerSVGElement"in D)&&!c.test(D.nodeName.toLowerCase())&&b(D,A);return A}function x(k){return Z(k.indexOf(a)<0?k.replace(s,""):k)}function S(k,A){for(var O=b(k,[]),B=O.length,D,U,P,G,te,$,X,K,pe,z,ie,he,oe;B--;){for(P=!1,G=document.createDocumentFragment(),te=O[B],$=te.nodeValue,K=0;X=t.exec($);){if(pe=X.index,pe!==K&&G.appendChild(m($.slice(K,pe),!0)),ie=X[0],he=x(ie),K=pe+ie.length,oe=A.callback(he,A),he&&oe){z=new Image,z.onerror=A.onerror,z.setAttribute("draggable","false"),D=A.attributes(ie,he);for(U in D)D.hasOwnProperty(U)&&U.indexOf("on")!==0&&!z.hasAttribute(U)&&z.setAttribute(U,D[U]);z.className=A.className,z.alt=ie,z.src=oe,P=!0,G.appendChild(z)}z||G.appendChild(m(ie,!1)),z=null}P&&(K<$.length&&G.appendChild(m($.slice(K),!0)),te.parentNode.replaceChild(G,te))}return k}function R(k,A){return q(k,function(O){var B=O,D=x(O),U=A.callback(D,A),P,G;if(D&&U){B="<img ".concat('class="',A.className,'" ','draggable="false" ','alt="',O,'"',' src="',U,'"'),P=A.attributes(O,D);for(G in P)P.hasOwnProperty(G)&&G.indexOf("on")!==0&&B.indexOf(" "+G+"=")===-1&&(B=B.concat(" ",G,'="',p(P[G]),'"'));B=B.concat("/>")}return B})}function C(k){return e[k]}function N(){return null}function M(k){return typeof k=="number"?k+"x"+k:k}function L(k){var A=typeof k=="string"?parseInt(k,16):k;return A<65536?d(A):(A-=65536,d(55296+(A>>10),56320+(A&1023)))}function V(k,A){return(!A||typeof A=="function")&&(A={callback:A}),(typeof k=="string"?R:S)(k,{callback:A.callback||v,attributes:typeof A.attributes=="function"?A.attributes:N,base:typeof A.base=="string"?A.base:n.base,ext:A.ext||n.ext,size:A.folder||M(A.size||n.size),className:A.className||n.className,onerror:A.onerror||n.onerror})}function q(k,A){return String(k).replace(t,A)}function F(k){t.lastIndex=0;var A=t.test(k);return t.lastIndex=0,A}function Z(k,A){for(var O=[],B=0,D=0,U=0;U<k.length;)B=k.charCodeAt(U++),D?(O.push((65536+(D-55296<<10)+(B-56320)).toString(16)),D=0):55296<=B&&B<=56319?D=B:O.push(B.toString(16));return O.join(A||"-")}}();const fU=[{name:"Food & Dining",emoji:"🍽️",type:"expense"},{name:"Transportation",emoji:"🚗",type:"expense"},{name:"Shopping",emoji:"🛍️",type:"expense"},{name:"Entertainment",emoji:"🎬",type:"expense"},{name:"Bills & Utilities",emoji:"💡",type:"expense"},{name:"Healthcare",emoji:"🏥",type:"expense"},{name:"Education",emoji:"📚",type:"expense"},{name:"Travel",emoji:"✈️",type:"expense"},{name:"Fitness",emoji:"💪",type:"expense"},{name:"Personal Care",emoji:"💄",type:"expense"}],hU=[{name:"Salary",emoji:"💰",type:"income"},{name:"Freelance",emoji:"💻",type:"income"},{name:"Investment",emoji:"📈",type:"income"},{name:"Business",emoji:"🏢",type:"income"},{name:"Rental",emoji:"🏠",type:"income"},{name:"Gift",emoji:"🎁",type:"income"}],mU=["🍽️","🚗","🛍️","🎬","💡","🏥","📚","✈️","💪","💄","💰","💻","📈","🏢","🏠","🎁","☕","🍕","🎵","🎮","📱","👕","⛽","🚌","🚇","🏪","🍺","🎪","🎨","📖","💊","🏋️","🧘","🎯","🎲","🎸","📺","🎤","🎭","🎪"];function pU(){const{currentUser:n}=cr(),{currentLedger:e,canEdit:t}=Js(),[s,a]=w.useState([]),[o,c]=w.useState(!0),[d,m]=w.useState(!1),[p,v]=w.useState(null),[b,x]=w.useState(""),[S,R]=w.useState(""),[C,N]=w.useState({name:"",emoji:"📝",type:"expense"}),M=D=>D?h.jsx("span",{dangerouslySetInnerHTML:{__html:dU.parse(D,{folder:"svg",ext:".svg",base:"https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/"})},style:{width:"20px",height:"20px",display:"inline-block"}}):null,L=async()=>{if(e)try{const D=Kt(Fe,"ledgers",e.id,"categories"),U=Er(D,zi("type"),zi("name")),P=await Wn(U),G=[];P.forEach(te=>{G.push({id:te.id,...te.data()})}),a(G),c(!1)}catch(D){console.error("Error fetching categories:",D),x("Failed to fetch categories"),c(!1)}},V=async()=>{if(!(!e||!t()))try{const D=Kt(Fe,"ledgers",e.id,"categories");for(const U of fU)await ji(D,{...U,createdAt:new Date,createdBy:n.uid});for(const U of hU)await ji(D,{...U,createdAt:new Date,createdBy:n.uid});await L(),R("Default categories created successfully!")}catch(D){console.error("Error creating default categories:",D),x("Failed to create default categories")}},q=async D=>{if(D.preventDefault(),!(!e||!t()))try{const U=Kt(Fe,"ledgers",e.id,"categories");await ji(U,{...C,createdAt:new Date,createdBy:n.uid}),N({name:"",emoji:"📝",type:"expense"}),m(!1),await L(),R("Category added successfully!")}catch(U){console.error("Error adding category:",U),x("Failed to add category")}},F=async D=>{if(D.preventDefault(),!(!p||!t()))try{const U=Qt(Fe,"ledgers",e.id,"categories",p.id);await cs(U,{name:C.name,emoji:C.emoji,type:C.type,updatedAt:new Date,updatedBy:n.uid}),v(null),N({name:"",emoji:"📝",type:"expense"}),await L(),R("Category updated successfully!")}catch(U){console.error("Error updating category:",U),x("Failed to update category")}},Z=async D=>{if(!(!t()||!confirm("Are you sure you want to delete this category?")))try{const U=Qt(Fe,"ledgers",e.id,"categories",D);await nf(U),await L(),R("Category deleted successfully!")}catch(U){console.error("Error deleting category:",U),x("Failed to delete category")}},k=D=>{v(D),N({name:D.name,emoji:D.emoji,type:D.type}),m(!1)},A=()=>{v(null),N({name:"",emoji:"📝",type:"expense"})};if(w.useEffect(()=>{L()},[e]),w.useEffect(()=>{if(S||b){const D=setTimeout(()=>{R(""),x("")},3e3);return()=>clearTimeout(D)}},[S,b]),o)return h.jsx("div",{className:"p-6",children:h.jsxs("div",{className:"animate-pulse space-y-6",children:[h.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2,3,4].map(D=>h.jsx("div",{className:"h-32 bg-gray-200 rounded"},D))})]})});const O=s.filter(D=>D.type==="expense"),B=s.filter(D=>D.type==="income");return h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Category Management"}),t()&&h.jsxs(Oe,{onClick:()=>m(!0),className:"flex items-center space-x-2",children:[h.jsx(uc,{className:"h-4 w-4"}),h.jsx("span",{children:"Add Category"})]})]}),b&&h.jsx(Jt,{variant:"destructive",children:h.jsx(en,{children:b})}),S&&h.jsx(Jt,{children:h.jsx(en,{children:S})}),(d||p)&&h.jsxs(pt,{children:[h.jsxs(Ct,{children:[h.jsx(Rt,{children:p?"Edit Category":"Add New Category"}),h.jsx(Xt,{children:p?"Update category details":"Create a new category with emoji"})]}),h.jsx(gt,{children:h.jsxs("form",{onSubmit:p?F:q,className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"name",children:"Category Name"}),h.jsx(an,{id:"name",value:C.name,onChange:D=>N({...C,name:D.target.value}),placeholder:"Enter category name",required:!0})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"type",children:"Type"}),h.jsxs(Ps,{value:C.type,onValueChange:D=>N({...C,type:D}),children:[h.jsx(Vs,{children:h.jsx(Ls,{})}),h.jsxs(Us,{children:[h.jsx(On,{value:"expense",children:"Expense"}),h.jsx(On,{value:"income",children:"Income"})]})]})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"emoji",children:"Emoji"}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(an,{id:"emoji",value:C.emoji,onChange:D=>N({...C,emoji:D.target.value}),placeholder:"📝",className:"w-20"}),h.jsx("div",{className:"flex items-center space-x-1",children:M(C.emoji)})]})]})]}),h.jsxs("div",{children:[h.jsx(tt,{children:"Popular Emojis"}),h.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:mU.map((D,U)=>h.jsx("button",{type:"button",onClick:()=>N({...C,emoji:D}),className:"p-2 border rounded hover:bg-gray-100 transition-colors",children:M(D)},U))})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsxs(Oe,{type:"submit",className:"flex items-center space-x-2",children:[h.jsx(f0,{className:"h-4 w-4"}),h.jsxs("span",{children:[p?"Update":"Add"," Category"]})]}),h.jsxs(Oe,{type:"button",variant:"outline",onClick:()=>{m(!1),A()},className:"flex items-center space-x-2",children:[h.jsx(hc,{className:"h-4 w-4"}),h.jsx("span",{children:"Cancel"})]})]})]})})]}),s.length===0?h.jsx(pt,{children:h.jsxs(gt,{className:"text-center py-8",children:[h.jsx(JS,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Categories Found"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"Create categories to organize your transactions"}),t()&&h.jsxs(Oe,{onClick:V,className:"flex items-center space-x-2 mx-auto",children:[h.jsx(uc,{className:"h-4 w-4"}),h.jsx("span",{children:"Create Default Categories"})]})]})}):h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs(pt,{children:[h.jsx(Ct,{children:h.jsxs(Rt,{className:"flex items-center space-x-2",children:[h.jsx("span",{children:"💸"}),h.jsx("span",{children:"Expense Categories"}),h.jsx(Mr,{variant:"secondary",children:O.length})]})}),h.jsx(gt,{children:h.jsx("div",{className:"space-y-2",children:O.map(D=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[M(D.emoji),h.jsx("span",{className:"font-medium",children:D.name})]}),t()&&h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Oe,{size:"sm",variant:"ghost",onClick:()=>k(D),className:"h-8 w-8 p-0",children:h.jsx(dc,{className:"h-4 w-4"})}),h.jsx(Oe,{size:"sm",variant:"ghost",onClick:()=>Z(D.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:h.jsx(fc,{className:"h-4 w-4"})})]})]},D.id))})})]}),h.jsxs(pt,{children:[h.jsx(Ct,{children:h.jsxs(Rt,{className:"flex items-center space-x-2",children:[h.jsx("span",{children:"💰"}),h.jsx("span",{children:"Income Categories"}),h.jsx(Mr,{variant:"secondary",children:B.length})]})}),h.jsx(gt,{children:h.jsx("div",{className:"space-y-2",children:B.map(D=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[M(D.emoji),h.jsx("span",{className:"font-medium",children:D.name})]}),t()&&h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(Oe,{size:"sm",variant:"ghost",onClick:()=>k(D),className:"h-8 w-8 p-0",children:h.jsx(dc,{className:"h-4 w-4"})}),h.jsx(Oe,{size:"sm",variant:"ghost",onClick:()=>Z(D.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:h.jsx(fc,{className:"h-4 w-4"})})]})]},D.id))})})]})]})]})}function gU({ledger:n,onClose:e}){const{currentUser:t}=cr(),{refreshLedgers:s}=Js(),[a,o]=w.useState(!1),[c,d]=w.useState(""),[m,p]=w.useState(""),[v,b]=w.useState([]),[x,S]=w.useState([]),[R,C]=w.useState({email:"",role:"member"}),N=async()=>{if(n)try{const F=Kt(Fe,"invitations"),Z=Er(F,qs("ledgerId","==",n.id),qs("status","==","pending"),zi("createdAt","desc")),k=await Wn(Z),A=[];k.forEach(O=>{A.push({id:O.id,...O.data()})}),b(A)}catch(F){console.error("Error fetching invitations:",F)}},M=async()=>{if(!(!n||!n.members))try{const F=Kt(Fe,"users"),Z=Object.keys(n.members);if(Z.length===0)return;const k=[];for(const A of Z)try{(await Wn(Er(F,qs("__name__","==",A)))).forEach(B=>{k.push({id:B.id,...B.data(),role:n.members[A]})})}catch{k.push({id:A,email:"Unknown User",displayName:"Unknown User",role:n.members[A]})}S(k)}catch(F){console.error("Error fetching members:",F)}},L=async()=>{if(!t||!n||!R.email.trim())return;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(R.email)){d("Please enter a valid email address");return}if(x.find(A=>A.email.toLowerCase()===R.email.toLowerCase())){d("This user is already a member of this ledger");return}if(v.find(A=>A.inviteeEmail.toLowerCase()===R.email.toLowerCase())){d("An invitation has already been sent to this email address");return}try{o(!0),d(""),await ji(Kt(Fe,"invitations"),{ledgerId:n.id,ledgerName:n.name,inviterId:t.uid,inviterEmail:t.email,inviterName:t.displayName||t.email,inviteeEmail:R.email.toLowerCase(),role:R.role,status:"pending",createdAt:new Date,expiresAt:new Date(Date.now()+7*24*60*60*1e3)}),await N(),p("Invitation sent successfully!"),C({email:"",role:"member"})}catch(A){console.error("Error sending invitation:",A),d("Failed to send invitation")}finally{o(!1)}},V=async F=>{try{o(!0),await nf(Qt(Fe,"invitations",F)),await N(),p("Invitation cancelled successfully!")}catch(Z){console.error("Error cancelling invitation:",Z),d("Failed to cancel invitation")}finally{o(!1)}},q=async F=>{if(confirm("Are you sure you want to remove this member from the ledger?"))try{o(!0);const Z={...n.members};delete Z[F],await cs(Qt(Fe,"ledgers",n.id),{members:Z,updatedAt:new Date}),await s(),await M(),p("Member removed successfully!")}catch(Z){console.error("Error removing member:",Z),d("Failed to remove member")}finally{o(!1)}};return w.useEffect(()=>{N(),M()},[n]),w.useEffect(()=>{if(m||c){const F=setTimeout(()=>{p(""),d("")},3e3);return()=>clearTimeout(F)}},[m,c]),h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Manage Ledger Access: ",n==null?void 0:n.name]}),h.jsx(Oe,{variant:"ghost",size:"sm",onClick:e,children:h.jsx(hc,{className:"h-4 w-4"})})]}),c&&h.jsx(Jt,{variant:"destructive",className:"mb-4",children:h.jsx(en,{children:c})}),m&&h.jsx(Jt,{className:"mb-4",children:h.jsx(en,{children:m})}),h.jsxs(pt,{className:"mb-6",children:[h.jsxs(Ct,{children:[h.jsxs(Rt,{className:"flex items-center",children:[h.jsx(t1,{className:"h-5 w-5 mr-2"}),"Invite New User"]}),h.jsx(Xt,{children:"Send an invitation to add a new member to this ledger."})]}),h.jsxs(gt,{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"email",children:"Email Address"}),h.jsx(an,{id:"email",type:"email",value:R.email,onChange:F=>C(Z=>({...Z,email:F.target.value})),placeholder:"user@example.com"})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"role",children:"Role"}),h.jsxs(Ps,{value:R.role,onValueChange:F=>C(Z=>({...Z,role:F})),children:[h.jsx(Vs,{children:h.jsx(Ls,{placeholder:"Select role"})}),h.jsxs(Us,{children:[h.jsx(On,{value:"member",children:"Member"}),h.jsx(On,{value:"owner",children:"Owner"})]})]})]}),h.jsxs(Oe,{onClick:L,disabled:a||!R.email.trim(),className:"w-full",children:[h.jsx(WD,{className:"h-4 w-4 mr-2"}),"Send Invitation"]})]})]}),h.jsxs(pt,{className:"mb-6",children:[h.jsx(Ct,{children:h.jsxs(Rt,{className:"flex items-center",children:[h.jsx(r1,{className:"h-5 w-5 mr-2"}),"Current Members (",x.length,")"]})}),h.jsx(gt,{children:h.jsx("div",{className:"space-y-3",children:x.map(F=>h.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(Ec,{user:F,size:"sm"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium",children:F.displayName||"Unknown User"}),h.jsx("p",{className:"text-sm text-gray-600",children:F.email})]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Mr,{variant:F.role==="owner"?"default":"secondary",children:F.role}),F.id!==t.uid&&F.role!=="owner"&&h.jsx(Oe,{size:"sm",variant:"destructive",onClick:()=>q(F.id),disabled:a,children:h.jsx(fc,{className:"h-3 w-3"})})]})]},F.id))})})]}),v.length>0&&h.jsxs(pt,{children:[h.jsx(Ct,{children:h.jsxs(Rt,{className:"flex items-center",children:[h.jsx(uv,{className:"h-5 w-5 mr-2"}),"Pending Invitations (",v.length,")"]})}),h.jsx(gt,{children:h.jsx("div",{className:"space-y-3",children:v.map(F=>h.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(XS,{className:"h-5 w-5 text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium",children:F.inviteeEmail}),h.jsxs("p",{className:"text-sm text-gray-600",children:["Invited ",new Date(F.createdAt.toDate()).toLocaleDateString()]})]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Mr,{variant:"secondary",children:F.role}),h.jsx(Mr,{variant:"outline",children:"Pending"}),h.jsx(Oe,{size:"sm",variant:"destructive",onClick:()=>V(F.id),disabled:a,children:h.jsx(hc,{className:"h-3 w-3"})})]})]},F.id))})})]})]})})})}const yU=[{value:"CNY",label:"¥ Chinese Yuan (CNY)"},{value:"USD",label:"$ US Dollar (USD)"},{value:"EUR",label:"€ Euro (EUR)"},{value:"GBP",label:"£ British Pound (GBP)"},{value:"JPY",label:"¥ Japanese Yen (JPY)"}];function vU(){const{currentUser:n}=cr(),{ledgers:e,currentLedger:t,switchLedger:s,refreshLedgers:a,isOwner:o}=Js(),[c,d]=w.useState(!1),[m,p]=w.useState(!1),[v,b]=w.useState(null),[x,S]=w.useState(!1),[R,C]=w.useState(null),[N,M]=w.useState(""),[L,V]=w.useState(""),[q,F]=w.useState({name:"",currency:"CNY",description:""}),Z=async()=>{if(!(!n||!q.name.trim()))try{d(!0),M("");const G=await ji(Kt(Fe,"ledgers"),{name:q.name.trim(),description:q.description.trim(),currency:q.currency,ownerId:n.uid,createdAt:new Date,members:{[n.uid]:"owner"}});await a(),V("Ledger created successfully!"),p(!1),F({name:"",currency:"CNY",description:""})}catch(G){console.error("Error creating ledger:",G),M("Failed to create ledger")}finally{d(!1)}},k=async()=>{if(!(!v||!q.name.trim()))try{d(!0),M(""),await cs(Qt(Fe,"ledgers",v.id),{name:q.name.trim(),description:q.description.trim(),currency:q.currency,updatedAt:new Date}),await a(),V("Ledger updated successfully!"),b(null),F({name:"",currency:"CNY",description:""})}catch(G){console.error("Error updating ledger:",G),M("Failed to update ledger")}finally{d(!1)}},A=async G=>{if(confirm("Are you sure you want to delete this ledger? This action cannot be undone."))try{d(!0),M(""),await nf(Qt(Fe,"ledgers",G)),await a(),V("Ledger deleted successfully!")}catch(te){console.error("Error deleting ledger:",te),M("Failed to delete ledger")}finally{d(!1)}},O=G=>{b(G),F({name:G.name,currency:G.currency||"CNY",description:G.description||""}),p(!1)},B=()=>{b(null),p(!1),F({name:"",currency:"CNY",description:""})},D=G=>!G.members||!n?null:G.members[n.uid]||null,U=G=>G.members?Object.keys(G.members).length:0,P=G=>G.members?Object.keys(G.members).map(te=>({uid:te,displayName:te===(n==null?void 0:n.uid)?n.displayName||n.email:`User ${te.slice(0,8)}`,email:te===(n==null?void 0:n.uid)?n.email:`${te.slice(0,8)}@example.com`})):[];return w.useEffect(()=>{if(L||N){const G=setTimeout(()=>{V(""),M("")},3e3);return()=>clearTimeout(G)}},[L,N]),h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Ledger Management"}),h.jsxs(Oe,{onClick:()=>p(!0),className:"bg-blue-500 hover:bg-blue-600",children:[h.jsx(uc,{className:"h-4 w-4 mr-2"}),"Create Ledger"]})]}),N&&h.jsx(Jt,{variant:"destructive",children:h.jsx(en,{children:N})}),L&&h.jsx(Jt,{children:h.jsx(en,{children:L})}),(m||v)&&h.jsxs(pt,{children:[h.jsxs(Ct,{children:[h.jsx(Rt,{children:v?"Edit Ledger":"Create New Ledger"}),h.jsx(Xt,{children:v?"Update the ledger details below.":"Create a new ledger to organize your expenses separately."})]}),h.jsxs(gt,{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"name",children:"Ledger Name"}),h.jsx(an,{id:"name",value:q.name,onChange:G=>F(te=>({...te,name:G.target.value})),placeholder:"e.g., Personal Expenses, Business Travel, Family Budget"})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"currency",children:"Currency"}),h.jsxs(Ps,{value:q.currency,onValueChange:G=>F(te=>({...te,currency:G})),children:[h.jsx(Vs,{children:h.jsx(Ls,{placeholder:"Select currency"})}),h.jsx(Us,{children:yU.map(G=>h.jsx(On,{value:G.value,children:G.label},G.value))})]})]}),h.jsxs("div",{children:[h.jsx(tt,{htmlFor:"description",children:"Description (Optional)"}),h.jsx(an,{id:"description",value:q.description,onChange:G=>F(te=>({...te,description:G.target.value})),placeholder:"Brief description of this ledger's purpose"})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsxs(Oe,{onClick:v?k:Z,disabled:c||!q.name.trim(),children:[h.jsx(f0,{className:"h-4 w-4 mr-2"}),v?"Update":"Create"]}),h.jsxs(Oe,{variant:"outline",onClick:B,children:[h.jsx(hc,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})]}),h.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(G=>{const te=D(G),$=U(G),X=(t==null?void 0:t.id)===G.id;return h.jsxs(pt,{className:`cursor-pointer transition-all ${X?"ring-2 ring-blue-500 bg-blue-50":"hover:shadow-md"}`,onClick:()=>s(G.id),children:[h.jsx(Ct,{className:"pb-3",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs(Rt,{className:"text-lg flex items-center",children:[h.jsx(lm,{className:"h-5 w-5 mr-2"}),G.name,X&&h.jsx(Mr,{variant:"secondary",className:"ml-2",children:"Current"})]}),G.description&&h.jsx(Xt,{className:"mt-1",children:G.description})]}),te==="owner"&&h.jsx(PD,{className:"h-4 w-4 text-yellow-500"})]})}),h.jsxs(gt,{children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-600",children:"Currency:"}),h.jsx("span",{className:"font-medium",children:G.currency||"CNY"})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-600",children:"Members:"}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(U8,{users:P(G),size:"xs",maxDisplay:3}),h.jsx("span",{className:"font-medium text-xs",children:$})]})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-600",children:"Role:"}),h.jsx(Mr,{variant:te==="owner"?"default":"secondary",children:te})]})]}),te==="owner"&&h.jsxs("div",{className:"flex space-x-2 mt-4 pt-3 border-t",children:[h.jsxs(Oe,{size:"sm",variant:"outline",onClick:K=>{K.stopPropagation(),O(G)},children:[h.jsx(dc,{className:"h-3 w-3 mr-1"}),"Edit"]}),h.jsxs(Oe,{size:"sm",variant:"outline",onClick:K=>{K.stopPropagation(),C(G),S(!0)},children:[h.jsx(t1,{className:"h-3 w-3 mr-1"}),"Invite"]}),e.length>1&&h.jsxs(Oe,{size:"sm",variant:"destructive",onClick:K=>{K.stopPropagation(),A(G.id)},children:[h.jsx(fc,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]})]},G.id)})}),e.length===0&&h.jsx(pt,{children:h.jsxs(gt,{className:"text-center py-8",children:[h.jsx(lm,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Ledgers Found"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first ledger to start tracking expenses."}),h.jsxs(Oe,{onClick:()=>p(!0),children:[h.jsx(uc,{className:"h-4 w-4 mr-2"}),"Create Your First Ledger"]})]})}),x&&R&&h.jsx(gU,{ledger:R,onClose:()=>{S(!1),C(null)}})]})}function _U(){const{currentUser:n}=cr(),[e,t]=w.useState(!1),[s,a]=w.useState(""),[o,c]=w.useState(""),[d,m]=w.useState({displayName:"",profileColor:""}),p={...n,displayName:d.displayName,profileColor:d.profileColor},v=async()=>{if(n)try{t(!0);const R=await gp(Qt(Fe,"users",n.uid)),C=R.exists()?R.data():{};m({displayName:n.displayName||C.displayName||"",profileColor:C.profileColor||""})}catch(R){console.error("Error loading profile data:",R),a("Failed to load profile data")}finally{t(!1)}},b=async()=>{if(n)try{if(t(!0),a(""),!d.displayName.trim()){a("Display name is required");return}if(d.profileColor&&!V8(d.profileColor)){a("Invalid color selected");return}await F1(n,{displayName:d.displayName.trim()}),await cs(Qt(Fe,"users",n.uid),{displayName:d.displayName.trim(),profileColor:d.profileColor||null,updatedAt:new Date}),c("Profile updated successfully!")}catch(R){console.error("Error saving profile:",R),a("Failed to save profile changes")}finally{t(!1)}},x=()=>{const R=L8();m(C=>({...C,profileColor:R}))},S=()=>{m(R=>({...R,profileColor:""}))};return w.useEffect(()=>{v()},[n]),w.useEffect(()=>{if(o||s){const R=setTimeout(()=>{c(""),a("")},3e3);return()=>clearTimeout(R)}},[o,s]),h.jsxs(pt,{children:[h.jsxs(Ct,{children:[h.jsxs(Rt,{className:"flex items-center",children:[h.jsx(n1,{className:"h-5 w-5 mr-2"}),"Profile Settings"]}),h.jsx(Xt,{children:"Manage your display name and profile image appearance."})]}),h.jsxs(gt,{className:"space-y-6",children:[s&&h.jsx(Jt,{variant:"destructive",children:h.jsx(en,{children:s})}),o&&h.jsx(Jt,{children:h.jsx(en,{children:o})}),h.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[h.jsx(Ec,{user:p,size:"xl"}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-lg",children:"Profile Preview"}),h.jsx("p",{className:"text-sm text-gray-600",children:"This is how your profile will appear to other users"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(tt,{htmlFor:"displayName",children:"Display Name"}),h.jsx(an,{id:"displayName",value:d.displayName,onChange:R=>m(C=>({...C,displayName:R.target.value})),placeholder:"Enter your display name",disabled:e}),h.jsx("p",{className:"text-xs text-gray-500",children:"This name will be visible to other users in shared ledgers"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(tt,{children:"Profile Color"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsxs(Oe,{type:"button",size:"sm",variant:"outline",onClick:x,disabled:e,children:[h.jsx(KD,{className:"h-3 w-3 mr-1"}),"Random"]}),h.jsx(Oe,{type:"button",size:"sm",variant:"outline",onClick:S,disabled:e,children:"Default"})]})]}),h.jsx("div",{className:"grid grid-cols-10 gap-2",children:Da.map(R=>h.jsx("button",{type:"button",className:`
                  w-8 h-8 rounded-full border-2 transition-all
                  ${d.profileColor===R?"border-gray-900 scale-110":"border-gray-300 hover:border-gray-500"}
                `,style:{backgroundColor:R},onClick:()=>m(C=>({...C,profileColor:R})),disabled:e,title:R},R))}),h.jsx("p",{className:"text-xs text-gray-500",children:"Choose a color for your profile image background, or leave default for auto-generated color"})]}),h.jsx("div",{className:"flex justify-end",children:h.jsxs(Oe,{onClick:b,disabled:e||!d.displayName.trim(),children:[h.jsx(f0,{className:"h-4 w-4 mr-2"}),e?"Saving...":"Save Changes"]})})]})]})}var Sp="Switch",[bU,J5]=zc(Sp),[xU,wU]=bU(Sp),iR=w.forwardRef((n,e)=>{const{__scopeSwitch:t,name:s,checked:a,defaultChecked:o,required:c,disabled:d,value:m="on",onCheckedChange:p,form:v,...b}=n,[x,S]=w.useState(null),R=on(e,V=>S(V)),C=w.useRef(!1),N=x?v||!!x.closest("form"):!0,[M,L]=Mm({prop:a,defaultProp:o??!1,onChange:p,caller:Sp});return h.jsxs(xU,{scope:t,checked:M,disabled:d,children:[h.jsx(Vt.button,{type:"button",role:"switch","aria-checked":M,"aria-required":c,"data-state":cR(M),"data-disabled":d?"":void 0,disabled:d,value:m,...b,ref:R,onClick:sn(n.onClick,V=>{L(q=>!q),N&&(C.current=V.isPropagationStopped(),C.current||V.stopPropagation())})}),N&&h.jsx(lR,{control:x,bubbles:!C.current,name:s,value:m,checked:M,required:c,disabled:d,form:v,style:{transform:"translateX(-100%)"}})]})});iR.displayName=Sp;var aR="SwitchThumb",oR=w.forwardRef((n,e)=>{const{__scopeSwitch:t,...s}=n,a=wU(aR,t);return h.jsx(Vt.span,{"data-state":cR(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:e})});oR.displayName=aR;var EU="SwitchBubbleInput",lR=w.forwardRef(({__scopeSwitch:n,control:e,checked:t,bubbles:s=!0,...a},o)=>{const c=w.useRef(null),d=on(c,o),m=w_(t),p=__(e);return w.useEffect(()=>{const v=c.current;if(!v)return;const b=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(b,"checked").set;if(m!==t&&S){const R=new Event("click",{bubbles:s});S.call(v,t),v.dispatchEvent(R)}},[m,t,s]),h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...a,tabIndex:-1,ref:d,style:{...a.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});lR.displayName=EU;function cR(n){return n?"checked":"unchecked"}var TU=iR,SU=oR;function tv({className:n,...e}){return h.jsx(TU,{"data-slot":"switch",className:dn("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:h.jsx(SU,{"data-slot":"switch-thumb",className:dn("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function AU({smartCategorizationEnabled:n,setSmartCategorizationEnabled:e,debugModeEnabled:t,setDebugModeEnabled:s,thinkingModeEnabled:a,setThinkingModeEnabled:o}){var U,P;const{currentUser:c}=cr(),{currentLedger:d}=Js(),[m,p]=w.useState(""),[v,b]=w.useState(!1),[x,S]=w.useState(""),[R,C]=w.useState(!1),[N,M]=w.useState(`You are a financial-data assistant. I will provide you with a CSV file of transactions containing at least the following columns: Date, Description, Amount.  Response in JSON and say nothing else:

1. For each row, determine whether it is an **expense** or an **income**.   

2. Assign each transaction to one of the following **Expense** or **Income** categories (or to a special category if needed):

   **Expense Categories**  
   ${((U=d==null?void 0:d.expenseCategories)==null?void 0:U.map(G=>`- ${G.name}`).join("\\n"))||'- HTT: (Hard To Tell) if you can\\"t unambiguously assign one of the above'}

   **Income Categories**  
   ${((P=d==null?void 0:d.incomeCategories)==null?void 0:P.map(G=>`- ${G.name}`).join("\\n"))||"- HTT"}

   Use merchant names, keywords in the description, or amount signs to guide your choice.  

3. Output a single JSON object with this exact structure:

{
  "transactions": [
    {
      "id": "<self-increment id>",
      "category": "<one of the given categories: Bills & Utilities, …, Refund, HTT>"
    }
  ]
}

4.  Optionally, "corrections" showing prior mis-classifications I\\"ve corrected may be provided to guide this categorization `),[L,V]=w.useState(!1),[q,F]=w.useState(""),[Z,k]=w.useState(!1),[A,O]=w.useState(!0);w.useEffect(()=>{(async()=>{if(c){O(!0);try{const te=Qt(Fe,"users",c.uid),$=await gp(te);if($.exists()){const X=$.data();e(X.smartCategorizationEnabled||!1),p(X.llmApiKey||""),X.llmApiKey&&b(!0)}}catch(te){console.error("Error loading smart categorization settings:",te)}finally{O(!1)}}})()},[c,e]),w.useEffect(()=>{c&&!A&&(async()=>{try{const te=Qt(Fe,"users",c.uid);await cs(te,{smartCategorizationEnabled:n,updatedAt:new Date})}catch(te){console.error("Error saving smart categorization setting:",te)}})()},[n,c,A]);const B=async()=>{if(!m.trim()){S("Please enter an API key.");return}C(!0),S("");try{const G=await fetch("https://ark.cn-beijing.volces.com/api/v3/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify({messages:[{content:"hello world",role:"user"}],model:"doubao-seed-1-6-flash-250615"})});if(G.ok){if(b(!0),S(""),c){const te=Qt(Fe,"users",c.uid);await cs(te,{llmApiKey:m,updatedAt:new Date})}}else{const te=await G.json();S(`API Key verification failed: ${te.message||G.statusText}`),b(!1)}}catch(G){S(`Network error: ${G.message}`),b(!1)}finally{C(!1)}},D=()=>{N.trim()?(V(!0),F("")):F("System prompt cannot be empty.")};return A?h.jsxs(pt,{children:[h.jsxs(Ct,{children:[h.jsx(Rt,{children:"Smart Categorization Settings"}),h.jsx(Xt,{children:"Loading settings..."})]}),h.jsx(gt,{children:h.jsx("p",{children:"Loading..."})})]}):h.jsxs(pt,{children:[h.jsxs(Ct,{children:[h.jsx(Rt,{children:"Smart Categorization Settings"}),h.jsx(Xt,{children:"Configure settings for LLM-powered transaction categorization."})]}),h.jsxs(gt,{children:[h.jsxs("div",{className:"flex items-center justify-between space-x-2 mb-4",children:[h.jsx(tt,{htmlFor:"smart-categorization-mode",children:"Enable Smart Categorization"}),h.jsx(tv,{id:"smart-categorization-mode",checked:n,onCheckedChange:e})]}),n&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between space-x-2 mb-4",children:[h.jsx(tt,{htmlFor:"debug-mode",children:"Enable Debug Mode (Session Only)"}),h.jsx(tv,{id:"debug-mode",checked:t,onCheckedChange:s})]}),v&&h.jsxs("div",{className:"flex items-center justify-between space-x-2 mb-4",children:[h.jsx(tt,{htmlFor:"thinking-mode",children:"Enable Thinking Mode (Default: Off)"}),h.jsx(tv,{id:"thinking-mode",checked:a,onCheckedChange:o})]}),h.jsxs("div",{className:"space-y-4 mb-4",children:[h.jsx(tt,{htmlFor:"api-key",children:"Doubao API Key"}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(an,{id:"api-key",type:"password",placeholder:"Enter your Doubao API Key",value:m,onChange:G=>p(G.target.value),disabled:v||R}),h.jsx(Oe,{onClick:B,disabled:R||v,children:R?"Verifying...":v?h.jsx(ec,{className:"h-4 w-4"}):"Verify"})]}),x&&h.jsxs(Jt,{variant:"destructive",children:[h.jsx(cm,{className:"h-4 w-4"}),h.jsx(en,{children:x})]}),v&&h.jsxs(Jt,{children:[h.jsx(ec,{className:"h-4 w-4"}),h.jsx(en,{children:"API Key verified successfully!"})]})]}),t&&h.jsxs("div",{className:"space-y-4",children:[h.jsx(tt,{htmlFor:"system-prompt",children:"System Prompt"}),h.jsx($2,{id:"system-prompt",placeholder:"Enter the system prompt for LLM categorization",value:N,onChange:G=>M(G.target.value),rows:10,disabled:L}),h.jsx(Oe,{onClick:D,disabled:L,children:L?h.jsx(ec,{className:"h-4 w-4"}):"Confirm Prompt"}),q&&h.jsxs(Jt,{variant:"destructive",children:[h.jsx(cm,{className:"h-4 w-4"}),h.jsx(en,{children:q})]})]})]})]})]})}var St;(function(n){n.assertEqual=a=>a;function e(a){}n.assertIs=e;function t(a){throw new Error}n.assertNever=t,n.arrayToEnum=a=>{const o={};for(const c of a)o[c]=c;return o},n.getValidEnumValues=a=>{const o=n.objectKeys(a).filter(d=>typeof a[a[d]]!="number"),c={};for(const d of o)c[d]=a[d];return n.objectValues(c)},n.objectValues=a=>n.objectKeys(a).map(function(o){return a[o]}),n.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const o=[];for(const c in a)Object.prototype.hasOwnProperty.call(a,c)&&o.push(c);return o},n.find=(a,o)=>{for(const c of a)if(o(c))return c},n.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function s(a,o=" | "){return a.map(c=>typeof c=="string"?`'${c}'`:c).join(o)}n.joinValues=s,n.jsonStringifyReplacer=(a,o)=>typeof o=="bigint"?o.toString():o})(St||(St={}));var Wv;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(Wv||(Wv={}));const Te=St.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ri=n=>{switch(typeof n){case"undefined":return Te.undefined;case"string":return Te.string;case"number":return isNaN(n)?Te.nan:Te.number;case"boolean":return Te.boolean;case"function":return Te.function;case"bigint":return Te.bigint;case"symbol":return Te.symbol;case"object":return Array.isArray(n)?Te.array:n===null?Te.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?Te.promise:typeof Map<"u"&&n instanceof Map?Te.map:typeof Set<"u"&&n instanceof Set?Te.set:typeof Date<"u"&&n instanceof Date?Te.date:Te.object;default:return Te.unknown}},me=St.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),CU=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class Lr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(o){return o.message},s={_errors:[]},a=o=>{for(const c of o.issues)if(c.code==="invalid_union")c.unionErrors.map(a);else if(c.code==="invalid_return_type")a(c.returnTypeError);else if(c.code==="invalid_arguments")a(c.argumentsError);else if(c.path.length===0)s._errors.push(t(c));else{let d=s,m=0;for(;m<c.path.length;){const p=c.path[m];m===c.path.length-1?(d[p]=d[p]||{_errors:[]},d[p]._errors.push(t(c))):d[p]=d[p]||{_errors:[]},d=d[p],m++}}};return a(this),s}static assert(e){if(!(e instanceof Lr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,St.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},s=[];for(const a of this.issues)a.path.length>0?(t[a.path[0]]=t[a.path[0]]||[],t[a.path[0]].push(e(a))):s.push(e(a));return{formErrors:s,fieldErrors:t}}get formErrors(){return this.flatten()}}Lr.create=n=>new Lr(n);const Sc=(n,e)=>{let t;switch(n.code){case me.invalid_type:n.received===Te.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case me.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,St.jsonStringifyReplacer)}`;break;case me.unrecognized_keys:t=`Unrecognized key(s) in object: ${St.joinValues(n.keys,", ")}`;break;case me.invalid_union:t="Invalid input";break;case me.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${St.joinValues(n.options)}`;break;case me.invalid_enum_value:t=`Invalid enum value. Expected ${St.joinValues(n.options)}, received '${n.received}'`;break;case me.invalid_arguments:t="Invalid function arguments";break;case me.invalid_return_type:t="Invalid function return type";break;case me.invalid_date:t="Invalid date";break;case me.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:St.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case me.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case me.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case me.custom:t="Invalid input";break;case me.invalid_intersection_types:t="Intersection results could not be merged";break;case me.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case me.not_finite:t="Number must be finite";break;default:t=e.defaultError,St.assertNever(n)}return{message:t}};let uR=Sc;function RU(n){uR=n}function Vm(){return uR}const Um=n=>{const{data:e,path:t,errorMaps:s,issueData:a}=n,o=[...t,...a.path||[]],c={...a,path:o};if(a.message!==void 0)return{...a,path:o,message:a.message};let d="";const m=s.filter(p=>!!p).slice().reverse();for(const p of m)d=p(c,{data:e,defaultError:d}).message;return{...a,path:o,message:d}},NU=[];function we(n,e){const t=Vm(),s=Um({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===Sc?void 0:Sc].filter(a=>!!a)});n.common.issues.push(s)}class lr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const s=[];for(const a of t){if(a.status==="aborted")return Ke;a.status==="dirty"&&e.dirty(),s.push(a.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,t){const s=[];for(const a of t){const o=await a.key,c=await a.value;s.push({key:o,value:c})}return lr.mergeObjectSync(e,s)}static mergeObjectSync(e,t){const s={};for(const a of t){const{key:o,value:c}=a;if(o.status==="aborted"||c.status==="aborted")return Ke;o.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof c.value<"u"||a.alwaysSet)&&(s[o.value]=c.value)}return{status:e.value,value:s}}}const Ke=Object.freeze({status:"aborted"}),Jl=n=>({status:"dirty",value:n}),yr=n=>({status:"valid",value:n}),Xv=n=>n.status==="aborted",Jv=n=>n.status==="dirty",Qo=n=>n.status==="valid",Sd=n=>typeof Promise<"u"&&n instanceof Promise;function Bm(n,e,t,s){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function dR(n,e,t,s,a){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var je;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(je||(je={}));var sd,id;class Zs{constructor(e,t,s,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=s,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const uS=(n,e)=>{if(Qo(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Lr(n.common.issues);return this._error=t,this._error}}};function rt(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:s,description:a}=n;if(e&&(t||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(c,d)=>{var m,p;const{message:v}=n;return c.code==="invalid_enum_value"?{message:v??d.defaultError}:typeof d.data>"u"?{message:(m=v??s)!==null&&m!==void 0?m:d.defaultError}:c.code!=="invalid_type"?{message:d.defaultError}:{message:(p=v??t)!==null&&p!==void 0?p:d.defaultError}},description:a}}class it{get description(){return this._def.description}_getType(e){return Ri(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Ri(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new lr,ctx:{common:e.parent.common,data:e.data,parsedType:Ri(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Sd(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const s=this.safeParse(e,t);if(s.success)return s.data;throw s.error}safeParse(e,t){var s;const a={common:{issues:[],async:(s=t==null?void 0:t.async)!==null&&s!==void 0?s:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ri(e)},o=this._parseSync({data:e,path:a.path,parent:a});return uS(a,o)}"~validate"(e){var t,s;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ri(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:a});return Qo(o)?{value:o.value}:{issues:a.common.issues}}catch(o){!((s=(t=o==null?void 0:o.message)===null||t===void 0?void 0:t.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:a}).then(o=>Qo(o)?{value:o.value}:{issues:a.common.issues})}async parseAsync(e,t){const s=await this.safeParseAsync(e,t);if(s.success)return s.data;throw s.error}async safeParseAsync(e,t){const s={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ri(e)},a=this._parse({data:e,path:s.path,parent:s}),o=await(Sd(a)?a:Promise.resolve(a));return uS(s,o)}refine(e,t){const s=a=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(a):t;return this._refinement((a,o)=>{const c=e(a),d=()=>o.addIssue({code:me.custom,...s(a)});return typeof Promise<"u"&&c instanceof Promise?c.then(m=>m?!0:(d(),!1)):c?!0:(d(),!1)})}refinement(e,t){return this._refinement((s,a)=>e(s)?!0:(a.addIssue(typeof t=="function"?t(s,a):t),!1))}_refinement(e){return new gs({schema:this,typeName:Ge.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Gs.create(this,this._def)}nullable(){return Za.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return us.create(this)}promise(){return Cc.create(this,this._def)}or(e){return Nd.create([this,e],this._def)}and(e){return Id.create(this,e,this._def)}transform(e){return new gs({...rt(this._def),schema:this,typeName:Ge.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Md({...rt(this._def),innerType:this,defaultValue:t,typeName:Ge.ZodDefault})}brand(){return new C_({typeName:Ge.ZodBranded,type:this,...rt(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Pd({...rt(this._def),innerType:this,catchValue:t,typeName:Ge.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return af.create(this,e)}readonly(){return Ld.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const IU=/^c[^\s-]{8,}$/i,kU=/^[0-9a-z]+$/,DU=/^[0-9A-HJKMNP-TV-Z]{26}$/i,OU=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,jU=/^[a-z0-9_-]{21}$/i,MU=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,PU=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,LU=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,VU="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let nv;const UU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,BU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,zU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,FU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,HU=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,qU=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,fR="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$U=new RegExp(`^${fR}$`);function hR(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function GU(n){return new RegExp(`^${hR(n)}$`)}function mR(n){let e=`${fR}T${hR(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function YU(n,e){return!!((e==="v4"||!e)&&UU.test(n)||(e==="v6"||!e)&&zU.test(n))}function KU(n,e){if(!MU.test(n))return!1;try{const[t]=n.split("."),s=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||!a.typ||!a.alg||e&&a.alg!==e)}catch{return!1}}function QU(n,e){return!!((e==="v4"||!e)&&BU.test(n)||(e==="v6"||!e)&&FU.test(n))}class ls extends it{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Te.string){const o=this._getOrReturnCtx(e);return we(o,{code:me.invalid_type,expected:Te.string,received:o.parsedType}),Ke}const s=new lr;let a;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(a=this._getOrReturnCtx(e,a),we(a,{code:me.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),s.dirty());else if(o.kind==="max")e.data.length>o.value&&(a=this._getOrReturnCtx(e,a),we(a,{code:me.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),s.dirty());else if(o.kind==="length"){const c=e.data.length>o.value,d=e.data.length<o.value;(c||d)&&(a=this._getOrReturnCtx(e,a),c?we(a,{code:me.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):d&&we(a,{code:me.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),s.dirty())}else if(o.kind==="email")LU.test(e.data)||(a=this._getOrReturnCtx(e,a),we(a,{validation:"email",code:me.invalid_string,message:o.message}),s.dirty());else if(o.kind==="emoji")nv||(nv=new RegExp(VU,"u")),nv.test(e.data)||(a=this._getOrReturnCtx(e,a),we(a,{validation:"emoji",code:me.invalid_string,message:o.message}),s.dirty());else if(o.kind==="uuid")OU.test(e.data)||(a=this._getOrReturnCtx(e,a),we(a,{validation:"uuid",code:me.invalid_string,message:o.message}),s.dirty());else if(o.kind==="nanoid")jU.test(e.data)||(a=this._getOrReturnCtx(e,a),we(a,{validation:"nanoid",code:me.invalid_string,message:o.message}),s.dirty());else if(o.kind==="cuid")IU.test(e.data)||(a=this._getOrReturnCtx(e,a),we(a,{validation:"cuid",code:me.invalid_string,message:o.message}),s.dirty());else if(o.kind==="cuid2")kU.test(e.data)||(a=this._getOrReturnCtx(e,a),we(a,{validation:"cuid2",code:me.invalid_string,message:o.message}),s.dirty());else if(o.kind==="ulid")DU.test(e.data)||(a=this._getOrReturnCtx(e,a),we(a,{validation:"ulid",code:me.invalid_string,message:o.message}),s.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),we(a,{validation:"url",code:me.invalid_string,message:o.message}),s.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),we(a,{validation:"regex",code:me.invalid_string,message:o.message}),s.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(a=this._getOrReturnCtx(e,a),we(a,{code:me.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),s.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(a=this._getOrReturnCtx(e,a),we(a,{code:me.invalid_string,validation:{startsWith:o.value},message:o.message}),s.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(a=this._getOrReturnCtx(e,a),we(a,{code:me.invalid_string,validation:{endsWith:o.value},message:o.message}),s.dirty()):o.kind==="datetime"?mR(o).test(e.data)||(a=this._getOrReturnCtx(e,a),we(a,{code:me.invalid_string,validation:"datetime",message:o.message}),s.dirty()):o.kind==="date"?$U.test(e.data)||(a=this._getOrReturnCtx(e,a),we(a,{code:me.invalid_string,validation:"date",message:o.message}),s.dirty()):o.kind==="time"?GU(o).test(e.data)||(a=this._getOrReturnCtx(e,a),we(a,{code:me.invalid_string,validation:"time",message:o.message}),s.dirty()):o.kind==="duration"?PU.test(e.data)||(a=this._getOrReturnCtx(e,a),we(a,{validation:"duration",code:me.invalid_string,message:o.message}),s.dirty()):o.kind==="ip"?YU(e.data,o.version)||(a=this._getOrReturnCtx(e,a),we(a,{validation:"ip",code:me.invalid_string,message:o.message}),s.dirty()):o.kind==="jwt"?KU(e.data,o.alg)||(a=this._getOrReturnCtx(e,a),we(a,{validation:"jwt",code:me.invalid_string,message:o.message}),s.dirty()):o.kind==="cidr"?QU(e.data,o.version)||(a=this._getOrReturnCtx(e,a),we(a,{validation:"cidr",code:me.invalid_string,message:o.message}),s.dirty()):o.kind==="base64"?HU.test(e.data)||(a=this._getOrReturnCtx(e,a),we(a,{validation:"base64",code:me.invalid_string,message:o.message}),s.dirty()):o.kind==="base64url"?qU.test(e.data)||(a=this._getOrReturnCtx(e,a),we(a,{validation:"base64url",code:me.invalid_string,message:o.message}),s.dirty()):St.assertNever(o);return{status:s.value,value:e.data}}_regex(e,t,s){return this.refinement(a=>e.test(a),{validation:t,code:me.invalid_string,...je.errToObj(s)})}_addCheck(e){return new ls({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...je.errToObj(e)})}url(e){return this._addCheck({kind:"url",...je.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...je.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...je.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...je.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...je.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...je.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...je.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...je.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...je.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...je.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...je.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...je.errToObj(e)})}datetime(e){var t,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(s=e==null?void 0:e.local)!==null&&s!==void 0?s:!1,...je.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...je.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...je.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...je.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...je.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...je.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...je.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...je.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...je.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...je.errToObj(t)})}nonempty(e){return this.min(1,je.errToObj(e))}trim(){return new ls({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ls({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ls({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}ls.create=n=>{var e;return new ls({checks:[],typeName:Ge.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...rt(n)})};function ZU(n,e){const t=(n.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,a=t>s?t:s,o=parseInt(n.toFixed(a).replace(".","")),c=parseInt(e.toFixed(a).replace(".",""));return o%c/Math.pow(10,a)}class Ya extends it{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Te.number){const o=this._getOrReturnCtx(e);return we(o,{code:me.invalid_type,expected:Te.number,received:o.parsedType}),Ke}let s;const a=new lr;for(const o of this._def.checks)o.kind==="int"?St.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),we(s,{code:me.invalid_type,expected:"integer",received:"float",message:o.message}),a.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(s=this._getOrReturnCtx(e,s),we(s,{code:me.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(s=this._getOrReturnCtx(e,s),we(s,{code:me.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="multipleOf"?ZU(e.data,o.value)!==0&&(s=this._getOrReturnCtx(e,s),we(s,{code:me.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),we(s,{code:me.not_finite,message:o.message}),a.dirty()):St.assertNever(o);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,je.toString(t))}gt(e,t){return this.setLimit("min",e,!1,je.toString(t))}lte(e,t){return this.setLimit("max",e,!0,je.toString(t))}lt(e,t){return this.setLimit("max",e,!1,je.toString(t))}setLimit(e,t,s,a){return new Ya({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:je.toString(a)}]})}_addCheck(e){return new Ya({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:je.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:je.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:je.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:je.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:je.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:je.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:je.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:je.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:je.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&St.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(t===null||s.value>t)&&(t=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Ya.create=n=>new Ya({checks:[],typeName:Ge.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...rt(n)});class Ka extends it{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Te.bigint)return this._getInvalidInput(e);let s;const a=new lr;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(s=this._getOrReturnCtx(e,s),we(s,{code:me.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(s=this._getOrReturnCtx(e,s),we(s,{code:me.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),we(s,{code:me.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):St.assertNever(o);return{status:a.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return we(t,{code:me.invalid_type,expected:Te.bigint,received:t.parsedType}),Ke}gte(e,t){return this.setLimit("min",e,!0,je.toString(t))}gt(e,t){return this.setLimit("min",e,!1,je.toString(t))}lte(e,t){return this.setLimit("max",e,!0,je.toString(t))}lt(e,t){return this.setLimit("max",e,!1,je.toString(t))}setLimit(e,t,s,a){return new Ka({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:je.toString(a)}]})}_addCheck(e){return new Ka({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:je.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:je.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:je.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:je.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:je.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ka.create=n=>{var e;return new Ka({checks:[],typeName:Ge.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...rt(n)})};class Ad extends it{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Te.boolean){const s=this._getOrReturnCtx(e);return we(s,{code:me.invalid_type,expected:Te.boolean,received:s.parsedType}),Ke}return yr(e.data)}}Ad.create=n=>new Ad({typeName:Ge.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...rt(n)});class Zo extends it{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Te.date){const o=this._getOrReturnCtx(e);return we(o,{code:me.invalid_type,expected:Te.date,received:o.parsedType}),Ke}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return we(o,{code:me.invalid_date}),Ke}const s=new lr;let a;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(a=this._getOrReturnCtx(e,a),we(a,{code:me.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),s.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(a=this._getOrReturnCtx(e,a),we(a,{code:me.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),s.dirty()):St.assertNever(o);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Zo({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:je.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:je.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Zo.create=n=>new Zo({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:Ge.ZodDate,...rt(n)});class zm extends it{_parse(e){if(this._getType(e)!==Te.symbol){const s=this._getOrReturnCtx(e);return we(s,{code:me.invalid_type,expected:Te.symbol,received:s.parsedType}),Ke}return yr(e.data)}}zm.create=n=>new zm({typeName:Ge.ZodSymbol,...rt(n)});class Cd extends it{_parse(e){if(this._getType(e)!==Te.undefined){const s=this._getOrReturnCtx(e);return we(s,{code:me.invalid_type,expected:Te.undefined,received:s.parsedType}),Ke}return yr(e.data)}}Cd.create=n=>new Cd({typeName:Ge.ZodUndefined,...rt(n)});class Rd extends it{_parse(e){if(this._getType(e)!==Te.null){const s=this._getOrReturnCtx(e);return we(s,{code:me.invalid_type,expected:Te.null,received:s.parsedType}),Ke}return yr(e.data)}}Rd.create=n=>new Rd({typeName:Ge.ZodNull,...rt(n)});class Ac extends it{constructor(){super(...arguments),this._any=!0}_parse(e){return yr(e.data)}}Ac.create=n=>new Ac({typeName:Ge.ZodAny,...rt(n)});class Vo extends it{constructor(){super(...arguments),this._unknown=!0}_parse(e){return yr(e.data)}}Vo.create=n=>new Vo({typeName:Ge.ZodUnknown,...rt(n)});class qi extends it{_parse(e){const t=this._getOrReturnCtx(e);return we(t,{code:me.invalid_type,expected:Te.never,received:t.parsedType}),Ke}}qi.create=n=>new qi({typeName:Ge.ZodNever,...rt(n)});class Fm extends it{_parse(e){if(this._getType(e)!==Te.undefined){const s=this._getOrReturnCtx(e);return we(s,{code:me.invalid_type,expected:Te.void,received:s.parsedType}),Ke}return yr(e.data)}}Fm.create=n=>new Fm({typeName:Ge.ZodVoid,...rt(n)});class us extends it{_parse(e){const{ctx:t,status:s}=this._processInputParams(e),a=this._def;if(t.parsedType!==Te.array)return we(t,{code:me.invalid_type,expected:Te.array,received:t.parsedType}),Ke;if(a.exactLength!==null){const c=t.data.length>a.exactLength.value,d=t.data.length<a.exactLength.value;(c||d)&&(we(t,{code:c?me.too_big:me.too_small,minimum:d?a.exactLength.value:void 0,maximum:c?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&t.data.length<a.minLength.value&&(we(t,{code:me.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&t.data.length>a.maxLength.value&&(we(t,{code:me.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),t.common.async)return Promise.all([...t.data].map((c,d)=>a.type._parseAsync(new Zs(t,c,t.path,d)))).then(c=>lr.mergeArray(s,c));const o=[...t.data].map((c,d)=>a.type._parseSync(new Zs(t,c,t.path,d)));return lr.mergeArray(s,o)}get element(){return this._def.type}min(e,t){return new us({...this._def,minLength:{value:e,message:je.toString(t)}})}max(e,t){return new us({...this._def,maxLength:{value:e,message:je.toString(t)}})}length(e,t){return new us({...this._def,exactLength:{value:e,message:je.toString(t)}})}nonempty(e){return this.min(1,e)}}us.create=(n,e)=>new us({type:n,minLength:null,maxLength:null,exactLength:null,typeName:Ge.ZodArray,...rt(e)});function Wl(n){if(n instanceof rn){const e={};for(const t in n.shape){const s=n.shape[t];e[t]=Gs.create(Wl(s))}return new rn({...n._def,shape:()=>e})}else return n instanceof us?new us({...n._def,type:Wl(n.element)}):n instanceof Gs?Gs.create(Wl(n.unwrap())):n instanceof Za?Za.create(Wl(n.unwrap())):n instanceof Ws?Ws.create(n.items.map(e=>Wl(e))):n}class rn extends it{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=St.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Te.object){const p=this._getOrReturnCtx(e);return we(p,{code:me.invalid_type,expected:Te.object,received:p.parsedType}),Ke}const{status:s,ctx:a}=this._processInputParams(e),{shape:o,keys:c}=this._getCached(),d=[];if(!(this._def.catchall instanceof qi&&this._def.unknownKeys==="strip"))for(const p in a.data)c.includes(p)||d.push(p);const m=[];for(const p of c){const v=o[p],b=a.data[p];m.push({key:{status:"valid",value:p},value:v._parse(new Zs(a,b,a.path,p)),alwaysSet:p in a.data})}if(this._def.catchall instanceof qi){const p=this._def.unknownKeys;if(p==="passthrough")for(const v of d)m.push({key:{status:"valid",value:v},value:{status:"valid",value:a.data[v]}});else if(p==="strict")d.length>0&&(we(a,{code:me.unrecognized_keys,keys:d}),s.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const v of d){const b=a.data[v];m.push({key:{status:"valid",value:v},value:p._parse(new Zs(a,b,a.path,v)),alwaysSet:v in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const p=[];for(const v of m){const b=await v.key,x=await v.value;p.push({key:b,value:x,alwaysSet:v.alwaysSet})}return p}).then(p=>lr.mergeObjectSync(s,p)):lr.mergeObjectSync(s,m)}get shape(){return this._def.shape()}strict(e){return je.errToObj,new rn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,s)=>{var a,o,c,d;const m=(c=(o=(a=this._def).errorMap)===null||o===void 0?void 0:o.call(a,t,s).message)!==null&&c!==void 0?c:s.defaultError;return t.code==="unrecognized_keys"?{message:(d=je.errToObj(e).message)!==null&&d!==void 0?d:m}:{message:m}}}:{}})}strip(){return new rn({...this._def,unknownKeys:"strip"})}passthrough(){return new rn({...this._def,unknownKeys:"passthrough"})}extend(e){return new rn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new rn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ge.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new rn({...this._def,catchall:e})}pick(e){const t={};return St.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(t[s]=this.shape[s])}),new rn({...this._def,shape:()=>t})}omit(e){const t={};return St.objectKeys(this.shape).forEach(s=>{e[s]||(t[s]=this.shape[s])}),new rn({...this._def,shape:()=>t})}deepPartial(){return Wl(this)}partial(e){const t={};return St.objectKeys(this.shape).forEach(s=>{const a=this.shape[s];e&&!e[s]?t[s]=a:t[s]=a.optional()}),new rn({...this._def,shape:()=>t})}required(e){const t={};return St.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])t[s]=this.shape[s];else{let o=this.shape[s];for(;o instanceof Gs;)o=o._def.innerType;t[s]=o}}),new rn({...this._def,shape:()=>t})}keyof(){return pR(St.objectKeys(this.shape))}}rn.create=(n,e)=>new rn({shape:()=>n,unknownKeys:"strip",catchall:qi.create(),typeName:Ge.ZodObject,...rt(e)});rn.strictCreate=(n,e)=>new rn({shape:()=>n,unknownKeys:"strict",catchall:qi.create(),typeName:Ge.ZodObject,...rt(e)});rn.lazycreate=(n,e)=>new rn({shape:n,unknownKeys:"strip",catchall:qi.create(),typeName:Ge.ZodObject,...rt(e)});class Nd extends it{_parse(e){const{ctx:t}=this._processInputParams(e),s=this._def.options;function a(o){for(const d of o)if(d.result.status==="valid")return d.result;for(const d of o)if(d.result.status==="dirty")return t.common.issues.push(...d.ctx.common.issues),d.result;const c=o.map(d=>new Lr(d.ctx.common.issues));return we(t,{code:me.invalid_union,unionErrors:c}),Ke}if(t.common.async)return Promise.all(s.map(async o=>{const c={...t,common:{...t.common,issues:[]},parent:null};return{result:await o._parseAsync({data:t.data,path:t.path,parent:c}),ctx:c}})).then(a);{let o;const c=[];for(const m of s){const p={...t,common:{...t.common,issues:[]},parent:null},v=m._parseSync({data:t.data,path:t.path,parent:p});if(v.status==="valid")return v;v.status==="dirty"&&!o&&(o={result:v,ctx:p}),p.common.issues.length&&c.push(p.common.issues)}if(o)return t.common.issues.push(...o.ctx.common.issues),o.result;const d=c.map(m=>new Lr(m));return we(t,{code:me.invalid_union,unionErrors:d}),Ke}}get options(){return this._def.options}}Nd.create=(n,e)=>new Nd({options:n,typeName:Ge.ZodUnion,...rt(e)});const Ci=n=>n instanceof Dd?Ci(n.schema):n instanceof gs?Ci(n.innerType()):n instanceof Od?[n.value]:n instanceof Qa?n.options:n instanceof jd?St.objectValues(n.enum):n instanceof Md?Ci(n._def.innerType):n instanceof Cd?[void 0]:n instanceof Rd?[null]:n instanceof Gs?[void 0,...Ci(n.unwrap())]:n instanceof Za?[null,...Ci(n.unwrap())]:n instanceof C_||n instanceof Ld?Ci(n.unwrap()):n instanceof Pd?Ci(n._def.innerType):[];class Ap extends it{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Te.object)return we(t,{code:me.invalid_type,expected:Te.object,received:t.parsedType}),Ke;const s=this.discriminator,a=t.data[s],o=this.optionsMap.get(a);return o?t.common.async?o._parseAsync({data:t.data,path:t.path,parent:t}):o._parseSync({data:t.data,path:t.path,parent:t}):(we(t,{code:me.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),Ke)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,s){const a=new Map;for(const o of t){const c=Ci(o.shape[e]);if(!c.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const d of c){if(a.has(d))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(d)}`);a.set(d,o)}}return new Ap({typeName:Ge.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:a,...rt(s)})}}function e0(n,e){const t=Ri(n),s=Ri(e);if(n===e)return{valid:!0,data:n};if(t===Te.object&&s===Te.object){const a=St.objectKeys(e),o=St.objectKeys(n).filter(d=>a.indexOf(d)!==-1),c={...n,...e};for(const d of o){const m=e0(n[d],e[d]);if(!m.valid)return{valid:!1};c[d]=m.data}return{valid:!0,data:c}}else if(t===Te.array&&s===Te.array){if(n.length!==e.length)return{valid:!1};const a=[];for(let o=0;o<n.length;o++){const c=n[o],d=e[o],m=e0(c,d);if(!m.valid)return{valid:!1};a.push(m.data)}return{valid:!0,data:a}}else return t===Te.date&&s===Te.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Id extends it{_parse(e){const{status:t,ctx:s}=this._processInputParams(e),a=(o,c)=>{if(Xv(o)||Xv(c))return Ke;const d=e0(o.value,c.value);return d.valid?((Jv(o)||Jv(c))&&t.dirty(),{status:t.value,value:d.data}):(we(s,{code:me.invalid_intersection_types}),Ke)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([o,c])=>a(o,c)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Id.create=(n,e,t)=>new Id({left:n,right:e,typeName:Ge.ZodIntersection,...rt(t)});class Ws extends it{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==Te.array)return we(s,{code:me.invalid_type,expected:Te.array,received:s.parsedType}),Ke;if(s.data.length<this._def.items.length)return we(s,{code:me.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ke;!this._def.rest&&s.data.length>this._def.items.length&&(we(s,{code:me.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const o=[...s.data].map((c,d)=>{const m=this._def.items[d]||this._def.rest;return m?m._parse(new Zs(s,c,s.path,d)):null}).filter(c=>!!c);return s.common.async?Promise.all(o).then(c=>lr.mergeArray(t,c)):lr.mergeArray(t,o)}get items(){return this._def.items}rest(e){return new Ws({...this._def,rest:e})}}Ws.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ws({items:n,typeName:Ge.ZodTuple,rest:null,...rt(e)})};class kd extends it{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==Te.object)return we(s,{code:me.invalid_type,expected:Te.object,received:s.parsedType}),Ke;const a=[],o=this._def.keyType,c=this._def.valueType;for(const d in s.data)a.push({key:o._parse(new Zs(s,d,s.path,d)),value:c._parse(new Zs(s,s.data[d],s.path,d)),alwaysSet:d in s.data});return s.common.async?lr.mergeObjectAsync(t,a):lr.mergeObjectSync(t,a)}get element(){return this._def.valueType}static create(e,t,s){return t instanceof it?new kd({keyType:e,valueType:t,typeName:Ge.ZodRecord,...rt(s)}):new kd({keyType:ls.create(),valueType:e,typeName:Ge.ZodRecord,...rt(t)})}}class Hm extends it{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==Te.map)return we(s,{code:me.invalid_type,expected:Te.map,received:s.parsedType}),Ke;const a=this._def.keyType,o=this._def.valueType,c=[...s.data.entries()].map(([d,m],p)=>({key:a._parse(new Zs(s,d,s.path,[p,"key"])),value:o._parse(new Zs(s,m,s.path,[p,"value"]))}));if(s.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const m of c){const p=await m.key,v=await m.value;if(p.status==="aborted"||v.status==="aborted")return Ke;(p.status==="dirty"||v.status==="dirty")&&t.dirty(),d.set(p.value,v.value)}return{status:t.value,value:d}})}else{const d=new Map;for(const m of c){const p=m.key,v=m.value;if(p.status==="aborted"||v.status==="aborted")return Ke;(p.status==="dirty"||v.status==="dirty")&&t.dirty(),d.set(p.value,v.value)}return{status:t.value,value:d}}}}Hm.create=(n,e,t)=>new Hm({valueType:e,keyType:n,typeName:Ge.ZodMap,...rt(t)});class Wo extends it{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==Te.set)return we(s,{code:me.invalid_type,expected:Te.set,received:s.parsedType}),Ke;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(we(s,{code:me.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(we(s,{code:me.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());const o=this._def.valueType;function c(m){const p=new Set;for(const v of m){if(v.status==="aborted")return Ke;v.status==="dirty"&&t.dirty(),p.add(v.value)}return{status:t.value,value:p}}const d=[...s.data.values()].map((m,p)=>o._parse(new Zs(s,m,s.path,p)));return s.common.async?Promise.all(d).then(m=>c(m)):c(d)}min(e,t){return new Wo({...this._def,minSize:{value:e,message:je.toString(t)}})}max(e,t){return new Wo({...this._def,maxSize:{value:e,message:je.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Wo.create=(n,e)=>new Wo({valueType:n,minSize:null,maxSize:null,typeName:Ge.ZodSet,...rt(e)});class oc extends it{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Te.function)return we(t,{code:me.invalid_type,expected:Te.function,received:t.parsedType}),Ke;function s(d,m){return Um({data:d,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Vm(),Sc].filter(p=>!!p),issueData:{code:me.invalid_arguments,argumentsError:m}})}function a(d,m){return Um({data:d,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Vm(),Sc].filter(p=>!!p),issueData:{code:me.invalid_return_type,returnTypeError:m}})}const o={errorMap:t.common.contextualErrorMap},c=t.data;if(this._def.returns instanceof Cc){const d=this;return yr(async function(...m){const p=new Lr([]),v=await d._def.args.parseAsync(m,o).catch(S=>{throw p.addIssue(s(m,S)),p}),b=await Reflect.apply(c,this,v);return await d._def.returns._def.type.parseAsync(b,o).catch(S=>{throw p.addIssue(a(b,S)),p})})}else{const d=this;return yr(function(...m){const p=d._def.args.safeParse(m,o);if(!p.success)throw new Lr([s(m,p.error)]);const v=Reflect.apply(c,this,p.data),b=d._def.returns.safeParse(v,o);if(!b.success)throw new Lr([a(v,b.error)]);return b.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new oc({...this._def,args:Ws.create(e).rest(Vo.create())})}returns(e){return new oc({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,s){return new oc({args:e||Ws.create([]).rest(Vo.create()),returns:t||Vo.create(),typeName:Ge.ZodFunction,...rt(s)})}}class Dd extends it{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Dd.create=(n,e)=>new Dd({getter:n,typeName:Ge.ZodLazy,...rt(e)});class Od extends it{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return we(t,{received:t.data,code:me.invalid_literal,expected:this._def.value}),Ke}return{status:"valid",value:e.data}}get value(){return this._def.value}}Od.create=(n,e)=>new Od({value:n,typeName:Ge.ZodLiteral,...rt(e)});function pR(n,e){return new Qa({values:n,typeName:Ge.ZodEnum,...rt(e)})}class Qa extends it{constructor(){super(...arguments),sd.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),s=this._def.values;return we(t,{expected:St.joinValues(s),received:t.parsedType,code:me.invalid_type}),Ke}if(Bm(this,sd)||dR(this,sd,new Set(this._def.values)),!Bm(this,sd).has(e.data)){const t=this._getOrReturnCtx(e),s=this._def.values;return we(t,{received:t.data,code:me.invalid_enum_value,options:s}),Ke}return yr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Qa.create(e,{...this._def,...t})}exclude(e,t=this._def){return Qa.create(this.options.filter(s=>!e.includes(s)),{...this._def,...t})}}sd=new WeakMap;Qa.create=pR;class jd extends it{constructor(){super(...arguments),id.set(this,void 0)}_parse(e){const t=St.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==Te.string&&s.parsedType!==Te.number){const a=St.objectValues(t);return we(s,{expected:St.joinValues(a),received:s.parsedType,code:me.invalid_type}),Ke}if(Bm(this,id)||dR(this,id,new Set(St.getValidEnumValues(this._def.values))),!Bm(this,id).has(e.data)){const a=St.objectValues(t);return we(s,{received:s.data,code:me.invalid_enum_value,options:a}),Ke}return yr(e.data)}get enum(){return this._def.values}}id=new WeakMap;jd.create=(n,e)=>new jd({values:n,typeName:Ge.ZodNativeEnum,...rt(e)});class Cc extends it{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Te.promise&&t.common.async===!1)return we(t,{code:me.invalid_type,expected:Te.promise,received:t.parsedType}),Ke;const s=t.parsedType===Te.promise?t.data:Promise.resolve(t.data);return yr(s.then(a=>this._def.type.parseAsync(a,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Cc.create=(n,e)=>new Cc({type:n,typeName:Ge.ZodPromise,...rt(e)});class gs extends it{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ge.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:s}=this._processInputParams(e),a=this._def.effect||null,o={addIssue:c=>{we(s,c),c.fatal?t.abort():t.dirty()},get path(){return s.path}};if(o.addIssue=o.addIssue.bind(o),a.type==="preprocess"){const c=a.transform(s.data,o);if(s.common.async)return Promise.resolve(c).then(async d=>{if(t.value==="aborted")return Ke;const m=await this._def.schema._parseAsync({data:d,path:s.path,parent:s});return m.status==="aborted"?Ke:m.status==="dirty"||t.value==="dirty"?Jl(m.value):m});{if(t.value==="aborted")return Ke;const d=this._def.schema._parseSync({data:c,path:s.path,parent:s});return d.status==="aborted"?Ke:d.status==="dirty"||t.value==="dirty"?Jl(d.value):d}}if(a.type==="refinement"){const c=d=>{const m=a.refinement(d,o);if(s.common.async)return Promise.resolve(m);if(m instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(s.common.async===!1){const d=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return d.status==="aborted"?Ke:(d.status==="dirty"&&t.dirty(),c(d.value),{status:t.value,value:d.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(d=>d.status==="aborted"?Ke:(d.status==="dirty"&&t.dirty(),c(d.value).then(()=>({status:t.value,value:d.value}))))}if(a.type==="transform")if(s.common.async===!1){const c=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Qo(c))return c;const d=a.transform(c.value,o);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:d}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(c=>Qo(c)?Promise.resolve(a.transform(c.value,o)).then(d=>({status:t.value,value:d})):c);St.assertNever(a)}}gs.create=(n,e,t)=>new gs({schema:n,typeName:Ge.ZodEffects,effect:e,...rt(t)});gs.createWithPreprocess=(n,e,t)=>new gs({schema:e,effect:{type:"preprocess",transform:n},typeName:Ge.ZodEffects,...rt(t)});class Gs extends it{_parse(e){return this._getType(e)===Te.undefined?yr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Gs.create=(n,e)=>new Gs({innerType:n,typeName:Ge.ZodOptional,...rt(e)});class Za extends it{_parse(e){return this._getType(e)===Te.null?yr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Za.create=(n,e)=>new Za({innerType:n,typeName:Ge.ZodNullable,...rt(e)});class Md extends it{_parse(e){const{ctx:t}=this._processInputParams(e);let s=t.data;return t.parsedType===Te.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Md.create=(n,e)=>new Md({innerType:n,typeName:Ge.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...rt(e)});class Pd extends it{_parse(e){const{ctx:t}=this._processInputParams(e),s={...t,common:{...t.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Sd(a)?a.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Lr(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Lr(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Pd.create=(n,e)=>new Pd({innerType:n,typeName:Ge.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...rt(e)});class qm extends it{_parse(e){if(this._getType(e)!==Te.nan){const s=this._getOrReturnCtx(e);return we(s,{code:me.invalid_type,expected:Te.nan,received:s.parsedType}),Ke}return{status:"valid",value:e.data}}}qm.create=n=>new qm({typeName:Ge.ZodNaN,...rt(n)});const WU=Symbol("zod_brand");class C_ extends it{_parse(e){const{ctx:t}=this._processInputParams(e),s=t.data;return this._def.type._parse({data:s,path:t.path,parent:t})}unwrap(){return this._def.type}}class af extends it{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?Ke:o.status==="dirty"?(t.dirty(),Jl(o.value)):this._def.out._parseAsync({data:o.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?Ke:a.status==="dirty"?(t.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(e,t){return new af({in:e,out:t,typeName:Ge.ZodPipeline})}}class Ld extends it{_parse(e){const t=this._def.innerType._parse(e),s=a=>(Qo(a)&&(a.value=Object.freeze(a.value)),a);return Sd(t)?t.then(a=>s(a)):s(t)}unwrap(){return this._def.innerType}}Ld.create=(n,e)=>new Ld({innerType:n,typeName:Ge.ZodReadonly,...rt(e)});function dS(n,e){const t=typeof n=="function"?n(e):typeof n=="string"?{message:n}:n;return typeof t=="string"?{message:t}:t}function gR(n,e={},t){return n?Ac.create().superRefine((s,a)=>{var o,c;const d=n(s);if(d instanceof Promise)return d.then(m=>{var p,v;if(!m){const b=dS(e,s),x=(v=(p=b.fatal)!==null&&p!==void 0?p:t)!==null&&v!==void 0?v:!0;a.addIssue({code:"custom",...b,fatal:x})}});if(!d){const m=dS(e,s),p=(c=(o=m.fatal)!==null&&o!==void 0?o:t)!==null&&c!==void 0?c:!0;a.addIssue({code:"custom",...m,fatal:p})}}):Ac.create()}const XU={object:rn.lazycreate};var Ge;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(Ge||(Ge={}));const JU=(n,e={message:`Input not instance of ${n.name}`})=>gR(t=>t instanceof n,e),yR=ls.create,vR=Ya.create,e5=qm.create,t5=Ka.create,_R=Ad.create,n5=Zo.create,r5=zm.create,s5=Cd.create,i5=Rd.create,a5=Ac.create,o5=Vo.create,l5=qi.create,c5=Fm.create,u5=us.create,d5=rn.create,f5=rn.strictCreate,h5=Nd.create,m5=Ap.create,p5=Id.create,g5=Ws.create,y5=kd.create,v5=Hm.create,_5=Wo.create,b5=oc.create,x5=Dd.create,w5=Od.create,E5=Qa.create,T5=jd.create,S5=Cc.create,fS=gs.create,A5=Gs.create,C5=Za.create,R5=gs.createWithPreprocess,N5=af.create,I5=()=>yR().optional(),k5=()=>vR().optional(),D5=()=>_R().optional(),O5={string:n=>ls.create({...n,coerce:!0}),number:n=>Ya.create({...n,coerce:!0}),boolean:n=>Ad.create({...n,coerce:!0}),bigint:n=>Ka.create({...n,coerce:!0}),date:n=>Zo.create({...n,coerce:!0})},j5=Ke;var as=Object.freeze({__proto__:null,defaultErrorMap:Sc,setErrorMap:RU,getErrorMap:Vm,makeIssue:Um,EMPTY_PATH:NU,addIssueToContext:we,ParseStatus:lr,INVALID:Ke,DIRTY:Jl,OK:yr,isAborted:Xv,isDirty:Jv,isValid:Qo,isAsync:Sd,get util(){return St},get objectUtil(){return Wv},ZodParsedType:Te,getParsedType:Ri,ZodType:it,datetimeRegex:mR,ZodString:ls,ZodNumber:Ya,ZodBigInt:Ka,ZodBoolean:Ad,ZodDate:Zo,ZodSymbol:zm,ZodUndefined:Cd,ZodNull:Rd,ZodAny:Ac,ZodUnknown:Vo,ZodNever:qi,ZodVoid:Fm,ZodArray:us,ZodObject:rn,ZodUnion:Nd,ZodDiscriminatedUnion:Ap,ZodIntersection:Id,ZodTuple:Ws,ZodRecord:kd,ZodMap:Hm,ZodSet:Wo,ZodFunction:oc,ZodLazy:Dd,ZodLiteral:Od,ZodEnum:Qa,ZodNativeEnum:jd,ZodPromise:Cc,ZodEffects:gs,ZodTransformer:gs,ZodOptional:Gs,ZodNullable:Za,ZodDefault:Md,ZodCatch:Pd,ZodNaN:qm,BRAND:WU,ZodBranded:C_,ZodPipeline:af,ZodReadonly:Ld,custom:gR,Schema:it,ZodSchema:it,late:XU,get ZodFirstPartyTypeKind(){return Ge},coerce:O5,any:a5,array:u5,bigint:t5,boolean:_R,date:n5,discriminatedUnion:m5,effect:fS,enum:E5,function:b5,instanceof:JU,intersection:p5,lazy:x5,literal:w5,map:v5,nan:e5,nativeEnum:T5,never:l5,null:i5,nullable:C5,number:vR,object:d5,oboolean:D5,onumber:k5,optional:A5,ostring:I5,pipeline:N5,preprocess:R5,promise:S5,record:y5,set:_5,strictObject:f5,string:yR,symbol:r5,transformer:fS,tuple:g5,undefined:s5,union:h5,unknown:o5,void:c5,NEVER:j5,ZodIssueCode:me,quotelessJson:CU,ZodError:Lr}),Mo={},rv={},hS;function mS(){return hS||(hS=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Allow=n.ALL=n.COLLECTION=n.ATOM=n.SPECIAL=n.INF=n._INFINITY=n.INFINITY=n.NAN=n.BOOL=n.NULL=n.OBJ=n.ARR=n.NUM=n.STR=void 0,n.STR=1,n.NUM=2,n.ARR=4,n.OBJ=8,n.NULL=16,n.BOOL=32,n.NAN=64,n.INFINITY=128,n._INFINITY=256,n.INF=n.INFINITY|n._INFINITY,n.SPECIAL=n.NULL|n.BOOL|n.INF|n.NAN,n.ATOM=n.STR|n.NUM|n.SPECIAL,n.COLLECTION=n.ARR|n.OBJ,n.ALL=n.ATOM|n.COLLECTION,n.Allow={STR:n.STR,NUM:n.NUM,ARR:n.ARR,OBJ:n.OBJ,NULL:n.NULL,BOOL:n.BOOL,NAN:n.NAN,INFINITY:n.INFINITY,_INFINITY:n._INFINITY,INF:n.INF,SPECIAL:n.SPECIAL,ATOM:n.ATOM,COLLECTION:n.COLLECTION,ALL:n.ALL},n.default=n.Allow}(rv)),rv}var pS;function M5(){return pS||(pS=1,function(n){var e=Mo&&Mo.__createBinding||(Object.create?function(p,v,b,x){x===void 0&&(x=b);var S=Object.getOwnPropertyDescriptor(v,b);(!S||("get"in S?!v.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return v[b]}}),Object.defineProperty(p,x,S)}:function(p,v,b,x){x===void 0&&(x=b),p[x]=v[b]}),t=Mo&&Mo.__exportStar||function(p,v){for(var b in p)b!=="default"&&!Object.prototype.hasOwnProperty.call(v,b)&&e(v,p,b)};Object.defineProperty(n,"__esModule",{value:!0}),n.Allow=n.MalformedJSON=n.PartialJSON=n.parseJSON=n.parse=void 0;const s=mS();Object.defineProperty(n,"Allow",{enumerable:!0,get:function(){return s.Allow}}),t(mS(),n);class a extends Error{}n.PartialJSON=a;class o extends Error{}n.MalformedJSON=o;function c(p,v=s.Allow.ALL){if(typeof p!="string")throw new TypeError(`expecting str, got ${typeof p}`);if(!p.trim())throw new Error(`${p} is empty`);return d(p.trim(),v)}n.parseJSON=c;const d=(p,v)=>{const b=p.length;let x=0;const S=F=>{throw new a(`${F} at position ${x}`)},R=F=>{throw new o(`${F} at position ${x}`)},C=()=>(q(),x>=b&&S("Unexpected end of input"),p[x]==='"'?N():p[x]==="{"?M():p[x]==="["?L():p.substring(x,x+4)==="null"||s.Allow.NULL&v&&b-x<4&&"null".startsWith(p.substring(x))?(x+=4,null):p.substring(x,x+4)==="true"||s.Allow.BOOL&v&&b-x<4&&"true".startsWith(p.substring(x))?(x+=4,!0):p.substring(x,x+5)==="false"||s.Allow.BOOL&v&&b-x<5&&"false".startsWith(p.substring(x))?(x+=5,!1):p.substring(x,x+8)==="Infinity"||s.Allow.INFINITY&v&&b-x<8&&"Infinity".startsWith(p.substring(x))?(x+=8,1/0):p.substring(x,x+9)==="-Infinity"||s.Allow._INFINITY&v&&1<b-x&&b-x<9&&"-Infinity".startsWith(p.substring(x))?(x+=9,-1/0):p.substring(x,x+3)==="NaN"||s.Allow.NAN&v&&b-x<3&&"NaN".startsWith(p.substring(x))?(x+=3,NaN):V()),N=()=>{const F=x;let Z=!1;for(x++;x<b&&(p[x]!=='"'||Z&&p[x-1]==="\\");)Z=p[x]==="\\"?!Z:!1,x++;if(p.charAt(x)=='"')try{return JSON.parse(p.substring(F,++x-Number(Z)))}catch(k){R(String(k))}else if(s.Allow.STR&v)try{return JSON.parse(p.substring(F,x-Number(Z))+'"')}catch{return JSON.parse(p.substring(F,p.lastIndexOf("\\"))+'"')}S("Unterminated string literal")},M=()=>{x++,q();const F={};try{for(;p[x]!=="}";){if(q(),x>=b&&s.Allow.OBJ&v)return F;const Z=N();q(),x++;try{const k=C();F[Z]=k}catch(k){if(s.Allow.OBJ&v)return F;throw k}q(),p[x]===","&&x++}}catch{if(s.Allow.OBJ&v)return F;S("Expected '}' at end of object")}return x++,F},L=()=>{x++;const F=[];try{for(;p[x]!=="]";)F.push(C()),q(),p[x]===","&&x++}catch{if(s.Allow.ARR&v)return F;S("Expected ']' at end of array")}return x++,F},V=()=>{if(x===0){p==="-"&&R("Not sure what '-' is");try{return JSON.parse(p)}catch(Z){if(s.Allow.NUM&v)try{return JSON.parse(p.substring(0,p.lastIndexOf("e")))}catch{}R(String(Z))}}const F=x;for(p[x]==="-"&&x++;p[x]&&",]}".indexOf(p[x])===-1;)x++;x==b&&!(s.Allow.NUM&v)&&S("Unterminated number literal");try{return JSON.parse(p.substring(F,x))}catch{p.substring(F,x)==="-"&&S("Not sure what '-' is");try{return JSON.parse(p.substring(F,p.lastIndexOf("e")))}catch(k){R(String(k))}}},q=()=>{for(;x<b&&` 
\r	`.includes(p[x]);)x++};return C()},m=c;n.parse=m}(Mo)),Mo}var gS=M5();const P5=as.object({id:as.union([as.string(),as.number()]).transform(n=>String(n)).optional(),Id:as.union([as.string(),as.number()]).transform(n=>String(n)).optional(),category:as.string().optional(),cat:as.string().optional()}).transform(n=>({id:n.id||n.Id||"",category:n.category||n.cat||""})),L5=as.object({transactions:as.array(P5)}),yS=n=>{try{let e=n.trim();e.startsWith("```json")?e=e.replace(/^```json\s*/,"").replace(/\s*```$/,""):e.startsWith("```")&&(e=e.replace(/^```\s*/,"").replace(/\s*```$/,""));const t=gS.parse(e,gS.Allow.ALL);return{success:!0,data:L5.parse(t)}}catch(e){return{success:!1,error:e.message}}},V5=async(n,e,t,s,a,o,c=!1,d=null)=>{const b=`Please categorize the following transactions:

CSV Data:
${"Date,Description,Amount,Counterparty"+`
`+n.map(Z=>`"${Z.date.toISOString()}","${Z.description}","${Z.amount}","${Z.counterparty||""}"`).join(`
`)}`,x={messages:[{content:e,role:"system"},{content:b,role:"user"}],model:"doubao-seed-1-6-flash-250615",stream:!0,thinking:{type:c?"enabled":"disabled"}},S={"Content-Type":"application/json",Authorization:`Bearer ${t}`};d&&d({url:"https://ark.cn-beijing.volces.com/api/v3/chat/completions",method:"POST",headers:S,body:x});const R=await fetch("https://ark.cn-beijing.volces.com/api/v3/chat/completions",{method:"POST",headers:S,body:JSON.stringify(x),signal:o});if(!R.ok)throw new Error(`API request failed: ${R.status} ${R.statusText}`);const C=R.body.getReader(),N=new TextDecoder;let M="",L="",V="",q=null;for(;;){const{done:Z,value:k}=await C.read();if(Z)break;M+=N.decode(k,{stream:!0});const A=M.split(`
`);M=A.pop();for(const O of A)if(O.startsWith("data: ")){const B=O.slice(6).trim();if(B==="[DONE]")continue;try{const D=JSON.parse(B);if(D.choices&&D.choices[0]){const U=D.choices[0],P=U.delta;if(P&&P.content){const te=P.content;L+=te}if(P&&P.reasoning_content&&(V+=P.reasoning_content),U.finish_reason&&(q=U.finish_reason),s({content:L,reasoningContent:V,finishReason:q,rawDelta:P,rawChoice:U}),L){const te=yS(L);te.success&&a(te.data)}}}catch(D){console.warn("Failed to parse streaming data:",D)}}}const F=yS(L);if(F.success)return{...F.data,reasoningContent:V,finishReason:q};throw new Error(`Failed to parse final response: ${F.error}`)},Zu=[{id:"alipay",name:"Alipay",icon:WS,sampleFields:["交易时间","交易分类","交易对方","商品说明","收/支","金额","支付方式","当前状态"],encoding:"GB2312",currency:"CNY"},{id:"wechat",name:"WeChat Pay",icon:JD,sampleFields:["交易时间","交易类型","交易对方","商品","收/支","金额(元)","支付方式","当前状态"],encoding:"UTF-8",currency:"CNY"},{id:"llm",name:"Generic (AI Powered)",icon:QS,sampleFields:["Any CSV, TXT, or PDF file"],encoding:"Auto-detect",currency:"Auto-detect"}];function U5({debugModeEnabled:n,thinkingModeEnabled:e}){var ti,Xr,Hn,no;const{currentUser:t}=cr(),{currentLedger:s,canEdit:a}=Js(),[o,c]=w.useState(""),[d,m]=w.useState(null),[p,v]=w.useState(!1),[b,x]=w.useState(0),[S,R]=w.useState(null),[C,N]=w.useState([]),[M,L]=w.useState(""),[V,q]=w.useState(""),[F,Z]=w.useState(!1),[k,A]=w.useState(""),[O,B]=w.useState(""),[D,U]=w.useState([]),[P,G]=w.useState([]),[te,$]=w.useState(!1),[X,K]=w.useState(""),[pe,z]=w.useState(""),[ie,he]=w.useState(""),[oe,_e]=w.useState(null),[Ue,Ce]=w.useState(!1),ge=w.useRef(null),Me=async()=>{if(t)try{const be=Qt(Fe,"users",t.uid),xe=await gp(be);if(xe.exists()){const ye=xe.data();if(Z(ye.smartCategorizationEnabled||!1),A(ye.llmApiKey||""),s&&C.length>0){const Ve=C.filter(_t=>_t.type==="expense"),Ae=C.filter(_t=>_t.type==="income"),bt=`You are a financial-data assistant. I will provide you with a CSV file of transactions containing at least the following columns: Date, Description, Amount.  Response in JSON and say nothing else:

1. For each row, determine whether it is an **expense** or an **income**.   

2. Assign each transaction to one of the following **Expense** or **Income** categories (or to a special category if needed):

   **Expense Categories**  
   ${Ve.map(_t=>`- ${_t.name}`).join("\\n")||"- HTT: (Hard To Tell) if you can't unambiguously assign one of the above"}

   **Income Categories**  
   ${Ae.map(_t=>`- ${_t.name}`).join("\\n")||"- HTT"}

   Use merchant names, keywords in the description, or amount signs to guide your choice.  

3. Output a single JSON object with this exact structure:

{
  "transactions": [
    {
      "id": "<self-increment id>",
      "category": "<one of the given categories: ${[...Ve,...Ae].map(_t=>_t.name).join(", ")}, HTT>"
    }
  ]
}

4.  Optionally, "corrections" showing prior mis-classifications I've corrected may be provided to guide this categorization `;B(bt)}}}catch(be){console.error("Error loading smart categorization settings:",be)}},ht=async()=>{if(s)try{const be=Kt(Fe,"ledgers",s.id,"categories"),xe=await Wn(be),ye=[];xe.forEach(Ve=>{ye.push({id:Ve.id,...Ve.data()})}),N(ye)}catch(be){console.error("Error fetching categories:",be)}},Qe=be=>{const xe=[];let ye=!1,Ve="";for(let Ae=0;Ae<be.length;Ae++){const bt=be[Ae];bt==='"'?ye=!ye:bt===","&&!ye?(xe.push(Ve.trim()),Ve=""):Ve+=bt}return xe.push(Ve.trim()),xe.map(Ae=>Ae.replace(/^"|"$/g,""))},Ze=be=>{const xe=be.split(`
`);let ye=-1;for(let Ae=0;Ae<xe.length;Ae++){const bt=xe[Ae].trim();if(bt.includes("交易时间")&&(bt.includes("交易分类")||bt.includes("收/支"))){ye=Ae+1;break}}if(ye===-1){for(let Ae=0;Ae<xe.length;Ae++)if(xe[Ae].trim().match(/^\d{4}-\d{2}-\d{2}\s+\d{2}:\d{2}:\d{2}/)){ye=Ae;break}}ye===-1&&(ye=23);const Ve=[];for(let Ae=ye;Ae<xe.length;Ae++){const bt=xe[Ae].trim();if(!bt)continue;const _t=Qe(bt);if(_t.length<6)continue;let Nt,It,Xe,Ot,hn,vn,_n,Ht,Mn;if(_t.length>=12)[Nt,It,Xe,Ot,hn,vn,_n,Ht,Mn]=_t;else if(_t.length>=8)[Nt,It,Xe,hn,vn,_n,Ht,Mn]=_t,Ot="";else continue;const ur=vn==="支出"?"expense":"income",vs=_n.toString().replace(/[^\d.-]/g,""),Pn=parseFloat(vs);if(isNaN(Pn))continue;const Vr=C.find(ni=>ni.name.toLowerCase().includes(It.toLowerCase())||It.toLowerCase().includes(ni.name.toLowerCase())),Tr=Xe?`Counterparty: ${Xe}`:"";Ve.push({id:Ae-ye+1,date:new Date(Nt),type:ur,amount:Math.abs(Pn),description:hn||"Unknown Transaction",notes:Tr,counterparty:Xe||"",categoryId:Vr?Vr.id:null,categoryName:Vr?Vr.name:It,paymentMethod:Ht||"Unknown",platform:"alipay",originalData:{category:It,counterparty:Xe,account:Ot,status:Mn}})}return Ve},Je=be=>{const xe=be.split(`
`);let ye=-1;for(let Ae=0;Ae<xe.length;Ae++){const bt=xe[Ae].trim();if(bt.includes("交易时间")&&(bt.includes("交易类型")||bt.includes("收/支"))){ye=Ae+1;break}}if(ye===-1){for(let Ae=0;Ae<xe.length;Ae++)if(xe[Ae].trim().match(/^\d{4}-\d{2}-\d{2}\s+\d{2}:\d{2}:\d{2}/)){ye=Ae;break}}ye===-1&&(ye=15);const Ve=[];for(let Ae=ye;Ae<xe.length;Ae++){const bt=xe[Ae].trim();if(!bt)continue;const _t=Qe(bt);if(_t.length<6)continue;let Nt,It,Xe,Ot,hn,vn,_n,Ht;if(_t.length>=11)[Nt,It,Xe,Ot,hn,vn,_n,Ht]=_t;else if(_t.length>=8)[Nt,It,Xe,Ot,hn,vn,_n,Ht]=_t;else continue;const Mn=hn==="支出"?"expense":"income",ur=vn.toString().replace(/[¥￥,\s]/g,"").replace(/[^\d.-]/g,""),vs=parseFloat(ur);if(isNaN(vs))continue;const Pn=C.find(Tr=>Tr.name.toLowerCase().includes(It.toLowerCase())||It.toLowerCase().includes(Tr.name.toLowerCase())),Vr=Xe?`Counterparty: ${Xe}`:"";Ve.push({id:Ae-ye+1,date:new Date(Nt),type:Mn,amount:Math.abs(vs),description:Ot||"Unknown Transaction",notes:Vr,counterparty:Xe||"",categoryId:Pn?Pn.id:null,categoryName:Pn?Pn.name:It,paymentMethod:_n||"Unknown",platform:"wechat",originalData:{transactionType:It,counterparty:Xe,status:Ht}})}return Ve},se=be=>{G(xe=>xe.map(ye=>{const Ve=be.transactions.find(Ae=>parseInt(Ae.id)===ye.id);if(Ve){const Ae=Ve.category||"HTT";return{...ye,llmCategory:Ae,llmProcessing:!1}}return ye}))},Ne=async be=>{var xe;try{K(""),z(""),he(""),_e(null);const ye=Nt=>{typeof Nt=="string"?K(Nt):(K(Nt.content||""),z(Nt.reasoningContent||""),he(Nt.finishReason||""))},Ve=Nt=>{se(Nt)},Ae=Nt=>{_e(Nt)},bt=await V5(be,O,k,ye,Ve,(xe=ge.current)==null?void 0:xe.signal,e||!1,Ae);se(bt);const _t=be.map(Nt=>{const It=bt.transactions.find(Xe=>parseInt(Xe.id)===Nt.id);if(It){const Xe=It.category||"HTT",Ot=C.find(hn=>hn.name.toLowerCase()===Xe.toLowerCase());return{...Nt,categoryId:Ot?Ot.id:null,categoryName:Ot?Ot.name:Xe,llmCategory:Xe,llmProcessing:!1}}return Nt});G(_t),Ce(!0)}catch(ye){ye.name==="AbortError"?L("LLM categorization was cancelled."):(console.error("LLM categorization error:",ye),L(`LLM categorization failed: ${ye.message}`),await Re(be))}finally{$(!1),v(!1)}},Re=async be=>{if(!s||!a())return;const xe=Kt(Fe,"ledgers",s.id,"transactions");let ye=0,Ve=0;const Ae=Er(xe),bt=await Wn(Ae),_t=new Set;bt.forEach(Xe=>{var vn,_n;const Ot=Xe.data(),hn=`${(_n=(vn=Ot.date)==null?void 0:vn.toDate())==null?void 0:_n.toISOString()}-${Ot.amount}-${Ot.description}`;_t.add(hn)});const Nt=500,It=[];for(let Xe=0;Xe<be.length;Xe+=Nt){const Ot=Uv(Fe),hn=be.slice(Xe,Xe+Nt);let vn=0,_n=0;for(const Ht of hn){const Mn=`${Ht.date.toISOString()}-${Ht.amount}-${Ht.description}`;if(_t.has(Mn)){_n++;continue}const ur=Qt(xe);Ot.set(ur,{date:$t.fromDate(Ht.date),type:Ht.type,amount:Ht.amount,description:Ht.description,notes:Ht.notes||"",categoryId:Ht.categoryId,categoryName:Ht.categoryName,paymentMethod:Ht.paymentMethod,includeInBudget:!0,platform:Ht.platform,originalData:Ht.originalData,createdAt:new Date,createdBy:t.uid,paidBy:t.uid}),vn++,_t.add(Mn)}vn>0?It.push({batch:Ot,imported:vn,skipped:_n}):Ve+=_n}for(let Xe=0;Xe<It.length;Xe++)try{await It[Xe].batch.commit(),ye+=It[Xe].imported,Ve+=It[Xe].skipped;const Ot=Math.round((Xe+1)/It.length*100);x(Ot)}catch(Ot){console.error("Error committing batch:",Ot),Ve+=It[Xe].imported}R({imported:ye,skipped:Ve})},Le=async be=>{const xe=be.target.files[0];if(xe){m(xe),v(!0),x(0),R(null),L(""),q(""),Ce(!1),ge.current=new AbortController;try{let ye=[];if(o==="alipay"){const Ve=await xe.arrayBuffer(),bt=new TextDecoder("gb2312").decode(Ve);ye=Ze(bt)}else if(o==="wechat"){const Ve=await xe.text();ye=Je(Ve)}else if(o==="llm")throw new Error("LLM parsing not yet implemented.");if(ye.length===0)throw new Error("No valid transactions found in the file.");U(ye),G(ye.map(Ve=>({...Ve,llmCategory:null,llmProcessing:!0}))),F&&k&&(o==="alipay"||o==="wechat")?($(!0),await Ne(ye)):(await Re(ye),q(`Successfully imported ${(S==null?void 0:S.imported)||0} transactions!`),v(!1))}catch(ye){console.error("Import error:",ye),L(`Import error: ${ye.message}`),v(!1),$(!1)}}},We=()=>{ge.current&&(ge.current.abort(),console.log("LLM processing cancelled."),$(!1),v(!1),L("LLM categorization cancelled by user."),Ce(!1))},An=async()=>{v(!0),Ce(!1),L(""),q("");try{await Re(P),q(`Successfully imported ${(S==null?void 0:S.imported)||0} transactions with AI categorization!`)}catch(be){console.error("Error confirming import:",be),L(`Import confirmation failed: ${be.message}`)}},At=()=>{Ce(!1),v(!1),G([]),U([]),m(null),L(""),q("Import cancelled.")},ct=async be=>{try{await navigator.clipboard.writeText(be)}catch(xe){console.error("Failed to copy text: ",xe)}},Jn=(be,xe)=>{G(ye=>ye.map(Ve=>{var Ae;return Ve.id===be?{...Ve,categoryId:xe==="uncategorized"?null:xe,categoryName:xe==="uncategorized"?"Uncategorized":((Ae=C.find(bt=>bt.id===xe))==null?void 0:Ae.name)||"HTT"}:Ve}))};if(w.useEffect(()=>{ht()},[s]),w.useEffect(()=>{C.length>0&&Me()},[t,s,C]),w.useEffect(()=>{if(V||M){const be=setTimeout(()=>{q(""),L("")},3e3);return()=>clearTimeout(be)}},[V,M]),!s)return h.jsx("div",{className:"p-6 text-center text-gray-500",children:"Please select a ledger to manage categories."});if(p)return h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:te?"Processing with Smart Categorization...":"Importing Transactions..."}),te&&h.jsxs(Oe,{variant:"outline",onClick:We,className:"flex items-center space-x-2",children:[h.jsx(lE,{className:"h-4 w-4"}),h.jsx("span",{children:"Cancel"})]})]}),P.length>0&&h.jsxs(pt,{children:[h.jsxs(Ct,{children:[h.jsx(Rt,{children:"Imported Transactions"}),h.jsx(Xt,{children:te?"AI is categorizing transactions...":"Processing transactions..."})]}),h.jsx(gt,{children:h.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:P.map((be,xe)=>h.jsxs("div",{className:"flex justify-between items-center p-2 border rounded",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"font-medium",children:be.description}),h.jsxs("div",{className:"text-sm text-gray-500",children:[be.date.toLocaleString()," • ",be.amount," CNY",be.counterparty&&` • ${be.counterparty}`]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx(Mr,{variant:be.type==="expense"?"destructive":"default",children:be.type}),te&&h.jsx("div",{className:"text-sm text-gray-500 mt-1",children:be.llmCategory||"Processing..."})]})]},xe))})})]}),te&&n&&h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[h.jsxs(pt,{children:[h.jsx(Ct,{children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx(Rt,{children:"AI Response Stream"}),h.jsx(Xt,{children:"Real-time categorization response from AI"})]}),h.jsx(Oe,{variant:"outline",size:"sm",onClick:()=>ct(X),className:"flex items-center space-x-1",children:h.jsx("span",{children:"Copy"})})]})}),h.jsx(gt,{children:h.jsxs("div",{className:"space-y-3",children:[X&&h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Content:"}),h.jsx("div",{className:"bg-gray-100 p-3 rounded text-sm font-mono max-h-40 overflow-y-auto",children:X})]}),pe&&h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Reasoning:"}),h.jsx("div",{className:"bg-blue-50 p-3 rounded text-sm font-mono max-h-40 overflow-y-auto",children:pe})]}),ie&&h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Finish Reason:"}),h.jsx("div",{className:"bg-green-50 p-2 rounded text-sm",children:ie})]})]})})]}),oe&&h.jsxs(pt,{children:[h.jsx(Ct,{children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx(Rt,{children:"Raw Request Debug"}),h.jsx(Xt,{children:"Full API request details"})]}),h.jsx(Oe,{variant:"outline",size:"sm",onClick:()=>ct(JSON.stringify(oe,null,2)),className:"flex items-center space-x-1",children:h.jsx("span",{children:"Copy"})})]})}),h.jsx(gt,{children:h.jsx("div",{className:"bg-gray-100 p-3 rounded text-sm font-mono max-h-96 overflow-y-auto",children:h.jsx("pre",{children:JSON.stringify(oe,null,2)})})})]})]}),!te&&h.jsxs(h.Fragment,{children:[h.jsx(Zv,{value:b,className:"w-full"}),h.jsxs("p",{className:"text-center text-gray-600",children:[b,"% Complete"]})]})]});if(Ue){const be=C.filter(ye=>ye.type==="expense"),xe=C.filter(ye=>ye.type==="income");return h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Review Categorization"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsxs(Oe,{variant:"outline",onClick:At,className:"flex items-center space-x-2",children:[h.jsx(lE,{className:"h-4 w-4"}),h.jsx("span",{children:"Cancel"})]}),h.jsxs(Oe,{onClick:An,className:"flex items-center space-x-2",children:[h.jsx(ec,{className:"h-4 w-4"}),h.jsx("span",{children:"Confirm Import"})]})]})]}),M&&h.jsxs(Jt,{variant:"destructive",children:[h.jsx(cm,{className:"h-4 w-4"}),h.jsx(en,{children:M})]}),h.jsxs(pt,{children:[h.jsxs(Ct,{children:[h.jsx(Rt,{children:"Categorized Transactions"}),h.jsx(Xt,{children:"Review and adjust the AI-suggested categories."})]}),h.jsx(gt,{children:h.jsx("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:P.map((ye,Ve)=>h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center p-3 border rounded-lg shadow-sm",children:[h.jsxs("div",{className:"flex-1 mb-2 md:mb-0",children:[h.jsx("div",{className:"font-medium text-lg",children:ye.description}),h.jsxs("div",{className:"text-sm text-gray-600",children:[ye.date.toLocaleString()," • ",ye.amount," CNY",ye.counterparty&&` • ${ye.counterparty}`]}),h.jsx(Mr,{variant:ye.type==="expense"?"destructive":"default",children:ye.type})]}),h.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center space-y-2 md:space-y-0 md:space-x-4",children:[h.jsxs("div",{className:"text-sm text-gray-700",children:["AI Suggestion: ",h.jsx("span",{className:"font-semibold",children:ye.llmCategory||"N/A"})]}),h.jsxs(Ps,{value:ye.categoryId&&C.find(Ae=>Ae.id===ye.categoryId)?ye.categoryId:"uncategorized",onValueChange:Ae=>Jn(ye.id,Ae),children:[h.jsx(Vs,{className:"w-[180px]",children:h.jsx(Ls,{placeholder:"Select Category"})}),h.jsxs(Us,{children:[h.jsx(On,{value:"uncategorized",children:"Uncategorized"}),ye.type==="expense"&&be.map(Ae=>h.jsx(On,{value:Ae.id,children:Ae.name},Ae.id)),ye.type==="income"&&xe.map(Ae=>h.jsx(On,{value:Ae.id,children:Ae.name},Ae.id))]})]})]})]},Ve))})})]}),n&&(X||pe||oe)&&h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(X||pe)&&h.jsxs(pt,{children:[h.jsx(Ct,{children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx(Rt,{children:"AI Response Stream (Debug)"}),h.jsx(Xt,{children:"Raw streaming response from AI during categorization."})]}),h.jsx(Oe,{variant:"outline",size:"sm",onClick:()=>ct(X+`

Reasoning:
`+pe),className:"flex items-center space-x-1",children:h.jsx("span",{children:"Copy"})})]})}),h.jsx(gt,{children:h.jsxs("div",{className:"space-y-3",children:[X&&h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Content:"}),h.jsx("div",{className:"bg-gray-100 p-3 rounded text-sm font-mono max-h-40 overflow-y-auto",children:X})]}),pe&&h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Reasoning:"}),h.jsx("div",{className:"bg-blue-50 p-3 rounded text-sm font-mono max-h-40 overflow-y-auto",children:pe})]}),ie&&h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Finish Reason:"}),h.jsx("div",{className:"bg-green-50 p-2 rounded text-sm",children:ie})]})]})})]}),oe&&h.jsxs(pt,{children:[h.jsx(Ct,{children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx(Rt,{children:"Raw Request Debug"}),h.jsx(Xt,{children:"Full API request details used for categorization."})]}),h.jsx(Oe,{variant:"outline",size:"sm",onClick:()=>ct(JSON.stringify(oe,null,2)),className:"flex items-center space-x-1",children:h.jsx("span",{children:"Copy"})})]})}),h.jsx(gt,{children:h.jsx("div",{className:"bg-gray-100 p-3 rounded text-sm font-mono max-h-96 overflow-y-auto",children:h.jsx("pre",{children:JSON.stringify(oe,null,2)})})})]})]})]})}return S?h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Import Complete!"}),h.jsxs(Jt,{variant:"default",children:[h.jsx(ec,{className:"h-4 w-4"}),h.jsxs(en,{children:["Successfully imported ",S.imported," transactions.",S.skipped>0&&` ${S.skipped} transactions skipped (duplicates or errors).`]})]}),h.jsx(Oe,{onClick:()=>R(null),children:"Import More"})]}):h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Import Transactions"}),M&&h.jsxs(Jt,{variant:"destructive",children:[h.jsx(cm,{className:"h-4 w-4"}),h.jsx(en,{children:M})]}),V&&h.jsxs(Jt,{children:[h.jsx(ec,{className:"h-4 w-4"}),h.jsx(en,{children:V})]}),F&&h.jsxs(Jt,{children:[h.jsx(QS,{className:"h-4 w-4"}),h.jsx(en,{children:"Smart Categorization is enabled. Transactions will be automatically categorized using AI."})]}),h.jsxs(pt,{children:[h.jsxs(Ct,{children:[h.jsx(Rt,{children:"Select Import Platform"}),h.jsx(Xt,{children:"Choose the platform you want to import transactions from."})]}),h.jsx(gt,{children:h.jsxs(Ps,{value:o,onValueChange:c,children:[h.jsx(Vs,{className:"w-[240px]",children:h.jsx(Ls,{placeholder:"Select a platform"})}),h.jsx(Us,{children:Zu.map(be=>h.jsx(On,{value:be.id,children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(be.icon,{className:"h-4 w-4"}),h.jsx("span",{children:be.name})]})},be.id))})]})})]}),o&&h.jsxs(pt,{children:[h.jsxs(Ct,{children:[h.jsxs(Rt,{children:["Upload ",(ti=Zu.find(be=>be.id===o))==null?void 0:ti.name," File"]}),h.jsxs(Xt,{children:["Upload your exported ",(Xr=Zu.find(be=>be.id===o))==null?void 0:Xr.name," CSV file. Ensure it's the correct format."]})]}),h.jsxs(gt,{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs(tt,{htmlFor:"file-upload",className:"cursor-pointer bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600",children:[h.jsx(e1,{className:"h-4 w-4 inline-block mr-2"})," Choose File"]}),h.jsx(an,{id:"file-upload",type:"file",className:"hidden",onChange:Le,accept:".csv,.txt"}),d&&h.jsx(Mr,{variant:"secondary",children:d.name})]}),h.jsxs("div",{className:"text-sm text-gray-500",children:[h.jsxs("p",{children:["Expected fields for ",(Hn=Zu.find(be=>be.id===o))==null?void 0:Hn.name,":"]}),h.jsx("ol",{className:"list-decimal list-inside",children:(no=Zu.find(be=>be.id===o))==null?void 0:no.sampleFields.map((be,xe)=>h.jsx("li",{children:be},xe))})]})]})]})]})}function B5({isMobileMenuOpen:n,setIsMobileMenuOpen:e}){const t=$i(),{currentUser:s,logout:a}=cr(),o=[{path:"/",label:"Dashboard",icon:zD},{path:"/transactions",label:"Transactions",icon:WS},{path:"/budgets",label:"Budgets",icon:ED},{path:"/categories",label:"Categories",icon:JS},{path:"/ledgers",label:"Ledgers",icon:lm},{path:"/splits",label:"Expense Splits",icon:r1},{path:"/import",label:"Import",icon:e1},{path:"/settings",label:"Settings",icon:OD}],c=async()=>{try{await a()}catch(d){console.error("Failed to log out:",d)}};return h.jsxs(h.Fragment,{children:[h.jsx("nav",{className:"hidden md:flex bg-white border-b border-gray-200 px-6 py-4",children:h.jsxs("div",{className:"flex items-center justify-between w-full",children:[h.jsxs("div",{className:"flex items-center space-x-8",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(cc,{className:"h-8 w-8 text-blue-600"}),h.jsx("span",{className:"text-xl font-bold text-gray-900",children:"ExpenseTracker"})]}),h.jsx("div",{className:"flex space-x-6",children:o.map(d=>{const m=d.icon,p=t.pathname===d.path;return h.jsxs(lc,{to:d.path,className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${p?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[h.jsx(m,{className:"h-4 w-4"}),h.jsx("span",{children:d.label})]},d.path)})})]}),s&&h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("span",{className:"text-sm text-gray-600",children:["Welcome, ",s.displayName||s.email]}),h.jsxs(Oe,{variant:"ghost",size:"sm",onClick:c,className:"flex items-center space-x-2",children:[h.jsx(cE,{className:"h-4 w-4"}),h.jsx("span",{children:"Logout"})]})]})]})}),h.jsxs("nav",{className:"md:hidden bg-white border-b border-gray-200",children:[h.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(cc,{className:"h-6 w-6 text-blue-600"}),h.jsx("span",{className:"text-lg font-bold text-gray-900",children:"ExpenseTracker"})]}),h.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>e(!n),children:n?h.jsx(hc,{className:"h-6 w-6"}):h.jsx($D,{className:"h-6 w-6"})})]}),n&&h.jsxs("div",{className:"border-t border-gray-200 px-4 py-4 space-y-2",children:[o.map(d=>{const m=d.icon,p=t.pathname===d.path;return h.jsxs(lc,{to:d.path,onClick:()=>e(!1),className:`flex items-center space-x-3 px-3 py-2 rounded-md text-sm font-medium transition-colors ${p?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[h.jsx(m,{className:"h-4 w-4"}),h.jsx("span",{children:d.label})]},d.path)}),s&&h.jsxs(Oe,{variant:"ghost",size:"sm",onClick:c,className:"flex items-center space-x-3 px-3 py-2 w-full justify-start",children:[h.jsx(cE,{className:"h-4 w-4"}),h.jsx("span",{children:"Logout"})]})]})]})]})}function z5(){return h.jsx(tU,{})}function F5(){return h.jsx(uU,{})}function H5(){return h.jsx(pU,{})}function q5(){return h.jsxs("div",{className:"p-6",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Expense Splits"}),h.jsxs(pt,{children:[h.jsxs(Ct,{children:[h.jsx(Rt,{children:"Split Expenses"}),h.jsx(Xt,{children:"Share expenses with friends and track balances"})]}),h.jsx(gt,{children:h.jsx("p",{className:"text-gray-600",children:"Expense splitting interface will be implemented here."})})]})]})}function $5({debugModeEnabled:n,thinkingModeEnabled:e}){return h.jsx(U5,{debugModeEnabled:n,thinkingModeEnabled:e})}function G5({smartCategorizationEnabled:n,setSmartCategorizationEnabled:e,debugModeEnabled:t,setDebugModeEnabled:s,thinkingModeEnabled:a,setThinkingModeEnabled:o}){return h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),h.jsx(_U,{}),h.jsx(AU,{smartCategorizationEnabled:n,setSmartCategorizationEnabled:e,debugModeEnabled:t,setDebugModeEnabled:s,thinkingModeEnabled:a,setThinkingModeEnabled:o}),h.jsxs(pt,{children:[h.jsxs(Ct,{children:[h.jsx(Rt,{children:"Application Preferences"}),h.jsx(Xt,{children:"Additional application settings will be available here"})]}),h.jsx(gt,{children:h.jsx("p",{className:"text-gray-600",children:"More settings options coming soon..."})})]})]})}function Y5(){const[n,e]=w.useState(!1),{currentUser:t}=cr(),[s,a]=w.useState(!1),[o,c]=w.useState(!1),[d,m]=w.useState(!1);return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t&&h.jsx(B5,{isMobileMenuOpen:n,setIsMobileMenuOpen:e}),h.jsx("main",{className:t?"max-w-7xl mx-auto":"",children:h.jsxs(qI,{children:[h.jsx(ss,{path:"/login",element:t?h.jsx(iv,{to:"/"}):h.jsx(I8,{})}),h.jsx(ss,{path:"/signup",element:t?h.jsx(iv,{to:"/"}):h.jsx(k8,{})}),h.jsx(ss,{path:"/",element:h.jsx(Ta,{children:h.jsx(F8,{})})}),h.jsx(ss,{path:"/transactions",element:h.jsx(Ta,{children:h.jsx(z5,{})})}),h.jsx(ss,{path:"/budgets",element:h.jsx(Ta,{children:h.jsx(F5,{})})}),h.jsx(ss,{path:"/categories",element:h.jsx(Ta,{children:h.jsx(H5,{})})}),h.jsx(ss,{path:"/ledgers",element:h.jsx(Ta,{children:h.jsx(vU,{})})}),h.jsx(ss,{path:"/splits",element:h.jsx(Ta,{children:h.jsx(q5,{})})}),h.jsx(ss,{path:"/import",element:h.jsx(Ta,{children:h.jsx($5,{debugModeEnabled:s,thinkingModeEnabled:d})})}),h.jsx(ss,{path:"/settings",element:h.jsx(Ta,{children:h.jsx(G5,{smartCategorizationEnabled:o,setSmartCategorizationEnabled:c,debugModeEnabled:s,setDebugModeEnabled:a,thinkingModeEnabled:d,setThinkingModeEnabled:m})})})]})})]})}function K5(){return h.jsx(mk,{children:h.jsx(E8,{children:h.jsx(T8,{children:h.jsx(Y5,{})})})})}JN.createRoot(document.getElementById("root")).render(h.jsx(w.StrictMode,{children:h.jsx(K5,{})}));
